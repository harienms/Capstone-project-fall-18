<!DOCTYPE html>
<!--
@license
Copyright 2016 The TensorFlow Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

@license
Copyright 2017 Google Inc. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
d3
Copyright 2010-2017 Mike Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the author nor the names of contributors may be used to
  endorse or promote products derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

@license
Copyright 2017 The TensorFlow Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

@license
Copyright 2018 The TensorFlow Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

@license
Plottable.js
Copyright (c) 2014-2017 Palantir Technologies, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
Dagre
Copyright (c) 2012-2014 Chris Pettitt

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
Graphlib
Copyright (c) 2012-2014 Chris Pettitt

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
three.js
Copyright (c) 2010-2013 three.js authors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
Numeric Javascript
Copyright (C) 2011 by Sébastien Loisel
Copyright (c) 2011 Alberto Santini <albertosantini@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
weblas
Copyright (c) 2015 Waylon Flinn

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

@license
Copyright 2017 Google Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><!-- Shady DOM styles for custom-style --><!-- Shady DOM styles for dom-template --><!-- Shady DOM styles for dom-repeat --><!-- Shady DOM styles for array-selector --><!-- Shady DOM styles for dom-if --><!-- Shady DOM styles for paper-ripple --><style scope="paper-ripple">paper-ripple {
  display: block;
        position: absolute;
        border-radius: inherit;
        overflow: hidden;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        
        pointer-events: none;
}

paper-ripple[animating] {
  -webkit-transform: translate(0, 0);
        transform: translate3d(0, 0, 0);
}

#background.paper-ripple,#waves.paper-ripple,.wave-container.paper-ripple,.wave.paper-ripple {
  pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
}

#background.paper-ripple,.wave.paper-ripple {
  opacity: 0;
}

#waves.paper-ripple,.wave.paper-ripple {
  overflow: hidden;
}

.wave-container.paper-ripple,.wave.paper-ripple {
  border-radius: 50%;
}

paper-ripple.circle #background.paper-ripple,paper-ripple.circle #waves.paper-ripple {
  border-radius: 50%;
}

paper-ripple.circle .wave-container.paper-ripple {
  overflow: hidden;
}</style><!-- Shady DOM styles for paper-button --><style scope="paper-button-0">.paper-button-0,.paper-button-0 html.paper-button {
  ;
}

.paper-button-0.paper-material,.paper-button-0 .paper-material.paper-button {
  display: block;
          position: relative;
}

.paper-button-0.paper-material[elevation="1"],.paper-button-0 .paper-material[elevation="1"].paper-button {
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
}

.paper-button-0.paper-material[elevation="2"],.paper-button-0 .paper-material[elevation="2"].paper-button {
  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);
}

.paper-button-0.paper-material[elevation="3"],.paper-button-0 .paper-material[elevation="3"].paper-button {
  box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);
}

.paper-button-0.paper-material[elevation="4"],.paper-button-0 .paper-material[elevation="4"].paper-button {
  box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);
}

.paper-button-0.paper-material[elevation="5"],.paper-button-0 .paper-material[elevation="5"].paper-button {
  box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);
}

.paper-button-0 {
  display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;-ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        position: relative;
        box-sizing: border-box;
        min-width: 5.14em;
        margin: 0 0.29em;
        background: transparent;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;
        font: inherit;
        text-transform: uppercase;
        outline-width: 0;
        border-radius: 3px;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        padding: 0.7em 0.57em;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;;
}

.paper-button-0[elevation="1"] {
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
}

.paper-button-0[elevation="2"] {
  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);
}

.paper-button-0[elevation="3"] {
  box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);
}

.paper-button-0[elevation="4"] {
  box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);
}

.paper-button-0[elevation="5"] {
  box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);
}

.paper-button-0[hidden] {
  display: none !important;
}

.paper-button-0[raised].keyboard-focus {
  font-weight: bold;;
}

.paper-button-0:not([raised]).keyboard-focus {
  font-weight: bold;;
}

.paper-button-0[disabled] {
  background: #eaeaea;
        color: #a8a8a8;
        cursor: auto;
        pointer-events: none;;
}

.paper-button-0[animated] {
  transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
}

.paper-button-0 paper-ripple.paper-button {
  color:;
}</style><!-- Shady DOM styles for iron-meta --><!-- Shady DOM styles for paper-checkbox --><style scope="paper-checkbox-7">.paper-checkbox-7 {
  display: inline-block;
        white-space: nowrap;
        cursor: pointer;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
}

.paper-checkbox-7[hidden] {
  display: none !important;
}

.paper-checkbox-7:focus {
  outline: none;
}

.paper-checkbox-7 .hidden.paper-checkbox {
  display: none;
}

.paper-checkbox-7 #checkboxContainer.paper-checkbox {
  display: inline-block;
        position: relative;
        width: 18px;
        height: 18px;
        min-width: 18px;
        margin: initial;
        vertical-align: middle;
        background-color: transparent;
}

.paper-checkbox-7 #ink.paper-checkbox {
  position: absolute;

        
        top: calc(0px - (48px - 18px) / 2);
        left: calc(0px - (48px - 18px) / 2);
        width: 48px;
        height: 48px;
        color: #0077bb;
        opacity: 0.6;
        pointer-events: none;
}

[dir="rtl"] .paper-checkbox-7 #ink, .paper-checkbox-7[dir="rtl"] #ink,.paper-checkbox-7 [dir="rtl"]  #ink {
  right: calc(0px - (48px - 18px) / 2);
        left: auto;
}

.paper-checkbox-7 #ink[checked].paper-checkbox {
  color: #0077bb;
}

.paper-checkbox-7 #checkbox.paper-checkbox {
  position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: #0077bb;
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
}

.paper-checkbox-7 #checkbox.checked.paper-checkbox #checkmark.paper-checkbox {
  -webkit-animation: checkmark-expand-paper-checkbox-7 140ms ease-out forwards;
        animation: checkmark-expand-paper-checkbox-7 140ms ease-out forwards;
}

@-webkit-keyframes checkmark-expand-paper-checkbox-7 {
0% {
  -webkit-transform: scale(0, 0) rotate(45deg);
}

100% {
  -webkit-transform: scale(1, 1) rotate(45deg);
}

}

@keyframes checkmark-expand-paper-checkbox-7 {
0% {
  transform: scale(0, 0) rotate(45deg);
}

100% {
  transform: scale(1, 1) rotate(45deg);
}

}

.paper-checkbox-7 #checkbox.checked.paper-checkbox {
  background-color: #0077bb;
        border-color: #0077bb;
}

.paper-checkbox-7 #checkmark.paper-checkbox {
  position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * 18px);
        border-bottom-width: calc(2/15 * 18px);
        border-color: white;
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box;
}

[dir="rtl"] .paper-checkbox-7 #checkmark, .paper-checkbox-7[dir="rtl"] #checkmark,.paper-checkbox-7 [dir="rtl"]  #checkmark {
  -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
}

.paper-checkbox-7 #checkboxLabel.paper-checkbox {
  position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: 8px;
        white-space: normal;
        line-height: normal;
        color: #212121;;
}

.paper-checkbox-7[checked] #checkboxLabel.paper-checkbox {
  color: #212121;;
}

[dir="rtl"] .paper-checkbox-7 #checkboxLabel, .paper-checkbox-7[dir="rtl"] #checkboxLabel,.paper-checkbox-7 [dir="rtl"]  #checkboxLabel {
  padding-right: 8px;
        padding-left: 0;
}

.paper-checkbox-7 #checkboxLabel[hidden].paper-checkbox {
  display: none;
}

.paper-checkbox-7[disabled] #checkbox.paper-checkbox {
  opacity: 0.5;
        border-color: #0077bb;
}

.paper-checkbox-7[disabled][checked] #checkbox.paper-checkbox {
  background-color: #0077bb;
        opacity: 0.5;
}

.paper-checkbox-7[disabled] #checkboxLabel.paper-checkbox {
  opacity: 0.65;
}

.paper-checkbox-7 #checkbox.invalid.paper-checkbox:not(.checked) {
  border-color: #dd2c00;
}</style><style scope="paper-checkbox-6">.paper-checkbox-6 {
  display: inline-block;
        white-space: nowrap;
        cursor: pointer;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
}

.paper-checkbox-6[hidden] {
  display: none !important;
}

.paper-checkbox-6:focus {
  outline: none;
}

.paper-checkbox-6 .hidden.paper-checkbox {
  display: none;
}

.paper-checkbox-6 #checkboxContainer.paper-checkbox {
  display: inline-block;
        position: relative;
        width: 18px;
        height: 18px;
        min-width: 18px;
        margin: initial;
        vertical-align: middle;
        background-color: transparent;
}

.paper-checkbox-6 #ink.paper-checkbox {
  position: absolute;

        
        top: calc(0px - (48px - 18px) / 2);
        left: calc(0px - (48px - 18px) / 2);
        width: 48px;
        height: 48px;
        color: #ff7043;
        opacity: 0.6;
        pointer-events: none;
}

[dir="rtl"] .paper-checkbox-6 #ink, .paper-checkbox-6[dir="rtl"] #ink,.paper-checkbox-6 [dir="rtl"]  #ink {
  right: calc(0px - (48px - 18px) / 2);
        left: auto;
}

.paper-checkbox-6 #ink[checked].paper-checkbox {
  color: #ff7043;
}

.paper-checkbox-6 #checkbox.paper-checkbox {
  position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: #ff7043;
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
}

.paper-checkbox-6 #checkbox.checked.paper-checkbox #checkmark.paper-checkbox {
  -webkit-animation: checkmark-expand-paper-checkbox-6 140ms ease-out forwards;
        animation: checkmark-expand-paper-checkbox-6 140ms ease-out forwards;
}

@-webkit-keyframes checkmark-expand-paper-checkbox-6 {
0% {
  -webkit-transform: scale(0, 0) rotate(45deg);
}

100% {
  -webkit-transform: scale(1, 1) rotate(45deg);
}

}

@keyframes checkmark-expand-paper-checkbox-6 {
0% {
  transform: scale(0, 0) rotate(45deg);
}

100% {
  transform: scale(1, 1) rotate(45deg);
}

}

.paper-checkbox-6 #checkbox.checked.paper-checkbox {
  background-color: #ff7043;
        border-color: #ff7043;
}

.paper-checkbox-6 #checkmark.paper-checkbox {
  position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * 18px);
        border-bottom-width: calc(2/15 * 18px);
        border-color: white;
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box;
}

[dir="rtl"] .paper-checkbox-6 #checkmark, .paper-checkbox-6[dir="rtl"] #checkmark,.paper-checkbox-6 [dir="rtl"]  #checkmark {
  -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
}

.paper-checkbox-6 #checkboxLabel.paper-checkbox {
  position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: 8px;
        white-space: normal;
        line-height: normal;
        color: #212121;;
}

.paper-checkbox-6[checked] #checkboxLabel.paper-checkbox {
  color: #212121;;
}

[dir="rtl"] .paper-checkbox-6 #checkboxLabel, .paper-checkbox-6[dir="rtl"] #checkboxLabel,.paper-checkbox-6 [dir="rtl"]  #checkboxLabel {
  padding-right: 8px;
        padding-left: 0;
}

.paper-checkbox-6 #checkboxLabel[hidden].paper-checkbox {
  display: none;
}

.paper-checkbox-6[disabled] #checkbox.paper-checkbox {
  opacity: 0.5;
        border-color: #ff7043;
}

.paper-checkbox-6[disabled][checked] #checkbox.paper-checkbox {
  background-color: #ff7043;
        opacity: 0.5;
}

.paper-checkbox-6[disabled] #checkboxLabel.paper-checkbox {
  opacity: 0.65;
}

.paper-checkbox-6 #checkbox.invalid.paper-checkbox:not(.checked) {
  border-color: #dd2c00;
}</style><style scope="paper-checkbox-5">.paper-checkbox-5 {
  display: inline-block;
        white-space: nowrap;
        cursor: pointer;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
}

.paper-checkbox-5[hidden] {
  display: none !important;
}

.paper-checkbox-5:focus {
  outline: none;
}

.paper-checkbox-5 .hidden.paper-checkbox {
  display: none;
}

.paper-checkbox-5 #checkboxContainer.paper-checkbox {
  display: inline-block;
        position: relative;
        width: 18px;
        height: 18px;
        min-width: 18px;
        margin: initial;
        vertical-align: middle;
        background-color: transparent;
}

.paper-checkbox-5 #ink.paper-checkbox {
  position: absolute;

        
        top: calc(0px - (48px - 18px) / 2);
        left: calc(0px - (48px - 18px) / 2);
        width: 48px;
        height: 48px;
        color: #212121;
        opacity: 0.6;
        pointer-events: none;
}

[dir="rtl"] .paper-checkbox-5 #ink, .paper-checkbox-5[dir="rtl"] #ink,.paper-checkbox-5 [dir="rtl"]  #ink {
  right: calc(0px - (48px - 18px) / 2);
        left: auto;
}

.paper-checkbox-5 #ink[checked].paper-checkbox {
  color: #3f51b5;
}

.paper-checkbox-5 #checkbox.paper-checkbox {
  position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: #757575;
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
}

.paper-checkbox-5 #checkbox.checked.paper-checkbox #checkmark.paper-checkbox {
  -webkit-animation: checkmark-expand-paper-checkbox-5 140ms ease-out forwards;
        animation: checkmark-expand-paper-checkbox-5 140ms ease-out forwards;
}

@-webkit-keyframes checkmark-expand-paper-checkbox-5 {
0% {
  -webkit-transform: scale(0, 0) rotate(45deg);
}

100% {
  -webkit-transform: scale(1, 1) rotate(45deg);
}

}

@keyframes checkmark-expand-paper-checkbox-5 {
0% {
  transform: scale(0, 0) rotate(45deg);
}

100% {
  transform: scale(1, 1) rotate(45deg);
}

}

.paper-checkbox-5 #checkbox.checked.paper-checkbox {
  background-color: #757575;
        border-color: #757575;
}

.paper-checkbox-5 #checkmark.paper-checkbox {
  position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * 18px);
        border-bottom-width: calc(2/15 * 18px);
        border-color: white;
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box;
}

[dir="rtl"] .paper-checkbox-5 #checkmark, .paper-checkbox-5[dir="rtl"] #checkmark,.paper-checkbox-5 [dir="rtl"]  #checkmark {
  -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
}

.paper-checkbox-5 #checkboxLabel.paper-checkbox {
  position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: 8px;
        white-space: normal;
        line-height: normal;
        color: #212121;;
}

.paper-checkbox-5[checked] #checkboxLabel.paper-checkbox {
  color: #212121;;
}

[dir="rtl"] .paper-checkbox-5 #checkboxLabel, .paper-checkbox-5[dir="rtl"] #checkboxLabel,.paper-checkbox-5 [dir="rtl"]  #checkboxLabel {
  padding-right: 8px;
        padding-left: 0;
}

.paper-checkbox-5 #checkboxLabel[hidden].paper-checkbox {
  display: none;
}

.paper-checkbox-5[disabled] #checkbox.paper-checkbox {
  opacity: 0.5;
        border-color: #757575;
}

.paper-checkbox-5[disabled][checked] #checkbox.paper-checkbox {
  background-color: #757575;
        opacity: 0.5;
}

.paper-checkbox-5[disabled] #checkboxLabel.paper-checkbox {
  opacity: 0.65;
}

.paper-checkbox-5 #checkbox.invalid.paper-checkbox:not(.checked) {
  border-color: #dd2c00;
}</style><style scope="paper-checkbox-4">.paper-checkbox-4 {
  display: inline-block;
        white-space: nowrap;
        cursor: pointer;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
}

.paper-checkbox-4[hidden] {
  display: none !important;
}

.paper-checkbox-4:focus {
  outline: none;
}

.paper-checkbox-4 .hidden.paper-checkbox {
  display: none;
}

.paper-checkbox-4 #checkboxContainer.paper-checkbox {
  display: inline-block;
        position: relative;
        width: 18px;
        height: 18px;
        min-width: 18px;
        margin: initial;
        vertical-align: middle;
        background-color: transparent;
}

.paper-checkbox-4 #ink.paper-checkbox {
  position: absolute;

        
        top: calc(0px - (48px - 18px) / 2);
        left: calc(0px - (48px - 18px) / 2);
        width: 48px;
        height: 48px;
        color: #212121;
        opacity: 0.6;
        pointer-events: none;
}

[dir="rtl"] .paper-checkbox-4 #ink, .paper-checkbox-4[dir="rtl"] #ink,.paper-checkbox-4 [dir="rtl"]  #ink {
  right: calc(0px - (48px - 18px) / 2);
        left: auto;
}

.paper-checkbox-4 #ink[checked].paper-checkbox {
  color: #3f51b5;
}

.paper-checkbox-4 #checkbox.paper-checkbox {
  position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: #212121;
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
}

.paper-checkbox-4 #checkbox.checked.paper-checkbox #checkmark.paper-checkbox {
  -webkit-animation: checkmark-expand-paper-checkbox-4 140ms ease-out forwards;
        animation: checkmark-expand-paper-checkbox-4 140ms ease-out forwards;
}

@-webkit-keyframes checkmark-expand-paper-checkbox-4 {
0% {
  -webkit-transform: scale(0, 0) rotate(45deg);
}

100% {
  -webkit-transform: scale(1, 1) rotate(45deg);
}

}

@keyframes checkmark-expand-paper-checkbox-4 {
0% {
  transform: scale(0, 0) rotate(45deg);
}

100% {
  transform: scale(1, 1) rotate(45deg);
}

}

.paper-checkbox-4 #checkbox.checked.paper-checkbox {
  background-color: #3f51b5;
        border-color: #3f51b5;
}

.paper-checkbox-4 #checkmark.paper-checkbox {
  position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * 18px);
        border-bottom-width: calc(2/15 * 18px);
        border-color: white;
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box;
}

[dir="rtl"] .paper-checkbox-4 #checkmark, .paper-checkbox-4[dir="rtl"] #checkmark,.paper-checkbox-4 [dir="rtl"]  #checkmark {
  -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
}

.paper-checkbox-4 #checkboxLabel.paper-checkbox {
  position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: 8px;
        white-space: normal;
        line-height: normal;
        color: #212121;;
}

.paper-checkbox-4[checked] #checkboxLabel.paper-checkbox {
  color: #212121;;
}

[dir="rtl"] .paper-checkbox-4 #checkboxLabel, .paper-checkbox-4[dir="rtl"] #checkboxLabel,.paper-checkbox-4 [dir="rtl"]  #checkboxLabel {
  padding-right: 8px;
        padding-left: 0;
}

.paper-checkbox-4 #checkboxLabel[hidden].paper-checkbox {
  display: none;
}

.paper-checkbox-4[disabled] #checkbox.paper-checkbox {
  opacity: 0.5;
        border-color: #212121;
}

.paper-checkbox-4[disabled][checked] #checkbox.paper-checkbox {
  background-color: #212121;
        opacity: 0.5;
}

.paper-checkbox-4[disabled] #checkboxLabel.paper-checkbox {
  opacity: 0.65;
}

.paper-checkbox-4 #checkbox.invalid.paper-checkbox:not(.checked) {
  border-color: #dd2c00;
}</style><!-- Shady DOM styles for iron-icon --><style scope="iron-icon-1">.iron-icon-1 {
  display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;-ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        position: relative;

        vertical-align: middle;

        fill: currentcolor;
        stroke: none;

        width: 24px;
        height: 24px;;
}

.iron-icon-1[hidden] {
  display: none;
}</style><style scope="iron-icon-0">.iron-icon-0 {
  display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;-ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        position: relative;

        vertical-align: middle;

        fill: currentcolor;
        stroke: none;

        width: 100%;
        height: 100%;;
}

.iron-icon-0[hidden] {
  display: none;
}</style><!-- Shady DOM styles for iron-a11y-announcer --><style scope="iron-a11y-announcer">iron-a11y-announcer {
  display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
}</style><!-- Shady DOM styles for iron-input --><!-- Shady DOM styles for paper-input-char-counter --><!-- Shady DOM styles for paper-input-container --><style scope="paper-input-container-5">.paper-input-container-5 {
  display: block;
        padding: 8px 0;padding: 9px 0 0 25px;
}

.paper-input-container-5[inline] {
  display: inline-block;
}

.paper-input-container-5[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-5[hidden] {
  display: none !important;
}

.paper-input-container-5 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
}

.paper-input-container-5 .underline.paper-input-container {
  height: 2px;
        position: relative;
}

.paper-input-container-5 .focused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 2px solid #3f51b5;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-5 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-5 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  border-color: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-5 .unfocused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 1px solid #737373;;
}

.paper-input-container-5[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: #737373;;
}

.paper-input-container-5 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-5 .input-content.paper-input-container {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;

        position: relative;
}

.paper-input-container-5 .input-content.paper-input-container  label,.paper-input-container-5 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: #737373;
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        
        min-height: 1px;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;font-size: 14px;
    color: gray;;;
}

.paper-input-container-5 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-5 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-5 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-5[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-5 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-5[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-5 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-5 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: #3f51b5;;
}

.paper-input-container-5 .input-content.is-invalid.paper-input-container  label,.paper-input-container-5 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-5 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-5 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-5 .input-content.paper-input-container  input,.paper-input-container-5 .input-content.paper-input-container  textarea,.paper-input-container-5 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-5 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: #212121;
        -webkit-appearance: none;
        text-align: inherit;
        vertical-align: bottom;font-size: 14px;
    color: gray;overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
          max-width: 100%;
          box-sizing: border-box;
          cursor: pointer;
}

.paper-input-container-5 .input-content.focused.paper-input-container  input,.paper-input-container-5 .input-content.focused.paper-input-container  textarea,.paper-input-container-5 .input-content.focused.paper-input-container  iron-autogrow-textarea,.paper-input-container-5 .input-content.focused.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-5 .input-content.is-invalid.paper-input-container  input,.paper-input-container-5 .input-content.is-invalid.paper-input-container  textarea,.paper-input-container-5 .input-content.is-invalid.paper-input-container  iron-autogrow-textarea,.paper-input-container-5 .input-content.is-invalid.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-5 .input-content.paper-input-container  input::-webkit-outer-spin-button,.paper-input-container-5 .input-content.paper-input-container  input::-webkit-inner-spin-button {
  ;
}

.paper-input-container-5  [prefix] {
  font-size: 14px;
    color: gray;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-5  [suffix] {
  font-size: 14px;
    color: gray;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-5 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-5 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-5 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-5 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-5 .add-on-content.is-highlighted.paper-input-container  * {
  color: #3f51b5;
}</style><style scope="paper-input-container-4">.paper-input-container-4 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-4[inline] {
  display: inline-block;
}

.paper-input-container-4[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-4[hidden] {
  display: none !important;
}

.paper-input-container-4 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
}

.paper-input-container-4 .underline.paper-input-container {
  height: 2px;
        position: relative;
}

.paper-input-container-4 .focused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 2px solid #3f51b5;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-4 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-4 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  border-color: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-4 .unfocused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 1px solid #737373;;
}

.paper-input-container-4[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: #737373;;
}

.paper-input-container-4 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-4 .input-content.paper-input-container {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;

        position: relative;
}

.paper-input-container-4 .input-content.paper-input-container  label,.paper-input-container-4 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: #737373;
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        
        min-height: 1px;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;font-size: 14px;
    color: gray;;;
}

.paper-input-container-4 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-4 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-4 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-4[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-4 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-4[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-4 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-4 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: #3f51b5;;
}

.paper-input-container-4 .input-content.is-invalid.paper-input-container  label,.paper-input-container-4 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-4 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-4 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-4 .input-content.paper-input-container  input,.paper-input-container-4 .input-content.paper-input-container  textarea,.paper-input-container-4 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-4 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: #212121;
        -webkit-appearance: none;
        text-align: inherit;
        vertical-align: bottom;font-size: 14px;
    color: gray;;
}

.paper-input-container-4 .input-content.focused.paper-input-container  input,.paper-input-container-4 .input-content.focused.paper-input-container  textarea,.paper-input-container-4 .input-content.focused.paper-input-container  iron-autogrow-textarea,.paper-input-container-4 .input-content.focused.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-4 .input-content.is-invalid.paper-input-container  input,.paper-input-container-4 .input-content.is-invalid.paper-input-container  textarea,.paper-input-container-4 .input-content.is-invalid.paper-input-container  iron-autogrow-textarea,.paper-input-container-4 .input-content.is-invalid.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-4 .input-content.paper-input-container  input::-webkit-outer-spin-button,.paper-input-container-4 .input-content.paper-input-container  input::-webkit-inner-spin-button {
  ;
}

.paper-input-container-4  [prefix] {
  font-size: 14px;
    color: gray;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-4  [suffix] {
  font-size: 14px;
    color: gray;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-4 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-4 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-4 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-4 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-4 .add-on-content.is-highlighted.paper-input-container  * {
  color: #3f51b5;
}</style><style scope="paper-input-container-3">.paper-input-container-3 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-3[inline] {
  display: inline-block;
}

.paper-input-container-3[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-3[hidden] {
  display: none !important;
}

.paper-input-container-3 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
}

.paper-input-container-3 .underline.paper-input-container {
  height: 2px;
        position: relative;
}

.paper-input-container-3 .focused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 2px solid white;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-3 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-3 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  border-color: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-3 .unfocused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 1px solid rgba(255, 255, 255, 0.8);;
}

.paper-input-container-3[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: rgba(255, 255, 255, 0.8);;
}

.paper-input-container-3 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-3 .input-content.paper-input-container {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;

        position: relative;
}

.paper-input-container-3 .input-content.paper-input-container  label,.paper-input-container-3 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: rgba(255, 255, 255, 0.8);
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        
        min-height: 1px;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;-webkit-font-smoothing: antialiased;
          font-size: 14px;
          font-weight: 500;
          text-transform: uppercase;;
}

.paper-input-container-3 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-3 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-3 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-3[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-3 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-3[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-3 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-3 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: white;;
}

.paper-input-container-3 .input-content.is-invalid.paper-input-container  label,.paper-input-container-3 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-3 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-3 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-3 .input-content.paper-input-container  input,.paper-input-container-3 .input-content.paper-input-container  textarea,.paper-input-container-3 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-3 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: white;
        -webkit-appearance: none;
        text-align: inherit;
        vertical-align: bottom;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;-webkit-font-smoothing: antialiased;
          font-size: 14px;
          font-weight: 500;
          text-transform: uppercase;
}

.paper-input-container-3 .input-content.focused.paper-input-container  input,.paper-input-container-3 .input-content.focused.paper-input-container  textarea,.paper-input-container-3 .input-content.focused.paper-input-container  iron-autogrow-textarea,.paper-input-container-3 .input-content.focused.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-3 .input-content.is-invalid.paper-input-container  input,.paper-input-container-3 .input-content.is-invalid.paper-input-container  textarea,.paper-input-container-3 .input-content.is-invalid.paper-input-container  iron-autogrow-textarea,.paper-input-container-3 .input-content.is-invalid.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-3 .input-content.paper-input-container  input::-webkit-outer-spin-button,.paper-input-container-3 .input-content.paper-input-container  input::-webkit-inner-spin-button {
  ;
}

.paper-input-container-3  [prefix] {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-3  [suffix] {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-3 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-3 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-3 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-3 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-3 .add-on-content.is-highlighted.paper-input-container  * {
  color: white;
}</style><style scope="paper-input-container-2">.paper-input-container-2 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-2[inline] {
  display: inline-block;
}

.paper-input-container-2[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-2[hidden] {
  display: none !important;
}

.paper-input-container-2 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
}

.paper-input-container-2 .underline.paper-input-container {
  height: 2px;
        position: relative;
}

.paper-input-container-2 .focused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 2px solid #f57c00;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-2 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-2 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  border-color: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-2 .unfocused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 1px solid #737373;;
}

.paper-input-container-2[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: #737373;;
}

.paper-input-container-2 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-2 .input-content.paper-input-container {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;

        position: relative;
}

.paper-input-container-2 .input-content.paper-input-container  label,.paper-input-container-2 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: #737373;
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        
        min-height: 1px;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;font-size: 14px;;
}

.paper-input-container-2 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-2 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-2 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-2[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-2 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-2[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-2 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-2 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: #f57c00;;
}

.paper-input-container-2 .input-content.is-invalid.paper-input-container  label,.paper-input-container-2 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-2 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-2 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-2 .input-content.paper-input-container  input,.paper-input-container-2 .input-content.paper-input-container  textarea,.paper-input-container-2 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-2 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: #212121;
        -webkit-appearance: none;
        text-align: inherit;
        vertical-align: bottom;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;font-size: 14px;
}

.paper-input-container-2 .input-content.focused.paper-input-container  input,.paper-input-container-2 .input-content.focused.paper-input-container  textarea,.paper-input-container-2 .input-content.focused.paper-input-container  iron-autogrow-textarea,.paper-input-container-2 .input-content.focused.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-2 .input-content.is-invalid.paper-input-container  input,.paper-input-container-2 .input-content.is-invalid.paper-input-container  textarea,.paper-input-container-2 .input-content.is-invalid.paper-input-container  iron-autogrow-textarea,.paper-input-container-2 .input-content.is-invalid.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-2 .input-content.paper-input-container  input::-webkit-outer-spin-button,.paper-input-container-2 .input-content.paper-input-container  input::-webkit-inner-spin-button {
  ;
}

.paper-input-container-2  [prefix] {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-2  [suffix] {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-2 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-2 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-2 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-2 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-2 .add-on-content.is-highlighted.paper-input-container  * {
  color: #f57c00;
}</style><style scope="paper-input-container-1">.paper-input-container-1 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-1[inline] {
  display: inline-block;
}

.paper-input-container-1[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-1[hidden] {
  display: none !important;
}

.paper-input-container-1 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
}

.paper-input-container-1 .underline.paper-input-container {
  height: 2px;
        position: relative;
}

.paper-input-container-1 .focused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 2px solid #f57c00;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-1 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-1 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  border-color: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-1 .unfocused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 1px solid #737373;;
}

.paper-input-container-1[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: #737373;;
}

.paper-input-container-1 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-1 .input-content.paper-input-container {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;

        position: relative;
}

.paper-input-container-1 .input-content.paper-input-container  label,.paper-input-container-1 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: #737373;
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        
        min-height: 1px;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;;
}

.paper-input-container-1 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-1 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-1 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-1[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-1 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-1[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-1 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-1 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: #f57c00;;
}

.paper-input-container-1 .input-content.is-invalid.paper-input-container  label,.paper-input-container-1 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-1 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-1 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-1 .input-content.paper-input-container  input,.paper-input-container-1 .input-content.paper-input-container  textarea,.paper-input-container-1 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-1 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: #212121;
        -webkit-appearance: none;
        text-align: inherit;
        vertical-align: bottom;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
          max-width: 100%;
          box-sizing: border-box;
          cursor: pointer;
}

.paper-input-container-1 .input-content.focused.paper-input-container  input,.paper-input-container-1 .input-content.focused.paper-input-container  textarea,.paper-input-container-1 .input-content.focused.paper-input-container  iron-autogrow-textarea,.paper-input-container-1 .input-content.focused.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-1 .input-content.is-invalid.paper-input-container  input,.paper-input-container-1 .input-content.is-invalid.paper-input-container  textarea,.paper-input-container-1 .input-content.is-invalid.paper-input-container  iron-autogrow-textarea,.paper-input-container-1 .input-content.is-invalid.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-1 .input-content.paper-input-container  input::-webkit-outer-spin-button,.paper-input-container-1 .input-content.paper-input-container  input::-webkit-inner-spin-button {
  ;
}

.paper-input-container-1  [prefix] {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-1  [suffix] {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-1 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-1 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-1 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-1 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-1 .add-on-content.is-highlighted.paper-input-container  * {
  color: #f57c00;
}</style><style scope="paper-input-container-0">.paper-input-container-0 {
  display: block;
        padding: 8px 0;;
}

.paper-input-container-0[inline] {
  display: inline-block;
}

.paper-input-container-0[disabled] {
  pointer-events: none;
        opacity: 0.33;;
}

.paper-input-container-0[hidden] {
  display: none !important;
}

.paper-input-container-0 .floated-label-placeholder.paper-input-container {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
}

.paper-input-container-0 .underline.paper-input-container {
  height: 2px;
        position: relative;
}

.paper-input-container-0 .focused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 2px solid #3f51b5;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);;
}

.paper-input-container-0 .underline.is-highlighted.paper-input-container .focused-line.paper-input-container {
  -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-0 .underline.is-invalid.paper-input-container .focused-line.paper-input-container {
  border-color: #dd2c00;
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;;
}

.paper-input-container-0 .unfocused-line.paper-input-container {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-bottom: 1px solid #737373;;
}

.paper-input-container-0[disabled] .unfocused-line.paper-input-container {
  border-bottom: 1px dashed;
        border-color: #737373;;
}

.paper-input-container-0 .label-and-input-container.paper-input-container {
  -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;position: relative;

        width: 100%;
        max-width: 100%;
}

.paper-input-container-0 .input-content.paper-input-container {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;

        position: relative;
}

.paper-input-container-0 .input-content.paper-input-container  label,.paper-input-container-0 .input-content.paper-input-container  .paper-input-label {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: #737373;
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;
        
        min-height: 1px;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;;
}

.paper-input-container-0 .input-content.label-is-floating.paper-input-container  label,.paper-input-container-0 .input-content.label-is-floating.paper-input-container  .paper-input-label {
  -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        
        width: 133%;;
}

[dir="rtl"] .paper-input-container-0 .input-content.label-is-floating.paper-input-container  label, .paper-input-container-0[dir="rtl"] .input-content.label-is-floating.paper-input-container  label,[dir="rtl"] .paper-input-container-0 .input-content.label-is-floating.paper-input-container  .paper-input-label, .paper-input-container-0[dir="rtl"] .input-content.label-is-floating.paper-input-container  .paper-input-label {
  width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
}

.paper-input-container-0 .input-content.label-is-highlighted.paper-input-container  label,.paper-input-container-0 .input-content.label-is-highlighted.paper-input-container  .paper-input-label {
  color: #3f51b5;;
}

.paper-input-container-0 .input-content.is-invalid.paper-input-container  label,.paper-input-container-0 .input-content.is-invalid.paper-input-container  .paper-input-label {
  color: #dd2c00;
}

.paper-input-container-0 .input-content.label-is-hidden.paper-input-container  label,.paper-input-container-0 .input-content.label-is-hidden.paper-input-container  .paper-input-label {
  visibility: hidden;
}

.paper-input-container-0 .input-content.paper-input-container  input,.paper-input-container-0 .input-content.paper-input-container  textarea,.paper-input-container-0 .input-content.paper-input-container  iron-autogrow-textarea,.paper-input-container-0 .input-content.paper-input-container  .paper-input-input {
  position: relative; 
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: #212121;
        -webkit-appearance: none;
        text-align: inherit;
        vertical-align: bottom;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;
}

.paper-input-container-0 .input-content.focused.paper-input-container  input,.paper-input-container-0 .input-content.focused.paper-input-container  textarea,.paper-input-container-0 .input-content.focused.paper-input-container  iron-autogrow-textarea,.paper-input-container-0 .input-content.focused.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-0 .input-content.is-invalid.paper-input-container  input,.paper-input-container-0 .input-content.is-invalid.paper-input-container  textarea,.paper-input-container-0 .input-content.is-invalid.paper-input-container  iron-autogrow-textarea,.paper-input-container-0 .input-content.is-invalid.paper-input-container  .paper-input-input {
  ;
}

.paper-input-container-0 .input-content.paper-input-container  input::-webkit-outer-spin-button,.paper-input-container-0 .input-content.paper-input-container  input::-webkit-inner-spin-button {
  ;
}

.paper-input-container-0  [prefix] {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-0  [suffix] {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;-ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.paper-input-container-0 .input-content.paper-input-container  input {
  min-width: 0;
}

.paper-input-container-0 .input-content.paper-input-container  textarea {
  resize: none;
}

.paper-input-container-0 .add-on-content.paper-input-container {
  position: relative;
}

.paper-input-container-0 .add-on-content.is-invalid.paper-input-container  * {
  color: #dd2c00;
}

.paper-input-container-0 .add-on-content.is-highlighted.paper-input-container  * {
  color: #3f51b5;
}</style><!-- Shady DOM styles for paper-input-error --><!-- Shady DOM styles for paper-input --><style scope="paper-input-1">.paper-input-1 {
  display: block;
}

.paper-input-1[focused] {
  outline: none;
}

.paper-input-1[hidden] {
  display: none !important;
}

.paper-input-1 input.paper-input::-webkit-outer-spin-button,.paper-input-1 input.paper-input::-webkit-inner-spin-button {
  ;
}

.paper-input-1 input.paper-input::-webkit-clear-button {
  ;
}

.paper-input-1 input.paper-input::-webkit-input-placeholder {
  color: rgba(255, 255, 255, 0.8);
}

.paper-input-1 input.paper-input:-moz-placeholder {
  color: rgba(255, 255, 255, 0.8);
}

.paper-input-1 input.paper-input::-moz-placeholder {
  color: rgba(255, 255, 255, 0.8);
}

.paper-input-1 input.paper-input::-ms-clear {
  ;
}

.paper-input-1 input.paper-input::-webkit-calendar-picker-indicator {
  ;
}

.paper-input-1 input.paper-input:-ms-input-placeholder {
  color: rgba(255, 255, 255, 0.8);
}

.paper-input-1 label.paper-input {
  pointer-events: none;
}</style><style scope="paper-input-0">.paper-input-0 {
  display: block;
}

.paper-input-0[focused] {
  outline: none;
}

.paper-input-0[hidden] {
  display: none !important;
}

.paper-input-0 input.paper-input::-webkit-outer-spin-button,.paper-input-0 input.paper-input::-webkit-inner-spin-button {
  ;
}

.paper-input-0 input.paper-input::-webkit-clear-button {
  ;
}

.paper-input-0 input.paper-input::-webkit-input-placeholder {
  color: #737373;
}

.paper-input-0 input.paper-input:-moz-placeholder {
  color: #737373;
}

.paper-input-0 input.paper-input::-moz-placeholder {
  color: #737373;
}

.paper-input-0 input.paper-input::-ms-clear {
  ;
}

.paper-input-0 input.paper-input::-webkit-calendar-picker-indicator {
  ;
}

.paper-input-0 input.paper-input:-ms-input-placeholder {
  color: #737373;
}

.paper-input-0 label.paper-input {
  pointer-events: none;
}</style><!-- Shady DOM styles for iron-overlay-backdrop --><!-- Shady DOM styles for opaque-animation --><!-- Shady DOM styles for iron-dropdown --><style scope="iron-dropdown">iron-dropdown {
  position: fixed;
}

#contentWrapper.iron-dropdown  > * {
  overflow: auto;
}

#contentWrapper.animating.iron-dropdown  > * {
  overflow: hidden;
}</style><!-- Shady DOM styles for fade-in-animation --><!-- Shady DOM styles for fade-out-animation --><!-- Shady DOM styles for paper-menu-grow-height-animation --><!-- Shady DOM styles for paper-menu-grow-width-animation --><!-- Shady DOM styles for paper-menu-shrink-width-animation --><!-- Shady DOM styles for paper-menu-shrink-height-animation --><!-- Shady DOM styles for paper-menu-button --><style scope="paper-menu-button-0">.paper-menu-button-0 {
  display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;;
}

.paper-menu-button-0[disabled] {
  cursor: auto;
        color: #9b9b9b;;
}

.paper-menu-button-0 iron-dropdown.paper-menu-button {
  ;
}

.paper-menu-button-0 .dropdown-content.paper-menu-button {
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);

        position: relative;
        border-radius: 2px;
        background-color: #ffffff;;
}

.paper-menu-button-0[vertical-align="top"] .dropdown-content.paper-menu-button {
  margin-bottom: 20px;
        margin-top: -10px;
        top: 10px;
}

.paper-menu-button-0[vertical-align="bottom"] .dropdown-content.paper-menu-button {
  bottom: 10px;
        margin-bottom: -10px;
        margin-top: 20px;
}

.paper-menu-button-0 #trigger.paper-menu-button {
  cursor: pointer;
}</style><!-- Shady DOM styles for iron-iconset-svg --><!-- Shady DOM styles for paper-dropdown-menu --><style scope="paper-dropdown-menu-2">.paper-dropdown-menu-2 {
  display: inline-block;
        position: relative;
        text-align: left;

        
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-tap-highlight-color: transparent;;
}

.paper-dropdown-menu-2[disabled] {
  ;
}

.paper-dropdown-menu-2[noink] paper-ripple.paper-dropdown-menu {
  display: none;
}

.paper-dropdown-menu-2[no-label-float] paper-ripple.paper-dropdown-menu {
  top: 8px;
}

.paper-dropdown-menu-2 paper-ripple.paper-dropdown-menu {
  top: 12px;
        left: 0px;
        bottom: 8px;
        right: 0px;;
}

.paper-dropdown-menu-2 paper-menu-button.paper-dropdown-menu {
  display: block;
        padding: 0;padding: 0;
}

.paper-dropdown-menu-2 paper-input.paper-dropdown-menu {
  padding: 0;
}

.paper-dropdown-menu-2 iron-icon.paper-dropdown-menu {
  color: #9b9b9b;width: 15px;
    height: 15px;
}</style><style scope="paper-dropdown-menu-1">.paper-dropdown-menu-1 {
  display: inline-block;
        position: relative;
        text-align: left;

        
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-tap-highlight-color: transparent;;
}

.paper-dropdown-menu-1[disabled] {
  ;
}

.paper-dropdown-menu-1[noink] paper-ripple.paper-dropdown-menu {
  display: none;
}

.paper-dropdown-menu-1[no-label-float] paper-ripple.paper-dropdown-menu {
  top: 8px;
}

.paper-dropdown-menu-1 paper-ripple.paper-dropdown-menu {
  top: 12px;
        left: 0px;
        bottom: 8px;
        right: 0px;;
}

.paper-dropdown-menu-1 paper-menu-button.paper-dropdown-menu {
  display: block;
        padding: 0;;
}

.paper-dropdown-menu-1 paper-input.paper-dropdown-menu {
  ;
}

.paper-dropdown-menu-1 iron-icon.paper-dropdown-menu {
  color: #9b9b9b;color: white;
}</style><style scope="paper-dropdown-menu-0">.paper-dropdown-menu-0 {
  display: inline-block;
        position: relative;
        text-align: left;

        
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-tap-highlight-color: transparent;;
}

.paper-dropdown-menu-0[disabled] {
  ;
}

.paper-dropdown-menu-0[noink] paper-ripple.paper-dropdown-menu {
  display: none;
}

.paper-dropdown-menu-0[no-label-float] paper-ripple.paper-dropdown-menu {
  top: 8px;
}

.paper-dropdown-menu-0 paper-ripple.paper-dropdown-menu {
  top: 12px;
        left: 0px;
        bottom: 8px;
        right: 0px;;
}

.paper-dropdown-menu-0 paper-menu-button.paper-dropdown-menu {
  display: block;
        padding: 0;;
}

.paper-dropdown-menu-0 paper-input.paper-dropdown-menu {
  ;
}

.paper-dropdown-menu-0 iron-icon.paper-dropdown-menu {
  color: #9b9b9b;;
}</style><!-- Shady DOM styles for paper-item --><style scope="paper-item-2">.paper-item-2,.paper-item-2 .paper-item.paper-item {
  display: block;
        position: relative;
        min-height: 30px;
        padding: 0px 16px;
}

.paper-item-2 .paper-item.paper-item {
  font-size: 14px;
    color: gray;
        border:none;
        outline: none;
        background: white;
        width: 100%;
        text-align: left;
}

.paper-item-2[hidden],.paper-item-2 .paper-item[hidden].paper-item {
  display: none !important;
}

.paper-item-2.iron-selected,.paper-item-2 .paper-item.iron-selected.paper-item {
  font-weight: bold;;
}

.paper-item-2[disabled],.paper-item-2 .paper-item[disabled].paper-item {
  color: #9b9b9b;;
}

.paper-item-2:focus,.paper-item-2 .paper-item.paper-item:focus {
  position: relative;
        outline: 0;;
}

.paper-item-2:focus:before,.paper-item-2 .paper-item.paper-item:focus:before {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        background: currentColor;
        content: '';
        opacity: 0.12;
        pointer-events: none;;
}

.paper-item-2 {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;font-size: 14px;
    color: gray;white-space: nowrap;
}</style><style scope="paper-item-1">.paper-item-1,.paper-item-1 .paper-item.paper-item {
  display: block;
        position: relative;
        min-height: 30px;
        padding: 0px 16px;
}

.paper-item-1 .paper-item.paper-item {
  font-size: 14px;
    color: gray;
        border:none;
        outline: none;
        background: white;
        width: 100%;
        text-align: left;
}

.paper-item-1[hidden],.paper-item-1 .paper-item[hidden].paper-item {
  display: none !important;
}

.paper-item-1.iron-selected,.paper-item-1 .paper-item.iron-selected.paper-item {
  font-weight: bold;;
}

.paper-item-1[disabled],.paper-item-1 .paper-item[disabled].paper-item {
  color: #9b9b9b;;
}

.paper-item-1:focus,.paper-item-1 .paper-item.paper-item:focus {
  position: relative;
        outline: 0;;
}

.paper-item-1:focus:before,.paper-item-1 .paper-item.paper-item:focus:before {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        background: currentColor;
        content: '';
        opacity: 0.12;
        pointer-events: none;;
}

.paper-item-1 {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;font-size: 14px;
    color: gray;;
}</style><style scope="paper-item-0">.paper-item-0,.paper-item-0 .paper-item.paper-item {
  display: block;
        position: relative;
        min-height: 48px;
        padding: 0px 16px;
}

.paper-item-0 .paper-item.paper-item {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;
        border:none;
        outline: none;
        background: white;
        width: 100%;
        text-align: left;
}

.paper-item-0[hidden],.paper-item-0 .paper-item[hidden].paper-item {
  display: none !important;
}

.paper-item-0.iron-selected,.paper-item-0 .paper-item.iron-selected.paper-item {
  font-weight: bold;;
}

.paper-item-0[disabled],.paper-item-0 .paper-item[disabled].paper-item {
  color: #9b9b9b;;
}

.paper-item-0:focus,.paper-item-0 .paper-item.paper-item:focus {
  position: relative;
        outline: 0;;
}

.paper-item-0:focus:before,.paper-item-0 .paper-item.paper-item:focus:before {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        background: currentColor;
        content: '';
        opacity: 0.12;
        pointer-events: none;;
}

.paper-item-0 {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;;
}</style><!-- Shady DOM styles for paper-menu --><style scope="paper-menu-1">.paper-menu-1 .selectable-content.paper-menu  > .iron-selected {
  font-weight: bold;;
}

.paper-menu-1 .selectable-content.paper-menu  > [disabled] {
  color: #9b9b9b;
}

.paper-menu-1 .selectable-content.paper-menu  > *:focus {
  position: relative;
        outline: 0;;
}

.paper-menu-1 .selectable-content.paper-menu  > *:focus:after {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: currentColor;
        opacity: 0.12;
        content: '';
        pointer-events: none;;
}

.paper-menu-1 .selectable-content.paper-menu  > *[colored]:focus:after {
  opacity: 0.26;
}

.paper-menu-1 {
  display: block;
        padding: 8px 0;

        background: #f57c00;
        color: white;text-transform: uppercase;
}</style><style scope="paper-menu-0">.paper-menu-0 .selectable-content.paper-menu  > .iron-selected {
  font-weight: bold;;
}

.paper-menu-0 .selectable-content.paper-menu  > [disabled] {
  color: #9b9b9b;
}

.paper-menu-0 .selectable-content.paper-menu  > *:focus {
  position: relative;
        outline: 0;;
}

.paper-menu-0 .selectable-content.paper-menu  > *:focus:after {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: currentColor;
        opacity: 0.12;
        content: '';
        pointer-events: none;;
}

.paper-menu-0 .selectable-content.paper-menu  > *[colored]:focus:after {
  opacity: 0.26;
}

.paper-menu-0 {
  display: block;
        padding: 8px 0;

        background: #ffffff;
        color: #212121;;
}</style><!-- Shady DOM styles for iron-collapse --><style scope="iron-collapse-0">.iron-collapse-0 {
  display: block;
        transition-duration: 300ms;
        
        -webkit-transition-duration: 300ms;
        overflow: visible;
}

.iron-collapse-0.iron-collapse-closed {
  display: none;
}

.iron-collapse-0:not(.iron-collapse-opened) {
  overflow: hidden;
}</style><!-- Shady DOM styles for tf-category-pane --><style scope="tf-category-pane-0">.tf-category-pane-0 {
  display: block;
        margin: 0 5px 1px 10px;
}

.tf-category-pane-0:first-of-type {
  margin-top: 10px;
}

.tf-category-pane-0:last-of-type {
  margin-bottom: 20px;
}

.tf-category-pane-0 .heading.tf-category-pane {
  background-color: white;
        border: none;
        cursor: pointer;
        width: 100%;
        font-size: 15px;
        line-height: 1;
        box-shadow: 0 1px 5px rgba(0,0,0,0.2);
        padding: 10px 15px;
}

.tf-category-pane-0 .heading.tf-category-pane::-moz-focus-inner {
  padding: 10px 15px;
}

.tf-category-pane-0 .content.tf-category-pane {
  padding: 15px;
        border: 1px solid #dedede;
        border-top: none;
        border-bottom-left-radius: 2px;
        border-bottom-right-radius: 2px;
        background: white;
}

.tf-category-pane-0 [open-button].tf-category-pane {
  border-bottom-left-radius: 0 !important;
        border-bottom-right-radius: 0 !important;
}

.tf-category-pane-0 .name.tf-category-pane {
  display: inline-flex;
        float: left;
}

.tf-category-pane-0 .light.tf-category-pane {
  color: #9e9e9e;
}

.tf-category-pane-0 .category-name.tf-category-pane {
  white-space: pre;
}

.tf-category-pane-0 .count.tf-category-pane {
  float: right;
        margin-right: 5px;
        font-size: 12px;
        color: #9e9e9e;
}</style><!-- Shady DOM styles for tf-tag-filterer --><style scope="tf-tag-filterer">tf-tag-filterer {
  display: block;
      margin: 10px 5px 10px 10px;
}</style><!-- Shady DOM styles for tf-dashboard-layout --><style scope="tf-dashboard-layout-0">.tf-dashboard-layout-0 .scrollbar.tf-dashboard-layout::-webkit-scrollbar-track {
  visibility: hidden;
}

.tf-dashboard-layout-0 .scrollbar.tf-dashboard-layout::-webkit-scrollbar {
  width: 10px;
}

.tf-dashboard-layout-0 .scrollbar.tf-dashboard-layout::-webkit-scrollbar-thumb {
  border-radius: 10px;
        -webkit-box-shadow: inset 0 0 2px rgba(0,0,0,.3);
        background-color: #9e9e9e;
        color: #212121;
}

.tf-dashboard-layout-0 .scrollbar.tf-dashboard-layout {
  box-sizing: border-box;
}

.tf-dashboard-layout-0 {
  display: flex;
        flex-direction: row;
        height: 100%;
}

.tf-dashboard-layout-0 #sidebar.tf-dashboard-layout {
  flex: 0 0 25%;
        height: 100%;
        max-width: 350px;
        min-width: 270px;
        text-overflow: ellipsis;
        will-change: transform;
}

.tf-dashboard-layout-0 #center.tf-dashboard-layout {
  flex-grow: 1;
        flex-shrink: 1;
        height: 100%;
        overflow: hidden;
}

.tf-dashboard-layout-0 .center {
  height: 100%;
        overflow-x: hidden;
        overflow-y: auto;
        width: 100%;
        will-change: transform;
}

.tf-dashboard-layout-0 .tf-graph-dashboard.tf-dashboard-layout #center.tf-dashboard-layout {
  background: #fff;
}</style><!-- Shady DOM styles for tf-option-selector --><style scope="tf-option-selector-0">.tf-option-selector-0 .content-wrapper.tf-option-selector  > * {
  background: none;
        color: #757575;
        font-size: 13px;
        margin-top: 10px;
}

.tf-option-selector-0 .content-wrapper.tf-option-selector  :first-of-type {
  margin-left: 0;
}

.tf-option-selector-0 .content-wrapper.tf-option-selector  .selected {
  background-color: #757575;
        color: white !important;
}

.tf-option-selector-0 h3.tf-option-selector {
  color: #424242;
        display: block;
        font-size: 14px;
        font-weight: normal;
        margin: 0 0 5px;
        pointer-events: none;
}</style><!-- Shady DOM styles for tf-filterable-checkbox-list --><!-- Shady DOM styles for paper-icon-button --><style scope="paper-icon-button-0">.paper-icon-button-0 {
  display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        line-height: 1;

        width: 40px;
        height: 40px;

        
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;

        
        box-sizing: border-box !important;;
}

.paper-icon-button-0 #ink.paper-icon-button {
  color: #212121;
        opacity: 0.6;
}

.paper-icon-button-0[disabled] {
  color: #9b9b9b;
        pointer-events: none;
        cursor: auto;;
}

.paper-icon-button-0[hidden] {
  display: none !important;
}

.paper-icon-button-0:hover {
  ;
}

.paper-icon-button-0 iron-icon.paper-icon-button {
  ;
}</style><!-- Shady DOM styles for tf-filterable-checkbox-dropdown --><!-- Shady DOM styles for tf-data-select-row --><!-- Shady DOM styles for experiment-selector --><!-- Shady DOM styles for tf-data-selector --><style scope="tf-data-selector">tf-data-selector {
  align-items: flex-start;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        width 100%;
}

#exp-selector.tf-data-selector {
  display: inline-flex;
        flex-direction: column;
        min-width: 400px;
}

tf-data-select-row.tf-data-selector {
  margin: 5px 0;
        max-width: 720px;
        width: 100%;
}

tf-data-select-row[no-experiment].tf-data-selector {
  margin-left: -8px;
}

experiment-selector.tf-data-selector {
  margin: 10px 0;
}</style><!-- Shady DOM styles for tf-paginated-view --><style scope="tf-paginated-view-0">.tf-paginated-view-0 {
  display: flex;
        flex-direction: column;
}

.tf-paginated-view-0 #controls-container.tf-paginated-view {
  justify-content: center;
        display: flex;
        flex-direction: row;
        flex-grow: 0;
        flex-shrink: 0;
        width: 100%;
}

.tf-paginated-view-0 #controls-container.tf-paginated-view paper-button.tf-paginated-view {
  display: inline-block;
}

.tf-paginated-view-0 .big-page-buttons.tf-paginated-view {
  display: flex;
}

.tf-paginated-view-0 .big-page-buttons.tf-paginated-view paper-button.tf-paginated-view {
  background-color: #e0e0e0;
        color: #757575;
        display: inline-block;
        flex-basis: 0;
        flex-grow: 1;
        flex-shrink: 1;
        font-size: 13px;
}

.tf-paginated-view-0 .big-page-buttons.tf-paginated-view paper-button[disabled].tf-paginated-view {
  background: none;
}</style><!-- Shady DOM styles for paper-dialog --><style scope="paper-dialog-0">.paper-dialog-0 {
  display: block;
        margin: 24px 40px;

        background: #ffffff;
        color: #212121;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 14px;
        font-weight: 400;
        line-height: 20px;box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);;
}

.paper-dialog-0  > * {
  margin-top: 20px;
        padding: 0 24px;
}

.paper-dialog-0  > .no-padding {
  padding: 0;
}

.paper-dialog-0  > *:first-child {
  margin-top: 24px;
}

.paper-dialog-0  > *:last-child {
  margin-bottom: 24px;
}

.paper-dialog-0  h2 {
  position: relative;
        margin: 0;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        font-size: 20px;
        font-weight: 500;
        line-height: 28px;;
}

.paper-dialog-0  .buttons {
  position: relative;
        padding: 8px 8px 8px 24px;
        margin: 0;

        color: #3f51b5;display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
}</style><!-- Shady DOM styles for tf-multi-checkbox --><style scope="tf-multi-checkbox-0">.tf-multi-checkbox-0 .scrollbar.tf-multi-checkbox::-webkit-scrollbar-track {
  visibility: hidden;
}

.tf-multi-checkbox-0 .scrollbar.tf-multi-checkbox::-webkit-scrollbar {
  width: 10px;
}

.tf-multi-checkbox-0 .scrollbar.tf-multi-checkbox::-webkit-scrollbar-thumb {
  border-radius: 10px;
        -webkit-box-shadow: inset 0 0 2px rgba(0,0,0,.3);
        background-color: #9e9e9e;
        color: #212121;
}

.tf-multi-checkbox-0 .scrollbar.tf-multi-checkbox {
  box-sizing: border-box;
}

.tf-multi-checkbox-0 [color-class="light-blue"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="red"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="green"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="purple"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="teal"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="pink"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="orange"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="brown"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 [color-class="indigo"].tf-multi-checkbox paper-checkbox.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 paper-input.tf-multi-checkbox {
  ;
}

.tf-multi-checkbox-0 {
  display: flex;
      flex-direction: column;
      height: 100%;
}

.tf-multi-checkbox-0 #outer-container.tf-multi-checkbox {
  overflow-y: auto;
      overflow-x: hidden;
      width: 100%;
      height: 0; 
      flex-grow: 1;
      flex-shrink: 1;
      word-wrap: break-word;
}

.tf-multi-checkbox-0 .name-row.tf-multi-checkbox {
  padding-top: 5px;
      padding-bottom: 5px;
      display: flex;
      flex-direction: row;
      font-size: 13px;
}

.tf-multi-checkbox-0 .icon-container.tf-multi-checkbox {
  flex-grow: 0;
      flex-shrink: 0;
      padding-left: 2px;
}

.tf-multi-checkbox-0 .checkbox.tf-multi-checkbox {
  padding-left: 2px;
      width: 18px;
      height: 18px;
}

.tf-multi-checkbox-0 .isolator.tf-multi-checkbox {
  width: 18px;
      height: 18px;
      padding: 0px;
}

.tf-multi-checkbox-0 .isolator-container.tf-multi-checkbox {
  padding-left: 6px;
      padding-right: 3px;
}

.tf-multi-checkbox-0 .checkbox-container.tf-multi-checkbox {
  padding-left: 2px;
}

.tf-multi-checkbox-0 .item-label-container.tf-multi-checkbox {
  padding-left: 5px;
      flex-grow: 1;
      flex-shrink: 1;
      width: 0px;
}

.tf-multi-checkbox-0 .tooltip-value-container.tf-multi-checkbox {
  display: flex;
      justify-content: center;
      flex-grow: 0;
      flex-shrink: 0;
      text-align:right;
      padding-left: 2px;
}

.tf-multi-checkbox-0 .vertical-align-container.tf-multi-checkbox {
  display: flex;
      justify-content: center;
}

.tf-multi-checkbox-0 .vertical-align-container.tf-multi-checkbox .vertical-align-center.tf-multi-checkbox {
  align-self: center;
}

.tf-multi-checkbox-0 .vertical-align-container.tf-multi-checkbox .vertical-align-top.tf-multi-checkbox {
  align-self: start;
}</style><!-- Shady DOM styles for tf-runs-selector --><style scope="tf-runs-selector-0">.tf-runs-selector-0 {
  display: flex;
        flex-direction: column;
        padding-bottom: 10px;
        box-sizing: border-box;
}

.tf-runs-selector-0 #top-text.tf-runs-selector {
  width: 100%;
        flex-grow: 0;
        flex-shrink: 0;
        padding-right: 16px;
        box-sizing: border-box;
        color: #424242;
}

.tf-runs-selector-0 tf-multi-checkbox.tf-runs-selector {
  display: flex;
        flex-grow: 1;
        flex-shrink: 1;
}

.tf-runs-selector-0 .x-button.tf-runs-selector {
  font-size: 13px;
        background-color: #e0e0e0;
        color: #757575;
}

.tf-runs-selector-0 #tooltip-help.tf-runs-selector {
  color: #424242;
        margin: 0;
        font-weight: normal;
        font-size: 14px;
        margin-bottom: 5px;
}

.tf-runs-selector-0 paper-button.tf-runs-selector {
  margin-left: 0;
}

.tf-runs-selector-0 #data-location.tf-runs-selector {
  color: #757575;
        font-size: 13px;
        margin: 5px 0 0 0;
        max-width: 288px;
}</style><!-- Shady DOM styles for paper-spinner-lite --><!-- Shady DOM styles for vz-chart-tooltip --><style scope="vz-chart-tooltip">vz-chart-tooltip {
  pointer-events: none;
}

.content.vz-chart-tooltip {
  background: rgba(0, 0, 0, .8);
      border-radius: 4px;
      box-shadow: 0 1px 4px rgba(0, 0, 0, .3);
      color: #fff;
      opacity: 0;
      overflow: hidden;
      pointer-events: none;
      position: fixed;
      will-change: transform;
      z-index: 5;
}

table.vz-chart-tooltip {
  font-size: 13px;
      line-height: 1.4em;
      margin-top: 10px;
      padding: 8px;
}

thead.vz-chart-tooltip {
  font-size: 14px;
}

tbody.vz-chart-tooltip {
  font-size: 13px;
      line-height: 21px;
      white-space: nowrap;
}

td.vz-chart-tooltip {
  padding: 0 5px;
}

.swatch.vz-chart-tooltip {
  border-radius: 50%;
      display: block;
      height: 18px;
      width: 18px;
}

.closest.vz-chart-tooltip .swatch.vz-chart-tooltip {
  box-shadow: inset 0 0 0 2px #fff;
}

th.vz-chart-tooltip {
  padding: 0 5px;
      text-align: left;
}

.distant.vz-chart-tooltip td.vz-chart-tooltip:not(.swatch) {
  opacity: .8;
}

.ghost.vz-chart-tooltip {
  opacity: .2;
      stroke-width: 1px;
}</style><!-- Shady DOM styles for vz-line-chart2 --><style scope="vz-line-chart2">vz-line-chart2 {
  -moz-user-select: none;
        -webkit-user-select: none;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        flex-shrink: 1;
        outline: none;
        position: relative;
        white-space: nowrap;
}

div.vz-line-chart2 {
  -webkit-user-select: none;
        -moz-user-select: none;
        flex-grow: 1;
        flex-shrink: 1;
}

#chartdiv.vz-line-chart2 .main.vz-line-chart2 {
  cursor: crosshair;
}

vz-line-chart2.pankey #chartdiv.vz-line-chart2 .vz-line-chart2:not(.drag-zooming) .main.vz-line-chart2 {
  cursor: -webkit-grab;
        cursor: grab;
}

vz-line-chart2.mousedown #chartdiv.vz-line-chart2 .panning.vz-line-chart2 .main.vz-line-chart2 {
  cursor: -webkit-grabbing;
        cursor: grabbing;
}

#chartdiv.vz-line-chart2 line.guide-line.vz-line-chart2 {
  stroke: #999;
        stroke-width: 1.5px;
}

#chartdiv.vz-line-chart2:hover {
  will-change: transform;
}

.ghost.vz-line-chart2 {
  opacity: .2;
        stroke-width: 1px;
}</style><!-- Shady DOM styles for tf-line-chart-data-loader --><style scope="tf-line-chart-data-loader">tf-line-chart-data-loader {
  height: 100%;
        width: 100%;
        display: flex;
        flex-direction: column;
}

tf-line-chart-data-loader[_maybe-rendered-in-bad-state] vz-line-chart.tf-line-chart-data-loader {
  visibility: hidden;
}

#chart-and-spinner-container.tf-line-chart-data-loader {
  display: flex;
        flex-grow: 1;
        position: relative;
}

#loading-spinner-container.tf-line-chart-data-loader {
  align-items: center;
        bottom: 0;
        display: flex;
        display: flex;
        justify-content: center;
        left: 0;
        pointer-events: none;
        position: absolute;
        right: 0;
        top: 0;
}

vz-line-chart.tf-line-chart-data-loader {
  -webkit-user-select: none;
        -moz-user-select: none;
}</style><!-- Shady DOM styles for paper-dialog-scrollable --><style scope="paper-dialog-scrollable-0">.paper-dialog-scrollable-0 {
  display: block;position: relative;
}

.paper-dialog-scrollable-0.is-scrolled:not(:first-child)::before {
  content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: #dbdbdb;
}

.paper-dialog-scrollable-0.can-scroll:not(.scrolled-to-bottom):not(:last-child)::after {
  content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: #dbdbdb;
}

.paper-dialog-scrollable-0 .scrollable.paper-dialog-scrollable {
  padding: 0 24px;-webkit-overflow-scrolling: touch;
        overflow: auto;;
}

.paper-dialog-scrollable-0 .fit.paper-dialog-scrollable {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
}</style><!-- Shady DOM styles for tf-markdown-view --><style scope="tf-markdown-view">#markdown.tf-markdown-view > p.tf-markdown-view:first-child {
  margin-top: 0.3em;
}

#markdown.tf-markdown-view > p.tf-markdown-view:last-child {
  margin-bottom: 0.3em;
}

#markdown.tf-markdown-view table.tf-markdown-view {
  border-collapse: collapse;
}

#markdown.tf-markdown-view table.tf-markdown-view th.tf-markdown-view {
  font-weight: 600;
}

#markdown.tf-markdown-view table.tf-markdown-view th.tf-markdown-view,#markdown.tf-markdown-view table.tf-markdown-view td.tf-markdown-view {
  padding: 6px 13px;
        border: 1px solid #dfe2e5;
}

#markdown.tf-markdown-view table.tf-markdown-view tr.tf-markdown-view {
  background-color: #fff;
        border-top: 1px solid #c6cbd1;
}</style><!-- Shady DOM styles for tf-card-heading --><style scope="tf-card-heading">figcaption.tf-card-heading {
  width: 100%;
}

.heading-row.tf-card-heading {
  margin-top: -4px;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
}

.heading-label.tf-card-heading {
  flex-grow: 1;
        margin-top: 4px;
        max-width: 100%;
        word-wrap: break-word;
}

.heading-right.tf-card-heading {
  flex-grow: 0;
}

.container.tf-card-heading {
  display: flex;
}

.content.tf-card-heading {
  font-size: 12px;
        flex-grow: 1;
}

.name.tf-card-heading {
  font-size: 14px;
}

.run.tf-card-heading {
  font-size: 11px;
        width: auto;
        border-radius: 3px;
        font-weight: bold;
        padding: 1px 4px 2px;
}

paper-icon-button.tf-card-heading {
  flex-grow: 0;
}

paper-dialog-scrollable.tf-card-heading {
  max-width: 640px;
}</style><!-- Shady DOM styles for tf-scalar-card --><style scope="tf-scalar-card-0">.tf-scalar-card-0 {
  margin: 5px;
      display: block;
      width: 330px;
}

.tf-scalar-card-0[_expanded] {
  width: 100%;
}

.tf-scalar-card-0[_expanded] #tf-line-chart-data-loader-container.tf-scalar-card {
  height: 400px;
}

.tf-scalar-card-0 #tf-line-chart-data-loader-container.tf-scalar-card {
  height: 200px;
      width: 100%;
}

.tf-scalar-card-0 tf-card-heading.tf-scalar-card {
  display: block;
      margin-bottom: 10px;
}

.tf-scalar-card-0 #buttons.tf-scalar-card {
  display: flex;
      flex-direction: row;
}

.tf-scalar-card-0 paper-icon-button.tf-scalar-card {
  color: #2196F3;
      border-radius: 100%;
      width: 32px;
      height: 32px;
      padding: 4px;
}

.tf-scalar-card-0 paper-icon-button[selected].tf-scalar-card {
  background: #e0e0e0;
}

.tf-scalar-card-0 .download-links.tf-scalar-card {
  display: flex;
      height: 32px;
}

.tf-scalar-card-0 .download-links.tf-scalar-card a.tf-scalar-card {
  font-size: 10px;
      align-self: center;
      margin: 2px;
}

.tf-scalar-card-0 .download-links.tf-scalar-card paper-dropdown-menu.tf-scalar-card {
  width: 100px
}</style><!-- Shady DOM styles for paper-progress --><style scope="paper-progress-1">.paper-progress-1 {
  display: block;
        width: 200px;
        position: relative;
        overflow: hidden;
}

.paper-progress-1[hidden],.paper-progress-1 [hidden].paper-progress {
  display: none !important;
}

.paper-progress-1 #progressContainer.paper-progress {
  ;
        position: relative;
}

.paper-progress-1 #progressContainer.paper-progress,.paper-progress-1 .indeterminate.paper-progress::after {
  height: 6px;
}

.paper-progress-1 #primaryProgress.paper-progress,.paper-progress-1 #secondaryProgress.paper-progress,.paper-progress-1 .indeterminate.paper-progress::after {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
}

.paper-progress-1 #progressContainer.paper-progress,.paper-progress-1 .indeterminate.paper-progress::after {
  background: #e0e0e0;
}

.paper-progress-1.transiting #primaryProgress.paper-progress,.paper-progress-1.transiting #secondaryProgress.paper-progress {
  -webkit-transition-property: -webkit-transform;
        transition-property: transform;

        
        -webkit-transition-duration: 0.08s;
        transition-duration: 0.08s;

        
        -webkit-transition-timing-function: ease;
        transition-timing-function: ease;

        
        -webkit-transition-delay: 0s;
        transition-delay: 0s;
}

.paper-progress-1 #primaryProgress.paper-progress,.paper-progress-1 #secondaryProgress.paper-progress {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        -webkit-transform-origin: left center;
        transform-origin: left center;
        -webkit-transform: scaleX(0);
        transform: scaleX(0);
        will-change: transform;
}

.paper-progress-1 #primaryProgress.paper-progress {
  background: #f3913e;
}

.paper-progress-1 #secondaryProgress.paper-progress {
  background: #b7e1cd;
}

.paper-progress-1[disabled] #primaryProgress.paper-progress {
  background: #9e9e9e;
}

.paper-progress-1[disabled] #secondaryProgress.paper-progress {
  background: #e0e0e0;
}

.paper-progress-1:not([disabled]) #primaryProgress.indeterminate.paper-progress {
  -webkit-transform-origin: right center;
        transform-origin: right center;
        -webkit-animation: indeterminate-bar-paper-progress-1 2s linear infinite;
        animation: indeterminate-bar-paper-progress-1 2s linear infinite;
}

.paper-progress-1:not([disabled]) #primaryProgress.indeterminate.paper-progress::after {
  content: "";
        -webkit-transform-origin: center center;
        transform-origin: center center;

        -webkit-animation: indeterminate-splitter-paper-progress-1 2s linear infinite;
        animation: indeterminate-splitter-paper-progress-1 2s linear infinite;
}

@-webkit-keyframes indeterminate-bar-paper-progress-1 {
0% {
  -webkit-transform: scaleX(1) translateX(-100%);
}

50% {
  -webkit-transform: scaleX(1) translateX(0%);
}

75% {
  -webkit-transform: scaleX(1) translateX(0%);
          -webkit-animation-timing-function: cubic-bezier(.28,.62,.37,.91);
}

100% {
  -webkit-transform: scaleX(0) translateX(0%);
}

}

@-webkit-keyframes indeterminate-splitter-paper-progress-1 {
0% {
  -webkit-transform: scaleX(.75) translateX(-125%);
}

30% {
  -webkit-transform: scaleX(.75) translateX(-125%);
          -webkit-animation-timing-function: cubic-bezier(.42,0,.6,.8);
}

90% {
  -webkit-transform: scaleX(.75) translateX(125%);
}

100% {
  -webkit-transform: scaleX(.75) translateX(125%);
}

}

@keyframes indeterminate-bar-paper-progress-1 {
0% {
  transform: scaleX(1) translateX(-100%);
}

50% {
  transform: scaleX(1) translateX(0%);
}

75% {
  transform: scaleX(1) translateX(0%);
          animation-timing-function: cubic-bezier(.28,.62,.37,.91);
}

100% {
  transform: scaleX(0) translateX(0%);
}

}

@keyframes indeterminate-splitter-paper-progress-1 {
0% {
  transform: scaleX(.75) translateX(-125%);
}

30% {
  transform: scaleX(.75) translateX(-125%);
          animation-timing-function: cubic-bezier(.42,0,.6,.8);
}

90% {
  transform: scaleX(.75) translateX(125%);
}

100% {
  transform: scaleX(.75) translateX(125%);
}

}</style><style scope="paper-progress-0">.paper-progress-0 {
  display: block;
        width: 200px;
        position: relative;
        overflow: hidden;
}

.paper-progress-0[hidden],.paper-progress-0 [hidden].paper-progress {
  display: none !important;
}

.paper-progress-0 #progressContainer.paper-progress {
  ;
        position: relative;
}

.paper-progress-0 #progressContainer.paper-progress,.paper-progress-0 .indeterminate.paper-progress::after {
  height: 2px;
}

.paper-progress-0 #primaryProgress.paper-progress,.paper-progress-0 #secondaryProgress.paper-progress,.paper-progress-0 .indeterminate.paper-progress::after {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
}

.paper-progress-0 #progressContainer.paper-progress,.paper-progress-0 .indeterminate.paper-progress::after {
  background: #bdbdbd;
}

.paper-progress-0.transiting #primaryProgress.paper-progress,.paper-progress-0.transiting #secondaryProgress.paper-progress {
  -webkit-transition-property: -webkit-transform;
        transition-property: transform;

        
        -webkit-transition-duration: 0.08s;
        transition-duration: 0.08s;

        
        -webkit-transition-timing-function: ease;
        transition-timing-function: ease;

        
        -webkit-transition-delay: 0s;
        transition-delay: 0s;
}

.paper-progress-0 #primaryProgress.paper-progress,.paper-progress-0 #secondaryProgress.paper-progress {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        -webkit-transform-origin: left center;
        transform-origin: left center;
        -webkit-transform: scaleX(0);
        transform: scaleX(0);
        will-change: transform;
}

.paper-progress-0 #primaryProgress.paper-progress {
  background: #f57c00;
}

.paper-progress-0 #secondaryProgress.paper-progress {
  background: #7baaf7;
}

.paper-progress-0[disabled] #primaryProgress.paper-progress {
  background: #bdbdbd;
}

.paper-progress-0[disabled] #secondaryProgress.paper-progress {
  background: #bdbdbd;
}

.paper-progress-0:not([disabled]) #primaryProgress.indeterminate.paper-progress {
  -webkit-transform-origin: right center;
        transform-origin: right center;
        -webkit-animation: indeterminate-bar-paper-progress-0 2s linear infinite;
        animation: indeterminate-bar-paper-progress-0 2s linear infinite;
}

.paper-progress-0:not([disabled]) #primaryProgress.indeterminate.paper-progress::after {
  content: "";
        -webkit-transform-origin: center center;
        transform-origin: center center;

        -webkit-animation: indeterminate-splitter-paper-progress-0 2s linear infinite;
        animation: indeterminate-splitter-paper-progress-0 2s linear infinite;
}

@-webkit-keyframes indeterminate-bar-paper-progress-0 {
0% {
  -webkit-transform: scaleX(1) translateX(-100%);
}

50% {
  -webkit-transform: scaleX(1) translateX(0%);
}

75% {
  -webkit-transform: scaleX(1) translateX(0%);
          -webkit-animation-timing-function: cubic-bezier(.28,.62,.37,.91);
}

100% {
  -webkit-transform: scaleX(0) translateX(0%);
}

}

@-webkit-keyframes indeterminate-splitter-paper-progress-0 {
0% {
  -webkit-transform: scaleX(.75) translateX(-125%);
}

30% {
  -webkit-transform: scaleX(.75) translateX(-125%);
          -webkit-animation-timing-function: cubic-bezier(.42,0,.6,.8);
}

90% {
  -webkit-transform: scaleX(.75) translateX(125%);
}

100% {
  -webkit-transform: scaleX(.75) translateX(125%);
}

}

@keyframes indeterminate-bar-paper-progress-0 {
0% {
  transform: scaleX(1) translateX(-100%);
}

50% {
  transform: scaleX(1) translateX(0%);
}

75% {
  transform: scaleX(1) translateX(0%);
          animation-timing-function: cubic-bezier(.28,.62,.37,.91);
}

100% {
  transform: scaleX(0) translateX(0%);
}

}

@keyframes indeterminate-splitter-paper-progress-0 {
0% {
  transform: scaleX(.75) translateX(-125%);
}

30% {
  transform: scaleX(.75) translateX(-125%);
          animation-timing-function: cubic-bezier(.42,0,.6,.8);
}

90% {
  transform: scaleX(.75) translateX(125%);
}

100% {
  transform: scaleX(.75) translateX(125%);
}

}</style><!-- Shady DOM styles for paper-slider --><style scope="paper-slider-0">.paper-slider-0 {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;-ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
        width: 200px;
        cursor: default;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.paper-slider-0:focus {
  outline: none;
}

[dir="rtl"] .paper-slider-0  #sliderContainer.paper-slider, .paper-slider-0[dir="rtl"]  #sliderContainer.paper-slider,.paper-slider-0 [dir="rtl"]   #sliderContainer.paper-slider {
  -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
}

.paper-slider-0[dir="rtl"] #sliderContainer.paper-slider {
  -webkit-transform: scaleX(-1);
        transform: scaleX(-1);
}

.paper-slider-0[dir="ltr"] #sliderContainer.paper-slider {
  -webkit-transform: scaleX(1);
        transform: scaleX(1);
}

.paper-slider-0 #sliderContainer.paper-slider {
  position: relative;
        width: 100%;
        height: calc(30px + 2px);
        margin-left: calc(15px + 2px/2);
        margin-right: calc(15px + 2px/2);
}

.paper-slider-0 #sliderContainer.paper-slider:focus {
  outline: 0;
}

.paper-slider-0 #sliderContainer.editable.paper-slider {
  margin-top: 12px;
        margin-bottom: 12px;
}

.paper-slider-0 .bar-container.paper-slider {
  position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: hidden;
}

.paper-slider-0 .ring.paper-slider > .bar-container.paper-slider {
  left: calc(5px + 2px/2);
        transition: left 0.18s ease;
}

.paper-slider-0 .ring.expand.dragging.paper-slider > .bar-container.paper-slider {
  transition: none;
}

.paper-slider-0 .ring.expand.paper-slider:not(.pin) > .bar-container.paper-slider {
  left: calc(8px + 2px/2);
}

.paper-slider-0 #sliderBar.paper-slider {
  padding: 15px 0;
        width: 100%;
        background-color: transparent;
}

.paper-slider-0 .slider-markers.paper-slider {
  position: absolute;
        top: calc(14px + 2px/2);
        height: 2px;
        left: 0;
        right: -1px;
        box-sizing: border-box;
        pointer-events: none;display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
}

.paper-slider-0 .slider-marker.paper-slider {
  -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
}

.paper-slider-0 .slider-markers.paper-slider::after,.paper-slider-0 .slider-marker.paper-slider::after {
  content: "";
        display: block;
        margin-left: -1px;
        width: 2px;
        height: 2px;
        border-radius: 50%;
        background-color: #f57c00;
}

.paper-slider-0 .slider-knob.paper-slider {
  position: absolute;
        left: 0;
        top: 0;
        margin-left: calc(-15px - 2px/2);
        width: calc(30px + 2px);
        height: calc(30px + 2px);
}

.paper-slider-0 .transiting.paper-slider > .slider-knob.paper-slider {
  transition: left 0.08s ease;
}

.paper-slider-0 .slider-knob.paper-slider:focus {
  outline: none;
}

.paper-slider-0 .slider-knob.dragging.paper-slider {
  transition: none;
}

.paper-slider-0 .snaps.paper-slider > .slider-knob.dragging.paper-slider {
  transition: -webkit-transform 0.08s ease;
        transition: transform 0.08s ease;
}

.paper-slider-0 .slider-knob-inner.paper-slider {
  margin: 10px;
        width: calc(100% - 20px);
        height: calc(100% - 20px);
        background-color: #f57c00;
        border: 2px solid #f57c00;
        border-radius: 50%;

        -moz-box-sizing: border-box;
        box-sizing: border-box;

        transition-property: -webkit-transform, background-color, border;
        transition-property: transform, background-color, border;
        transition-duration: 0.18s;
        transition-timing-function: ease;
}

.paper-slider-0 .expand.paper-slider:not(.pin) > .slider-knob.paper-slider > .slider-knob-inner.paper-slider {
  -webkit-transform: scale(1.5);
        transform: scale(1.5);
}

.paper-slider-0 .ring.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider {
  background-color: #f57c00;
        border: 2px solid #f57c00;
}

.paper-slider-0 .slider-knob-inner.paper-slider::before {
  background-color: #f57c00;
}

.paper-slider-0 .pin.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::before {
  content: "";
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -13px;
        width: 26px;
        height: 26px;
        border-radius: 50% 50% 50% 0;

        -webkit-transform: rotate(-45deg) scale(0) translate(0);
        transform: rotate(-45deg) scale(0) translate(0);
}

.paper-slider-0 .slider-knob-inner.paper-slider::before,.paper-slider-0 .slider-knob-inner.paper-slider::after {
  transition: -webkit-transform .18s ease, background-color .18s ease;
        transition: transform .18s ease, background-color .18s ease;
}

.paper-slider-0 .pin.ring.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::before {
  background-color: #f57c00;
}

.paper-slider-0 .pin.expand.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::before {
  -webkit-transform: rotate(-45deg) scale(1) translate(17px, -17px);
        transform: rotate(-45deg) scale(1) translate(17px, -17px);
}

.paper-slider-0 .pin.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::after {
  content: attr(value);
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -16px;
        width: 32px;
        height: 26px;
        text-align: center;
        color: #fff;
        font-size: 10px;

        -webkit-transform: scale(0) translate(0);
        transform: scale(0) translate(0);
}

.paper-slider-0 .pin.expand.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider::after {
  -webkit-transform: scale(1) translate(0, -17px);
        transform: scale(1) translate(0, -17px);
}

.paper-slider-0 .slider-input.paper-slider {
  width: 50px;
        overflow: hidden;;
}

.paper-slider-0 #sliderContainer.disabled.paper-slider {
  pointer-events: none;
}

.paper-slider-0 .disabled.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider {
  background-color: #bdbdbd;
        border: 2px solid #bdbdbd;
        -webkit-transform: scale3d(0.75, 0.75, 1);
        transform: scale3d(0.75, 0.75, 1);
}

.paper-slider-0 .disabled.ring.paper-slider > .slider-knob.paper-slider > .slider-knob-inner.paper-slider {
  background-color: #f57c00;
        border: 2px solid #f57c00;
}

.paper-slider-0 paper-ripple.paper-slider {
  color: #f57c00;
}</style><!-- Shady DOM styles for tf-smoothing-input --><style scope="tf-smoothing-input-0">.tf-smoothing-input-0 .title.tf-smoothing-input {
  color: #424242;
        margin: 0;
        font-weight: normal;
        font-size: 14px;
        margin-bottom: 5px;
}

.tf-smoothing-input-0 .smoothing-block.tf-smoothing-input {
  display: flex;
}

.tf-smoothing-input-0 paper-slider.tf-smoothing-input {
  ;
        flex-grow: 2;
}

.tf-smoothing-input-0 paper-input.tf-smoothing-input {
  ;
        width: 60px;
}</style><!-- Shady DOM styles for tf-scalar-dashboard --><style scope="tf-scalar-dashboard-0">.tf-scalar-dashboard-0 .layout.horizontal.tf-scalar-dashboard,.tf-scalar-dashboard-0 .layout.vertical.tf-scalar-dashboard {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
}

.tf-scalar-dashboard-0 .layout.inline.tf-scalar-dashboard {
  display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
}

.tf-scalar-dashboard-0 .layout.horizontal.tf-scalar-dashboard {
  -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
}

.tf-scalar-dashboard-0 .layout.vertical.tf-scalar-dashboard {
  -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
}

.tf-scalar-dashboard-0 .layout.wrap.tf-scalar-dashboard {
  -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
}

.tf-scalar-dashboard-0 .layout.no-wrap.tf-scalar-dashboard {
  -ms-flex-wrap: nowrap;
        -webkit-flex-wrap: nowrap;
        flex-wrap: nowrap;
}

.tf-scalar-dashboard-0 .layout.center.tf-scalar-dashboard,.tf-scalar-dashboard-0 .layout.center-center.tf-scalar-dashboard {
  -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
}

.tf-scalar-dashboard-0 .layout.center-justified.tf-scalar-dashboard,.tf-scalar-dashboard-0 .layout.center-center.tf-scalar-dashboard {
  -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
}

.tf-scalar-dashboard-0 .flex.tf-scalar-dashboard {
  -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
}

.tf-scalar-dashboard-0 .flex-auto.tf-scalar-dashboard {
  -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
}

.tf-scalar-dashboard-0 .flex-none.tf-scalar-dashboard {
  -ms-flex: none;
        -webkit-flex: none;
        flex: none;
}

.tf-scalar-dashboard-0 .sidebar.tf-scalar-dashboard {
  box-sizing: border-box;
        display: flex;
        flex-direction: column;
        height: 100%;
        margin-right: 20px;
        overflow-x: hidden;
        padding: 5px 0;
        text-overflow: ellipsis;
}

.tf-scalar-dashboard-0 tf-runs-selector.tf-scalar-dashboard {
  flex-shrink: 1;
        flex-grow: 1;
}

.tf-scalar-dashboard-0 .search-input.tf-scalar-dashboard {
  margin: 10px 5px 0 10px;
}

.tf-scalar-dashboard-0 .sidebar-section.tf-scalar-dashboard {
  border-top: solid 1px rgba(0, 0, 0, .12);
        padding: 15px 0 15px 30px;
}

.tf-scalar-dashboard-0 .sidebar-section.tf-scalar-dashboard:first-of-type {
  border: none;
}

.tf-scalar-dashboard-0 .sidebar-section.tf-scalar-dashboard:last-of-type {
  flex-grow: 1;
        display: flex;
}

.tf-scalar-dashboard-0 .sidebar-section.tf-scalar-dashboard paper-button.tf-scalar-dashboard {
  margin: 5px;
}

.tf-scalar-dashboard-0 .sidebar-section.tf-scalar-dashboard paper-button.tf-scalar-dashboard:first-of-type {
  margin-left: 0 !important;
}

.tf-scalar-dashboard-0 .sidebar-section.tf-scalar-dashboard paper-button.tf-scalar-dashboard:last-of-type {
  margin-right: 0 !important;
}

.tf-scalar-dashboard-0 .sidebar-section.tf-scalar-dashboard > .tf-scalar-dashboard:first-child {
  margin-top: 0;
        padding-top: 0;
}

.tf-scalar-dashboard-0 .sidebar-section.tf-scalar-dashboard > .tf-scalar-dashboard:last-child {
  margin-bottom: 0;
        padding-bottom: 0;
}

.tf-scalar-dashboard-0 .sidebar-section.tf-scalar-dashboard h3.tf-scalar-dashboard {
  color: #424242;
        display: block;
        font-size: 14px;
        font-weight: normal;
        margin: 10px 0 5px;
        pointer-events: none;
}

.tf-scalar-dashboard-0 paper-checkbox.tf-scalar-dashboard {
  ;
        font-size: 15px;
        margin-top: 5px;
}

.tf-scalar-dashboard-0 #tooltip-sorting.tf-scalar-dashboard {
  align-items: center;
        display: flex;
        font-size: 14px;
        margin-top: 15px;
}

.tf-scalar-dashboard-0 #tooltip-sorting.tf-scalar-dashboard paper-dropdown-menu.tf-scalar-dashboard {
  margin-left: 10px;
        width: 105px;
}

.tf-scalar-dashboard-0 .line-item.tf-scalar-dashboard {
  display: block;
        padding-top: 5px;
}

.tf-scalar-dashboard-0 .no-data-warning.tf-scalar-dashboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}

.tf-scalar-dashboard-0 .center.tf-scalar-dashboard {
  overflow-x: hidden;
}</style><!-- Shady DOM styles for tf-custom-scalar-margin-chart-card --><!-- Shady DOM styles for tf-custom-scalar-multi-line-chart-card --><!-- Shady DOM styles for tf-custom-scalar-dashboard --><!-- Shady DOM styles for paper-toggle-button --><style scope="paper-toggle-button-0">.paper-toggle-button-0 {
  display: inline-block;display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
}

.paper-toggle-button-0[disabled] {
  pointer-events: none;
}

.paper-toggle-button-0:focus {
  outline:none;
}

.paper-toggle-button-0 .toggle-bar.paper-toggle-button {
  position: absolute;
        height: 100%;
        width: 100%;
        border-radius: 8px;
        pointer-events: none;
        opacity: 0.4;
        transition: background-color linear .08s;
        background-color: #000000;;
}

.paper-toggle-button-0 .toggle-button.paper-toggle-button {
  position: absolute;
        top: -3px;
        left: 0;
        height: 20px;
        width: 20px;
        border-radius: 50%;
        box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.6);
        transition: -webkit-transform linear .08s, background-color linear .08s;
        transition: transform linear .08s, background-color linear .08s;
        will-change: transform;
        background-color: #fafafa;;
}

.paper-toggle-button-0 .toggle-button.dragging.paper-toggle-button {
  -webkit-transition: none;
        transition: none;
}

.paper-toggle-button-0[checked]:not([disabled]) .toggle-bar.paper-toggle-button {
  opacity: 0.5;
        background-color: #3f51b5;;
}

.paper-toggle-button-0[disabled] .toggle-bar.paper-toggle-button {
  background-color: #000;
        opacity: 0.12;
}

.paper-toggle-button-0[checked] .toggle-button.paper-toggle-button {
  -webkit-transform: translate(16px, 0);
        transform: translate(16px, 0);
}

.paper-toggle-button-0[checked]:not([disabled]) .toggle-button.paper-toggle-button {
  background-color: #3f51b5;;
}

.paper-toggle-button-0[disabled] .toggle-button.paper-toggle-button {
  background-color: #bdbdbd;
        opacity: 1;
}

.paper-toggle-button-0 .toggle-ink.paper-toggle-button {
  position: absolute;
        top: -14px;
        left: -14px;
        right: auto;
        bottom: auto;
        width: 48px;
        height: 48px;
        opacity: 0.5;
        pointer-events: none;
        color: #212121;;
}

.paper-toggle-button-0[checked] .toggle-ink.paper-toggle-button {
  color: #3f51b5;;
}

.paper-toggle-button-0 .toggle-container.paper-toggle-button {
  display: inline-block;
        position: relative;
        width: 36px;
        height: 14px;
        
        margin: 4px 1px;
}

.paper-toggle-button-0 .toggle-label.paper-toggle-button {
  position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: 8px;
        pointer-events: none;
        color: #212121;
}

.paper-toggle-button-0[invalid] .toggle-bar.paper-toggle-button {
  background-color: #dd2c00;
}

.paper-toggle-button-0[invalid] .toggle-button.paper-toggle-button {
  background-color: #dd2c00;
}

.paper-toggle-button-0[invalid] .toggle-ink.paper-toggle-button {
  color: #dd2c00;
}</style><!-- Shady DOM styles for tf-regex-group --><!-- Shady DOM styles for tf-image-loader --><!-- Shady DOM styles for tf-image-dashboard --><!-- Shady DOM styles for tf-audio-loader --><style scope="tf-audio-loader">figcaption.tf-audio-loader {
  width: 100%;
}

.heading-row.tf-audio-loader {
  margin-top: -4px;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
}

.heading-label.tf-audio-loader {
  flex-grow: 1;
        margin-top: 4px;
        max-width: 100%;
        word-wrap: break-word;
}

.heading-right.tf-audio-loader {
  flex-grow: 0;
}

tf-audio-loader {
  display: block;
        width: 350px;
        height: auto;
        position: relative;
        
        margin-right: 15px;
        margin-bottom: 15px;
}

#steps.tf-audio-loader {
  height: 15px;
        margin: 0 0 0 -15px;
        width: 100%;
        box-sizing: border-box;
        padding: 0 5px;  
        margin-top: 5px;
}</style><!-- Shady DOM styles for tf-audio-dashboard --><!-- Shady DOM styles for iron-autogrow-textarea --><!-- Shady DOM styles for paper-textarea --><style scope="paper-textarea">paper-textarea {
  display: block;
}

paper-textarea[hidden] {
  display: none !important;
}

label.paper-textarea {
  pointer-events: none;
}</style><!-- Shady DOM styles for paper-toast --><!-- Shady DOM styles for tf-graph-minimap --><style scope="tf-graph-minimap">tf-graph-minimap {
  background-color:white;
  transition: opacity .3s linear;
  pointer-events: auto;
}

tf-graph-minimap.hidden {
  opacity: 0;
  pointer-events: none;
}

canvas.tf-graph-minimap {
  border: 1px solid #999;
}

rect.tf-graph-minimap {
  fill: white;
  stroke: #111111;
  stroke-width: 1px;
  fill-opacity: 0;
  filter: url('#minimapDropShadow');
  cursor: move;
}

svg.tf-graph-minimap {
  position: absolute;
}</style><!-- Shady DOM styles for tf-graph-scene --><style scope="tf-graph-scene">tf-graph-scene {
  display: flex;
  width: 100%;
  font-size: 20px;
}

tf-graph-scene  #svg {
  overflow: hidden;
  flex: 1;
  height: 100%;
  width: 100%;
}

tf-graph-scene  #hidden {
  position: fixed;
  top: 0px;
  visibility: hidden;
}

tf-graph-scene  .meta > .nodeshape > rect,tf-graph-scene  .meta > .annotation-node > rect {
  cursor: pointer;
  fill: hsl(0, 0%, 70%);
}

tf-graph-scene  .node.meta.highlighted > .nodeshape > rect,tf-graph-scene  .node.meta.highlighted > .annotation-node > rect {
  stroke-width: 2;
}

tf-graph-scene  .annotation.meta.highlighted > .nodeshape > rect,tf-graph-scene  .annotation.meta.highlighted > .annotation-node > rect {
  stroke-width: 1;
}

tf-graph-scene  .meta.selected > .nodeshape > rect,tf-graph-scene  .meta.selected > .annotation-node > rect {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .node.meta.selected.expanded > .nodeshape > rect,tf-graph-scene  .node.meta.selected.expanded > .annotation-node > rect {
  stroke: red;
  stroke-width: 3;
}

tf-graph-scene  .annotation.meta.selected > .nodeshape > rect,tf-graph-scene  .annotation.meta.selected > .annotation-node > rect {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .node.meta.selected.expanded.highlighted > .nodeshape > rect,tf-graph-scene  .node.meta.selected.expanded.highlighted > .annotation-node > rect {
  stroke: red;
  stroke-width: 4;
}

tf-graph-scene  .faded,tf-graph-scene  .faded rect,tf-graph-scene  .faded ellipse,tf-graph-scene  .faded path,tf-graph-scene  .faded use,tf-graph-scene  #rectHatch line,tf-graph-scene  #ellipseHatch line {
  color: #e0d4b3 !important;
  fill: white;
  stroke: #e0d4b3 !important;
}

tf-graph-scene  .faded path {
  stroke-width: 1px !important;
}

tf-graph-scene  .faded rect {
  fill: url('#rectHatch') !important;
}

tf-graph-scene  .faded ellipse,tf-graph-scene  .faded use {
  fill: url('#ellipseHatch') !important;
}

tf-graph-scene  .faded text {
  opacity: 0;
}

tf-graph-scene  .input-highlight > * > rect,tf-graph-scene  .input-highlight > * > ellipse,tf-graph-scene  .input-highlight > * > use {
  fill: white;
  stroke: #ff9800 !important;
}

tf-graph-scene  .non-input > * > rect,tf-graph-scene  .non-input > * > ellipse,tf-graph-scene  .non-input > * > use,tf-graph-scene  .non-input > * > .constant:not([class*="input-highlight"]) > .annotation-node > ellipse,tf-graph-scene  .non-input > g > .annotation > .annotation-node > rect {
  stroke: #e0d4b3 !important;
  stroke-width: inherit;
  stroke-dasharray: inherit;
}

tf-graph-scene  .non-input path {
  visibility: hidden;
}

tf-graph-scene  .non-input > .nodeshape > rect,tf-graph-scene  .non-input > .annotation-node > rect,tf-graph-scene  .non-input > g > .annotation > .annotation-node > rect {
  fill: url('#rectHatch') !important;
}

tf-graph-scene  .non-input ellipse,tf-graph-scene  .non-input use {
  fill: url('#ellipseHatch') !important;
}

tf-graph-scene  .non-input > text {
  opacity: 0;
}

tf-graph-scene  .non-input .annotation > .annotation-edge {
  marker-end: url('#annotation-arrowhead-faded');
}

tf-graph-scene  .non-input .annotation > .annotation-edge.refline {
  marker-start: url('#ref-annotation-arrowhead-faded');
}

tf-graph-scene  .input-edge-highlight > text {
  fill: black !important;
}

tf-graph-scene  .input-highlight > .in-annotations > .annotation > .annotation-edge,tf-graph-scene  .input-highlight-selected > .in-annotations > .annotation > .annotation-edge {
  stroke: #999 !important;
}

tf-graph-scene  .non-input-edge-highlight,tf-graph-scene  .non-input > g > .annotation > path,tf-graph-scene  .non-input > g > .annotation:not(.input-highlight):not(.input-highlight-selected) > .annotation-label {
  visibility: hidden;
}

tf-graph-scene  .op > .nodeshape > .nodecolortarget,tf-graph-scene  .op > .annotation-node > .nodecolortarget {
  cursor: pointer;
  fill: #fff;
  stroke: #ccc;
}

tf-graph-scene  .op.selected > .nodeshape > .nodecolortarget,tf-graph-scene  .op.selected > .annotation-node > .nodecolortarget {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .op.highlighted > .nodeshape > .nodecolortarget,tf-graph-scene  .op.highlighted > .annotation-node > .nodecolortarget {
  stroke-width: 2;
}

tf-graph-scene  .series > .nodeshape > rect {
  fill: hsl(0, 0%, 70%);
  fill-opacity: 0;
  stroke-dasharray: 5, 5;
  stroke-opacity: 0;
  cursor: pointer;
}

tf-graph-scene  .series.expanded > .nodeshape > rect {
  fill-opacity: 0.15;
  stroke: hsl(0, 0%, 70%);
  stroke-opacity: 1;
}

tf-graph-scene  .series.expanded > .nodeshape > use {
  visibility: hidden;
}

tf-graph-scene  .series > .nodeshape > use,tf-graph-scene  .series > .annotation-node > use {
  stroke: #ccc;
}

tf-graph-scene  .series.highlighted > .nodeshape > use,tf-graph-scene  .series.highlighted > .annotation-node > use {
  stroke-width: 2;
}

tf-graph-scene  .series.selected > .nodeshape > use,tf-graph-scene  .series.selected > .annotation-node > use {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .series.selected > .nodeshape > rect {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .annotation.series.selected > .annotation-node > use {
  stroke: red;
  stroke-width: 2;
}

tf-graph-scene  .bridge > .nodeshape > rect {
  stroke: #f0f;
  opacity: 0.2;
  display: none;
}

tf-graph-scene  .edge > path.edgeline.structural {
  stroke: #f0f;
  opacity: 0.2;
  display: none;
}

tf-graph-scene  .edge > path.edgeline.referenceedge {
  stroke: #FFB74D;
  opacity: 1;
}

tf-graph-scene  .series > .annotation-node > rect {
  display: none;
}

tf-graph-scene  .node > text.nodelabel {
  cursor: pointer;
  fill: #444;
}

tf-graph-scene  .meta.expanded > text.nodelabel {
  font-size: 9px;
}

tf-graph-scene  .series > text.nodelabel {
  font-size: 8px;
}

tf-graph-scene  .op > text.nodelabel {
  font-size: 6px;
}

tf-graph-scene  .bridge > text.nodelabel {
  display: none;
}

tf-graph-scene  .node.meta.expanded > text.nodelabel {
  cursor: normal;
}

tf-graph-scene  .annotation.meta.highlighted > text.annotation-label {
  fill: #50A3F7;
}

tf-graph-scene  .annotation.meta.selected > text.annotation-label {
  fill: #4285F4;
}

tf-graph-scene  .annotation > .annotation-node > * {
  stroke-width: 0.5;
  stroke-dasharray: 1, 1;
}

tf-graph-scene  .annotation.summary > .annotation-node > *,tf-graph-scene  .annotation.constant > .annotation-node > * {
  stroke-width: 1;
  stroke-dasharray: none;
}

tf-graph-scene  .annotation > .annotation-edge {
  fill: none;
  stroke: #aaa;
  stroke-width: 0.5;
  marker-end: url('#annotation-arrowhead');
}

tf-graph-scene  .faded .annotation > .annotation-edge {
  marker-end: url('#annotation-arrowhead-faded');
}

tf-graph-scene  .annotation > .annotation-edge.refline {
  marker-start: url('#ref-annotation-arrowhead');
}

tf-graph-scene  .faded .annotation > .annotation-edge.refline {
  marker-start: url('#ref-annotation-arrowhead-faded');
}

tf-graph-scene  .annotation > .annotation-control-edge {
  stroke-dasharray: 1, 1;
}

tf-graph-scene  #annotation-arrowhead {
  fill: #aaa;
}

tf-graph-scene  #annotation-arrowhead-faded {
  fill: #e0d4b3;
}

tf-graph-scene  #ref-annotation-arrowhead {
  fill: #aaa;
}

tf-graph-scene  #ref-annotation-arrowhead-faded {
  fill: #e0d4b3;
}

tf-graph-scene  .annotation > .annotation-label {
  font-size: 5px;
  cursor: pointer;
}

tf-graph-scene  .annotation > .annotation-label.annotation-ellipsis {
  cursor: default;
}

tf-graph-scene  .expanded > .in-annotations,tf-graph-scene  .expanded > .out-annotations {
  display: none;
}

tf-graph-scene  .constant > .annotation-node > ellipse {
  cursor: pointer;
  fill: white;
  stroke: #848484;
}

tf-graph-scene  .constant.selected > .annotation-node > ellipse {
  fill: white;
  stroke: red;
}

tf-graph-scene  .constant.highlighted > .annotation-node > ellipse {
  stroke-width: 1.5;
}

tf-graph-scene  .summary > .annotation-node > ellipse {
  cursor: pointer;
  fill: #DB4437;
  stroke: #DB4437;
}

tf-graph-scene  .summary.selected > .annotation-node > ellipse {
  fill: #A52714;
  stroke: #A52714;
}

tf-graph-scene  .summary.highlighted > .annotation-node > ellipse {
  stroke-width: 1.5;
}

tf-graph-scene  .edge > path.edgeline {
  fill: none;
  stroke: #bbb;
  stroke-linecap: round;
  stroke-width: 0.75;
}

tf-graph-scene  .edge .selectableedge {
  cursor: pointer;
}

tf-graph-scene  .selectededge > path.edgeline {
  cursor: default;
  stroke: #f00;
}

tf-graph-scene  .edge.selectededge text {
  fill: #000;
}

tf-graph-scene  .edge > text {
  font-size: 3.5px;
  fill: #666;
}

tf-graph-scene  .dataflow-arrowhead {
  fill: #bbb;
}

tf-graph-scene  .reference-arrowhead {
  fill: #FFB74D;
}

tf-graph-scene  .selected-arrowhead {
  fill: #f00;
}

tf-graph-scene  .edge .control-dep {
  stroke-dasharray: 2, 2;
}

tf-graph-scene  .node:not(.highlighted):not(.expanded) > .nodeshape > .buttoncontainer {
  opacity: 0.01;
}

tf-graph-scene  .node.highlighted > .nodeshape > .buttoncontainer {
  cursor: pointer;
}

tf-graph-scene  .buttoncircle {
  fill: #E7811D;
}

tf-graph-scene  .buttoncircle:hover {
  fill: #B96717;
}

tf-graph-scene  .expandbutton,tf-graph-scene  .collapsebutton {
  stroke: white;
}

tf-graph-scene  .node > .nodeshape > .buttoncontainer > .expandbutton,tf-graph-scene  .node > .nodeshape > .buttoncontainer > .collapsebutton {
  pointer-events: none;
}

tf-graph-scene  .node.expanded > .nodeshape > .buttoncontainer > .expandbutton {
  display: none;
}

tf-graph-scene  .node:not(.expanded) > .nodeshape > .buttoncontainer > .collapsebutton {
  display: none;
}

tf-graph-scene  .health-pill-stats {
  font-size: 4px;
  text-anchor: middle;
}

tf-graph-scene  .health-pill rect {
  filter: url('#health-pill-shadow');
  rx: 3;
  ry: 3;
}

.titleContainer.tf-graph-scene {
  position: relative;
  top: 20px;
}

.title.tf-graph-scene,.auxTitle.tf-graph-scene,.functionLibraryTitle.tf-graph-scene {
  position: absolute;
}

#minimap.tf-graph-scene {
  position: absolute;
  right: 20px;
  bottom: 20px;
}</style><!-- Shady DOM styles for tf-graph --><style scope="tf-graph-0">.tf-graph-0 .container.tf-graph {
  width: 100%;
  height: 100%;
  background: white;
  box-shadow: 0 1px 5px rgba(0,0,0,0.2);
}

.tf-graph-0 .vertical.tf-graph {
  width:100%;
  height:100%;display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
}

.tf-graph-0 .auto.tf-graph {
  -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
}

.tf-graph-0 h2.tf-graph {
  text-align: center;
}

.tf-graph-0 paper-button.tf-graph {
  text-transform: none;
}</style><!-- Shady DOM styles for tf-graph-loader --><!-- Shady DOM styles for tf-debugger-continue-dialog --><!-- Shady DOM styles for tf-debugger-initial-dialog --><style scope="tf-debugger-initial-dialog">tf-debugger-initial-dialog[_hidden] {
  display: none;
}

tf-debugger-initial-dialog,#dashboard-backdrop.tf-debugger-initial-dialog {
  position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
}

#dashboard-backdrop.tf-debugger-initial-dialog {
  background: rgba(0, 0, 0, 0.6);
}

.code-example.tf-debugger-initial-dialog {
  margin: 10px;
      font-family: monospace;
}

.code-example-section.tf-debugger-initial-dialog {
  padding-bottom: 15px;
}

.code-example-section-title.tf-debugger-initial-dialog {
  font-weight: bold;
}

.code-snippet.tf-debugger-initial-dialog {
  padding-left: 1em;
}

#dialog-title.tf-debugger-initial-dialog {
  padding-bottom: 15px;
}

.custom-message.tf-debugger-initial-dialog {
  margin-top: 0;
      margin-bottom: 15px;
}</style><!-- Shady DOM styles for tf-debugger-resizer --><style scope="tf-debugger-resizer">tf-debugger-resizer[_resizer-identifier] {
  position: absolute;
      background: #ccc;
      user-select: none;
}

tf-debugger-resizer[is-horizontal] {
  cursor: row-resize;
      height: 10px;
      left: 0;
      right: 0;
}

tf-debugger-resizer[_is-vertical] {
  cursor: col-resize;
      right: -15px;
      top: 0;
      bottom: 0;
      width: 10px;
}

.bars.tf-debugger-resizer {
  width: 80%;
      text-align: center;
      position: absolute;
      top: 50%;
      left: 50%;
      font-size: 5px;
      transform: translate(-50%, -50%);
}

.bars-rotator.tf-debugger-resizer {
  display: inline-block;
}

tf-debugger-resizer[is-horizontal] .bars-rotator.tf-debugger-resizer {
  transform: rotate(90deg);
}

.bars-text.tf-debugger-resizer {
  transform: scaleY(15);
      white-space: nowrap;
      display: block;
      font-weight: 400;
}</style><!-- Shady DOM styles for tf-op-selector --><style scope="tf-op-selector">tf-op-selector .indented-level-container.tf-op-selector .content-container.tf-op-selector {
  margin: 0 0 0 20px;
}

tf-op-selector .level-container.tf-op-selector iron-collapse.tf-op-selector {
  padding: 0 0 0 20px;
}

tf-op-selector paper-checkbox.tf-op-selector {
  display: inline-block;
        width: 18px;
        height: 18px;
        margin: 0 8px 0 0;
}

tf-op-selector .op-type.tf-op-selector {
  padding-right: 10px;
        color: #444;
}

tf-op-selector .op-title-leaf.tf-op-selector {
  text-decoration: underline;
        cursor: pointer;
}

tf-op-selector .op-title-leaf.tf-op-selector:hover {
  color: blue;
}

tf-op-selector .partial-checkbox.tf-op-selector {
  background: #f57c00;
}

tf-op-selector .node-expand-button.tf-op-selector {
  margin: 0 0 0 -13px;
}

tf-op-selector .level-title-text.tf-op-selector {
  display: inline-block;
        font-weight: 800;
        margin: 0 0 0 -1px;
}

tf-op-selector .op-description.tf-op-selector {
  font-weight: 300;
        margin: 0 0 0 27px;
        padding: 10px 0;
}

tf-op-selector .spinner.tf-op-selector {
  width: 20px;
        height: 20px;
        vertical-align: middle;
}

tf-op-selector #filter-mode.tf-op-selector {
  width: 150px;
        display: inline-block;
}

tf-op-selector #filter-input.tf-op-selector {
  width: 250px;
        display: inline-block;
}

tf-op-selector .highlighted.tf-op-selector {
  color: red;
}

tf-op-selector .highlighted.tf-op-selector > .op-type.tf-op-selector {
  color: red;
}

#selector-hierarchy.tf-op-selector {
  width: 100%;
}</style><!-- Shady DOM styles for tf-session-runs-view --><style scope="tf-session-runs-view">tf-session-runs-view {
  display: block;
        padding: 20px 0;
}

.section-title.tf-session-runs-view {
  font-size: 110%;
        font-weight: bold;
}

tf-session-runs-view .indented-level-container.tf-session-runs-view .content-container.tf-session-runs-view {
  margin: 0 0 0 10px;
}

.session-runs-table.tf-session-runs-view {
  align-content: left;
        align-items: left;
        text-align: left;
        font-size: 90%;
        border-style: solid 1px black;
        table-layout: fixed;
        width: 100%;
        word-break: break-all;
        padding-top: 3px;
        padding-left: 3px;
        padding-right: 3px;
        box-shadow: 3px 3px #ddd;
}

.active-session-run.tf-session-runs-view {
  background-color: #FFFFE0;
        font-weight: bold;
}

.sole-active-session-run.tf-session-runs-view {
  background-color: rgb(172, 232, 188);
        font-weight: bold;
}

.node-or-tensor-element.tf-session-runs-view {
  text-decoration: underline;
        cursor: pointer;
}

.node-or-tensor-element.tf-session-runs-view:hover {
  color: blue;
}</style><!-- Shady DOM styles for tf-source-code-view --><style scope="tf-source-code-view">#source-files-tabs.tf-source-code-view {
  position: relative;
        height: 8%;
}

.source-content.tf-source-code-view {
  position: relative;
        height: 90%;
        font-family: monospace;
        font-size: 90%;
        overflow-x: scroll;
        overflow-y: scroll;
}

.source-content.tf-source-code-view .tf-source-code-view:hover {
  background-color: #FFFF00;
}

.highlighted-source-line.tf-source-code-view {
  background-color: #FFFFE0;
}

.source-line-number.tf-source-code-view {
  display: inline-block;
        color: lightblue;
        width: 2em;
        text-align: right;
        padding-right: 1em;
}

.source-line-node-toggle.tf-source-code-view {
  display: inline-block;
        color: blue;
        width: 5em;
        text-align: right;
        padding-right: 1em;
        text-decoration: underline;
        cursor: pointer;
}

.source-line-nodes.tf-source-code-view {
  padding-left: 4em;
        text-decoration: underline;
        cursor: pointer;
        color: blue;
        margin-top: 0em;
        margin-bottom: 0em;
        margin-right: 1em;
}

.source-line-node-entry.tf-source-code-view {
  margin-right: 1em;
        background-color: yellow;
}

.source-line-nodes.tf-source-code-view span.tf-source-code-view {
  text-decoration: none;
        background-color: yellow;
}

.source-line-text.tf-source-code-view {
  display: inline;
        word-wrap: break-word;
}

#fullStackDialog.tf-source-code-view {
  z-index: 1000;
        position: absolute;
        top:  10%;
        left: 50%;
        width: 45%;
        height: 85%;
        background-color: white;
        border: 1px solid gray;
        font-family: monospace;
        box-shadow: 3px 3px #ddd;
        overflow-y: auto;
}

#full-stack-title.tf-source-code-view {
  font-size: 110%;
        position: relative;
        width: 100%;
        background-color: #eee;
        text-align: center;
        font-weight: bold;
}

#full-stack-node-name.tf-source-code-view {
  color: blue;
}

tf-source-code-view #full-stack-content.tf-source-code-view {
  padding-top: 1em;
        padding-right: 0.5em;
        margin-top: 0.5em;
        font-size: 90%;
        word-wrap: break-word;
        overflow: auto;
}

.stack-frame-clickable.tf-source-code-view {
  color: blue;
        text-decoration: underline;
        cursor: pointer;
}

.stack-frame-nonclickable.tf-source-code-view {
  color: #555;
}

#close-full-stack-button.tf-source-code-view {
  float: right;
}</style><!-- Shady DOM styles for tf-tensor-data-summary --><style scope="tf-tensor-data-summary">tf-tensor-data-summary #tensor-data-div.tf-tensor-data-summary {
  height: 100%;
          overflow-y: auto;
}

.section-title.tf-tensor-data-summary {
  font-size: 110%;
          font-weight: bold;
}

tf-tensor-data-summary .indented-level-container.tf-tensor-data-summary .content-container.tf-tensor-data-summary {
  margin: 0 0 0 10px;
}

tf-tensor-data-summary .tensor-data-table.tf-tensor-data-summary {
  align-content: left;
          align-items: left;
          display: block;
          text-align: left;
          vertical-align: middle;
          width: 100%;
          padding-top: 3px;
          padding-left: 3px;
          padding-right: 3px;
          box-shadow: 3px 3px #ddd;
}

tf-tensor-data-summary #tensor-data-table.tf-tensor-data-summary th.tf-tensor-data-summary {
  vertical-align: top;
}

tf-tensor-data-summary .active-tensor.tf-tensor-data-summary {
  background-color: #FFFFE0;
          font-weight: bold;
          border: solid 1px #888;
}

tf-tensor-data-summary .highlighted.tf-tensor-data-summary {
  color: red;
}

tf-tensor-data-summary .health-pill-legend.tf-tensor-data-summary {
  float: right;
          font-weight: normal;
}

tf-tensor-data-summary #show-health-pills.tf-tensor-data-summary {
  display: inline-block;
}

.value-expansion-link.tf-tensor-data-summary {
  text-decoration: underline;
          cursor: pointer;
}

.value-expansion-link.tf-tensor-data-summary .tf-tensor-data-summary:hover {
  color: blue;
}

.health-pill.tf-tensor-data-summary .tf-tensor-data-summary:hover {
  cursor: pointer;
}

.tensor-name.tf-tensor-data-summary {
  text-decoration: underline;
          cursor: pointer;
}

.tensor-name.tf-tensor-data-summary .tf-tensor-data-summary:hover {
  color: blue;
}</style><!-- Shady DOM styles for vz-line-chart --><style scope="vz-line-chart">vz-line-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        flex-shrink: 1;
        position: relative;
        outline: none;
}

div.vz-line-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        flex-grow: 1;
        flex-shrink: 1;
}

td.vz-line-chart {
  padding-left: 5px;
        padding-right: 5px;
        font-size: 13px;
        opacity: 1;
}

#tooltip.vz-line-chart {
  pointer-events: none;
        position: absolute;
        opacity: 0;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
        font-size: 14px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        border-radius: 4px;
        line-height: 1.4em;
        padding: 8px;
        z-index: 5;
        cursor: none;
        margin-top: 10px;
}

.swatch.vz-line-chart {
  border-radius: 50%;
        width: 14px;
        height: 14px;
        display: block;
        border: 2px solid rgba(0,0,0,0);
}

.closest.vz-line-chart .swatch.vz-line-chart {
  border: 2px solid white;
}

th.vz-line-chart {
  padding-left: 5px;
        padding-right: 5px;
        text-align: left;
}

.distant.vz-line-chart td.vz-line-chart {
  opacity: 0.8;
}

.distant.vz-line-chart td.swatch.vz-line-chart {
  opacity: 1;
}

.ghost.vz-line-chart {
  opacity: 0.2;
        stroke-width: 1px;
}

#chartdiv.vz-line-chart line.guide-line.vz-line-chart {
  stroke: #999;
        stroke-width: 1.5px;
}</style><!-- Shady DOM styles for tf-debugger-line-chart --><style scope="tf-debugger-line-chart">vz-line-chart.tf-debugger-line-chart {
  height: 300px;
        position: relative;
}</style><!-- Shady DOM styles for tf-tensor-value-view --><style scope="tf-tensor-value-view">.tensor-value-buttons.tf-tensor-value-view {
  height: 75%;
      font-size: 10px;
}

.tensor-value-view-table.tf-tensor-value-view {
  width: 500px;
      display: inline-table;
      border-spacing: 5px;
      padding-top: 3px;
      padding-bottom: 3px;
      padding-left: 3px;
      padding-right: 3px;
      background-color: #f8f8f8;
      box-shadow: 3px 3px 1px 1px #d8d8d8;
}

.tensor-value-view-td.tf-tensor-value-view {
  width: 350px;
}

.value-card-input.tf-tensor-value-view {
  width: 150px;
}

#tensor-name.tf-tensor-value-view {
  display: inline-block;
      position: relative;
      width: 50%;
      cursor: pointer;
      color: blue;
      text-decoration: underline;
}

#debug-op.tf-tensor-value-view {
  font-size: 90%;
}

.value-image.tf-tensor-value-view {
  image-rendering: pixelated;
}

.value-view-icon-button.tf-tensor-value-view {
  display: inline-block;
      float: right;
      text-align: right;
      width: 20%;
      text-decoration: underline;
      cursor: pointer;
      font-size: 90%;
      color: blue;
}</style><!-- Shady DOM styles for tf-tensor-value-multi-view --><style scope="tf-tensor-value-multi-view">.section-title.tf-tensor-value-multi-view {
  font-size: 110%;
      font-weight: bold;
}

#multiView.tf-tensor-value-multi-view {
  background-color: #fff;
      padding-top: 3px;
      padding-left: 3px;
      padding-right: 3px;
      box-shadow: 3px 3px #eee;
}</style><!-- Shady DOM styles for tf-debugger-dashboard --><!-- Shady DOM styles for paper-material --><style scope="paper-material-0">.paper-material-0 {
  display: block;
        position: relative;
}

.paper-material-0[elevation="1"] {
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
}

.paper-material-0[elevation="2"] {
  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);
}

.paper-material-0[elevation="3"] {
  box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);
}

.paper-material-0[elevation="4"] {
  box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);
}

.paper-material-0[elevation="5"] {
  box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);
}

.paper-material-0[animated] {
  transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
}

.paper-material-0 {
  ;
}</style><!-- Shady DOM styles for tf-graph-debugger-data-card --><style scope="tf-graph-debugger-data-card">tf-graph-debugger-data-card {
  font-size: 12px;
  margin: 0;
  padding: 0;
  display: block;
}

h2.tf-graph-debugger-data-card {
  padding: 0;
  text-align: center;
  margin: 0;
}

.health-pill-legend.tf-graph-debugger-data-card {
  padding: 15px;
}

.health-pill-legend.tf-graph-debugger-data-card h2.tf-graph-debugger-data-card {
  text-align: left;
}

.health-pill-entry.tf-graph-debugger-data-card {
  margin: 10px 10px 10px 0;
}

.health-pill-entry.tf-graph-debugger-data-card .color-preview.tf-graph-debugger-data-card {
  width: 26px;
  height: 26px;
  border-radius: 3px;
  display: inline-block;
  margin: 0 10px 0 0;
}

.health-pill-entry.tf-graph-debugger-data-card .color-label.tf-graph-debugger-data-card,.health-pill-entry.tf-graph-debugger-data-card .tensor-count.tf-graph-debugger-data-card {
  color: #777;
  display: inline-block;
  height: 26px;
  font-size: 22px;
  line-height: 26px;
  vertical-align: top;
}

.health-pill-entry.tf-graph-debugger-data-card .tensor-count.tf-graph-debugger-data-card {
  float: right;
}

#health-pill-step-slider.tf-graph-debugger-data-card {
  width: 100%;
  margin: 0 0 0 -15px;
  
  width: calc(100% + 31px);
}

#health-pills-loading-spinner.tf-graph-debugger-data-card {
  width: 20px;
  height: 20px;
  vertical-align: top;
}

#health-pill-step-number-input.tf-graph-debugger-data-card {
  text-align: center;
  vertical-align: top;
}

#numeric-alerts-table-container.tf-graph-debugger-data-card {
  max-height: 400px;
  overflow-x: hidden;
  overflow-y: auto;
}

#numeric-alerts-table.tf-graph-debugger-data-card {
  text-align: left;
}

#numeric-alerts-table.tf-graph-debugger-data-card td.tf-graph-debugger-data-card {
  vertical-align: top;
}

#numeric-alerts-table.tf-graph-debugger-data-card .first-offense-td.tf-graph-debugger-data-card {
  display: inline-block;
}

.first-offense-td.tf-graph-debugger-data-card {
  width: 80px;
}

.tensor-device-td.tf-graph-debugger-data-card {
  max-width: 140px;
  word-wrap : break-word;
}

.tensor-section-within-table.tf-graph-debugger-data-card {
  color: #266236;
  cursor: pointer;
  opacity: 0.8;
  text-decoration: underline;
}

.tensor-section-within-table.tf-graph-debugger-data-card:hover {
  opacity: 1;
}

.device-section-within-table.tf-graph-debugger-data-card {
  color: #666;
}

.mini-health-pill.tf-graph-debugger-data-card {
  width: 130px;
}

.mini-health-pill.tf-graph-debugger-data-card > div.tf-graph-debugger-data-card {
  height: 100%;
  width: 60px;
  border-radius: 3px;
}

#event-counts-th.tf-graph-debugger-data-card {
  padding: 0 0 0 10px;
}

.negative-inf-mini-health-pill-section.tf-graph-debugger-data-card {
  background: rgb(255, 141, 0);
  width: 20px;
}

.positive-inf-mini-health-pill-section.tf-graph-debugger-data-card {
  background: rgb(0, 62, 212);
  width: 20px;
}

.nan-mini-health-pill-section.tf-graph-debugger-data-card {
  background: rgb(204, 47, 44);
  width: 20px;
}

.negative-inf-mini-health-pill-section.tf-graph-debugger-data-card,.positive-inf-mini-health-pill-section.tf-graph-debugger-data-card,.nan-mini-health-pill-section.tf-graph-debugger-data-card {
  color: #fff;
  display: inline-block;
  height: 100%;
  line-height: 20px;
  margin: 0 0 0 10px;
  text-align: center;
}

.no-numeric-alerts-notification.tf-graph-debugger-data-card {
  margin: 0;
}</style><!-- Shady DOM styles for iron-list --><style scope="iron-list-0">.iron-list-0 {
  display: block;
}

@media only screen and (-webkit-max-device-pixel-ratio: 1) {
.iron-list-0 {
  will-change: transform;
}

}

.iron-list-0 #items.iron-list {
  ;
        position: relative;
}

.iron-list-0:not([grid]) #items.iron-list > * {
  width: 100%;
}

.iron-list-0 #items.iron-list > * {
  box-sizing: border-box;
        margin: 0;
        position: absolute;
        top: 0;
        will-change: transform;
}</style><!-- Shady DOM styles for paper-item-body --><style scope="paper-item-body-0">.paper-item-body-0 {
  overflow: hidden;display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;-ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;-ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
}

.paper-item-body-0[two-line] {
  min-height: 72px;
}

.paper-item-body-0[three-line] {
  min-height: 88px;
}

.paper-item-body-0 > * {
  overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
}

.paper-item-body-0 > [secondary] {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;

        font-size: 14px;
        font-weight: 400;
        line-height: 20px;

        color: #737373;;
}</style><!-- Shady DOM styles for tf-graph-icon --><style scope="tf-graph-icon-0">.tf-graph-icon-0 .faded-rect.tf-graph-icon {
  fill: url('#rectHatch');
}

.tf-graph-icon-0 .faded-ellipse.tf-graph-icon {
  fill: url('#ellipseHatch');
}

.tf-graph-icon-0 .faded-rect.tf-graph-icon,.tf-graph-icon-0 .faded-ellipse.tf-graph-icon,.tf-graph-icon-0 .faded-series.tf-graph-icon {
  stroke:   #e0d4b3 !important;
}</style><!-- Shady DOM styles for tf-graph-op-compat-list-item --><!-- Shady DOM styles for tf-graph-op-compat-card --><style scope="tf-graph-op-compat-card">tf-graph-op-compat-card {
  max-height: 500px;
}

.incompatible-ops-list.tf-graph-op-compat-card {
  height: 350px;
  max-height: 400px;
  overflow-y: scroll;
  display: flex;
  flex-direction: column;
}

iron-list.tf-graph-op-compat-card {
  flex: 1 1 auto;
}

paper-item.tf-graph-op-compat-card {
  padding: 0;
  background: #e9e9e9;
}

paper-item-body[two-line].tf-graph-op-compat-card {
  min-height: 0;
  padding: 8px 12px 4px;
}

.expandedInfo.tf-graph-op-compat-card {
  padding: 8px 12px;
  font-weight: 500;
  font-size: 12pt;
  width: 100%;
}

.node-name.tf-graph-op-compat-card {
  white-space: normal;
  word-wrap: break-word;
  font-size: 14pt;
  font-weight: 500;
}

.subtitle.tf-graph-op-compat-card {
  font-size: 12pt;
  color: #5e5e5e;
}

.toggle-button.tf-graph-op-compat-card {
  float: right;
  max-height: 20px;
  max-width: 20px;
  padding: 0;
}

.non-control-list-item.tf-graph-op-compat-card {
  padding-left: 10px;
}

div.op-compat-display.tf-graph-op-compat-card {
  margin-top: 10px;
  display: inline-block;
}

svg.op-compat.tf-graph-op-compat-card {
  width: 250px;
  height: 25px;
  float: left;
}

div.op-compat-value.tf-graph-op-compat-card {
  float: right;
  height: 100%;
  font-size: 14px;
  color: black;
  margin-left: 10px;
}</style><!-- Shady DOM styles for tf-node-list-item --><style scope="tf-node-list-item-0">.tf-node-list-item-0 #list-item.tf-node-list-item {
  width: 100%;
    color: #565656;
    font-size: 11pt;
    font-weight: 400;
    position: relative;
    display: inline-block;
}

.tf-node-list-item-0 #list-item.tf-node-list-item:hover {
  background-color: #fce8b2;
}

.tf-node-list-item-0 .clickable.tf-node-list-item {
  cursor: pointer;
}

.tf-node-list-item-0 #list-item.tf-node-list-item span.tf-node-list-item {
  margin-left: 40px;
}

.tf-node-list-item-0 #list-item.excluded.tf-node-list-item span.tf-node-list-item {
  color: #999;
}

.tf-node-list-item-0 #list-item.tf-node-list-item span.edge-label.tf-node-list-item {
  float: right;
    font-size: 10px;
    margin-left: 3px;
    margin-right: 5px;
}

.tf-node-list-item-0 .node-icon.tf-node-list-item {
  position: absolute;
    top: 1px;
    left: 2px;
}

.tf-node-list-item-0 .faded.tf-node-list-item span.tf-node-list-item {
  color: #e0d4b3;
}</style><!-- Shady DOM styles for tf-node-info --><style scope="tf-node-info-0">.tf-node-info-0 .sub-list-group.tf-node-info {
  font-weight: 500;
    font-size: 12pt;
    padding-bottom: 8px;
    width: 100%;
}

.tf-node-info-0 .sub-list.tf-node-info {
  max-height: 300px;
    overflow-y: scroll;
}

.tf-node-info-0 .attr-left.tf-node-info {
  float: left;
    width: 30%;
    word-wrap: break-word;
    color: #565656;
    font-size: 11pt;
    font-weight: 400;
}

.tf-node-info-0 .attr-right.tf-node-info {
  margin-left: 30%;
    word-wrap: break-word;
    color: #565656;
    font-weight: 400;
}

.tf-node-info-0 .sub-list-table.tf-node-info {
  display: table;
    width: 100%;
}

.tf-node-info-0 .sub-list-table-row.tf-node-info {
  display: table-row;
}

.tf-node-info-0 .sub-list-table-row.tf-node-info .sub-list-table-cell.tf-node-info:last-child {
  text-align: right;
}

.tf-node-info-0 .sub-list-table-cell.tf-node-info {
  color: #565656;
    display: table-cell;
    font-size: 11pt;
    font-weight: 400;
    max-width: 200px;
    padding: 0 4px;
}

.tf-node-info-0 paper-item.tf-node-info {
  padding: 0;
    background: #e9e9e9;
}

.tf-node-info-0 paper-item-body[two-line].tf-node-info {
  min-height: 0;
    padding: 8px 12px 4px;
}

.tf-node-info-0 .expandedInfo.tf-node-info {
  padding: 8px 12px;
}

.tf-node-info-0 .controlDeps.tf-node-info {
  padding: 0 0 0 8px;
}

.tf-node-info-0 .node-name.tf-node-info {
  white-space: normal;
    word-wrap: break-word;
    font-size: 14pt;
    font-weight: 500;
}

.tf-node-info-0 .node-icon.tf-node-info {
  float: right;
}

.tf-node-info-0 .subtitle.tf-node-info {
  font-size: 12pt;
    color: #5e5e5e;
}

.tf-node-info-0 .controlLine.tf-node-info {
  font-size: 11pt;
    font-weight: 400;
}

.tf-node-info-0 .toggle-button.tf-node-info {
  float: right;
    max-height: 20px;
    max-width: 20px;
    padding: 0;
}

.tf-node-info-0 .control-toggle-button.tf-node-info {
  float: left;
    max-height: 20px;
    max-width: 20px;
    padding: 0;
}

.tf-node-info-0 .toggle-include-group.tf-node-info {
  padding-top: 4px;
}

.tf-node-info-0 .toggle-include.tf-node-info {
  margin: 5px 6px;
    text-transform: none;
    padding: 4px 6px;
    font-size: 10pt;
    background-color: #fafafa;
    color: #666;
}

.tf-node-info-0 .toggle-include.tf-node-info:hover {
  background-color: #fce8b2;
}

.tf-node-info-0 .non-control-list-item.tf-node-info {
  padding-left: 10px;
}</style><!-- Shady DOM styles for tf-graph-info --><style scope="tf-graph-info">tf-graph-info {
  font-size: 12px;
  margin: 0;
  padding: 0;
  display: block;
  max-height: 650px;
  overflow-x: hidden;
  overflow-y: auto;
}

h2.tf-graph-info {
  padding: 0;
  text-align: center;
  margin: 0;
}</style><!-- Shady DOM styles for tf-graph-board --><style scope="tf-graph-board-0">.tf-graph-board-0 :tf-graph-board {
  display: block;
}

.tf-graph-board-0   .close {
  position: absolute;
  cursor: pointer;
  left: 15px;
  bottom: 15px;
}

.tf-graph-board-0 .container.tf-graph-board {
  width: 100%;
  height: 100%;
  opacity: 1;
}

.tf-graph-board-0 .container.loading.tf-graph-board {
  cursor: progress;
  opacity: 0.1;
}

.tf-graph-board-0 .container.loading.error.tf-graph-board {
  cursor: auto;
}

.tf-graph-board-0 #info.tf-graph-board {
  position: absolute;
  right: 5px;
  top: 5px;
  padding: 0px;
  max-width: 380px;
  min-width: 320px;
  background-color: rgba(255,255,255,0.9);box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
}

.tf-graph-board-0 #main.tf-graph-board {
  width: 100%;
  height: 100%;
}

.tf-graph-board-0 #progress-bar.tf-graph-board {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  position: absolute;
  top: 40px;
  left: 0;
  font-size: 13px;
}

.tf-graph-board-0 #progress-msg.tf-graph-board {
  width: 400px;
  margin-bottom: 5px;
}

.tf-graph-board-0 paper-progress.tf-graph-board {
  width: 400px;
}

.tf-graph-board-0 .context-menu.tf-graph-board {
  position: absolute;
  display: none;
  background-color: #e2e2e2;
  border-radius: 2px;
  font-size: 14px;
  min-width: 150px;
  border: 1px solid #d4d4d4;
}

.tf-graph-board-0   .context-menu ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  cursor: default;
}

.tf-graph-board-0   .context-menu ul li {
  padding: 4px 16px;
}

.tf-graph-board-0   .context-menu ul li:hover {
  background-color: #f3913e;
  color: white;
}</style><!-- Shady DOM styles for paper-radio-button --><style scope="paper-radio-button-1">.paper-radio-button-1 {
  display: inline-block;
        line-height: 0;
        white-space: nowrap;
        cursor: pointer;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
}

.paper-radio-button-1:focus {
  outline: none;
}

.paper-radio-button-1 #radioContainer.paper-radio-button {
  display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;-ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        position: relative;
        width: 16px;
        height: 16px;
        vertical-align: middle;;
}

.paper-radio-button-1 #ink.paper-radio-button {
  position: absolute;
        top: 50%;
        left: 50%;
        right: auto;
        width: 48px;
        height: 48px;
        color: #212121;
        opacity: 0.6;
        pointer-events: none;
        -webkit-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
}

.paper-radio-button-1 #ink[checked].paper-radio-button {
  color: #3f51b5;
}

.paper-radio-button-1 #offRadio.paper-radio-button,.paper-radio-button-1 #onRadio.paper-radio-button {
  position: absolute;
        box-sizing: border-box;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 50%;
}

.paper-radio-button-1 #offRadio.paper-radio-button {
  border: 2px solid #212121;
        background-color: transparent;
        transition: border-color 0.28s;
}

.paper-radio-button-1 #onRadio.paper-radio-button {
  background-color: #3f51b5;
        -webkit-transform: scale(0);
        transform: scale(0);
        transition: -webkit-transform ease 0.28s;
        transition: transform ease 0.28s;
        will-change: transform;
}

.paper-radio-button-1[checked] #offRadio.paper-radio-button {
  border-color: #3f51b5;
}

.paper-radio-button-1[checked] #onRadio.paper-radio-button {
  -webkit-transform: scale(0.5);
        transform: scale(0.5);
}

.paper-radio-button-1 #radioLabel.paper-radio-button {
  line-height: normal;
        position: relative;
        display: inline-block;
        vertical-align: middle;
        margin-left: 10px;
        white-space: normal;
        color: #212121;;
}

.paper-radio-button-1[checked] #radioLabel.paper-radio-button {
  ;
}

[dir="rtl"] .paper-radio-button-1 #radioLabel, .paper-radio-button-1[dir="rtl"] #radioLabel,.paper-radio-button-1 [dir="rtl"]  #radioLabel {
  margin-left: 0;
        margin-right: 10px;
}

.paper-radio-button-1 #radioLabel[hidden].paper-radio-button {
  display: none;
}

.paper-radio-button-1[disabled] #offRadio.paper-radio-button {
  border-color: #212121;
        opacity: 0.5;
}

.paper-radio-button-1[disabled][checked] #onRadio.paper-radio-button {
  background-color: #212121;
        opacity: 0.5;
}

.paper-radio-button-1[disabled] #radioLabel.paper-radio-button {
  opacity: 0.65;
}</style><!-- Shady DOM styles for paper-radio-group --><style scope="paper-radio-group-0">.paper-radio-group-0 {
  display: inline-block;
}

.paper-radio-group-0 > * {
  padding: 12px;
}</style><!-- Shady DOM styles for paper-tooltip --><style scope="paper-tooltip-0">.paper-tooltip-0 {
  display: block;
        position: absolute;
        outline: none;
        z-index: 1002;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: default;
}

.paper-tooltip-0 #tooltip.paper-tooltip {
  display: block;
        outline: none;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
        font-size: 10px;
        line-height: 1;
        background-color: #616161;
        color: white;
        padding: 8px;
        border-radius: 2px;;
}

@keyframes keyFrameScaleUp-paper-tooltip-0 {
0% {
  transform: scale(0.0);
}

100% {
  transform: scale(1.0);
}

}

@keyframes keyFrameScaleDown-paper-tooltip-0 {
0% {
  transform: scale(1.0);
}

100% {
  transform: scale(0.0);
}

}

@keyframes keyFrameFadeInOpacity-paper-tooltip-0 {
0% {
  opacity: 0;
}

100% {
  opacity: 0.9;
}

}

@keyframes keyFrameFadeOutOpacity-paper-tooltip-0 {
0% {
  opacity: 0.9;
}

100% {
  opacity: 0;
}

}

@keyframes keyFrameSlideDownIn-paper-tooltip-0 {
0% {
  transform: translateY(-2000px);
          opacity: 0;
}

10% {
  opacity: 0.2;
}

100% {
  transform: translateY(0);
          opacity: 0.9;
}

}

@keyframes keyFrameSlideDownOut-paper-tooltip-0 {
0% {
  transform: translateY(0);
          opacity: 0.9;
}

10% {
  opacity: 0.2;
}

100% {
  transform: translateY(-2000px);
          opacity: 0;
}

}

.paper-tooltip-0 .fade-in-animation.paper-tooltip {
  opacity: 0;
        animation-delay: 0ms;
        animation-name: keyFrameFadeInOpacity-paper-tooltip-0;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: 500ms;
        animation-fill-mode: forwards;;
}

.paper-tooltip-0 .fade-out-animation.paper-tooltip {
  opacity: 0.9;
        animation-delay: 0ms;
        animation-name: keyFrameFadeOutOpacity-paper-tooltip-0;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: 500ms;
        animation-fill-mode: forwards;;
}

.paper-tooltip-0 .scale-up-animation.paper-tooltip {
  transform: scale(0);
        opacity: 0.9;
        animation-delay: 0ms;
        animation-name: keyFrameScaleUp-paper-tooltip-0;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: 500ms;
        animation-fill-mode: forwards;;
}

.paper-tooltip-0 .scale-down-animation.paper-tooltip {
  transform: scale(1);
        opacity: 0.9;
        animation-delay: 500ms;
        animation-name: keyFrameScaleDown-paper-tooltip-0;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: 500ms;
        animation-fill-mode: forwards;;
}

.paper-tooltip-0 .slide-down-animation.paper-tooltip {
  transform: translateY(-2000px);
        opacity: 0;
        animation-delay: 500ms;
        animation-name: keyFrameSlideDownIn-paper-tooltip-0;
        animation-iteration-count: 1;
        animation-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
        animation-duration: 500ms;
        animation-fill-mode: forwards;;
}

.paper-tooltip-0 .slide-down-animation-out.paper-tooltip {
  transform: translateY(0);
        opacity: 0.9;
        animation-delay: 500ms;
        animation-name: keyFrameSlideDownOut-paper-tooltip-0;
        animation-iteration-count: 1;
        animation-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
        animation-duration: 500ms;
        animation-fill-mode: forwards;;
}

.paper-tooltip-0 .cancel-animation.paper-tooltip {
  animation-delay: -30s !important;
}

.paper-tooltip-0 .hidden.paper-tooltip {
  display: none !important;
}</style><!-- Shady DOM styles for tf-graph-node-search --><style scope="tf-graph-node-search-0">.tf-graph-node-search-0 #search-container.tf-graph-node-search {
  width: 100%;
  overflow: visible;
}

.tf-graph-node-search-0 #runs-regex.tf-graph-node-search {
  width: 100%;
}

.tf-graph-node-search-0 #search-results-anchor.tf-graph-node-search {
  position: relative;
}

.tf-graph-node-search-0 #search-results.tf-graph-node-search {
  color: #fff;
  position: absolute;
  max-height: 200px;
  overflow-x: hidden;
  overflow-y: auto;
  text-align: right;
  max-width: 100%;
  box-sizing: border-box;
}

.tf-graph-node-search-0 #search-match.tf-graph-node-search {
  background: #f57c00;
  padding: 3px;
  float: right;
  width: 100%;
  box-sizing: border-box;
  direction: rtl;
}

.tf-graph-node-search-0 #search-match.tf-graph-node-search:hover {
  background: #ffa726;
  cursor: pointer;
}</style><!-- Shady DOM styles for tf-graph-controls --><style scope="tf-graph-controls-0">.tf-graph-controls-0 {
  font-size: 12px;
  color: gray;
}

.tf-graph-controls-0 paper-button[raised].keyboard-focus.tf-graph-controls {
  font-weight: normal;
}

.tf-graph-controls-0 .run-dropdown.tf-graph-controls {
  ;
}

.tf-graph-controls-0 .color-dropdown.tf-graph-controls {
  ;
}

.tf-graph-controls-0 table.tf-graph-controls {
  border-collapse: collapse;
  border-spacing: 0;
}

.tf-graph-controls-0 table.tf-graph-controls td.tf-graph-controls {
  padding: 0;
  margin: 0;
}

.tf-graph-controls-0 .allcontrols.tf-graph-controls {
  width: 188px;
  padding: 0 30px;
}

.tf-graph-controls-0 .legend-holder.tf-graph-controls {
  background: #e9e9e9;
  border-top: 1px solid #ccc;
  color: #555;
  position: absolute;
  bottom: 0;
  left: 0;
  padding: 15px 23px;
  width: 100%;
}

.tf-graph-controls-0 .toggle-legend-button.tf-graph-controls {
  max-height: 20px;
  max-width: 20px;
  padding: 0;
}

.tf-graph-controls-0 .toggle-legend-text.tf-graph-controls {
  vertical-align: middle;
}

.tf-graph-controls-0 paper-radio-button.tf-graph-controls {
  display: block;
  padding: 5px;
}

.tf-graph-controls-0 svg.icon.tf-graph-controls {
  width: 60px;
  height: 18px;
}

.tf-graph-controls-0 .icon.tf-graph-controls ellipse.tf-graph-controls {
  rx: 10px;
  ry: 5px;
  stroke: #CCC;
  stroke-width: 1px;
  fill: #FFFFFF;
  cy: 10px;
}

.tf-graph-controls-0 .icon.tf-graph-controls rect.tf-graph-controls {
  height: 14px;
  width: 35px;
  rx: 5px;
  ry: 5px;
  stroke: #CCC;
  stroke-width: 2px;
  fill: #D9D9D9;
}

.tf-graph-controls-0 .domainValues.tf-graph-controls {
  margin-bottom: 10px;
  width: 165px;
}

.tf-graph-controls-0 .domainStart.tf-graph-controls {
  float: left;
}

.tf-graph-controls-0 .domainEnd.tf-graph-controls {
  float: right;
}

.tf-graph-controls-0 .colorBox.tf-graph-controls {
  width: 20px;
}

.tf-graph-controls-0 .image-icon.tf-graph-controls {
  width: 24px;
  height: 24px;
}

.tf-graph-controls-0 .help-icon.tf-graph-controls {
  height: 15px;
  margin: 0;
  padding: 0;
}

.tf-graph-controls-0 .gray.tf-graph-controls {
  color: #666;
}

.tf-graph-controls-0 .title.tf-graph-controls {
  font-size: 16px;
  margin: 8px 5px 8px 0;
  color: black;
}

.tf-graph-controls-0 .title.tf-graph-controls small.tf-graph-controls {
  font-weight: normal;
}

.tf-graph-controls-0 .deviceList.tf-graph-controls,.tf-graph-controls-0 .xlaClusterList.tf-graph-controls {
  max-height: 200px;
  overflow-y: auto;
}

.tf-graph-controls-0 #file.tf-graph-controls {
  padding: 8px 0;
}

.tf-graph-controls-0 .color-legend-row.tf-graph-controls {
  clear: both;
  height: 20px;
  margin-top: 5px;
  position: relative;
}

.tf-graph-controls-0 .color-legend-row.tf-graph-controls svg.tf-graph-controls {
  position: absolute;
  top: -1px;
  width: 40px;
}

.tf-graph-controls-0 .color-legend-row.tf-graph-controls span.color-legend-value.tf-graph-controls {
  margin-left: 60px;
}

.tf-graph-controls-0 #grey-rect.tf-graph-controls {
  fill: #eee;
  stroke: #a6a6a6;
}

.tf-graph-controls-0 #faded-rect.tf-graph-controls {
  fill: url('#rectHatch');
  stroke: #e0d4b3;
}

.tf-graph-controls-0 #unfilled-rect.tf-graph-controls {
  stroke: #a6a6a6;
}

.tf-graph-controls-0 .devices-checkbox.tf-graph-controls input.tf-graph-controls {
  text-align: left;
  vertical-align: middle
}

.tf-graph-controls-0 .button-text.tf-graph-controls {
  text-transform: none;
  padding: 8px 18px 0 18px;
  font-size: 14px
}

.tf-graph-controls-0 .upload-button.tf-graph-controls {
  width: 165px;
  height: 25px;
  text-transform: none;
  margin-top: 4px;
}

.tf-graph-controls-0 .iconbutton.tf-graph-controls {
  padding: 2px;
  width: 30px;
  height: 30px;
  color: #ff9800;
}

.tf-graph-controls-0 .hidden-input.tf-graph-controls {
  height: 0px;
  width: 0px;
  overflow:hidden;
}

.tf-graph-controls-0 .allcontrols.tf-graph-controls .control-holder.tf-graph-controls {
  display: flex;
  clear: both;
}

.tf-graph-controls-0 .allcontrols.tf-graph-controls .control-holder.tf-graph-controls paper-radio-group.tf-graph-controls {
  margin-top: 5px;
}

.tf-graph-controls-0 span.counter.tf-graph-controls {
  font-size: 13px;
  color: gray;
}

.tf-graph-controls-0 table.control-holder.tf-graph-controls {
  border: 0;
  border-collapse: collapse;
}

.tf-graph-controls-0 table.tf-graph-controls.tf-graph-controls td.input-element-table-data.tf-graph-controls {
  padding: 0 0 0 20px;
}

.tf-graph-controls-0 #color-by-radio-group.tf-graph-controls paper-radio-button.tf-graph-controls {
  pointer-events: auto !important;
}

.tf-graph-controls-0 .legend-clarifier.tf-graph-controls {
  color: #266236;
  cursor: help;
  display: inline-block;
  text-decoration: underline;
}

.tf-graph-controls-0 .legend-clarifier.tf-graph-controls paper-tooltip.tf-graph-controls {
  width: 150px;
}

.tf-graph-controls-0 tf-graph-node-search.tf-graph-controls {
  z-index: 1;
  width: 100%;
}</style><!-- Shady DOM styles for tf-graph-dashboard --><style scope="tf-graph-dashboard">tf-graph-dashboard   {
  font-family: 'Roboto', sans-serif;
}

.center.tf-graph-dashboard {
  position: relative;
  height: 100%;
}

paper-dialog.tf-graph-dashboard {
  padding: 20px;
}</style><!-- Shady DOM styles for vz-distribution-chart --><style scope="vz-distribution-chart">vz-distribution-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        flex-shrink: 1;
        position: relative;
}

#chartdiv.vz-distribution-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        flex-grow: 1;
        flex-shrink: 1;
}</style><!-- Shady DOM styles for tf-distribution-loader --><!-- Shady DOM styles for tf-distribution-dashboard --><!-- Shady DOM styles for vz-histogram-timeseries --><style scope="vz-histogram-timeseries">vz-histogram-timeseries {
  display: flex;
          flex-direction: column;
          flex-grow: 1;
          flex-shrink: 1;
          position: relative;
}

svg.vz-histogram-timeseries {
  font-family: roboto, sans-serif;
          overflow: visible;
          display: block;
          width: 100%;
          flex-grow: 1;
          flex-shrink: 1;
}

#tooltip.vz-histogram-timeseries {
  position: absolute;
          display: block;
          opacity: 0;
          font-weight: bold;
          font-size: 11px;
}

.background.vz-histogram-timeseries {
  fill-opacity: 0;
          fill: red;
}

.histogram.vz-histogram-timeseries {
  pointer-events: none;
}

.hover.vz-histogram-timeseries {
  font-size: 9px;
          dominant-baseline: middle;
          opacity: 0;
}

.hover.vz-histogram-timeseries circle.vz-histogram-timeseries {
  stroke: white;
          stroke-opacity: 0.5;
          stroke-width: 1px;
}

.hover.vz-histogram-timeseries text.vz-histogram-timeseries {
  fill: black;
          opacity: 0;
}

.hover.hover-closest.vz-histogram-timeseries circle.vz-histogram-timeseries {
  fill: black!important;
}

.hover.hover-closest.vz-histogram-timeseries text.vz-histogram-timeseries {
  opacity: 1;
}

.baseline.vz-histogram-timeseries {
  stroke: black;
          stroke-opacity: 0.1;
}

.outline.vz-histogram-timeseries {
  fill: none;
          stroke: white;
          stroke-opacity: 0.5;
}

.outline.outline-hover.vz-histogram-timeseries {
  stroke: black!important;
          stroke-opacity: 1;
}

.x-axis-hover.vz-histogram-timeseries,.y-axis-hover.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries {
  pointer-events: none;
}

.x-axis-hover.vz-histogram-timeseries .label.vz-histogram-timeseries,.y-axis-hover.vz-histogram-timeseries .label.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries .label.vz-histogram-timeseries {
  opacity: 0;
          font-weight: bold;
          font-size: 11px;
          text-anchor: end;
}

.x-axis-hover.vz-histogram-timeseries text.vz-histogram-timeseries {
  text-anchor: middle;
}

.y-axis-hover.vz-histogram-timeseries text.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries text.vz-histogram-timeseries {
  text-anchor: start;
}

.x-axis-hover.vz-histogram-timeseries line.vz-histogram-timeseries,.y-axis-hover.vz-histogram-timeseries line.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries line.vz-histogram-timeseries {
  stroke: black;
}

.x-axis-hover.vz-histogram-timeseries rect.vz-histogram-timeseries,.y-axis-hover.vz-histogram-timeseries rect.vz-histogram-timeseries,.y-slice-axis-hover.vz-histogram-timeseries rect.vz-histogram-timeseries {
  fill: white;
}

.axis.vz-histogram-timeseries {
  font-size: 11px;
}

.axis.vz-histogram-timeseries path.domain.vz-histogram-timeseries {
  fill: none;
}

.axis.vz-histogram-timeseries .tick.vz-histogram-timeseries line.vz-histogram-timeseries {
  stroke: #ddd;
}

.axis.slice.vz-histogram-timeseries {
  opacity: 0;
}

.axis.slice.vz-histogram-timeseries .tick.vz-histogram-timeseries line.vz-histogram-timeseries {
  stroke-dasharray: 2;
}

.small.vz-histogram-timeseries .axis.vz-histogram-timeseries text.vz-histogram-timeseries {
  display: none;
}

.small.vz-histogram-timeseries .axis.vz-histogram-timeseries .tick.vz-histogram-timeseries:first-of-type text.vz-histogram-timeseries {
  display: block;
}

.small.vz-histogram-timeseries .axis.vz-histogram-timeseries .tick.vz-histogram-timeseries:last-of-type text.vz-histogram-timeseries {
  display: block;
}

.medium.vz-histogram-timeseries .axis.vz-histogram-timeseries text.vz-histogram-timeseries {
  display: none;
}

.medium.vz-histogram-timeseries .axis.vz-histogram-timeseries .tick.vz-histogram-timeseries:nth-child(2n + 1).vz-histogram-timeseries text.vz-histogram-timeseries {
  display: block;
}

.large.vz-histogram-timeseries .axis.vz-histogram-timeseries text.vz-histogram-timeseries {
  display: none;
}

.large.vz-histogram-timeseries .axis.vz-histogram-timeseries .tick.vz-histogram-timeseries:nth-child(2n + 1).vz-histogram-timeseries text.vz-histogram-timeseries {
  display: block;
}</style><!-- Shady DOM styles for tf-histogram-loader --><!-- Shady DOM styles for tf-histogram-dashboard --><!-- Shady DOM styles for tf-no-data-warning --><style scope="tf-no-data-warning">.warning.tf-no-data-warning {
  max-width: 540px;
        margin: 80px auto 0 auto;
}</style><!-- Shady DOM styles for paper-listbox --><!-- Shady DOM styles for vz-projector-bookmark-panel --><style scope="vz-projector-bookmark-panel">paper-button.vz-projector-bookmark-panel {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-bookmark-panel paper-item.vz-projector-bookmark-panel {
  font-size: 13px;
}

paper-tooltip.vz-projector-bookmark-panel {
  max-width: 200px;
}

paper-icon-button.vz-projector-bookmark-panel {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-bookmark-panel {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-bookmark-panel {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-bookmark-panel span.vz-projector-bookmark-panel {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-bookmark-panel label.vz-projector-bookmark-panel {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-bookmark-panel {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-bookmark-panel {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-bookmark-panel h4.vz-projector-bookmark-panel {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-bookmark-panel {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-bookmark-panel {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-bookmark-panel {
  display: block;
}

.ink-panel-content.vz-projector-bookmark-panel h3.vz-projector-bookmark-panel {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-bookmark-panel h3.vz-projector-bookmark-panel {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-bookmark-panel {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-bookmark-panel .projection-tab.vz-projector-bookmark-panel {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-bookmark-panel .projection-tab.vz-projector-bookmark-panel:hover {
  color: black;
}

.ink-tab-group.vz-projector-bookmark-panel .projection-tab.active.vz-projector-bookmark-panel {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-bookmark-panel {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-bookmark-panel {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

#title.vz-projector-bookmark-panel {
  background-color: #fafafa;
  color: black;
  font-weight: 500;
  left: 0;
  line-height: 60px;
  padding-left: 24px;
  position: absolute;
  width: 276px;
}

#bookmark-container.vz-projector-bookmark-panel {
  background-color: #fafafa;
}

#icon-container.vz-projector-bookmark-panel {
  line-height: 60px;
  position: absolute;
  right: 0;
}

#header.vz-projector-bookmark-panel {
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  position: relative;
}

#panel.vz-projector-bookmark-panel {
  background-color: #fafafa;
  position: relative;
  overflow-y: scroll;
  top: 60px;
  max-height: 50vh;
}

#save-container.vz-projector-bookmark-panel {
  text-align: center;
}

.state-radio.vz-projector-bookmark-panel {
  display: table-cell;
  vertical-align: middle;
  padding-top: 16px;
}

.state-label.vz-projector-bookmark-panel {
  display: table-cell;
  vertical-align: middle;
  top: 14px;
}

.state-label-input.vz-projector-bookmark-panel {
  width: 194px;
}

.state-clear.vz-projector-bookmark-panel {
  display: table-cell;
  vertical-align: middle;
  padding-top: 20px;
}

#state-file.vz-projector-bookmark-panel {
  display: none;
}

#no-bookmarks.vz-projector-bookmark-panel {
  padding: 0 24px;
}

#action-buttons-container.vz-projector-bookmark-panel .add-icon-button.vz-projector-bookmark-panel {
  background-color: #03a9f4;
  color: white;
  margin: 0 4px 4px auto;
  right: 7px;
  top: -4px;
}

.upload-download-icon-button.vz-projector-bookmark-panel {
  padding: 0;
}

#action-buttons-container.vz-projector-bookmark-panel {
  display: flex;
  margin-left: 34px;
  margin-top: 6px;
}

.ink-fab.vz-projector-bookmark-panel {
  border-radius: 50%;
  background: white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}</style><!-- Shady DOM styles for vz-projector-legend --><style scope="vz-projector-legend">paper-button.vz-projector-legend {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-legend paper-item.vz-projector-legend {
  font-size: 13px;
}

paper-tooltip.vz-projector-legend {
  max-width: 200px;
}

paper-icon-button.vz-projector-legend {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-legend {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-legend {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-legend span.vz-projector-legend {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-legend label.vz-projector-legend {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-legend {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-legend {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-legend h4.vz-projector-legend {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-legend {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-legend {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-legend {
  display: block;
}

.ink-panel-content.vz-projector-legend h3.vz-projector-legend {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-legend h3.vz-projector-legend {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-legend {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-legend .projection-tab.vz-projector-legend {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-legend .projection-tab.vz-projector-legend:hover {
  color: black;
}

.ink-tab-group.vz-projector-legend .projection-tab.active.vz-projector-legend {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-legend {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-legend {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

.item.vz-projector-legend {
  display: flex;
  align-items: flex-start;
  margin-bottom: 10px;
}

.shape.vz-projector-legend {
  width: 10px;
  height: 10px;
  margin-right: 10px;
  margin-top: 5px;
  border-radius: 50%;
}

.label.vz-projector-legend {
  flex-grow: 1;
}

.gradient.vz-projector-legend {
  width: 100%;
  height: 10px;
}

.gradient-boundaries.vz-projector-legend {
  display: flex;
  justify-content: space-between;
}</style><!-- Shady DOM styles for vz-projector-data-panel --><style scope="vz-projector-data-panel">paper-button.vz-projector-data-panel {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-data-panel paper-item.vz-projector-data-panel {
  font-size: 13px;
}

paper-tooltip.vz-projector-data-panel {
  max-width: 200px;
}

paper-icon-button.vz-projector-data-panel {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-data-panel {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-data-panel {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-data-panel span.vz-projector-data-panel {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-data-panel label.vz-projector-data-panel {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-data-panel {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-data-panel {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-data-panel h4.vz-projector-data-panel {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-data-panel {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-data-panel {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-data-panel {
  display: block;
}

.ink-panel-content.vz-projector-data-panel h3.vz-projector-data-panel {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-data-panel h3.vz-projector-data-panel {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-data-panel {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-data-panel .projection-tab.vz-projector-data-panel {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-data-panel .projection-tab.vz-projector-data-panel:hover {
  color: black;
}

.ink-tab-group.vz-projector-data-panel .projection-tab.active.vz-projector-data-panel {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-data-panel {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-data-panel {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

.container.vz-projector-data-panel {
  padding: 5px 20px 20px 20px;
}

input[type=file].vz-projector-data-panel {
  display: none;
}

.file-name.vz-projector-data-panel {
  margin-right: 10px;
}

.dirs.vz-projector-data-panel {
  color: rgba(0, 0, 0, 0.7);
  font-size: 12px;
}

.dirs.vz-projector-data-panel table.vz-projector-data-panel tr.vz-projector-data-panel {
  vertical-align: top;
}

.dirs.vz-projector-data-panel table.vz-projector-data-panel tr.vz-projector-data-panel td.vz-projector-data-panel {
  padding-bottom: 10px;
}

.item-details.vz-projector-data-panel {
  margin-left: 5px;
  color: gray;
  font-size: 12px;
}

paper-input.vz-projector-data-panel {
  font-size: 15px;
}

paper-dropdown-menu.vz-projector-data-panel {
  width: 100%;
}

paper-dropdown-menu.vz-projector-data-panel paper-item.vz-projector-data-panel {
  justify-content: space-between;
}

.title.vz-projector-data-panel {
  align-items: center;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  color: black;
  display: flex;
  font-weight: 500;
  height: 59px;
  padding-left: 20px;
}

#normalize-data-checkbox.vz-projector-data-panel {
  margin: 10px 0;
}

#generate-share-url.vz-projector-data-panel {
  padding: 16px;
  margin-left: 24px;
}

#projector-share-button-container.vz-projector-data-panel {
  margin: 10px 0;
}

.metadata-editor.vz-projector-data-panel,.supervise-settings.vz-projector-data-panel,.colorlabel-container.vz-projector-data-panel {
  display: flex;
}

#labelby.vz-projector-data-panel {
  width: 100px;
  margin-right: 10px;
}

#colorby.vz-projector-data-panel {
  width: calc(100% - 110px);
}

.supervise-settings.vz-projector-data-panel paper-dropdown-menu.vz-projector-data-panel {
  width: 100px;
  margin-right: 10px;
}

.supervise-settings.vz-projector-data-panel paper-input.vz-projector-data-panel {
  width: calc(100% - 110px);
}

.metadata-editor.vz-projector-data-panel paper-dropdown-menu.vz-projector-data-panel {
  width: 100px;
  margin-right: 10px;
}

.metadata-editor.vz-projector-data-panel paper-input.vz-projector-data-panel {
  width: calc(100% - 110px);
}

.config-checkbox.vz-projector-data-panel {
  display: inline-block;
  font-size: 11px;
  margin-left: 10px;
}

.projector-config-options.vz-projector-data-panel {
  margin-top: 12px;
}

.projector-config-dialog-container.vz-projector-data-panel {
  padding: 24px;
}

.code.vz-projector-data-panel {
  background-color: #f7f7f7;
  display: table;
  font-family: monospace;
  margin-top: 7px;
  padding: 15px;
}

.delimiter.vz-projector-data-panel {
  color: #B71C1C;
}

.button-container.vz-projector-data-panel {
  flex: 1 100%;
  margin-right: 5px;
}

.button-container.vz-projector-data-panel paper-button.vz-projector-data-panel {
  min-width: 50px;
  width: 100%;
}

#label-button.vz-projector-data-panel {
  margin-right: 0px;
}

.upload-step.vz-projector-data-panel {
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
}

.upload-step.vz-projector-data-panel paper-button.vz-projector-data-panel {
  margin-left: 30px;
}

.step-label.vz-projector-data-panel {
  color: rgb(38, 180, 226);
}

.scrollable-container.vz-projector-data-panel {
  margin-top: 0;
  min-width: 400px;
}

#projectorConfigDialog.vz-projector-data-panel p.vz-projector-data-panel {
  margin: 8px 0 8px;
}

.data-step.vz-projector-data-panel {
  margin-top: 40px;
}

.data-step-contents.vz-projector-data-panel {
  display: table;
  width: 100%;
}

.data-step-contents-contents.vz-projector-data-panel {
  display: table-cell;
  margin-top: 6px;
}

.data-step-contents-upload.vz-projector-data-panel {
  display: table-cell;
  text-align: right;
  vertical-align: bottom;
}

#demo-data-buttons-container.vz-projector-data-panel {
  display: none;
  margin-top: 10px;
}</style><!-- Shady DOM styles for vz-projector-input --><style scope="vz-projector-input">paper-button.vz-projector-input {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-input paper-item.vz-projector-input {
  font-size: 13px;
}

paper-tooltip.vz-projector-input {
  max-width: 200px;
}

paper-icon-button.vz-projector-input {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-input {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-input {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-input span.vz-projector-input {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-input label.vz-projector-input {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-input {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-input {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-input h4.vz-projector-input {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-input {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-input {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-input {
  display: block;
}

.ink-panel-content.vz-projector-input h3.vz-projector-input {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-input h3.vz-projector-input {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-input {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-input .projection-tab.vz-projector-input {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-input .projection-tab.vz-projector-input:hover {
  color: black;
}

.ink-tab-group.vz-projector-input .projection-tab.active.vz-projector-input {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-input {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-input {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

.info.vz-projector-input {
  color: rgba(0, 0, 0, 0.5);
  display: block;
  font-size: 11px;
}

.toggle.vz-projector-input {
  font-size: 12px;
  height: 21px;
  margin: 0px;
  min-width: 0px;
  min-height: 0px;
  padding: 0;
  width: 17px;
}

.toggle[active].vz-projector-input {
  background-color: #880E4F;
  color: white;
}</style><!-- Shady DOM styles for vz-projector-inspector-panel --><style scope="vz-projector-inspector-panel">paper-button.vz-projector-inspector-panel {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-inspector-panel paper-item.vz-projector-inspector-panel {
  font-size: 13px;
}

paper-tooltip.vz-projector-inspector-panel {
  max-width: 200px;
}

paper-icon-button.vz-projector-inspector-panel {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-inspector-panel {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-inspector-panel {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-inspector-panel span.vz-projector-inspector-panel {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-inspector-panel label.vz-projector-inspector-panel {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-inspector-panel {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-inspector-panel {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-inspector-panel h4.vz-projector-inspector-panel {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-inspector-panel {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-inspector-panel {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-inspector-panel {
  display: block;
}

.ink-panel-content.vz-projector-inspector-panel h3.vz-projector-inspector-panel {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-inspector-panel h3.vz-projector-inspector-panel {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-inspector-panel {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-inspector-panel .projection-tab.vz-projector-inspector-panel {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-inspector-panel .projection-tab.vz-projector-inspector-panel:hover {
  color: black;
}

.ink-tab-group.vz-projector-inspector-panel .projection-tab.active.vz-projector-inspector-panel {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-inspector-panel {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-inspector-panel {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

vz-projector-inspector-panel {
  display: flex;
   flex-direction: column;
   
   height: calc(100% - 55px);
}

.container.vz-projector-inspector-panel {
  display: block;
  padding: 10px 20px 0 20px;
}

.buttons.vz-projector-inspector-panel {
  display: flex;
  height: 60px;
}

.button.vz-projector-inspector-panel {
  margin-right: 10px;
  border: none;
  border-radius: 7px;
  font-size: 13px;
  padding: 10px;
  background: #e3e3e3;
}

.button.vz-projector-inspector-panel:last-child {
  margin-right: 0;
}

.nn.vz-projector-inspector-panel,.metadata-info.vz-projector-inspector-panel {
  display: flex;
  flex-direction: column;
}

.nn.vz-projector-inspector-panel > *.vz-projector-inspector-panel,.metadata-info.vz-projector-inspector-panel > *.vz-projector-inspector-panel {
  padding: 0 20px;
}

.nn-list.vz-projector-inspector-panel,.metadata-list.vz-projector-inspector-panel {
  overflow-y: auto;
}

.nn-list.vz-projector-inspector-panel .neighbor.vz-projector-inspector-panel,.metadata-list.vz-projector-inspector-panel .metadata.vz-projector-inspector-panel {
  font-size: 12px;
  margin-bottom: 8px;
}

.nn-list.vz-projector-inspector-panel .label-and-value.vz-projector-inspector-panel,.metadata-list.vz-projector-inspector-panel .label-and-value.vz-projector-inspector-panel {
  display: flex;
  justify-content: space-between;
}

.label.vz-projector-inspector-panel {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.nn-list.vz-projector-inspector-panel .value.vz-projector-inspector-panel,.metadata-list.vz-projector-inspector-panel .value.vz-projector-inspector-panel {
  color: #666;
  float: right;
  font-weight: 300;
  margin-left: 8px;
}

.nn-list.vz-projector-inspector-panel .bar.vz-projector-inspector-panel,.metadata-list.vz-projector-inspector-panel .bar.vz-projector-inspector-panel {
  position: relative;
  border-top: 1px solid rgba(0, 0, 0, 0.15);
  margin: 2px 0;
}

.nn-list.vz-projector-inspector-panel .bar.vz-projector-inspector-panel .fill.vz-projector-inspector-panel,.metadata-list.vz-projector-inspector-panel .bar.vz-projector-inspector-panel .fill.vz-projector-inspector-panel {
  position: absolute;
  top: -1px;
  border-top: 1px solid white;
}

.nn-list.vz-projector-inspector-panel .tick.vz-projector-inspector-panel,.metadata-list.vz-projector-inspector-panel .tick.vz-projector-inspector-panel {
  position: absolute;
  top: 0px;
  height: 3px;
  border-left: 1px solid rgba(0, 0, 0, 0.15);
}

.nn-list.vz-projector-inspector-panel .neighbor-link.vz-projector-inspector-panel:hover,.metadata-list.vz-projector-inspector-panel .metadata-link.vz-projector-inspector-panel:hover {
  cursor: pointer;
}

.search-by.vz-projector-inspector-panel {
  display: flex;
}

.search-by.vz-projector-inspector-panel vz-projector-input.vz-projector-inspector-panel {
  width: 100%;
}

.search-by.vz-projector-inspector-panel paper-dropdown-menu.vz-projector-inspector-panel {
  margin-left: 10px;
  width: 100px;
}

.distance.vz-projector-inspector-panel .options.vz-projector-inspector-panel {
  float: right;
}

.options.vz-projector-inspector-panel a.vz-projector-inspector-panel {
  color: #727272;
  font-size: 13px;
  margin-left: 12px;
  text-decoration: none;
}

.options.vz-projector-inspector-panel a.selected.vz-projector-inspector-panel {
  color: #009EFE;
}

.neighbors.vz-projector-inspector-panel {
  margin-bottom: 30px;
}

.neighbors-options.vz-projector-inspector-panel {
  margin-top: 6px;
}

.neighbors-options.vz-projector-inspector-panel .option-label.vz-projector-inspector-panel,.distance.vz-projector-inspector-panel .option-label.vz-projector-inspector-panel {
  color: #727272;
  margin-right: 2px;
  width: auto;
}

.num-neighbors-container.vz-projector-inspector-panel {
  display: inline-block;
}

.euclidean.vz-projector-inspector-panel {
  margin-right: 10px;
}

.matches-list.vz-projector-inspector-panel {
  padding: 0 20px;
}

.matches-list.vz-projector-inspector-panel .row.vz-projector-inspector-panel {
  border-bottom: 1px solid #ddd;
  cursor: pointer;
  display: flex;
  font-size: 12px;
  margin: 5px 0;
  padding: 4px 0;
}

.results.vz-projector-inspector-panel {
  display: flex;
  flex-direction: column;
}</style><!-- Shady DOM styles for vz-projector-metadata-card --><style scope="vz-projector-metadata-card">#metadata-card.vz-projector-metadata-card {
  background-color: rgba(255,255,255,0.9);
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
      0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
  width: 270px;
}

#header.vz-projector-metadata-card {
  background: #e9e9e9;
}

#icon-container.vz-projector-metadata-card {
  position: absolute;
  right: 0;
  top: 4px;
}

#metadata-label.vz-projector-metadata-card {
  font-weight: 400;
  font-size: 14px;
  line-height: 24px;
  padding: 12px 12px 8px;
  width: 230px;
}

#metadata-table.vz-projector-metadata-card {
  display: table;
  padding: 8px 12px 4px;
}

.metadata-row.vz-projector-metadata-card {
  display: table-row;
}

.metadata-key.vz-projector-metadata-card {
  font-weight: bold;
}

.metadata-key.vz-projector-metadata-card,.metadata-value.vz-projector-metadata-card {
  display: table-cell;
  font-size: 12px;
  padding: 3px 3px;
}</style><!-- Shady DOM styles for vz-projector-projections-panel --><style scope="vz-projector-projections-panel">paper-button.vz-projector-projections-panel {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector-projections-panel paper-item.vz-projector-projections-panel {
  font-size: 13px;
}

paper-tooltip.vz-projector-projections-panel {
  max-width: 200px;
}

paper-icon-button.vz-projector-projections-panel {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector-projections-panel {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector-projections-panel {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector-projections-panel span.vz-projector-projections-panel {
  width: 35px;
  text-align: right;
}

.slider.vz-projector-projections-panel label.vz-projector-projections-panel {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector-projections-panel {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector-projections-panel {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector-projections-panel h4.vz-projector-projections-panel {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector-projections-panel {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector-projections-panel {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector-projections-panel {
  display: block;
}

.ink-panel-content.vz-projector-projections-panel h3.vz-projector-projections-panel {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector-projections-panel h3.vz-projector-projections-panel {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-projections-panel {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector-projections-panel .projection-tab.vz-projector-projections-panel {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector-projections-panel .projection-tab.vz-projector-projections-panel:hover {
  color: black;
}

.ink-tab-group.vz-projector-projections-panel .projection-tab.active.vz-projector-projections-panel {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector-projections-panel {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector-projections-panel {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

vz-projector-projections-panel {
  transition: height 0.2s;
}

.ink-button.vz-projector-projections-panel,  .ink-button {
  border: none;
  border-radius: 2px;
  font-size: 13px;
  padding: 10px;
  min-width: 88px;
  flex-shrink: 0;
  background: #e3e3e3;
}

.ink-panel-buttons.vz-projector-projections-panel {
  margin-bottom: 10px;
}

.two-way-toggle.vz-projector-projections-panel {
  display: flex;
  flex-direction: row;
}

.two-way-toggle.vz-projector-projections-panel span.vz-projector-projections-panel {
  padding-right: 7px;
}

.has-border.vz-projector-projections-panel {
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.toggle.vz-projector-projections-panel {
  min-width: 0px;
  font-size: 12px;
  width: 17px;
  min-height: 0px;
  height: 21px;
  padding: 0;
  margin: 0px;
}

.toggle[active].vz-projector-projections-panel {
  background-color: #880E4F;
  color: white;
}

.two-columns.vz-projector-projections-panel {
  display:flex;
  justify-content: space-between;
}

.two-columns.vz-projector-projections-panel > .vz-projector-projections-panel:first-child {
  margin-right: 15px;
}

.two-columns.vz-projector-projections-panel > div.vz-projector-projections-panel {
  width: 50%;
}

.dropdown-item.vz-projector-projections-panel {
  justify-content: space-between;
  min-height: 35px;
}

.tsne-supervise-factor.vz-projector-projections-panel {
  margin-bottom: -8px;
}

#z-container.vz-projector-projections-panel {
  display: flex;
  align-items: center;
  width: 50%;
}

#z-checkbox.vz-projector-projections-panel {
  margin: 27px 0 0 5px;
  width: 18px;
}

#z-dropdown.vz-projector-projections-panel {
  flex-grow: 1;
}

.notice.vz-projector-projections-panel {
  color: #880E4F;
}

.container.vz-projector-projections-panel {
  padding: 20px;
}

.book-icon.vz-projector-projections-panel {
  height: 20px;
  color: rgba(0, 0, 0, 0.7);
}

.item-details.vz-projector-projections-panel {
  color: gray;
  font-size: 12px;
  margin-left: 5px;
}

.pca-dropdown.vz-projector-projections-panel {
  width: 100%;
}

.pca-dropdown.vz-projector-projections-panel paper-listbox.vz-projector-projections-panel {
  width: 135px;
}

.dropdown-item.header.vz-projector-projections-panel {
  border-bottom: 1px solid #aaa;
  color: #333;
  font-weight: bold;
}

#total-variance.vz-projector-projections-panel {
  color: rgba(0, 0, 0, 0.7);
}</style><!-- Shady DOM styles for vz-projector --><style scope="vz-projector">paper-button.vz-projector {
  background: #e3e3e3;
  margin-left: 0;
  text-transform: none;
}

paper-dropdown-menu.vz-projector paper-item.vz-projector {
  font-size: 13px;
}

paper-tooltip.vz-projector {
  max-width: 200px;
}

paper-icon-button.vz-projector {
  border-radius: 50%;
}

paper-icon-button[active].vz-projector {
  color: white;
  background-color: #880E4F;
}

.slider.vz-projector {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  justify-content: space-between;
}

.slider.vz-projector span.vz-projector {
  width: 35px;
  text-align: right;
}

.slider.vz-projector label.vz-projector {
  align-items: center;
  display: flex;
}

.help-icon.vz-projector {
  height: 15px;
  left: 2px;
  min-width: 15px;
  min-height: 15px;
  margin: 0;
  padding: 0;
  top: -2px;
  width: 15px;
}

.ink-panel.vz-projector {
  display: flex;
  flex-direction: column;
  font-size: 14px;
}

.ink-panel.vz-projector h4.vz-projector {
  border-bottom: 1px solid #ddd;
  font-size: 14px;
  font-weight: 500;
  margin: 0;
  margin-bottom: 10px;
  padding-bottom: 5px;
}

.ink-panel-header.vz-projector {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  height: 50px;
}

.ink-panel-content.vz-projector {
  display: none;
  height: 100%;
}

.ink-panel-content.active.vz-projector {
  display: block;
}

.ink-panel-content.vz-projector h3.vz-projector {
  font-weight: 500;
  font-size: 14px;
  margin-top: 20px;
  margin-bottom: 5px;
  text-transform: uppercase;
}

.ink-panel-header.vz-projector h3.vz-projector {
  font-weight: 500;
  font-size: 14px;
  margin: 0;
  padding: 0 24px;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector {
  align-items: center;
  box-sizing: border-box;
  display: flex;
  height: 100%;
  justify-content: space-around;
}

.ink-tab-group.vz-projector .projection-tab.vz-projector {
  color: rgba(0, 0, 0, 0.5);
  cursor: pointer;
  font-weight: 300;
  line-height: 49px;
  padding: 0 12px;
  text-align: center;
  text-transform: uppercase;
}

.ink-tab-group.vz-projector .projection-tab.vz-projector:hover {
  color: black;
}

.ink-tab-group.vz-projector .projection-tab.active.vz-projector {
  border-bottom: 2px solid black;
  color: black;
  font-weight: 500;
}

h4.vz-projector {
  margin: 30px 0 10px 0;
}

.dismiss-dialog-note.vz-projector {
  margin-top: 25px;
  font-size: 11px;
  text-align: right;
}

vz-projector {
  display: flex;
  width: 100%;
  height: 100%;
}

#container.vz-projector {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.hidden.vz-projector {
  display: none !important;
}

#main.vz-projector {
  position: relative;
  flex-grow: 2;
}

#main.vz-projector .stage.vz-projector {
  position: relative;
  flex-grow: 2;
}

#scatter.vz-projector {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

#selector.vz-projector {
  display: none;
  height: 100%;
  position: absolute;
  width: 100%;
}

#left-pane.vz-projector {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-width: 312px;
  width: 312px;
  border-right: 1px solid rgba(0, 0, 0, 0.1);
  background: #fafafa;
}

#right-pane.vz-projector {
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  background: #fafafa;
  display: flex;
  height: 100%;
  min-width: 300px;
  width: 300px;
}

.file-name.vz-projector {
  margin-right: 5px;
}

.control.vz-projector input[type=text].vz-projector:focus {
  outline: none;
  border-bottom: 1px solid rgba(0, 0, 0, 1);
}

.control.vz-projector {
  display: inline-block;
  width: 45%;
  vertical-align: top;
  margin-right: 10px;
  overflow-x: hidden;
}

.control.last.vz-projector {
  margin-right: 0;
}

#notification-dialog.vz-projector {
  width: 400px;
  padding-bottom: 20px;
}

#notification-dialog.vz-projector paper-button.vz-projector {
  background: none;
  text-transform: uppercase;
}

#notify-msgs.vz-projector {
  text-align: center;
  display: block;
}

.notify-msg.vz-projector {
  font-weight: 500;
  margin: 0;
  padding: 0;
}

.notify-msg.error.vz-projector {
  text-align: left;
}

.brush.vz-projector .extent.vz-projector {
  stroke: #fff;
  fill-opacity: .125;
  shape-rendering: crispEdges;
}

.origin.vz-projector text.vz-projector {
  font-size: 12px;
  font-weight: 500;
}

.origin.vz-projector line.vz-projector {
  stroke: black;
  stroke-opacity: 0.2;
}

.ink-button.vz-projector,  .ink-button {
  border: none;
  border-radius: 2px;
  font-size: 13px;
  padding: 10px;
  min-width: 100px;
  flex-shrink: 0;
  background: #e3e3e3;
}

.status-bar-panel.vz-projector {
  display: flex;
  align-items: center;
}

.status-bar-entry.vz-projector {
  border-left: 1px solid rgba(0, 0, 0, 0.5);
  margin-left: 5px;
  padding-left: 5px;
}

.ink-panel-menubar.vz-projector {
  align-items: center;
  position: relative;
  height: 60px;
  border-bottom: solid 1px #eee;
  padding: 0 24px;
  display: flex;
}

.ink-panel-menubar.vz-projector .ink-fabs.vz-projector {
  position: absolute;
  right: 12px;
  top: 40px;
  z-index: 1;
}

#bookmark-panel.vz-projector {
  bottom: 0;
  position: absolute;
  width: 300px;
}

#bookmark-panel-container.vz-projector {
  bottom: 60px;
  position: absolute;
}

.ink-fab.vz-projector {
  margin-left: 8px;
  border: 1px solid rgba(0, 0, 0, 0.02);
  background: white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

#metadata-card.vz-projector {
  position: absolute;
  right: 5px;
  top: 25px;
}

#help-3d-icon.vz-projector {
  position: absolute;
  top: 20px;
  left: 20px;
}

#help3dDialog.vz-projector .main.vz-projector {
  margin: 0;
  padding: 20px;
}

#help3dDialog.vz-projector h3.vz-projector {
  margin-top: 20px;
  margin-bottom: 5px;
}

#help3dDialog.vz-projector h3.vz-projector:first-child {
  margin-top: 0;
}

#data-panel.vz-projector {
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  overflow-y: auto;
}

#toast.vz-projector {
  display: flex;
  align-items: center;
}</style><!-- Shady DOM styles for vz-projector-dashboard --><!-- Shady DOM styles for tf-text-loader --><!-- Shady DOM styles for tf-text-dashboard --><!-- Shady DOM styles for tf-pr-curve-card --><!-- Shady DOM styles for tf-pr-curve-steps-selector --><style scope="tf-pr-curve-steps-selector">.run-widget.tf-pr-curve-steps-selector {
  margin: 10px 0 0 0;
}

paper-slider.tf-pr-curve-steps-selector {
  margin: -8px 0 0 -15px;
        width: 100%;
}

.step-display-container.tf-pr-curve-steps-selector {
  font-size: 0.9em;
        margin: 0 15px 0 0;
}

.run-text.tf-pr-curve-steps-selector {
  display: inline-block;
}

.run-color-box.tf-pr-curve-steps-selector {
  width: 12px;
        height: 12px;
        border-radius: 3px;
        display: inline-block;
}</style><!-- Shady DOM styles for tf-pr-curve-dashboard --><!-- Shady DOM styles for input-pipeline-analyzer --><!-- Shady DOM styles for iron-image --><!-- Shady DOM styles for paper-card --><!-- Shady DOM styles for overview-page --><!-- Shady DOM styles for tf-op-table --><style scope="tf-op-table">#time.tf-op-table,#utilization.tf-op-table {
  width: 60px;
}

#name.tf-op-table {
  display: inline-block;
  min-width: 40%;
}

#row.tf-op-table,#header.tf-op-table {
  display: flex;
  align-items: center;
}

#row.tf-op-table > *.tf-op-table,#header.tf-op-table > *.tf-op-table {
  padding: 0.5em;
  overflow: hidden;
  flex-shrink: 0;
  box-sizing: border-box;
}

#header.tf-op-table > *.tf-op-table {
  padding-bottom: 0;
}

#provenance.tf-op-table {
  flex: 1 1 0 ! important;
}

#utilization.tf-op-table {
  text-align: right;
}

tf-op-table {
  display: block;
  background-color: white;
}

#control.tf-op-table {
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;

  overflow:auto;
  text-transform:uppercase;
  padding: 0.5em;
  vertical-align: bottom;
  text-align: bottom;
}

.controlRowLeft.tf-op-table {
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  line-height: 50px;
  text-align: bottom;
  justify-content: flex-start;
}

.controlRowRight.tf-op-table {
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  line-height: 50px;
  text-align: bottom;
  justify-content: flex-end;
}

#header.tf-op-table {
  font-size: smaller;
  font-weight: bold;
  color: #666;
  padding-bottom: 0.25em;
  border-bottom: 1px solid #666;
  text-transform: uppercase;
  white-space: nowrap;
}

#header.tf-op-table > #name.tf-op-table {
  padding-left: 2em;
}</style><!-- Shady DOM styles for tf-op-table-entry --><style scope="tf-op-table-entry">#time.tf-op-table-entry,#utilization.tf-op-table-entry {
  width: 60px;
}

#name.tf-op-table-entry {
  display: inline-block;
  min-width: 40%;
}

#row.tf-op-table-entry,#header.tf-op-table-entry {
  display: flex;
  align-items: center;
}

#row.tf-op-table-entry > *.tf-op-table-entry,#header.tf-op-table-entry > *.tf-op-table-entry {
  padding: 0.5em;
  overflow: hidden;
  flex-shrink: 0;
  box-sizing: border-box;
}

#header.tf-op-table-entry > *.tf-op-table-entry {
  padding-bottom: 0;
}

#provenance.tf-op-table-entry {
  flex: 1 1 0 ! important;
}

#utilization.tf-op-table-entry {
  text-align: right;
}

#row.tf-op-table-entry {
  position: relative;
  box-shadow: inset 0 1px 0 0 rgba(0,0,0,0.06);
  z-index: 0;
}

#bar.tf-op-table-entry {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  z-index: -1;
  background-color: #cde;
}

tf-op-table-entry {
  display: block;
}

tf-op-table-entry.selected {
  background-color: rgba(0,0,0,0.04);
}

tf-op-table-entry.selected > #row.tf-op-table-entry {
  font-weight: bold;
}

#row.tf-op-table-entry:hover {
  background-color: rgba(0,0,0,0.05);
}

#disclosure.tf-op-table-entry {
  display: inline-block;
  width: 1em;
}

#name.tf-op-table-entry {
  font-family: monospace;
}

#time.tf-op-table-entry,#utilization.tf-op-table-entry {
  font-size: smaller;
}

#utilization.tf-op-table-entry {
  align-self: stretch;
}

#utilization.tf-op-table-entry div.tf-op-table-entry {
  position: relative; top: 50%; transform: translateY(-50%);
}</style><!-- Shady DOM styles for tf-op-bar --><style scope="tf-op-bar">tf-op-bar {
  display: inline-block;
  height: 1.5em;
  line-height: 1.5em;
}</style><!-- Shady DOM styles for tf-op-details --><style scope="tf-op-details">paper-card.tf-op-details {
  width: 100%;
}

tf-op-bar.tf-op-details {
  width: 100%;
}

#subheader.tf-op-details {
  padding: 0 16px 16px;
  color: rgba(255, 255, 255, 0.7);
  position: relative;
  top: -10px;
}

.card-content.tf-op-details > div.tf-op-details {
  margin-bottom: 1em;
}

.expression.tf-op-details {
  display: block;
  word-wrap: break-word;
}

.unavailable.tf-op-details {
  font-style: italic;
  color: #666;
}

.layout.tf-op-details {
  display: table;
  width: 50%;
  border-spacing: 1em 0.3em;
}

.layout.tf-op-details > *.tf-op-details {
  display: table-row;
}

.layout.tf-op-details > *.tf-op-details > *.tf-op-details {
  display: table-cell;
}

.layout.tf-op-details .size.tf-op-details,.layout.tf-op-details .size-x.tf-op-details {
  text-align: center;
}

.layout.tf-op-details .size-x.tf-op-details {
  font-weight: bold; color: #888;
}

.layout.tf-op-details .semantics.tf-op-details {
  font-size: smaller;
  font-weight: bold;
  color: #48c;
  text-transform: uppercase;
  vertical-align: middle;
}

.layout.tf-op-details .alignment.tf-op-details {
  position: absolute;
  padding: 0.5em;
  margin-top: -0.5em;
  width: 50%;
  box-sizing: border-box;
}</style><!-- Shady DOM styles for tf-op-profile --><style scope="tf-op-profile">tf-op-profile {
  display: block;
  margin-right: 1.5em;
}

#description.tf-op-profile {
  margin-bottom: 2em;
  width: 600px;
}</style><!-- Shady DOM styles for mv-line-chart --><!-- Shady DOM styles for tf-mv-bar --><!-- Shady DOM styles for buffer-details --><style scope="buffer-details">paper-card.buffer-details {
  width: 100%;
}

tf-mv-bar.buffer-details {
  width: 100%;
}

#subheader.buffer-details {
  padding: 0 16px 16px;
  color: rgba(255, 255, 255, 0.7);
  position: relative;
  top: -10px;
}

.card-content.buffer-details > div.buffer-details {
  margin-bottom: 1em;
}

.expression.buffer-details {
  display: block;
  word-wrap: break-word;
}</style><!-- Shady DOM styles for memory-viewer-dashboard --><style scope="memory-viewer-dashboard">memory-viewer-dashboard {
  overflow-x: auto;
  width: 100%;
}

#description.memory-viewer-dashboard {
  margin-bottom: 2em;
  width: 600px;
}

mv-line-chart.memory-viewer-dashboard {
  width: 100%;
  height: 100%;
}</style><!-- Shady DOM styles for iron-request --><!-- Shady DOM styles for google-chart-loader --><!-- Shady DOM styles for google-chart --><style scope="google-chart">google-chart {
  display: -webkit-flex;
        display: -ms-flex;
        display: flex;
        margin: 0;
        padding: 0;
        width: 400px;
        height: 300px;
}

google-chart[type="gauge"] {
  width: 300px;
        height: 300px;
}

#chartdiv.google-chart {
  width: 100%;
}</style><!-- Shady DOM styles for google-chart-demo --><style scope="google-chart-demo">code.google-chart-demo {
  color: #007000;
}

google-chart.google-chart-demo {
  height: 300px;
        width: 400px;
}</style><!-- Shady DOM styles for tf-profile-dashboard --><!-- Shady DOM styles for tf-beholder-video --><style scope="tf-beholder-video">img.tf-beholder-video {
  image-rendering: pixelated;
        margin-right: 10px;
}</style><!-- Shady DOM styles for tf-beholder-info --><style scope="tf-beholder-info">.section-info.tf-beholder-info {
  margin: 0 0 5px 0;
}

.section-info.tf-beholder-info ul.tf-beholder-info {
  list-style-type: none;
      margin: 0;
      padding-left: 10px;
}</style><!-- Shady DOM styles for tf-beholder-dashboard --><!-- Shady DOM styles for iron-pages --><style scope="iron-pages">iron-pages {
  display: block;
}

iron-pages > :not(slot):not(.iron-selected) {
  display: none !important;
}</style><!-- Shady DOM styles for paper-tab --><style scope="paper-tab-0">.paper-tab-0 {
  display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;-ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;-ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;

        position: relative;
        padding: 0 12px;
        overflow: hidden;
        cursor: pointer;
        vertical-align: middle;font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;;
}

.paper-tab-0:focus {
  outline: none;
}

.paper-tab-0[link] {
  padding: 0;
}

.paper-tab-0 .tab-content.paper-tab {
  height: 100%;
        transform: translateZ(0);
          -webkit-transform: translateZ(0);
        transition: opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;-ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;-ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;;
}

.paper-tab-0:not(.iron-selected) > .tab-content.paper-tab {
  opacity: 0.8;;
}

.paper-tab-0:focus .tab-content.paper-tab {
  opacity: 1;
        font-weight: 700;
}

.paper-tab-0 paper-ripple.paper-tab {
  color: #ffff8d;
}

.paper-tab-0 .tab-content.paper-tab > a {
  -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;

        height: 100%;
}</style><!-- Shady DOM styles for paper-tabs --><style scope="paper-tabs-0">.paper-tabs-0 {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;

        height: 48px;
        font-size: 14px;
        font-weight: 500;
        overflow: hidden;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;

        
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;;
}

[dir="rtl"] .paper-tabs-0, .paper-tabs-0[dir="rtl"] {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
}

.paper-tabs-0 #tabsContainer.paper-tabs {
  position: relative;
        height: 100%;
        white-space: nowrap;
        overflow: hidden;-ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;;
}

.paper-tabs-0 #tabsContent.paper-tabs {
  height: 100%;
        -moz-flex-basis: auto;
        -ms-flex-basis: auto;
        flex-basis: auto;-webkit-font-smoothing: antialiased;
          text-transform: uppercase;
}

.paper-tabs-0 #tabsContent.scrollable.paper-tabs {
  position: absolute;
        white-space: nowrap;
}

.paper-tabs-0 #tabsContent.paper-tabs:not(.scrollable),.paper-tabs-0 #tabsContent.scrollable.fit-container.paper-tabs {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
}

.paper-tabs-0 #tabsContent.scrollable.fit-container.paper-tabs {
  min-width: 100%;
}

.paper-tabs-0 #tabsContent.scrollable.fit-container.paper-tabs > * {
  -ms-flex: 1 0 auto;
        -webkit-flex: 1 0 auto;
        flex: 1 0 auto;
}

.paper-tabs-0 .hidden.paper-tabs {
  display: none;
}

.paper-tabs-0 .not-visible.paper-tabs {
  opacity: 0;
        cursor: default;
}

.paper-tabs-0 paper-icon-button.paper-tabs {
  width: 48px;
        height: 48px;
        padding: 12px;
        margin: 0 4px;
}

.paper-tabs-0 #selectionBar.paper-tabs {
  position: absolute;
        height: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border-bottom: 2px solid white;
          -webkit-transform: scale(0);
        transform: scale(0);
          -webkit-transform-origin: left center;
        transform-origin: left center;
          transition: -webkit-transform;
        transition: transform;;
}

.paper-tabs-0 #selectionBar.align-bottom.paper-tabs {
  top: 0;
        bottom: auto;
}

.paper-tabs-0 #selectionBar.expand.paper-tabs {
  transition-duration: 0.15s;
        transition-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
}

.paper-tabs-0 #selectionBar.contract.paper-tabs {
  transition-duration: 0.18s;
        transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
}

.paper-tabs-0 #tabsContent.paper-tabs > :not(#selectionBar) {
  height: 100%;
}</style><!-- Shady DOM styles for tf-inference-panel --><style scope="tf-inference-panel">paper-button.tf-inference-panel {
  display: inline-block;
        text-align: center;
        font-family: inherit;
}

tf-inference-panel {
  display: block;
        font-size: 14px;
}

tf-option-selector.tf-inference-panel .model-type-button.tf-inference-panel {
  width: auto;
}

.flex-holder.tf-inference-panel {
  display: flex;
}

.title.tf-inference-panel {
  font-size: 32px;
        margin-bottom: 20px;
}

.help-icon.tf-inference-panel {
  width: 15px;
        height: 15px;
        padding: 0;
        color: #757575;
}

.tooltip.tf-inference-panel {
  width: 500px;
}

.input-in-row.tf-inference-panel {
  margin-right: 10px;
}

.model-type-label.tf-inference-panel {
  padding-top: 10px;
}

.multi-class-checkbox.tf-inference-panel {
  margin-top: 30px;
        margin-left: 10px;
}</style><!-- Shady DOM styles for vz-bar-chart --><style scope="vz-bar-chart">vz-bar-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        flex-shrink: 1;
        position: relative;
        outline: none;
}

div.vz-bar-chart {
  -webkit-user-select: none;
        -moz-user-select: none;
        flex-grow: 1;
        flex-shrink: 1;
}

td.vz-bar-chart {
  padding-left: 5px;
        padding-right: 5px;
        font-size: 13px;
        opacity: 1;
}

#tooltip.vz-bar-chart {
  pointer-events: none;
        position: absolute;
        opacity: 0;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
        font-size: 14px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        border-radius: 4px;
        line-height: 1.4em;
        padding: 8px;
        z-index: 5;
        cursor: none;
        margin-top: 10px;
}

.swatch.vz-bar-chart {
  border-radius: 50%;
        width: 14px;
        height: 14px;
        display: block;
        border: 2px solid rgba(0, 0, 0, 0);
}

.closest.vz-bar-chart .swatch.vz-bar-chart {
  border: 2px solid white;
}

th.vz-bar-chart {
  padding-left: 5px;
        padding-right: 5px;
        text-align: left;
}</style><!-- Shady DOM styles for tf-confusion-matrix --><style scope="tf-confusion-matrix">table.tf-confusion-matrix {
  display: inline-block;
}

td.tf-confusion-matrix {
  text-align: right;
}

th.tf-confusion-matrix,td.tf-confusion-matrix {
  padding: 3px;
        font-weight: normal;
}

.flex.tf-confusion-matrix {
  display: flex;
        flex-direction: row-reverse;
}

.pred-label.tf-confusion-matrix {
  text-align: left;
        font-size: 10px;
}

.actual-label.tf-confusion-matrix {
  text-align: right;
        font-size: 10px;
}

.n-label.tf-confusion-matrix {
  font-size: 10px;
        vertical-align: bottom;
}

.correct.tf-confusion-matrix {
  border-left: 3px solid DarkSeaGreen;
}

.incorrect.tf-confusion-matrix {
  border-left: 3px solid lightcoral;
}

.blank.tf-confusion-matrix {
  background: darkgray;
}

.parenthetical.tf-confusion-matrix {
  padding-right: 5px;
        color: gray;
        width: 50px;
}</style><!-- Shady DOM styles for tf-inference-viewer --><style scope="tf-inference-viewer">tf-inference-viewer {
  display: block;
}

.runs-holder.tf-inference-viewer {
  padding: 0;
        display: flex;
        flex-direction: column-reverse;
        overflow-y: auto;
        max-height: 200px;
}

.row.tf-inference-viewer {
  display: flex;
}

.header.tf-inference-viewer {
  color: grey;
        font-weight: 500;
        font-size: 16px;
        padding: 5px 0;
}

.dark-row.tf-inference-viewer {
  background: #cbf0f8
}

.stripe-row.tf-inference-viewer {
  background: #e4f7fb;
}

.white-row.tf-inference-viewer {
  background: white;
}

.marker.tf-inference-viewer {
  flex: 0.5;
        margin-right: 5px;
}

.marker.mark.tf-inference-viewer {
  background: #007B83;
        padding-left: 1px;
}

.run.tf-inference-viewer {
  flex: 10;
}

.label.tf-inference-viewer {
  flex: 20;
        display: flex;
        overflow: hidden;
}

.no-label.tf-inference-viewer {
  display: none;
}

.score.tf-inference-viewer {
  flex: 10;
}

.arrow.tf-inference-viewer {
  flex: 2;
}

.delta.tf-inference-viewer {
  flex: 10;
}

.green.tf-inference-viewer {
  color: green;
}

.red.tf-inference-viewer {
  color: red;
}</style><!-- Shady DOM styles for tf-regression-table --><style scope="tf-regression-table">.table.tf-regression-table {
  display: table;
        border-collapse: collapse;
}

.total-row.tf-regression-table {
  border-bottom: 1px solid grey;
        display: table-row;
        font-weight: 500;
}

.header-row.tf-regression-table {
  display: table-row;
}

.row.tf-regression-table {
  border-bottom: 1px solid grey;
        display: table-row;
}

.header.tf-regression-table {
  color: grey;
        display: table-cell;
        background: #e3ecfc;
        font-weight: 400;
        padding: 4px 10px;
}

.cell.tf-regression-table {
  display: table-cell;
        padding: 2px 10px;
}

.numeric.tf-regression-table {
  text-align: right;
}</style><!-- Shady DOM styles for facets-dive-vis --><!-- Shady DOM styles for facets-dive-controls --><!-- Shady DOM styles for facets-dive-info-card --><!-- Shady DOM styles for facets-dive-legend --><!-- Shady DOM styles for facets-dive --><style scope="facets-dive">facets-dive  paper-input-container > .floated-label-placeholder {
  min-height: 20px;
}

facets-dive {
  background: #ffffff;
        box-sizing: border-box;
        display: flex;
        flex-grow: 1;
        height: 100%;
        overflow: hidden;
        position: relative;
        width: 100%;
}

.fill.facets-dive {
  display: flex;
        flex-grow: 1;
        position: relative;
}

.main.facets-dive {
  flex-direction: column;
}

facets-dive-controls.facets-dive {
  border-bottom: 1px solid #d3d3d3;
        flex-grow: 0;
        flex-shrink: 0;
        height: 60px;
}

.row.facets-dive {
  display: flex;
        flex-direction: row;
}

facets-dive-legend.facets-dive {
  position: absolute;
        bottom: 14px;
        right: 24px;
}

.zoom-controls.facets-dive {
  bottom: 14px;
        box-sizing: border-box;
        left: 0;
        position: absolute;
}

.zoom-controls.facets-dive paper-button.facets-dive {
  background-color: #e7e7e7;
        clear: left;
        color: #2b2b2b;
        display: block;
        float: left;
        margin: 4px 8px;
        min-width: 0;
        padding: 8px;
}

facets-dive-info-card.facets-dive {
  background: #fff8f4;
        border-left: 1px solid #c6c6c6;
        box-sizing: border-box;
        flex-grow: 0;
        flex-shrink: 0;
        width: 240px;
}</style><!-- Shady DOM styles for facets-overview-row-stats --><style scope="facets-overview-row-stats">*.facets-overview-row-stats {
  text-align: right;
        white-space: nowrap;
        overflow-x: hidden;
        text-overflow: ellipsis;
}

.data-error.facets-overview-row-stats {
  color: red;
        font-weight: bold;
}

.data-weighted.facets-overview-row-stats {
  font-style: italic;
}

.table-row.facets-overview-row-stats {
  display: flex;
        margin-bottom: 4px;
}

.table-cell.facets-overview-row-stats {
  min-width: 70px;
        max-width: 70px;
        padding-right: 4px;
        overflow: hidden;
}

.data-custom.facets-overview-row-stats {
  min-width: 150px;
        max-width: 150px;
        white-space: pre;;
}

#legend-box.facets-overview-row-stats {
  width: 6px;
        height: 16px;
        margin-left: 4px;
}</style><!-- Shady DOM styles for facets-overview-row-legend --><style scope="facets-overview-row-legend">.table-row.facets-overview-row-legend {
  display: flex;
        background: rgba(61,140,207,0.1);
        border-left: solid 0.5px rgba(0,0,0,0.1);
        border-bottom: solid 0.5px rgba(0,0,0,0.1);
}

.table-cell.facets-overview-row-legend {
  padding: 20px 4px 8px 0;
        min-width: 69px;
        max-width: 69px;
        text-align: right;
        font-size: 14px;
        font-weight: 300;
        border-right: solid 0.5px rgba(0,0,0,0.1);
}

.data-weighted.facets-overview-row-legend {
  font-style: italic;
}

.data-custom.facets-overview-row-legend {
  min-width: 150px;
        max-width: 150px;
}

.legend-space.facets-overview-row-legend {
  width: 6px;
        height: 8px;
        margin-left: 4px;
}</style><!-- Shady DOM styles for facets-overview-chart --><!-- Shady DOM styles for facets-overview-table --><!-- Shady DOM styles for facets-overview-filter-validator --><!-- Shady DOM styles for facets-overview --><!-- Shady DOM styles for vz-example-viewer --><!-- Shady DOM styles for tf-interactive-inference-dashboard --><!-- Shady DOM styles for paper-header-panel --><style scope="paper-header-panel-0">.paper-header-panel-0 {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;

        position: relative;
        height: 100%;;
}

.paper-header-panel-0 #mainContainer.paper-header-panel {
  -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;

        position: relative;
        overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
}

.paper-header-panel-0 #mainPanel.paper-header-panel {
  display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;-ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;

        position: relative;
        min-height: 0;;
}

.paper-header-panel-0 #mainContainer.paper-header-panel {
  ;
}

.paper-header-panel-0[mode=scroll] #mainContainer.paper-header-panel {
  ;

        overflow: visible;
}

.paper-header-panel-0[mode=scroll] {
  overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
}

.paper-header-panel-0[mode=cover] #mainContainer.paper-header-panel {
  ;

        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
}

.paper-header-panel-0[mode=cover] #mainPanel.paper-header-panel {
  position: static;
}

.paper-header-panel-0[mode=standard] #mainContainer.paper-header-panel {
  ;
}

.paper-header-panel-0[mode=seamed] #mainContainer.paper-header-panel {
  ;
}

.paper-header-panel-0[mode=waterfall] #mainContainer.paper-header-panel {
  ;
}

.paper-header-panel-0[mode=waterfall-tall] #mainContainer.paper-header-panel {
  ;
}

.paper-header-panel-0 #dropShadow.paper-header-panel {
  transition: opacity 0.5s;
        height: 6px;
        box-shadow: inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);;

        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        opacity: 0;
        pointer-events: none;
}

.paper-header-panel-0 #dropShadow.has-shadow.paper-header-panel {
  opacity: 1;
}</style><!-- Shady DOM styles for paper-toolbar --><style scope="paper-toolbar-0">.paper-toolbar-0 {
  ;
        display: block;
        position: relative;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        height: 64px;
        background: #3f51b5;
        color: #ffffff;;
}

.paper-toolbar-0.animate {
  transition: height 0.18s ease-in;
}

.paper-toolbar-0.medium-tall {
  height: calc(64px * 2);;
}

.paper-toolbar-0.tall {
  height: calc(64px * 3);;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar {
  position: relative;
        height: 64px;
        padding: 0 16px;
        pointer-events: none;display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;-ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;;
}

@media (max-width: 600px) {
.paper-toolbar-0 {
  height: 56px;
}

.paper-toolbar-0.medium-tall {
  height: calc(56px * 2);
}

.paper-toolbar-0.tall {
  height: calc(56px * 3);
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar {
  height: 56px;
}

}

.paper-toolbar-0 #topBar.paper-toolbar {
  position: relative;
}

.paper-toolbar-0 #middleBar.paper-toolbar {
  position: absolute;
        top: 0;
        right: 0;
        left: 0;
}

.paper-toolbar-0.tall #middleBar.paper-toolbar,.paper-toolbar-0.medium-tall #middleBar.paper-toolbar {
  -webkit-transform: translateY(100%);
        transform: translateY(100%);
}

.paper-toolbar-0 #bottomBar.paper-toolbar {
  position: absolute;
        right: 0;
        bottom: 0;
        left: 0;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar > *:not([disabled]) {
  pointer-events: auto;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar > .title {
  font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 20px;
        font-weight: 400;
        line-height: 1;
        pointer-events: none;-ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar > .title {
  margin-left: 56px;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar > paper-icon-button + .title {
  margin-left: 0;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar > .title {
  ;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar > paper-icon-button[icon=menu] {
  margin-right: 24px;
}

.paper-toolbar-0 .toolbar-tools.paper-toolbar > .fit {
  position: absolute;
        top: auto;
        right: 0;
        bottom: 0;
        left: 0;
        width: auto;
        margin: 0;
}

.paper-toolbar-0 .start-justified.paper-toolbar {
  -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
}

.paper-toolbar-0 .center-justified.paper-toolbar {
  -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
}

.paper-toolbar-0 .end-justified.paper-toolbar {
  -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
}

.paper-toolbar-0 .around-justified.paper-toolbar {
  -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
}

.paper-toolbar-0 .justified.paper-toolbar {
  -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
}</style><!-- Shady DOM styles for tf-collapsible-data-selector --><!-- Shady DOM styles for tf-tensorboard --><style scope="tf-tensorboard-0">.tf-tensorboard-0 {
  height: 100%;
        display: block;
        background-color: #f5f5f5;
}

.tf-tensorboard-0 #toolbar.tf-tensorboard {
  background-color: #f57c00;
        -webkit-font-smoothing: antialiased;
}

.tf-tensorboard-0 .toolbar-title.tf-tensorboard {
  font-size: 20px;
        margin-left: 10px;
        text-rendering: optimizeLegibility;
        letter-spacing: -0.025em;
        font-weight: 500;
        display: block;
}

.tf-tensorboard-0 .toolbar-message.tf-tensorboard {
  opacity: 0.7;
        -webkit-font-smoothing: antialiased;
        font-size: 14px;
        font-weight: 500;
}

.tf-tensorboard-0 paper-tabs.tf-tensorboard {
  flex-grow: 1;
        width: 100%;
        height: 100%
}

.tf-tensorboard-0 .global-actions.tf-tensorboard {
  display: inline-flex; 
        justify-content: flex-end;
        text-align: right;
        color: white;
}

.tf-tensorboard-0 .global-actions.tf-tensorboard a.tf-tensorboard {
  color: white;
}

.tf-tensorboard-0 #toolbar-content.tf-tensorboard {
  width: 100%;
        height: 100%;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
}

.tf-tensorboard-0 #content-pane.tf-tensorboard {
  align-items: stretch;
        display: flex;
        flex-direction: column;
        height: 100%;
        justify-content: stretch;
        width: 100%;
}

.tf-tensorboard-0 #data-selector.tf-tensorboard {
  flex-shrink: 0;
}

.tf-tensorboard-0 tf-collapsible-data-selector.tf-tensorboard {
  ;
}

.tf-tensorboard-0 #content.tf-tensorboard {
  flex: 1 1;
        overflow: hidden;
}

.tf-tensorboard-0 .dashboard-container.tf-tensorboard {
  height: 100%;
}

.tf-tensorboard-0 .dashboard-container.tf-tensorboard:not([data-selected]) {
  max-height: 0;
        overflow: hidden;
        position: relative;
        
        visibility: hidden;
}

.tf-tensorboard-0 .warning-message.tf-tensorboard {
  max-width: 540px;
        margin: 80px auto 0 auto;
}

.tf-tensorboard-0 [disabled].tf-tensorboard {
  opacity: 0.2;
        color: white;
}

.tf-tensorboard-0 #reload-button.refreshing.tf-tensorboard {
  animation: rotate-tf-tensorboard-0 2s linear infinite;
}

@keyframes rotate-tf-tensorboard-0 {
0% {
  transform: rotate(0deg);
}

50% {
  transform: rotate(180deg);
}

100% {
  transform: rotate(360deg);
}

}</style><style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style><meta charset="utf-8">
<title>TensorBoard</title>
<link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMQAAADECAMAAAD3eH5ZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAD/UExURfFlKfaELvFmKfNyK/67NvWALf68Nv69NvNxK/20NfyyNP22NfN0K/JrKvqhMv2zNf25Nf24Nf23NfeOL/yzNPyvNPJoKviWMPmeMfN1K/WBLfePL/FnKfeML/qlMvR7LPmcMfeLL/aJLvR5LPFoKfJuKvR3LP66NvywNPeNL/V/LfaILv21Nf26NfNzK/NvK/R6LPmaMfyxNPqfMvV+LfurM/iSMPmbMfJvKvmdMfumM/qiMvmZMfytNPJqKvysNPN2K/iYMPNwK/upM/JtKvJsKviVMPaHLvaGLvJpKvR8LPaKLvqkMvuqM/aFLvR4LPuoM/iTMPWDLfiRMPmYMXS0ngkAAALoSURBVHja7drnctpAFIbhFUISSKJ3MKYa0+y4xTW9937/15JkJhlTjhrSrHRmvuf/as6L0YLFCgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMBJ6njenqspzgnPrsrGX9Zpi2tCrmnc6+dYNthVY5WpMmxQLWPdMsOuYVwzNj3ei2t3mQwaV43BJPDCS2NbJ5aEeuX/+9qcjQOtfFIkIkrvY2g4MVcmOBsFWbowKO/kNyj62gRpJcDaPBlxLr1B0zdG0C/8LzbJiJrshuvy1gzlA9+rD8mIkuyIJjFE3/dqnYwoSm7IUEPoD/wut8iIguSIDjlFxe/yfXL5vuSI21BTZLLhXoOILMO8Hxwa/L8bI0LfmUdhGowb2ZvT0e57pFNDgB06IlVyjmmIBl2T/nl9Rw6SD9GgSG/Q0uQkaW3XhmovKQ3eFQ4N2Uo9OQ1eFZsNerf7vP+rO4rhmY1Lg3vFVoP8+8BXg1sFnwbnCk4NThW8GuiKBDdkVVtTNFvNelVsNqTbyWnIOM2oeTRoyWvwmpJHg/ucXBrcJuXT4DwrpwZi2vy0VCx8YtXg/D2bU4OfiuQ3eFfE2KD4bfCqiLNB993gXsGlwa2CT4NzBacGIVQ6YsipQdh0xEdODUKjIxrSp88onZ8zbbFLg1DoiFO5BXvDGv2My9/JhUT8JUZTI0yDaNHLBzIbvqTDNYhUiVw/kdjQ1kM2CHFDPjKW+KzyRTF0g/ga9w9y+fANQpxvX8CU+Ny7FUWDeF3Y+g3lROIf4k0UDX9eCyvO531PyYhHga9zvPZJU5b73Y/eXj8Hv9D48n6HaF5LbcjRt8TZTtda5M1DfXnbkX1C0SHCFKzQB5Fe8op4GNGNHavvZESbVwT5r6W1xyuCPBY3Y9YgDqzknH/e3YfNzzuL30l0IebrZ5kKtuDIXt1n868ET6kf3/49tLvrCcZyF8Pu215dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcPIbNrBhOaBXucoAAAAASUVORK5CYII=">
<link rel="apple-touch-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMQAAADECAMAAAD3eH5ZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAD/UExURfFlKfaELvFmKfNyK/67NvWALf68Nv69NvNxK/20NfyyNP22NfN0K/JrKvqhMv2zNf25Nf24Nf23NfeOL/yzNPyvNPJoKviWMPmeMfN1K/WBLfePL/FnKfeML/qlMvR7LPmcMfeLL/aJLvR5LPFoKfJuKvR3LP66NvywNPeNL/V/LfaILv21Nf26NfNzK/NvK/R6LPmaMfyxNPqfMvV+LfurM/iSMPmbMfJvKvmdMfumM/qiMvmZMfytNPJqKvysNPN2K/iYMPNwK/upM/JtKvJsKviVMPaHLvaGLvJpKvR8LPaKLvqkMvuqM/aFLvR4LPuoM/iTMPWDLfiRMPmYMXS0ngkAAALoSURBVHja7drnctpAFIbhFUISSKJ3MKYa0+y4xTW9937/15JkJhlTjhrSrHRmvuf/as6L0YLFCgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMBJ6njenqspzgnPrsrGX9Zpi2tCrmnc6+dYNthVY5WpMmxQLWPdMsOuYVwzNj3ei2t3mQwaV43BJPDCS2NbJ5aEeuX/+9qcjQOtfFIkIkrvY2g4MVcmOBsFWbowKO/kNyj62gRpJcDaPBlxLr1B0zdG0C/8LzbJiJrshuvy1gzlA9+rD8mIkuyIJjFE3/dqnYwoSm7IUEPoD/wut8iIguSIDjlFxe/yfXL5vuSI21BTZLLhXoOILMO8Hxwa/L8bI0LfmUdhGowb2ZvT0e57pFNDgB06IlVyjmmIBl2T/nl9Rw6SD9GgSG/Q0uQkaW3XhmovKQ3eFQ4N2Uo9OQ1eFZsNerf7vP+rO4rhmY1Lg3vFVoP8+8BXg1sFnwbnCk4NThW8GuiKBDdkVVtTNFvNelVsNqTbyWnIOM2oeTRoyWvwmpJHg/ucXBrcJuXT4DwrpwZi2vy0VCx8YtXg/D2bU4OfiuQ3eFfE2KD4bfCqiLNB993gXsGlwa2CT4NzBacGIVQ6YsipQdh0xEdODUKjIxrSp88onZ8zbbFLg1DoiFO5BXvDGv2My9/JhUT8JUZTI0yDaNHLBzIbvqTDNYhUiVw/kdjQ1kM2CHFDPjKW+KzyRTF0g/ga9w9y+fANQpxvX8CU+Ny7FUWDeF3Y+g3lROIf4k0UDX9eCyvO531PyYhHga9zvPZJU5b73Y/eXj8Hv9D48n6HaF5LbcjRt8TZTtda5M1DfXnbkX1C0SHCFKzQB5Fe8op4GNGNHavvZESbVwT5r6W1xyuCPBY3Y9YgDqzknH/e3YfNzzuL30l0IebrZ5kKtuDIXt1n868ET6kf3/49tLvrCcZyF8Pu215dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcPIbNrBhOaBXucoAAAAASUVORK5CYII=">
<script>/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
// @version 0.7.24
!function(){window.WebComponents=window.WebComponents||{flags:{}};var e="webcomponents-lite.js",t=document.querySelector('script[src*="'+e+'"]'),n={};if(!n.noOpts){if(location.search.slice(1).split("&").forEach(function(e){var t,o=e.split("=");o[0]&&(t=o[0].match(/wc-(.+)/))&&(n[t[1]]=o[1]||!0)}),t)for(var o,r=0;o=t.attributes[r];r++)"src"!==o.name&&(n[o.name]=o.value||!0);if(n.log&&n.log.split){var i=n.log.split(",");n.log={},i.forEach(function(e){n.log[e]=!0})}else n.log={}}n.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=n.register),WebComponents.flags=n}(),function(e){"use strict";function t(e){return void 0!==h[e]}function n(){s.call(this),this._isInvalid=!0}function o(e){return""==e&&n.call(this),e.toLowerCase()}function r(e){var t=e.charCodeAt(0);return t>32&&t<127&&[34,35,60,62,63,96].indexOf(t)==-1?e:encodeURIComponent(e)}function i(e){var t=e.charCodeAt(0);return t>32&&t<127&&[34,35,60,62,96].indexOf(t)==-1?e:encodeURIComponent(e)}function a(e,a,s){function c(e){g.push(e)}var d=a||"scheme start",l=0,u="",w=!1,_=!1,g=[];e:for(;(e[l-1]!=p||0==l)&&!this._isInvalid;){var b=e[l];switch(d){case"scheme start":if(!b||!m.test(b)){if(a){c("Invalid scheme.");break e}u="",d="no scheme";continue}u+=b.toLowerCase(),d="scheme";break;case"scheme":if(b&&v.test(b))u+=b.toLowerCase();else{if(":"!=b){if(a){if(p==b)break e;c("Code point not allowed in scheme: "+b);break e}u="",l=0,d="no scheme";continue}if(this._scheme=u,u="",a)break e;t(this._scheme)&&(this._isRelative=!0),d="file"==this._scheme?"relative":this._isRelative&&s&&s._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==b?(this._query="?",d="query"):"#"==b?(this._fragment="#",d="fragment"):p!=b&&"\t"!=b&&"\n"!=b&&"\r"!=b&&(this._schemeData+=r(b));break;case"no scheme":if(s&&t(s._scheme)){d="relative";continue}c("Missing scheme."),n.call(this);break;case"relative or authority":if("/"!=b||"/"!=e[l+1]){c("Expected /, got: "+b),d="relative";continue}d="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=s._scheme),p==b){this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._username=s._username,this._password=s._password;break e}if("/"==b||"\\"==b)"\\"==b&&c("\\ is an invalid code point."),d="relative slash";else if("?"==b)this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query="?",this._username=s._username,this._password=s._password,d="query";else{if("#"!=b){var y=e[l+1],E=e[l+2];("file"!=this._scheme||!m.test(b)||":"!=y&&"|"!=y||p!=E&&"/"!=E&&"\\"!=E&&"?"!=E&&"#"!=E)&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password,this._path=s._path.slice(),this._path.pop()),d="relative path";continue}this._host=s._host,this._port=s._port,this._path=s._path.slice(),this._query=s._query,this._fragment="#",this._username=s._username,this._password=s._password,d="fragment"}break;case"relative slash":if("/"!=b&&"\\"!=b){"file"!=this._scheme&&(this._host=s._host,this._port=s._port,this._username=s._username,this._password=s._password),d="relative path";continue}"\\"==b&&c("\\ is an invalid code point."),d="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=b){c("Expected '/', got: "+b),d="authority ignore slashes";continue}d="authority second slash";break;case"authority second slash":if(d="authority ignore slashes","/"!=b){c("Expected '/', got: "+b);continue}break;case"authority ignore slashes":if("/"!=b&&"\\"!=b){d="authority";continue}c("Expected authority, got: "+b);break;case"authority":if("@"==b){w&&(c("@ already seen."),u+="%40"),w=!0;for(var L=0;L<u.length;L++){var N=u[L];if("\t"!=N&&"\n"!=N&&"\r"!=N)if(":"!=N||null!==this._password){var M=r(N);null!==this._password?this._password+=M:this._username+=M}else this._password="";else c("Invalid whitespace in authority.")}u=""}else{if(p==b||"/"==b||"\\"==b||"?"==b||"#"==b){l-=u.length,u="",d="host";continue}u+=b}break;case"file host":if(p==b||"/"==b||"\\"==b||"?"==b||"#"==b){2!=u.length||!m.test(u[0])||":"!=u[1]&&"|"!=u[1]?0==u.length?d="relative path start":(this._host=o.call(this,u),u="",d="relative path start"):d="relative path";continue}"\t"==b||"\n"==b||"\r"==b?c("Invalid whitespace in file host."):u+=b;break;case"host":case"hostname":if(":"!=b||_){if(p==b||"/"==b||"\\"==b||"?"==b||"#"==b){if(this._host=o.call(this,u),u="",d="relative path start",a)break e;continue}"\t"!=b&&"\n"!=b&&"\r"!=b?("["==b?_=!0:"]"==b&&(_=!1),u+=b):c("Invalid code point in host/hostname: "+b)}else if(this._host=o.call(this,u),u="",d="port","hostname"==a)break e;break;case"port":if(/[0-9]/.test(b))u+=b;else{if(p==b||"/"==b||"\\"==b||"?"==b||"#"==b||a){if(""!=u){var T=parseInt(u,10);T!=h[this._scheme]&&(this._port=T+""),u=""}if(a)break e;d="relative path start";continue}"\t"==b||"\n"==b||"\r"==b?c("Invalid code point in port: "+b):n.call(this)}break;case"relative path start":if("\\"==b&&c("'\\' not allowed in path."),d="relative path","/"!=b&&"\\"!=b)continue;break;case"relative path":if(p!=b&&"/"!=b&&"\\"!=b&&(a||"?"!=b&&"#"!=b))"\t"!=b&&"\n"!=b&&"\r"!=b&&(u+=r(b));else{"\\"==b&&c("\\ not allowed in relative path.");var O;(O=f[u.toLowerCase()])&&(u=O),".."==u?(this._path.pop(),"/"!=b&&"\\"!=b&&this._path.push("")):"."==u&&"/"!=b&&"\\"!=b?this._path.push(""):"."!=u&&("file"==this._scheme&&0==this._path.length&&2==u.length&&m.test(u[0])&&"|"==u[1]&&(u=u[0]+":"),this._path.push(u)),u="","?"==b?(this._query="?",d="query"):"#"==b&&(this._fragment="#",d="fragment")}break;case"query":a||"#"!=b?p!=b&&"\t"!=b&&"\n"!=b&&"\r"!=b&&(this._query+=i(b)):(this._fragment="#",d="fragment");break;case"fragment":p!=b&&"\t"!=b&&"\n"!=b&&"\r"!=b&&(this._fragment+=b)}l++}}function s(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function c(e,t){void 0===t||t instanceof c||(t=new c(String(t))),this._url=e,s.call(this);var n=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");a.call(this,n,null,t)}var d=!1;if(!e.forceJURL)try{var l=new URL("b","http://a");l.pathname="c%20d",d="http://a/c%20d"===l.href}catch(u){}if(!d){var h=Object.create(null);h.ftp=21,h.file=0,h.gopher=70,h.http=80,h.https=443,h.ws=80,h.wss=443;var f=Object.create(null);f["%2e"]=".",f[".%2e"]="..",f["%2e."]="..",f["%2e%2e"]="..";var p=void 0,m=/[a-zA-Z]/,v=/[a-zA-Z0-9\+\-\.]/;c.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""==this._username&&null==this._password||(e=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){s.call(this),a.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||a.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&a.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],a.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"==e[0]&&(e=e.slice(1)),a.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"==e[0]&&(e=e.slice(1)),a.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return e=this.host,e?this._scheme+"://"+e:""}};var w=e.URL;w&&(c.createObjectURL=function(e){return w.createObjectURL.apply(w,arguments)},c.revokeObjectURL=function(e){w.revokeObjectURL(e)}),e.URL=c}}(self),"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(t++ +"__")};n.prototype={set:function(t,n){var o=t[this.name];return o&&o[0]===t?o[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){var t=e[this.name];return!(!t||t[0]!==e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=n}(),function(e){function t(e){b.push(e),g||(g=!0,m(o))}function n(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function o(){g=!1;var e=b;b=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();r(e),n.length&&(e.callback_(n,e),t=!0)}),t&&o()}function r(e){e.nodes_.forEach(function(t){var n=v.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function i(e,t){for(var n=e;n;n=n.parentNode){var o=v.get(n);if(o)for(var r=0;r<o.length;r++){var i=o[r],a=i.options;if(n===e||a.subtree){var s=t(a);s&&i.enqueue(s)}}}}function a(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++y}function s(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function c(e){var t=new s(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function d(e,t){return E=new s(e,t)}function l(e){return L?L:(L=c(E),L.oldValue=e,L)}function u(){E=L=void 0}function h(e){return e===L||e===E}function f(e,t){return e===t?e:L&&h(e)?L:null}function p(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var m,v=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))m=setTimeout;else if(window.setImmediate)m=window.setImmediate;else{var w=[],_=String(Math.random());window.addEventListener("message",function(e){if(e.data===_){var t=w;w=[],t.forEach(function(e){e()})}}),m=function(e){w.push(e),window.postMessage(_,"*")}}var g=!1,b=[],y=0;a.prototype={observe:function(e,t){if(e=n(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var o=v.get(e);o||v.set(e,o=[]);for(var r,i=0;i<o.length;i++)if(o[i].observer===this){r=o[i],r.removeListeners(),r.options=t;break}r||(r=new p(this,e,t),o.push(r),this.nodes_.push(e)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=v.get(e),n=0;n<t.length;n++){var o=t[n];if(o.observer===this){o.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var E,L;p.prototype={enqueue:function(e){var n=this.observer.records_,o=n.length;if(n.length>0){var r=n[o-1],i=f(r,e);if(i)return void(n[o-1]=i)}else t(this.observer);n[o]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=v.get(e);t||v.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=v.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,o=e.target,r=new d("attributes",o);r.attributeName=t,r.attributeNamespace=n;var a=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;i(o,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||e.attributeFilter.indexOf(t)!==-1||e.attributeFilter.indexOf(n)!==-1))return e.attributeOldValue?l(a):r});break;case"DOMCharacterDataModified":var o=e.target,r=d("characterData",o),a=e.prevValue;i(o,function(e){if(e.characterData)return e.characterDataOldValue?l(a):r});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,c,h=e.target;"DOMNodeInserted"===e.type?(s=[h],c=[]):(s=[],c=[h]);var f=h.previousSibling,p=h.nextSibling,r=d("childList",e.target.parentNode);r.addedNodes=s,r.removedNodes=c,r.previousSibling=f,r.nextSibling=p,i(e.relatedNode,function(e){if(e.childList)return r})}u()}},e.JsMutationObserver=a,e.MutationObserver||(e.MutationObserver=a,a._isPolyfilled=!0)}}(self),function(){function e(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case" ":return"&nbsp;"}}function t(t){return t.replace(u,e)}var n="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&!function(){var e=document.importNode;document.importNode=function(){var t=e.apply(document,arguments);if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(t),n}return t}}();var o=function(){if(!n){var e=document.createElement("template"),t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);var o=e.cloneNode(!0);return 0===o.content.childNodes.length||0===o.content.firstChild.content.childNodes.length}}(),r="template",i=function(){};if(n){var a=document.implementation.createHTMLDocument("template"),s=!0,c=document.createElement("style");c.textContent=r+"{display:none;}";var d=document.head;d.insertBefore(c,d.firstElementChild),i.prototype=Object.create(HTMLElement.prototype),i.decorate=function(e){if(!e.content){e.content=a.createDocumentFragment();for(var n;n=e.firstChild;)e.content.appendChild(n);if(e.cloneNode=function(e){return i.cloneNode(this,e)},s)try{Object.defineProperty(e,"innerHTML",{get:function(){for(var e="",n=this.content.firstChild;n;n=n.nextSibling)e+=n.outerHTML||t(n.data);return e},set:function(e){for(a.body.innerHTML=e,i.bootstrap(a);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;a.body.firstChild;)this.content.appendChild(a.body.firstChild)},configurable:!0})}catch(o){s=!1}i.bootstrap(e.content)}},i.bootstrap=function(e){for(var t,n=e.querySelectorAll(r),o=0,a=n.length;o<a&&(t=n[o]);o++)i.decorate(t)},document.addEventListener("DOMContentLoaded",function(){i.bootstrap(document)});var l=document.createElement;document.createElement=function(){"use strict";var e=l.apply(document,arguments);return"template"===e.localName&&i.decorate(e),e};var u=/[&\u00A0<>]/g}if(n||o){var h=Node.prototype.cloneNode;i.cloneNode=function(e,t){var n=h.call(e,!1);return this.decorate&&this.decorate(n),t&&(n.content.appendChild(h.call(e.content,!0)),this.fixClonedDom(n.content,e.content)),n},i.fixClonedDom=function(e,t){if(t.querySelectorAll)for(var n,o,i=t.querySelectorAll(r),a=e.querySelectorAll(r),s=0,c=a.length;s<c;s++)o=i[s],n=a[s],this.decorate&&this.decorate(o),n.parentNode.replaceChild(o.cloneNode(!0),n)};var f=document.importNode;Node.prototype.cloneNode=function(e){var t=h.call(this,e);return e&&i.fixClonedDom(t,this),t},document.importNode=function(e,t){if(e.localName===r)return i.cloneNode(e,t);var n=f.call(document,e,t);return t&&i.fixClonedDom(n,e),n},o&&(HTMLTemplateElement.prototype.cloneNode=function(e){return i.cloneNode(this,e)})}n&&(window.HTMLTemplateElement=i)}(),function(e){"use strict";if(!window.performance||!window.performance.now){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e(function(){t(performance.now())})}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}}());var n=function(){var e=document.createEvent("Event");return e.initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented}();if(!n){var o=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(o.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var r=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||r&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||r&&"function"!=typeof window.Event){var i=window.Event;window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},window.Event.prototype=i.prototype}}(window.WebComponents),window.HTMLImports=window.HTMLImports||{flags:{}},function(e){function t(e,t){t=t||p,o(function(){i(e,t)},t)}function n(e){return"complete"===e.readyState||e.readyState===w}function o(e,t){if(n(t))e&&e();else{var r=function(){"complete"!==t.readyState&&t.readyState!==w||(t.removeEventListener(_,r),o(e,t))};t.addEventListener(_,r)}}function r(e){e.target.__loaded=!0}function i(e,t){function n(){c==d&&e&&e({allImports:s,loadedImports:l,errorImports:u})}function o(e){r(e),l.push(this),c++,n()}function i(e){u.push(this),c++,n()}var s=t.querySelectorAll("link[rel=import]"),c=0,d=s.length,l=[],u=[];if(d)for(var h,f=0;f<d&&(h=s[f]);f++)a(h)?(l.push(this),c++,n()):(h.addEventListener("load",o),h.addEventListener("error",i));else n()}function a(e){return u?e.__loaded||e["import"]&&"loading"!==e["import"].readyState:e.__importParsed}function s(e){for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)c(t)&&d(t)}function c(e){return"link"===e.localName&&"import"===e.rel}function d(e){var t=e["import"];t?r({target:e}):(e.addEventListener("load",r),e.addEventListener("error",r))}var l="import",u=Boolean(l in document.createElement("link")),h=Boolean(window.ShadowDOMPolyfill),f=function(e){return h?window.ShadowDOMPolyfill.wrapIfNeeded(e):e},p=f(document),m={get:function(){var e=window.HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return f(e)},configurable:!0};Object.defineProperty(document,"_currentScript",m),Object.defineProperty(p,"_currentScript",m);var v=/Trident/.test(navigator.userAgent),w=v?"complete":"interactive",_="readystatechange";u&&(new MutationObserver(function(e){for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)t.addedNodes&&s(t.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var e,t=document.querySelectorAll("link[rel=import]"),n=0,o=t.length;n<o&&(e=t[n]);n++)d(e)}()),t(function(e){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var t=p.createEvent("CustomEvent");t.initCustomEvent("HTMLImportsLoaded",!0,!0,e),p.dispatchEvent(t)}),e.IMPORT_LINK_TYPE=l,e.useNative=u,e.rootDocument=p,e.whenReady=t,e.isIE=v}(window.HTMLImports),function(e){var t=[],n=function(e){t.push(e)},o=function(){t.forEach(function(t){t(e)})};e.addModule=n,e.initializeModules=o}(window.HTMLImports),window.HTMLImports.addModule(function(e){var t=/(url\()([^)]*)(\))/g,n=/(@import[\s]+(?!url\())([^;]*)(;)/g,o={resolveUrlsInStyle:function(e,t){var n=e.ownerDocument,o=n.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,t,o),e},resolveUrlsInCssText:function(e,o,r){var i=this.replaceUrls(e,r,o,t);return i=this.replaceUrls(i,r,o,n)},replaceUrls:function(e,t,n,o){return e.replace(o,function(e,o,r,i){var a=r.replace(/["']/g,"");return n&&(a=new URL(a,n).href),t.href=a,a=t.href,o+"'"+a+"'"+i})}};e.path=o}),window.HTMLImports.addModule(function(e){var t={async:!0,ok:function(e){return e.status>=200&&e.status<300||304===e.status||0===e.status},load:function(n,o,r){var i=new XMLHttpRequest;return(e.flags.debug||e.flags.bust)&&(n+="?"+Math.random()),i.open("GET",n,t.async),i.addEventListener("readystatechange",function(e){if(4===i.readyState){var n=null;try{var a=i.getResponseHeader("Location");a&&(n="/"===a.substr(0,1)?location.origin+a:a)}catch(e){console.error(e.message)}o.call(r,!t.ok(i)&&i,i.response||i.responseText,n)}}),i.send(),i},loadDocument:function(e,t,n){this.load(e,t,n).responseType="document"}};e.xhr=t}),window.HTMLImports.addModule(function(e){var t=e.xhr,n=e.flags,o=function(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}};o.prototype={addNodes:function(e){this.inflight+=e.length;for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)this.require(t);this.checkDone()},addNode:function(e){this.inflight++,this.require(e),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){if(this.pending[e])return this.pending[e].push(t),!0;return this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,o){if(n.load&&console.log("fetch",e,o),e)if(e.match(/^data:/)){var r=e.split(","),i=r[0],a=r[1];a=i.indexOf(";base64")>-1?atob(a):decodeURIComponent(a),setTimeout(function(){this.receive(e,o,null,a)}.bind(this),0)}else{var s=function(t,n,r){this.receive(e,o,t,n,r)}.bind(this);t.load(e,s)}else setTimeout(function(){this.receive(e,o,{error:"href must be specified"},null)}.bind(this),0)},receive:function(e,t,n,o,r){this.cache[e]=o;for(var i,a=this.pending[e],s=0,c=a.length;s<c&&(i=a[s]);s++)this.onload(e,i,o,n,r),this.tail();this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e.Loader=o}),window.HTMLImports.addModule(function(e){var t=function(e){this.addCallback=e,this.mo=new MutationObserver(this.handler.bind(this))};t.prototype={handler:function(e){for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)"childList"===t.type&&t.addedNodes.length&&this.addedNodes(t.addedNodes)},addedNodes:function(e){this.addCallback&&this.addCallback(e);for(var t,n=0,o=e.length;n<o&&(t=e[n]);n++)t.children&&t.children.length&&this.addedNodes(t.children)},observe:function(e){this.mo.observe(e,{childList:!0,subtree:!0})}},e.Observer=t}),window.HTMLImports.addModule(function(e){function t(e){return"link"===e.localName&&e.rel===l}function n(e){var t=o(e);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(t)}function o(e){return e.textContent+r(e)}function r(e){var t=e.ownerDocument;t.__importedScripts=t.__importedScripts||0;var n=e.ownerDocument.baseURI,o=t.__importedScripts?"-"+t.__importedScripts:"";return t.__importedScripts++,"\n//# sourceURL="+n+o+".js\n"}function i(e){var t=e.ownerDocument.createElement("style");return t.textContent=e.textContent,a.resolveUrlsInStyle(t),t}var a=e.path,s=e.rootDocument,c=e.flags,d=e.isIE,l=e.IMPORT_LINK_TYPE,u="link[rel="+l+"]",h={documentSelectors:u,importsSelectors:[u,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var e=this.nextToParse();e&&this.parse(e)},parse:function(e){if(this.isParsed(e))return void(c.parse&&console.log("[%s] is already parsed",e.localName));var t=this[this.map[e.localName]];t&&(this.markParsing(e),t.call(this,e))},parseDynamic:function(e,t){this.dynamicElements.push(e),t||this.parseNext()},markParsing:function(e){c.parse&&console.log("parsing",e),this.parsingElement=e},markParsingComplete:function(e){e.__importParsed=!0,this.markDynamicParsingComplete(e),e.__importElement&&(e.__importElement.__importParsed=!0,this.markDynamicParsingComplete(e.__importElement)),this.parsingElement=null,c.parse&&console.log("completed",e)},markDynamicParsingComplete:function(e){var t=this.dynamicElements.indexOf(e);t>=0&&this.dynamicElements.splice(t,1)},parseImport:function(e){if(e["import"]=e.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(e),e["import"]&&(e["import"].__importParsed=!0),this.markParsingComplete(e),e.__resource&&!e.__error?e.dispatchEvent(new CustomEvent("load",{bubbles:!1})):e.dispatchEvent(new CustomEvent("error",{bubbles:!1})),e.__pending)for(var t;e.__pending.length;)t=e.__pending.shift(),t&&t({target:e});this.parseNext()},parseLink:function(e){t(e)?this.parseImport(e):(e.href=e.href,this.parseGeneric(e))},parseStyle:function(e){var t=e;e=i(e),t.__appliedElement=e,e.__importElement=t,this.parseGeneric(e)},parseGeneric:function(e){this.trackElement(e),this.addElementToDocument(e)},rootImportForElement:function(e){for(var t=e;t.ownerDocument.__importLink;)t=t.ownerDocument.__importLink;return t},addElementToDocument:function(e){var t=this.rootImportForElement(e.__importElement||e);t.parentNode.insertBefore(e,t)},trackElement:function(e,t){var n=this,o=function(r){e.removeEventListener("load",o),e.removeEventListener("error",o),t&&t(r),n.markParsingComplete(e),n.parseNext()};if(e.addEventListener("load",o),e.addEventListener("error",o),d&&"style"===e.localName){var r=!1;if(e.textContent.indexOf("@import")==-1)r=!0;else if(e.sheet){r=!0;for(var i,a=e.sheet.cssRules,s=a?a.length:0,c=0;c<s&&(i=a[c]);c++)i.type===CSSRule.IMPORT_RULE&&(r=r&&Boolean(i.styleSheet))}r&&setTimeout(function(){e.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(t){var o=document.createElement("script");o.__importElement=t,o.src=t.src?t.src:n(t),e.currentScript=t,this.trackElement(o,function(t){o.parentNode&&o.parentNode.removeChild(o),e.currentScript=null}),this.addElementToDocument(o)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(s)||this.nextToParseDynamic())},nextToParseInDoc:function(e,n){if(e&&this._mayParse.indexOf(e)<0){this._mayParse.push(e);for(var o,r=e.querySelectorAll(this.parseSelectorsForNode(e)),i=0,a=r.length;i<a&&(o=r[i]);i++)if(!this.isParsed(o))return this.hasResource(o)?t(o)?this.nextToParseInDoc(o.__doc,o):o:void 0}return n},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===s?this.documentSelectors:this.importsSelectors},isParsed:function(e){return e.__importParsed},needsDynamicParsing:function(e){return this.dynamicElements.indexOf(e)>=0},hasResource:function(e){return!t(e)||void 0!==e.__doc}};e.parser=h,e.IMPORT_SELECTOR=u}),window.HTMLImports.addModule(function(e){function t(e){return n(e,a)}function n(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function o(e){return!!Object.getOwnPropertyDescriptor(e,"baseURI")}function r(e,t){var n=document.implementation.createHTMLDocument(a);n._URL=t;var r=n.createElement("base");r.setAttribute("href",t),n.baseURI||o(n)||Object.defineProperty(n,"baseURI",{value:t});var i=n.createElement("meta");return i.setAttribute("charset","utf-8"),n.head.appendChild(i),n.head.appendChild(r),n.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}var i=e.flags,a=e.IMPORT_LINK_TYPE,s=e.IMPORT_SELECTOR,c=e.rootDocument,d=e.Loader,l=e.Observer,u=e.parser,h={documents:{},documentPreloadSelectors:s,importsPreloadSelectors:[s].join(","),loadNode:function(e){f.addNode(e)},loadSubtree:function(e){var t=this.marshalNodes(e);f.addNodes(t)},marshalNodes:function(e){return e.querySelectorAll(this.loadSelectorsForNode(e))},loadSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===c?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(e,n,o,a,s){if(i.load&&console.log("loaded",e,n),n.__resource=o,n.__error=a,t(n)){var c=this.documents[e];void 0===c&&(c=a?null:r(o,s||e),c&&(c.__importLink=n,this.bootDocument(c)),this.documents[e]=c),n.__doc=c}u.parseNext()},bootDocument:function(e){this.loadSubtree(e),this.observer.observe(e),u.parseNext()},loadedAll:function(){u.parseNext()}},f=new d(h.loaded.bind(h),h.loadedAll.bind(h));if(h.observer=new l,!document.baseURI){var p={get:function(){var e=document.querySelector("base");return e?e.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",p),Object.defineProperty(c,"baseURI",p)}e.importer=h,e.importLoader=f}),window.HTMLImports.addModule(function(e){var t=e.parser,n=e.importer,o={added:function(e){for(var o,r,i,a,s=0,c=e.length;s<c&&(a=e[s]);s++)o||(o=a.ownerDocument,r=t.isParsed(o)),i=this.shouldLoadNode(a),i&&n.loadNode(a),this.shouldParseNode(a)&&r&&t.parseDynamic(a,i)},shouldLoadNode:function(e){return 1===e.nodeType&&r.call(e,n.loadSelectorsForNode(e))},shouldParseNode:function(e){return 1===e.nodeType&&r.call(e,t.parseSelectorsForNode(e))}};n.observer.addCallback=o.added.bind(o);var r=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(e){function t(){window.HTMLImports.importer.bootDocument(o)}var n=e.initializeModules;e.isIE;if(!e.useNative){n();var o=e.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?t():document.addEventListener("DOMContentLoaded",t)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[],o=function(e){n.push(e)},r=function(){n.forEach(function(t){t(e)})};e.addModule=o,e.initializeModules=r,e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(e){function t(e,t){n(e,function(e){return!!t(e)||void o(e,t)}),o(e,t)}function n(e,t,o){var r=e.firstElementChild;if(!r)for(r=e.firstChild;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.nextSibling;for(;r;)t(r,o)!==!0&&n(r,t,o),r=r.nextElementSibling;return null}function o(e,n){for(var o=e.shadowRoot;o;)t(o,n),o=o.olderShadowRoot}function r(e,t){i(e,t,[])}function i(e,t,n){if(e=window.wrap(e),!(n.indexOf(e)>=0)){n.push(e);for(var o,r=e.querySelectorAll("link[rel="+a+"]"),s=0,c=r.length;s<c&&(o=r[s]);s++)o["import"]&&i(o["import"],t,n);t(e)}}var a=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=r,e.forSubtree=t}),window.CustomElements.addModule(function(e){function t(e,t){return n(e,t)||o(e,t)}function n(t,n){return!!e.upgrade(t,n)||void(n&&a(t))}function o(e,t){g(e,function(e){if(n(e,t))return!0})}function r(e){L.push(e),E||(E=!0,setTimeout(i))}function i(){E=!1;for(var e,t=L,n=0,o=t.length;n<o&&(e=t[n]);n++)e();L=[]}function a(e){y?r(function(){s(e);
}):s(e)}function s(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function c(e){d(e),g(e,function(e){d(e)})}function d(e){y?r(function(){l(e)}):l(e)}function l(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function u(e){for(var t=e,n=window.wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}function h(e){if(e.shadowRoot&&!e.shadowRoot.__watched){_.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)m(t),t=t.olderShadowRoot}}function f(e,n){if(_.dom){var o=n[0];if(o&&"childList"===o.type&&o.addedNodes&&o.addedNodes){for(var r=o.addedNodes[0];r&&r!==document&&!r.host;)r=r.parentNode;var i=r&&(r.URL||r._URL||r.host&&r.host.localName)||"";i=i.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,i||"")}var a=u(e);n.forEach(function(e){"childList"===e.type&&(N(e.addedNodes,function(e){e.localName&&t(e,a)}),N(e.removedNodes,function(e){e.localName&&c(e)}))}),_.dom&&console.groupEnd()}function p(e){for(e=window.wrap(e),e||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(f(e,t.takeRecords()),i())}function m(e){if(!e.__observer){var t=new MutationObserver(f.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function v(e){e=window.wrap(e),_.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop());var n=e===window.wrap(document);t(e,n),m(e),_.dom&&console.groupEnd()}function w(e){b(e,v)}var _=e.flags,g=e.forSubtree,b=e.forDocumentTree,y=window.MutationObserver._isPolyfilled&&_["throttle-attached"];e.hasPolyfillMutations=y,e.hasThrottledAttached=y;var E=!1,L=[],N=Array.prototype.forEach.call.bind(Array.prototype.forEach),M=Element.prototype.createShadowRoot;M&&(Element.prototype.createShadowRoot=function(){var e=M.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=h,e.upgradeDocumentTree=w,e.upgradeDocument=v,e.upgradeSubtree=o,e.upgradeAll=t,e.attached=a,e.takeRecords=p}),window.CustomElements.addModule(function(e){function t(t,o){if("template"===t.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t),!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var r=t.getAttribute("is"),i=e.getRegisteredDefinition(t.localName)||e.getRegisteredDefinition(r);if(i&&(r&&i.tag==t.localName||!r&&!i["extends"]))return n(t,i,o)}}function n(t,n,r){return a.upgrade&&console.group("upgrade:",t.localName),n.is&&t.setAttribute("is",n.is),o(t,n),t.__upgraded__=!0,i(t),r&&e.attached(t),e.upgradeSubtree(t,r),a.upgrade&&console.groupEnd(),t}function o(e,t){Object.__proto__?e.__proto__=t.prototype:(r(e,t.prototype,t["native"]),e.__proto__=t.prototype)}function r(e,t,n){for(var o={},r=t;r!==n&&r!==HTMLElement.prototype;){for(var i,a=Object.getOwnPropertyNames(r),s=0;i=a[s];s++)o[i]||(Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i)),o[i]=1);r=Object.getPrototypeOf(r)}}function i(e){e.createdCallback&&e.createdCallback()}var a=e.flags;e.upgrade=t,e.upgradeWithDefinition=n,e.implementPrototype=o}),window.CustomElements.addModule(function(e){function t(t,o){var c=o||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(r(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(d(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return c.prototype||(c.prototype=Object.create(HTMLElement.prototype)),c.__name=t.toLowerCase(),c["extends"]&&(c["extends"]=c["extends"].toLowerCase()),c.lifecycle=c.lifecycle||{},c.ancestry=i(c["extends"]),a(c),s(c),n(c.prototype),l(c.__name,c),c.ctor=u(c),c.ctor.prototype=c.prototype,c.prototype.constructor=c.ctor,e.ready&&v(document),c.ctor}function n(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,n){o.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e){o.call(this,e,null,n)},e.setAttribute._polyfilled=!0}}function o(e,t,n){e=e.toLowerCase();var o=this.getAttribute(e);n.apply(this,arguments);var r=this.getAttribute(e);this.attributeChangedCallback&&r!==o&&this.attributeChangedCallback(e,o,r)}function r(e){for(var t=0;t<y.length;t++)if(e===y[t])return!0}function i(e){var t=d(e);return t?i(t["extends"]).concat([t]):[]}function a(e){for(var t,n=e["extends"],o=0;t=e.ancestry[o];o++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}function s(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}for(var o,r=e.prototype,i=!1;r;)r==t&&(i=!0),o=Object.getPrototypeOf(r),o&&(r.__proto__=o),r=o;i||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e["native"]=t}}function c(e){return _(N(e.tag),e)}function d(e){if(e)return E[e.toLowerCase()]}function l(e,t){E[e]=t}function u(e){return function(){return c(e)}}function h(e,t,n){return e===L?f(t,n):M(e,t)}function f(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n=d(t||e);if(n){if(e==n.tag&&t==n.is)return new n.ctor;if(!t&&!n.is)return new n.ctor}var o;return t?(o=f(e),o.setAttribute("is",t),o):(o=N(e),e.indexOf("-")>=0&&g(o,HTMLElement),o)}function p(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return w(e),e}}var m,v=(e.isIE,e.upgradeDocumentTree),w=e.upgradeAll,_=e.upgradeWithDefinition,g=e.implementPrototype,b=e.useNative,y=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],E={},L="http://www.w3.org/1999/xhtml",N=document.createElement.bind(document),M=document.createElementNS.bind(document);m=Object.__proto__||b?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),document.registerElement=t,document.createElement=f,document.createElementNS=h,e.registry=E,e["instanceof"]=m,e.reservedTagList=y,e.getRegisteredDefinition=d,document.register=document.registerElement}),function(e){function t(){i(window.wrap(document)),window.CustomElements.ready=!0;var e=window.requestAnimationFrame||function(e){setTimeout(e,16)};e(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=e.useNative,o=e.initializeModules;e.isIE;if(n){var r=function(){};e.watchShadow=r,e.upgrade=r,e.upgradeAll=r,e.upgradeDocumentTree=r,e.upgradeSubtree=r,e.takeRecords=r,e["instanceof"]=function(e,t){return e instanceof t}}else o();var i=e.upgradeDocumentTree,a=e.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e["import"]&&a(wrap(e["import"]))}),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,t)}else t()}(window.CustomElements),function(e){var t=document.createElement("style");t.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var n=document.querySelector("head");n.insertBefore(t,n.firstChild)}(window.WebComponents);</script><script>// Copyright 2014 Google Inc. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
//     You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
// limitations under the License.

!function(a,b){var c={},d={},e={},f=null;!function(a,b){function c(a){if("number"==typeof a)return a;var b={};for(var c in a)b[c]=a[c];return b}function d(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=w}function e(){return a.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function f(b,c,e){var f=new d;return c&&(f.fill="both",f.duration="auto"),"number"!=typeof b||isNaN(b)?void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(c){if("auto"!=b[c]){if(("number"==typeof f[c]||"duration"==c)&&("number"!=typeof b[c]||isNaN(b[c])))return;if("fill"==c&&-1==u.indexOf(b[c]))return;if("direction"==c&&-1==v.indexOf(b[c]))return;if("playbackRate"==c&&1!==b[c]&&a.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;f[c]=b[c]}}):f.duration=b,f}function g(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a}function h(b,c){return b=a.numericTimingToObject(b),f(b,c)}function i(a,b,c,d){return 0>a||a>1||0>c||c>1?w:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}if(0==e||1==e)return e;for(var g=0,h=1;;){var i=(g+h)/2,j=f(a,c,i);if(Math.abs(e-j)<1e-4)return f(b,d,i);e>j?g=i:h=i}}}function j(a,b){return function(c){if(c>=1)return 1;var d=1/a;return c+=b*d,c-c%d}}function k(a){B||(B=document.createElement("div").style),B.animationTimingFunction="",B.animationTimingFunction=a;var b=B.animationTimingFunction;if(""==b&&e())throw new TypeError(a+" is not a valid value for easing");var c=D.exec(b);if(c)return i.apply(this,c.slice(1).map(Number));var d=E.exec(b);if(d)return j(Number(d[1]),{start:x,middle:y,end:z}[d[2]]);var f=A[b];return f?f:w}function l(a){return Math.abs(m(a)/a.playbackRate)}function m(a){return a.duration*a.iterations}function n(a,b,c){return null==b?F:b<c.delay?G:b>=c.delay+a?H:I}function o(a,b,c,d,e){switch(d){case G:return"backwards"==b||"both"==b?0:null;case I:return c-e;case H:return"forwards"==b||"both"==b?a:null;case F:return null}}function p(a,b,c,d){return(d.playbackRate<0?b-a:b)*d.playbackRate+c}function q(a,b,c,d,e){return c===1/0||c===-(1/0)||c-d==b&&e.iterations&&(e.iterations+e.iterationStart)%1==0?a:c%a}function r(a,b,c,d){return 0===c?0:b==a?d.iterationStart+d.iterations-1:Math.floor(c/a)}function s(a,b,c,d){var e=a%2>=1,f="normal"==d.direction||d.direction==(e?"alternate-reverse":"alternate"),g=f?c:b-c,h=g/b;return b*d._easingFunction(h)}function t(a,b,c){var d=n(a,b,c),e=o(a,c.fill,b,d,c.delay);if(null===e)return null;if(0===a)return d===G?0:1;var f=c.iterationStart*c.duration,g=p(a,e,f,c),h=q(c.duration,m(c),g,f,c),i=r(c.duration,h,g,c);return s(i,c.duration,h,c)/c.duration}var u="backwards|forwards|both|none".split("|"),v="reverse|alternate|alternate-reverse".split("|"),w=function(a){return a};d.prototype={_setMember:function(b,c){this["_"+b]=c,this._effect&&(this._effect._timingInput[b]=c,this._effect._timing=a.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=a.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},set duration(a){if("auto"!=a&&(isNaN(a)||0>a)&&e())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(a){this._easingFunction=k(a),this._setMember("easing",a)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterations must be non-negative, received: "+a);this._setMember("iterations",a)},get iterations(){return this._iterations}};var x=1,y=.5,z=0,A={ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"step-start":j(1,x),"step-middle":j(1,y),"step-end":j(1,z)},B=null,C="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",D=new RegExp("cubic-bezier\\("+C+","+C+","+C+","+C+"\\)"),E=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,F=0,G=1,H=2,I=3;a.cloneTimingInput=c,a.makeTiming=f,a.numericTimingToObject=g,a.normalizeTimingInput=h,a.calculateActiveDuration=l,a.calculateTimeFraction=t,a.calculatePhase=n,a.toTimingFunction=k}(c,f),function(a,b){function c(a,b){return a in j?j[a][b]||b:b}function d(a,b,d){var e=g[a];if(e){h.style[a]=b;for(var f in e){var i=e[f],j=h.style[i];d[i]=c(i,j)}}else d[a]=c(a,b)}function e(a){var b=[];for(var c in a)if(!(c in["easing","offset","composite"])){var d=a[c];Array.isArray(d)||(d=[d]);for(var e,f=d.length,g=0;f>g;g++)e={},"offset"in a?e.offset=a.offset:1==f?e.offset=1:e.offset=g/(f-1),"easing"in a&&(e.easing=a.easing),"composite"in a&&(e.composite=a.composite),e[c]=d[g],b.push(e)}return b.sort(function(a,b){return a.offset-b.offset}),b}function f(a){function b(){var a=c.length;null==c[a-1].offset&&(c[a-1].offset=1),a>1&&null==c[0].offset&&(c[0].offset=0);for(var b=0,d=c[0].offset,e=1;a>e;e++){var f=c[e].offset;if(null!=f){for(var g=1;e-b>g;g++)c[b+g].offset=d+(f-d)*g/(e-b);b=e,d=f}}}if(null==a)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&a[Symbol.iterator]&&(a=Array.from(a)),Array.isArray(a)||(a=e(a));for(var c=a.map(function(a){var b={};for(var c in a){var e=a[c];if("offset"==c){if(null!=e&&(e=Number(e),!isFinite(e)))throw new TypeError("keyframe offsets must be numbers.")}else{if("composite"==c)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};e=""+e}d(c,e,b)}return void 0==b.offset&&(b.offset=null),b}),f=!0,g=-(1/0),h=0;h<c.length;h++){var i=c[h].offset;if(null!=i){if(g>i)throw{code:DOMException.INVALID_MODIFICATION_ERR,name:"InvalidModificationError",message:"Keyframes are not loosely sorted by offset. Sort or specify offsets."};g=i}else f=!1}return c=c.filter(function(a){return a.offset>=0&&a.offset<=1}),f||b(),c}var g={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},h=document.createElementNS("http://www.w3.org/1999/xhtml","div"),i={thin:"1px",medium:"3px",thick:"5px"},j={borderBottomWidth:i,borderLeftWidth:i,borderRightWidth:i,borderTopWidth:i,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:i,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.convertToArrayForm=e,a.normalizeKeyframes=f}(c,f),function(a){var b={};a.isDeprecated=function(a,c,d,e){var f=e?"are":"is",g=new Date,h=new Date(c);return h.setMonth(h.getMonth()+3),h>g?(a in b||console.warn("Web Animations: "+a+" "+f+" deprecated and will stop working on "+h.toDateString()+". "+d),b[a]=!0,!1):!0},a.deprecated=function(b,c,d,e){var f=e?"are":"is";if(a.isDeprecated(b,c,d,e))throw new Error(b+" "+f+" no longer supported. "+d)}}(c),function(){if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(c){void 0===a[c]&&(b=!0)})),!b)return}!function(a,b,c){function d(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])if("offset"!=d&&"easing"!=d&&"composite"!=d){var e={offset:a[c].offset,easing:a[c].easing,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return b}function e(c){var d=[];for(var e in c)for(var f=c[e],g=0;g<f.length-1;g++){var h=f[g].offset,i=f[g+1].offset,j=f[g].value,k=f[g+1].value,l=f[g].easing;h==i&&(1==i?j=k:k=j),d.push({startTime:h,endTime:i,easing:a.toTimingFunction(l?l:"linear"),property:e,interpolation:b.propertyInterpolation(e,j,k)})}return d.sort(function(a,b){return a.startTime-b.startTime}),d}b.convertEffectInput=function(c){var f=a.normalizeKeyframes(c),g=d(f),h=e(g);return function(a,c){if(null!=c)h.filter(function(a){return 0>=c&&0==a.startTime||c>=1&&1==a.endTime||c>=a.startTime&&c<=a.endTime}).forEach(function(d){var e=c-d.startTime,f=d.endTime-d.startTime,g=0==f?0:d.easing(e/f);b.apply(a,d.property,d.interpolation(g))});else for(var d in g)"offset"!=d&&"easing"!=d&&"composite"!=d&&b.clear(a,d)}}}(c,d,f),function(a,b,c){function d(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a,b,c){h[c]=h[c]||[],h[c].push([a,b])}function f(a,b,c){for(var f=0;f<c.length;f++){var g=c[f];e(a,b,d(g))}}function g(c,e,f){var g=c;/-/.test(c)&&!a.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(g=d(c)),"initial"!=e&&"initial"!=f||("initial"==e&&(e=i[g]),"initial"==f&&(f=i[g]));for(var j=e==f?[]:h[g],k=0;j&&k<j.length;k++){var l=j[k][0](e),m=j[k][0](f);if(void 0!==l&&void 0!==m){var n=j[k][1](l,m);if(n){var o=b.Interpolation.apply(null,n);return function(a){return 0==a?e:1==a?f:o(a)}}}}return b.Interpolation(!1,!0,function(a){return a?f:e})}var h={};b.addPropertiesHandler=f;var i={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};b.propertyInterpolation=g}(c,d,f),function(a,b,c){function d(b){var c=a.calculateActiveDuration(b),d=function(d){return a.calculateTimeFraction(c,d,b)};return d._totalDuration=b.delay+c+b.endDelay,d._isCurrent=function(d){var e=a.calculatePhase(c,d,b);return e===PhaseActive||e===PhaseBefore},d}b.KeyframeEffect=function(c,e,f,g){var h,i=d(a.normalizeTimingInput(f)),j=b.convertEffectInput(e),k=function(){j(c,h)};return k._update=function(a){return h=i(a),null!==h},k._clear=function(){j(c,null)},k._hasSameTarget=function(a){return c===a},k._isCurrent=i._isCurrent,k._totalDuration=i._totalDuration,k._id=g,k},b.NullEffect=function(a){var b=function(){a&&(a(),a=null)};return b._update=function(){return null},b._totalDuration=0,b._isCurrent=function(){return!1},b._hasSameTarget=function(){return!1},b}}(c,d,f),function(a,b){a.apply=function(b,c,d){b.style[a.propertyName(c)]=d},a.clear=function(b,c){b.style[a.propertyName(c)]=""}}(d,f),function(a){window.Element.prototype.animate=function(b,c){var d="";return c&&c.id&&(d=c.id),a.timeline._play(a.KeyframeEffect(this,b,c,d))}}(d),function(a,b){function c(a,b,d){if("number"==typeof a&&"number"==typeof b)return a*(1-d)+b*d;if("boolean"==typeof a&&"boolean"==typeof b)return.5>d?a:b;if(a.length==b.length){for(var e=[],f=0;f<a.length;f++)e.push(c(a[f],b[f],d));return e}throw"Mismatched interpolation arguments "+a+":"+b}a.Interpolation=function(a,b,d){return function(e){return d(c(a,b,e))}}}(d,f),function(a,b,c){a.sequenceNumber=0;var d=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};b.Animation=function(b){this.id="",b&&b._id&&(this.id=b._id),this._sequenceNumber=a.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=b,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},b.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,b.timeline._animations.push(this))},_tickCurrentTime:function(a,b){a!=this._currentTime&&(this._currentTime=a,this._isFinished&&!b&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a,isNaN(a)||(b.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._tickCurrentTime(a,!0),b.invalidateEffects()))},get startTime(){return this._startTime},set startTime(a){a=+a,isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),b.invalidateEffects())},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var b=this.currentTime;this._playbackRate=a,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!=b&&(this.currentTime=b)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._currentTime=this._playbackRate>0?0:this._totalDuration,this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.invalidateEffects()},pause:function(){this._isFinished||this._paused||this._idle||(this._currentTimePending=!0),this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,b.invalidateEffects())},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._finishedFlag=!0,this.currentTime=0,this._startTime=null,this._effect._update(null),b.invalidateEffects())},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);c>=0&&this._finishHandlers.splice(c,1)}},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var b=new d(this,this._currentTime,a),c=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){c.forEach(function(a){a.call(b.target,b)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,b){this._idle||this._paused||(null==this._startTime?b&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate)),b&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag}}}(c,d,f),function(a,b,c){function d(a){var b=j;j=[],a<p.currentTime&&(a=p.currentTime),h(a,!0),b.forEach(function(b){b[1](a)}),g(),l=void 0}function e(a,b){return a._sequenceNumber-b._sequenceNumber}function f(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function g(){o.forEach(function(a){a()}),o.length=0}function h(a,c){n=!1;var d=b.timeline;d.currentTime=a,d._animations.sort(e),m=!1;var f=d._animations;d._animations=[];var g=[],h=[];f=f.filter(function(b){b._tick(a,c),b._inEffect?h.push(b._effect):g.push(b._effect),b._needsTick&&(m=!0);var d=b._inEffect||b._needsTick;return b._inTimeline=d,d}),o.push.apply(o,g),o.push.apply(o,h),d._animations.push.apply(d._animations,f),m&&requestAnimationFrame(function(){})}var i=window.requestAnimationFrame,j=[],k=0;window.requestAnimationFrame=function(a){var b=k++;return 0==j.length&&i(d),j.push([b,a]),b},window.cancelAnimationFrame=function(a){j.forEach(function(b){b[0]==a&&(b[1]=function(){})})},f.prototype={_play:function(c){c._timing=a.normalizeTimingInput(c.timing);var d=new b.Animation(c);return d._idle=!1,d._timeline=this,this._animations.push(d),b.restart(),b.invalidateEffects(),d}};var l=void 0,m=!1,n=!1;b.restart=function(){return m||(m=!0,requestAnimationFrame(function(){}),n=!0),n},b.invalidateEffects=function(){h(b.timeline.currentTime,!1),g()};var o=[],p=new f;b.timeline=p}(c,d,f),function(a){function b(a,b){var c=a.exec(b);return c?(c=a.ignoreCase?c[0].toLowerCase():c[0],[c,b.substr(c.length)]):void 0}function c(a,b){b=b.replace(/^\s*/,"");var c=a(b);return c?[c[0],c[1].replace(/^\s*/,"")]:void 0}function d(a,d,e){a=c.bind(null,a);for(var f=[];;){var g=a(e);if(!g)return[f,e];if(f.push(g[0]),e=g[1],g=b(d,e),!g||""==g[1])return[f,e];e=g[1]}}function e(a,b){for(var c=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=c);d++)if("("==b[d])c++;else if(")"==b[d]&&(c--,0==c&&d++,0>=c))break;var e=a(b.substr(0,d));return void 0==e?void 0:[e,b.substr(d)]}function f(a,b){for(var c=a,d=b;c&&d;)c>d?c%=d:d%=c;return c=a*b/(c+d)}function g(a){return function(b){var c=a(b);return c&&(c[0]=void 0),c}}function h(a,b){return function(c){var d=a(c);return d?d:[b,c]}}function i(b,c){for(var d=[],e=0;e<b.length;e++){var f=a.consumeTrimmed(b[e],c);if(!f||""==f[0])return;void 0!==f[0]&&d.push(f[0]),c=f[1]}return""==c?d:void 0}function j(a,b,c,d,e){for(var g=[],h=[],i=[],j=f(d.length,e.length),k=0;j>k;k++){var l=b(d[k%d.length],e[k%e.length]);if(!l)return;g.push(l[0]),h.push(l[1]),i.push(l[2])}return[g,h,function(b){var d=b.map(function(a,b){return i[b](a)}).join(c);return a?a(d):d}]}function k(a,b,c){for(var d=[],e=[],f=[],g=0,h=0;h<c.length;h++)if("function"==typeof c[h]){var i=c[h](a[g],b[g++]);d.push(i[0]),e.push(i[1]),f.push(i[2])}else!function(a){d.push(!1),e.push(!1),f.push(function(){return c[a]})}(h);return[d,e,function(a){for(var b="",c=0;c<a.length;c++)b+=f[c](a[c]);return b}]}a.consumeToken=b,a.consumeTrimmed=c,a.consumeRepeated=d,a.consumeParenthesised=e,a.ignore=g,a.optional=h,a.consumeList=i,a.mergeNestedRepeated=j.bind(null,null),a.mergeWrappedNestedRepeated=j,a.mergeList=k}(d),function(a){function b(b){function c(b){var c=a.consumeToken(/^inset/i,b);if(c)return d.inset=!0,c;var c=a.consumeLengthOrPercent(b);if(c)return d.lengths.push(c[0]),c;var c=a.consumeColor(b);return c?(d.color=c[0],c):void 0}var d={inset:!1,lengths:[],color:null},e=a.consumeRepeated(c,/^/,b);return e&&e[0].length?[d,e[1]]:void 0}function c(c){var d=a.consumeRepeated(b,/^,/,c);return d&&""==d[1]?d[0]:void 0}function d(b,c){for(;b.lengths.length<Math.max(b.lengths.length,c.lengths.length);)b.lengths.push({px:0});for(;c.lengths.length<Math.max(b.lengths.length,c.lengths.length);)c.lengths.push({px:0});if(b.inset==c.inset&&!!b.color==!!c.color){for(var d,e=[],f=[[],0],g=[[],0],h=0;h<b.lengths.length;h++){var i=a.mergeDimensions(b.lengths[h],c.lengths[h],2==h);f[0].push(i[0]),g[0].push(i[1]),e.push(i[2])}if(b.color&&c.color){var j=a.mergeColors(b.color,c.color);f[1]=j[0],g[1]=j[1],d=j[2]}return[f,g,function(a){for(var c=b.inset?"inset ":" ",f=0;f<e.length;f++)c+=e[f](a[0][f])+" ";return d&&(c+=d(a[1])),c}]}}function e(b,c,d,e){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var g=[],h=[],i=0;i<d.length||i<e.length;i++){var j=d[i]||f(e[i].inset),k=e[i]||f(d[i].inset);g.push(j),h.push(k)}return a.mergeNestedRepeated(b,c,g,h)}var f=e.bind(null,d,", ");a.addPropertiesHandler(c,f,["box-shadow","text-shadow"])}(d),function(a,b){function c(a){return a.toFixed(3).replace(".000","")}function d(a,b,c){return Math.min(b,Math.max(a,c))}function e(a){return/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a)?Number(a):void 0}function f(a,b){return[a,b,c]}function g(a,b){return 0!=a?i(0,1/0)(a,b):void 0}function h(a,b){return[a,b,function(a){return Math.round(d(1,1/0,a))}]}function i(a,b){return function(e,f){return[e,f,function(e){return c(d(a,b,e))}]}}function j(a,b){return[a,b,Math.round]}a.clamp=d,a.addPropertiesHandler(e,i(0,1/0),["border-image-width","line-height"]),a.addPropertiesHandler(e,i(0,1),["opacity","shape-image-threshold"]),a.addPropertiesHandler(e,g,["flex-grow","flex-shrink"]),a.addPropertiesHandler(e,h,["orphans","widows"]),a.addPropertiesHandler(e,j,["z-index"]),a.parseNumber=e,a.mergeNumbers=f,a.numberToString=c}(d,f),function(a,b){function c(a,b){return"visible"==a||"visible"==b?[0,1,function(c){return 0>=c?a:c>=1?b:"visible"}]:void 0}a.addPropertiesHandler(String,c,["visibility"])}(d),function(a,b){function c(a){a=a.trim(),f.fillStyle="#000",f.fillStyle=a;var b=f.fillStyle;if(f.fillStyle="#fff",f.fillStyle=a,b==f.fillStyle){f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data;f.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function d(b,c){return[b,c,function(b){function c(a){return Math.max(0,Math.min(255,a))}if(b[3])for(var d=0;3>d;d++)b[d]=Math.round(c(b[d]/b[3]));return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=e.height=1;var f=e.getContext("2d");a.addPropertiesHandler(c,d,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","outline-color","text-decoration-color"]),a.consumeColor=a.consumeParenthesised.bind(null,c),a.mergeColors=d}(d,f),function(a,b){function c(a,b){if(b=b.trim().toLowerCase(),"0"==b&&"px".search(a)>=0)return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var c={};b=b.replace(a,function(a){return c[a]=null,"U"+a});for(var d="U("+a.source+")",e=b.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+d,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],g=0;g<f.length;)f[g].test(e)?(e=e.replace(f[g],"$1"),g=0):g++;if("D"==e){for(var h in c){var i=eval(b.replace(new RegExp("U"+h,"g"),"").replace(new RegExp(d,"g"),"*0"));if(!isFinite(i))return;c[h]=i}return c}}}function d(a,b){return e(a,b,!0)}function e(b,c,d){var e,f=[];for(e in b)f.push(e);for(e in c)f.indexOf(e)<0&&f.push(e);return b=f.map(function(a){return b[a]||0}),c=f.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,e){return 1==b.length&&d&&(c=Math.max(c,0)),a.numberToString(c)+f[e]}).join(" + ");return b.length>1?"calc("+c+")":c}]}var f="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",g=c.bind(null,new RegExp(f,"g")),h=c.bind(null,new RegExp(f+"|%","g")),i=c.bind(null,/deg|rad|grad|turn/g);a.parseLength=g,a.parseLengthOrPercent=h,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,h),a.parseAngle=i,a.mergeDimensions=e;var j=a.consumeParenthesised.bind(null,g),k=a.consumeRepeated.bind(void 0,j,/^/),l=a.consumeRepeated.bind(void 0,k,/^,/);a.consumeSizePairList=l;var m=function(a){var b=l(a);return b&&""==b[1]?b[0]:void 0},n=a.mergeNestedRepeated.bind(void 0,d," "),o=a.mergeNestedRepeated.bind(void 0,n,",");a.mergeNonNegativeSizePair=n,a.addPropertiesHandler(m,o,["background-size"]),a.addPropertiesHandler(h,d,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(h,e,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","text-indent","top","vertical-align","word-spacing"])}(d,f),function(a,b){function c(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function d(b){var d=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,c,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],b);return d&&4==d[0].length?d[0]:void 0}function e(b,c){return"auto"==b||"auto"==c?[!0,!1,function(d){var e=d?b:c;if("auto"==e)return"auto";var f=a.mergeDimensions(e,e);return f[2](f[0])}]:a.mergeDimensions(b,c)}function f(a){return"rect("+a+")"}var g=a.mergeWrappedNestedRepeated.bind(null,f,e,", ");a.parseBox=d,a.mergeBoxes=g,a.addPropertiesHandler(d,g,["clip"])}(d,f),function(a,b){function c(a){return function(b){var c=0;return a.map(function(a){return a===k?b[c++]:a})}}function d(a){return a}function e(b){if(b=b.toLowerCase().trim(),"none"==b)return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=n[g];if(!h)return;var i=c[2].split(","),j=h[0];if(j.length<i.length)return;for(var k=[],o=0;o<j.length;o++){var p,q=i[o],r=j[o];if(p=q?{A:function(b){return"0"==b.trim()?m:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:m,n:k[0],t:l}[r],void 0===p)return;k.push(p)}if(e.push({t:g,d:k}),d.lastIndex==b.length)return e}}function f(a){return a.toFixed(6).replace(".000000","")}function g(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var d=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var e=a.makeMatrixDecomposition(c)}return null==d[0]||null==e[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(d[0].push(0),e[0].push(1),[d,e,function(b){var c=a.quat(d[0][3],e[0][3],b[5]),g=a.composeMatrix(b[0],b[1],b[2],c,b[4]),h=g.map(f).join(",");return h}])}function h(a){return a.replace(/[xy]/,"")}function i(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function j(b,c){var d=a.makeMatrixDecomposition&&!0,e=!1;if(!b.length||!c.length){b.length||(e=!0,b=c,c=[]);for(var f=0;f<b.length;f++){var j=b[f].t,k=b[f].d,l="scale"==j.substr(0,5)?1:0;c.push({t:j,d:k.map(function(a){if("number"==typeof a)return l;var b={};for(var c in a)b[c]=l;return b})})}}var m=function(a,b){return"perspective"==a&&"perspective"==b||("matrix"==a||"matrix3d"==a)&&("matrix"==b||"matrix3d"==b)},o=[],p=[],q=[];if(b.length!=c.length){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]]}else for(var f=0;f<b.length;f++){var j,s=b[f].t,t=c[f].t,u=b[f].d,v=c[f].d,w=n[s],x=n[t];if(m(s,t)){if(!d)return;var r=g([b[f]],[c[f]]);o.push(r[0]),p.push(r[1]),q.push(["matrix",[r[2]]])}else{if(s==t)j=s;else if(w[2]&&x[2]&&h(s)==h(t))j=h(s),u=w[2](u),v=x[2](v);else{if(!w[1]||!x[1]||i(s)!=i(t)){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]];break}j=i(s),u=w[1](u),v=x[1](v)}for(var y=[],z=[],A=[],B=0;B<u.length;B++){var C="number"==typeof u[B]?a.mergeNumbers:a.mergeDimensions,r=C(u[B],v[B]);y[B]=r[0],z[B]=r[1],A.push(r[2])}o.push(y),p.push(z),q.push([j,A])}}if(e){var D=o;o=p,p=D}return[o,p,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return q[b][1][c](a)}).join(",");return"matrix"==q[b][0]&&16==c.split(",").length&&(q[b][0]="matrix3d"),q[b][0]+"("+c+")"}).join(" ")}]}var k=null,l={px:0},m={deg:0},n={matrix:["NNNNNN",[k,k,0,0,k,k,0,0,0,0,1,0,k,k,0,1],d],matrix3d:["NNNNNNNNNNNNNNNN",d],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",c([k,k,1]),d],scalex:["N",c([k,1,1]),c([k,1])],scaley:["N",c([1,k,1]),c([1,k])],scalez:["N",c([1,1,k])],scale3d:["NNN",d],skew:["Aa",null,d],skewx:["A",null,c([k,m])],skewy:["A",null,c([m,k])],translate:["Tt",c([k,k,l]),d],translatex:["T",c([k,l,l]),c([k,l])],translatey:["T",c([l,k,l]),c([l,k])],translatez:["L",c([l,l,k])],translate3d:["TTL",d]};a.addPropertiesHandler(e,j,["transform"])}(d,f),function(a,b){function c(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(d[a]=b)})}var d={};c("transform",["webkitTransform","msTransform"]),c("transformOrigin",["webkitTransformOrigin"]),c("perspective",["webkitPerspective"]),c("perspectiveOrigin",["webkitPerspectiveOrigin"]),a.propertyName=function(a){return d[a]||a}}(d,f)}(),!function(){if(void 0===document.createElement("div").animate([]).oncancel){var a;if(window.performance&&performance.now)var a=function(){return performance.now()};else var a=function(){return Date.now()};var b=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},c=window.Element.prototype.animate;window.Element.prototype.animate=function(d,e){var f=c.call(this,d,e);f._cancelHandlers=[],f.oncancel=null;var g=f.cancel;f.cancel=function(){g.call(this);var c=new b(this,null,a()),d=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){d.forEach(function(a){a.call(c.target,c)})},0)};var h=f.addEventListener;f.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):h.call(this,a,b)};var i=f.removeEventListener;return f.removeEventListener=function(a,b){if("cancel"==a){var c=this._cancelHandlers.indexOf(b);c>=0&&this._cancelHandlers.splice(c,1)}else i.call(this,a,b)},f}}}(),function(a){var b=document.documentElement,c=null,d=!1;try{var e=getComputedStyle(b).getPropertyValue("opacity"),f="0"==e?"1":"0";c=b.animate({opacity:[f,f]},{duration:1}),c.currentTime=0,d=getComputedStyle(b).getPropertyValue("opacity")==f}catch(g){}finally{c&&c.cancel()}if(!d){var h=window.Element.prototype.animate;window.Element.prototype.animate=function(b,c){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=a.convertToArrayForm(b)),h.call(this,b,c)}}}(c),!function(a,b,c){function d(a){var b=window.document.timeline;b.currentTime=a,b._discardAnimations(),0==b._animations.length?f=!1:requestAnimationFrame(d);
}var e=window.requestAnimationFrame;window.requestAnimationFrame=function(a){return e(function(b){window.document.timeline._updateAnimationsPromises(),a(b),window.document.timeline._updateAnimationsPromises()})},b.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},b.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){b.animationsWithPromises=b.animationsWithPromises.filter(function(a){return a._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(a){return"finished"!=a.playState&&"idle"!=a.playState})},_play:function(a){var c=new b.Animation(a,this);return this._animations.push(c),b.restartWebAnimationsNextTick(),c._updatePromises(),c._animation.play(),c._updatePromises(),c},play:function(a){return a&&a.remove(),this._play(a)}};var f=!1;b.restartWebAnimationsNextTick=function(){f||(f=!0,requestAnimationFrame(d))};var g=new b.AnimationTimeline;b.timeline=g;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return g}})}catch(h){}try{window.document.timeline=g}catch(h){}}(c,e,f),function(a,b,c){b.animationsWithPromises=[],b.Animation=function(b,c){if(this.id="",b&&b._id&&(this.id=b._id),this.effect=b,b&&(b._animation=this),!c)throw new Error("Animation with null timeline is not supported");this._timeline=c,this._sequenceNumber=a.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},b.Animation.prototype={_updatePromises:function(){var a=this._oldPlayState,b=this.playState;return this._readyPromise&&b!==a&&("idle"==b?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==a?this._resolveReadyPromise():"pending"==b&&(this._readyPromise=void 0)),this._finishedPromise&&b!==a&&("idle"==b?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==b?this._resolveFinishedPromise():"finished"==a&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var a,c,d,e,f=!!this._animation;f&&(a=this.playbackRate,c=this._paused,d=this.startTime,e=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=b.newUnderlyingAnimationForKeyframeEffect(this.effect),b.bindAnimationForKeyframeEffect(this)),(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=b.newUnderlyingAnimationForGroup(this.effect),b.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&b.bindAnimationForCustomEffect(this),f&&(1!=a&&(this.playbackRate=a),null!==d?this.startTime=d:null!==e?this.currentTime=e:null!==this._holdTime&&(this.currentTime=this._holdTime),c&&this.pause()),this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var a=this.effect._timing.delay;this._childAnimations.forEach(function(c){this._arrangeChildren(c,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c.effect))}.bind(this))}},_setExternalAnimation:function(a){if(this.effect&&this._isGroup)for(var b=0;b<this.effect.children.length;b++)this.effect.children[b]._animation=a,this._childAnimations[b]._setExternalAnimation(a)},_constructChildAnimations:function(){if(this.effect&&this._isGroup){var a=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(c){var d=window.document.timeline._play(c);this._childAnimations.push(d),d.playbackRate=this.playbackRate,this._paused&&d.pause(),c._animation=this.effect._animation,this._arrangeChildren(d,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c))}.bind(this))}},_arrangeChildren:function(a,b){null===this.startTime?a.currentTime=this.currentTime-b/this.playbackRate:a.startTime!==this.startTime+b/this.playbackRate&&(a.startTime=this.startTime+b/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(a,b){this._resolveFinishedPromise=function(){a(this)},this._rejectFinishedPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._readyPromise=new Promise(function(a,b){this._resolveReadyPromise=function(){a(this)},this._rejectReadyPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(a){"function"==typeof a?this._animation.onfinish=function(b){b.target=this,a.call(this,b)}.bind(this):this._animation.onfinish=a},get oncancel(){return this._animation.oncancel},set oncancel(a){"function"==typeof a?this._animation.oncancel=function(b){b.target=this,a.call(this,b)}.bind(this):this._animation.oncancel=a},get currentTime(){this._updatePromises();var a=this._animation.currentTime;return this._updatePromises(),a},set currentTime(a){this._updatePromises(),this._animation.currentTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.currentTime=a-c}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(a){this._updatePromises(),this._animation.startTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.startTime=a+c}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(a){this._updatePromises();var b=this.currentTime;this._animation.playbackRate=a,this._forEachChild(function(b){b.playbackRate=a}),"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!==b&&(this.currentTime=b),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),b.awaitStartTime(this),this._forEachChild(function(a){var b=a.currentTime;a.play(),a.currentTime=b}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(a){a.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var a=this.currentTime;this._animation.reverse(),this._forEachChild(function(a){a.reverse()}),null!==a&&(this.currentTime=a),this._updatePromises()},addEventListener:function(a,b){var c=b;"function"==typeof b&&(c=function(a){a.target=this,b.call(this,a)}.bind(this),b._wrapper=c),this._animation.addEventListener(a,c)},removeEventListener:function(a,b){this._animation.removeEventListener(a,b&&b._wrapper||b)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(b){var c=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(a){b.call(this,a,c),this.effect instanceof window.SequenceEffect&&(c+=a.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var d=this.effect._timing,e=this.currentTime;null!==e&&(e=a.calculateTimeFraction(a.calculateActiveDuration(d),e,d)),(null==e||isNaN(e))&&this._removeChildAnimations()}}},window.Animation=b.Animation}(c,e,f),function(a,b,c){function d(b){this._frames=a.normalizeKeyframes(b)}function e(){for(var a=!1;i.length;){var b=i.shift();b._updateChildren(),a=!0}return a}var f=function(a){if(a._animation=void 0,a instanceof window.SequenceEffect||a instanceof window.GroupEffect)for(var b=0;b<a.children.length;b++)f(a.children[b])};b.removeMulti=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d._parent?(-1==b.indexOf(d._parent)&&b.push(d._parent),d._parent.children.splice(d._parent.children.indexOf(d),1),d._parent=null,f(d)):d._animation&&d._animation.effect==d&&(d._animation.cancel(),d._animation.effect=new KeyframeEffect(null,[]),d._animation._callback&&(d._animation._callback._animation=null),d._animation._rebuildUnderlyingAnimation(),f(d))}for(c=0;c<b.length;c++)b[c]._rebuild()},b.KeyframeEffect=function(b,c,e,f){return this.target=b,this._parent=null,e=a.numericTimingToObject(e),this._timingInput=a.cloneTimingInput(e),this._timing=a.normalizeTimingInput(e),this.timing=a.makeTiming(e,!1,this),this.timing._effect=this,"function"==typeof c?(a.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=c):this._normalizedKeyframes=new d(c),this._keyframes=c,this.activeDuration=a.calculateActiveDuration(this._timing),this._id=f,this},b.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(a){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=a,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var b=new KeyframeEffect(this.target,[],a.cloneTimingInput(this._timingInput),this._id);return b._normalizedKeyframes=this._normalizedKeyframes,b._keyframes=this._keyframes,b},remove:function(){b.removeMulti([this])}};var g=Element.prototype.animate;Element.prototype.animate=function(a,c){var d="";return c&&c.id&&(d=c.id),b.timeline._play(new b.KeyframeEffect(this,a,c,d))};var h=document.createElementNS("http://www.w3.org/1999/xhtml","div");b.newUnderlyingAnimationForKeyframeEffect=function(a){if(a){var b=a.target||h,c=a._keyframes;"function"==typeof c&&(c=[]);var d=a._timingInput;d.id=a._id}else var b=h,c=[],d=0;return g.apply(b,[c,d])},b.bindAnimationForKeyframeEffect=function(a){a.effect&&"function"==typeof a.effect._normalizedKeyframes&&b.bindAnimationForCustomEffect(a)};var i=[];b.awaitStartTime=function(a){null===a.startTime&&a._isGroup&&(0==i.length&&requestAnimationFrame(e),i.push(a))};var j=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){window.document.timeline._updateAnimationsPromises();var a=j.apply(this,arguments);return e()&&(a=j.apply(this,arguments)),window.document.timeline._updateAnimationsPromises(),a}}),window.KeyframeEffect=b.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(a){return null!==a.effect&&a.effect.target==this}.bind(this))}}(c,e,f),function(a,b,c){function d(a){a._registered||(a._registered=!0,g.push(a),h||(h=!0,requestAnimationFrame(e)))}function e(a){var b=g;g=[],b.sort(function(a,b){return a._sequenceNumber-b._sequenceNumber}),b=b.filter(function(a){a();var b=a._animation?a._animation.playState:"idle";return"running"!=b&&"pending"!=b&&(a._registered=!1),a._registered}),g.push.apply(g,b),g.length?(h=!0,requestAnimationFrame(e)):h=!1}var f=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);b.bindAnimationForCustomEffect=function(b){var c,e=b.effect.target,g="function"==typeof b.effect.getFrames();c=g?b.effect.getFrames():b.effect._onsample;var h=b.effect.timing,i=null;h=a.normalizeTimingInput(h);var j=function(){var d=j._animation?j._animation.currentTime:null;null!==d&&(d=a.calculateTimeFraction(a.calculateActiveDuration(h),d,h),isNaN(d)&&(d=null)),d!==i&&(g?c(d,e,b.effect):c(d,b.effect,b.effect._animation)),i=d};j._animation=b,j._registered=!1,j._sequenceNumber=f++,b._callback=j,d(j)};var g=[],h=!1;b.Animation.prototype._register=function(){this._callback&&d(this._callback)}}(c,e,f),function(a,b,c){function d(a){return a._timing.delay+a.activeDuration+a._timing.endDelay}function e(b,c,d){this._id=d,this._parent=null,this.children=b||[],this._reparent(this.children),c=a.numericTimingToObject(c),this._timingInput=a.cloneTimingInput(c),this._timing=a.normalizeTimingInput(c,!0),this.timing=a.makeTiming(c,!0,this),this.timing._effect=this,"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){e.apply(this,arguments)},window.GroupEffect=function(){e.apply(this,arguments)},e.prototype={_isAncestor:function(a){for(var b=this;null!==b;){if(b==a)return!0;b=b._parent}return!1},_rebuild:function(){for(var a=this;a;)"auto"===a.timing.duration&&(a._timing.duration=a.activeDuration),a=a._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(a){b.removeMulti(a);for(var c=0;c<a.length;c++)a[c]._parent=this},_putChild:function(a,b){for(var c=b?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",d=0;d<a.length;d++)if(this._isAncestor(a[d]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:c};for(var d=0;d<a.length;d++)b?this.children.push(a[d]):this.children.unshift(a[d]);this._reparent(a),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var b=a.cloneTimingInput(this._timingInput),c=[],d=0;d<this.children.length;d++)c.push(this.children[d].clone());return this instanceof GroupEffect?new GroupEffect(c,b):new SequenceEffect(c,b)},remove:function(){b.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a+=d(b)}),Math.max(a,0)}}),window.GroupEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a=Math.max(a,d(b))}),a}}),b.newUnderlyingAnimationForGroup=function(c){var d,e=null,f=function(b){var c=d._wrapper;return c&&"pending"!=c.playState&&c.effect?null==b?void c._removeChildAnimations():0==b&&c.playbackRate<0&&(e||(e=a.normalizeTimingInput(c.effect.timing)),b=a.calculateTimeFraction(a.calculateActiveDuration(e),-1,e),isNaN(b)||null==b)?(c._forEachChild(function(a){a.currentTime=-1}),void c._removeChildAnimations()):void 0:void 0},g=new KeyframeEffect(null,[],c._timing,c._id);return g.onsample=f,d=b.timeline._play(g)},b.bindAnimationForGroup=function(a){a._animation._wrapper=a,a._isGroup=!0,b.awaitStartTime(a),a._constructChildAnimations(),a._setExternalAnimation(a)},b.groupChildDuration=d}(c,e,f),b["true"]=a}({},function(){return this}());
</script><script>// https://d3js.org Version 4.13.0. Copyright 2018 Mike Bostock.
(function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})})(this,function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function e(t){return 1===t.length&&(t=function(t){return function(e,r){return n(t(e),r)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function r(t,n){return[t,n]}function i(t){return null===t?NaN:+t}function o(t,n){var e,r,o=t.length,u=0,a=-1,c=0,s=0;if(null==n)for(;++a<o;)isNaN(e=i(t[a]))||(s+=(r=e-c)*(e-(c+=r/++u)));else for(;++a<o;)isNaN(e=i(n(t[a],a,t)))||(s+=(r=e-c)*(e-(c+=r/++u)));if(u>1)return s/(u-1)}function u(t,n){var e=o(t,n);return e?Math.sqrt(e):e}function a(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}function c(t){return function(){return t}}function s(t){return t}function f(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function l(t,n,e){var r,i,o,u,a=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=h(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}function h(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Hs?10:o>=js?5:o>=Xs?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Hs?10:o>=js?5:o>=Xs?2:1)}function p(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Hs?i*=10:o>=js?i*=5:o>=Xs&&(i*=2),n<t?-i:i}function d(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function v(t,n,e){if(null==e&&(e=i),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,o=(r-1)*n,u=Math.floor(o),a=+e(t[u],u,t);return a+(+e(t[u+1],u+1,t)-a)*(o-u)}}function g(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e}function _(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}function y(t){if(!(i=t.length))return[];for(var n=-1,e=_(t,m),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r}function m(t){return t.length}function x(t){return t}function b(t){return"translate("+(t+.5)+",0)"}function w(t){return"translate(0,"+(t+.5)+")"}function M(){return!this.__axis}function T(t,n){function e(e){var h=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,p=null==o?n.tickFormat?n.tickFormat.apply(n,r):x:o,d=Math.max(u,0)+c,v=n.range(),g=+v[0]+.5,_=+v[v.length-1]+.5,y=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),m=e.selection?e.selection():e,b=m.selectAll(".domain").data([null]),w=m.selectAll(".tick").data(h,n).order(),T=w.exit(),N=w.enter().append("g").attr("class","tick"),k=w.select("line"),S=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(N),k=k.merge(N.append("line").attr("stroke","#000").attr(f+"2",s*u)),S=S.merge(N.append("text").attr("fill","#000").attr(f,s*d).attr("dy",t===$s?"0em":t===Zs?"0.71em":"0.32em")),e!==m&&(b=b.transition(e),w=w.transition(e),k=k.transition(e),S=S.transition(e),T=T.transition(e).attr("opacity",Qs).attr("transform",function(t){return isFinite(t=y(t))?l(t):this.getAttribute("transform")}),N.attr("opacity",Qs).attr("transform",function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:y(t))})),T.remove(),b.attr("d",t===Gs||t==Ws?"M"+s*a+","+g+"H0.5V"+_+"H"+s*a:"M"+g+","+s*a+"V0.5H"+_+"V"+s*a),w.attr("opacity",1).attr("transform",function(t){return l(y(t))}),k.attr(f+"2",s*u),S.attr(f,s*d).text(p),m.filter(M).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ws?"start":t===Gs?"end":"middle"),m.each(function(){this.__axis=y})}var r=[],i=null,o=null,u=6,a=6,c=3,s=t===$s||t===Gs?-1:1,f=t===Gs||t===Ws?"x":"y",l=t===$s||t===Zs?b:w;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=Vs.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:Vs.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:Vs.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(o=t,e):o},e.tickSize=function(t){return arguments.length?(u=a=+t,e):u},e.tickSizeInner=function(t){return arguments.length?(u=+t,e):u},e.tickSizeOuter=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(c=+t,e):c},e}function N(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new k(r)}function k(t){this._=t}function S(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Js,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function E(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tf.hasOwnProperty(n)?{space:tf[n],local:t}:t}function A(t){var n=E(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ks&&n.documentElement.namespaceURI===Ks?n.createElement(t):n.createElementNS(e,t)}})(n)}function C(){}function z(t){return null==t?C:function(){return this.querySelector(t)}}function P(){return[]}function R(t){return null==t?P:function(){return this.querySelectorAll(t)}}function L(t){return new Array(t.length)}function q(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function D(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new q(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function U(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,p=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(p[a]=s=uf+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)(c=f[s=uf+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new q(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[p[a]]===c&&(i[a]=c)}function O(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function F(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function I(t,n){return t.style.getPropertyValue(n)||F(t).getComputedStyle(t,null).getPropertyValue(n)}function Y(t){return t.trim().split(/^|\s+/)}function B(t){return t.classList||new H(t)}function H(t){this._node=t,this._names=Y(t.getAttribute("class")||"")}function j(t,n){for(var e=B(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function X(t,n){for(var e=B(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function V(){this.textContent=""}function $(){this.innerHTML=""}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function Z(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G(){return null}function Q(){var t=this.parentNode;t&&t.removeChild(this)}function J(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function K(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function tt(t,n,e){return t=nt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function nt(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function et(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function rt(t,n,e){var r=af.hasOwnProperty(t.type)?tt:nt;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function it(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function ot(t,n,e){var r=F(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ut(t,n){this._groups=t,this._parents=n}function at(){return new ut([[document.documentElement]],cf)}function ct(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],cf)}function st(){return new ft}function ft(){this._="@"+(++sf).toString(36)}function lt(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function ht(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function pt(t){var n=lt();return n.changedTouches&&(n=n.changedTouches[0]),ht(t,n)}function dt(t,n,e){arguments.length<3&&(e=n,n=lt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return ht(t,r);return null}function vt(){t.event.stopImmediatePropagation()}function gt(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function _t(t){var n=t.document.documentElement,e=ct(t).on("dragstart.drag",gt,!0);"onselectstart"in n?e.on("selectstart.drag",gt,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function yt(t,n){var e=t.document.documentElement,r=ct(t).on("dragstart.drag",null);n&&(r.on("click.drag",gt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function mt(t){return function(){return t}}function xt(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function bt(){return!t.event.button}function wt(){return this.parentNode}function Mt(n){return null==n?{x:t.event.x,y:t.event.y}:n}function Tt(){return"ontouchstart"in this}function Nt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function kt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function St(){}function Et(t){var n;return t=(t+"").trim().toLowerCase(),(n=pf.exec(t))?(n=parseInt(n[1],16),new Rt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=df.exec(t))?At(parseInt(n[1],16)):(n=vf.exec(t))?new Rt(n[1],n[2],n[3],1):(n=gf.exec(t))?new Rt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=_f.exec(t))?Ct(n[1],n[2],n[3],n[4]):(n=yf.exec(t))?Ct(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=mf.exec(t))?Lt(n[1],n[2]/100,n[3]/100,1):(n=xf.exec(t))?Lt(n[1],n[2]/100,n[3]/100,n[4]):bf.hasOwnProperty(t)?At(bf[t]):"transparent"===t?new Rt(NaN,NaN,NaN,0):null}function At(t){return new Rt(t>>16&255,t>>8&255,255&t,1)}function Ct(t,n,e,r){return r<=0&&(t=n=e=NaN),new Rt(t,n,e,r)}function zt(t){return t instanceof St||(t=Et(t)),t?(t=t.rgb(),new Rt(t.r,t.g,t.b,t.opacity)):new Rt}function Pt(t,n,e,r){return 1===arguments.length?zt(t):new Rt(t,n,e,null==r?1:r)}function Rt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Lt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Dt(t,n,e,r)}function qt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof St||(t=Et(t)),!t)return new Dt;if(t instanceof Dt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new Dt(u,a,c,t.opacity)}(t):new Dt(t,n,e,null==r?1:r)}function Dt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ut(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ot(t){if(t instanceof It)return new It(t.l,t.a,t.b,t.opacity);if(t instanceof Vt){var n=t.h*wf;return new It(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Rt||(t=zt(t));var e=jt(t.r),r=jt(t.g),i=jt(t.b),o=Yt((.4124564*e+.3575761*r+.1804375*i)/Tf),u=Yt((.2126729*e+.7151522*r+.072175*i)/Nf);return new It(116*u-16,500*(o-u),200*(u-Yt((.0193339*e+.119192*r+.9503041*i)/kf)),t.opacity)}function Ft(t,n,e,r){return 1===arguments.length?Ot(t):new It(t,n,e,null==r?1:r)}function It(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Yt(t){return t>Cf?Math.pow(t,1/3):t/Af+Sf}function Bt(t){return t>Ef?t*t*t:Af*(t-Sf)}function Ht(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function jt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Xt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Vt)return new Vt(t.h,t.c,t.l,t.opacity);t instanceof It||(t=Ot(t));var n=Math.atan2(t.b,t.a)*Mf;return new Vt(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Vt(t,n,e,null==r?1:r)}function Vt(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function $t(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Wt)return new Wt(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=zt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Df*r+Lf*n-qf*e)/(Df+Lf-qf),o=r-i,u=(Rf*(e-i)-zf*o)/Pf,a=Math.sqrt(u*u+o*o)/(Rf*i*(1-i)),c=a?Math.atan2(u,o)*Mf-120:NaN;return new Wt(c<0?c+360:c,a,i,t.opacity)}(t):new Wt(t,n,e,null==r?1:r)}function Wt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Zt(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function Gt(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return Zt((e-r/n)*n,u,i,o,a)}}function Qt(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return Zt((e-r/n)*n,i,o,u,a)}}function Jt(t){return function(){return t}}function Kt(t,n){return function(e){return t+e*n}}function tn(t,n){var e=n-t;return e?Kt(t,e>180||e<-180?e-360*Math.round(e/360):e):Jt(isNaN(t)?n:t)}function nn(t){return 1==(t=+t)?en:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Jt(isNaN(n)?e:n)}}function en(t,n){var e=n-t;return e?Kt(t,e):Jt(isNaN(t)?n:t)}function rn(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Pt(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}function on(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=fn(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function un(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}}function an(t,n){return t=+t,n-=t,function(e){return t+n*e}}function cn(t,n){var e,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=fn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function sn(t,n){var e,r,i,o=Vf.lastIndex=$f.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Vf.exec(t))&&(r=$f.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:an(e,r)})),o=$f.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}function fn(t,n){var e,r=typeof n;return null==n||"boolean"===r?Jt(n):("number"===r?an:"string"===r?(e=Et(n))?(n=e,Hf):sn:n instanceof Et?Hf:n instanceof Date?un:Array.isArray(n)?on:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?cn:an)(t,n)}function ln(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}}function hn(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Wf,skewX:Math.atan(c)*Wf,scaleX:u,scaleY:a}}function pn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:an(t,i)},{i:c-2,x:an(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:an(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:an(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:an(t,e)},{i:a-2,x:an(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}function dn(t){return((t=Math.exp(t))+1/t)/2}function vn(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],s=n[2],f=a-i,l=c-o,h=f*f+l*l;if(h<nl)r=Math.log(s/u)/Jf,e=function(t){return[i+t*f,o+t*l,u*Math.exp(Jf*t*r)]};else{var p=Math.sqrt(h),d=(s*s-u*u+tl*h)/(2*u*Kf*p),v=(s*s-u*u-tl*h)/(2*s*Kf*p),g=Math.log(Math.sqrt(d*d+1)-d),_=Math.log(Math.sqrt(v*v+1)-v);r=(_-g)/Jf,e=function(t){var n=t*r,e=dn(g),a=u/(Kf*p)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Jf*n+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+a*f,o+a*l,u*e/dn(Jf*n+g)]}}return e.duration=1e3*r,e}function gn(t){return function(n,e){var r=t((n=qt(n)).h,(e=qt(e)).h),i=en(n.s,e.s),o=en(n.l,e.l),u=en(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function _n(t){return function(n,e){var r=t((n=Xt(n)).h,(e=Xt(e)).h),i=en(n.c,e.c),o=en(n.l,e.l),u=en(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function yn(t){return function n(e){function r(n,r){var i=t((n=$t(n)).h,(r=$t(r)).h),o=en(n.s,r.s),u=en(n.l,r.l),a=en(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function mn(){return pl||(gl(xn),pl=vl.now()+dl)}function xn(){pl=0}function bn(){this._call=this._time=this._next=null}function wn(t,n,e){var r=new bn;return r.restart(t,n,e),r}function Mn(){mn(),++cl;for(var t,n=Yf;n;)(t=pl-n._time)>=0&&n._call.call(null,t),n=n._next;--cl}function Tn(){pl=(hl=vl.now())+dl,cl=sl=0;try{Mn()}finally{cl=0,function(){var t,n,e=Yf,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Yf=n);Bf=t,kn(r)}(),pl=0}}function Nn(){var t=vl.now(),n=t-hl;n>ll&&(dl-=n,hl=t)}function kn(t){if(!cl){sl&&(sl=clearTimeout(sl));t-pl>24?(t<1/0&&(sl=setTimeout(Tn,t-vl.now()-dl)),fl&&(fl=clearInterval(fl))):(fl||(hl=vl.now(),fl=setInterval(Nn,ll)),cl=1,gl(Tn))}}function Sn(t,n,e){var r=new bn;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}function En(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};(function(t,n,e){function r(c){var s,f,l,h;if(e.state!==xl)return o();for(s in a)if((h=a[s]).name===e.name){if(h.state===wl)return Sn(r);h.state===Ml?(h.state=Nl,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[s]):+s<n&&(h.state=Nl,h.timer.stop(),delete a[s])}if(Sn(function(){e.state===wl&&(e.state=Ml,e.timer.restart(i,e.delay,e.time),i(c))}),e.state=bl,e.on.call("start",t,t.__data__,e.index,e.group),e.state===bl){for(e.state=wl,u=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(u[++f]=h);u.length=f+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(o),e.state=Tl,1),i=-1,a=u.length;++i<a;)u[i].call(null,r);e.state===Tl&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){e.state=Nl,e.timer.stop(),delete a[n];for(var r in a)return;delete t.__transition}var u,a=t.__transition;a[n]=e,e.timer=wn(function(t){e.state=xl,e.timer.restart(r,e.delay,e.time),e.delay<=t&&r(t-e.delay)},0,e.time)})(t,e,{name:n,index:r,group:i,on:_l,tween:yl,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ml})}function An(t,n){var e=zn(t,n);if(e.state>ml)throw new Error("too late; already scheduled");return e}function Cn(t,n){var e=zn(t,n);if(e.state>bl)throw new Error("too late; already started");return e}function zn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Pn(t,n){var e,r,i,o=t.__transition,u=!0;if(o){n=null==n?null:n+"";for(i in o)(e=o[i]).name===n?(r=e.state>bl&&e.state<Tl,e.state=Nl,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}function Rn(t,n,e){var r=t._id;return t.each(function(){var t=Cn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return zn(t,r).value[n]}}function Ln(t,n){var e;return("number"==typeof n?an:n instanceof Et?Hf:(e=Et(n))?(n=e,Hf):sn)(t,n)}function qn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Dn(t){return at().transition(t)}function Un(){return++Sl}function On(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Fn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function In(t){return(1-Math.cos(Pl*t))/2}function Yn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Bn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Hn(t){return(t=+t)<Ll?Hl*t*t:t<Dl?Hl*(t-=ql)*t+Ul:t<Fl?Hl*(t-=Ol)*t+Il:Hl*(t-=Yl)*t+Bl}function jn(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ql.time=mn(),Ql;return e}function Xn(t){return function(){return t}}function Vn(){t.event.stopImmediatePropagation()}function $n(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Wn(t){return{type:t}}function Zn(){return!t.event.button}function Gn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Qn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Jn(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Kn(n){function e(t){var e=t.property("__brush",a).selectAll(".overlay").data([Wn("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",uh.overlay).merge(e).each(function(){var t=Qn(this).extent;ct(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Wn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",uh.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(n.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return uh[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function r(){var t=ct(this),n=Qn(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-h/2:n[0][0]-h/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-h/2:n[0][1]-h/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+h:h}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+h:h})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,n){return t.__brush.emitter||new o(t,n)}function o(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function u(){function e(){var t=pt(w);!L||x||b||(Math.abs(t[0]-D[0])>Math.abs(t[1]-D[1])?b=!0:x=!0),D=t,m=!0,$n(),o()}function o(){var t;switch(_=D[0]-q[0],y=D[1]-q[1],T){case th:case Kl:N&&(_=Math.max(C-a,Math.min(P-p,_)),s=a+_,d=p+_),k&&(y=Math.max(z-l,Math.min(R-v,y)),h=l+y,g=v+y);break;case nh:N<0?(_=Math.max(C-a,Math.min(P-a,_)),s=a+_,d=p):N>0&&(_=Math.max(C-p,Math.min(P-p,_)),s=a,d=p+_),k<0?(y=Math.max(z-l,Math.min(R-l,y)),h=l+y,g=v):k>0&&(y=Math.max(z-v,Math.min(R-v,y)),h=l,g=v+y);break;case eh:N&&(s=Math.max(C,Math.min(P,a-_*N)),d=Math.max(C,Math.min(P,p+_*N))),k&&(h=Math.max(z,Math.min(R,l-y*k)),g=Math.max(z,Math.min(R,v+y*k)))}d<s&&(N*=-1,t=a,a=p,p=t,t=s,s=d,d=t,M in ah&&F.attr("cursor",uh[M=ah[M]])),g<h&&(k*=-1,t=l,l=v,v=t,t=h,h=g,g=t,M in ch&&F.attr("cursor",uh[M=ch[M]])),S.selection&&(A=S.selection),x&&(s=A[0][0],d=A[1][0]),b&&(h=A[0][1],g=A[1][1]),A[0][0]===s&&A[0][1]===h&&A[1][0]===d&&A[1][1]===g||(S.selection=[[s,h],[d,g]],r.call(w),U.brush())}function u(){if(Vn(),t.event.touches){if(t.event.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yt(t.event.view,m),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),F.attr("cursor",uh.overlay),S.selection&&(A=S.selection),Jn(A)&&(S.selection=null,r.call(w)),U.end()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return $n()}else if(c)return;if(f.apply(this,arguments)){var a,s,l,h,p,d,v,g,_,y,m,x,b,w=this,M=t.event.target.__data__.type,T="selection"===(t.event.metaKey?M="overlay":M)?Kl:t.event.altKey?eh:nh,N=n===ih?null:sh[M],k=n===rh?null:fh[M],S=Qn(w),E=S.extent,A=S.selection,C=E[0][0],z=E[0][1],P=E[1][0],R=E[1][1],L=N&&k&&t.event.shiftKey,q=pt(w),D=q,U=i(w,arguments).beforestart();"overlay"===M?S.selection=A=[[a=n===ih?C:q[0],l=n===rh?z:q[1]],[p=n===ih?P:a,v=n===rh?R:l]]:(a=A[0][0],l=A[0][1],p=A[1][0],v=A[1][1]),s=a,h=l,d=p,g=v;var O=ct(w).attr("pointer-events","none"),F=O.selectAll(".overlay").attr("cursor",uh[M]);if(t.event.touches)O.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",u,!0);else{var I=ct(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:L=N&&k;break;case 18:T===nh&&(N&&(p=d-_*N,a=s+_*N),k&&(v=g-y*k,l=h+y*k),T=eh,o());break;case 32:T!==nh&&T!==eh||(N<0?p=d-_:N>0&&(a=s-_),k<0?v=g-y:k>0&&(l=h-y),T=th,F.attr("cursor",uh.selection),o());break;default:return}$n()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:L&&(x=b=L=!1,o());break;case 18:T===eh&&(N<0?p=d:N>0&&(a=s),k<0?v=g:k>0&&(l=h),T=nh,o());break;case 32:T===th&&(t.event.altKey?(N&&(p=d-_*N,a=s+_*N),k&&(v=g-y*k,l=h+y*k),T=eh):(N<0?p=d:N>0&&(a=s),k<0?v=g:k>0&&(l=h),T=nh),F.attr("cursor",uh[M]),o());break;default:return}$n()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",u,!0);_t(t.event.view)}Vn(),Pn(w),r.call(w),U.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=s.apply(this,arguments),t.dim=n,t}var c,s=Gn,f=Zn,l=N(e,"start","brush","end"),h=6;return e.move=function(t,e){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){u.selection=1===t&&Jn(s)?null:f(t),r.call(o),a.brush()}var o=this,u=o.__brush,a=i(o,arguments),c=u.selection,s=n.input("function"==typeof e?e.apply(this,arguments):e,u.extent),f=fn(c,s);return c&&s?t:t(1)}):t.each(function(){var t=arguments,o=this.__brush,u=n.input("function"==typeof e?e.apply(this,t):e,o.extent),a=i(this,t).beforestart();Pn(this),o.selection=null==u||Jn(u)?null:u,r.call(this),a.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){it(new function(t,n,e){this.target=t,this.type=n,this.selection=e}(e,t,n.output(this.state.selection)),l.apply,l,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(s="function"==typeof t?t:Xn([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):s},e.filter=function(t){return arguments.length?(f="function"==typeof t?t:Xn(!!t),e):f},e.handleSize=function(t){return arguments.length?(h=+t,e):h},e.on=function(){var t=l.on.apply(l,arguments);return t===l?e:t},e}function te(t){return function(){return t}}function ne(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ee(){return new ne}function re(t){return t.source}function ie(t){return t.target}function oe(t){return t.radius}function ue(t){return t.startAngle}function ae(t){return t.endAngle}function ce(){}function se(t,n){var e=new ce;if(t instanceof ce)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function fe(){return{}}function le(t,n,e){t[n]=e}function he(){return se()}function pe(t,n,e){t.set(n,e)}function de(){}function ve(t,n){var e=new de;if(t instanceof de)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function ge(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function _e(t){function n(t,n){function e(){if(s)return Mh;if(f)return f=!1,wh;var n,e,r=a;if(t.charCodeAt(r)===Th){for(;a++<u&&t.charCodeAt(a)!==Th||t.charCodeAt(++a)===Th;);return(n=a)>=u?s=!0:(e=t.charCodeAt(a++))===Nh?f=!0:e===kh&&(f=!0,t.charCodeAt(a)===Nh&&++a),t.slice(r+1,n-1).replace(/""/g,'"')}for(;a<u;){if((e=t.charCodeAt(n=a++))===Nh)f=!0;else if(e===kh)f=!0,t.charCodeAt(a)===Nh&&++a;else if(e!==o)continue;return t.slice(r,n)}return s=!0,t.slice(r,u)}var r,i=[],u=t.length,a=0,c=0,s=u<=0,f=!1;for(t.charCodeAt(u-1)===Nh&&--u,t.charCodeAt(u-1)===kh&&--u;(r=e())!==Mh;){for(var l=[];r!==wh&&r!==Mh;)l.push(r),r=e();n&&null==(l=n(l,c++))||i.push(l)}return i}function e(n){return n.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,e){var r,i,o=n(t,function(t,n){if(r)return r(t,n-1);i=t,r=e?function(t,n){var e=ge(t);return function(r,i){return n(e(r),i,t)}}(t,e):ge(t)});return o.columns=i||[],o},parseRows:n,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(r).join(t)].concat(n.map(function(n){return e.map(function(t){return r(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(e).join("\n")}}}function ye(t){return function(){return t}}function me(){return 1e-6*(Math.random()-.5)}function xe(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,s,f,l,h,p=t._root,d={data:r},v=t._x0,g=t._y0,_=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((s=n>=(o=(v+_)/2))?v=o:_=o,(f=e>=(u=(g+y)/2))?g=u:y=u,i=p,!(p=p[l=f<<1|s]))return i[l]=d,t;if(a=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===a&&e===c)return d.next=p,i?i[l]=d:t._root=d,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+_)/2))?v=o:_=o,(f=e>=(u=(g+y)/2))?g=u:y=u}while((l=f<<1|s)==(h=(c>=u)<<1|a>=o));return i[h]=p,i[l]=d,t}function be(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function we(t){return t[0]}function Me(t){return t[1]}function Te(t,n,e){var r=new Ne(null==n?we:n,null==e?Me:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ne(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ke(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}function Se(t){return t.x+t.vx}function Ee(t){return t.y+t.vy}function Ae(t){return t.index}function Ce(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function ze(t){return t.x}function Pe(t){return t.y}function Re(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Le(t){return(t=Re(Math.abs(t)))?t[1]:NaN}function qe(t,n){var e=Re(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function De(t){return new Ue(t)}function Ue(t){if(!(n=Bh.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],s=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(c=!0,f="g"):Yh[f]||(f=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=f}function Oe(t){return t}function Fe(t){function n(t){function n(t){var n,r,u,f=g,x=_;if("c"===v)x=y(t)+x,t="";else{var b=(t=+t)<0;if(t=y(Math.abs(t),d),b&&0==+t&&(b=!1),f=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+f,x=("s"===v?jh[8+Oh/3]:"")+x+(b&&"("===s?")":""),m)for(n=-1,r=t.length;++n<r;)if(48>(u=t.charCodeAt(n))||u>57){x=(46===u?i+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}p&&!l&&(t=e(t,1/0));var w=f.length+t.length+x.length,M=w<h?new Array(h-w+1).join(a):"";switch(p&&l&&(t=e(M+t,M.length?h-x.length:1/0),M=""),c){case"<":t=f+t+x+M;break;case"=":t=f+M+t+x;break;case"^":t=M.slice(0,w=M.length>>1)+f+t+x+M.slice(w);break;default:t=M+f+t+x}return o(t)}var a=(t=De(t)).fill,c=t.align,s=t.sign,f=t.symbol,l=t.zero,h=t.width,p=t.comma,d=t.precision,v=t.type,g="$"===f?r[0]:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===f?r[1]:/[%p]/.test(v)?u:"",y=Yh[v],m=!v||/[defgprs%]/.test(v);return d=null==d?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),n.toString=function(){return t+""},n}var e=t.grouping&&t.thousands?function(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}}(t.grouping,t.thousands):Oe,r=t.currency,i=t.decimal,o=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):Oe,u=t.percent||"%";return{format:n,formatPrefix:function(t,e){var r=n((t=De(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Le(e)/3))),o=Math.pow(10,-i),u=jh[8+i/3];return function(t){return r(o*t)+u}}}}function Ie(n){return Hh=Fe(n),t.format=Hh.format,t.formatPrefix=Hh.formatPrefix,Hh}function Ye(t){return Math.max(0,-Le(Math.abs(t)))}function Be(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Le(n)/3)))-Le(Math.abs(t)))}function He(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Le(n)-Le(t))+1}function je(){return new Xe}function Xe(){this.reset()}function Ve(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function $e(t){return t>1?0:t<-1?Np:Math.acos(t)}function We(t){return t>1?kp:t<-1?-kp:Math.asin(t)}function Ze(t){return(t=Fp(t/2))*t}function Ge(){}function Qe(t,n){t&&jp.hasOwnProperty(t.type)&&jp[t.type](t,n)}function Je(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Ke(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Je(t[e],n,1);n.polygonEnd()}function tr(t,n){t&&Hp.hasOwnProperty(t.type)?Hp[t.type](t,n):Qe(t,n)}function nr(){$p.point=rr}function er(){ir(Xh,Vh)}function rr(t,n){$p.point=ir,Xh=t,Vh=n,$h=t*=Cp,Wh=Lp(n=(n*=Cp)/2+Sp),Zh=Fp(n)}function ir(t,n){n=(n*=Cp)/2+Sp;var e=(t*=Cp)-$h,r=e>=0?1:-1,i=r*e,o=Lp(n),u=Fp(n),a=Zh*u,c=Wh*o+a*Lp(i),s=a*r*Fp(i);Xp.add(Rp(s,c)),$h=t,Wh=o,Zh=u}function or(t){return[Rp(t[1],t[0]),We(t[2])]}function ur(t){var n=t[0],e=t[1],r=Lp(e);return[r*Lp(n),r*Fp(n),Fp(e)]}function ar(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function cr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function sr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function fr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function lr(t){var n=Yp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function hr(t,n){ip.push(op=[Gh=t,Jh=t]),n<Qh&&(Qh=n),n>Kh&&(Kh=n)}function pr(t,n){var e=ur([t*Cp,n*Cp]);if(rp){var r=cr(rp,e),i=cr([r[1],-r[0],0],r);lr(i),i=or(i);var o,u=t-tp,a=u>0?1:-1,c=i[0]*Ap*a,s=zp(u)>180;s^(a*tp<c&&c<a*t)?(o=i[1]*Ap)>Kh&&(Kh=o):(c=(c+360)%360-180,s^(a*tp<c&&c<a*t)?(o=-i[1]*Ap)<Qh&&(Qh=o):(n<Qh&&(Qh=n),n>Kh&&(Kh=n))),s?t<tp?mr(Gh,t)>mr(Gh,Jh)&&(Jh=t):mr(t,Jh)>mr(Gh,Jh)&&(Gh=t):Jh>=Gh?(t<Gh&&(Gh=t),t>Jh&&(Jh=t)):t>tp?mr(Gh,t)>mr(Gh,Jh)&&(Jh=t):mr(t,Jh)>mr(Gh,Jh)&&(Gh=t)}else ip.push(op=[Gh=t,Jh=t]);n<Qh&&(Qh=n),n>Kh&&(Kh=n),rp=e,tp=t}function dr(){Zp.point=pr}function vr(){op[0]=Gh,op[1]=Jh,Zp.point=hr,rp=null}function gr(t,n){if(rp){var e=t-tp;Wp.add(zp(e)>180?e+(e>0?360:-360):e)}else np=t,ep=n;$p.point(t,n),pr(t,n)}function _r(){$p.lineStart()}function yr(){gr(np,ep),$p.lineEnd(),zp(Wp)>Mp&&(Gh=-(Jh=180)),op[0]=Gh,op[1]=Jh,rp=null}function mr(t,n){return(n-=t)<0?n+360:n}function xr(t,n){return t[0]-n[0]}function br(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function wr(t,n){t*=Cp;var e=Lp(n*=Cp);Mr(e*Lp(t),e*Fp(t),Fp(n))}function Mr(t,n,e){cp+=(t-cp)/++up,sp+=(n-sp)/up,fp+=(e-fp)/up}function Tr(){Gp.point=Nr}function Nr(t,n){t*=Cp;var e=Lp(n*=Cp);mp=e*Lp(t),xp=e*Fp(t),bp=Fp(n),Gp.point=kr,Mr(mp,xp,bp)}function kr(t,n){t*=Cp;var e=Lp(n*=Cp),r=e*Lp(t),i=e*Fp(t),o=Fp(n),u=Rp(Yp((u=xp*o-bp*i)*u+(u=bp*r-mp*o)*u+(u=mp*i-xp*r)*u),mp*r+xp*i+bp*o);ap+=u,lp+=u*(mp+(mp=r)),hp+=u*(xp+(xp=i)),pp+=u*(bp+(bp=o)),Mr(mp,xp,bp)}function Sr(){Gp.point=wr}function Er(){Gp.point=Cr}function Ar(){zr(_p,yp),Gp.point=wr}function Cr(t,n){_p=t,yp=n,t*=Cp,n*=Cp,Gp.point=zr;var e=Lp(n);mp=e*Lp(t),xp=e*Fp(t),bp=Fp(n),Mr(mp,xp,bp)}function zr(t,n){t*=Cp;var e=Lp(n*=Cp),r=e*Lp(t),i=e*Fp(t),o=Fp(n),u=xp*o-bp*i,a=bp*r-mp*o,c=mp*i-xp*r,s=Yp(u*u+a*a+c*c),f=We(s),l=s&&-f/s;dp+=l*u,vp+=l*a,gp+=l*c,ap+=f,lp+=f*(mp+(mp=r)),hp+=f*(xp+(xp=i)),pp+=f*(bp+(bp=o)),Mr(mp,xp,bp)}function Pr(t){return function(){return t}}function Rr(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Lr(t,n){return[t>Np?t-Ep:t<-Np?t+Ep:t,n]}function qr(t,n,e){return(t%=Ep)?n||e?Rr(Ur(t),Or(n,e)):Ur(t):n||e?Or(n,e):Lr}function Dr(t){return function(n,e){return n+=t,[n>Np?n-Ep:n<-Np?n+Ep:n,e]}}function Ur(t){var n=Dr(t);return n.invert=Dr(-t),n}function Or(t,n){function e(t,n){var e=Lp(n),a=Lp(t)*e,c=Fp(t)*e,s=Fp(n),f=s*r+a*i;return[Rp(c*o-f*u,a*r-s*i),We(f*o+c*u)]}var r=Lp(t),i=Fp(t),o=Lp(n),u=Fp(n);return e.invert=function(t,n){var e=Lp(n),a=Lp(t)*e,c=Fp(t)*e,s=Fp(n),f=s*o-c*u;return[Rp(c*o+s*u,a*r+f*i),We(f*r-a*i)]},e}function Fr(t){function n(n){return n=t(n[0]*Cp,n[1]*Cp),n[0]*=Ap,n[1]*=Ap,n}return t=qr(t[0]*Cp,t[1]*Cp,t.length>2?t[2]*Cp:0),n.invert=function(n){return n=t.invert(n[0]*Cp,n[1]*Cp),n[0]*=Ap,n[1]*=Ap,n},n}function Ir(t,n,e,r,i,o){if(e){var u=Lp(n),a=Fp(n),c=r*e;null==i?(i=n+r*Ep,o=n-c/2):(i=Yr(u,i),o=Yr(u,o),(r>0?i<o:i>o)&&(i+=r*Ep));for(var s,f=i;r>0?f>o:f<o;f-=c)s=or([u,-a*Lp(f),-a*Fp(f)]),t.point(s[0],s[1])}}function Yr(t,n){(n=ur(n))[0]-=t,lr(n);var e=$e(-n[1]);return((-n[2]<0?-e:e)+Ep-Mp)%Ep}function Br(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Ge,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Hr(t,n){return zp(t[0]-n[0])<Mp&&zp(t[1]-n[1])<Mp}function jr(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Xr(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Hr(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(e=new jr(r,t,null,!0)),c.push(e.o=new jr(r,null,e,!1)),a.push(e=new jr(u,t,null,!1)),c.push(e.o=new jr(u,null,e,!0))}}),a.length){for(c.sort(n),Vr(a),Vr(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var s,f,l=a[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=s.length;o<u;++o)i.point((f=s[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((f=s[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Vr(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function $r(t,n){var e=n[0],r=n[1],i=[Fp(e),-Lp(e),0],o=0,u=0;cd.reset();for(var a=0,c=t.length;a<c;++a)if(f=(s=t[a]).length)for(var s,f,l=s[f-1],h=l[0],p=l[1]/2+Sp,d=Fp(p),v=Lp(p),g=0;g<f;++g,h=y,d=x,v=b,l=_){var _=s[g],y=_[0],m=_[1]/2+Sp,x=Fp(m),b=Lp(m),w=y-h,M=w>=0?1:-1,T=M*w,N=T>Np,k=d*x;if(cd.add(Rp(k*M*Fp(T),v*b+k*Lp(T))),o+=N?w+M*Ep:w,N^h>=e^y>=e){var S=cr(ur(l),ur(_));lr(S);var E=cr(i,S);lr(E);var A=(N^w>=0?-1:1)*We(E[2]);(r>A||r===A&&(S[0]||S[1]))&&(u+=N^w>=0?1:-1)}}return(o<-Mp||o<Mp&&cd<-Mp)^1&u}function Wr(t,n,e,r){return function(i){function o(n,e){t(n,e)&&i.point(n,e)}function u(t,n){v.point(t,n)}function a(){x.point=u,v.lineStart()}function c(){x.point=o,v.lineEnd()}function s(t,n){d.push([t,n]),y.point(t,n)}function f(){y.lineStart(),d=[]}function l(){s(d[0][0],d[0][1]),y.lineEnd();var t,n,e,r,o=y.clean(),u=_.result(),a=u.length;if(d.pop(),h.push(d),d=null,a)if(1&o){if(e=u[0],(n=e.length-1)>0){for(m||(i.polygonStart(),m=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),p.push(u.filter(Zr))}var h,p,d,v=n(i),_=Br(),y=n(_),m=!1,x={point:o,lineStart:a,lineEnd:c,polygonStart:function(){x.point=s,x.lineStart=f,x.lineEnd=l,p=[],h=[]},polygonEnd:function(){x.point=o,x.lineStart=a,x.lineEnd=c,p=g(p);var t=$r(h,r);p.length?(m||(i.polygonStart(),m=!0),Xr(p,Gr,t,e,i)):t&&(m||(i.polygonStart(),m=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),m&&(i.polygonEnd(),m=!1),p=h=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return x}}function Zr(t){return t.length>1}function Gr(t,n){return((t=t.x)[0]<0?t[1]-kp-Mp:kp-t[1])-((n=n.x)[0]<0?n[1]-kp-Mp:kp-n[1])}function Qr(t){function n(t,n){return Lp(t)*Lp(n)>i}function e(t,n,e){var r=[1,0,0],o=cr(ur(t),ur(n)),u=ar(o,o),a=o[0],c=u-a*a;if(!c)return!e&&t;var s=i*u/c,f=-i*a/c,l=cr(r,o),h=fr(r,s);sr(h,fr(o,f));var p=l,d=ar(h,p),v=ar(p,p),g=d*d-v*(ar(h,h)-1);if(!(g<0)){var _=Yp(g),y=fr(p,(-d-_)/v);if(sr(y,h),y=or(y),!e)return y;var m,x=t[0],b=n[0],w=t[1],M=n[1];b<x&&(m=x,x=b,b=m);var T=b-x,N=zp(T-Np)<Mp;if(!N&&M<w&&(m=w,w=M,M=m),N||T<Mp?N?w+M>0^y[1]<(zp(y[0]-x)<Mp?w:M):w<=y[1]&&y[1]<=M:T>Np^(x<=y[0]&&y[0]<=b)){var k=fr(p,(-d+_)/v);return sr(k,h),[y,or(k)]}}}function r(n,e){var r=u?t:Np-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var i=Lp(t),o=6*Cp,u=i>0,a=zp(i)>Mp;return Wr(n,function(t){var i,o,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var p,d=[l,h],v=n(l,h),g=u?v?0:r(l,h):v?r(l+(l<0?Np:-Np),h):0;if(!i&&(s=c=v)&&t.lineStart(),v!==c&&(!(p=e(i,d))||Hr(i,p)||Hr(d,p))&&(d[0]+=Mp,d[1]+=Mp,v=n(d[0],d[1])),v!==c)f=0,v?(t.lineStart(),p=e(d,i),t.point(p[0],p[1])):(p=e(i,d),t.point(p[0],p[1]),t.lineEnd()),i=p;else if(a&&i&&u^v){var _;g&o||!(_=e(d,i,!0))||(f=0,u?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!v||i&&Hr(i,d)||t.point(d[0],d[1]),i=d,c=v,o=g},lineEnd:function(){c&&t.lineEnd(),i=null},clean:function(){return f|(s&&c)<<1}}},function(n,e,r,i){Ir(i,t,o,r,n,e)},u?[0,-t]:[-Np,t-Np])}function Jr(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,s){var f=0,l=0;if(null==i||(f=u(i,a))!==(l=u(o,a))||c(i,o)<0^a>0)do{s.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+a+4)%4)!==l);else s.point(o[0],o[1])}function u(r,i){return zp(r[0]-t)<Mp?i>0?0:3:zp(r[0]-e)<Mp?i>0?2:1:zp(r[1]-n)<Mp?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function c(t,n){i(t,n)&&w.point(t,n)}function s(o,u){var a=i(o,u);if(l&&h.push([o,u]),x)p=o,d=u,v=a,x=!1,a&&(w.lineStart(),w.point(o,u));else if(a&&m)w.point(o,u);else{var c=[_=Math.max(ld,Math.min(fd,_)),y=Math.max(ld,Math.min(fd,y))],s=[o=Math.max(ld,Math.min(fd,o)),u=Math.max(ld,Math.min(fd,u))];!function(t,n,e,r,i,o){var u,a=t[0],c=t[1],s=0,f=1,l=n[0]-a,h=n[1]-c;if(u=e-a,l||!(u>0)){if(u/=l,l<0){if(u<s)return;u<f&&(f=u)}else if(l>0){if(u>f)return;u>s&&(s=u)}if(u=i-a,l||!(u<0)){if(u/=l,l<0){if(u>f)return;u>s&&(s=u)}else if(l>0){if(u<s)return;u<f&&(f=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<f&&(f=u)}else if(h>0){if(u>f)return;u>s&&(s=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>f)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<f&&(f=u)}return s>0&&(t[0]=a+s*l,t[1]=c+s*h),f<1&&(n[0]=a+f*l,n[1]=c+f*h),!0}}}}}(c,s,t,n,e,r)?a&&(w.lineStart(),w.point(o,u),b=!1):(m||(w.lineStart(),w.point(c[0],c[1])),w.point(s[0],s[1]),a||w.lineEnd(),b=!1)}_=o,y=u,m=a}var f,l,h,p,d,v,_,y,m,x,b,w=u,M=Br(),T={point:c,lineStart:function(){T.point=s,l&&l.push(h=[]),x=!0,m=!1,_=y=NaN},lineEnd:function(){f&&(s(p,d),v&&m&&M.rejoin(),f.push(M.result())),T.point=c,m&&w.lineEnd()},polygonStart:function(){w=M,f=[],l=[],b=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,u,a=l[e],c=1,s=a.length,f=a[0],h=f[0],p=f[1];c<s;++c)o=h,u=p,h=(f=a[c])[0],p=f[1],u<=r?p>r&&(h-o)*(r-u)>(p-u)*(t-o)&&++n:p<=r&&(h-o)*(r-u)<(p-u)*(t-o)&&--n;return n}(),e=b&&n,i=(f=g(f)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&Xr(f,a,n,o,u),u.polygonEnd()),w=u,f=l=h=null}};return T}}function Kr(){pd.point=pd.lineEnd=Ge}function ti(t,n){Qp=t*=Cp,Jp=Fp(n*=Cp),Kp=Lp(n),pd.point=ni}function ni(t,n){t*=Cp;var e=Fp(n*=Cp),r=Lp(n),i=zp(t-Qp),o=Lp(i),u=r*Fp(i),a=Kp*e-Jp*r*o,c=Jp*e+Kp*r*o;hd.add(Rp(Yp(u*u+a*a),c)),Qp=t,Jp=e,Kp=r}function ei(t){return hd.reset(),tr(t,pd),+hd}function ri(t,n){return dd[0]=t,dd[1]=n,ei(vd)}function ii(t,n){return!(!t||!_d.hasOwnProperty(t.type))&&_d[t.type](t,n)}function oi(t,n){return 0===ri(t,n)}function ui(t,n){var e=ri(t[0],t[1]);return ri(t[0],n)+ri(n,t[1])<=e+Mp}function ai(t,n){return!!$r(t.map(ci),si(n))}function ci(t){return(t=t.map(si)).pop(),t}function si(t){return[t[0]*Cp,t[1]*Cp]}function fi(t,n,e){var r=f(t,n-Mp,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function li(t,n,e){var r=f(t,n-Mp,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function hi(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return f(qp(o/_)*_,i,_).map(p).concat(f(qp(s/y)*y,c,y).map(d)).concat(f(qp(r/v)*v,e,v).filter(function(t){return zp(t%_)>Mp}).map(l)).concat(f(qp(a/g)*g,u,g).filter(function(t){return zp(t%y)>Mp}).map(h))}var e,r,i,o,u,a,c,s,l,h,p,d,v=10,g=v,_=90,y=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(d(c).slice(1),p(i).reverse().slice(1),d(s).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],s=+n[0][1],c=+n[1][1],o>i&&(n=o,o=i,i=n),s>c&&(n=s,s=c,c=n),t.precision(m)):[[o,s],[i,c]]},t.extentMinor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),t.precision(m)):[[r,a],[e,u]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(_=+n[0],y=+n[1],t):[_,y]},t.stepMinor=function(n){return arguments.length?(v=+n[0],g=+n[1],t):[v,g]},t.precision=function(n){return arguments.length?(m=+n,l=fi(a,u,90),h=li(r,e,m),p=fi(s,c,90),d=li(o,i,m),t):m},t.extentMajor([[-180,-90+Mp],[180,90-Mp]]).extentMinor([[-180,-80-Mp],[180,80+Mp]])}function pi(t){return t}function di(){xd.point=vi}function vi(t,n){xd.point=gi,td=ed=t,nd=rd=n}function gi(t,n){md.add(rd*t-ed*n),ed=t,rd=n}function _i(){gi(td,nd)}function yi(t,n){kd+=t,Sd+=n,++Ed}function mi(){qd.point=xi}function xi(t,n){qd.point=bi,yi(ud=t,ad=n)}function bi(t,n){var e=t-ud,r=n-ad,i=Yp(e*e+r*r);Ad+=i*(ud+t)/2,Cd+=i*(ad+n)/2,zd+=i,yi(ud=t,ad=n)}function wi(){qd.point=yi}function Mi(){qd.point=Ni}function Ti(){ki(id,od)}function Ni(t,n){qd.point=ki,yi(id=ud=t,od=ad=n)}function ki(t,n){var e=t-ud,r=n-ad,i=Yp(e*e+r*r);Ad+=i*(ud+t)/2,Cd+=i*(ad+n)/2,zd+=i,Pd+=(i=ad*t-ud*n)*(ud+t),Rd+=i*(ad+n),Ld+=3*i,yi(ud=t,ad=n)}function Si(t){this._context=t}function Ei(t,n){Bd.point=Ai,Ud=Fd=t,Od=Id=n}function Ai(t,n){Fd-=t,Id-=n,Yd.add(Yp(Fd*Fd+Id*Id)),Fd=t,Id=n}function Ci(){this._string=[]}function zi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Pi(t){return function(n){var e=new Ri;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ri(){}function Li(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),tr(e,t.stream(Nd)),n(Nd.result()),null!=r&&t.clipExtent(r),t}function qi(t,n,e){return Li(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])},e)}function Di(t,n,e){return qi(t,[[0,0],n],e)}function Ui(t,n,e){return Li(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])},e)}function Oi(t,n,e){return Li(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])},e)}function Fi(t,n){return+n?function(t,n){function e(r,i,o,u,a,c,s,f,l,h,p,d,v,g){var _=s-r,y=f-i,m=_*_+y*y;if(m>4*n&&v--){var x=u+h,b=a+p,w=c+d,M=Yp(x*x+b*b+w*w),T=We(w/=M),N=zp(zp(w)-1)<Mp||zp(o-l)<Mp?(o+l)/2:Rp(b,x),k=t(N,T),S=k[0],E=k[1],A=S-r,C=E-i,z=y*A-_*C;(z*z/m>n||zp((_*A+y*C)/m-.5)>.3||u*h+a*p+c*d<jd)&&(e(r,i,o,u,a,c,S,E,N,x/=M,b/=M,w,v,g),g.point(S,E),e(S,E,N,x,b,w,s,f,l,h,p,d,v,g))}}return function(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function i(){_=NaN,w.point=o,n.lineStart()}function o(r,i){var o=ur([r,i]),u=t(r,i);e(_,y,g,m,x,b,_=u[0],y=u[1],g=r,m=o[0],x=o[1],b=o[2],Hd,n),n.point(_,y)}function u(){w.point=r,n.lineEnd()}function a(){i(),w.point=c,w.lineEnd=s}function c(t,n){o(f=t,n),l=_,h=y,p=m,d=x,v=b,w.point=o}function s(){e(_,y,g,m,x,b,l,h,f,p,d,v,Hd,n),w.lineEnd=u,u()}var f,l,h,p,d,v,g,_,y,m,x,b,w={point:r,lineStart:i,lineEnd:u,polygonStart:function(){n.polygonStart(),w.lineStart=a},polygonEnd:function(){n.polygonEnd(),w.lineStart=i}};return w}}(t,n):function(t){return Pi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}function Ii(t){return Yi(function(){return t})()}function Yi(t){function n(t){return t=s(t[0]*Cp,t[1]*Cp),[t[0]*v+u,a-t[1]*v]}function e(t,n){return t=o(t,n),[t[0]*v+u,a-t[1]*v]}function r(){s=Rr(c=qr(x,b,w),o);var t=o(y,m);return u=g-t[0]*v,a=_+t[1]*v,i()}function i(){return p=d=null,n}var o,u,a,c,s,f,l,h,p,d,v=150,g=480,_=250,y=0,m=0,x=0,b=0,w=0,M=null,T=sd,N=null,k=pi,S=.5,E=Fi(e,S);return n.stream=function(t){return p&&d===t?p:p=Xd(function(t){return Pi({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(c)(T(E(k(d=t)))))},n.preclip=function(t){return arguments.length?(T=t,M=void 0,i()):T},n.postclip=function(t){return arguments.length?(k=t,N=f=l=h=null,i()):k},n.clipAngle=function(t){return arguments.length?(T=+t?Qr(M=t*Cp):(M=null,sd),i()):M*Ap},n.clipExtent=function(t){return arguments.length?(k=null==t?(N=f=l=h=null,pi):Jr(N=+t[0][0],f=+t[0][1],l=+t[1][0],h=+t[1][1]),i()):null==N?null:[[N,f],[l,h]]},n.scale=function(t){return arguments.length?(v=+t,r()):v},n.translate=function(t){return arguments.length?(g=+t[0],_=+t[1],r()):[g,_]},n.center=function(t){return arguments.length?(y=t[0]%360*Cp,m=t[1]%360*Cp,r()):[y*Ap,m*Ap]},n.rotate=function(t){return arguments.length?(x=t[0]%360*Cp,b=t[1]%360*Cp,w=t.length>2?t[2]%360*Cp:0,r()):[x*Ap,b*Ap,w*Ap]},n.precision=function(t){return arguments.length?(E=Fi(e,S=t*t),i()):Yp(S)},n.fitExtent=function(t,e){return qi(n,t,e)},n.fitSize=function(t,e){return Di(n,t,e)},n.fitWidth=function(t,e){return Ui(n,t,e)},n.fitHeight=function(t,e){return Oi(n,t,e)},function(){return o=t.apply(this,arguments),n.invert=o.invert&&function(t){return(t=s.invert((t[0]-u)/v,(a-t[1])/v))&&[t[0]*Ap,t[1]*Ap]},r()}}function Bi(t){var n=0,e=Np/3,r=Yi(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Cp,e=t[1]*Cp):[n*Ap,e*Ap]},i}function Hi(t,n){function e(t,n){var e=Yp(o-2*i*Fp(n))/i;return[e*Fp(t*=i),u-e*Lp(t)]}var r=Fp(t),i=(r+Fp(n))/2;if(zp(i)<Mp)return function(t){function n(t,n){return[t*e,Fp(n)/e]}var e=Lp(t);return n.invert=function(t,n){return[t/e,We(n*e)]},n}(t);var o=1+r*(2*i-r),u=Yp(o)/i;return e.invert=function(t,n){var e=u-n;return[Rp(t,zp(e))/i*Ip(e),We((o-(t*t+e*e)*i*i)/(2*i))]},e}function ji(){return Bi(Hi).scale(155.424).center([0,33.6442])}function Xi(){return ji().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Vi(t){return function(n,e){var r=Lp(n),i=Lp(e),o=t(r*i);return[o*i*Fp(n),o*Fp(e)]}}function $i(t){return function(n,e){var r=Yp(n*n+e*e),i=t(r),o=Fp(i),u=Lp(i);return[Rp(n*o,r*u),We(r&&e*o/r)]}}function Wi(t,n){return[t,Up(Bp((kp+n)/2))]}function Zi(t){function n(){var n=Np*a(),u=o(Fr(o.rotate()).invert([0,0]));return s(null==f?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===Wi?[[Math.max(u[0]-n,f),e],[Math.min(u[0]+n,r),i]]:[[f,Math.max(u[1]-n,e)],[r,Math.min(u[1]+n,i)]])}var e,r,i,o=Ii(t),u=o.center,a=o.scale,c=o.translate,s=o.clipExtent,f=null;return o.scale=function(t){return arguments.length?(a(t),n()):a()},o.translate=function(t){return arguments.length?(c(t),n()):c()},o.center=function(t){return arguments.length?(u(t),n()):u()},o.clipExtent=function(t){return arguments.length?(null==t?f=e=r=i=null:(f=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),n()):null==f?null:[[f,e],[r,i]]},n()}function Gi(t){return Bp((kp+t)/2)}function Qi(t,n){function e(t,n){o>0?n<-kp+Mp&&(n=-kp+Mp):n>kp-Mp&&(n=kp-Mp);var e=o/Op(Gi(n),i);return[e*Fp(i*t),o-e*Lp(i*t)]}var r=Lp(t),i=t===n?Fp(t):Up(r/Lp(n))/Up(Gi(n)/Gi(t)),o=r*Op(Gi(t),i)/i;return i?(e.invert=function(t,n){var e=o-n,r=Ip(i)*Yp(t*t+e*e);return[Rp(t,zp(e))/i*Ip(e),2*Pp(Op(o/r,1/i))-kp]},e):Wi}function Ji(t,n){return[t,n]}function Ki(t,n){function e(t,n){var e=o-n,r=i*t;return[e*Fp(r),o-e*Lp(r)]}var r=Lp(t),i=t===n?Fp(t):(r-Lp(n))/(n-t),o=r/i+t;return zp(i)<Mp?Ji:(e.invert=function(t,n){var e=o-n;return[Rp(t,zp(e))/i*Ip(e),o-Ip(i)*Yp(t*t+e*e)]},e)}function to(t,n){var e=Lp(n),r=Lp(t)*e;return[e*Fp(t)/r,Fp(n)/r]}function no(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?pi:Pi({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}function eo(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function ro(t,n){return[Lp(n)*Fp(t),Fp(n)]}function io(t,n){var e=Lp(n),r=1+Lp(t)*e;return[e*Fp(t)/r,Fp(n)/r]}function oo(t,n){return[Up(Bp((kp+n)/2)),-t]}function uo(t,n){return t.parent===n.parent?1:2}function ao(t,n){return t+n.x}function co(t,n){return Math.max(t,n.y)}function so(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function fo(t,n){var e,r,i,o,u,a=new vo(t),c=+t.value&&(a.value=t.value),s=[a];for(null==n&&(n=lo);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)s.push(r=e.children[o]=new vo(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(po)}function lo(t){return t.children}function ho(t){t.data=t.data.data}function po(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function vo(t){this.data=t,this.depth=this.height=0,this.parent=null}function go(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Wd.call(t))).length,o=[];r<i;)n=t[r],e&&yo(e,n)?++r:(e=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return xo(t[0],t[1]);case 3:return bo(t[0],t[1],t[2])}}(o=function(t,n){var e,r;if(mo(n,t))return[n];for(e=0;e<t.length;++e)if(_o(n,t[e])&&mo(xo(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(_o(xo(t[e],t[r]),n)&&_o(xo(t[e],n),t[r])&&_o(xo(t[r],n),t[e])&&mo(bo(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}(o,n)),r=0);return e}function _o(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function yo(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function mo(t,n){for(var e=0;e<n.length;++e)if(!yo(t,n[e]))return!1;return!0}function xo(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,f=a-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+u+s/l*f)/2,r:(l+i+a)/2}}function bo(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=r-u,p=r-s,d=i-a,v=i-f,g=c-o,_=l-o,y=r*r+i*i-o*o,m=y-u*u-a*a+c*c,x=y-s*s-f*f+l*l,b=p*d-h*v,w=(d*x-v*m)/(2*b)-r,M=(v*g-d*_)/b,T=(p*m-h*x)/(2*b)-i,N=(h*_-p*g)/b,k=M*M+N*N-1,S=2*(o+w*M+T*N),E=w*w+T*T-o*o,A=-(k?(S+Math.sqrt(S*S-4*k*E))/(2*k):E/S);return{x:r+w+M*A,y:i+T+N*A,r:A}}function wo(t,n,e){var r=t.x,i=t.y,o=n.r+e.r,u=t.r+e.r,a=n.x-r,c=n.y-i,s=a*a+c*c;if(s){var f=.5+((u*=u)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(u+s)-(u-=s)*u-o*o))/(2*s);e.x=r+f*a+l*c,e.y=i+f*c-l*a}else e.x=r+u,e.y=i}function Mo(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-1e-6>e*e+r*r}function To(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function No(t){this._=t,this.next=null,this.previous=null}function ko(t){if(!(i=t.length))return 0;var n,e,r,i,o,u,a,c,s,f,l;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;wo(e,n,r=t[2]),n=new No(n),e=new No(e),r=new No(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){wo(n._,e._,r=t[a]),r=new No(r),c=e.next,s=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(Mo(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}f+=c._.r,c=c.next}else{if(Mo(s._,r._)){(n=s).next=e,e.previous=n,--a;continue t}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=To(n);(r=r.next)!==e;)(u=To(r))<o&&(n=r,o=u);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=go(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function So(t){if("function"!=typeof t)throw new Error;return t}function Eo(){return 0}function Ao(t){return function(){return t}}function Co(t){return Math.sqrt(t.value)}function zo(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Po(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=ko(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function Ro(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Lo(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function qo(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s}function Do(t){return t.id}function Uo(t){return t.parentId}function Oo(t,n){return t.parent===n.parent?1:2}function Fo(t){var n=t.children;return n?n[0]:t.t}function Io(t){var n=t.children;return n?n[n.length-1]:t.t}function Yo(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Bo(t,n,e){return t.a.parent===n.parent?t.a:e}function Ho(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function jo(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s}function Xo(t,n,e,r,i,o){for(var u,a,c,s,f,l,h,p,d,v,g,_=[],y=n.children,m=0,x=0,b=y.length,w=n.value;m<b;){c=i-e,s=o-r;do{f=y[x++].value}while(!f&&x<b);for(l=h=f,g=f*f*(v=Math.max(s/c,c/s)/(w*t)),d=Math.max(h/g,g/l);x<b;++x){if(f+=a=y[x].value,a<l&&(l=a),a>h&&(h=a),g=f*f*v,(p=Math.max(h/g,g/l))>d){f-=a;break}d=p}_.push(u={value:f,dice:c<s,children:y.slice(m,x)}),u.dice?qo(u,e,r,i,w?r+=s*f/w:o):jo(u,e,r,w?e+=c*f/w:i,o),w-=f,m=x}return _}function Vo(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function $o(t,n){return t[0]-n[0]||t[1]-n[1]}function Wo(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&Vo(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function Zo(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Go(t){if(!t._start)try{(function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=function(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?Qo(t,e):(t._data[n]=r,t._waiting?Go(t):Jo(t))))}}(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||ev)}})(t)}catch(n){if(t._tasks[t._ended+t._active-1])Qo(t,n);else if(!t._data)throw n}}function Qo(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,Jo(t)}function Jo(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function Ko(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new Zo(t)}function tu(){return Math.random()}function nu(t,n){function e(t){var n,e=s.status;if(!e&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(s)||e>=200&&e<300||304===e){if(o)try{n=o.call(r,s)}catch(t){return void a.call("error",r,t)}else n=s;a.call("load",r,n)}else a.call("error",r,t)}var r,i,o,u,a=N("beforesend","progress","load","error"),c=se(),s=new XMLHttpRequest,f=null,l=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=e:s.onreadystatechange=function(t){s.readyState>3&&e(t)},s.onprogress=function(t){a.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==n?c.remove(t):c.set(t,n+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,e,o){return s.open(n,t,!0,f,l),null==i||c.has("accept")||c.set("accept",i+",*/*"),s.setRequestHeader&&c.each(function(t,n){s.setRequestHeader(n,t)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=u&&(s.responseType=u),h>0&&(s.timeout=h),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(o=function(t){return function(n,e){t(null==n?e:null)}}(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",r,s),s.send(null==e?null:e),r},abort:function(){return s.abort(),r},on:function(){var t=a.on.apply(a,arguments);return t===a?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r}function eu(t,n){return function(e,r){var i=nu(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}}function ru(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=nu(e).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,n){return function(e){return t(e.responseText,n)}}(n,r=t)):r},o.row(r),i?o.get(i):o}}function iu(t){function n(n){var o=n+"",u=e.get(o);if(!u){if(i!==yv)return i;e.set(o,u=r.push(n))}return t[(u-1)%t.length]}var e=se(),r=[],i=yv;return t=null==t?[]:_v.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=se();for(var i,o,u=-1,a=t.length;++u<a;)e.has(o=(i=t[u])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=_v.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return iu().domain(r).range(t).unknown(i)},n}function ou(){function t(){var t=i().length,r=u[1]<u[0],h=u[r-0],p=u[1-r];n=(p-h)/Math.max(1,t-c+2*s),a&&(n=Math.floor(n)),h+=(p-h-n*(t-c))*l,e=n*(1-c),a&&(h=Math.round(h),e=Math.round(e));var d=f(t).map(function(t){return h+n*t});return o(r?d.reverse():d)}var n,e,r=iu().unknown(void 0),i=r.domain,o=r.range,u=[0,1],a=!1,c=0,s=0,l=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(i(n),t()):i()},r.range=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u.slice()},r.rangeRound=function(n){return u=[+n[0],+n[1]],a=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(a=!!n,t()):a},r.padding=function(n){return arguments.length?(c=s=Math.max(0,Math.min(1,n)),t()):c},r.paddingInner=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),t()):c},r.paddingOuter=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),t()):s},r.align=function(n){return arguments.length?(l=Math.max(0,Math.min(1,n)),t()):l},r.copy=function(){return ou().domain(i()).range(u).round(a).paddingInner(c).paddingOuter(s).align(l)},t()}function uu(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uu(n())},t}function au(t){return function(){return t}}function cu(t){return+t}function su(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:au(n)}function fu(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return o<i?(i=e(o,i),u=r(a,u)):(i=e(i,o),u=r(u,a)),function(t){return u(i(t))}}function lu(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=e(t[a],t[a+1]),u[a]=r(n[a],n[a+1]);return function(n){var e=Os(t,n,1,i)-1;return u[e](o[e](n))}}function hu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function pu(t,n){function e(){return i=Math.min(a.length,c.length)>2?lu:fu,o=u=null,r}function r(n){return(o||(o=i(a,c,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,s)))(+n)}var i,o,u,a=mv,c=mv,s=fn,f=!1;return r.invert=function(t){return(u||(u=i(c,a,su,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},r.domain=function(t){return arguments.length?(a=gv.call(t,cu),e()):a.slice()},r.range=function(t){return arguments.length?(c=_v.call(t),e()):c.slice()},r.rangeRound=function(t){return c=_v.call(t),s=ln,e()},r.clamp=function(t){return arguments.length?(f=!!t,e()):f},r.interpolate=function(t){return arguments.length?(s=t,e()):s},e()}function du(n){var e=n.domain;return n.ticks=function(t){var n=e();return l(n[0],n[n.length-1],null==t?10:t)},n.tickFormat=function(n,r){return function(n,e,r){var i,o=n[0],u=n[n.length-1],a=p(o,u,null==e?10:e);switch((r=De(null==r?",f":r)).type){case"s":var c=Math.max(Math.abs(o),Math.abs(u));return null!=r.precision||isNaN(i=Be(a,c))||(r.precision=i),t.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=He(a,Math.max(Math.abs(o),Math.abs(u))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Ye(a))||(r.precision=i-2*("%"===r.type))}return t.format(r)}(e(),n,r)},n.nice=function(t){null==t&&(t=10);var r,i=e(),o=0,u=i.length-1,a=i[o],c=i[u];return c<a&&(r=a,a=c,c=r,r=o,o=u,u=r),(r=h(a,c,t))>0?r=h(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,t):r<0&&(r=h(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,t)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(c/r)*r,e(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(c*r)/r,e(i)),n},n}function vu(){var t=pu(su,an);return t.copy=function(){return hu(t,vu())},du(t)}function gu(){function t(t){return+t}var n=[0,1];return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=gv.call(e,cu),t):n.slice()},t.copy=function(){return gu().domain(n)},du(t)}function _u(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}function yu(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:au(n)}function mu(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function xu(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bu(t){return 10===t?xu:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function wu(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Mu(t){return function(n){return-t(-n)}}function Tu(){function n(){return o=wu(i),u=bu(i),r()[0]<0&&(o=Mu(o),u=Mu(u)),e}var e=pu(yu,mu).domain([1,10]),r=e.domain,i=10,o=wu(10),u=bu(10);return e.base=function(t){return arguments.length?(i=+t,n()):i},e.domain=function(t){return arguments.length?(r(t),n()):r()},e.ticks=function(t){var n,e=r(),a=e[0],c=e[e.length-1];(n=c<a)&&(p=a,a=c,c=p);var s,f,h,p=o(a),d=o(c),v=null==t?10:+t,g=[];if(!(i%1)&&d-p<v){if(p=Math.round(p)-1,d=Math.round(d)+1,a>0){for(;p<d;++p)for(f=1,s=u(p);f<i;++f)if(!((h=s*f)<a)){if(h>c)break;g.push(h)}}else for(;p<d;++p)for(f=i-1,s=u(p);f>=1;--f)if(!((h=s*f)<a)){if(h>c)break;g.push(h)}}else g=l(p,d,Math.min(d-p,v)).map(u);return n?g.reverse():g},e.tickFormat=function(n,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),n===1/0)return r;null==n&&(n=10);var a=Math.max(1,i*n/e.ticks().length);return function(t){var n=t/u(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=a?r(t):""}},e.nice=function(){return r(_u(r(),{floor:function(t){return u(Math.floor(o(t)))},ceil:function(t){return u(Math.ceil(o(t)))}}))},e.copy=function(){return hu(e,Tu().base(i))},e}function Nu(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function ku(){var t=1,n=pu(function(n,e){return(e=Nu(e,t)-(n=Nu(n,t)))?function(r){return(Nu(r,t)-n)/e}:au(e)},function(n,e){return e=Nu(e,t)-(n=Nu(n,t)),function(r){return Nu(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return hu(n,ku().exponent(t))},du(n)}function Su(){function t(){var t=0,n=Math.max(1,i.length);for(o=new Array(n-1);++t<n;)o[t-1]=v(r,t/n);return e}function e(t){if(!isNaN(t=+t))return i[Os(o,t)]}var r=[],i=[],o=[];return e.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?o[n-1]:r[0],n<o.length?o[n]:r[r.length-1]]},e.domain=function(e){if(!arguments.length)return r.slice();r=[];for(var i,o=0,u=e.length;o<u;++o)null==(i=e[o])||isNaN(i=+i)||r.push(i);return r.sort(n),t()},e.range=function(n){return arguments.length?(i=_v.call(n),t()):i.slice()},e.quantiles=function(){return o.slice()},e.copy=function(){return Su().domain(r).range(i)},e}function Eu(){function t(t){if(t<=t)return u[Os(o,t,0,i)]}function n(){var n=-1;for(o=new Array(i);++n<i;)o[n]=((n+1)*r-(n-i)*e)/(i+1);return t}var e=0,r=1,i=1,o=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n()):[e,r]},t.range=function(t){return arguments.length?(i=(u=_v.call(t)).length-1,n()):u.slice()},t.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},t.copy=function(){return Eu().domain([e,r]).range(u)},du(t)}function Au(){function t(t){if(t<=t)return e[Os(n,t,0,r)]}var n=[.5],e=[0,1],r=1;return t.domain=function(i){return arguments.length?(n=_v.call(i),r=Math.min(n.length,e.length-1),t):n.slice()},t.range=function(i){return arguments.length?(e=_v.call(i),r=Math.min(n.length,e.length-1),t):e.slice()},t.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},t.copy=function(){return Au().domain(n).range(e)},t}function Cu(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return Cu(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return xv.setTime(+n),bv.setTime(+r),t(xv),t(bv),Math.floor(e(xv,bv))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function zu(t){return Cu(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tv)/Nv})}function Pu(t){return Cu(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Nv})}function Ru(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lu(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qu(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Du(t){function n(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Mg[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function e(t,n){return function(e){var i,o,u=qu(1900);if(r(u,t,e+="",0)!=e.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(o=(i=Lu(qu(u.y))).getUTCDay())>4||0===o?og.ceil(i):og(i),i=eg.offset(i,7*(u.V-1)),u.y=i.getUTCFullYear(),u.m=i.getUTCMonth(),u.d=i.getUTCDate()+(u.w+6)%7):(i=(o=(i=n(qu(u.y))).getDay())>4||0===o?qv.ceil(i):qv(i),i=Pv.offset(i,7*(u.V-1)),u.y=i.getFullYear(),u.m=i.getMonth(),u.d=i.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),o="Z"in u?Lu(qu(u.y)).getUTCDay():n(qu(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(o+5)%7:u.w+7*u.U-(o+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,Lu(u)):n(u)}}function r(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=T[i in Mg?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,u=t.time,a=t.periods,c=t.days,s=t.shortDays,f=t.months,l=t.shortMonths,h=Fu(a),p=Iu(a),d=Fu(c),v=Iu(c),g=Fu(s),_=Iu(s),y=Fu(f),m=Iu(f),x=Fu(l),b=Iu(l),w={a:function(t){return s[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:ua,e:ua,f:la,H:aa,I:ca,j:sa,L:fa,m:ha,M:pa,p:function(t){return a[+(t.getHours()>=12)]},Q:Ya,s:Ba,S:da,u:va,U:ga,V:_a,w:ya,W:ma,x:null,X:null,y:xa,Y:ba,Z:wa,"%":Ia},M={a:function(t){return s[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:Ma,e:Ma,f:Ea,H:Ta,I:Na,j:ka,L:Sa,m:Aa,M:Ca,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:Ya,s:Ba,S:za,u:Pa,U:Ra,V:La,w:qa,W:Da,x:null,X:null,y:Ua,Y:Oa,Z:Fa,"%":Ia},T={a:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.w=_[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=v[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=x.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return r(t,i,n,e)},d:Gu,e:Gu,f:ea,H:Ju,I:Ju,j:Qu,L:na,m:Zu,M:Ku,p:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.p=p[r[0].toLowerCase()],e+r[0].length):-1},Q:ia,s:oa,S:ta,u:Bu,U:Hu,V:ju,w:Yu,W:Xu,x:function(t,n,e){return r(t,o,n,e)},X:function(t,n,e){return r(t,u,n,e)},y:$u,Y:Vu,Z:Wu,"%":ra};return w.x=n(o,w),w.X=n(u,w),w.c=n(i,w),M.x=n(o,M),M.X=n(u,M),M.c=n(i,M),{format:function(t){var e=n(t+="",w);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",Ru);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,Lu);return n.toString=function(){return t},n}}}function Uu(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Ou(t){return t.replace(kg,"\\$&")}function Fu(t){return new RegExp("^(?:"+t.map(Ou).join("|")+")","i")}function Iu(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Yu(t,n,e){var r=Tg.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Bu(t,n,e){var r=Tg.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Hu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function ju(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Xu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Vu(t,n,e){var r=Tg.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function $u(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Wu(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Zu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Gu(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Qu(t,n,e){var r=Tg.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ju(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Ku(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ta(t,n,e){var r=Tg.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function na(t,n,e){var r=Tg.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ea(t,n,e){var r=Tg.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function ra(t,n,e){var r=Ng.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ia(t,n,e){var r=Tg.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function oa(t,n,e){var r=Tg.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function ua(t,n){return Uu(t.getDate(),n,2)}function aa(t,n){return Uu(t.getHours(),n,2)}function ca(t,n){return Uu(t.getHours()%12||12,n,2)}function sa(t,n){return Uu(1+Pv.count(Gv(t),t),n,3)}function fa(t,n){return Uu(t.getMilliseconds(),n,3)}function la(t,n){return fa(t,n)+"000"}function ha(t,n){return Uu(t.getMonth()+1,n,2)}function pa(t,n){return Uu(t.getMinutes(),n,2)}function da(t,n){return Uu(t.getSeconds(),n,2)}function va(t){var n=t.getDay();return 0===n?7:n}function ga(t,n){return Uu(Lv.count(Gv(t),t),n,2)}function _a(t,n){var e=t.getDay();return t=e>=4||0===e?Ov(t):Ov.ceil(t),Uu(Ov.count(Gv(t),t)+(4===Gv(t).getDay()),n,2)}function ya(t){return t.getDay()}function ma(t,n){return Uu(qv.count(Gv(t),t),n,2)}function xa(t,n){return Uu(t.getFullYear()%100,n,2)}function ba(t,n){return Uu(t.getFullYear()%1e4,n,4)}function wa(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Uu(n/60|0,"0",2)+Uu(n%60,"0",2)}function Ma(t,n){return Uu(t.getUTCDate(),n,2)}function Ta(t,n){return Uu(t.getUTCHours(),n,2)}function Na(t,n){return Uu(t.getUTCHours()%12||12,n,2)}function ka(t,n){return Uu(1+eg.count(xg(t),t),n,3)}function Sa(t,n){return Uu(t.getUTCMilliseconds(),n,3)}function Ea(t,n){return Sa(t,n)+"000"}function Aa(t,n){return Uu(t.getUTCMonth()+1,n,2)}function Ca(t,n){return Uu(t.getUTCMinutes(),n,2)}function za(t,n){return Uu(t.getUTCSeconds(),n,2)}function Pa(t){var n=t.getUTCDay();return 0===n?7:n}function Ra(t,n){return Uu(ig.count(xg(t),t),n,2)}function La(t,n){var e=t.getUTCDay();return t=e>=4||0===e?cg(t):cg.ceil(t),Uu(cg.count(xg(t),t)+(4===xg(t).getUTCDay()),n,2)}function qa(t){return t.getUTCDay()}function Da(t,n){return Uu(og.count(xg(t),t),n,2)}function Ua(t,n){return Uu(t.getUTCFullYear()%100,n,2)}function Oa(t,n){return Uu(t.getUTCFullYear()%1e4,n,4)}function Fa(){return"+0000"}function Ia(){return"%"}function Ya(t){return+t}function Ba(t){return Math.floor(+t/1e3)}function Ha(n){return bg=Du(n),t.timeFormat=bg.format,t.timeParse=bg.parse,t.utcFormat=bg.utcFormat,t.utcParse=bg.utcParse,bg}function ja(t){return new Date(t)}function Xa(t){return t instanceof Date?+t:+new Date(+t)}function Va(t,n,r,i,o,u,a,c,s){function f(e){return(a(e)<e?g:u(e)<e?_:o(e)<e?y:i(e)<e?m:n(e)<e?r(e)<e?x:b:t(e)<e?w:M)(e)}function l(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(i-r)/n,a=e(function(t){return t[2]}).right(T,u);a===T.length?(o=p(r/Dg,i/Dg,n),n=t):a?(o=(a=T[u/T[a-1][2]<T[a][2]/u?a-1:a])[1],n=a[0]):(o=Math.max(p(r,i,n),1),n=c)}return null==o?n:n.every(o)}var h=pu(su,an),d=h.invert,v=h.domain,g=s(".%L"),_=s(":%S"),y=s("%I:%M"),m=s("%I %p"),x=s("%a %d"),b=s("%b %d"),w=s("%B"),M=s("%Y"),T=[[a,1,Cg],[a,5,5*Cg],[a,15,15*Cg],[a,30,30*Cg],[u,1,zg],[u,5,5*zg],[u,15,15*zg],[u,30,30*zg],[o,1,Pg],[o,3,3*Pg],[o,6,6*Pg],[o,12,12*Pg],[i,1,Rg],[i,2,2*Rg],[r,1,Lg],[n,1,qg],[n,3,3*qg],[t,1,Dg]];return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?v(gv.call(t,Xa)):v().map(ja)},h.ticks=function(t,n){var e,r=v(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=l(t,i,o,n),e=e?e.range(i,o+1):[],u?e.reverse():e},h.tickFormat=function(t,n){return null==n?f:s(n)},h.nice=function(t,n){var e=v();return(t=l(t,e[0],e[e.length-1],n))?v(_u(e,t)):h},h.copy=function(){return hu(h,Va(t,n,r,i,o,u,a,c,s))},h}function $a(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Wa(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Za(t){function n(n){var o=(n-e)/(r-e);return t(i?Math.max(0,Math.min(1,o)):o)}var e=0,r=1,i=!1;return n.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n):[e,r]},n.clamp=function(t){return arguments.length?(i=!!t,n):i},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Za(t).domain([e,r]).clamp(i)},du(n)}function Ga(t){return function(){return t}}function Qa(t){return t>=1?i_:t<=-1?-i_:Math.asin(t)}function Ja(t){return t.innerRadius}function Ka(t){return t.outerRadius}function tc(t){return t.startAngle}function nc(t){return t.endAngle}function ec(t){return t&&t.padAngle}function rc(t,n,e,r,i,o,u){var a=t-e,c=n-r,s=(u?o:-o)/n_(a*a+c*c),f=s*c,l=-s*a,h=t+f,p=n+l,d=e+f,v=r+l,g=(h+d)/2,_=(p+v)/2,y=d-h,m=v-p,x=y*y+m*m,b=i-o,w=h*v-d*p,M=(m<0?-1:1)*n_(Jg(0,b*b*x-w*w)),T=(w*m-y*M)/x,N=(-w*y-m*M)/x,k=(w*m+y*M)/x,S=(-w*y+m*M)/x,E=T-g,A=N-_,C=k-g,z=S-_;return E*E+A*A>C*C+z*z&&(T=k,N=S),{cx:T,cy:N,x01:-f,y01:-l,x11:T*(i/b-1),y11:N*(i/b-1)}}function ic(t){this._context=t}function oc(t){return new ic(t)}function uc(t){return t[0]}function ac(t){return t[1]}function cc(){function t(t){var a,c,s,f=t.length,l=!1;for(null==i&&(u=o(s=ee())),a=0;a<=f;++a)!(a<f&&r(c=t[a],a,t))===l&&((l=!l)?u.lineStart():u.lineEnd()),l&&u.point(+n(c,a,t),+e(c,a,t));if(s)return u=null,s+""||null}var n=uc,e=ac,r=Ga(!0),i=null,o=oc,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:Ga(!!n),t):r},t.curve=function(n){return arguments.length?(o=n,null!=i&&(u=o(i)),t):o},t.context=function(n){return arguments.length?(null==n?i=u=null:u=o(i=n),t):i},t}function sc(){function t(t){var n,f,l,h,p,d=t.length,v=!1,g=new Array(d),_=new Array(d);for(null==a&&(s=c(p=ee())),n=0;n<=d;++n){if(!(n<d&&u(h=t[n],n,t))===v)if(v=!v)f=n,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=n-1;l>=f;--l)s.point(g[l],_[l]);s.lineEnd(),s.areaEnd()}v&&(g[n]=+e(h,n,t),_[n]=+i(h,n,t),s.point(r?+r(h,n,t):g[n],o?+o(h,n,t):_[n]))}if(p)return s=null,p+""||null}function n(){return cc().defined(u).curve(c).context(a)}var e=uc,r=null,i=Ga(0),o=ac,u=Ga(!0),a=null,c=oc,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),r=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:Ga(+n),t):r},t.y=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),o=null,t):i},t.y0=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),t):i},t.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:Ga(+n),t):o},t.lineX0=t.lineY0=function(){return n().x(e).y(i)},t.lineY1=function(){return n().x(e).y(o)},t.lineX1=function(){return n().x(r).y(i)},t.defined=function(n){return arguments.length?(u="function"==typeof n?n:Ga(!!n),t):u},t.curve=function(n){return arguments.length?(c=n,null!=a&&(s=c(a)),t):c},t.context=function(n){return arguments.length?(null==n?a=s=null:s=c(a=n),t):a},t}function fc(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function lc(t){return t}function hc(t){this._curve=t}function pc(t){function n(n){return new hc(t(n))}return n._curve=t,n}function dc(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(pc(t)):n()._curve},t}function vc(){return dc(cc().curve(u_))}function gc(){var t=sc().curve(u_),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return dc(e())},delete t.lineX0,t.lineEndAngle=function(){return dc(r())},delete t.lineX1,t.lineInnerRadius=function(){return dc(i())},delete t.lineY0,t.lineOuterRadius=function(){return dc(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(pc(t)):n()._curve},t}function _c(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}function yc(t){return t.source}function mc(t){return t.target}function xc(t){function n(){var n,a=a_.call(arguments),c=e.apply(this,a),s=r.apply(this,a);if(u||(u=n=ee()),t(u,+i.apply(this,(a[0]=c,a)),+o.apply(this,a),+i.apply(this,(a[0]=s,a)),+o.apply(this,a)),n)return u=null,n+""||null}var e=yc,r=mc,i=uc,o=ac,u=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(r=t,n):r},n.x=function(t){return arguments.length?(i="function"==typeof t?t:Ga(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:Ga(+t),n):o},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function bc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function wc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function Mc(t,n,e,r,i){var o=_c(n,e),u=_c(n,e=(e+i)/2),a=_c(r,e),c=_c(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function Tc(){}function Nc(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function kc(t){this._context=t}function Sc(t){this._context=t}function Ec(t){this._context=t}function Ac(t,n){this._basis=new kc(t),this._beta=n}function Cc(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function zc(t,n){this._context=t,this._k=(1-n)/6}function Pc(t,n){this._context=t,this._k=(1-n)/6}function Rc(t,n){this._context=t,this._k=(1-n)/6}function Lc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>e_){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>e_){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function qc(t,n){this._context=t,this._alpha=n}function Dc(t,n){this._context=t,this._alpha=n}function Uc(t,n){this._context=t,this._alpha=n}function Oc(t){this._context=t}function Fc(t){return t<0?-1:1}function Ic(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Fc(o)+Fc(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function Yc(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Bc(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Hc(t){this._context=t}function jc(t){this._context=new Xc(t)}function Xc(t){this._context=t}function Vc(t){this._context=t}function $c(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Wc(t,n){this._context=t,this._t=n}function Zc(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function Gc(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Qc(t,n){return t[n]}function Jc(t){var n=t.map(Kc);return Gc(t).sort(function(t,e){return n[t]-n[e]})}function Kc(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function ts(t){return function(){return t}}function ns(t){return t[0]}function es(t){return t[1]}function rs(){this._=null}function is(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function os(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function us(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function as(t){for(;t.L;)t=t.L;return t}function cs(t,n,e,r){var i=[null,null],o=D_.push(i)-1;return i.left=t,i.right=n,e&&fs(i,t,n,e),r&&fs(i,n,t,r),L_[t.index].halfedges.push(o),L_[n.index].halfedges.push(o),i}function ss(t,n,e){var r=[n,e];return r.left=t,r}function fs(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function ls(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],s=u[1],f=0,l=1,h=a[0]-c,p=a[1]-s;if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>f&&(f=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<l&&(l=o)}if(o=e-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<l&&(l=o)}else if(p>0){if(o>l)return;o>f&&(f=o)}if(o=i-s,p||!(o<0)){if(o/=p,p<0){if(o>l)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<l&&(l=o)}return!(f>0||l<1)||(f>0&&(t[0]=[c+f*h,s+f*p]),l<1&&(t[1]=[c+l*h,s+l*p]),!0)}}}}}function hs(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],s=t.left,f=t.right,l=s[0],h=s[1],p=f[0],d=f[1],v=(l+p)/2,g=(h+d)/2;if(d===h){if(v<n||v>=r)return;if(l>p){if(c){if(c[1]>=i)return}else c=[v,e];o=[v,i]}else{if(c){if(c[1]<e)return}else c=[v,i];o=[v,e]}}else if(u=(l-p)/(d-h),a=g-u*v,u<-1||u>1)if(l>p){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<d){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function ps(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ds(t,n){return n[+(n.left!==t.site)]}function vs(t,n){return n[+(n.left===t.site)]}function gs(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,s=r[1]-a,f=o[0]-u,l=o[1]-a,h=2*(c*l-s*f);if(!(h>=-I_)){var p=c*c+s*s,d=f*f+l*l,v=(l*p-s*d)/h,g=(c*d-f*p)/h,_=U_.pop()||new function(){is(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=t,_.site=i,_.x=v+u,_.y=(_.cy=g+a)+Math.sqrt(v*v+g*g),t.circle=_;for(var y=null,m=q_._;m;)if(_.y<m.y||_.y===m.y&&_.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}q_.insert(y,_),y||(P_=_)}}}}function _s(t){var n=t.circle;n&&(n.P||(P_=n.N),q_.remove(n),U_.push(n),is(n),t.circle=null)}function ys(t){var n=O_.pop()||new function(){is(this),this.edge=this.site=this.circle=null};return n.site=t,n}function ms(t){_s(t),R_.remove(t),O_.push(t),is(t)}function xs(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];ms(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<F_&&Math.abs(r-c.circle.cy)<F_;)o=c.P,a.unshift(c),ms(c),c=o;a.unshift(c),_s(c);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<F_&&Math.abs(r-s.circle.cy)<F_;)u=s.N,a.push(s),ms(s),s=u;a.push(s),_s(s);var f,l=a.length;for(f=1;f<l;++f)s=a[f],c=a[f-1],fs(s.edge,c.site,s.site,i);c=a[0],(s=a[l-1]).edge=cs(c.site,s.site,null,i),gs(c),gs(s)}function bs(t){for(var n,e,r,i,o=t[0],u=t[1],a=R_._;a;)if((r=ws(a,u)-o)>F_)a=a.L;else{if(!((i=o-function(t,n){var e=t.N;if(e)return ws(e,n);var r=t.site;return r[1]===n?r[0]:1/0}(a,u))>F_)){r>-F_?(n=a.P,e=a):i>-F_?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}(function(t){L_[t.index]={site:t,halfedges:[]}})(t);var c=ys(t);if(R_.insert(n,c),n||e){if(n===e)return _s(n),e=ys(n.site),R_.insert(c,e),c.edge=e.edge=cs(n.site,c.site),gs(n),void gs(e);if(e){_s(n),_s(e);var s=n.site,f=s[0],l=s[1],h=t[0]-f,p=t[1]-l,d=e.site,v=d[0]-f,g=d[1]-l,_=2*(h*g-p*v),y=h*h+p*p,m=v*v+g*g,x=[(g*y-p*m)/_+f,(h*m-v*y)/_+l];fs(e.edge,s,d,x),c.edge=cs(s,t,null,x),e.edge=cs(t,d,null,x),gs(n),gs(e)}else c.edge=cs(n.site,c.site)}}function ws(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],c=e[1],s=c-n;if(!s)return a;var f=a-r,l=1/o-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+i-o/2)))/l+r:(r+a)/2}function Ms(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function Ts(t,n){return n[1]-t[1]||n[0]-t[0]}function Ns(t,n){var e,r,i,o=t.sort(Ts).pop();for(D_=[],L_=new Array(t.length),R_=new rs,q_=new rs;;)if(i=P_,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(bs(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;xs(i.arc)}if(function(){for(var t,n,e,r,i=0,o=L_.length;i<o;++i)if((t=L_[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=ps(t,D_[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],s=+n[1][1];(function(t,n,e,r){for(var i,o=D_.length;o--;)hs(i=D_[o],t,n,e,r)&&ls(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>F_||Math.abs(i[0][1]-i[1][1])>F_)||delete D_[o]})(u,a,c,s),function(t,n,e,r){var i,o,u,a,c,s,f,l,h,p,d,v,g=L_.length,_=!0;for(i=0;i<g;++i)if(o=L_[i]){for(u=o.site,a=(c=o.halfedges).length;a--;)D_[c[a]]||c.splice(a,1);for(a=0,s=c.length;a<s;)d=(p=vs(o,D_[c[a]]))[0],v=p[1],l=(f=ds(o,D_[c[++a%s]]))[0],h=f[1],(Math.abs(d-l)>F_||Math.abs(v-h)>F_)&&(c.splice(a,0,D_.push(ss(u,p,Math.abs(d-t)<F_&&r-v>F_?[t,Math.abs(l-t)<F_?h:r]:Math.abs(v-r)<F_&&e-d>F_?[Math.abs(h-r)<F_?l:e,r]:Math.abs(d-e)<F_&&v-n>F_?[e,Math.abs(l-e)<F_?h:n]:Math.abs(v-n)<F_&&d-t>F_?[Math.abs(h-n)<F_?l:t,n]:null))-1),++s);s&&(_=!1)}if(_){var y,m,x,b=1/0;for(i=0,_=null;i<g;++i)(o=L_[i])&&(x=(y=(u=o.site)[0]-t)*y+(m=u[1]-n)*m)<b&&(b=x,_=o);if(_){var w=[t,n],M=[t,r],T=[e,r],N=[e,n];_.halfedges.push(D_.push(ss(u=_.site,w,M))-1,D_.push(ss(u,M,T))-1,D_.push(ss(u,T,N))-1,D_.push(ss(u,N,w))-1)}}for(i=0;i<g;++i)(o=L_[i])&&(o.halfedges.length||delete L_[i])}(u,a,c,s)}this.edges=D_,this.cells=L_,R_=q_=D_=L_=null}function ks(t){return function(){return t}}function Ss(t,n,e){this.k=t,this.x=n,this.y=e}function Es(t){return t.__zoom||Y_}function As(){t.event.stopImmediatePropagation()}function Cs(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function zs(){return!t.event.button}function Ps(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function Rs(){return this.__zoom||Y_}function Ls(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function qs(){return"ontouchstart"in this}function Ds(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}var Us=e(n),Os=Us.right,Fs=Us.left,Is=Array.prototype,Ys=Is.slice,Bs=Is.map,Hs=Math.sqrt(50),js=Math.sqrt(10),Xs=Math.sqrt(2),Vs=Array.prototype.slice,$s=1,Ws=2,Zs=3,Gs=4,Qs=1e-6,Js={value:function(){}};k.prototype=N.prototype={constructor:k,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),o=-1,u=i.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=S(r[e],t.name,n);else if(null==n)for(e in r)r[e]=S(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=function(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}(r[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new k(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Ks="http://www.w3.org/1999/xhtml",tf={svg:"http://www.w3.org/2000/svg",xhtml:Ks,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nf=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var ef=document.documentElement;if(!ef.matches){var rf=ef.webkitMatchesSelector||ef.msMatchesSelector||ef.mozMatchesSelector||ef.oMatchesSelector;nf=function(t){return function(){return rf.call(this,t)}}}}var of=nf;q.prototype={constructor:q,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var uf="$";H.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var af={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||(af={mouseenter:"mouseover",mouseleave:"mouseout"})}var cf=[null];ut.prototype=at.prototype={constructor:ut,select:function(t){"function"!=typeof t&&(t=z(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new ut(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=R(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new ut(r,i)},filter:function(t){"function"!=typeof t&&(t=of(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new ut(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e=n?U:D,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,p=t.call(f,f&&f.__data__,s,r),d=p.length,v=a[s]=new Array(d),g=u[s]=new Array(d);e(f,l,v,g,c[s]=new Array(h),p,n);for(var _,y,m=0,x=0;m<d;++m)if(_=v[m]){for(m>=x&&(x=m+1);!(y=g[x])&&++x<d;);_._next=y||null}}return u=new ut(u,r),u._enter=a,u._exit=c,u},enter:function(){return new ut(this._enter||this._groups.map(L),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(L),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new ut(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=O);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(n)}return new ut(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=E(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):I(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Y(t+"");if(arguments.length<2){for(var r=B(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?j:X)(this,t)}}:n?function(t){return function(){j(this,t)}}:function(t){return function(){X(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?V:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(W)},lower:function(){return this.each(Z)},append:function(t){var n="function"==typeof t?t:A(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:A(t),r=null==n?G:"function"==typeof n?n:z(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Q)},clone:function(t){return this.select(t?K:J)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?rt:et,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,f=a.length;s<f;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return ot(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return ot(this,t,n)}})(t,n))}};var sf=0;ft.prototype=st.prototype={constructor:ft,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ff="\\s*([+-]?\\d+)\\s*",lf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pf=/^#([0-9a-f]{3})$/,df=/^#([0-9a-f]{6})$/,vf=new RegExp("^rgb\\("+[ff,ff,ff]+"\\)$"),gf=new RegExp("^rgb\\("+[hf,hf,hf]+"\\)$"),_f=new RegExp("^rgba\\("+[ff,ff,ff,lf]+"\\)$"),yf=new RegExp("^rgba\\("+[hf,hf,hf,lf]+"\\)$"),mf=new RegExp("^hsl\\("+[lf,hf,hf]+"\\)$"),xf=new RegExp("^hsla\\("+[lf,hf,hf,lf]+"\\)$"),bf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nt(St,Et,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Nt(Rt,Pt,kt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Nt(Dt,qt,kt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Rt(Ut(t>=240?t-240:t+120,i,r),Ut(t,i,r),Ut(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var wf=Math.PI/180,Mf=180/Math.PI,Tf=.95047,Nf=1,kf=1.08883,Sf=4/29,Ef=6/29,Af=3*Ef*Ef,Cf=Ef*Ef*Ef;Nt(It,Ft,kt(St,{brighter:function(t){return new It(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new It(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=Nf*Bt(t),n=Tf*Bt(n),e=kf*Bt(e),new Rt(Ht(3.2404542*n-1.5371385*t-.4985314*e),Ht(-.969266*n+1.8760108*t+.041556*e),Ht(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),Nt(Vt,Xt,kt(St,{brighter:function(t){return new Vt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Vt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ot(this).rgb()}}));var zf=-.29227,Pf=-.90649,Rf=1.97294,Lf=Rf*Pf,qf=1.78277*Rf,Df=1.78277*zf- -.14861*Pf;Nt(Wt,$t,kt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*wf,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Rt(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(zf*r+Pf*i)),255*(n+e*(Rf*r)),this.opacity)}}));var Uf,Of,Ff,If,Yf,Bf,Hf=function t(n){function e(t,n){var e=r((t=Pt(t)).r,(n=Pt(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=en(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}var r=nn(n);return e.gamma=t,e}(1),jf=rn(Gt),Xf=rn(Qt),Vf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$f=new RegExp(Vf.source,"g"),Wf=180/Math.PI,Zf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Gf=pn(function(t){return"none"===t?Zf:(Uf||(Uf=document.createElement("DIV"),Of=document.documentElement,Ff=document.defaultView),Uf.style.transform=t,t=Ff.getComputedStyle(Of.appendChild(Uf),null).getPropertyValue("transform"),Of.removeChild(Uf),t=t.slice(7,-1).split(","),hn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Qf=pn(function(t){return null==t?Zf:(If||(If=document.createElementNS("http://www.w3.org/2000/svg","g")),If.setAttribute("transform",t),(t=If.transform.baseVal.consolidate())?(t=t.matrix,hn(t.a,t.b,t.c,t.d,t.e,t.f)):Zf)},", ",")",")"),Jf=Math.SQRT2,Kf=2,tl=4,nl=1e-12,el=gn(tn),rl=gn(en),il=_n(tn),ol=_n(en),ul=yn(tn),al=yn(en),cl=0,sl=0,fl=0,ll=1e3,hl=0,pl=0,dl=0,vl="object"==typeof performance&&performance.now?performance:Date,gl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};bn.prototype=wn.prototype={constructor:bn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?mn():+e)+(null==n?0:+n),this._next||Bf===this||(Bf?Bf._next=this:Yf=this,Bf=this),this._call=t,this._time=e,kn()},stop:function(){this._call&&(this._call=null,this._time=1/0,kn())}};var _l=N("start","end","interrupt"),yl=[],ml=0,xl=1,bl=2,wl=3,Ml=4,Tl=5,Nl=6,kl=at.prototype.constructor,Sl=0,El=at.prototype;qn.prototype=Dn.prototype={constructor:qn,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=z(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,En(l[h],n,e,h,l,zn(a,e)));return new qn(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=R(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,p=t.call(c,c.__data__,l,s),d=zn(c,e),v=0,g=p.length;v<g;++v)(h=p[v])&&En(h,n,e,v,p,d);o.push(p),u.push(c)}return new qn(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=of(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new qn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new qn(u,this._parents,this._name,this._id)},selection:function(){return new kl(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Un(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=zn(u,n);En(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new qn(r,this._parents,t,e)},call:El.call,nodes:El.nodes,node:El.node,size:El.size,empty:El.empty,each:El.each,on:function(t,n){var e=this._id;return arguments.length<2?zn(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?An:Cn;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(t,n){var e=E(t),r="transform"===e?Qf:Ln;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttribute(t)}})(e,r,Rn(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=E(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Gf:Ln;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=I(this,t),u=(this.style.removeProperty(t),I(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var u=I(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=I(this,t)),u===a?null:u===r&&a===i?o:o=n(r=u,i=a)}}(t,r,Rn(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=I(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Rn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=zn(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Cn(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Cn(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){An(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){An(this,t).delay=n}})(n,t)):zn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Cn(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Cn(this,t).duration=n}})(n,t)):zn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Cn(this,t).ease=n}}(n,t)):zn(this.node(),n).ease}};var Al=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Cl=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),zl=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Pl=Math.PI,Rl=Pl/2,Ll=4/11,ql=6/11,Dl=8/11,Ul=.75,Ol=9/11,Fl=10/11,Il=.9375,Yl=21/22,Bl=63/64,Hl=1/Ll/Ll,jl=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),Xl=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),Vl=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),$l=2*Math.PI,Wl=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=$l);return r.amplitude=function(n){return t(n,e*$l)},r.period=function(e){return t(n,e)},r}(1,.3),Zl=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=$l);return r.amplitude=function(n){return t(n,e*$l)},r.period=function(e){return t(n,e)},r}(1,.3),Gl=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/e))/2}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=$l);return r.amplitude=function(n){return t(n,e*$l)},r.period=function(e){return t(n,e)},r}(1,.3),Ql={time:null,delay:0,duration:250,ease:Fn};at.prototype.interrupt=function(t){return this.each(function(){Pn(this,t)})},at.prototype.transition=function(t){var n,e;t instanceof qn?(n=t._id,t=t._name):(n=Un(),(e=Ql).time=mn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&En(u,t,n,s,a,e||jn(u,n));return new qn(r,this._parents,t,n)};var Jl=[null],Kl={name:"drag"},th={name:"space"},nh={name:"handle"},eh={name:"center"},rh={name:"x",handles:["e","w"].map(Wn),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ih={name:"y",handles:["n","s"].map(Wn),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},oh={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Wn),input:function(t){return t},output:function(t){return t}},uh={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ah={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ch={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},sh={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},fh={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},lh=Math.cos,hh=Math.sin,ph=Math.PI,dh=ph/2,vh=2*ph,gh=Math.max,_h=Array.prototype.slice,yh=Math.PI,mh=2*yh,xh=mh-1e-6;ne.prototype=ee.prototype={constructor:ne,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,f=u-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*a-c*s)>1e-6&&i){var h=e-o,p=r-u,d=a*a+c*c,v=h*h+p*p,g=Math.sqrt(d),_=Math.sqrt(l),y=i*Math.tan((yh-Math.acos((d+l-v)/(2*g*_)))/2),m=y/_,x=y/g;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*p)+","+(this._x1=t+x*a)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%mh+mh),l>xh?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=yh)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};ce.prototype=se.prototype={constructor:ce,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var bh=se.prototype;de.prototype=ve.prototype={constructor:de,has:bh.has,add:function(t){return t+="",this["$"+t]=t,this},remove:bh.remove,clear:bh.clear,values:bh.keys,size:bh.size,empty:bh.empty,each:bh.each};var wh={},Mh={},Th=34,Nh=10,kh=13,Sh=_e(","),Eh=Sh.parse,Ah=Sh.parseRows,Ch=Sh.format,zh=Sh.formatRows,Ph=_e("\t"),Rh=Ph.parse,Lh=Ph.parseRows,qh=Ph.format,Dh=Ph.formatRows,Uh=Te.prototype=Ne.prototype;Uh.copy=function(){var t,n,e=new Ne(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ke(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=ke(n));return e},Uh.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return xe(this.cover(n,e),n,e,t)},Uh.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,s=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>f&&(f=r),i<s&&(s=i),i>l&&(l=i));for(f<c&&(c=this._x0,f=this._x1),l<s&&(s=this._y0,l=this._y1),this.cover(c,s).cover(f,l),e=0;e<o;++e)xe(this,u[e],a[e],t[e]);return this},Uh.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var u,a,c=i-e,s=this._root;switch(a=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,o=r+c,t>i||n>o);break;case 1:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,o=r+c,e>t||n>o);break;case 2:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,r=o-c,t>i||r>n);break;case 3:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,r=o-c,e>t||r>n)}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},Uh.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},Uh.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Uh.find=function(t,n,e){var r,i,o,u,a,c,s,f=this._x0,l=this._y0,h=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new be(v,f,l,h,p)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>p||(u=c.x1)<f||(a=c.y1)<l))if(v.length){var g=(i+u)/2,_=(o+a)/2;d.push(new be(v[3],g,_,u,a),new be(v[2],i,_,g,a),new be(v[1],g,o,u,_),new be(v[0],i,o,g,_)),(s=(n>=_)<<1|t>=g)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-s],d[d.length-1-s]=c)}else{var y=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),x=y*y+m*m;if(x<e){var b=Math.sqrt(e=x);f=t-b,l=n-b,h=t+b,p=n+b,r=v.data}}return r},Uh.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,s,f,l,h,p=this._root,d=this._x0,v=this._y0,g=this._x1,_=this._y1;if(!p)return this;if(p.length)for(;;){if((s=o>=(a=(d+g)/2))?d=a:g=a,(f=u>=(c=(v+_)/2))?v=c:_=c,n=p,!(p=p[l=f<<1|s]))return this;if(!p.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},Uh.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},Uh.root=function(){return this._root},Uh.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},Uh.visit=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new be(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var s=(r+o)/2,f=(i+u)/2;(e=c[3])&&a.push(new be(e,s,f,o,u)),(e=c[2])&&a.push(new be(e,r,f,s,u)),(e=c[1])&&a.push(new be(e,s,i,o,f)),(e=c[0])&&a.push(new be(e,r,i,s,f))}return this},Uh.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new be(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,s=n.y1,f=(u+c)/2,l=(a+s)/2;(o=i[0])&&e.push(new be(o,u,a,f,l)),(o=i[1])&&e.push(new be(o,f,a,c,l)),(o=i[2])&&e.push(new be(o,u,l,f,s)),(o=i[3])&&e.push(new be(o,f,l,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},Uh.x=function(t){return arguments.length?(this._x=t,this):this._x},Uh.y=function(t){return arguments.length?(this._y=t,this):this._y};var Oh,Fh=10,Ih=Math.PI*(3-Math.sqrt(5)),Yh={"":function(t,n){t:for(var e,r=(t=t.toPrecision(n)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return qe(100*t,n)},r:qe,s:function(t,n){var e=Re(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Oh=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Re(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Bh=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;De.prototype=Ue.prototype,Ue.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Hh,jh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Ie({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Xe.prototype={constructor:Xe,reset:function(){this.s=this.t=0},add:function(t){Ve(wp,t,this.t),Ve(this,wp.s,this.s),this.s?this.t+=wp.t:this.s=wp.t},valueOf:function(){return this.s}};var Xh,Vh,$h,Wh,Zh,Gh,Qh,Jh,Kh,tp,np,ep,rp,ip,op,up,ap,cp,sp,fp,lp,hp,pp,dp,vp,gp,_p,yp,mp,xp,bp,wp=new Xe,Mp=1e-6,Tp=1e-12,Np=Math.PI,kp=Np/2,Sp=Np/4,Ep=2*Np,Ap=180/Np,Cp=Np/180,zp=Math.abs,Pp=Math.atan,Rp=Math.atan2,Lp=Math.cos,qp=Math.ceil,Dp=Math.exp,Up=Math.log,Op=Math.pow,Fp=Math.sin,Ip=Math.sign||function(t){return t>0?1:t<0?-1:0},Yp=Math.sqrt,Bp=Math.tan,Hp={Feature:function(t,n){Qe(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Qe(e[r].geometry,n)}},jp={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Je(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Je(e[r],n,0)},Polygon:function(t,n){Ke(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ke(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Qe(e[r],n)}},Xp=je(),Vp=je(),$p={point:Ge,lineStart:Ge,lineEnd:Ge,polygonStart:function(){Xp.reset(),$p.lineStart=nr,$p.lineEnd=er},polygonEnd:function(){var t=+Xp;Vp.add(t<0?Ep+t:t),this.lineStart=this.lineEnd=this.point=Ge},sphere:function(){Vp.add(Ep)}},Wp=je(),Zp={point:hr,lineStart:dr,lineEnd:vr,polygonStart:function(){Zp.point=gr,Zp.lineStart=_r,Zp.lineEnd=yr,Wp.reset(),$p.polygonStart()},polygonEnd:function(){$p.polygonEnd(),Zp.point=hr,Zp.lineStart=dr,Zp.lineEnd=vr,Xp<0?(Gh=-(Jh=180),Qh=-(Kh=90)):Wp>Mp?Kh=90:Wp<-Mp&&(Qh=-90),op[0]=Gh,op[1]=Jh}},Gp={sphere:Ge,point:wr,lineStart:Tr,lineEnd:Sr,polygonStart:function(){Gp.lineStart=Er,Gp.lineEnd=Ar},polygonEnd:function(){Gp.lineStart=Tr,Gp.lineEnd=Sr}};Lr.invert=Lr;var Qp,Jp,Kp,td,nd,ed,rd,id,od,ud,ad,cd=je(),sd=Wr(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Np:-Np,c=zp(o-e);zp(c-Np)<Mp?(t.point(e,r=(r+u)/2>0?kp:-kp),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=Np&&(zp(e-i)<Mp&&(e-=i*Mp),zp(o-a)<Mp&&(o-=a*Mp),r=function(t,n,e,r){var i,o,u=Fp(t-e);return zp(u)>Mp?Pp((Fp(n)*(o=Lp(r))*Fp(e)-Fp(r)*(i=Lp(n))*Fp(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*kp,r.point(-Np,i),r.point(0,i),r.point(Np,i),r.point(Np,0),r.point(Np,-i),r.point(0,-i),r.point(-Np,-i),r.point(-Np,0),r.point(-Np,i);else if(zp(t[0]-n[0])>Mp){var o=t[0]<n[0]?Np:-Np;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Np,-kp]),fd=1e9,ld=-fd,hd=je(),pd={sphere:Ge,point:Ge,lineStart:function(){pd.point=ti,pd.lineEnd=Kr},lineEnd:Ge,polygonStart:Ge,polygonEnd:Ge},dd=[null,null],vd={type:"LineString",coordinates:dd},gd={Feature:function(t,n){return ii(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(ii(e[r].geometry,n))return!0;return!1}},_d={Sphere:function(){return!0},Point:function(t,n){return oi(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(oi(e[r],n))return!0;return!1},LineString:function(t,n){return ui(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ui(e[r],n))return!0;return!1},Polygon:function(t,n){return ai(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(ai(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(ii(e[r],n))return!0;return!1}},yd=je(),md=je(),xd={point:Ge,lineStart:Ge,lineEnd:Ge,polygonStart:function(){xd.lineStart=di,xd.lineEnd=_i},polygonEnd:function(){xd.lineStart=xd.lineEnd=xd.point=Ge,yd.add(zp(md)),md.reset()},result:function(){var t=yd/2;return yd.reset(),t}},bd=1/0,wd=bd,Md=-bd,Td=Md,Nd={point:function(t,n){t<bd&&(bd=t),t>Md&&(Md=t),n<wd&&(wd=n),n>Td&&(Td=n)},lineStart:Ge,lineEnd:Ge,polygonStart:Ge,polygonEnd:Ge,result:function(){var t=[[bd,wd],[Md,Td]];return Md=Td=-(wd=bd=1/0),t}},kd=0,Sd=0,Ed=0,Ad=0,Cd=0,zd=0,Pd=0,Rd=0,Ld=0,qd={point:yi,lineStart:mi,lineEnd:wi,polygonStart:function(){qd.lineStart=Mi,qd.lineEnd=Ti},polygonEnd:function(){qd.point=yi,qd.lineStart=mi,qd.lineEnd=wi},result:function(){var t=Ld?[Pd/Ld,Rd/Ld]:zd?[Ad/zd,Cd/zd]:Ed?[kd/Ed,Sd/Ed]:[NaN,NaN];return kd=Sd=Ed=Ad=Cd=zd=Pd=Rd=Ld=0,t}};Si.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ep)}},result:Ge};var Dd,Ud,Od,Fd,Id,Yd=je(),Bd={point:Ge,lineStart:function(){Bd.point=Ei},lineEnd:function(){Dd&&Ai(Ud,Od),Bd.point=Ge},polygonStart:function(){Dd=!0},polygonEnd:function(){Dd=null},result:function(){var t=+Yd;return Yd.reset(),t}};Ci.prototype={_radius:4.5,_circle:zi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=zi(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ri.prototype={constructor:Ri,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hd=16,jd=Lp(30*Cp),Xd=Pi({point:function(t,n){this.stream.point(t*Cp,n*Cp)}}),Vd=Vi(function(t){return Yp(2/(1+t))});Vd.invert=$i(function(t){return 2*We(t/2)});var $d=Vi(function(t){return(t=$e(t))&&t/Fp(t)});$d.invert=$i(function(t){return t}),Wi.invert=function(t,n){return[t,2*Pp(Dp(n))-kp]},Ji.invert=Ji,to.invert=$i(Pp),eo.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(zp(e)>Mp&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},ro.invert=$i(We),io.invert=$i(function(t){return 2*Pp(t)}),oo.invert=function(t,n){return[-n,2*Pp(Dp(t))-kp]},vo.prototype=fo.prototype={constructor:vo,count:function(){return this.eachAfter(so)},each:function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return fo(this).eachBefore(ho)}};var Wd=Array.prototype.slice,Zd="$",Gd={depth:-1},Qd={};Ho.prototype=Object.create(vo.prototype);var Jd=(1+Math.sqrt(5))/2,Kd=function t(n){function e(t,e,r,i,o){Xo(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Jd),tv=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,s,f,l=-1,h=u.length,p=t.value;++l<h;){for(c=(a=u[l]).children,s=a.value=0,f=c.length;s<f;++s)a.value+=c[s].value;a.dice?qo(a,e,r,i,r+=(o-r)*a.value/p):jo(a,e,r,e+=(i-e)*a.value/p,o),p-=a.value}else t._squarify=u=Xo(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Jd),nv=[].slice,ev={};Zo.prototype=Ko.prototype={constructor:Zo,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=nv.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),Go(this),this},abort:function(){return null==this._error&&Qo(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},Jo(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Jo(this),this}};var rv=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(tu),iv=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(tu),ov=function t(n){function e(){var t=iv.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(tu),uv=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(tu),av=function t(n){function e(t){var e=uv.source(n)(t);return function(){return e()/t}}return e.source=t,e}(tu),cv=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(tu),sv=eu("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),fv=eu("application/json",function(t){return JSON.parse(t.responseText)}),lv=eu("text/plain",function(t){return t.responseText}),hv=eu("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),pv=ru("text/csv",Eh),dv=ru("text/tab-separated-values",Rh),vv=Array.prototype,gv=vv.map,_v=vv.slice,yv={name:"implicit"},mv=[0,1],xv=new Date,bv=new Date,wv=Cu(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});wv.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Cu(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):wv:null};var Mv=wv.range,Tv=6e4,Nv=6048e5,kv=Cu(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Sv=kv.range,Ev=Cu(function(t){t.setTime(Math.floor(t/Tv)*Tv)},function(t,n){t.setTime(+t+n*Tv)},function(t,n){return(n-t)/Tv},function(t){return t.getMinutes()}),Av=Ev.range,Cv=Cu(function(t){var n=t.getTimezoneOffset()*Tv%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),zv=Cv.range,Pv=Cu(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tv)/864e5},function(t){return t.getDate()-1}),Rv=Pv.range,Lv=zu(0),qv=zu(1),Dv=zu(2),Uv=zu(3),Ov=zu(4),Fv=zu(5),Iv=zu(6),Yv=Lv.range,Bv=qv.range,Hv=Dv.range,jv=Uv.range,Xv=Ov.range,Vv=Fv.range,$v=Iv.range,Wv=Cu(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Zv=Wv.range,Gv=Cu(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Gv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Cu(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var Qv=Gv.range,Jv=Cu(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Tv)},function(t,n){return(n-t)/Tv},function(t){return t.getUTCMinutes()}),Kv=Jv.range,tg=Cu(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),ng=tg.range,eg=Cu(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),rg=eg.range,ig=Pu(0),og=Pu(1),ug=Pu(2),ag=Pu(3),cg=Pu(4),sg=Pu(5),fg=Pu(6),lg=ig.range,hg=og.range,pg=ug.range,dg=ag.range,vg=cg.range,gg=sg.range,_g=fg.range,yg=Cu(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),mg=yg.range,xg=Cu(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});xg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Cu(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var bg,wg=xg.range,Mg={"-":"",_:" ",0:"0"},Tg=/^\s*\d+/,Ng=/^%/,kg=/[\\^$*+?|[\]().{}]/g;Ha({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Sg="%Y-%m-%dT%H:%M:%S.%LZ",Eg=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(Sg),Ag=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:t.utcParse(Sg),Cg=1e3,zg=60*Cg,Pg=60*zg,Rg=24*Pg,Lg=7*Rg,qg=30*Rg,Dg=365*Rg,Ug=$a("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Og=$a("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Fg=$a("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Ig=$a("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Yg=al($t(300,.5,0),$t(-240,.5,1)),Bg=al($t(-100,.75,.35),$t(80,1.5,.8)),Hg=al($t(260,.75,.35),$t(80,1.5,.8)),jg=$t(),Xg=Wa($a("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Vg=Wa($a("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$g=Wa($a("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Wg=Wa($a("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Zg=Math.abs,Gg=Math.atan2,Qg=Math.cos,Jg=Math.max,Kg=Math.min,t_=Math.sin,n_=Math.sqrt,e_=1e-12,r_=Math.PI,i_=r_/2,o_=2*r_;ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var u_=pc(oc);hc.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var a_=Array.prototype.slice,c_={draw:function(t,n){var e=Math.sqrt(n/r_);t.moveTo(e,0),t.arc(0,0,e,0,o_)}},s_={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},f_=Math.sqrt(1/3),l_=2*f_,h_={draw:function(t,n){var e=Math.sqrt(n/l_),r=e*f_;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},p_=Math.sin(r_/10)/Math.sin(7*r_/10),d_=Math.sin(o_/10)*p_,v_=-Math.cos(o_/10)*p_,g_={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=d_*e,i=v_*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=o_*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},__={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},y_=Math.sqrt(3),m_={draw:function(t,n){var e=-Math.sqrt(n/(3*y_));t.moveTo(0,2*e),t.lineTo(-y_*e,-e),t.lineTo(y_*e,-e),t.closePath()}},x_=Math.sqrt(3)/2,b_=1/Math.sqrt(12),w_=3*(b_/2+1),M_={draw:function(t,n){var e=Math.sqrt(n/w_),r=e/2,i=e*b_,o=r,u=e*b_+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(-.5*r-x_*i,x_*r+-.5*i),t.lineTo(-.5*o-x_*u,x_*o+-.5*u),t.lineTo(-.5*a-x_*c,x_*a+-.5*c),t.lineTo(-.5*r+x_*i,-.5*i-x_*r),t.lineTo(-.5*o+x_*u,-.5*u-x_*o),t.lineTo(-.5*a+x_*c,-.5*c-x_*a),t.closePath()}},T_=[c_,s_,h_,__,g_,m_,M_];kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nc(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Sc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Nc(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Nc(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},Ac.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var N_=function t(n){function e(t){return 1===n?new kc(t):new Ac(t,n)}return e.beta=function(n){return t(+n)},e}(.85);zc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Cc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var k_=function t(n){function e(t){return new zc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Pc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Cc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var S_=function t(n){function e(t){return new Pc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Rc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var E_=function t(n){function e(t){return new Rc(t,n)}return e.tension=function(n){return t(+n)},e}(0);qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Lc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var A_=function t(n){function e(t){return n?new qc(t,n):new zc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Dc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Lc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var C_=function t(n){function e(t){return n?new Dc(t,n):new Pc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Uc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var z_=function t(n){function e(t){return n?new Uc(t,n):new Rc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Oc.prototype={areaStart:Tc,areaEnd:Tc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bc(this,this._t0,Yc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Bc(this,Yc(this,e=Ic(this,t,n)),e);break;default:Bc(this,this._t0,e=Ic(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(jc.prototype=Object.create(Hc.prototype)).point=function(t,n){Hc.prototype.point.call(this,n,t)},Xc.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=$c(t),i=$c(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}},rs.prototype={constructor:rs,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=as(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(os(this,e),e=(t=e).U),e.C=!1,r.C=!0,us(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(us(this,e),e=(t=e).U),e.C=!1,r.C=!0,os(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?as(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,os(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,us(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,os(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,us(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,os(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,us(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var P_,R_,L_,q_,D_,U_=[],O_=[],F_=1e-6,I_=1e-12;Ns.prototype={constructor:Ns,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return ds(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a=e.site,c=-1,s=n[i[o-1]],f=s.left===a?s.right:s.left;++c<o;)u=f,f=(s=n[i[c]]).left===a?s.right:s.left,u&&f&&r<u.index&&r<f.index&&Ms(a,u,f)<0&&t.push([a.data,u.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],s=n-i.site[1],f=c*c+s*s;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],s=n-a[1],l=c*c+s*s;l<f&&(f=l,u=a.index)}})}while(null!==u);return o._found=r,null==e||f<=e*e?i.site:null}},Ss.prototype={constructor:Ss,scale:function(t){return 1===t?this:new Ss(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Ss(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Y_=new Ss(1,0,0);Es.prototype=Ss.prototype,t.version="4.13.0",t.bisect=Os,t.bisectRight=Os,t.bisectLeft=Fs,t.ascending=n,t.bisector=e,t.cross=function(t,n,e){var i,o,u,a,c=t.length,s=n.length,f=new Array(c*s);for(null==e&&(e=r),i=u=0;i<c;++i)for(a=t[i],o=0;o<s;++o,++u)f[u]=e(a,n[o]);return f},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=u,t.extent=a,t.histogram=function(){function t(t){var i,o,u=t.length,a=new Array(u);for(i=0;i<u;++i)a[i]=n(t[i],i,t);var c=e(a),s=c[0],l=c[1],h=r(a,s,l);Array.isArray(h)||(h=p(s,l,h),h=f(Math.ceil(s/h)*h,Math.floor(l/h)*h,h));for(var d=h.length;h[0]<=s;)h.shift(),--d;for(;h[d-1]>l;)h.pop(),--d;var v,g=new Array(d+1);for(i=0;i<=d;++i)(v=g[i]=[]).x0=i>0?h[i-1]:s,v.x1=i<d?h[i]:l;for(i=0;i<u;++i)s<=(o=a[i])&&o<=l&&g[Os(h,o,0,d)].push(t[i]);return g}var n=s,e=a,r=d;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:c(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:c([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(r="function"==typeof n?n:Array.isArray(n)?c(Ys.call(n)):c(n),t):r},t},t.thresholdFreedmanDiaconis=function(t,e,r){return t=Bs.call(t,i).sort(n),Math.ceil((r-e)/(2*(v(t,.75)-v(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*u(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=d,t.max=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},t.mean=function(t,n){var e,r=t.length,o=r,u=-1,a=0;if(null==n)for(;++u<r;)isNaN(e=i(t[u]))?--o:a+=e;else for(;++u<r;)isNaN(e=i(n(t[u],u,t)))?--o:a+=e;if(o)return a/o},t.median=function(t,e){var r,o=t.length,u=-1,a=[];if(null==e)for(;++u<o;)isNaN(r=i(t[u]))||a.push(r);else for(;++u<o;)isNaN(r=i(e(t[u],u,t)))||a.push(r);return v(a.sort(n),.5)},t.merge=g,t.min=_,t.pairs=function(t,n){null==n&&(n=r);for(var e=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);e<i;)u[e]=n(o,o=t[++e]);return u},t.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},t.quantile=v,t.range=f,t.scan=function(t,e){if(r=t.length){var r,i,o=0,u=0,a=t[u];for(null==e&&(e=n);++o<r;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,u=o);return 0===e(a,a)?u:void 0}},t.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},t.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},t.ticks=l,t.tickIncrement=h,t.tickStep=p,t.transpose=y,t.variance=o,t.zip=function(){return y(arguments)},t.axisTop=function(t){return T($s,t)},t.axisRight=function(t){return T(Ws,t)},t.axisBottom=function(t){return T(Zs,t)},t.axisLeft=function(t){return T(Gs,t)},t.brush=function(){return Kn(oh)},t.brushX=function(){return Kn(rh)},t.brushY=function(){return Kn(ih)},t.brushSelection=function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},t.chord=function(){function t(t){var o,u,a,c,s,l,h=t.length,p=[],d=f(h),v=[],g=[],_=g.groups=new Array(h),y=new Array(h*h);for(o=0,s=-1;++s<h;){for(u=0,l=-1;++l<h;)u+=t[s][l];p.push(u),v.push(f(h)),o+=u}for(e&&d.sort(function(t,n){return e(p[t],p[n])}),r&&v.forEach(function(n,e){n.sort(function(n,i){return r(t[e][n],t[e][i])})}),c=(o=gh(0,vh-n*h)/o)?n:vh/h,u=0,s=-1;++s<h;){for(a=u,l=-1;++l<h;){var m=d[s],x=v[m][l],b=t[m][x],w=u,M=u+=b*o;y[x*h+m]={index:m,subindex:x,startAngle:w,endAngle:M,value:b}}_[m]={index:m,startAngle:a,endAngle:u,value:p[m]},u+=c}for(s=-1;++s<h;)for(l=s-1;++l<h;){var T=y[l*h+s],N=y[s*h+l];(T.value||N.value)&&g.push(T.value<N.value?{source:N,target:T}:{source:T,target:N})}return i?g.sort(i):g}var n=0,e=null,r=null,i=null;return t.padAngle=function(e){return arguments.length?(n=gh(0,e),t):n},t.sortGroups=function(n){return arguments.length?(e=n,t):e},t.sortSubgroups=function(n){return arguments.length?(r=n,t):r},t.sortChords=function(n){return arguments.length?(null==n?i=null:(i=function(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}(n))._=n,t):i&&i._},t},t.ribbon=function(){function t(){var t,a=_h.call(arguments),c=n.apply(this,a),s=e.apply(this,a),f=+r.apply(this,(a[0]=c,a)),l=i.apply(this,a)-dh,h=o.apply(this,a)-dh,p=f*lh(l),d=f*hh(l),v=+r.apply(this,(a[0]=s,a)),g=i.apply(this,a)-dh,_=o.apply(this,a)-dh;if(u||(u=t=ee()),u.moveTo(p,d),u.arc(0,0,f,l,h),l===g&&h===_||(u.quadraticCurveTo(0,0,v*lh(g),v*hh(g)),u.arc(0,0,v,g,_)),u.quadraticCurveTo(0,0,p,d),u.closePath(),t)return u=null,t+""||null}var n=re,e=ie,r=oe,i=ue,o=ae,u=null;return t.radius=function(n){return arguments.length?(r="function"==typeof n?n:te(+n),t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:te(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:te(+n),t):o},t.source=function(e){return arguments.length?(n=e,t):n},t.target=function(n){return arguments.length?(e=n,t):e},t.context=function(n){return arguments.length?(u=null==n?null:n,t):u},t},t.nest=function(){function t(n,i,u,a){if(i>=o.length)return null!=e&&n.sort(e),null!=r?r(n):n;for(var c,s,f,l=-1,h=n.length,p=o[i++],d=se(),v=u();++l<h;)(f=d.get(c=p(s=n[l])+""))?f.push(s):d.set(c,[s]);return d.each(function(n,e){a(v,e,t(n,i,u,a))}),v}function n(t,e){if(++e>o.length)return t;var i,a=u[e-1];return null!=r&&e>=o.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:n(t,e)})})),null!=a?i.sort(function(t,n){return a(t.key,n.key)}):i}var e,r,i,o=[],u=[];return i={object:function(n){return t(n,0,fe,le)},map:function(n){return t(n,0,he,pe)},entries:function(e){return n(t(e,0,he,pe),0)},key:function(t){return o.push(t),i},sortKeys:function(t){return u[o.length-1]=t,i},sortValues:function(t){return e=t,i},rollup:function(t){return r=t,i}}},t.set=ve,t.map=se,t.keys=function(t){var n=[];for(var e in t)n.push(e);return n},t.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},t.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},t.color=Et,t.rgb=Pt,t.hsl=qt,t.lab=Ft,t.hcl=Xt,t.cubehelix=$t,t.dispatch=N,t.drag=function(){function n(t){t.on("mousedown.drag",e).filter(g).on("touchstart.drag",o).on("touchmove.drag",u).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&p.apply(this,arguments)){var n=c("mouse",d.apply(this,arguments),pt,this,arguments);n&&(ct(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),_t(t.event.view),vt(),l=!1,s=t.event.clientX,f=t.event.clientY,n("start"))}}function r(){if(gt(),!l){var n=t.event.clientX-s,e=t.event.clientY-f;l=n*n+e*e>x}_.mouse("drag")}function i(){ct(t.event.view).on("mousemove.drag mouseup.drag",null),yt(t.event.view,l),gt(),_.mouse("end")}function o(){if(p.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=d.apply(this,arguments),o=r.length;for(n=0;n<o;++n)(e=c(r[n].identifier,i,dt,this,arguments))&&(vt(),e("start"))}}function u(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=_[r[n].identifier])&&(gt(),e("drag"))}function a(){var n,e,r=t.event.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),n=0;n<i;++n)(e=_[r[n].identifier])&&(vt(),e("end"))}function c(e,r,i,o,u){var a,c,s,f=i(r,e),l=y.copy();if(it(new xt(n,"beforestart",a,e,m,f[0],f[1],0,0,l),function(){return null!=(t.event.subject=a=v.apply(o,u))&&(c=a.x-f[0]||0,s=a.y-f[1]||0,!0)}))return function t(h){var p,d=f;switch(h){case"start":_[e]=t,p=m++;break;case"end":delete _[e],--m;case"drag":f=i(r,e),p=m}it(new xt(n,h,a,e,p,f[0]+c,f[1]+s,f[0]-d[0],f[1]-d[1],l),l.apply,l,[h,o,u])}}var s,f,l,h,p=bt,d=wt,v=Mt,g=Tt,_={},y=N("start","drag","end"),m=0,x=0;return n.filter=function(t){return arguments.length?(p="function"==typeof t?t:mt(!!t),n):p},n.container=function(t){return arguments.length?(d="function"==typeof t?t:mt(t),n):d},n.subject=function(t){return arguments.length?(v="function"==typeof t?t:mt(t),n):v},n.touchable=function(t){return arguments.length?(g="function"==typeof t?t:mt(!!t),n):g},n.on=function(){var t=y.on.apply(y,arguments);return t===y?n:t},n.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,n):Math.sqrt(x)},n},t.dragDisable=_t,t.dragEnable=yt,t.dsvFormat=_e,t.csvParse=Eh,t.csvParseRows=Ah,t.csvFormat=Ch,t.csvFormatRows=zh,t.tsvParse=Rh,t.tsvParseRows=Lh,t.tsvFormat=qh,t.tsvFormatRows=Dh,t.easeLinear=function(t){return+t},t.easeQuad=On,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=On,t.easeCubic=Fn,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=Fn,t.easePoly=zl,t.easePolyIn=Al,t.easePolyOut=Cl,t.easePolyInOut=zl,t.easeSin=In,t.easeSinIn=function(t){return 1-Math.cos(t*Rl)},t.easeSinOut=function(t){return Math.sin(t*Rl)},t.easeSinInOut=In,t.easeExp=Yn,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=Yn,t.easeCircle=Bn,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=Bn,t.easeBounce=Hn,t.easeBounceIn=function(t){return 1-Hn(1-t)},t.easeBounceOut=Hn,t.easeBounceInOut=function(t){return((t*=2)<=1?1-Hn(1-t):Hn(t-1)+1)/2},t.easeBack=Vl,t.easeBackIn=jl,t.easeBackOut=Xl,t.easeBackInOut=Vl,t.easeElastic=Zl,t.easeElasticIn=Wl,t.easeElasticOut=Zl,t.easeElasticInOut=Gl,t.forceCenter=function(t,n){function e(){var e,i,o=r.length,u=0,a=0;for(e=0;e<o;++e)u+=(i=r[e]).x,a+=i.y;for(u=u/o-t,a=a/o-n,e=0;e<o;++e)(i=r[e]).x-=u,i.y-=a}var r;return null==t&&(t=0),null==n&&(n=0),e.initialize=function(t){r=t},e.x=function(n){return arguments.length?(t=+n,e):t},e.y=function(t){return arguments.length?(n=+t,e):n},e},t.forceCollide=function(t){function n(){for(var t,n,r,c,s,f,l,h=i.length,p=0;p<a;++p)for(n=Te(i,Se,Ee).visitAfter(e),t=0;t<h;++t)r=i[t],f=o[r.index],l=f*f,c=r.x+r.vx,s=r.y+r.vy,n.visit(function(t,n,e,i,o){var a=t.data,h=t.r,p=f+h;if(!a)return n>c+p||i<c-p||e>s+p||o<s-p;if(a.index>r.index){var d=c-a.x-a.vx,v=s-a.y-a.vy,g=d*d+v*v;g<p*p&&(0===d&&(d=me(),g+=d*d),0===v&&(v=me(),g+=v*v),g=(p-(g=Math.sqrt(g)))/g*u,r.vx+=(d*=g)*(p=(h*=h)/(l+h)),r.vy+=(v*=g)*p,a.vx-=d*(p=1-p),a.vy-=v*p)}})}function e(t){if(t.data)return t.r=o[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function r(){if(i){var n,e,r=i.length;for(o=new Array(r),n=0;n<r;++n)e=i[n],o[e.index]=+t(e,n,i)}}var i,o,u=1,a=1;return"function"!=typeof t&&(t=ye(null==t?1:+t)),n.initialize=function(t){i=t,r()},n.iterations=function(t){return arguments.length?(a=+t,n):a},n.strength=function(t){return arguments.length?(u=+t,n):u},n.radius=function(e){return arguments.length?(t="function"==typeof e?e:ye(+e),r(),n):t},n},t.forceLink=function(t){function n(n){for(var e=0,r=t.length;e<p;++e)for(var i,a,c,f,l,h,d,v=0;v<r;++v)a=(i=t[v]).source,f=(c=i.target).x+c.vx-a.x-a.vx||me(),l=c.y+c.vy-a.y-a.vy||me(),f*=h=((h=Math.sqrt(f*f+l*l))-u[v])/h*n*o[v],l*=h,c.vx-=f*(d=s[v]),c.vy-=l*d,a.vx+=f*(d=1-d),a.vy+=l*d}function e(){if(a){var n,e,l=a.length,h=t.length,p=se(a,f);for(n=0,c=new Array(l);n<h;++n)(e=t[n]).index=n,"object"!=typeof e.source&&(e.source=Ce(p,e.source)),"object"!=typeof e.target&&(e.target=Ce(p,e.target)),c[e.source.index]=(c[e.source.index]||0)+1,c[e.target.index]=(c[e.target.index]||0)+1;for(n=0,s=new Array(h);n<h;++n)e=t[n],s[n]=c[e.source.index]/(c[e.source.index]+c[e.target.index]);o=new Array(h),r(),u=new Array(h),i()}}function r(){if(a)for(var n=0,e=t.length;n<e;++n)o[n]=+l(t[n],n,t)}function i(){if(a)for(var n=0,e=t.length;n<e;++n)u[n]=+h(t[n],n,t)}var o,u,a,c,s,f=Ae,l=function(t){return 1/Math.min(c[t.source.index],c[t.target.index])},h=ye(30),p=1;return null==t&&(t=[]),n.initialize=function(t){a=t,e()},n.links=function(r){return arguments.length?(t=r,e(),n):t},n.id=function(t){return arguments.length?(f=t,n):f},n.iterations=function(t){return arguments.length?(p=+t,n):p},n.strength=function(t){return arguments.length?(l="function"==typeof t?t:ye(+t),r(),n):l},n.distance=function(t){return arguments.length?(h="function"==typeof t?t:ye(+t),i(),n):h},n},t.forceManyBody=function(){function t(t){var n,a=i.length,c=Te(i,ze,Pe).visitAfter(e);for(u=t,n=0;n<a;++n)o=i[n],c.visit(r)}function n(){if(i){var t,n,e=i.length;for(a=new Array(e),t=0;t<e;++t)n=i[t],a[n.index]=+c(n,t,i)}}function e(t){var n,e,r,i,o,u=0,c=0;if(t.length){for(r=i=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(u+=n.value,c+=e,r+=e*n.x,i+=e*n.y);t.x=r/c,t.y=i/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=a[n.data.index]}while(n=n.next)}t.value=u}function r(t,n,e,r){if(!t.value)return!0;var i=t.x-o.x,c=t.y-o.y,h=r-n,p=i*i+c*c;if(h*h/l<p)return p<f&&(0===i&&(i=me(),p+=i*i),0===c&&(c=me(),p+=c*c),p<s&&(p=Math.sqrt(s*p)),o.vx+=i*t.value*u/p,o.vy+=c*t.value*u/p),!0;if(!(t.length||p>=f)){(t.data!==o||t.next)&&(0===i&&(i=me(),p+=i*i),0===c&&(c=me(),p+=c*c),p<s&&(p=Math.sqrt(s*p)));do{t.data!==o&&(h=a[t.data.index]*u/p,o.vx+=i*h,o.vy+=c*h)}while(t=t.next)}}var i,o,u,a,c=ye(-30),s=1,f=1/0,l=.81;return t.initialize=function(t){i=t,n()},t.strength=function(e){return arguments.length?(c="function"==typeof e?e:ye(+e),n(),t):c},t.distanceMin=function(n){return arguments.length?(s=n*n,t):Math.sqrt(s)},t.distanceMax=function(n){return arguments.length?(f=n*n,t):Math.sqrt(f)},t.theta=function(n){return arguments.length?(l=n*n,t):Math.sqrt(l)},t},t.forceRadial=function(t,n,e){function r(t){for(var r=0,i=o.length;r<i;++r){var c=o[r],s=c.x-n||1e-6,f=c.y-e||1e-6,l=Math.sqrt(s*s+f*f),h=(a[r]-l)*u[r]*t/l;c.vx+=s*h,c.vy+=f*h}}function i(){if(o){var n,e=o.length;for(u=new Array(e),a=new Array(e),n=0;n<e;++n)a[n]=+t(o[n],n,o),u[n]=isNaN(a[n])?0:+c(o[n],n,o)}}var o,u,a,c=ye(.1);return"function"!=typeof t&&(t=ye(+t)),null==n&&(n=0),null==e&&(e=0),r.initialize=function(t){o=t,i()},r.strength=function(t){return arguments.length?(c="function"==typeof t?t:ye(+t),i(),r):c},r.radius=function(n){return arguments.length?(t="function"==typeof n?n:ye(+n),i(),r):t},r.x=function(t){return arguments.length?(n=+t,r):n},r.y=function(t){return arguments.length?(e=+t,r):e},r},t.forceSimulation=function(t){function n(){e(),p.call("tick",o),u<a&&(h.stop(),p.call("end",o))}function e(){var n,e,r=t.length;for(u+=(s-u)*c,l.each(function(t){t(u)}),n=0;n<r;++n)null==(e=t[n]).fx?e.x+=e.vx*=f:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=f:(e.y=e.fy,e.vy=0)}function r(){for(var n,e=0,r=t.length;e<r;++e){if(n=t[e],n.index=e,isNaN(n.x)||isNaN(n.y)){var i=Fh*Math.sqrt(e),o=e*Ih;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function i(n){return n.initialize&&n.initialize(t),n}var o,u=1,a=.001,c=1-Math.pow(a,1/300),s=0,f=.6,l=se(),h=wn(n),p=N("tick","end");return null==t&&(t=[]),r(),o={tick:e,restart:function(){return h.restart(n),o},stop:function(){return h.stop(),o},nodes:function(n){return arguments.length?(t=n,r(),l.each(i),o):t},alpha:function(t){return arguments.length?(u=+t,o):u},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(c=+t,o):+c},alphaTarget:function(t){return arguments.length?(s=+t,o):s},velocityDecay:function(t){return arguments.length?(f=1-t,o):1-f},force:function(t,n){return arguments.length>1?(null==n?l.remove(t):l.set(t,i(n)),o):l.get(t)},find:function(n,e,r){var i,o,u,a,c,s=0,f=t.length;for(null==r?r=1/0:r*=r,s=0;s<f;++s)(u=(i=n-(a=t[s]).x)*i+(o=e-a.y)*o)<r&&(c=a,r=u);return c},on:function(t,n){return arguments.length>1?(p.on(t,n),o):p.on(t)}}},t.forceX=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)(n=r[e]).vx+=(o[e]-n.x)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ye(.1);return"function"!=typeof t&&(t=ye(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ye(+t),e(),n):u},n.x=function(r){return arguments.length?(t="function"==typeof r?r:ye(+r),e(),n):t},n},t.forceY=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)(n=r[e]).vy+=(o[e]-n.y)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ye(.1);return"function"!=typeof t&&(t=ye(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ye(+t),e(),n):u},n.y=function(r){return arguments.length?(t="function"==typeof r?r:ye(+r),e(),n):t},n},t.formatDefaultLocale=Ie,t.formatLocale=Fe,t.formatSpecifier=De,t.precisionFixed=Ye,t.precisionPrefix=Be,t.precisionRound=He,t.geoArea=function(t){return Vp.reset(),tr(t,$p),2*Vp},t.geoBounds=function(t){var n,e,r,i,o,u,a;if(Kh=Jh=-(Gh=Qh=1/0),ip=[],tr(t,Zp),e=ip.length){for(ip.sort(xr),n=1,o=[r=ip[0]];n<e;++n)br(r,(i=ip[n])[0])||br(r,i[1])?(mr(r[0],i[1])>mr(r[0],r[1])&&(r[1]=i[1]),mr(i[0],r[1])>mr(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(a=mr(r[1],i[0]))>u&&(u=a,Gh=i[0],Jh=r[1])}return ip=op=null,Gh===1/0||Qh===1/0?[[NaN,NaN],[NaN,NaN]]:[[Gh,Qh],[Jh,Kh]]},t.geoCentroid=function(t){up=ap=cp=sp=fp=lp=hp=pp=dp=vp=gp=0,tr(t,Gp);var n=dp,e=vp,r=gp,i=n*n+e*e+r*r;return i<Tp&&(n=lp,e=hp,r=pp,ap<Mp&&(n=cp,e=sp,r=fp),(i=n*n+e*e+r*r)<Tp)?[NaN,NaN]:[Rp(e,n)*Ap,We(r/Yp(i))*Ap]},t.geoCircle=function(){function t(){var t=r.apply(this,arguments),a=i.apply(this,arguments)*Cp,c=o.apply(this,arguments)*Cp;return n=[],e=qr(-t[0]*Cp,-t[1]*Cp,0).invert,Ir(u,a,c,1),t={type:"Polygon",coordinates:[n]},n=e=null,t}var n,e,r=Pr([0,0]),i=Pr(90),o=Pr(6),u={point:function(t,r){n.push(t=e(t,r)),t[0]*=Ap,t[1]*=Ap}};return t.center=function(n){return arguments.length?(r="function"==typeof n?n:Pr([+n[0],+n[1]]),t):r},t.radius=function(n){return arguments.length?(i="function"==typeof n?n:Pr(+n),t):i},t.precision=function(n){return arguments.length?(o="function"==typeof n?n:Pr(+n),t):o},t},t.geoClipAntimeridian=sd,t.geoClipCircle=Qr,t.geoClipExtent=function(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=Jr(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}},t.geoClipRectangle=Jr,t.geoContains=function(t,n){return(t&&gd.hasOwnProperty(t.type)?gd[t.type]:ii)(t,n)},t.geoDistance=ri,t.geoGraticule=hi,t.geoGraticule10=function(){return hi()()},t.geoInterpolate=function(t,n){var e=t[0]*Cp,r=t[1]*Cp,i=n[0]*Cp,o=n[1]*Cp,u=Lp(r),a=Fp(r),c=Lp(o),s=Fp(o),f=u*Lp(e),l=u*Fp(e),h=c*Lp(i),p=c*Fp(i),d=2*We(Yp(Ze(o-r)+u*c*Ze(i-e))),v=Fp(d),g=d?function(t){var n=Fp(t*=d)/v,e=Fp(d-t)/v,r=e*f+n*h,i=e*l+n*p,o=e*a+n*s;return[Rp(i,r)*Ap,Rp(o,Yp(r*r+i*i))*Ap]}:function(){return[e*Ap,r*Ap]};return g.distance=d,g},t.geoLength=ei,t.geoPath=function(t,n){function e(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),tr(t,r(i))),i.result()}var r,i,o=4.5;return e.area=function(t){return tr(t,r(xd)),xd.result()},e.measure=function(t){return tr(t,r(Bd)),Bd.result()},e.bounds=function(t){return tr(t,r(Nd)),Nd.result()},e.centroid=function(t){return tr(t,r(qd)),qd.result()},e.projection=function(n){return arguments.length?(r=null==n?(t=null,pi):(t=n).stream,e):t},e.context=function(t){return arguments.length?(i=null==t?(n=null,new Ci):new Si(n=t),"function"!=typeof o&&i.pointRadius(o),e):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),e):o},e.projection(t).context(n)},t.geoAlbers=Xi,t.geoAlbersUsa=function(){function t(t){var n=t[0],e=t[1];return a=null,i.point(n,e),a||(o.point(n,e),a)||(u.point(n,e),a)}function n(){return e=r=null,t}var e,r,i,o,u,a,c=Xi(),s=ji().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=ji().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){a=[t,n]}};return t.invert=function(t){var n=c.scale(),e=c.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:c).invert(t)},t.stream=function(t){return e&&r===t?e:e=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([c.stream(r=t),s.stream(t),f.stream(t)])},t.precision=function(t){return arguments.length?(c.precision(t),s.precision(t),f.precision(t),n()):c.precision()},t.scale=function(n){return arguments.length?(c.scale(n),s.scale(.35*n),f.scale(n),t.translate(c.translate())):c.scale()},t.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),r=+t[0],a=+t[1];return i=c.translate(t).clipExtent([[r-.455*e,a-.238*e],[r+.455*e,a+.238*e]]).stream(l),o=s.translate([r-.307*e,a+.201*e]).clipExtent([[r-.425*e+Mp,a+.12*e+Mp],[r-.214*e-Mp,a+.234*e-Mp]]).stream(l),u=f.translate([r-.205*e,a+.212*e]).clipExtent([[r-.214*e+Mp,a+.166*e+Mp],[r-.115*e-Mp,a+.234*e-Mp]]).stream(l),n()},t.fitExtent=function(n,e){return qi(t,n,e)},t.fitSize=function(n,e){return Di(t,n,e)},t.fitWidth=function(n,e){return Ui(t,n,e)},t.fitHeight=function(n,e){return Oi(t,n,e)},t.scale(1070)},t.geoAzimuthalEqualArea=function(){return Ii(Vd).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=Vd,t.geoAzimuthalEquidistant=function(){return Ii($d).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=$d,t.geoConicConformal=function(){return Bi(Qi).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=Qi,t.geoConicEqualArea=ji,t.geoConicEqualAreaRaw=Hi,t.geoConicEquidistant=function(){return Bi(Ki).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Ki,t.geoEquirectangular=function(){return Ii(Ji).scale(152.63)},t.geoEquirectangularRaw=Ji,t.geoGnomonic=function(){return Ii(to).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=to,t.geoIdentity=function(){function t(){return i=o=null,u}var n,e,r,i,o,u,a=1,c=0,s=0,f=1,l=1,h=pi,p=null,d=pi;return u={stream:function(t){return i&&o===t?i:i=h(d(o=t))},postclip:function(i){return arguments.length?(d=i,p=n=e=r=null,t()):d},clipExtent:function(i){return arguments.length?(d=null==i?(p=n=e=r=null,pi):Jr(p=+i[0][0],n=+i[0][1],e=+i[1][0],r=+i[1][1]),t()):null==p?null:[[p,n],[e,r]]},scale:function(n){return arguments.length?(h=no((a=+n)*f,a*l,c,s),t()):a},translate:function(n){return arguments.length?(h=no(a*f,a*l,c=+n[0],s=+n[1]),t()):[c,s]},reflectX:function(n){return arguments.length?(h=no(a*(f=n?-1:1),a*l,c,s),t()):f<0},reflectY:function(n){return arguments.length?(h=no(a*f,a*(l=n?-1:1),c,s),t()):l<0},fitExtent:function(t,n){return qi(u,t,n)},fitSize:function(t,n){return Di(u,t,n)},fitWidth:function(t,n){return Ui(u,t,n)},fitHeight:function(t,n){return Oi(u,t,n)}}},t.geoProjection=Ii,t.geoProjectionMutator=Yi,t.geoMercator=function(){return Zi(Wi).scale(961/Ep)},t.geoMercatorRaw=Wi,t.geoNaturalEarth1=function(){return Ii(eo).scale(175.295)},t.geoNaturalEarth1Raw=eo,t.geoOrthographic=function(){return Ii(ro).scale(249.5).clipAngle(90+Mp)},t.geoOrthographicRaw=ro,t.geoStereographic=function(){return Ii(io).scale(250).clipAngle(142)},t.geoStereographicRaw=io,t.geoTransverseMercator=function(){var t=Zi(oo),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=oo,t.geoRotation=Fr,t.geoStream=tr,t.geoTransform=function(t){return{stream:Pi(t)}},t.cluster=function(){function t(t){var o,u=0;t.eachAfter(function(t){var e=t.children;e?(t.x=function(t){return t.reduce(ao,0)/t.length}(e),t.y=function(t){return 1+t.reduce(co,0)}(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var a=function(t){for(var n;n=t.children;)t=n[0];return t}(t),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(t),s=a.x-n(a,c)/2,f=c.x+n(c,a)/2;return t.eachAfter(i?function(n){n.x=(n.x-t.x)*e,n.y=(t.y-n.y)*r}:function(n){n.x=(n.x-s)/(f-s)*e,n.y=(1-(t.y?n.y/t.y:1))*r})}var n=uo,e=1,r=1,i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(n){return arguments.length?(i=!1,e=+n[0],r=+n[1],t):i?null:[e,r]},t.nodeSize=function(n){return arguments.length?(i=!0,e=+n[0],r=+n[1],t):i?[e,r]:null},t},t.hierarchy=fo,t.pack=function(){function t(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(zo(n)).eachAfter(Po(i,.5)).eachBefore(Ro(1)):t.eachBefore(zo(Co)).eachAfter(Po(Eo,1)).eachAfter(Po(i,t.r/Math.min(e,r))).eachBefore(Ro(Math.min(e,r)/(2*t.r))),t}var n=null,e=1,r=1,i=Eo;return t.radius=function(e){return arguments.length?(n=function(t){return null==t?null:So(t)}(e),t):n},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i="function"==typeof n?n:Ao(+n),t):i},t},t.packSiblings=function(t){return ko(t),t},t.packEnclose=go,t.partition=function(){function t(t){var o=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=e/o,t.eachBefore(function(t,n){return function(e){e.children&&qo(e,e.x0,t*(e.depth+1)/n,e.x1,t*(e.depth+2)/n);var i=e.x0,o=e.y0,u=e.x1-r,a=e.y1-r;u<i&&(i=u=(i+u)/2),a<o&&(o=a=(o+a)/2),e.x0=i,e.y0=o,e.x1=u,e.y1=a}}(e,o)),i&&t.eachBefore(Lo),t}var n=1,e=1,r=0,i=!1;return t.round=function(n){return arguments.length?(i=!!n,t):i},t.size=function(r){return arguments.length?(n=+r[0],e=+r[1],t):[n,e]},t.padding=function(n){return arguments.length?(r=+n,t):r},t},t.stratify=function(){function t(t){var r,i,o,u,a,c,s,f=t.length,l=new Array(f),h={};for(i=0;i<f;++i)r=t[i],a=l[i]=new vo(r),null!=(c=n(r,i,t))&&(c+="")&&(h[s=Zd+(a.id=c)]=s in h?Qd:a);for(i=0;i<f;++i)if(a=l[i],null!=(c=e(t[i],i,t))&&(c+="")){if(!(u=h[Zd+c]))throw new Error("missing: "+c);if(u===Qd)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Gd,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(po),o.parent=null,f>0)throw new Error("cycle");return o}var n=Do,e=Uo;return t.id=function(e){return arguments.length?(n=So(e),t):n},t.parentId=function(n){return arguments.length?(e=So(n),t):e},t},t.tree=function(){function t(t){var c=function(t){for(var n,e,r,i,o,u=new Ho(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new Ho(r[i],i)),e.parent=n;return(u.parent=new Ho(null,0)).children=[u],u}(t);if(c.eachAfter(n),c.parent.m=-c.z,c.eachBefore(e),a)t.eachBefore(r);else{var s=t,f=t,l=t;t.eachBefore(function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)});var h=s===f?1:i(s,f)/2,p=h-s.x,d=o/(f.x+h+p),v=u/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*v})}return t}function n(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n){(function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)})(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+i(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+i(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,o=t,u=t,a=n,c=o.parent.children[0],s=o.m,f=u.m,l=a.m,h=c.m;a=Io(a),o=Fo(o),a&&o;)c=Fo(c),(u=Io(u)).a=t,(r=a.z+l-o.z-s+i(a._,o._))>0&&(Yo(Bo(a,t,e),t,r),s+=r,f+=r),l+=a.m,s+=o.m,h+=c.m,f+=u.m;a&&!Io(u)&&(u.t=a,u.m+=l-f),o&&!Fo(c)&&(c.t=o,c.m+=s-h,e=t)}return e}(t,r,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t){t.x*=o,t.y=t.depth*u}var i=Oo,o=1,u=1,a=null;return t.separation=function(n){return arguments.length?(i=n,t):i},t.size=function(n){return arguments.length?(a=!1,o=+n[0],u=+n[1],t):a?null:[o,u]},t.nodeSize=function(n){return arguments.length?(a=!0,o=+n[0],u=+n[1],t):a?[o,u]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(n),u=[0],r&&t.eachBefore(Lo),t}function n(t){var n=u[t.depth],r=t.x0+n,i=t.y0+n,o=t.x1-n,h=t.y1-n;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(n=u[t.depth+1]=a(t)/2,r+=l(t)-n,i+=c(t)-n,o-=s(t)-n,h-=f(t)-n,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),e(t,r,i,o,h))}var e=Kd,r=!1,i=1,o=1,u=[0],a=Eo,c=Eo,s=Eo,f=Eo,l=Eo;return t.round=function(n){return arguments.length?(r=!!n,t):r},t.size=function(n){return arguments.length?(i=+n[0],o=+n[1],t):[i,o]},t.tile=function(n){return arguments.length?(e=So(n),t):e},t.padding=function(n){return arguments.length?t.paddingInner(n).paddingOuter(n):t.paddingInner()},t.paddingInner=function(n){return arguments.length?(a="function"==typeof n?n:Ao(+n),t):a},t.paddingOuter=function(n){return arguments.length?t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):t.paddingTop()},t.paddingTop=function(n){return arguments.length?(c="function"==typeof n?n:Ao(+n),t):c},t.paddingRight=function(n){return arguments.length?(s="function"==typeof n?n:Ao(+n),t):s},t.paddingBottom=function(n){return arguments.length?(f="function"==typeof n?n:Ao(+n),t):f},t.paddingLeft=function(n){return arguments.length?(l="function"==typeof n?n:Ao(+n),t):l},t},t.treemapBinary=function(t,n,e,r,i){function o(t,n,e,r,i,u,a){if(t>=n-1){var s=c[t];return s.x0=r,s.y0=i,s.x1=u,void(s.y1=a)}for(var l=f[t],h=e/2+l,p=t+1,d=n-1;p<d;){var v=p+d>>>1;f[v]<h?p=v+1:d=v}h-f[p-1]<f[p]-h&&t+1<p&&--p;var g=f[p]-l,_=e-g;if(u-r>a-i){var y=(r*_+u*g)/e;o(t,p,g,r,i,y,a),o(p,n,_,y,i,u,a)}else{var m=(i*_+a*g)/e;o(t,p,g,r,i,u,m),o(p,n,_,r,m,u,a)}}var u,a,c=t.children,s=c.length,f=new Array(s+1);for(f[0]=a=u=0;u<s;++u)f[u+1]=a+=c[u].value;o(0,s,t.value,n,e,r,i)},t.treemapDice=qo,t.treemapSlice=jo,t.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?jo:qo)(t,n,e,r,i)},t.treemapSquarify=Kd,t.treemapResquarify=tv,t.interpolate=fn,t.interpolateArray=on,t.interpolateBasis=Gt,t.interpolateBasisClosed=Qt,t.interpolateDate=un,t.interpolateNumber=an,t.interpolateObject=cn,t.interpolateRound=ln,t.interpolateString=sn,t.interpolateTransformCss=Gf,t.interpolateTransformSvg=Qf,t.interpolateZoom=vn,t.interpolateRgb=Hf,t.interpolateRgbBasis=jf,t.interpolateRgbBasisClosed=Xf,t.interpolateHsl=el,t.interpolateHslLong=rl,t.interpolateLab=function(t,n){var e=en((t=Ft(t)).l,(n=Ft(n)).l),r=en(t.a,n.a),i=en(t.b,n.b),o=en(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},t.interpolateHcl=il,t.interpolateHclLong=ol,t.interpolateCubehelix=ul,t.interpolateCubehelixLong=al,t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},t.path=ee,t.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return c*=3,[o/c,u/c]},t.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort($o),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Wo(r),u=Wo(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)s.push(t[r[u[n]][2]]);return s},t.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>a!=s>a&&u<(c-e)*(a-r)/(s-r)+e&&(f=!f),c=e,s=r;return f},t.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,n-=u=(o=t[r])[0],e-=a=o[1],c+=Math.sqrt(n*n+e*e);return c},t.quadtree=Te,t.queue=Ko,t.randomUniform=rv,t.randomNormal=iv,t.randomLogNormal=ov,t.randomBates=av,t.randomIrwinHall=uv,t.randomExponential=cv,t.request=nu,t.html=sv,t.json=fv,t.text=lv,t.xml=hv,t.csv=pv,t.tsv=dv,t.scaleBand=ou,t.scalePoint=function(){return uu(ou().paddingInner(1))},t.scaleIdentity=gu,t.scaleLinear=vu,t.scaleLog=Tu,t.scaleOrdinal=iu,t.scaleImplicit=yv,t.scalePow=ku,t.scaleSqrt=function(){return ku().exponent(.5)},t.scaleQuantile=Su,t.scaleQuantize=Eu,t.scaleThreshold=Au,t.scaleTime=function(){return Va(Gv,Wv,Lv,Pv,Cv,Ev,kv,wv,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return Va(xg,yg,ig,eg,tg,Jv,kv,wv,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=Ug,t.schemeCategory20b=Og,t.schemeCategory20c=Fg,t.schemeCategory20=Ig,t.interpolateCubehelixDefault=Yg,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return jg.h=360*t-100,jg.s=1.5-1.5*n,jg.l=.8-.9*n,jg+""},t.interpolateWarm=Bg,t.interpolateCool=Hg,t.interpolateViridis=Xg,t.interpolateMagma=Vg,t.interpolateInferno=$g,t.interpolatePlasma=Wg,t.scaleSequential=Za,t.create=function(t){return ct(A(t).call(document.documentElement))},t.creator=A,t.local=st,t.matcher=of,t.mouse=pt,t.namespace=E,t.namespaces=tf,t.clientPoint=ht,t.select=ct,t.selectAll=function(t){return"string"==typeof t?new ut([document.querySelectorAll(t)],[document.documentElement]):new ut([null==t?[]:t],cf)},t.selection=at,t.selector=z,t.selectorAll=R,t.style=I,t.touch=dt,t.touches=function(t,n){null==n&&(n=lt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=ht(t,n[e]);return i},t.window=F,t.customEvent=it,t.arc=function(){function t(){var t,s,f=+n.apply(this,arguments),l=+e.apply(this,arguments),h=o.apply(this,arguments)-i_,p=u.apply(this,arguments)-i_,d=Zg(p-h),v=p>h;if(c||(c=t=ee()),l<f&&(s=l,l=f,f=s),l>e_)if(d>o_-e_)c.moveTo(l*Qg(h),l*t_(h)),c.arc(0,0,l,h,p,!v),f>e_&&(c.moveTo(f*Qg(p),f*t_(p)),c.arc(0,0,f,p,h,v));else{var g,_,y=h,m=p,x=h,b=p,w=d,M=d,T=a.apply(this,arguments)/2,N=T>e_&&(i?+i.apply(this,arguments):n_(f*f+l*l)),k=Kg(Zg(l-f)/2,+r.apply(this,arguments)),S=k,E=k;if(N>e_){var A=Qa(N/f*t_(T)),C=Qa(N/l*t_(T));(w-=2*A)>e_?(A*=v?1:-1,x+=A,b-=A):(w=0,x=b=(h+p)/2),(M-=2*C)>e_?(C*=v?1:-1,y+=C,m-=C):(M=0,y=m=(h+p)/2)}var z=l*Qg(y),P=l*t_(y),R=f*Qg(b),L=f*t_(b);if(k>e_){var q=l*Qg(m),D=l*t_(m),U=f*Qg(x),O=f*t_(x);if(d<r_){var F=w>e_?function(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,f=u-i,l=a-o,h=(f*(n-o)-l*(t-i))/(l*c-f*s);return[t+h*c,n+h*s]}(z,P,U,O,q,D,R,L):[R,L],I=z-F[0],Y=P-F[1],B=q-F[0],H=D-F[1],j=1/t_(function(t){return t>1?0:t<-1?r_:Math.acos(t)}((I*B+Y*H)/(n_(I*I+Y*Y)*n_(B*B+H*H)))/2),X=n_(F[0]*F[0]+F[1]*F[1]);S=Kg(k,(f-X)/(j-1)),E=Kg(k,(l-X)/(j+1))}}M>e_?E>e_?(g=rc(U,O,z,P,l,E,v),_=rc(q,D,R,L,l,E,v),c.moveTo(g.cx+g.x01,g.cy+g.y01),E<k?c.arc(g.cx,g.cy,E,Gg(g.y01,g.x01),Gg(_.y01,_.x01),!v):(c.arc(g.cx,g.cy,E,Gg(g.y01,g.x01),Gg(g.y11,g.x11),!v),c.arc(0,0,l,Gg(g.cy+g.y11,g.cx+g.x11),Gg(_.cy+_.y11,_.cx+_.x11),!v),c.arc(_.cx,_.cy,E,Gg(_.y11,_.x11),Gg(_.y01,_.x01),!v))):(c.moveTo(z,P),c.arc(0,0,l,y,m,!v)):c.moveTo(z,P),f>e_&&w>e_?S>e_?(g=rc(R,L,q,D,f,-S,v),_=rc(z,P,U,O,f,-S,v),c.lineTo(g.cx+g.x01,g.cy+g.y01),S<k?c.arc(g.cx,g.cy,S,Gg(g.y01,g.x01),Gg(_.y01,_.x01),!v):(c.arc(g.cx,g.cy,S,Gg(g.y01,g.x01),Gg(g.y11,g.x11),!v),c.arc(0,0,f,Gg(g.cy+g.y11,g.cx+g.x11),Gg(_.cy+_.y11,_.cx+_.x11),v),c.arc(_.cx,_.cy,S,Gg(_.y11,_.x11),Gg(_.y01,_.x01),!v))):c.arc(0,0,f,b,x,v):c.lineTo(R,L)}else c.moveTo(0,0);if(c.closePath(),t)return c=null,t+""||null}var n=Ja,e=Ka,r=Ga(0),i=null,o=tc,u=nc,a=ec,c=null;return t.centroid=function(){var t=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-r_/2;return[Qg(r)*t,t_(r)*t]},t.innerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),t):n},t.outerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.cornerRadius=function(n){return arguments.length?(r="function"==typeof n?n:Ga(+n),t):r},t.padRadius=function(n){return arguments.length?(i=null==n?null:"function"==typeof n?n:Ga(+n),t):i},t.startAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ga(+n),t):o},t.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ga(+n),t):u},t.padAngle=function(n){return arguments.length?(a="function"==typeof n?n:Ga(+n),t):a},t.context=function(n){return arguments.length?(c=null==n?null:n,t):c},t},t.area=sc,t.line=cc,t.pie=function(){function t(t){var a,c,s,f,l,h=t.length,p=0,d=new Array(h),v=new Array(h),g=+i.apply(this,arguments),_=Math.min(o_,Math.max(-o_,o.apply(this,arguments)-g)),y=Math.min(Math.abs(_)/h,u.apply(this,arguments)),m=y*(_<0?-1:1);for(a=0;a<h;++a)(l=v[d[a]=a]=+n(t[a],a,t))>0&&(p+=l);for(null!=e?d.sort(function(t,n){return e(v[t],v[n])}):null!=r&&d.sort(function(n,e){return r(t[n],t[e])}),a=0,s=p?(_-h*m)/p:0;a<h;++a,g=f)c=d[a],f=g+((l=v[c])>0?l*s:0)+m,v[c]={data:t[c],index:a,value:l,startAngle:g,endAngle:f,padAngle:y};return v}var n=lc,e=fc,r=null,i=Ga(0),o=Ga(o_),u=Ga(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:Ga(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,r=null,t):e},t.sort=function(n){return arguments.length?(r=n,e=null,t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ga(+n),t):o},t.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ga(+n),t):u},t},t.areaRadial=gc,t.radialArea=gc,t.lineRadial=vc,t.radialLine=vc,t.pointRadial=_c,t.linkHorizontal=function(){return xc(bc)},t.linkVertical=function(){return xc(wc)},t.linkRadial=function(){var t=xc(Mc);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(r||(r=t=ee()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}var n=Ga(c_),e=Ga(64),r=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:Ga(e),t):n},t.size=function(n){return arguments.length?(e="function"==typeof n?n:Ga(+n),t):e},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},t.symbols=T_,t.symbolCircle=c_,t.symbolCross=s_,t.symbolDiamond=h_,t.symbolSquare=__,t.symbolStar=g_,t.symbolTriangle=m_,t.symbolWye=M_,t.curveBasisClosed=function(t){return new Sc(t)},t.curveBasisOpen=function(t){return new Ec(t)},t.curveBasis=function(t){return new kc(t)},t.curveBundle=N_,t.curveCardinalClosed=S_,t.curveCardinalOpen=E_,t.curveCardinal=k_,t.curveCatmullRomClosed=C_,t.curveCatmullRomOpen=z_,t.curveCatmullRom=A_,t.curveLinearClosed=function(t){return new Oc(t)},t.curveLinear=oc,t.curveMonotoneX=function(t){return new Hc(t)},t.curveMonotoneY=function(t){return new jc(t)},t.curveNatural=function(t){return new Vc(t)},t.curveStep=function(t){return new Wc(t,.5)},t.curveStepAfter=function(t){return new Wc(t,1)},t.curveStepBefore=function(t){return new Wc(t,0)},t.stack=function(){function t(t){var o,u,a=n.apply(this,arguments),c=t.length,s=a.length,f=new Array(s);for(o=0;o<s;++o){for(var l,h=a[o],p=f[o]=new Array(c),d=0;d<c;++d)p[d]=l=[0,+i(t[d],h,d,t)],l.data=t[d];p.key=h}for(o=0,u=e(f);o<s;++o)f[u[o]].index=o;return r(f,u),f}var n=Ga([]),e=Gc,r=Zc,i=Qc;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:Ga(a_.call(e)),t):n},t.value=function(n){return arguments.length?(i="function"==typeof n?n:Ga(+n),t):i},t.order=function(n){return arguments.length?(e=null==n?Gc:"function"==typeof n?n:Ga(a_.call(n)),t):e},t.offset=function(n){return arguments.length?(r=null==n?Zc:n,t):r},t},t.stackOffsetExpand=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}Zc(t,n)}},t.stackOffsetDiverging=function(t,n){if((a=t.length)>1)for(var e,r,i,o,u,a,c=0,s=t[n[0]].length;c<s;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):r[0]=o},t.stackOffsetNone=Zc,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}Zc(t,n)}},t.stackOffsetWiggle=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,s=0;a<i;++a){for(var f=t[n[a]],l=f[u][1]||0,h=(l-(f[u-1][1]||0))/2,p=0;p<a;++p){var d=t[n[p]];h+=(d[u][1]||0)-(d[u-1][1]||0)}c+=l,s+=h*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=s/c)}e[u-1][1]+=e[u-1][0]=o,Zc(t,n)}},t.stackOrderAscending=Jc,t.stackOrderDescending=function(t){return Jc(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(Kc),o=Gc(t).sort(function(t,n){return i[n]-i[t]}),u=0,a=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],s.push(e));return s.reverse().concat(c)},t.stackOrderNone=Gc,t.stackOrderReverse=function(t){return Gc(t).reverse()},t.timeInterval=Cu,t.timeMillisecond=wv,t.timeMilliseconds=Mv,t.utcMillisecond=wv,t.utcMilliseconds=Mv,t.timeSecond=kv,t.timeSeconds=Sv,t.utcSecond=kv,t.utcSeconds=Sv,t.timeMinute=Ev,t.timeMinutes=Av,t.timeHour=Cv,t.timeHours=zv,t.timeDay=Pv,t.timeDays=Rv,t.timeWeek=Lv,t.timeWeeks=Yv,t.timeSunday=Lv,t.timeSundays=Yv,t.timeMonday=qv,t.timeMondays=Bv,t.timeTuesday=Dv,t.timeTuesdays=Hv,t.timeWednesday=Uv,t.timeWednesdays=jv,t.timeThursday=Ov,t.timeThursdays=Xv,t.timeFriday=Fv,t.timeFridays=Vv,t.timeSaturday=Iv,t.timeSaturdays=$v,t.timeMonth=Wv,t.timeMonths=Zv,t.timeYear=Gv,t.timeYears=Qv,t.utcMinute=Jv,t.utcMinutes=Kv,t.utcHour=tg,t.utcHours=ng,t.utcDay=eg,t.utcDays=rg,t.utcWeek=ig,t.utcWeeks=lg,t.utcSunday=ig,t.utcSundays=lg,t.utcMonday=og,t.utcMondays=hg,t.utcTuesday=ug,t.utcTuesdays=pg,t.utcWednesday=ag,t.utcWednesdays=dg,t.utcThursday=cg,t.utcThursdays=vg,t.utcFriday=sg,t.utcFridays=gg,t.utcSaturday=fg,t.utcSaturdays=_g,t.utcMonth=yg,t.utcMonths=mg,t.utcYear=xg,t.utcYears=wg,t.timeFormatDefaultLocale=Ha,t.timeFormatLocale=Du,t.isoFormat=Eg,t.isoParse=Ag,t.now=mn,t.timer=wn,t.timerFlush=Mn,t.timeout=Sn,t.interval=function(t,n,e){var r=new bn,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?mn():+e,r.restart(function o(u){u+=i,r.restart(o,i+=n,e),t(u)},n,e),r)},t.transition=Dn,t.active=function(t,n){var e,r,i=t.__transition;if(i){n=null==n?null:n+"";for(r in i)if((e=i[r]).state>xl&&e.name===n)return new qn([[t]],Jl,n,+r)}return null},t.interrupt=Pn,t.voronoi=function(){function t(t){return new Ns(t.map(function(r,i){var o=[Math.round(n(r,i,t)/F_)*F_,Math.round(e(r,i,t)/F_)*F_];return o.index=i,o.data=r,o}),r)}var n=ns,e=es,r=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:ts(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:ts(+n),t):e},t.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},t.zoom=function(){function n(t){t.property("__zoom",Rs).on("wheel.zoom",c).on("mousedown.zoom",s).on("dblclick.zoom",f).filter(x).on("touchstart.zoom",l).on("touchmove.zoom",h).on("touchend.zoom touchcancel.zoom",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,n){return(n=Math.max(b[0],Math.min(b[1],n)))===t.k?t:new Ss(n,t.x,t.y)}function r(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Ss(t.k,r,i)}function i(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,n,e){t.on("start.zoom",function(){u(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){u(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=u(this,t),o=_.apply(this,t),a=e||i(o),c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=this.__zoom,f="function"==typeof n?n.apply(this,t):n,l=T(s.invert(a).concat(c/s.k),f.invert(a).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=l(t),e=c/n[2];t=new Ss(e,a[0]-n[0]*e,a[1]-n[1]*e)}r.zoom(null,t)}})}function u(t,n){for(var e,r=0,i=k.length;r<i;++r)if((e=k[r]).that===t)return e;return new a(t,n)}function a(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=_.apply(t,n)}function c(){if(g.apply(this,arguments)){var t=u(this,arguments),n=this.__zoom,i=Math.max(b[0],Math.min(b[1],n.k*Math.pow(2,m.apply(this,arguments)))),o=pt(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===i)return;t.mouse=[o,n.invert(o)],Pn(this),t.start()}Cs(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},A),t.zoom("mouse",y(r(e(n,i),t.mouse[0],t.mouse[1]),t.extent,w))}}function s(){if(!v&&g.apply(this,arguments)){var n=u(this,arguments),e=ct(t.event.view).on("mousemove.zoom",function(){if(Cs(),!n.moved){var e=t.event.clientX-o,i=t.event.clientY-a;n.moved=e*e+i*i>C}n.zoom("mouse",y(r(n.that.__zoom,n.mouse[0]=pt(n.that),n.mouse[1]),n.extent,w))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),yt(t.event.view,n.moved),Cs(),n.end()},!0),i=pt(this),o=t.event.clientX,a=t.event.clientY;_t(t.event.view),As(),n.mouse=[i,this.__zoom.invert(i)],Pn(this),n.start()}}function f(){if(g.apply(this,arguments)){var i=this.__zoom,u=pt(this),a=i.invert(u),c=i.k*(t.event.shiftKey?.5:2),s=y(r(e(i,c),u,a),_.apply(this,arguments),w);Cs(),M>0?ct(this).transition().duration(M).call(o,s,u):ct(this).call(n.transform,s)}}function l(){if(g.apply(this,arguments)){var n,e,r,i,o=u(this,arguments),a=t.event.changedTouches,c=a.length;for(As(),e=0;e<c;++e)i=[i=dt(this,a,(r=a[e]).identifier),this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,n=!0);if(d&&(d=clearTimeout(d),!o.touch1))return o.end(),void((i=ct(this).on("dblclick.zoom"))&&i.apply(this,arguments));n&&(d=setTimeout(function(){d=null},E),Pn(this),o.start())}}function h(){var n,i,o,a,c=u(this,arguments),s=t.event.changedTouches,f=s.length;for(Cs(),d&&(d=clearTimeout(d)),n=0;n<f;++n)o=dt(this,s,(i=s[n]).identifier),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=o:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=o);if(i=c.that.__zoom,c.touch1){var l=c.touch0[0],h=c.touch0[1],p=c.touch1[0],v=c.touch1[1],g=(g=p[0]-l[0])*g+(g=p[1]-l[1])*g,_=(_=v[0]-h[0])*_+(_=v[1]-h[1])*_;i=e(i,Math.sqrt(g/_)),o=[(l[0]+p[0])/2,(l[1]+p[1])/2],a=[(h[0]+v[0])/2,(h[1]+v[1])/2]}else{if(!c.touch0)return;o=c.touch0[0],a=c.touch0[1]}c.zoom("touch",y(r(i,o,a),c.extent,w))}function p(){var n,e,r=u(this,arguments),i=t.event.changedTouches,o=i.length;for(As(),v&&clearTimeout(v),v=setTimeout(function(){v=null},E),n=0;n<o;++n)e=i[n],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var d,v,g=zs,_=Ps,y=Ds,m=Ls,x=qs,b=[0,1/0],w=[[-1/0,-1/0],[1/0,1/0]],M=250,T=vn,k=[],S=N("start","zoom","end"),E=500,A=150,C=0;return n.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",Rs),t!==e?o(t,n):e.interrupt().each(function(){u(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},n.scaleBy=function(t,e){n.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},n.scaleTo=function(t,o){n.transform(t,function(){var t=_.apply(this,arguments),n=this.__zoom,u=i(t),a=n.invert(u),c="function"==typeof o?o.apply(this,arguments):o;return y(r(e(n,c),u,a),t,w)})},n.translateBy=function(t,e,r){n.transform(t,function(){return y(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),_.apply(this,arguments),w)})},n.translateTo=function(t,e,r){n.transform(t,function(){var t=_.apply(this,arguments),n=this.__zoom,o=i(t);return y(Y_.translate(o[0],o[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof r?-r.apply(this,arguments):-r),t,w)})},a.prototype={start:function(){return 1==++this.active&&(this.index=k.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(k.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){it(new function(t,n,e){this.target=t,this.type=n,this.transform=e}(n,t,this.that.__zoom),S.apply,S,[t,this.that,this.args])}},n.wheelDelta=function(t){return arguments.length?(m="function"==typeof t?t:ks(+t),n):m},n.filter=function(t){return arguments.length?(g="function"==typeof t?t:ks(!!t),n):g},n.touchable=function(t){return arguments.length?(x="function"==typeof t?t:ks(!!t),n):x},n.extent=function(t){return arguments.length?(_="function"==typeof t?t:ks([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):_},n.scaleExtent=function(t){return arguments.length?(b[0]=+t[0],b[1]=+t[1],n):[b[0],b[1]]},n.translateExtent=function(t){return arguments.length?(w[0][0]=+t[0][0],w[1][0]=+t[1][0],w[0][1]=+t[0][1],w[1][1]=+t[1][1],n):[[w[0][0],w[0][1]],[w[1][0],w[1][1]]]},n.constrain=function(t){return arguments.length?(y=t,n):y},n.duration=function(t){return arguments.length?(M=+t,n):M},n.interpolate=function(t){return arguments.length?(T=t,n):T},n.on=function(){var t=S.on.apply(S,arguments);return t===S?n:t},n.clickDistance=function(t){return arguments.length?(C=(t=+t)*t,n):Math.sqrt(C)},n},t.zoomTransform=Es,t.zoomIdentity=Y_,Object.defineProperty(t,"__esModule",{value:!0})});</script><script>/*

 Lodash <https://lodash.com/>
 Copyright JS Foundation and other contributors <https://js.foundation/>
 Released under MIT license <https://lodash.com/license>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/
(function(){var undefined;var VERSION="4.17.5";var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q\x3dponyfill.",FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER="__lodash_placeholder__";var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=
8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157E308,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[["ary",
WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",
mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",
int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=
RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=
/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="['\u2019]",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral=
"[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+
")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?\x3d\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?\x3d\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reUnicode=RegExp(rsFitz+"(?\x3d"+rsFitz+")|"+rsSymbol+rsSeq,"g");var reUnicodeWord=RegExp([rsUpper+"?"+
rsLower+"+"+rsOptContrLower+"(?\x3d"+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?\x3d"+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView",
"Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=
typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=
cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;
cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i",
"\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C",
"\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i",
"\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S",
"\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe",
"\u0153":"oe","\u0149":"'n","\u017f":"s"};var htmlEscapes={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"};var htmlUnescapes={"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#39;":"'"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&
self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsArrayBuffer=nodeUtil&&
nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,
setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length)if(iteratee(array[index],index,array)===false)break;return array}function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--)if(iteratee(array[length],length,array)===false)break;
return array}function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length)if(!predicate(array[index],index,array))return false;return true}function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array))result[resIndex++]=value}return result}function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,
value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length)if(comparator(value,array[index]))return true;return false}function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length)array[offset+index]=
values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length)accumulator=array[++index];while(++index<length)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length)accumulator=array[--length];while(length--)accumulator=iteratee(accumulator,array[length],length,array);
return accumulator}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length)if(predicate(array[index],index,array))return true;return false}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;
return false}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<
length)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,
function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--)array[length]=array[length].value;return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined)result=result===undefined?current:result+current}return result}
function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n)result[index]=iteratee(index);return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;
while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1);return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1);return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--)if(array[length]===placeholder)++result;return result}var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+
stringEscapes[chr]}function getValue(object,key){return object==null?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done)result.push(data.value);return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,
transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function safeGet(object,key){return key=="__proto__"?undefined:object[key]}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});
return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length)if(array[index]===value)return index;return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--)if(array[index]===value)return index;return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):
asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string))++result;return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),
context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=function(){var uid=
/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=
Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var ctxClearTimeout=context.clearTimeout!==
root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=
Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?
Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);
object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={"escape":reEscape,"evaluate":reEvaluate,"interpolate":reInterpolate,"variable":"","imports":{"_":lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);
LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;
result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,
iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed)if(type==LAZY_FILTER_FLAG)continue outer;
else break outer}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;
return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;
Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return false;var lastIndex=data.length-1;if(index==lastIndex)data.pop();
else splice.call(data,index,1);--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else data[index][1]=value;return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=
listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={"hash":new Hash,"map":new (Map||ListCache),"string":new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,
key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;
while(++index<length)this.add(values[index])}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);
this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;
Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key==
"offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length))))result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||
value===undefined&&!(key in object))baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object))baseAssignValue(object,key,value)}function assocIndexOf(array,key){var length=array.length;while(length--)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,
value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty)defineProperty(object,key,{"configurable":true,"enumerable":true,"value":value,"writable":true});else object[key]=value}function baseAt(object,paths){var index=-1,length=paths.length,result=
Array(length),skip=object==null;while(++index<length)result[index]=skip?undefined:get(object,paths[index]);return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined)number=number<=upper?number:upper;if(lower!==undefined)number=number>=lower?number:lower}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer)result=object?
customizer(value,key,object,stack):customizer(value);if(result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,
value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result);if(isSet(value)){value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))});return result}if(isMap(value)){value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,
stack))});return result}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;
if(object==null)return!length;object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value))return false}return true}function baseDelay(func,wait,args){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,
result=[],valuesLength=values.length;if(!length)return result;if(iteratee)values=arrayMap(values,baseUnary(iteratee));if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--)if(values[valuesIndex]===
computed)continue outer;result.push(value)}else if(!includes(values,computed,comparator))result.push(value)}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=
array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0)start=-start>length?0:length+start;end=end===undefined||end>length?length:toInteger(end);if(end<0)end+=length;end=start>end?0:toLength(end);while(start<end)array[start++]=value;return array}function baseFilter(collection,
predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection))result.push(value)});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value))if(depth>1)baseFlatten(value,depth-1,predicate,isStrict,result);else arrayPush(result,value);else if(!isStrict)result[result.length]=
value}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length)object=object[toKey(path[index++])];
return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null)return value===undefined?undefinedTag:nullTag;return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,
key)}function baseHasIn(object,key){return object!=null&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee)array=arrayMap(array,
baseUnary(iteratee));maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];
if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}if(seen)seen.push(computed);result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:
apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other)return true;if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other))return value!==value&&other!==other;return baseIsEqualDeep(value,
other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return false;objIsArr=true;objIsObj=
false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():
other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag)return false;stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null)return!length;object=Object(object);while(index--){var data=matchData[index];
if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return false}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return false}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return false}}return true}
function baseIsNative(value){if(!isObject(value)||isMasked(value))return false;var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){if(typeof value=="function")return value;
if(value==null)return identity;if(typeof value=="object")return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value);return property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))if(hasOwnProperty.call(object,key)&&key!="constructor")result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)if(!(key==
"constructor"&&(isProto||!hasOwnProperty.call(object,key))))result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2])return matchesStrictComparable(matchData[0][0],
matchData[0][1]);return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue))return matchesStrictComparable(toKey(path),srcValue);return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===
source)return;baseFor(source,function(srcValue,key){if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;if(newValue===undefined)newValue=srcValue;assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,
key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped)if(isArray(objValue))newValue=objValue;else if(isArrayLikeObject(objValue))newValue=copyArray(objValue);else if(isBuff){isCommon=
false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else newValue=[];else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue))newValue=toPlainObject(objValue);else if(!isObject(objValue)||srcIndex&&isFunction(objValue))newValue=initCloneObject(srcValue)}else isCommon=false}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,
key,newValue)}function baseNth(array,n){var length=array.length;if(!length)return;n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{"criteria":criteria,"index":++index,"value":value}});return baseSortBy(result,
function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path))baseSet(result,castPath(path,object),value)}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}
function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values)values=copyArray(values);if(iteratee)seen=arrayMap(array,baseUnary(iteratee));while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array)splice.call(seen,fromIndex,1);splice.call(array,fromIndex,1)}}return array}function basePullAt(array,
indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index))splice.call(array,index,1);else baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?
length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER)return result;do{if(n%2)result+=string;n=nativeFloor(n/2);if(n)string+=string}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}
function baseSet(object,path,value,customizer){if(!isObject(object))return object;path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined)newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}assignValue(nested,key,newValue);nested=nested[key]}return object}
var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{"configurable":true,"enumerable":false,"value":constant(string),"writable":true})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0)start=-start>length?0:length+start;end=end>length?length:end;if(end<0)end+=
length;length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=
low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value))low=mid+1;else high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array==null?0:array.length,valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=
iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else if(valIsUndefined)setLow=othIsReflexive&&(retHighest||othIsDefined);else if(valIsNull)setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull);else if(valIsSymbol)setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol);else if(othIsNull||othIsSymbol)setLow=false;else setLow=
retHighest?computed<=value:computed<value;if(setLow)low=mid+1;else high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value}}return result}function baseToNumber(value){if(typeof value=="number")return value;if(isSymbol(value))return NAN;return+value}
function baseToString(value){if(typeof value=="string")return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=
iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=false;includes=cacheHas;seen=new SetCache}else seen=iteratee?[]:result;outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--)if(seen[seenIndex]===computed)continue outer;if(iteratee)seen.push(computed);result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result)seen.push(computed);
result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array));return isDrop?baseSlice(array,
fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper)result=result.value();return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];var index=-1,result=Array(length);
while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length)if(othIndex!=index)result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?
value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value,object){if(isArray(value))return value;return isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();
var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);(new Uint8Array(result)).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneRegExp(regexp){var result=
new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===
null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&
!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-
other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength)result[leftIndex]=partials[leftIndex];while(++argsIndex<holdersLength)if(isUncurried||argsIndex<argsLength)result[holders[argsIndex]]=args[argsIndex];while(rangeLength--)result[leftIndex++]=
args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength)result[argsIndex]=args[argsIndex];var offset=argsIndex;while(++rightIndex<rightLength)result[offset+rightIndex]=partials[rightIndex];while(++holdersIndex<
holdersLength)if(isUncurried||argsIndex<argsLength)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],
key,object,source):undefined;if(newValue===undefined)newValue=source[key];if(isNew)baseAssignValue(object,key,newValue);else assignValue(object,key,newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=
initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);
while(++index<length){var source=sources[index];if(source)assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length)if(iteratee(iterable[index],index,iterable)===false)break;return collection}}function createBaseFor(fromRight){return function(object,
iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false)break}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=
toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);
case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,
bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity)return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length);var fn=this&&this!==root&&this instanceof
wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=
funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight)funcs.reverse();while(index--){var func=funcs[index];if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&getFuncName(func)=="wrapper")var wrapper=new LodashWrapper([],true)}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|
WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1)wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3]);else wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value))return wrapper.plant(value).value();var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length)result=funcs[index].call(this,result);return result}})}function createHybrid(func,bitmask,thisArg,
partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);
if(partials)args=composeArgs(args,partials,holders,isCurried);if(partialsRight)args=composeArgsRight(args,partialsRight,holdersRight,isCurried);length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos)args=reorder(args,argPos);else if(isFlip&&length>
1)args.reverse();if(isAry&&ary<length)args.length=ary;if(this&&this!==root&&this instanceof wrapper)fn=Ctor||createCtor(fn);return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined)return defaultValue;if(value!==undefined)result=value;if(other!==
undefined){if(result===undefined)return other;if(typeof value=="string"||typeof other=="string"){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}
function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=
arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength)args[leftIndex]=partials[leftIndex];while(argsLength--)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step))end=step=undefined;start=toFinite(start);if(end===
undefined){end=start;start=0}else end=toFinite(end);step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!(typeof value=="string"&&typeof other=="string")){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?
holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG))bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG);var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func))setData(result,
newData);result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,
-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag)return mapToArray(object);if(tag==setTag)return setToPairs(object);return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:
0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data)mergeData(newData,
data);func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG))bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG);if(!bitmask||bitmask==WRAP_BIND_FLAG)var result=createBind(func,bitmask,thisArg);else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG)result=createCurry(func,bitmask,arity);else if((bitmask==
WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length)result=createPartial(func,bitmask,thisArg,partials);else result=createHybrid.apply(undefined,newData);var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key))return srcValue;return objValue}function customDefaultsMerge(objValue,srcValue,
key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack["delete"](srcValue)}return objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return false;
var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==undefined){if(compared)continue;result=false;break}if(seen){if(!arraySome(other,
function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=
other.byteOffset)return false;object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)))return false;return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||
(convert=setToArray);if(object.size!=other.size&&!isPartial)return false;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=
bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return false;var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return false}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=
objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in
other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor))result=false}stack["delete"](object);stack["delete"](other);return result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};
function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func)return data.name}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?
result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=
hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked)if(isOwn)value[symToStringTag]=tag;else delete value[symToStringTag];return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null)return[];object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};var getSymbolsIn=
!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=
Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result};function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case "drop":start+=size;break;case "dropRight":end-=size;break;case "take":end=nativeMin(end,
start+size);break;case "takeRight":start=nativeMax(start,end-size);break}}return{"start":start,"end":end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key)))break;object=object[key]}if(result||++index!=length)return result;length=
object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,
tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);
case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;details[lastIndex]=(length>1?"\x26 ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,
length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isIterateeCall(value,index,object){if(!isObject(object))return false;var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object)return eq(object[index],value);return false}function isKey(value,object){if(isArray(value))return false;var type=typeof value;
if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value))return true;return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype))return false;
if(func===other)return true;var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null)return false;
return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE)cache.clear();return key});var cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&
bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo))return data;if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=
data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value)data[7]=value;if(srcBitmask&WRAP_ARY_FLAG)data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8]);if(data[9]==null)data[9]=source[9];data[0]=source[0];data[1]=newBitmask;return data}function nativeKeysIn(object){var result=[];if(object!=null)for(var key in Object(object))result.push(key);return result}function objectToString(value){return nativeObjectToString.call(value)}
function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length)array[index]=args[start+index];index=-1;var otherArgs=Array(start+1);while(++index<start)otherArgs[index]=args[index];otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}
function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,
insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),
value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=memoizeCapped(function(string){var result=[];if(string.charCodeAt(0)===46)result.push("");string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(value){if(typeof value=="string"||isSymbol(value))return value;var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}
function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e$0){}}return""}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value))details.push(value)});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);
result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined)size=1;else size=nativeMax(toInteger(size),0);var length=array==null?0:array.length;if(!length||size<1)return[];var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length)result[resIndex++]=baseSlice(array,index,index+=size);return result}function compact(array){var index=-1,length=array==null?0:array.length,
resIndex=0,result=[];while(++index<length){var value=array[index];if(value)result[resIndex++]=value}return result}function concat(){var length=arguments.length;if(!length)return[];var args=Array(length-1),array=arguments[0],index=length;while(index--)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):
[]});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee))iteratee=undefined;return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[]});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator))comparator=undefined;return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):
[]});function drop(array,n,guard){var length=array==null?0:array.length;if(!length)return[];n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length)return[];n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&
array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array==null?0:array.length;if(!length)return[];if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length)return-1;var index=fromIndex==null?0:toInteger(fromIndex);if(index<0)index=nativeMax(length+index,0);return baseFindIndex(array,
getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length)return-1;var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,true)}function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array==null?0:array.length;
return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length)return[];depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array==
null?0:array.length;if(!length)return-1;var index=fromIndex==null?0:toInteger(fromIndex);if(index<0)index=nativeMax(length+index,0);return baseIndexOf(array,value,index)}function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),
mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped))iteratee=undefined;else mapped.pop();return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=="function"?comparator:undefined;if(comparator)mapped.pop();return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):
[]});function join(array,separator){return array==null?"":nativeJoin.call(array,separator)}function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length)return-1;var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,
baseIsNaN,index,true)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,
values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length))return result;var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,
index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array==null?array:nativeReverse.call(array)}function slice(array,start,end){var length=array==null?0:array.length;if(!length)return[];if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,
value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true)}function sortedLastIndexOf(array,
value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value))return index}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){if(!(array&&array.length))return[];
n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length)return[];n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,
1,isArrayLikeObject,true))});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee))iteratee=undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2))});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):
[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){comparator=typeof comparator=="function"?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length))return[];var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,
baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length))return[];var result=unzip(array);if(iteratee==null)return result;return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee))iteratee=
undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=
baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=
this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start))return this.thru(interceptor);value=value.slice(start,+start+(length?1:0));value.__actions__.push({"func":thru,"args":[interceptor],"thisArg":undefined});return(new LodashWrapper(value,this.__chain__)).thru(function(array){if(length&&!array.length)array.push(undefined);return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),
this.__chain__)}function wrapperNext(){if(this.__values__===undefined)this.__values__=toArray(this.value());var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{"done":done,"value":value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result)previous.__wrapped__=clone;else result=clone;
var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length)wrapped=new LazyWrapper(this);wrapped=wrapped.reverse();wrapped.__actions__.push({"func":thru,"args":[reverse],"thisArg":undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}
var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key))++result[key];else baseAssignValue(result,key,1)});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard))predicate=undefined;return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}var find=
createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,
3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key))result[key].push(value);else baseAssignValue(result,key,[value])});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;
if(fromIndex<0)fromIndex=nativeMax(length+fromIndex,0);return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,
value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null)return[];if(!isArray(iteratees))iteratees=iteratees==null?[]:[iteratees];orders=guard?undefined:orders;if(!isArray(orders))orders=orders==null?[]:[orders];return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,
key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,
predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)}function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined)n=1;else n=toInteger(n);var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)}function shuffle(collection){var func=isArray(collection)?arrayShuffle:
baseShuffle;return func(collection)}function size(collection){if(collection==null)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);if(tag==mapTag||tag==setTag)return collection.size;return baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard))predicate=undefined;return func(collection,getIteratee(predicate,
3))}var sortBy=baseRest(function(collection,iteratees){if(collection==null)return[];var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1]))iteratees=[];else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2]))iteratees=[iteratees[0]];return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=ctxNow||function(){return root.Date.now()};function after(n,func){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);n=toInteger(n);
return function(){if(--n<1)return func.apply(this,arguments)}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);n=toInteger(n);return function(){if(--n>0)result=func.apply(this,arguments);if(n<=1)func=undefined;return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;
if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,
WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;
if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,
wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=
now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs)return invokeFunc(time);lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined)clearTimeout(timerId);lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);
lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined)return leadingEdge(lastCallTime);if(maxing){timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined)timerId=setTimeout(timerExpired,wait);return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});
function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function")throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new (memoize.Cache||MapCache);return memoized}
memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function")throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=transforms.length==
1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,
undefined,partials,holders)});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);start=start===undefined?start:toInteger(start);return baseRest(func,start)}
function spread(func,start){if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array)arrayPush(otherArgs,array);return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);if(isObject(options)){leading="leading"in options?!!options.leading:
leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{"leading":leading,"maxWait":wait,"trailing":trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){customizer=typeof customizer==
"function"?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&
other!==other}var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&
!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value)}function isEmpty(value){if(value==null)return true;if(isArrayLike(value)&&(isArray(value)||typeof value==
"string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return false;return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=
customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value))return false;var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value))return false;var tag=baseGetTag(value);return tag==
funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===
source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value))throw new Error(CORE_ERROR_TEXT);return baseIsNative(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value==
"number"||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return false;var proto=getPrototype(value);if(proto===null)return true;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=
-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&
getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return iteratorToArray(value[symIterator]());var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:
values;return func(value)}function toFinite(value){if(!value)return value===0?value:0;value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number")return value;
if(isSymbol(value))return NAN;if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string")return value===0?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?
baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0}function toString(value){return value==null?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source)if(hasOwnProperty.call(source,key))assignValue(object,key,source[key])});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});var assignInWith=createAssigner(function(object,
source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties)}var defaults=baseRest(function(object,sources){object=Object(object);var index=-1;var length=sources.length;var guard=length>2?sources[2]:
undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard))length=1;while(++index<length){var source=sources[index];var props=keysIn(source);var propsIndex=-1;var propsLength=props.length;while(++propsIndex<propsLength){var key=props[propsIndex];var value=object[key];if(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))object[key]=source[key]}}return object});var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,
undefined,args)});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,
getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,
path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function")value=nativeObjectToString.call(value);result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function")value=nativeObjectToString.call(value);if(hasOwnProperty.call(result,value))result[value].push(key);else result[value]=[key]},
getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,
3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=flatRest(function(object,paths){var result={};if(object==null)return result;var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||
(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep)result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone);var length=paths.length;while(length--)baseUnset(result,paths[length]);return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});function pickBy(object,predicate){if(object==null)return{};
var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):
value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,
4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike)accumulator=isArr?new Ctor:[];else if(isObject(object))accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{};else accumulator={}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,
path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object==null?[]:baseValues(object,keys(object))}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=
toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0}else end=toFinite(end);number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating))upper=floating=undefined;if(floating===undefined)if(typeof upper==
"boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0}else upper=toFinite(upper)}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=
createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),
0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$\x26"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});
var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);
length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null)radix=0;else if(radix)radix=+radix;return nativeParseInt(toString(string).replace(reTrimStart,
""),radix||0)}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined)n=1;else n=toInteger(n);return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit))separator=
limit=undefined;limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit)return[];string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string))return castSlice(stringToArray(string),0,limit)}return string.split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=
toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard))options=undefined;string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=
keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p +\x3d '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL\x3d"+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,
function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p +\x3d '"}if(interpolateValue)source+="' +\n((__t \x3d ("+interpolateValue+")) \x3d\x3d null ? '' : __t) +\n'";index=offset+match.length;return match});
source+="';\n";var variable=options.variable;if(!variable)source="with (obj) {\n"+source+"\n}\n";source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj \x3d {});\n")+"var __t, __p \x3d ''"+(isEscaping?", __e \x3d _.escape":"")+(isEvaluating?", __j \x3d Array.prototype.join;\n"+"function print() { __p +\x3d __j.call(arguments, '') }\n":";\n")+source+
"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result))throw result;return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;
var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,
0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?
options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined)return result+
omission;if(strSymbols)end+=result.length-end;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global)separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g");separator.lastIndex=0;while(match=separator.exec(substring))var newEnd=match.index;result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1)result=result.slice(0,index)}return result+
omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined)return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string);return string.match(pattern)||
[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function")throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),
pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func==
"function"?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),
methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc)object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=
object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({"func":func,"args":arguments,"thisArg":object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}});return object}function noConflict(){if(root._===this)root._=oldDash;return this}function noop(){}function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);
var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function stubArray(){return[]}function stubFalse(){return false}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return true}function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER)return[];
var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n)iteratee(index);return result}function toPath(value){if(isArray(value))return arrayMap(value,toKey);return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0);var ceil=createRound("ceil");
var divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1);var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?
baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1);var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&
array.length?baseSum(array,getIteratee(iteratee,2)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=
create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;
lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=
keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=
overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=
setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=
transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=
zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=
endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;
lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=
isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=
isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=
stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=
sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=
toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName))source[methodName]=func});return source}(),{"chain":false});lodash.VERSION=
VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__)result.__takeCount__=nativeMin(n,result.__takeCount__);else result.__views__.push({"size":nativeMin(n,MAX_ARRAY_LENGTH),
"type":methodName+(result.__dir__<0?"Right":"")});return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({"iteratee":getIteratee(iteratee,3),"type":type});result.__filtered__=result.__filtered__||
isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=
function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=="function")return new LazyWrapper(this);return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);
var result=this;if(result.__filtered__&&(start>0||end<0))return new LazyWrapper(result);if(start<0)result=result.takeRight(-start);else if(start)result=result.drop(start);if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,
function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc)return;lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=
lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1)isLazy=useLazy=false;var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({"func":thru,"args":[interceptor],"thisArg":undefined});return new LodashWrapper(result,
chainAll)}if(isUnwrapped&&onlyLazy)return func.apply(this,args);result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();
return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"",names=realNames[key]||(realNames[key]=[]);names.push({"name":methodName,"func":lodashFunc})}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{"name":"wrapper","func":undefined}];LazyWrapper.prototype.clone=lazyClone;
LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator)lodash.prototype[symIterator]=wrapperToIterator;return lodash};
var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=_;define(function(){return _})}else if(freeModule){(freeModule.exports=_)._=_;freeExports._=_}else root._=_}).call(this);</script><script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined")module.exports=f();else if(typeof define==="function"&&define.amd)define([],f);else{var g;if(typeof window!=="undefined")g=window;else if(typeof global!=="undefined")g=global;else if(typeof self!=="undefined")g=self;else g=this;g.graphlib=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);
var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var lib=require("./lib");module.exports={Graph:lib.Graph,json:require("./lib/json"),alg:require("./lib/alg"),version:lib.version}},{"./lib":17,"./lib/alg":8,"./lib/json":18}],
2:[function(require,module,exports){var _=require("../lodash");module.exports=components;function components(g){var visited={},cmpts=[],cmpt;function dfs(v){if(_.has(visited,v))return;visited[v]=true;cmpt.push(v);_.each(g.successors(v),dfs);_.each(g.predecessors(v),dfs)}_.each(g.nodes(),function(v){cmpt=[];dfs(v);if(cmpt.length)cmpts.push(cmpt)});return cmpts}},{"../lodash":19}],3:[function(require,module,exports){var _=require("../lodash");module.exports=dfs;function dfs(g,vs,order){if(!_.isArray(vs))vs=
[vs];var navigation=(g.isDirected()?g.successors:g.neighbors).bind(g);var acc=[],visited={};_.each(vs,function(v){if(!g.hasNode(v))throw new Error("Graph does not have node: "+v);doDfs(g,v,order==="post",visited,navigation,acc)});return acc}function doDfs(g,v,postorder,visited,navigation,acc){if(!_.has(visited,v)){visited[v]=true;if(!postorder)acc.push(v);_.each(navigation(v),function(w){doDfs(g,w,postorder,visited,navigation,acc)});if(postorder)acc.push(v)}}},{"../lodash":19}],4:[function(require,
module,exports){var dijkstra=require("./dijkstra"),_=require("../lodash");module.exports=dijkstraAll;function dijkstraAll(g,weightFunc,edgeFunc){return _.transform(g.nodes(),function(acc,v){acc[v]=dijkstra(g,v,weightFunc,edgeFunc)},{})}},{"../lodash":19,"./dijkstra":5}],5:[function(require,module,exports){var _=require("../lodash"),PriorityQueue=require("../data/priority-queue");module.exports=dijkstra;var DEFAULT_WEIGHT_FUNC=_.constant(1);function dijkstra(g,source,weightFn,edgeFn){return runDijkstra(g,
String(source),weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})}function runDijkstra(g,source,weightFn,edgeFn){var results={},pq=new PriorityQueue,v,vEntry;var updateNeighbors=function(edge){var w=edge.v!==v?edge.v:edge.w,wEntry=results[w],weight=weightFn(edge),distance=vEntry.distance+weight;if(weight<0)throw new Error("dijkstra does not allow negative edge weights. "+"Bad edge: "+edge+" Weight: "+weight);if(distance<wEntry.distance){wEntry.distance=distance;wEntry.predecessor=
v;pq.decrease(w,distance)}};g.nodes().forEach(function(v){var distance=v===source?0:Number.POSITIVE_INFINITY;results[v]={distance:distance};pq.add(v,distance)});while(pq.size()>0){v=pq.removeMin();vEntry=results[v];if(vEntry.distance===Number.POSITIVE_INFINITY)break;edgeFn(v).forEach(updateNeighbors)}return results}},{"../data/priority-queue":15,"../lodash":19}],6:[function(require,module,exports){var _=require("../lodash"),tarjan=require("./tarjan");module.exports=findCycles;function findCycles(g){return _.filter(tarjan(g),
function(cmpt){return cmpt.length>1||cmpt.length===1&&g.hasEdge(cmpt[0],cmpt[0])})}},{"../lodash":19,"./tarjan":13}],7:[function(require,module,exports){var _=require("../lodash");module.exports=floydWarshall;var DEFAULT_WEIGHT_FUNC=_.constant(1);function floydWarshall(g,weightFn,edgeFn){return runFloydWarshall(g,weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})}function runFloydWarshall(g,weightFn,edgeFn){var results={},nodes=g.nodes();nodes.forEach(function(v){results[v]=
{};results[v][v]={distance:0};nodes.forEach(function(w){if(v!==w)results[v][w]={distance:Number.POSITIVE_INFINITY}});edgeFn(v).forEach(function(edge){var w=edge.v===v?edge.w:edge.v,d=weightFn(edge);results[v][w]={distance:d,predecessor:v}})});nodes.forEach(function(k){var rowK=results[k];nodes.forEach(function(i){var rowI=results[i];nodes.forEach(function(j){var ik=rowI[k];var kj=rowK[j];var ij=rowI[j];var altDistance=ik.distance+kj.distance;if(altDistance<ij.distance){ij.distance=altDistance;ij.predecessor=
kj.predecessor}})})});return results}},{"../lodash":19}],8:[function(require,module,exports){module.exports={components:require("./components"),dijkstra:require("./dijkstra"),dijkstraAll:require("./dijkstra-all"),findCycles:require("./find-cycles"),floydWarshall:require("./floyd-warshall"),isAcyclic:require("./is-acyclic"),postorder:require("./postorder"),preorder:require("./preorder"),prim:require("./prim"),tarjan:require("./tarjan"),topsort:require("./topsort")}},{"./components":2,"./dijkstra":5,
"./dijkstra-all":4,"./find-cycles":6,"./floyd-warshall":7,"./is-acyclic":9,"./postorder":10,"./preorder":11,"./prim":12,"./tarjan":13,"./topsort":14}],9:[function(require,module,exports){var topsort=require("./topsort");module.exports=isAcyclic;function isAcyclic(g){try{topsort(g)}catch(e){if(e instanceof topsort.CycleException)return false;throw e;}return true}},{"./topsort":14}],10:[function(require,module,exports){var dfs=require("./dfs");module.exports=postorder;function postorder(g,vs){return dfs(g,
vs,"post")}},{"./dfs":3}],11:[function(require,module,exports){var dfs=require("./dfs");module.exports=preorder;function preorder(g,vs){return dfs(g,vs,"pre")}},{"./dfs":3}],12:[function(require,module,exports){var _=require("../lodash"),Graph=require("../graph"),PriorityQueue=require("../data/priority-queue");module.exports=prim;function prim(g,weightFunc){var result=new Graph,parents={},pq=new PriorityQueue,v;function updateNeighbors(edge){var w=edge.v===v?edge.w:edge.v,pri=pq.priority(w);if(pri!==
undefined){var edgeWeight=weightFunc(edge);if(edgeWeight<pri){parents[w]=v;pq.decrease(w,edgeWeight)}}}if(g.nodeCount()===0)return result;_.each(g.nodes(),function(v){pq.add(v,Number.POSITIVE_INFINITY);result.setNode(v)});pq.decrease(g.nodes()[0],0);var init=false;while(pq.size()>0){v=pq.removeMin();if(_.has(parents,v))result.setEdge(v,parents[v]);else if(init)throw new Error("Input graph is not connected: "+g);else init=true;g.nodeEdges(v).forEach(updateNeighbors)}return result}},{"../data/priority-queue":15,
"../graph":16,"../lodash":19}],13:[function(require,module,exports){var _=require("../lodash");module.exports=tarjan;function tarjan(g){var index=0,stack=[],visited={},results=[];function dfs(v){var entry=visited[v]={onStack:true,lowlink:index,index:index++};stack.push(v);g.successors(v).forEach(function(w){if(!_.has(visited,w)){dfs(w);entry.lowlink=Math.min(entry.lowlink,visited[w].lowlink)}else if(visited[w].onStack)entry.lowlink=Math.min(entry.lowlink,visited[w].index)});if(entry.lowlink===entry.index){var cmpt=
[],w;do{w=stack.pop();visited[w].onStack=false;cmpt.push(w)}while(v!==w);results.push(cmpt)}}g.nodes().forEach(function(v){if(!_.has(visited,v))dfs(v)});return results}},{"../lodash":19}],14:[function(require,module,exports){var _=require("../lodash");module.exports=topsort;topsort.CycleException=CycleException;function topsort(g){var visited={},stack={},results=[];function visit(node){if(_.has(stack,node))throw new CycleException;if(!_.has(visited,node)){stack[node]=true;visited[node]=true;_.each(g.predecessors(node),
visit);delete stack[node];results.push(node)}}_.each(g.sinks(),visit);if(_.size(visited)!==g.nodeCount())throw new CycleException;return results}function CycleException(){}},{"../lodash":19}],15:[function(require,module,exports){var _=require("../lodash");module.exports=PriorityQueue;function PriorityQueue(){this._arr=[];this._keyIndices={}}PriorityQueue.prototype.size=function(){return this._arr.length};PriorityQueue.prototype.keys=function(){return this._arr.map(function(x){return x.key})};PriorityQueue.prototype.has=
function(key){return _.has(this._keyIndices,key)};PriorityQueue.prototype.priority=function(key){var index=this._keyIndices[key];if(index!==undefined)return this._arr[index].priority};PriorityQueue.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};PriorityQueue.prototype.add=function(key,priority){var keyIndices=this._keyIndices;key=String(key);if(!_.has(keyIndices,key)){var arr=this._arr;var index=arr.length;keyIndices[key]=index;arr.push({key:key,
priority:priority});this._decrease(index);return true}return false};PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var min=this._arr.pop();delete this._keyIndices[min.key];this._heapify(0);return min.key};PriorityQueue.prototype.decrease=function(key,priority){var index=this._keyIndices[key];if(priority>this._arr[index].priority)throw new Error("New priority is greater than current priority. "+"Key: "+key+" Old: "+this._arr[index].priority+" New: "+priority);this._arr[index].priority=
priority;this._decrease(index)};PriorityQueue.prototype._heapify=function(i){var arr=this._arr;var l=2*i,r=l+1,largest=i;if(l<arr.length){largest=arr[l].priority<arr[largest].priority?l:largest;if(r<arr.length)largest=arr[r].priority<arr[largest].priority?r:largest;if(largest!==i){this._swap(i,largest);this._heapify(largest)}}};PriorityQueue.prototype._decrease=function(index){var arr=this._arr;var priority=arr[index].priority;var parent;while(index!==0){parent=index>>1;if(arr[parent].priority<priority)break;
this._swap(index,parent);index=parent}};PriorityQueue.prototype._swap=function(i,j){var arr=this._arr;var keyIndices=this._keyIndices;var origArrI=arr[i];var origArrJ=arr[j];arr[i]=origArrJ;arr[j]=origArrI;keyIndices[origArrJ.key]=i;keyIndices[origArrI.key]=j}},{"../lodash":19}],16:[function(require,module,exports){var _=require("./lodash");module.exports=Graph;var DEFAULT_EDGE_NAME="\x00",GRAPH_NODE="\x00",EDGE_KEY_DELIM="\u0001";function Graph(opts){this._isDirected=_.has(opts,"directed")?opts.directed:
true;this._isMultigraph=_.has(opts,"multigraph")?opts.multigraph:false;this._isCompound=_.has(opts,"compound")?opts.compound:false;this._label=undefined;this._defaultNodeLabelFn=_.constant(undefined);this._defaultEdgeLabelFn=_.constant(undefined);this._nodes={};if(this._isCompound){this._parent={};this._children={};this._children[GRAPH_NODE]={}}this._in={};this._preds={};this._out={};this._sucs={};this._edgeObjs={};this._edgeLabels={}}Graph.prototype._nodeCount=0;Graph.prototype._edgeCount=0;Graph.prototype.isDirected=
function(){return this._isDirected};Graph.prototype.isMultigraph=function(){return this._isMultigraph};Graph.prototype.isCompound=function(){return this._isCompound};Graph.prototype.setGraph=function(label){this._label=label;return this};Graph.prototype.graph=function(){return this._label};Graph.prototype.setDefaultNodeLabel=function(newDefault){if(!_.isFunction(newDefault))newDefault=_.constant(newDefault);this._defaultNodeLabelFn=newDefault;return this};Graph.prototype.nodeCount=function(){return this._nodeCount};
Graph.prototype.nodes=function(){return _.keys(this._nodes)};Graph.prototype.sources=function(){var self=this;return _.filter(this.nodes(),function(v){return _.isEmpty(self._in[v])})};Graph.prototype.sinks=function(){var self=this;return _.filter(this.nodes(),function(v){return _.isEmpty(self._out[v])})};Graph.prototype.setNodes=function(vs,value){var args=arguments;var self=this;_.each(vs,function(v){if(args.length>1)self.setNode(v,value);else self.setNode(v)});return this};Graph.prototype.setNode=
function(v,value){if(_.has(this._nodes,v)){if(arguments.length>1)this._nodes[v]=value;return this}this._nodes[v]=arguments.length>1?value:this._defaultNodeLabelFn(v);if(this._isCompound){this._parent[v]=GRAPH_NODE;this._children[v]={};this._children[GRAPH_NODE][v]=true}this._in[v]={};this._preds[v]={};this._out[v]={};this._sucs[v]={};++this._nodeCount;return this};Graph.prototype.node=function(v){return this._nodes[v]};Graph.prototype.hasNode=function(v){return _.has(this._nodes,v)};Graph.prototype.removeNode=
function(v){var self=this;if(_.has(this._nodes,v)){var removeEdge=function(e){self.removeEdge(self._edgeObjs[e])};delete this._nodes[v];if(this._isCompound){this._removeFromParentsChildList(v);delete this._parent[v];_.each(this.children(v),function(child){self.setParent(child)});delete this._children[v]}_.each(_.keys(this._in[v]),removeEdge);delete this._in[v];delete this._preds[v];_.each(_.keys(this._out[v]),removeEdge);delete this._out[v];delete this._sucs[v];--this._nodeCount}return this};Graph.prototype.setParent=
function(v,parent){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(parent))parent=GRAPH_NODE;else{parent+="";for(var ancestor=parent;!_.isUndefined(ancestor);ancestor=this.parent(ancestor))if(ancestor===v)throw new Error("Setting "+parent+" as parent of "+v+" would create a cycle");this.setNode(parent)}this.setNode(v);this._removeFromParentsChildList(v);this._parent[v]=parent;this._children[parent][v]=true;return this};Graph.prototype._removeFromParentsChildList=
function(v){delete this._children[this._parent[v]][v]};Graph.prototype.parent=function(v){if(this._isCompound){var parent=this._parent[v];if(parent!==GRAPH_NODE)return parent}};Graph.prototype.children=function(v){if(_.isUndefined(v))v=GRAPH_NODE;if(this._isCompound){var children=this._children[v];if(children)return _.keys(children)}else if(v===GRAPH_NODE)return this.nodes();else if(this.hasNode(v))return[]};Graph.prototype.predecessors=function(v){var predsV=this._preds[v];if(predsV)return _.keys(predsV)};
Graph.prototype.successors=function(v){var sucsV=this._sucs[v];if(sucsV)return _.keys(sucsV)};Graph.prototype.neighbors=function(v){var preds=this.predecessors(v);if(preds)return _.union(preds,this.successors(v))};Graph.prototype.isLeaf=function(v){var neighbors;if(this.isDirected())neighbors=this.successors(v);else neighbors=this.neighbors(v);return neighbors.length===0};Graph.prototype.filterNodes=function(filter){var copy=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,
compound:this._isCompound});copy.setGraph(this.graph());var self=this;_.each(this._nodes,function(value,v){if(filter(v))copy.setNode(v,value)});_.each(this._edgeObjs,function(e){if(copy.hasNode(e.v)&&copy.hasNode(e.w))copy.setEdge(e,self.edge(e))});var parents={};function findParent(v){var parent=self.parent(v);if(parent===undefined||copy.hasNode(parent)){parents[v]=parent;return parent}else if(parent in parents)return parents[parent];else return findParent(parent)}if(this._isCompound)_.each(copy.nodes(),
function(v){copy.setParent(v,findParent(v))});return copy};Graph.prototype.setDefaultEdgeLabel=function(newDefault){if(!_.isFunction(newDefault))newDefault=_.constant(newDefault);this._defaultEdgeLabelFn=newDefault;return this};Graph.prototype.edgeCount=function(){return this._edgeCount};Graph.prototype.edges=function(){return _.values(this._edgeObjs)};Graph.prototype.setPath=function(vs,value){var self=this,args=arguments;_.reduce(vs,function(v,w){if(args.length>1)self.setEdge(v,w,value);else self.setEdge(v,
w);return w});return this};Graph.prototype.setEdge=function(){var v,w,name,value,valueSpecified=false,arg0=arguments[0];if(typeof arg0==="object"&&arg0!==null&&"v"in arg0){v=arg0.v;w=arg0.w;name=arg0.name;if(arguments.length===2){value=arguments[1];valueSpecified=true}}else{v=arg0;w=arguments[1];name=arguments[3];if(arguments.length>2){value=arguments[2];valueSpecified=true}}v=""+v;w=""+w;if(!_.isUndefined(name))name=""+name;var e=edgeArgsToId(this._isDirected,v,w,name);if(_.has(this._edgeLabels,
e)){if(valueSpecified)this._edgeLabels[e]=value;return this}if(!_.isUndefined(name)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph \x3d false");this.setNode(v);this.setNode(w);this._edgeLabels[e]=valueSpecified?value:this._defaultEdgeLabelFn(v,w,name);var edgeObj=edgeArgsToObj(this._isDirected,v,w,name);v=edgeObj.v;w=edgeObj.w;Object.freeze(edgeObj);this._edgeObjs[e]=edgeObj;incrementOrInitEntry(this._preds[w],v);incrementOrInitEntry(this._sucs[v],w);this._in[w][e]=
edgeObj;this._out[v][e]=edgeObj;this._edgeCount++;return this};Graph.prototype.edge=function(v,w,name){var e=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return this._edgeLabels[e]};Graph.prototype.hasEdge=function(v,w,name){var e=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return _.has(this._edgeLabels,e)};Graph.prototype.removeEdge=function(v,w,name){var e=arguments.length===1?
edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name),edge=this._edgeObjs[e];if(edge){v=edge.v;w=edge.w;delete this._edgeLabels[e];delete this._edgeObjs[e];decrementOrRemoveEntry(this._preds[w],v);decrementOrRemoveEntry(this._sucs[v],w);delete this._in[w][e];delete this._out[v][e];this._edgeCount--}return this};Graph.prototype.inEdges=function(v,u){var inV=this._in[v];if(inV){var edges=_.values(inV);if(!u)return edges;return _.filter(edges,function(edge){return edge.v===
u})}};Graph.prototype.outEdges=function(v,w){var outV=this._out[v];if(outV){var edges=_.values(outV);if(!w)return edges;return _.filter(edges,function(edge){return edge.w===w})}};Graph.prototype.nodeEdges=function(v,w){var inEdges=this.inEdges(v,w);if(inEdges)return inEdges.concat(this.outEdges(v,w))};function incrementOrInitEntry(map,k){if(map[k])map[k]++;else map[k]=1}function decrementOrRemoveEntry(map,k){if(!--map[k])delete map[k]}function edgeArgsToId(isDirected,v_,w_,name){var v=""+v_;var w=
""+w_;if(!isDirected&&v>w){var tmp=v;v=w;w=tmp}return v+EDGE_KEY_DELIM+w+EDGE_KEY_DELIM+(_.isUndefined(name)?DEFAULT_EDGE_NAME:name)}function edgeArgsToObj(isDirected,v_,w_,name){var v=""+v_;var w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w;w=tmp}var edgeObj={v:v,w:w};if(name)edgeObj.name=name;return edgeObj}function edgeObjToId(isDirected,edgeObj){return edgeArgsToId(isDirected,edgeObj.v,edgeObj.w,edgeObj.name)}},{"./lodash":19}],17:[function(require,module,exports){module.exports={Graph:require("./graph"),
version:require("./version")}},{"./graph":16,"./version":20}],18:[function(require,module,exports){var _=require("./lodash"),Graph=require("./graph");module.exports={write:write,read:read};function write(g){var json={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:writeNodes(g),edges:writeEdges(g)};if(!_.isUndefined(g.graph()))json.value=_.clone(g.graph());return json}function writeNodes(g){return _.map(g.nodes(),function(v){var nodeValue=g.node(v),parent=
g.parent(v),node={v:v};if(!_.isUndefined(nodeValue))node.value=nodeValue;if(!_.isUndefined(parent))node.parent=parent;return node})}function writeEdges(g){return _.map(g.edges(),function(e){var edgeValue=g.edge(e),edge={v:e.v,w:e.w};if(!_.isUndefined(e.name))edge.name=e.name;if(!_.isUndefined(edgeValue))edge.value=edgeValue;return edge})}function read(json){var g=(new Graph(json.options)).setGraph(json.value);_.each(json.nodes,function(entry){g.setNode(entry.v,entry.value);if(entry.parent)g.setParent(entry.v,
entry.parent)});_.each(json.edges,function(entry){g.setEdge({v:entry.v,w:entry.w,name:entry.name},entry.value)});return g}},{"./graph":16,"./lodash":19}],19:[function(require,module,exports){var lodash;if(typeof require==="function")try{lodash=require("lodash")}catch(e){}if(!lodash)lodash=window._;module.exports=lodash},{"lodash":undefined}],20:[function(require,module,exports){module.exports="2.1.5"},{}]},{},[1])(1)});</script><script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined")module.exports=f();else if(typeof define==="function"&&define.amd)define([],f);else{var g;if(typeof window!=="undefined")g=window;else if(typeof global!=="undefined")g=global;else if(typeof self!=="undefined")g=self;else g=this;g.dagre=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=
new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports={graphlib:require("./lib/graphlib"),layout:require("./lib/layout"),debug:require("./lib/debug"),util:{time:require("./lib/util").time,notime:require("./lib/util").notime},
version:require("./lib/version")}},{"./lib/debug":6,"./lib/graphlib":7,"./lib/layout":9,"./lib/util":29,"./lib/version":30}],2:[function(require,module,exports){var _=require("./lodash"),greedyFAS=require("./greedy-fas");module.exports={run:run,undo:undo};function run(g){var fas=g.graph().acyclicer==="greedy"?greedyFAS(g,weightFn(g)):dfsFAS(g);_.forEach(fas,function(e){var label=g.edge(e);g.removeEdge(e);label.forwardName=e.name;label.reversed=true;g.setEdge(e.w,e.v,label,_.uniqueId("rev"))});function weightFn(g){return function(e){return g.edge(e).weight}}
}function dfsFAS(g){var fas=[],stack={},visited={};function dfs(v){if(_.has(visited,v))return;visited[v]=true;stack[v]=true;_.forEach(g.outEdges(v),function(e){if(_.has(stack,e.w))fas.push(e);else dfs(e.w)});delete stack[v]}_.forEach(g.nodes(),dfs);return fas}function undo(g){_.forEach(g.edges(),function(e){var label=g.edge(e);if(label.reversed){g.removeEdge(e);var forwardName=label.forwardName;delete label.reversed;delete label.forwardName;g.setEdge(e.w,e.v,label,forwardName)}})}},{"./greedy-fas":8,
"./lodash":10}],3:[function(require,module,exports){var _=require("./lodash"),util=require("./util");module.exports=addBorderSegments;function addBorderSegments(g){function dfs(v){var children=g.children(v),node=g.node(v);if(children.length)_.forEach(children,dfs);if(_.has(node,"minRank")){node.borderLeft=[];node.borderRight=[];for(var rank=node.minRank,maxRank=node.maxRank+1;rank<maxRank;++rank){addBorderNode(g,"borderLeft","_bl",v,node,rank);addBorderNode(g,"borderRight","_br",v,node,rank)}}}_.forEach(g.children(),
dfs)}function addBorderNode(g,prop,prefix,sg,sgNode,rank){var label={width:0,height:0,rank:rank,borderType:prop},prev=sgNode[prop][rank-1],curr=util.addDummyNode(g,"border",label,prefix);sgNode[prop][rank]=curr;g.setParent(curr,sg);if(prev)g.setEdge(prev,curr,{weight:1})}},{"./lodash":10,"./util":29}],4:[function(require,module,exports){var _=require("./lodash");module.exports={adjust:adjust,undo:undo};function adjust(g){var rankDir=g.graph().rankdir.toLowerCase();if(rankDir==="lr"||rankDir==="rl")swapWidthHeight(g)}
function undo(g){var rankDir=g.graph().rankdir.toLowerCase();if(rankDir==="bt"||rankDir==="rl")reverseY(g);if(rankDir==="lr"||rankDir==="rl"){swapXY(g);swapWidthHeight(g)}}function swapWidthHeight(g){_.forEach(g.nodes(),function(v){swapWidthHeightOne(g.node(v))});_.forEach(g.edges(),function(e){swapWidthHeightOne(g.edge(e))})}function swapWidthHeightOne(attrs){var w=attrs.width;attrs.width=attrs.height;attrs.height=w}function reverseY(g){_.forEach(g.nodes(),function(v){reverseYOne(g.node(v))});_.forEach(g.edges(),
function(e){var edge=g.edge(e);_.forEach(edge.points,reverseYOne);if(_.has(edge,"y"))reverseYOne(edge)})}function reverseYOne(attrs){attrs.y=-attrs.y}function swapXY(g){_.forEach(g.nodes(),function(v){swapXYOne(g.node(v))});_.forEach(g.edges(),function(e){var edge=g.edge(e);_.forEach(edge.points,swapXYOne);if(_.has(edge,"x"))swapXYOne(edge)})}function swapXYOne(attrs){var x=attrs.x;attrs.x=attrs.y;attrs.y=x}},{"./lodash":10}],5:[function(require,module,exports){module.exports=List;function List(){var sentinel=
{};sentinel._next=sentinel._prev=sentinel;this._sentinel=sentinel}List.prototype.dequeue=function(){var sentinel=this._sentinel,entry=sentinel._prev;if(entry!==sentinel){unlink(entry);return entry}};List.prototype.enqueue=function(entry){var sentinel=this._sentinel;if(entry._prev&&entry._next)unlink(entry);entry._next=sentinel._next;sentinel._next._prev=entry;sentinel._next=entry;entry._prev=sentinel};List.prototype.toString=function(){var strs=[],sentinel=this._sentinel,curr=sentinel._prev;while(curr!==
sentinel){strs.push(JSON.stringify(curr,filterOutLinks));curr=curr._prev}return"["+strs.join(", ")+"]"};function unlink(entry){entry._prev._next=entry._next;entry._next._prev=entry._prev;delete entry._next;delete entry._prev}function filterOutLinks(k,v){if(k!=="_next"&&k!=="_prev")return v}},{}],6:[function(require,module,exports){var _=require("./lodash"),util=require("./util"),Graph=require("./graphlib").Graph;module.exports={debugOrdering:debugOrdering};function debugOrdering(g){var layerMatrix=
util.buildLayerMatrix(g);var h=(new Graph({compound:true,multigraph:true})).setGraph({});_.forEach(g.nodes(),function(v){h.setNode(v,{label:v});h.setParent(v,"layer"+g.node(v).rank)});_.forEach(g.edges(),function(e){h.setEdge(e.v,e.w,{},e.name)});_.forEach(layerMatrix,function(layer,i){var layerV="layer"+i;h.setNode(layerV,{rank:"same"});_.reduce(layer,function(u,v){h.setEdge(u,v,{style:"invis"});return v})});return h}},{"./graphlib":7,"./lodash":10,"./util":29}],7:[function(require,module,exports){var graphlib;
if(typeof require==="function")try{graphlib=require("graphlib")}catch(e){}if(!graphlib)graphlib=window.graphlib;module.exports=graphlib},{"graphlib":undefined}],8:[function(require,module,exports){var _=require("./lodash"),Graph=require("./graphlib").Graph,List=require("./data/list");module.exports=greedyFAS;var DEFAULT_WEIGHT_FN=_.constant(1);function greedyFAS(g,weightFn){if(g.nodeCount()<=1)return[];var state=buildState(g,weightFn||DEFAULT_WEIGHT_FN);var results=doGreedyFAS(state.graph,state.buckets,
state.zeroIdx);return _.flatten(_.map(results,function(e){return g.outEdges(e.v,e.w)}),true)}function doGreedyFAS(g,buckets,zeroIdx){var results=[],sources=buckets[buckets.length-1],sinks=buckets[0];var entry;while(g.nodeCount()){while(entry=sinks.dequeue())removeNode(g,buckets,zeroIdx,entry);while(entry=sources.dequeue())removeNode(g,buckets,zeroIdx,entry);if(g.nodeCount())for(var i=buckets.length-2;i>0;--i){entry=buckets[i].dequeue();if(entry){results=results.concat(removeNode(g,buckets,zeroIdx,
entry,true));break}}}return results}function removeNode(g,buckets,zeroIdx,entry,collectPredecessors){var results=collectPredecessors?[]:undefined;_.forEach(g.inEdges(entry.v),function(edge){var weight=g.edge(edge),uEntry=g.node(edge.v);if(collectPredecessors)results.push({v:edge.v,w:edge.w});uEntry.out-=weight;assignBucket(buckets,zeroIdx,uEntry)});_.forEach(g.outEdges(entry.v),function(edge){var weight=g.edge(edge),w=edge.w,wEntry=g.node(w);wEntry["in"]-=weight;assignBucket(buckets,zeroIdx,wEntry)});
g.removeNode(entry.v);return results}function buildState(g,weightFn){var fasGraph=new Graph,maxIn=0,maxOut=0;_.forEach(g.nodes(),function(v){fasGraph.setNode(v,{v:v,"in":0,out:0})});_.forEach(g.edges(),function(e){var prevWeight=fasGraph.edge(e.v,e.w)||0,weight=weightFn(e),edgeWeight=prevWeight+weight;fasGraph.setEdge(e.v,e.w,edgeWeight);maxOut=Math.max(maxOut,fasGraph.node(e.v).out+=weight);maxIn=Math.max(maxIn,fasGraph.node(e.w)["in"]+=weight)});var buckets=_.range(maxOut+maxIn+3).map(function(){return new List});
var zeroIdx=maxIn+1;_.forEach(fasGraph.nodes(),function(v){assignBucket(buckets,zeroIdx,fasGraph.node(v))});return{graph:fasGraph,buckets:buckets,zeroIdx:zeroIdx}}function assignBucket(buckets,zeroIdx,entry){if(!entry.out)buckets[0].enqueue(entry);else if(!entry["in"])buckets[buckets.length-1].enqueue(entry);else buckets[entry.out-entry["in"]+zeroIdx].enqueue(entry)}},{"./data/list":5,"./graphlib":7,"./lodash":10}],9:[function(require,module,exports){var _=require("./lodash"),acyclic=require("./acyclic"),
normalize=require("./normalize"),rank=require("./rank"),normalizeRanks=require("./util").normalizeRanks,parentDummyChains=require("./parent-dummy-chains"),removeEmptyRanks=require("./util").removeEmptyRanks,nestingGraph=require("./nesting-graph"),addBorderSegments=require("./add-border-segments"),coordinateSystem=require("./coordinate-system"),order=require("./order"),position=require("./position"),util=require("./util"),Graph=require("./graphlib").Graph;module.exports=layout;function layout(g,opts){var time=
opts&&opts.debugTiming?util.time:util.notime;time("layout",function(){var layoutGraph=time("  buildLayoutGraph",function(){return buildLayoutGraph(g)});time("  runLayout",function(){runLayout(layoutGraph,time)});time("  updateInputGraph",function(){updateInputGraph(g,layoutGraph)})})}function runLayout(g,time){time("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(g)});time("    removeSelfEdges",function(){removeSelfEdges(g)});time("    acyclic",function(){acyclic.run(g)});time("    nestingGraph.run",
function(){nestingGraph.run(g)});time("    rank",function(){rank(util.asNonCompoundGraph(g))});time("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(g)});time("    removeEmptyRanks",function(){removeEmptyRanks(g)});time("    nestingGraph.cleanup",function(){nestingGraph.cleanup(g)});time("    normalizeRanks",function(){normalizeRanks(g)});time("    assignRankMinMax",function(){assignRankMinMax(g)});time("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(g)});time("    normalize.run",
function(){normalize.run(g)});time("    parentDummyChains",function(){parentDummyChains(g)});time("    addBorderSegments",function(){addBorderSegments(g)});time("    order",function(){order(g)});time("    insertSelfEdges",function(){insertSelfEdges(g)});time("    adjustCoordinateSystem",function(){coordinateSystem.adjust(g)});time("    position",function(){position(g)});time("    positionSelfEdges",function(){positionSelfEdges(g)});time("    removeBorderNodes",function(){removeBorderNodes(g)});time("    normalize.undo",
function(){normalize.undo(g)});time("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(g)});time("    undoCoordinateSystem",function(){coordinateSystem.undo(g)});time("    translateGraph",function(){translateGraph(g)});time("    assignNodeIntersects",function(){assignNodeIntersects(g)});time("    reversePoints",function(){reversePointsForReversedEdges(g)});time("    acyclic.undo",function(){acyclic.undo(g)})}function updateInputGraph(inputGraph,layoutGraph){_.forEach(inputGraph.nodes(),function(v){var inputLabel=
inputGraph.node(v),layoutLabel=layoutGraph.node(v);if(inputLabel){inputLabel.x=layoutLabel.x;inputLabel.y=layoutLabel.y;if(layoutGraph.children(v).length){inputLabel.width=layoutLabel.width;inputLabel.height=layoutLabel.height}}});_.forEach(inputGraph.edges(),function(e){var inputLabel=inputGraph.edge(e),layoutLabel=layoutGraph.edge(e);inputLabel.points=layoutLabel.points;if(_.has(layoutLabel,"x")){inputLabel.x=layoutLabel.x;inputLabel.y=layoutLabel.y}});inputGraph.graph().width=layoutGraph.graph().width;
inputGraph.graph().height=layoutGraph.graph().height}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function buildLayoutGraph(inputGraph){var g=
new Graph({multigraph:true,compound:true}),graph=canonicalize(inputGraph.graph());g.setGraph(_.merge({},graphDefaults,selectNumberAttrs(graph,graphNumAttrs),_.pick(graph,graphAttrs)));_.forEach(inputGraph.nodes(),function(v){var node=canonicalize(inputGraph.node(v));g.setNode(v,_.defaults(selectNumberAttrs(node,nodeNumAttrs),nodeDefaults));g.setParent(v,inputGraph.parent(v))});_.forEach(inputGraph.edges(),function(e){var edge=canonicalize(inputGraph.edge(e));g.setEdge(e,_.merge({},edgeDefaults,selectNumberAttrs(edge,
edgeNumAttrs),_.pick(edge,edgeAttrs)))});return g}function makeSpaceForEdgeLabels(g){var graph=g.graph();graph.ranksep/=2;_.forEach(g.edges(),function(e){var edge=g.edge(e);edge.minlen*=2;if(edge.labelpos.toLowerCase()!=="c")if(graph.rankdir==="TB"||graph.rankdir==="BT")edge.width+=edge.labeloffset;else edge.height+=edge.labeloffset})}function injectEdgeLabelProxies(g){_.forEach(g.edges(),function(e){var edge=g.edge(e);if(edge.width&&edge.height){var v=g.node(e.v),w=g.node(e.w),label={rank:(w.rank-
v.rank)/2+v.rank,e:e};util.addDummyNode(g,"edge-proxy",label,"_ep")}})}function assignRankMinMax(g){var maxRank=0;_.forEach(g.nodes(),function(v){var node=g.node(v);if(node.borderTop){node.minRank=g.node(node.borderTop).rank;node.maxRank=g.node(node.borderBottom).rank;maxRank=_.max(maxRank,node.maxRank)}});g.graph().maxRank=maxRank}function removeEdgeLabelProxies(g){_.forEach(g.nodes(),function(v){var node=g.node(v);if(node.dummy==="edge-proxy"){g.edge(node.e).labelRank=node.rank;g.removeNode(v)}})}
function translateGraph(g){var minX=Number.POSITIVE_INFINITY,maxX=0,minY=Number.POSITIVE_INFINITY,maxY=0,graphLabel=g.graph(),marginX=graphLabel.marginx||0,marginY=graphLabel.marginy||0;function getExtremes(attrs){var x=attrs.x,y=attrs.y,w=attrs.width,h=attrs.height;minX=Math.min(minX,x-w/2);maxX=Math.max(maxX,x+w/2);minY=Math.min(minY,y-h/2);maxY=Math.max(maxY,y+h/2)}_.forEach(g.nodes(),function(v){getExtremes(g.node(v))});_.forEach(g.edges(),function(e){var edge=g.edge(e);if(_.has(edge,"x"))getExtremes(edge)});
minX-=marginX;minY-=marginY;_.forEach(g.nodes(),function(v){var node=g.node(v);node.x-=minX;node.y-=minY});_.forEach(g.edges(),function(e){var edge=g.edge(e);_.forEach(edge.points,function(p){p.x-=minX;p.y-=minY});if(_.has(edge,"x"))edge.x-=minX;if(_.has(edge,"y"))edge.y-=minY});graphLabel.width=maxX-minX+marginX;graphLabel.height=maxY-minY+marginY}function assignNodeIntersects(g){_.forEach(g.edges(),function(e){var edge=g.edge(e),nodeV=g.node(e.v),nodeW=g.node(e.w),p1,p2;if(!edge.points){edge.points=
[];p1=nodeW;p2=nodeV}else{p1=edge.points[0];p2=edge.points[edge.points.length-1]}edge.points.unshift(util.intersectRect(nodeV,p1));edge.points.push(util.intersectRect(nodeW,p2))})}function fixupEdgeLabelCoords(g){_.forEach(g.edges(),function(e){var edge=g.edge(e);if(_.has(edge,"x")){if(edge.labelpos==="l"||edge.labelpos==="r")edge.width-=edge.labeloffset;switch(edge.labelpos){case "l":edge.x-=edge.width/2+edge.labeloffset;break;case "r":edge.x+=edge.width/2+edge.labeloffset;break}}})}function reversePointsForReversedEdges(g){_.forEach(g.edges(),
function(e){var edge=g.edge(e);if(edge.reversed)edge.points.reverse()})}function removeBorderNodes(g){_.forEach(g.nodes(),function(v){if(g.children(v).length){var node=g.node(v),t=g.node(node.borderTop),b=g.node(node.borderBottom),l=g.node(_.last(node.borderLeft)),r=g.node(_.last(node.borderRight));node.width=Math.abs(r.x-l.x);node.height=Math.abs(b.y-t.y);node.x=l.x+node.width/2;node.y=t.y+node.height/2}});_.forEach(g.nodes(),function(v){if(g.node(v).dummy==="border")g.removeNode(v)})}function removeSelfEdges(g){_.forEach(g.edges(),
function(e){if(e.v===e.w){var node=g.node(e.v);if(!node.selfEdges)node.selfEdges=[];node.selfEdges.push({e:e,label:g.edge(e)});g.removeEdge(e)}})}function insertSelfEdges(g){var layers=util.buildLayerMatrix(g);_.forEach(layers,function(layer){var orderShift=0;_.forEach(layer,function(v,i){var node=g.node(v);node.order=i+orderShift;_.forEach(node.selfEdges,function(selfEdge){util.addDummyNode(g,"selfedge",{width:selfEdge.label.width,height:selfEdge.label.height,rank:node.rank,order:i+ ++orderShift,
e:selfEdge.e,label:selfEdge.label},"_se")});delete node.selfEdges})})}function positionSelfEdges(g){_.forEach(g.nodes(),function(v){var node=g.node(v);if(node.dummy==="selfedge"){var selfNode=g.node(node.e.v),x=selfNode.x+selfNode.width/2,y=selfNode.y,dx=node.x-x,dy=selfNode.height/2;g.setEdge(node.e,node.label);g.removeNode(v);node.label.points=[{x:x+2*dx/3,y:y-dy},{x:x+5*dx/6,y:y-dy},{x:x+dx,y:y},{x:x+5*dx/6,y:y+dy},{x:x+2*dx/3,y:y+dy}];node.label.x=node.x;node.label.y=node.y}})}function selectNumberAttrs(obj,
attrs){return _.mapValues(_.pick(obj,attrs),Number)}function canonicalize(attrs){var newAttrs={};_.forEach(attrs,function(v,k){newAttrs[k.toLowerCase()]=v});return newAttrs}},{"./acyclic":2,"./add-border-segments":3,"./coordinate-system":4,"./graphlib":7,"./lodash":10,"./nesting-graph":11,"./normalize":12,"./order":17,"./parent-dummy-chains":22,"./position":24,"./rank":26,"./util":29}],10:[function(require,module,exports){var lodash;if(typeof require==="function")try{lodash=require("lodash")}catch(e){}if(!lodash)lodash=
window._;module.exports=lodash},{"lodash":undefined}],11:[function(require,module,exports){var _=require("./lodash"),util=require("./util");module.exports={run:run,cleanup:cleanup};function run(g){var root=util.addDummyNode(g,"root",{},"_root");var depths=treeDepths(g);var height=_.max(_.values(depths))-1;var nodeSep=2*height+1;g.graph().nestingRoot=root;_.forEach(g.edges(),function(e){g.edge(e).minlen*=nodeSep});var weight=sumWeights(g)+1;_.forEach(g.children(),function(child){dfs(g,root,nodeSep,
weight,height,depths,child)});g.graph().nodeRankFactor=nodeSep}function dfs(g,root,nodeSep,weight,height,depths,v){var children=g.children(v);if(!children.length){if(v!==root)g.setEdge(root,v,{weight:0,minlen:nodeSep});return}var top=util.addBorderNode(g,"_bt"),bottom=util.addBorderNode(g,"_bb"),label=g.node(v);g.setParent(top,v);label.borderTop=top;g.setParent(bottom,v);label.borderBottom=bottom;_.forEach(children,function(child){dfs(g,root,nodeSep,weight,height,depths,child);var childNode=g.node(child),
childTop=childNode.borderTop?childNode.borderTop:child,childBottom=childNode.borderBottom?childNode.borderBottom:child,thisWeight=childNode.borderTop?weight:2*weight,minlen=childTop!==childBottom?1:height-depths[v]+1;g.setEdge(top,childTop,{weight:thisWeight,minlen:minlen,nestingEdge:true});g.setEdge(childBottom,bottom,{weight:thisWeight,minlen:minlen,nestingEdge:true})});if(!g.parent(v))g.setEdge(root,top,{weight:0,minlen:height+depths[v]})}function treeDepths(g){var depths={};function dfs(v,depth){var children=
g.children(v);if(children&&children.length)_.forEach(children,function(child){dfs(child,depth+1)});depths[v]=depth}_.forEach(g.children(),function(v){dfs(v,1)});return depths}function sumWeights(g){return _.reduce(g.edges(),function(acc,e){return acc+g.edge(e).weight},0)}function cleanup(g){var graphLabel=g.graph();g.removeNode(graphLabel.nestingRoot);delete graphLabel.nestingRoot;_.forEach(g.edges(),function(e){var edge=g.edge(e);if(edge.nestingEdge)g.removeEdge(e)})}},{"./lodash":10,"./util":29}],
12:[function(require,module,exports){var _=require("./lodash"),util=require("./util");module.exports={run:run,undo:undo};function run(g){g.graph().dummyChains=[];_.forEach(g.edges(),function(edge){normalizeEdge(g,edge)})}function normalizeEdge(g,e){var v=e.v,vRank=g.node(v).rank,w=e.w,wRank=g.node(w).rank,name=e.name,edgeLabel=g.edge(e),labelRank=edgeLabel.labelRank;if(wRank===vRank+1)return;g.removeEdge(e);var dummy,attrs,i;for(i=0,++vRank;vRank<wRank;++i,++vRank){edgeLabel.points=[];attrs={width:0,
height:0,edgeLabel:edgeLabel,edgeObj:e,rank:vRank};dummy=util.addDummyNode(g,"edge",attrs,"_d");if(vRank===labelRank){attrs.width=edgeLabel.width;attrs.height=edgeLabel.height;attrs.dummy="edge-label";attrs.labelpos=edgeLabel.labelpos}g.setEdge(v,dummy,{weight:edgeLabel.weight},name);if(i===0)g.graph().dummyChains.push(dummy);v=dummy}g.setEdge(v,w,{weight:edgeLabel.weight},name)}function undo(g){_.forEach(g.graph().dummyChains,function(v){var node=g.node(v),origLabel=node.edgeLabel,w;g.setEdge(node.edgeObj,
origLabel);while(node.dummy){w=g.successors(v)[0];g.removeNode(v);origLabel.points.push({x:node.x,y:node.y});if(node.dummy==="edge-label"){origLabel.x=node.x;origLabel.y=node.y;origLabel.width=node.width;origLabel.height=node.height}v=w;node=g.node(v)}})}},{"./lodash":10,"./util":29}],13:[function(require,module,exports){var _=require("../lodash");module.exports=addSubgraphConstraints;function addSubgraphConstraints(g,cg,vs){var prev={},rootPrev;_.forEach(vs,function(v){var child=g.parent(v),parent,
prevChild;while(child){parent=g.parent(child);if(parent){prevChild=prev[parent];prev[parent]=child}else{prevChild=rootPrev;rootPrev=child}if(prevChild&&prevChild!==child){cg.setEdge(prevChild,child);return}child=parent}})}},{"../lodash":10}],14:[function(require,module,exports){var _=require("../lodash");module.exports=barycenter;function barycenter(g,movable){return _.map(movable,function(v){var inV=g.inEdges(v);if(!inV.length)return{v:v};else{var result=_.reduce(inV,function(acc,e){var edge=g.edge(e),
nodeU=g.node(e.v);return{sum:acc.sum+edge.weight*nodeU.order,weight:acc.weight+edge.weight}},{sum:0,weight:0});return{v:v,barycenter:result.sum/result.weight,weight:result.weight}}})}},{"../lodash":10}],15:[function(require,module,exports){var _=require("../lodash"),Graph=require("../graphlib").Graph;module.exports=buildLayerGraph;function buildLayerGraph(g,rank,relationship){var root=createRootNode(g),result=(new Graph({compound:true})).setGraph({root:root}).setDefaultNodeLabel(function(v){return g.node(v)});
_.forEach(g.nodes(),function(v){var node=g.node(v),parent=g.parent(v);if(node.rank===rank||node.minRank<=rank&&rank<=node.maxRank){result.setNode(v);result.setParent(v,parent||root);_.forEach(g[relationship](v),function(e){var u=e.v===v?e.w:e.v,edge=result.edge(u,v),weight=!_.isUndefined(edge)?edge.weight:0;result.setEdge(u,v,{weight:g.edge(e).weight+weight})});if(_.has(node,"minRank"))result.setNode(v,{borderLeft:node.borderLeft[rank],borderRight:node.borderRight[rank]})}});return result}function createRootNode(g){var v;
while(g.hasNode(v=_.uniqueId("_root")));return v}},{"../graphlib":7,"../lodash":10}],16:[function(require,module,exports){var _=require("../lodash");module.exports=crossCount;function crossCount(g,layering){var cc=0;for(var i=1;i<layering.length;++i)cc+=twoLayerCrossCount(g,layering[i-1],layering[i]);return cc}function twoLayerCrossCount(g,northLayer,southLayer){var southPos=_.zipObject(southLayer,_.map(southLayer,function(v,i){return i}));var southEntries=_.flatten(_.map(northLayer,function(v){return _.chain(g.outEdges(v)).map(function(e){return{pos:southPos[e.w],
weight:g.edge(e).weight}}).sortBy("pos").value()}),true);var firstIndex=1;while(firstIndex<southLayer.length)firstIndex<<=1;var treeSize=2*firstIndex-1;firstIndex-=1;var tree=_.map(new Array(treeSize),function(){return 0});var cc=0;_.forEach(southEntries.forEach(function(entry){var index=entry.pos+firstIndex;tree[index]+=entry.weight;var weightSum=0;while(index>0){if(index%2)weightSum+=tree[index+1];index=index-1>>1;tree[index]+=entry.weight}cc+=entry.weight*weightSum}));return cc}},{"../lodash":10}],
17:[function(require,module,exports){var _=require("../lodash"),initOrder=require("./init-order"),crossCount=require("./cross-count"),sortSubgraph=require("./sort-subgraph"),buildLayerGraph=require("./build-layer-graph"),addSubgraphConstraints=require("./add-subgraph-constraints"),Graph=require("../graphlib").Graph,util=require("../util");module.exports=order;function order(g){var maxRank=util.maxRank(g),downLayerGraphs=buildLayerGraphs(g,_.range(1,maxRank+1),"inEdges"),upLayerGraphs=buildLayerGraphs(g,
_.range(maxRank-1,-1,-1),"outEdges");var layering=initOrder(g);assignOrder(g,layering);var bestCC=Number.POSITIVE_INFINITY,best;for(var i=0,lastBest=0;lastBest<4;++i,++lastBest){sweepLayerGraphs(i%2?downLayerGraphs:upLayerGraphs,i%4>=2);layering=util.buildLayerMatrix(g);var cc=crossCount(g,layering);if(cc<bestCC){lastBest=0;best=_.cloneDeep(layering);bestCC=cc}}assignOrder(g,best)}function buildLayerGraphs(g,ranks,relationship){return _.map(ranks,function(rank){return buildLayerGraph(g,rank,relationship)})}
function sweepLayerGraphs(layerGraphs,biasRight){var cg=new Graph;_.forEach(layerGraphs,function(lg){var root=lg.graph().root;var sorted=sortSubgraph(lg,root,cg,biasRight);_.forEach(sorted.vs,function(v,i){lg.node(v).order=i});addSubgraphConstraints(lg,cg,sorted.vs)})}function assignOrder(g,layering){_.forEach(layering,function(layer){_.forEach(layer,function(v,i){g.node(v).order=i})})}},{"../graphlib":7,"../lodash":10,"../util":29,"./add-subgraph-constraints":13,"./build-layer-graph":15,"./cross-count":16,
"./init-order":18,"./sort-subgraph":20}],18:[function(require,module,exports){var _=require("../lodash");module.exports=initOrder;function initOrder(g){var visited={},simpleNodes=_.filter(g.nodes(),function(v){return!g.children(v).length}),maxRank=_.max(_.map(simpleNodes,function(v){return g.node(v).rank})),layers=_.map(_.range(maxRank+1),function(){return[]});function dfs(v){if(_.has(visited,v))return;visited[v]=true;var node=g.node(v);layers[node.rank].push(v);_.forEach(g.successors(v),dfs)}var orderedVs=
_.sortBy(simpleNodes,function(v){return g.node(v).rank});_.forEach(orderedVs,dfs);return layers}},{"../lodash":10}],19:[function(require,module,exports){var _=require("../lodash");module.exports=resolveConflicts;function resolveConflicts(entries,cg){var mappedEntries={};_.forEach(entries,function(entry,i){var tmp=mappedEntries[entry.v]={indegree:0,"in":[],out:[],vs:[entry.v],i:i};if(!_.isUndefined(entry.barycenter)){tmp.barycenter=entry.barycenter;tmp.weight=entry.weight}});_.forEach(cg.edges(),function(e){var entryV=
mappedEntries[e.v],entryW=mappedEntries[e.w];if(!_.isUndefined(entryV)&&!_.isUndefined(entryW)){entryW.indegree++;entryV.out.push(mappedEntries[e.w])}});var sourceSet=_.filter(mappedEntries,function(entry){return!entry.indegree});return doResolveConflicts(sourceSet)}function doResolveConflicts(sourceSet){var entries=[];function handleIn(vEntry){return function(uEntry){if(uEntry.merged)return;if(_.isUndefined(uEntry.barycenter)||_.isUndefined(vEntry.barycenter)||uEntry.barycenter>=vEntry.barycenter)mergeEntries(vEntry,
uEntry)}}function handleOut(vEntry){return function(wEntry){wEntry["in"].push(vEntry);if(--wEntry.indegree===0)sourceSet.push(wEntry)}}while(sourceSet.length){var entry=sourceSet.pop();entries.push(entry);_.forEach(entry["in"].reverse(),handleIn(entry));_.forEach(entry.out,handleOut(entry))}return _.chain(entries).filter(function(entry){return!entry.merged}).map(function(entry){return _.pick(entry,["vs","i","barycenter","weight"])}).value()}function mergeEntries(target,source){var sum=0,weight=0;
if(target.weight){sum+=target.barycenter*target.weight;weight+=target.weight}if(source.weight){sum+=source.barycenter*source.weight;weight+=source.weight}target.vs=source.vs.concat(target.vs);target.barycenter=sum/weight;target.weight=weight;target.i=Math.min(source.i,target.i);source.merged=true}},{"../lodash":10}],20:[function(require,module,exports){var _=require("../lodash"),barycenter=require("./barycenter"),resolveConflicts=require("./resolve-conflicts"),sort=require("./sort");module.exports=
sortSubgraph;function sortSubgraph(g,v,cg,biasRight){var movable=g.children(v),node=g.node(v),bl=node?node.borderLeft:undefined,br=node?node.borderRight:undefined,subgraphs={};if(bl)movable=_.filter(movable,function(w){return w!==bl&&w!==br});var barycenters=barycenter(g,movable);_.forEach(barycenters,function(entry){if(g.children(entry.v).length){var subgraphResult=sortSubgraph(g,entry.v,cg,biasRight);subgraphs[entry.v]=subgraphResult;if(_.has(subgraphResult,"barycenter"))mergeBarycenters(entry,
subgraphResult)}});var entries=resolveConflicts(barycenters,cg);expandSubgraphs(entries,subgraphs);var result=sort(entries,biasRight);if(bl){result.vs=_.flatten([bl,result.vs,br],true);if(g.predecessors(bl).length){var blPred=g.node(g.predecessors(bl)[0]),brPred=g.node(g.predecessors(br)[0]);if(!_.has(result,"barycenter")){result.barycenter=0;result.weight=0}result.barycenter=(result.barycenter*result.weight+blPred.order+brPred.order)/(result.weight+2);result.weight+=2}}return result}function expandSubgraphs(entries,
subgraphs){_.forEach(entries,function(entry){entry.vs=_.flatten(entry.vs.map(function(v){if(subgraphs[v])return subgraphs[v].vs;return v}),true)})}function mergeBarycenters(target,other){if(!_.isUndefined(target.barycenter)){target.barycenter=(target.barycenter*target.weight+other.barycenter*other.weight)/(target.weight+other.weight);target.weight+=other.weight}else{target.barycenter=other.barycenter;target.weight=other.weight}}},{"../lodash":10,"./barycenter":14,"./resolve-conflicts":19,"./sort":21}],
21:[function(require,module,exports){var _=require("../lodash"),util=require("../util");module.exports=sort;function sort(entries,biasRight){var parts=util.partition(entries,function(entry){return _.has(entry,"barycenter")});var sortable=parts.lhs,unsortable=_.sortBy(parts.rhs,function(entry){return-entry.i}),vs=[],sum=0,weight=0,vsIndex=0;sortable.sort(compareWithBias(!!biasRight));vsIndex=consumeUnsortable(vs,unsortable,vsIndex);_.forEach(sortable,function(entry){vsIndex+=entry.vs.length;vs.push(entry.vs);
sum+=entry.barycenter*entry.weight;weight+=entry.weight;vsIndex=consumeUnsortable(vs,unsortable,vsIndex)});var result={vs:_.flatten(vs,true)};if(weight){result.barycenter=sum/weight;result.weight=weight}return result}function consumeUnsortable(vs,unsortable,index){var last;while(unsortable.length&&(last=_.last(unsortable)).i<=index){unsortable.pop();vs.push(last.vs);index++}return index}function compareWithBias(bias){return function(entryV,entryW){if(entryV.barycenter<entryW.barycenter)return-1;else if(entryV.barycenter>
entryW.barycenter)return 1;return!bias?entryV.i-entryW.i:entryW.i-entryV.i}}},{"../lodash":10,"../util":29}],22:[function(require,module,exports){var _=require("./lodash");module.exports=parentDummyChains;function parentDummyChains(g){var postorderNums=postorder(g);_.forEach(g.graph().dummyChains,function(v){var node=g.node(v),edgeObj=node.edgeObj,pathData=findPath(g,postorderNums,edgeObj.v,edgeObj.w),path=pathData.path,lca=pathData.lca,pathIdx=0,pathV=path[pathIdx],ascending=true;while(v!==edgeObj.w){node=
g.node(v);if(ascending){while((pathV=path[pathIdx])!==lca&&g.node(pathV).maxRank<node.rank)pathIdx++;if(pathV===lca)ascending=false}if(!ascending){while(pathIdx<path.length-1&&g.node(pathV=path[pathIdx+1]).minRank<=node.rank)pathIdx++;pathV=path[pathIdx]}g.setParent(v,pathV);v=g.successors(v)[0]}})}function findPath(g,postorderNums,v,w){var vPath=[],wPath=[],low=Math.min(postorderNums[v].low,postorderNums[w].low),lim=Math.max(postorderNums[v].lim,postorderNums[w].lim),parent,lca;parent=v;do{parent=
g.parent(parent);vPath.push(parent)}while(parent&&(postorderNums[parent].low>low||lim>postorderNums[parent].lim));lca=parent;parent=w;while((parent=g.parent(parent))!==lca)wPath.push(parent);return{path:vPath.concat(wPath.reverse()),lca:lca}}function postorder(g){var result={},lim=0;function dfs(v){var low=lim;_.forEach(g.children(v),dfs);result[v]={low:low,lim:lim++}}_.forEach(g.children(),dfs);return result}},{"./lodash":10}],23:[function(require,module,exports){var _=require("../lodash"),Graph=
require("../graphlib").Graph,util=require("../util");module.exports={positionX:positionX,findType1Conflicts:findType1Conflicts,findType2Conflicts:findType2Conflicts,addConflict:addConflict,hasConflict:hasConflict,verticalAlignment:verticalAlignment,horizontalCompaction:horizontalCompaction,alignCoordinates:alignCoordinates,findSmallestWidthAlignment:findSmallestWidthAlignment,balance:balance};function findType1Conflicts(g,layering){var conflicts={};function visitLayer(prevLayer,layer){var k0=0,scanPos=
0,prevLayerLength=prevLayer.length,lastNode=_.last(layer);_.forEach(layer,function(v,i){var w=findOtherInnerSegmentNode(g,v),k1=w?g.node(w).order:prevLayerLength;if(w||v===lastNode){_.forEach(layer.slice(scanPos,i+1),function(scanNode){_.forEach(g.predecessors(scanNode),function(u){var uLabel=g.node(u),uPos=uLabel.order;if((uPos<k0||k1<uPos)&&!(uLabel.dummy&&g.node(scanNode).dummy))addConflict(conflicts,u,scanNode)})});scanPos=i+1;k0=k1}});return layer}_.reduce(layering,visitLayer);return conflicts}
function findType2Conflicts(g,layering){var conflicts={};function scan(south,southPos,southEnd,prevNorthBorder,nextNorthBorder){var v;_.forEach(_.range(southPos,southEnd),function(i){v=south[i];if(g.node(v).dummy)_.forEach(g.predecessors(v),function(u){var uNode=g.node(u);if(uNode.dummy&&(uNode.order<prevNorthBorder||uNode.order>nextNorthBorder))addConflict(conflicts,u,v)})})}function visitLayer(north,south){var prevNorthPos=-1,nextNorthPos,southPos=0;_.forEach(south,function(v,southLookahead){if(g.node(v).dummy===
"border"){var predecessors=g.predecessors(v);if(predecessors.length){nextNorthPos=g.node(predecessors[0]).order;scan(south,southPos,southLookahead,prevNorthPos,nextNorthPos);southPos=southLookahead;prevNorthPos=nextNorthPos}}scan(south,southPos,south.length,nextNorthPos,north.length)});return south}_.reduce(layering,visitLayer);return conflicts}function findOtherInnerSegmentNode(g,v){if(g.node(v).dummy)return _.find(g.predecessors(v),function(u){return g.node(u).dummy})}function addConflict(conflicts,
v,w){if(v>w){var tmp=v;v=w;w=tmp}var conflictsV=conflicts[v];if(!conflictsV)conflicts[v]=conflictsV={};conflictsV[w]=true}function hasConflict(conflicts,v,w){if(v>w){var tmp=v;v=w;w=tmp}return _.has(conflicts[v],w)}function verticalAlignment(g,layering,conflicts,neighborFn){var root={},align={},pos={};_.forEach(layering,function(layer){_.forEach(layer,function(v,order){root[v]=v;align[v]=v;pos[v]=order})});_.forEach(layering,function(layer){var prevIdx=-1;_.forEach(layer,function(v){var ws=neighborFn(v);
if(ws.length){ws=_.sortBy(ws,function(w){return pos[w]});var mp=(ws.length-1)/2;for(var i=Math.floor(mp),il=Math.ceil(mp);i<=il;++i){var w=ws[i];if(align[v]===v&&prevIdx<pos[w]&&!hasConflict(conflicts,v,w)){align[w]=v;align[v]=root[v]=root[w];prevIdx=pos[w]}}}})});return{root:root,align:align}}function horizontalCompaction(g,layering,root,align,reverseSep){var xs={},blockG=buildBlockGraph(g,layering,root,reverseSep),borderType=reverseSep?"borderLeft":"borderRight";function iterate(setXsFunc,nextNodesFunc){var stack=
blockG.nodes();var elem=stack.pop();var visited={};while(elem){if(visited[elem])setXsFunc(elem);else{visited[elem]=true;stack.push(elem);stack=stack.concat(nextNodesFunc(elem))}elem=stack.pop()}}function pass1(elem){xs[elem]=blockG.inEdges(elem).reduce(function(acc,e){return Math.max(acc,xs[e.v]+blockG.edge(e))},0)}function pass2(elem){var min=blockG.outEdges(elem).reduce(function(acc,e){return Math.min(acc,xs[e.w]-blockG.edge(e))},Number.POSITIVE_INFINITY);var node=g.node(elem);if(min!==Number.POSITIVE_INFINITY&&
node.borderType!==borderType)xs[elem]=Math.max(xs[elem],min)}iterate(pass1,_.bind(blockG.predecessors,blockG));iterate(pass2,_.bind(blockG.successors,blockG));_.forEach(align,function(v){xs[v]=xs[root[v]]});return xs}function buildBlockGraph(g,layering,root,reverseSep){var blockGraph=new Graph,graphLabel=g.graph(),sepFn=sep(graphLabel.nodesep,graphLabel.edgesep,reverseSep);_.forEach(layering,function(layer){var u;_.forEach(layer,function(v){var vRoot=root[v];blockGraph.setNode(vRoot);if(u){var uRoot=
root[u],prevMax=blockGraph.edge(uRoot,vRoot);blockGraph.setEdge(uRoot,vRoot,Math.max(sepFn(g,v,u),prevMax||0))}u=v})});return blockGraph}function findSmallestWidthAlignment(g,xss){return _.minBy(_.values(xss),function(xs){var max=Number.NEGATIVE_INFINITY;var min=Number.POSITIVE_INFINITY;_.forIn(xs,function(x,v){var halfWidth=width(g,v)/2;max=Math.max(x+halfWidth,max);min=Math.min(x-halfWidth,min)});return max-min})}function alignCoordinates(xss,alignTo){var alignToVals=_.values(alignTo),alignToMin=
_.min(alignToVals),alignToMax=_.max(alignToVals);_.forEach(["u","d"],function(vert){_.forEach(["l","r"],function(horiz){var alignment=vert+horiz,xs=xss[alignment],delta;if(xs===alignTo)return;var xsVals=_.values(xs);delta=horiz==="l"?alignToMin-_.min(xsVals):alignToMax-_.max(xsVals);if(delta)xss[alignment]=_.mapValues(xs,function(x){return x+delta})})})}function balance(xss,align){return _.mapValues(xss.ul,function(ignore,v){if(align)return xss[align.toLowerCase()][v];else{var xs=_.sortBy(_.map(xss,
v));return(xs[1]+xs[2])/2}})}function positionX(g){var layering=util.buildLayerMatrix(g),conflicts=_.merge(findType1Conflicts(g,layering),findType2Conflicts(g,layering));var xss={},adjustedLayering;_.forEach(["u","d"],function(vert){adjustedLayering=vert==="u"?layering:_.values(layering).reverse();_.forEach(["l","r"],function(horiz){if(horiz==="r")adjustedLayering=_.map(adjustedLayering,function(inner){return _.values(inner).reverse()});var neighborFn=_.bind(vert==="u"?g.predecessors:g.successors,
g);var align=verticalAlignment(g,adjustedLayering,conflicts,neighborFn);var xs=horizontalCompaction(g,adjustedLayering,align.root,align.align,horiz==="r");if(horiz==="r")xs=_.mapValues(xs,function(x){return-x});xss[vert+horiz]=xs})});var smallestWidth=findSmallestWidthAlignment(g,xss);alignCoordinates(xss,smallestWidth);return balance(xss,g.graph().align)}function sep(nodeSep,edgeSep,reverseSep){return function(g,v,w){var vLabel=g.node(v),wLabel=g.node(w),sum=0,delta;sum+=vLabel.width/2;if(_.has(vLabel,
"labelpos"))switch(vLabel.labelpos.toLowerCase()){case "l":delta=-vLabel.width/2;break;case "r":delta=vLabel.width/2;break}if(delta)sum+=reverseSep?delta:-delta;delta=0;sum+=(vLabel.dummy?edgeSep:nodeSep)/2;sum+=(wLabel.dummy?edgeSep:nodeSep)/2;sum+=wLabel.width/2;if(_.has(wLabel,"labelpos"))switch(wLabel.labelpos.toLowerCase()){case "l":delta=wLabel.width/2;break;case "r":delta=-wLabel.width/2;break}if(delta)sum+=reverseSep?delta:-delta;delta=0;return sum}}function width(g,v){return g.node(v).width}
},{"../graphlib":7,"../lodash":10,"../util":29}],24:[function(require,module,exports){var _=require("../lodash"),util=require("../util"),positionX=require("./bk").positionX;module.exports=position;function position(g){g=util.asNonCompoundGraph(g);positionY(g);_.forEach(positionX(g),function(x,v){g.node(v).x=x})}function positionY(g){var layering=util.buildLayerMatrix(g),rankSep=g.graph().ranksep,prevY=0;_.forEach(layering,function(layer){var maxHeight=_.max(_.map(layer,function(v){return g.node(v).height}));
_.forEach(layer,function(v){g.node(v).y=prevY+maxHeight/2});prevY+=maxHeight+rankSep})}},{"../lodash":10,"../util":29,"./bk":23}],25:[function(require,module,exports){var _=require("../lodash"),Graph=require("../graphlib").Graph,slack=require("./util").slack;module.exports=feasibleTree;function feasibleTree(g){var t=new Graph({directed:false});var start=g.nodes()[0],size=g.nodeCount();t.setNode(start,{});var edge,delta;while(tightTree(t,g)<size){edge=findMinSlackEdge(t,g);delta=t.hasNode(edge.v)?
slack(g,edge):-slack(g,edge);shiftRanks(t,g,delta)}return t}function tightTree(t,g){function dfs(v){_.forEach(g.nodeEdges(v),function(e){var edgeV=e.v,w=v===edgeV?e.w:edgeV;if(!t.hasNode(w)&&!slack(g,e)){t.setNode(w,{});t.setEdge(v,w,{});dfs(w)}})}_.forEach(t.nodes(),dfs);return t.nodeCount()}function findMinSlackEdge(t,g){return _.minBy(g.edges(),function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return slack(g,e)})}function shiftRanks(t,g,delta){_.forEach(t.nodes(),function(v){g.node(v).rank+=delta})}
},{"../graphlib":7,"../lodash":10,"./util":28}],26:[function(require,module,exports){var rankUtil=require("./util"),longestPath=rankUtil.longestPath,feasibleTree=require("./feasible-tree"),networkSimplex=require("./network-simplex");module.exports=rank;function rank(g){switch(g.graph().ranker){case "network-simplex":networkSimplexRanker(g);break;case "tight-tree":tightTreeRanker(g);break;case "longest-path":longestPathRanker(g);break;default:networkSimplexRanker(g)}}var longestPathRanker=longestPath;
function tightTreeRanker(g){longestPath(g);feasibleTree(g)}function networkSimplexRanker(g){networkSimplex(g)}},{"./feasible-tree":25,"./network-simplex":27,"./util":28}],27:[function(require,module,exports){var _=require("../lodash"),feasibleTree=require("./feasible-tree"),slack=require("./util").slack,initRank=require("./util").longestPath,preorder=require("../graphlib").alg.preorder,postorder=require("../graphlib").alg.postorder,simplify=require("../util").simplify;module.exports=networkSimplex;
networkSimplex.initLowLimValues=initLowLimValues;networkSimplex.initCutValues=initCutValues;networkSimplex.calcCutValue=calcCutValue;networkSimplex.leaveEdge=leaveEdge;networkSimplex.enterEdge=enterEdge;networkSimplex.exchangeEdges=exchangeEdges;function networkSimplex(g){g=simplify(g);initRank(g);var t=feasibleTree(g);initLowLimValues(t);initCutValues(t,g);var e,f;while(e=leaveEdge(t)){f=enterEdge(t,g,e);exchangeEdges(t,g,e,f)}}function initCutValues(t,g){var vs=postorder(t,t.nodes());vs=vs.slice(0,
vs.length-1);_.forEach(vs,function(v){assignCutValue(t,g,v)})}function assignCutValue(t,g,child){var childLab=t.node(child),parent=childLab.parent;t.edge(child,parent).cutvalue=calcCutValue(t,g,child)}function calcCutValue(t,g,child){var childLab=t.node(child),parent=childLab.parent,childIsTail=true,graphEdge=g.edge(child,parent),cutValue=0;if(!graphEdge){childIsTail=false;graphEdge=g.edge(parent,child)}cutValue=graphEdge.weight;_.forEach(g.nodeEdges(child),function(e){var isOutEdge=e.v===child,other=
isOutEdge?e.w:e.v;if(other!==parent){var pointsToHead=isOutEdge===childIsTail,otherWeight=g.edge(e).weight;cutValue+=pointsToHead?otherWeight:-otherWeight;if(isTreeEdge(t,child,other)){var otherCutValue=t.edge(child,other).cutvalue;cutValue+=pointsToHead?-otherCutValue:otherCutValue}}});return cutValue}function initLowLimValues(tree,root){if(arguments.length<2)root=tree.nodes()[0];dfsAssignLowLim(tree,{},1,root)}function dfsAssignLowLim(tree,visited,nextLim,v,parent){var low=nextLim,label=tree.node(v);
visited[v]=true;_.forEach(tree.neighbors(v),function(w){if(!_.has(visited,w))nextLim=dfsAssignLowLim(tree,visited,nextLim,w,v)});label.low=low;label.lim=nextLim++;if(parent)label.parent=parent;else delete label.parent;return nextLim}function leaveEdge(tree){return _.find(tree.edges(),function(e){return tree.edge(e).cutvalue<0})}function enterEdge(t,g,edge){var v=edge.v,w=edge.w;if(!g.hasEdge(v,w)){v=edge.w;w=edge.v}var vLabel=t.node(v),wLabel=t.node(w),tailLabel=vLabel,flip=false;if(vLabel.lim>wLabel.lim){tailLabel=
wLabel;flip=true}var candidates=_.filter(g.edges(),function(edge){return flip===isDescendant(t,t.node(edge.v),tailLabel)&&flip!==isDescendant(t,t.node(edge.w),tailLabel)});return _.minBy(candidates,function(edge){return slack(g,edge)})}function exchangeEdges(t,g,e,f){var v=e.v,w=e.w;t.removeEdge(v,w);t.setEdge(f.v,f.w,{});initLowLimValues(t);initCutValues(t,g);updateRanks(t,g)}function updateRanks(t,g){var root=_.find(t.nodes(),function(v){return!g.node(v).parent}),vs=preorder(t,root);vs=vs.slice(1);
_.forEach(vs,function(v){var parent=t.node(v).parent,edge=g.edge(v,parent),flipped=false;if(!edge){edge=g.edge(parent,v);flipped=true}g.node(v).rank=g.node(parent).rank+(flipped?edge.minlen:-edge.minlen)})}function isTreeEdge(tree,u,v){return tree.hasEdge(u,v)}function isDescendant(tree,vLabel,rootLabel){return rootLabel.low<=vLabel.lim&&vLabel.lim<=rootLabel.lim}},{"../graphlib":7,"../lodash":10,"../util":29,"./feasible-tree":25,"./util":28}],28:[function(require,module,exports){var _=require("../lodash");
module.exports={longestPath:longestPath,slack:slack};function longestPath(g){var visited={};function dfs(v){var label=g.node(v);if(_.has(visited,v))return label.rank;visited[v]=true;var rank=_.minBy(_.map(g.outEdges(v),function(e){return dfs(e.w)-g.edge(e).minlen}));if(rank===Number.POSITIVE_INFINITY||rank===undefined||rank===null)rank=0;return label.rank=rank}_.forEach(g.sources(),dfs)}function slack(g,e){return g.node(e.w).rank-g.node(e.v).rank-g.edge(e).minlen}},{"../lodash":10}],29:[function(require,
module,exports){var _=require("./lodash"),Graph=require("./graphlib").Graph;module.exports={addDummyNode:addDummyNode,simplify:simplify,asNonCompoundGraph:asNonCompoundGraph,successorWeights:successorWeights,predecessorWeights:predecessorWeights,intersectRect:intersectRect,buildLayerMatrix:buildLayerMatrix,normalizeRanks:normalizeRanks,removeEmptyRanks:removeEmptyRanks,addBorderNode:addBorderNode,maxRank:maxRank,partition:partition,time:time,notime:notime};function addDummyNode(g,type,attrs,name){var v;
do v=_.uniqueId(name);while(g.hasNode(v));attrs.dummy=type;g.setNode(v,attrs);return v}function simplify(g){var simplified=(new Graph).setGraph(g.graph());_.forEach(g.nodes(),function(v){simplified.setNode(v,g.node(v))});_.forEach(g.edges(),function(e){var simpleLabel=simplified.edge(e.v,e.w)||{weight:0,minlen:1},label=g.edge(e);simplified.setEdge(e.v,e.w,{weight:simpleLabel.weight+label.weight,minlen:Math.max(simpleLabel.minlen,label.minlen)})});return simplified}function asNonCompoundGraph(g){var simplified=
(new Graph({multigraph:g.isMultigraph()})).setGraph(g.graph());_.forEach(g.nodes(),function(v){if(!g.children(v).length)simplified.setNode(v,g.node(v))});_.forEach(g.edges(),function(e){simplified.setEdge(e,g.edge(e))});return simplified}function successorWeights(g){var weightMap=_.map(g.nodes(),function(v){var sucs={};_.forEach(g.outEdges(v),function(e){sucs[e.w]=(sucs[e.w]||0)+g.edge(e).weight});return sucs});return _.zipObject(g.nodes(),weightMap)}function predecessorWeights(g){var weightMap=_.map(g.nodes(),
function(v){var preds={};_.forEach(g.inEdges(v),function(e){preds[e.v]=(preds[e.v]||0)+g.edge(e).weight});return preds});return _.zipObject(g.nodes(),weightMap)}function intersectRect(rect,point){var x=rect.x;var y=rect.y;var dx=point.x-x;var dy=point.y-y;var w=rect.width/2;var h=rect.height/2;if(!dx&&!dy)throw new Error("Not possible to find intersection inside of the rectangle");var sx,sy;if(Math.abs(dy)*w>Math.abs(dx)*h){if(dy<0)h=-h;sx=h*dx/dy;sy=h}else{if(dx<0)w=-w;sx=w;sy=w*dy/dx}return{x:x+
sx,y:y+sy}}function buildLayerMatrix(g){var layering=_.map(_.range(maxRank(g)+1),function(){return[]});_.forEach(g.nodes(),function(v){var node=g.node(v),rank=node.rank;if(!_.isUndefined(rank))layering[rank][node.order]=v});return layering}function normalizeRanks(g){var min=_.minBy(_.map(g.nodes(),function(v){return g.node(v).rank}));_.forEach(g.nodes(),function(v){var node=g.node(v);if(_.has(node,"rank"))node.rank-=min})}function removeEmptyRanks(g){var offset=_.minBy(_.map(g.nodes(),function(v){return g.node(v).rank}));
var layers=[];_.forEach(g.nodes(),function(v){var rank=g.node(v).rank-offset;if(!layers[rank])layers[rank]=[];layers[rank].push(v)});var delta=0,nodeRankFactor=g.graph().nodeRankFactor;_.forEach(layers,function(vs,i){if(_.isUndefined(vs)&&i%nodeRankFactor!==0)--delta;else if(delta)_.forEach(vs,function(v){g.node(v).rank+=delta})})}function addBorderNode(g,prefix,rank,order){var node={width:0,height:0};if(arguments.length>=4){node.rank=rank;node.order=order}return addDummyNode(g,"border",node,prefix)}
function maxRank(g){return _.max(_.map(g.nodes(),function(v){var rank=g.node(v).rank;if(!_.isUndefined(rank))return rank}))}function partition(collection,fn){var result={lhs:[],rhs:[]};_.forEach(collection,function(value){if(fn(value))result.lhs.push(value);else result.rhs.push(value)});return result}function time(name,fn){var start=_.now();try{return fn()}finally{console.log(name+" time: "+(_.now()-start)+"ms")}}function notime(name,fn){return fn()}},{"./graphlib":7,"./lodash":10}],30:[function(require,
module,exports){module.exports="0.8.2"},{}]},{},[1])(1)});</script><script>var numeric=typeof exports==="undefined"?function numeric(){}:exports;if(typeof global!=="undefined")global.numeric=numeric;numeric.version="1.2.6";numeric.bench=function bench(f,interval){var t1,t2,n,i;if(typeof interval==="undefined")interval=15;n=.5;t1=new Date;while(1){n*=2;for(i=n;i>3;i-=4){f();f();f();f()}while(i>0){f();i--}t2=new Date;if(t2-t1>interval)break}for(i=n;i>3;i-=4){f();f();f();f()}while(i>0){f();i--}t2=new Date;return 1E3*(3*n-1)/(t2-t1)};
numeric._myIndexOf=function _myIndexOf(w){var n=this.length,k;for(k=0;k<n;++k)if(this[k]===w)return k;return-1};numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf;numeric.Function=Function;numeric.precision=4;numeric.largeArray=50;
numeric.prettyPrint=function prettyPrint(x){function fmtnum(x){if(x===0)return"0";if(isNaN(x))return"NaN";if(x<0)return"-"+fmtnum(-x);if(isFinite(x)){var scale=Math.floor(Math.log(x)/Math.log(10));var normalized=x/Math.pow(10,scale);var basic=normalized.toPrecision(numeric.precision);if(parseFloat(basic)===10){scale++;normalized=1;basic=normalized.toPrecision(numeric.precision)}return parseFloat(basic).toString()+"e"+scale.toString()}return"Infinity"}var ret=[];function foo(x){var k;if(typeof x===
"undefined"){ret.push(Array(numeric.precision+8).join(" "));return false}if(typeof x==="string"){ret.push('"'+x+'"');return false}if(typeof x==="boolean"){ret.push(x.toString());return false}if(typeof x==="number"){var a=fmtnum(x);var b=x.toPrecision(numeric.precision);var c=parseFloat(x.toString()).toString();var d=[a,b,c,parseFloat(b).toString(),parseFloat(c).toString()];for(k=1;k<d.length;k++)if(d[k].length<a.length)a=d[k];ret.push(Array(numeric.precision+8-a.length).join(" ")+a);return false}if(x===
null){ret.push("null");return false}if(typeof x==="function"){ret.push(x.toString());var flag=false;for(k in x)if(x.hasOwnProperty(k)){if(flag)ret.push(",\n");else ret.push("\n{");flag=true;ret.push(k);ret.push(": \n");foo(x[k])}if(flag)ret.push("}\n");return true}if(x instanceof Array){if(x.length>numeric.largeArray){ret.push("...Large Array...");return true}var flag=false;ret.push("[");for(k=0;k<x.length;k++){if(k>0){ret.push(",");if(flag)ret.push("\n ")}flag=foo(x[k])}ret.push("]");return true}ret.push("{");
var flag=false;for(k in x)if(x.hasOwnProperty(k)){if(flag)ret.push(",\n");flag=true;ret.push(k);ret.push(": \n");foo(x[k])}ret.push("}");return true}foo(x);return ret.join("")};numeric.parseDate=function parseDate(d){function foo(d){if(typeof d==="string")return Date.parse(d.replace(/-/g,"/"));if(!(d instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var ret=[],k;for(k=0;k<d.length;k++)ret[k]=foo(d[k]);return ret}return foo(d)};
numeric.parseFloat=function parseFloat_(d){function foo(d){if(typeof d==="string")return parseFloat(d);if(!(d instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var ret=[],k;for(k=0;k<d.length;k++)ret[k]=foo(d[k]);return ret}return foo(d)};
numeric.parseCSV=function parseCSV(t){var foo=t.split("\n");var j,k;var ret=[];var pat=/(([^'",]*)|('[^']*')|("[^"]*")),/g;var patnum=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/;var stripper=function(n){return n.substr(0,n.length-1)};var count=0;for(k=0;k<foo.length;k++){var bar=(foo[k]+",").match(pat),baz;if(bar.length>0){ret[count]=[];for(j=0;j<bar.length;j++){baz=stripper(bar[j]);if(patnum.test(baz))ret[count][j]=parseFloat(baz);else ret[count][j]=
baz}count++}}return ret};numeric.toCSV=function toCSV(A){var s=numeric.dim(A);var i,j,m,n,row,ret;m=s[0];n=s[1];ret=[];for(i=0;i<m;i++){row=[];for(j=0;j<m;j++)row[j]=A[i][j].toString();ret[i]=row.join(", ")}return ret.join("\n")+"\n"};numeric.getURL=function getURL(url){var client=new XMLHttpRequest;client.open("GET",url,false);client.send();return client};
numeric.imageURL=function imageURL(img){function base64(A){var n=A.length,i,x,y,z,p,q,r,s;var key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";var ret="";for(i=0;i<n;i+=3){x=A[i];y=A[i+1];z=A[i+2];p=x>>2;q=((x&3)<<4)+(y>>4);r=((y&15)<<2)+(z>>6);s=z&63;if(i+1>=n)r=s=64;else if(i+2>=n)s=64;ret+=key.charAt(p)+key.charAt(q)+key.charAt(r)+key.charAt(s)}return ret}function crc32Array(a,from,to){if(typeof from==="undefined")from=0;if(typeof to==="undefined")to=a.length;var table=
[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,
651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,
4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,
167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,
3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,
2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];var crc=-1,y=0,n=a.length,i;for(i=from;i<to;i++){y=(crc^a[i])&255;crc=crc>>>8^table[y]}return crc^-1}var h=img[0].length,w=img[0][0].length,s1,s2,next,k,length,a,b,i,j,adler32,crc32;var stream=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,w>>24&255,w>>16&255,w>>8&255,w&255,h>>24&255,
h>>16&255,h>>8&255,h&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];crc32=crc32Array(stream,12,29);stream[29]=crc32>>24&255;stream[30]=crc32>>16&255;stream[31]=crc32>>8&255;stream[32]=crc32&255;s1=1;s2=0;for(i=0;i<h;i++){if(i<h-1)stream.push(0);else stream.push(1);a=3*w+1+(i===0)&255;b=3*w+1+(i===0)>>8&255;stream.push(a);stream.push(b);stream.push(~a&255);stream.push(~b&255);if(i===0)stream.push(0);for(j=0;j<w;j++)for(k=0;k<3;k++){a=img[k][i][j];if(a>255)a=255;else if(a<0)a=0;else a=Math.round(a);
s1=(s1+a)%65521;s2=(s2+s1)%65521;stream.push(a)}stream.push(0)}adler32=(s2<<16)+s1;stream.push(adler32>>24&255);stream.push(adler32>>16&255);stream.push(adler32>>8&255);stream.push(adler32&255);length=stream.length-41;stream[33]=length>>24&255;stream[34]=length>>16&255;stream[35]=length>>8&255;stream[36]=length&255;crc32=crc32Array(stream,37);stream.push(crc32>>24&255);stream.push(crc32>>16&255);stream.push(crc32>>8&255);stream.push(crc32&255);stream.push(0);stream.push(0);stream.push(0);stream.push(0);
stream.push(73);stream.push(69);stream.push(78);stream.push(68);stream.push(174);stream.push(66);stream.push(96);stream.push(130);return"data:image/png;base64,"+base64(stream)};numeric._dim=function _dim(x){var ret=[];while(typeof x==="object"){ret.push(x.length);x=x[0]}return ret};numeric.dim=function dim(x){var y,z;if(typeof x==="object"){y=x[0];if(typeof y==="object"){z=y[0];if(typeof z==="object")return numeric._dim(x);return[x.length,y.length]}return[x.length]}return[]};
numeric.mapreduce=function mapreduce(body,init){return Function("x","accum","_s","_k",'if(typeof accum \x3d\x3d\x3d "undefined") accum \x3d '+init+";\n"+'if(typeof x \x3d\x3d\x3d "number") { var xi \x3d x; '+body+"; return accum; }\n"+'if(typeof _s \x3d\x3d\x3d "undefined") _s \x3d numeric.dim(x);\n'+'if(typeof _k \x3d\x3d\x3d "undefined") _k \x3d 0;\n'+"var _n \x3d _s[_k];\n"+"var i,xi;\n"+"if(_k \x3c _s.length-1) {\n"+"    for(i\x3d_n-1;i\x3e\x3d0;i--) {\n"+"        accum \x3d arguments.callee(x[i],accum,_s,_k+1);\n"+
"    }"+"    return accum;\n"+"}\n"+"for(i\x3d_n-1;i\x3e\x3d1;i-\x3d2) { \n"+"    xi \x3d x[i];\n"+"    "+body+";\n"+"    xi \x3d x[i-1];\n"+"    "+body+";\n"+"}\n"+"if(i \x3d\x3d\x3d 0) {\n"+"    xi \x3d x[i];\n"+"    "+body+"\n"+"}\n"+"return accum;")};numeric.mapreduce2=function mapreduce2(body,setup){return Function("x","var n \x3d x.length;\n"+"var i,xi;\n"+setup+";\n"+"for(i\x3dn-1;i!\x3d\x3d-1;--i) { \n"+"    xi \x3d x[i];\n"+"    "+body+";\n"+"}\n"+"return accum;")};
numeric.same=function same(x,y){var i,n;if(!(x instanceof Array)||!(y instanceof Array))return false;n=x.length;if(n!==y.length)return false;for(i=0;i<n;i++){if(x[i]===y[i])continue;if(typeof x[i]==="object"){if(!same(x[i],y[i]))return false}else return false}return true};numeric.rep=function rep(s,v,k){if(typeof k==="undefined")k=0;var n=s[k],ret=Array(n),i;if(k===s.length-1){for(i=n-2;i>=0;i-=2){ret[i+1]=v;ret[i]=v}if(i===-1)ret[0]=v;return ret}for(i=n-1;i>=0;i--)ret[i]=numeric.rep(s,v,k+1);return ret};
numeric.dotMMsmall=function dotMMsmall(x,y){var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0;p=x.length;q=y.length;r=y[0].length;ret=Array(p);for(i=p-1;i>=0;i--){foo=Array(r);bar=x[i];for(k=r-1;k>=0;k--){woo=bar[q-1]*y[q-1][k];for(j=q-2;j>=1;j-=2){i0=j-1;woo+=bar[j]*y[j][k]+bar[i0]*y[i0][k]}if(j===0)woo+=bar[0]*y[0][k];foo[k]=woo}ret[i]=foo}return ret};numeric._getCol=function _getCol(A,j,x){var n=A.length,i;for(i=n-1;i>0;--i){x[i]=A[i][j];--i;x[i]=A[i][j]}if(i===0)x[0]=A[0][j]};
numeric.dotMMbig=function dotMMbig(x,y){var gc=numeric._getCol,p=y.length,v=Array(p);var m=x.length,n=y[0].length,A=new Array(m),xj;var VV=numeric.dotVV;var i,j,k,z;--p;--m;for(i=m;i!==-1;--i)A[i]=Array(n);--n;for(i=n;i!==-1;--i){gc(y,i,v);for(j=m;j!==-1;--j){z=0;xj=x[j];A[j][i]=VV(xj,v)}}return A};numeric.dotMV=function dotMV(x,y){var p=x.length,q=y.length,i;var ret=Array(p),dotVV=numeric.dotVV;for(i=p-1;i>=0;i--)ret[i]=dotVV(x[i],y);return ret};
numeric.dotVM=function dotVM(x,y){var i,j,k,p,q,r,ret,foo,bar,woo,i0,k0,p0,r0,s1,s2,s3,baz,accum;p=x.length;q=y[0].length;ret=Array(q);for(k=q-1;k>=0;k--){woo=x[p-1]*y[p-1][k];for(j=p-2;j>=1;j-=2){i0=j-1;woo+=x[j]*y[j][k]+x[i0]*y[i0][k]}if(j===0)woo+=x[0]*y[0][k];ret[k]=woo}return ret};numeric.dotVV=function dotVV(x,y){var i,n=x.length,i1,ret=x[n-1]*y[n-1];for(i=n-2;i>=1;i-=2){i1=i-1;ret+=x[i]*y[i]+x[i1]*y[i1]}if(i===0)ret+=x[0]*y[0];return ret};
numeric.dot=function dot(x,y){var d=numeric.dim;switch(d(x).length*1E3+d(y).length){case 2002:if(y.length<10)return numeric.dotMMsmall(x,y);else return numeric.dotMMbig(x,y);case 2001:return numeric.dotMV(x,y);case 1002:return numeric.dotVM(x,y);case 1001:return numeric.dotVV(x,y);case 1E3:return numeric.mulVS(x,y);case 1:return numeric.mulSV(x,y);case 0:return x*y;default:throw new Error("numeric.dot only works on vectors and matrices");}};
numeric.diag=function diag(d){var i,i1,j,n=d.length,A=Array(n),Ai;for(i=n-1;i>=0;i--){Ai=Array(n);i1=i+2;for(j=n-1;j>=i1;j-=2){Ai[j]=0;Ai[j-1]=0}if(j>i)Ai[j]=0;Ai[i]=d[i];for(j=i-1;j>=1;j-=2){Ai[j]=0;Ai[j-1]=0}if(j===0)Ai[0]=0;A[i]=Ai}return A};numeric.getDiag=function(A){var n=Math.min(A.length,A[0].length),i,ret=Array(n);for(i=n-1;i>=1;--i){ret[i]=A[i][i];--i;ret[i]=A[i][i]}if(i===0)ret[0]=A[0][0];return ret};numeric.identity=function identity(n){return numeric.diag(numeric.rep([n],1))};
numeric.pointwise=function pointwise(params,body,setup){if(typeof setup==="undefined")setup="";var fun=[];var k;var avec=/\[i\]$/,p,thevec="";var haveret=false;for(k=0;k<params.length;k++){if(avec.test(params[k])){p=params[k].substring(0,params[k].length-3);thevec=p}else p=params[k];if(p==="ret")haveret=true;fun.push(p)}fun[params.length]="_s";fun[params.length+1]="_k";fun[params.length+2]='if(typeof _s \x3d\x3d\x3d "undefined") _s \x3d numeric.dim('+thevec+");\n"+'if(typeof _k \x3d\x3d\x3d "undefined") _k \x3d 0;\n'+
"var _n \x3d _s[_k];\n"+"var i"+(haveret?"":", ret \x3d Array(_n)")+";\n"+"if(_k \x3c _s.length-1) {\n"+"    for(i\x3d_n-1;i\x3e\x3d0;i--) ret[i] \x3d arguments.callee("+params.join(",")+",_s,_k+1);\n"+"    return ret;\n"+"}\n"+setup+"\n"+"for(i\x3d_n-1;i!\x3d\x3d-1;--i) {\n"+"    "+body+"\n"+"}\n"+"return ret;";return Function.apply(null,fun)};
numeric.pointwise2=function pointwise2(params,body,setup){if(typeof setup==="undefined")setup="";var fun=[];var k;var avec=/\[i\]$/,p,thevec="";var haveret=false;for(k=0;k<params.length;k++){if(avec.test(params[k])){p=params[k].substring(0,params[k].length-3);thevec=p}else p=params[k];if(p==="ret")haveret=true;fun.push(p)}fun[params.length]="var _n \x3d "+thevec+".length;\n"+"var i"+(haveret?"":", ret \x3d Array(_n)")+";\n"+setup+"\n"+"for(i\x3d_n-1;i!\x3d\x3d-1;--i) {\n"+body+"\n"+"}\n"+"return ret;";
return Function.apply(null,fun)};numeric._biforeach=function _biforeach(x,y,s,k,f){if(k===s.length-1){f(x,y);return}var i,n=s[k];for(i=n-1;i>=0;i--)_biforeach(typeof x==="object"?x[i]:x,typeof y==="object"?y[i]:y,s,k+1,f)};numeric._biforeach2=function _biforeach2(x,y,s,k,f){if(k===s.length-1)return f(x,y);var i,n=s[k],ret=Array(n);for(i=n-1;i>=0;--i)ret[i]=_biforeach2(typeof x==="object"?x[i]:x,typeof y==="object"?y[i]:y,s,k+1,f);return ret};
numeric._foreach=function _foreach(x,s,k,f){if(k===s.length-1){f(x);return}var i,n=s[k];for(i=n-1;i>=0;i--)_foreach(x[i],s,k+1,f)};numeric._foreach2=function _foreach2(x,s,k,f){if(k===s.length-1)return f(x);var i,n=s[k],ret=Array(n);for(i=n-1;i>=0;i--)ret[i]=_foreach2(x[i],s,k+1,f);return ret};
numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"\x26\x26",or:"||",eq:"\x3d\x3d\x3d",neq:"!\x3d\x3d",lt:"\x3c",gt:"\x3e",leq:"\x3c\x3d",geq:"\x3e\x3d",band:"\x26",bor:"|",bxor:"^",lshift:"\x3c\x3c",rshift:"\x3e\x3e",rrshift:"\x3e\x3e\x3e"};numeric.opseq={addeq:"+\x3d",subeq:"-\x3d",muleq:"*\x3d",diveq:"/\x3d",modeq:"%\x3d",lshifteq:"\x3c\x3c\x3d",rshifteq:"\x3e\x3e\x3d",rrshifteq:"\x3e\x3e\x3e\x3d",bandeq:"\x26\x3d",boreq:"|\x3d",bxoreq:"^\x3d"};
numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"];numeric.mathfuns2=["atan2","pow","max","min"];numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""};
numeric.mapreducers={any:["if(xi) return true;","var accum \x3d false;"],all:["if(!xi) return false;","var accum \x3d true;"],sum:["accum +\x3d xi;","var accum \x3d 0;"],prod:["accum *\x3d xi;","var accum \x3d 1;"],norm2Squared:["accum +\x3d xi*xi;","var accum \x3d 0;"],norminf:["accum \x3d max(accum,abs(xi));","var accum \x3d 0, max \x3d Math.max, abs \x3d Math.abs;"],norm1:["accum +\x3d abs(xi)","var accum \x3d 0, abs \x3d Math.abs;"],sup:["accum \x3d max(accum,xi);","var accum \x3d -Infinity, max \x3d Math.max;"],
inf:["accum \x3d min(accum,xi);","var accum \x3d Infinity, min \x3d Math.min;"]};
(function(){var i,o;for(i=0;i<numeric.mathfuns2.length;++i){o=numeric.mathfuns2[i];numeric.ops2[o]=o}for(i in numeric.ops2)if(numeric.ops2.hasOwnProperty(i)){o=numeric.ops2[i];var code,codeeq,setup="";if(numeric.myIndexOf.call(numeric.mathfuns2,i)!==-1){setup="var "+o+" \x3d Math."+o+";\n";code=function(r,x,y){return r+" \x3d "+o+"("+x+","+y+")"};codeeq=function(x,y){return x+" \x3d "+o+"("+x+","+y+")"}}else{code=function(r,x,y){return r+" \x3d "+x+" "+o+" "+y};if(numeric.opseq.hasOwnProperty(i+"eq"))codeeq=
function(x,y){return x+" "+o+"\x3d "+y};else codeeq=function(x,y){return x+" \x3d "+x+" "+o+" "+y}}numeric[i+"VV"]=numeric.pointwise2(["x[i]","y[i]"],code("ret[i]","x[i]","y[i]"),setup);numeric[i+"SV"]=numeric.pointwise2(["x","y[i]"],code("ret[i]","x","y[i]"),setup);numeric[i+"VS"]=numeric.pointwise2(["x[i]","y"],code("ret[i]","x[i]","y"),setup);numeric[i]=Function("var n \x3d arguments.length, i, x \x3d arguments[0], y;\n"+"var VV \x3d numeric."+i+"VV, VS \x3d numeric."+i+"VS, SV \x3d numeric."+
i+"SV;\n"+"var dim \x3d numeric.dim;\n"+"for(i\x3d1;i!\x3d\x3dn;++i) { \n"+"  y \x3d arguments[i];\n"+'  if(typeof x \x3d\x3d\x3d "object") {\n'+'      if(typeof y \x3d\x3d\x3d "object") x \x3d numeric._biforeach2(x,y,dim(x),0,VV);\n'+"      else x \x3d numeric._biforeach2(x,y,dim(x),0,VS);\n"+'  } else if(typeof y \x3d\x3d\x3d "object") x \x3d numeric._biforeach2(x,y,dim(y),0,SV);\n'+"  else "+codeeq("x","y")+"\n"+"}\nreturn x;\n");numeric[o]=numeric[i];numeric[i+"eqV"]=numeric.pointwise2(["ret[i]",
"x[i]"],codeeq("ret[i]","x[i]"),setup);numeric[i+"eqS"]=numeric.pointwise2(["ret[i]","x"],codeeq("ret[i]","x"),setup);numeric[i+"eq"]=Function("var n \x3d arguments.length, i, x \x3d arguments[0], y;\n"+"var V \x3d numeric."+i+"eqV, S \x3d numeric."+i+"eqS\n"+"var s \x3d numeric.dim(x);\n"+"for(i\x3d1;i!\x3d\x3dn;++i) { \n"+"  y \x3d arguments[i];\n"+'  if(typeof y \x3d\x3d\x3d "object") numeric._biforeach(x,y,s,0,V);\n'+"  else numeric._biforeach(x,y,s,0,S);\n"+"}\nreturn x;\n")}for(i=0;i<numeric.mathfuns2.length;++i){o=
numeric.mathfuns2[i];delete numeric.ops2[o]}for(i=0;i<numeric.mathfuns.length;++i){o=numeric.mathfuns[i];numeric.ops1[o]=o}for(i in numeric.ops1)if(numeric.ops1.hasOwnProperty(i)){setup="";o=numeric.ops1[i];if(numeric.myIndexOf.call(numeric.mathfuns,i)!==-1)if(Math.hasOwnProperty(o))setup="var "+o+" \x3d Math."+o+";\n";numeric[i+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] \x3d "+o+"(ret[i]);",setup);numeric[i+"eq"]=Function("x",'if(typeof x !\x3d\x3d "object") return '+o+"x\n"+"var i;\n"+"var V \x3d numeric."+
i+"eqV;\n"+"var s \x3d numeric.dim(x);\n"+"numeric._foreach(x,s,0,V);\n"+"return x;\n");numeric[i+"V"]=numeric.pointwise2(["x[i]"],"ret[i] \x3d "+o+"(x[i]);",setup);numeric[i]=Function("x",'if(typeof x !\x3d\x3d "object") return '+o+"(x)\n"+"var i;\n"+"var V \x3d numeric."+i+"V;\n"+"var s \x3d numeric.dim(x);\n"+"return numeric._foreach2(x,s,0,V);\n")}for(i=0;i<numeric.mathfuns.length;++i){o=numeric.mathfuns[i];delete numeric.ops1[o]}for(i in numeric.mapreducers)if(numeric.mapreducers.hasOwnProperty(i)){o=
numeric.mapreducers[i];numeric[i+"V"]=numeric.mapreduce2(o[0],o[1]);numeric[i]=Function("x","s","k",o[1]+'if(typeof x !\x3d\x3d "object") {'+"    xi \x3d x;\n"+o[0]+";\n"+"    return accum;\n"+"}"+'if(typeof s \x3d\x3d\x3d "undefined") s \x3d numeric.dim(x);\n'+'if(typeof k \x3d\x3d\x3d "undefined") k \x3d 0;\n'+"if(k \x3d\x3d\x3d s.length-1) return numeric."+i+"V(x);\n"+"var xi;\n"+"var n \x3d x.length, i;\n"+"for(i\x3dn-1;i!\x3d\x3d-1;--i) {\n"+"   xi \x3d arguments.callee(x[i]);\n"+o[0]+";\n"+
"}\n"+"return accum;\n")}})();numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] \x3d round(x[i]/y[i])*y[i];","var round \x3d Math.round;");numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] \x3d round(x[i]/y)*y;","var round \x3d Math.round;");numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] \x3d round(x/y[i])*y[i];","var round \x3d Math.round;");
numeric.trunc=function trunc(x,y){if(typeof x==="object"){if(typeof y==="object")return numeric.truncVV(x,y);return numeric.truncVS(x,y)}if(typeof y==="object")return numeric.truncSV(x,y);return Math.round(x/y)*y};
numeric.inv=function inv(x){var s=numeric.dim(x),abs=Math.abs,m=s[0],n=s[1];var A=numeric.clone(x),Ai,Aj;var I=numeric.identity(m),Ii,Ij;var i,j,k,x;for(j=0;j<n;++j){var i0=-1;var v0=-1;for(i=j;i!==m;++i){k=abs(A[i][j]);if(k>v0){i0=i;v0=k}}Aj=A[i0];A[i0]=A[j];A[j]=Aj;Ij=I[i0];I[i0]=I[j];I[j]=Ij;x=Aj[j];for(k=j;k!==n;++k)Aj[k]/=x;for(k=n-1;k!==-1;--k)Ij[k]/=x;for(i=m-1;i!==-1;--i)if(i!==j){Ai=A[i];Ii=I[i];x=Ai[j];for(k=j+1;k!==n;++k)Ai[k]-=Aj[k]*x;for(k=n-1;k>0;--k){Ii[k]-=Ij[k]*x;--k;Ii[k]-=Ij[k]*
x}if(k===0)Ii[0]-=Ij[0]*x}}return I};
numeric.det=function det(x){var s=numeric.dim(x);if(s.length!==2||s[0]!==s[1])throw new Error("numeric: det() only works on square matrices");var n=s[0],ret=1,i,j,k,A=numeric.clone(x),Aj,Ai,alpha,temp,k1,k2,k3;for(j=0;j<n-1;j++){k=j;for(i=j+1;i<n;i++)if(Math.abs(A[i][j])>Math.abs(A[k][j]))k=i;if(k!==j){temp=A[k];A[k]=A[j];A[j]=temp;ret*=-1}Aj=A[j];for(i=j+1;i<n;i++){Ai=A[i];alpha=Ai[j]/Aj[j];for(k=j+1;k<n-1;k+=2){k1=k+1;Ai[k]-=Aj[k]*alpha;Ai[k1]-=Aj[k1]*alpha}if(k!==n)Ai[k]-=Aj[k]*alpha}if(Aj[j]===
0)return 0;ret*=Aj[j]}return ret*A[j][j]};numeric.transpose=function transpose(x){var i,j,m=x.length,n=x[0].length,ret=Array(n),A0,A1,Bj;for(j=0;j<n;j++)ret[j]=Array(m);for(i=m-1;i>=1;i-=2){A1=x[i];A0=x[i-1];for(j=n-1;j>=1;--j){Bj=ret[j];Bj[i]=A1[j];Bj[i-1]=A0[j];--j;Bj=ret[j];Bj[i]=A1[j];Bj[i-1]=A0[j]}if(j===0){Bj=ret[0];Bj[i]=A1[0];Bj[i-1]=A0[0]}}if(i===0){A0=x[0];for(j=n-1;j>=1;--j){ret[j][0]=A0[j];--j;ret[j][0]=A0[j]}if(j===0)ret[0][0]=A0[0]}return ret};
numeric.negtranspose=function negtranspose(x){var i,j,m=x.length,n=x[0].length,ret=Array(n),A0,A1,Bj;for(j=0;j<n;j++)ret[j]=Array(m);for(i=m-1;i>=1;i-=2){A1=x[i];A0=x[i-1];for(j=n-1;j>=1;--j){Bj=ret[j];Bj[i]=-A1[j];Bj[i-1]=-A0[j];--j;Bj=ret[j];Bj[i]=-A1[j];Bj[i-1]=-A0[j]}if(j===0){Bj=ret[0];Bj[i]=-A1[0];Bj[i-1]=-A0[0]}}if(i===0){A0=x[0];for(j=n-1;j>=1;--j){ret[j][0]=-A0[j];--j;ret[j][0]=-A0[j]}if(j===0)ret[0][0]=-A0[0]}return ret};
numeric._random=function _random(s,k){var i,n=s[k],ret=Array(n),rnd;if(k===s.length-1){rnd=Math.random;for(i=n-1;i>=1;i-=2){ret[i]=rnd();ret[i-1]=rnd()}if(i===0)ret[0]=rnd();return ret}for(i=n-1;i>=0;i--)ret[i]=_random(s,k+1);return ret};numeric.random=function random(s){return numeric._random(s,0)};numeric.norm2=function norm2(x){return Math.sqrt(numeric.norm2Squared(x))};
numeric.linspace=function linspace(a,b,n){if(typeof n==="undefined")n=Math.max(Math.round(b-a)+1,1);if(n<2)return n===1?[a]:[];var i,ret=Array(n);n--;for(i=n;i>=0;i--)ret[i]=(i*b+(n-i)*a)/n;return ret};numeric.getBlock=function getBlock(x,from,to){var s=numeric.dim(x);function foo(x,k){var i,a=from[k],n=to[k]-a,ret=Array(n);if(k===s.length-1){for(i=n;i>=0;i--)ret[i]=x[i+a];return ret}for(i=n;i>=0;i--)ret[i]=foo(x[i+a],k+1);return ret}return foo(x,0)};
numeric.setBlock=function setBlock(x,from,to,B){var s=numeric.dim(x);function foo(x,y,k){var i,a=from[k],n=to[k]-a;if(k===s.length-1)for(i=n;i>=0;i--)x[i+a]=y[i];for(i=n;i>=0;i--)foo(x[i+a],y[i],k+1)}foo(x,B,0);return x};numeric.getRange=function getRange(A,I,J){var m=I.length,n=J.length;var i,j;var B=Array(m),Bi,AI;for(i=m-1;i!==-1;--i){B[i]=Array(n);Bi=B[i];AI=A[I[i]];for(j=n-1;j!==-1;--j)Bi[j]=AI[J[j]]}return B};
numeric.blockMatrix=function blockMatrix(X){var s=numeric.dim(X);if(s.length<4)return numeric.blockMatrix([X]);var m=s[0],n=s[1],M,N,i,j,Xij;M=0;N=0;for(i=0;i<m;++i)M+=X[i][0].length;for(j=0;j<n;++j)N+=X[0][j][0].length;var Z=Array(M);for(i=0;i<M;++i)Z[i]=Array(N);var I=0,J,ZI,k,l,Xijk;for(i=0;i<m;++i){J=N;for(j=n-1;j!==-1;--j){Xij=X[i][j];J-=Xij[0].length;for(k=Xij.length-1;k!==-1;--k){Xijk=Xij[k];ZI=Z[I+k];for(l=Xijk.length-1;l!==-1;--l)ZI[J+l]=Xijk[l]}}I+=X[i][0].length}return Z};
numeric.tensor=function tensor(x,y){if(typeof x==="number"||typeof y==="number")return numeric.mul(x,y);var s1=numeric.dim(x),s2=numeric.dim(y);if(s1.length!==1||s2.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var m=s1[0],n=s2[0],A=Array(m),Ai,i,j,xi;for(i=m-1;i>=0;i--){Ai=Array(n);xi=x[i];for(j=n-1;j>=3;--j){Ai[j]=xi*y[j];--j;Ai[j]=xi*y[j];--j;Ai[j]=xi*y[j];--j;Ai[j]=xi*y[j]}while(j>=0){Ai[j]=xi*y[j];--j}A[i]=Ai}return A};
numeric.T=function T(x,y){this.x=x;this.y=y};numeric.t=function t(x,y){return new numeric.T(x,y)};
numeric.Tbinop=function Tbinop(rr,rc,cr,cc,setup){var io=numeric.indexOf;if(typeof setup!=="string"){var k;setup="";for(k in numeric)if(numeric.hasOwnProperty(k)&&(rr.indexOf(k)>=0||rc.indexOf(k)>=0||cr.indexOf(k)>=0||cc.indexOf(k)>=0)&&k.length>1)setup+="var "+k+" \x3d numeric."+k+";\n"}return Function(["y"],"var x \x3d this;\n"+"if(!(y instanceof numeric.T)) { y \x3d new numeric.T(y); }\n"+setup+"\n"+"if(x.y) {"+"  if(y.y) {"+"    return new numeric.T("+cc+");\n"+"  }\n"+"  return new numeric.T("+
cr+");\n"+"}\n"+"if(y.y) {\n"+"  return new numeric.T("+rc+");\n"+"}\n"+"return new numeric.T("+rr+");\n")};numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)");numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)");numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))");
numeric.T.prototype.reciprocal=function reciprocal(){var mul=numeric.mul,div=numeric.div;if(this.y){var d=numeric.add(mul(this.x,this.x),mul(this.y,this.y));return new numeric.T(div(this.x,d),div(numeric.neg(this.y),d))}return new T(div(1,this.x))};numeric.T.prototype.div=function div(y){if(!(y instanceof numeric.T))y=new numeric.T(y);if(y.y)return this.mul(y.reciprocal());var div=numeric.div;if(this.y)return new numeric.T(div(this.x,y.x),div(this.y,y.x));return new numeric.T(div(this.x,y.x))};
numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))");numeric.T.prototype.transpose=function transpose(){var t=numeric.transpose,x=this.x,y=this.y;if(y)return new numeric.T(t(x),t(y));return new numeric.T(t(x))};numeric.T.prototype.transjugate=function transjugate(){var t=numeric.transpose,x=this.x,y=this.y;if(y)return new numeric.T(t(x),numeric.negtranspose(y));return new numeric.T(t(x))};
numeric.Tunop=function Tunop(r,c,s){if(typeof s!=="string")s="";return Function("var x \x3d this;\n"+s+"\n"+"if(x.y) {"+"  "+c+";\n"+"}\n"+r+";\n")};numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex \x3d numeric.exp(x.x), cos \x3d numeric.cos, sin \x3d numeric.sin, mul \x3d numeric.mul;");numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));");
numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg \x3d numeric.neg;");numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));");numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);");
numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul \x3d numeric.mul;");numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta \x3d new numeric.T(numeric.atan2(x.y,x.x)), r \x3d x.abs();\n"+"return new numeric.T(numeric.log(r.x),theta.x);");numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f \x3d numeric.norm2Squared;\n"+"return Math.sqrt(f(x.x)+f(x.y));");
numeric.T.prototype.inv=function inv(){var A=this;if(typeof A.y==="undefined")return new numeric.T(numeric.inv(A.x));var n=A.x.length,i,j,k;var Rx=numeric.identity(n),Ry=numeric.rep([n,n],0);var Ax=numeric.clone(A.x),Ay=numeric.clone(A.y);var Aix,Aiy,Ajx,Ajy,Rix,Riy,Rjx,Rjy;var i,j,k,d,d1,ax,ay,bx,by,temp;for(i=0;i<n;i++){ax=Ax[i][i];ay=Ay[i][i];d=ax*ax+ay*ay;k=i;for(j=i+1;j<n;j++){ax=Ax[j][i];ay=Ay[j][i];d1=ax*ax+ay*ay;if(d1>d){k=j;d=d1}}if(k!==i){temp=Ax[i];Ax[i]=Ax[k];Ax[k]=temp;temp=Ay[i];Ay[i]=
Ay[k];Ay[k]=temp;temp=Rx[i];Rx[i]=Rx[k];Rx[k]=temp;temp=Ry[i];Ry[i]=Ry[k];Ry[k]=temp}Aix=Ax[i];Aiy=Ay[i];Rix=Rx[i];Riy=Ry[i];ax=Aix[i];ay=Aiy[i];for(j=i+1;j<n;j++){bx=Aix[j];by=Aiy[j];Aix[j]=(bx*ax+by*ay)/d;Aiy[j]=(by*ax-bx*ay)/d}for(j=0;j<n;j++){bx=Rix[j];by=Riy[j];Rix[j]=(bx*ax+by*ay)/d;Riy[j]=(by*ax-bx*ay)/d}for(j=i+1;j<n;j++){Ajx=Ax[j];Ajy=Ay[j];Rjx=Rx[j];Rjy=Ry[j];ax=Ajx[i];ay=Ajy[i];for(k=i+1;k<n;k++){bx=Aix[k];by=Aiy[k];Ajx[k]-=bx*ax-by*ay;Ajy[k]-=by*ax+bx*ay}for(k=0;k<n;k++){bx=Rix[k];by=
Riy[k];Rjx[k]-=bx*ax-by*ay;Rjy[k]-=by*ax+bx*ay}}}for(i=n-1;i>0;i--){Rix=Rx[i];Riy=Ry[i];for(j=i-1;j>=0;j--){Rjx=Rx[j];Rjy=Ry[j];ax=Ax[j][i];ay=Ay[j][i];for(k=n-1;k>=0;k--){bx=Rix[k];by=Riy[k];Rjx[k]-=ax*bx-ay*by;Rjy[k]-=ax*by+ay*bx}}}return new numeric.T(Rx,Ry)};numeric.T.prototype.get=function get(i){var x=this.x,y=this.y,k=0,ik,n=i.length;if(y){while(k<n){ik=i[k];x=x[ik];y=y[ik];k++}return new numeric.T(x,y)}while(k<n){ik=i[k];x=x[ik];k++}return new numeric.T(x)};
numeric.T.prototype.set=function set(i,v){var x=this.x,y=this.y,k=0,ik,n=i.length,vx=v.x,vy=v.y;if(n===0){if(vy)this.y=vy;else if(y)this.y=undefined;this.x=x;return this}if(vy){if(y);else{y=numeric.rep(numeric.dim(x),0);this.y=y}while(k<n-1){ik=i[k];x=x[ik];y=y[ik];k++}ik=i[k];x[ik]=vx;y[ik]=vy;return this}if(y){while(k<n-1){ik=i[k];x=x[ik];y=y[ik];k++}ik=i[k];x[ik]=vx;if(vx instanceof Array)y[ik]=numeric.rep(numeric.dim(vx),0);else y[ik]=0;return this}while(k<n-1){ik=i[k];x=x[ik];k++}ik=i[k];x[ik]=
vx;return this};numeric.T.prototype.getRows=function getRows(i0,i1){var n=i1-i0+1,j;var rx=Array(n),ry,x=this.x,y=this.y;for(j=i0;j<=i1;j++)rx[j-i0]=x[j];if(y){ry=Array(n);for(j=i0;j<=i1;j++)ry[j-i0]=y[j];return new numeric.T(rx,ry)}return new numeric.T(rx)};
numeric.T.prototype.setRows=function setRows(i0,i1,A){var j;var rx=this.x,ry=this.y,x=A.x,y=A.y;for(j=i0;j<=i1;j++)rx[j]=x[j-i0];if(y){if(!ry){ry=numeric.rep(numeric.dim(rx),0);this.y=ry}for(j=i0;j<=i1;j++)ry[j]=y[j-i0]}else if(ry)for(j=i0;j<=i1;j++)ry[j]=numeric.rep([x[j-i0].length],0);return this};numeric.T.prototype.getRow=function getRow(k){var x=this.x,y=this.y;if(y)return new numeric.T(x[k],y[k]);return new numeric.T(x[k])};
numeric.T.prototype.setRow=function setRow(i,v){var rx=this.x,ry=this.y,x=v.x,y=v.y;rx[i]=x;if(y){if(!ry){ry=numeric.rep(numeric.dim(rx),0);this.y=ry}ry[i]=y}else if(ry)ry=numeric.rep([x.length],0);return this};numeric.T.prototype.getBlock=function getBlock(from,to){var x=this.x,y=this.y,b=numeric.getBlock;if(y)return new numeric.T(b(x,from,to),b(y,from,to));return new numeric.T(b(x,from,to))};
numeric.T.prototype.setBlock=function setBlock(from,to,A){if(!(A instanceof numeric.T))A=new numeric.T(A);var x=this.x,y=this.y,b=numeric.setBlock,Ax=A.x,Ay=A.y;if(Ay){if(!y){this.y=numeric.rep(numeric.dim(this),0);y=this.y}b(x,from,to,Ax);b(y,from,to,Ay);return this}b(x,from,to,Ax);if(y)b(y,from,to,numeric.rep(numeric.dim(Ax),0))};numeric.T.rep=function rep(s,v){var T=numeric.T;if(!(v instanceof T))v=new T(v);var x=v.x,y=v.y,r=numeric.rep;if(y)return new T(r(s,x),r(s,y));return new T(r(s,x))};
numeric.T.diag=function diag(d){if(!(d instanceof numeric.T))d=new numeric.T(d);var x=d.x,y=d.y,diag=numeric.diag;if(y)return new numeric.T(diag(x),diag(y));return new numeric.T(diag(x))};numeric.T.eig=function eig(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)};numeric.T.identity=function identity(n){return new numeric.T(numeric.identity(n))};
numeric.T.prototype.getDiag=function getDiag(){var n=numeric;var x=this.x,y=this.y;if(y)return new n.T(n.getDiag(x),n.getDiag(y));return new n.T(n.getDiag(x))};numeric.house=function house(x){var v=numeric.clone(x);var s=x[0]>=0?1:-1;var alpha=s*numeric.norm2(x);v[0]+=alpha;var foo=numeric.norm2(v);if(foo===0)throw new Error("eig: internal error");return numeric.div(v,foo)};
numeric.toUpperHessenberg=function toUpperHessenberg(me){var s=numeric.dim(me);if(s.length!==2||s[0]!==s[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var m=s[0],i,j,k,x,v,A=numeric.clone(me),B,C,Ai,Ci,Q=numeric.identity(m),Qi;for(j=0;j<m-2;j++){x=Array(m-j-1);for(i=j+1;i<m;i++)x[i-j-1]=A[i][j];if(numeric.norm2(x)>0){v=numeric.house(x);B=numeric.getBlock(A,[j+1,j],[m-1,m-1]);C=numeric.tensor(v,numeric.dot(v,B));for(i=j+1;i<m;i++){Ai=A[i];Ci=C[i-j-1];for(k=j;k<m;k++)Ai[k]-=
2*Ci[k-j]}B=numeric.getBlock(A,[0,j+1],[m-1,m-1]);C=numeric.tensor(numeric.dot(B,v),v);for(i=0;i<m;i++){Ai=A[i];Ci=C[i];for(k=j+1;k<m;k++)Ai[k]-=2*Ci[k-j-1]}B=Array(m-j-1);for(i=j+1;i<m;i++)B[i-j-1]=Q[i];C=numeric.tensor(v,numeric.dot(v,B));for(i=j+1;i<m;i++){Qi=Q[i];Ci=C[i-j-1];for(k=0;k<m;k++)Qi[k]-=2*Ci[k]}}}return{H:A,Q:Q}};numeric.epsilon=2.220446049250313E-16;
numeric.QRFrancis=function(H,maxiter){if(typeof maxiter==="undefined")maxiter=1E4;H=numeric.clone(H);var H0=numeric.clone(H);var s=numeric.dim(H),m=s[0],x,v,a,b,c,d,det,tr,Hloc,Q=numeric.identity(m),Qi,Hi,B,C,Ci,i,j,k,iter;if(m<3)return{Q:Q,B:[[0,m-1]]};var epsilon=numeric.epsilon;for(iter=0;iter<maxiter;iter++){for(j=0;j<m-1;j++)if(Math.abs(H[j+1][j])<epsilon*(Math.abs(H[j][j])+Math.abs(H[j+1][j+1]))){var QH1=numeric.QRFrancis(numeric.getBlock(H,[0,0],[j,j]),maxiter);var QH2=numeric.QRFrancis(numeric.getBlock(H,
[j+1,j+1],[m-1,m-1]),maxiter);B=Array(j+1);for(i=0;i<=j;i++)B[i]=Q[i];C=numeric.dot(QH1.Q,B);for(i=0;i<=j;i++)Q[i]=C[i];B=Array(m-j-1);for(i=j+1;i<m;i++)B[i-j-1]=Q[i];C=numeric.dot(QH2.Q,B);for(i=j+1;i<m;i++)Q[i]=C[i-j-1];return{Q:Q,B:QH1.B.concat(numeric.add(QH2.B,j+1))}}a=H[m-2][m-2];b=H[m-2][m-1];c=H[m-1][m-2];d=H[m-1][m-1];tr=a+d;det=a*d-b*c;Hloc=numeric.getBlock(H,[0,0],[2,2]);if(tr*tr>=4*det){var s1,s2;s1=.5*(tr+Math.sqrt(tr*tr-4*det));s2=.5*(tr-Math.sqrt(tr*tr-4*det));Hloc=numeric.add(numeric.sub(numeric.dot(Hloc,
Hloc),numeric.mul(Hloc,s1+s2)),numeric.diag(numeric.rep([3],s1*s2)))}else Hloc=numeric.add(numeric.sub(numeric.dot(Hloc,Hloc),numeric.mul(Hloc,tr)),numeric.diag(numeric.rep([3],det)));x=[Hloc[0][0],Hloc[1][0],Hloc[2][0]];v=numeric.house(x);B=[H[0],H[1],H[2]];C=numeric.tensor(v,numeric.dot(v,B));for(i=0;i<3;i++){Hi=H[i];Ci=C[i];for(k=0;k<m;k++)Hi[k]-=2*Ci[k]}B=numeric.getBlock(H,[0,0],[m-1,2]);C=numeric.tensor(numeric.dot(B,v),v);for(i=0;i<m;i++){Hi=H[i];Ci=C[i];for(k=0;k<3;k++)Hi[k]-=2*Ci[k]}B=[Q[0],
Q[1],Q[2]];C=numeric.tensor(v,numeric.dot(v,B));for(i=0;i<3;i++){Qi=Q[i];Ci=C[i];for(k=0;k<m;k++)Qi[k]-=2*Ci[k]}var J;for(j=0;j<m-2;j++){for(k=j;k<=j+1;k++)if(Math.abs(H[k+1][k])<epsilon*(Math.abs(H[k][k])+Math.abs(H[k+1][k+1]))){var QH1=numeric.QRFrancis(numeric.getBlock(H,[0,0],[k,k]),maxiter);var QH2=numeric.QRFrancis(numeric.getBlock(H,[k+1,k+1],[m-1,m-1]),maxiter);B=Array(k+1);for(i=0;i<=k;i++)B[i]=Q[i];C=numeric.dot(QH1.Q,B);for(i=0;i<=k;i++)Q[i]=C[i];B=Array(m-k-1);for(i=k+1;i<m;i++)B[i-k-
1]=Q[i];C=numeric.dot(QH2.Q,B);for(i=k+1;i<m;i++)Q[i]=C[i-k-1];return{Q:Q,B:QH1.B.concat(numeric.add(QH2.B,k+1))}}J=Math.min(m-1,j+3);x=Array(J-j);for(i=j+1;i<=J;i++)x[i-j-1]=H[i][j];v=numeric.house(x);B=numeric.getBlock(H,[j+1,j],[J,m-1]);C=numeric.tensor(v,numeric.dot(v,B));for(i=j+1;i<=J;i++){Hi=H[i];Ci=C[i-j-1];for(k=j;k<m;k++)Hi[k]-=2*Ci[k-j]}B=numeric.getBlock(H,[0,j+1],[m-1,J]);C=numeric.tensor(numeric.dot(B,v),v);for(i=0;i<m;i++){Hi=H[i];Ci=C[i];for(k=j+1;k<=J;k++)Hi[k]-=2*Ci[k-j-1]}B=Array(J-
j);for(i=j+1;i<=J;i++)B[i-j-1]=Q[i];C=numeric.tensor(v,numeric.dot(v,B));for(i=j+1;i<=J;i++){Qi=Q[i];Ci=C[i-j-1];for(k=0;k<m;k++)Qi[k]-=2*Ci[k]}}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?");};
numeric.eig=function eig(A,maxiter){var QH=numeric.toUpperHessenberg(A);var QB=numeric.QRFrancis(QH.H,maxiter);var T=numeric.T;var n=A.length,i,k,flag=false,B=QB.B,H=numeric.dot(QB.Q,numeric.dot(QH.H,numeric.transpose(QB.Q)));var Q=new T(numeric.dot(QB.Q,QH.Q)),Q0;var m=B.length,j;var a,b,c,d,p1,p2,disc,x,y,p,q,n1,n2;var sqrt=Math.sqrt;for(k=0;k<m;k++){i=B[k][0];if(i===B[k][1]);else{j=i+1;a=H[i][i];b=H[i][j];c=H[j][i];d=H[j][j];if(b===0&&c===0)continue;p1=-a-d;p2=a*d-b*c;disc=p1*p1-4*p2;if(disc>=
0){if(p1<0)x=-.5*(p1-sqrt(disc));else x=-.5*(p1+sqrt(disc));n1=(a-x)*(a-x)+b*b;n2=c*c+(d-x)*(d-x);if(n1>n2){n1=sqrt(n1);p=(a-x)/n1;q=b/n1}else{n2=sqrt(n2);p=c/n2;q=(d-x)/n2}Q0=new T([[q,-p],[p,q]]);Q.setRows(i,j,Q0.dot(Q.getRows(i,j)))}else{x=-.5*p1;y=.5*sqrt(-disc);n1=(a-x)*(a-x)+b*b;n2=c*c+(d-x)*(d-x);if(n1>n2){n1=sqrt(n1+y*y);p=(a-x)/n1;q=b/n1;x=0;y/=n1}else{n2=sqrt(n2+y*y);p=c/n2;q=(d-x)/n2;x=y/n2;y=0}Q0=new T([[q,-p],[p,q]],[[x,y],[y,-x]]);Q.setRows(i,j,Q0.dot(Q.getRows(i,j)))}}}var R=Q.dot(A).dot(Q.transjugate()),
n=A.length,E=numeric.T.identity(n);for(j=0;j<n;j++)if(j>0)for(k=j-1;k>=0;k--){var Rk=R.get([k,k]),Rj=R.get([j,j]);if(numeric.neq(Rk.x,Rj.x)||numeric.neq(Rk.y,Rj.y)){x=R.getRow(k).getBlock([k],[j-1]);y=E.getRow(j).getBlock([k],[j-1]);E.set([j,k],R.get([k,j]).neg().sub(x.dot(y)).div(Rk.sub(Rj)))}else{E.setRow(j,E.getRow(k));continue}}for(j=0;j<n;j++){x=E.getRow(j);E.setRow(j,x.div(x.norm2()))}E=E.transpose();E=Q.transjugate().dot(E);return{lambda:R.getDiag(),E:E}};
numeric.ccsSparse=function ccsSparse(A){var m=A.length,n,foo,i,j,counts=[];for(i=m-1;i!==-1;--i){foo=A[i];for(j in foo){j=parseInt(j);while(j>=counts.length)counts[counts.length]=0;if(foo[j]!==0)counts[j]++}}var n=counts.length;var Ai=Array(n+1);Ai[0]=0;for(i=0;i<n;++i)Ai[i+1]=Ai[i]+counts[i];var Aj=Array(Ai[n]),Av=Array(Ai[n]);for(i=m-1;i!==-1;--i){foo=A[i];for(j in foo)if(foo[j]!==0){counts[j]--;Aj[Ai[j]+counts[j]]=i;Av[Ai[j]+counts[j]]=foo[j]}}return[Ai,Aj,Av]};
numeric.ccsFull=function ccsFull(A){var Ai=A[0],Aj=A[1],Av=A[2],s=numeric.ccsDim(A),m=s[0],n=s[1],i,j,j0,j1,k;var B=numeric.rep([m,n],0);for(i=0;i<n;i++){j0=Ai[i];j1=Ai[i+1];for(j=j0;j<j1;++j)B[Aj[j]][i]=Av[j]}return B};
numeric.ccsTSolve=function ccsTSolve(A,b,x,bj,xj){var Ai=A[0],Aj=A[1],Av=A[2],m=Ai.length-1,max=Math.max,n=0;if(typeof bj==="undefined")x=numeric.rep([m],0);if(typeof bj==="undefined")bj=numeric.linspace(0,x.length-1);if(typeof xj==="undefined")xj=[];function dfs(j){var k;if(x[j]!==0)return;x[j]=1;for(k=Ai[j];k<Ai[j+1];++k)dfs(Aj[k]);xj[n]=j;++n}var i,j,j0,j1,k,l,l0,l1,a;for(i=bj.length-1;i!==-1;--i)dfs(bj[i]);xj.length=n;for(i=xj.length-1;i!==-1;--i)x[xj[i]]=0;for(i=bj.length-1;i!==-1;--i){j=bj[i];
x[j]=b[j]}for(i=xj.length-1;i!==-1;--i){j=xj[i];j0=Ai[j];j1=max(Ai[j+1],j0);for(k=j0;k!==j1;++k)if(Aj[k]===j){x[j]/=Av[k];break}a=x[j];for(k=j0;k!==j1;++k){l=Aj[k];if(l!==j)x[l]-=a*Av[k]}}return x};numeric.ccsDFS=function ccsDFS(n){this.k=Array(n);this.k1=Array(n);this.j=Array(n)};
numeric.ccsDFS.prototype.dfs=function dfs(J,Ai,Aj,x,xj,Pinv){var m=0,foo,n=xj.length;var k=this.k,k1=this.k1,j=this.j,km,k11;if(x[J]!==0)return;x[J]=1;j[0]=J;k[0]=km=Ai[J];k1[0]=k11=Ai[J+1];while(1)if(km>=k11){xj[n]=j[m];if(m===0)return;++n;--m;km=k[m];k11=k1[m]}else{foo=Pinv[Aj[km]];if(x[foo]===0){x[foo]=1;k[m]=km;++m;j[m]=foo;km=Ai[foo];k1[m]=k11=Ai[foo+1]}else++km}};
numeric.ccsLPSolve=function ccsLPSolve(A,B,x,xj,I,Pinv,dfs){var Ai=A[0],Aj=A[1],Av=A[2],m=Ai.length-1,n=0;var Bi=B[0],Bj=B[1],Bv=B[2];var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;i0=Bi[I];i1=Bi[I+1];xj.length=0;for(i=i0;i<i1;++i)dfs.dfs(Pinv[Bj[i]],Ai,Aj,x,xj,Pinv);for(i=xj.length-1;i!==-1;--i)x[xj[i]]=0;for(i=i0;i!==i1;++i){j=Pinv[Bj[i]];x[j]=Bv[i]}for(i=xj.length-1;i!==-1;--i){j=xj[i];j0=Ai[j];j1=Ai[j+1];for(k=j0;k<j1;++k)if(Pinv[Aj[k]]===j){x[j]/=Av[k];break}a=x[j];for(k=j0;k<j1;++k){l=Pinv[Aj[k]];if(l!==
j)x[l]-=a*Av[k]}}return x};
numeric.ccsLUP1=function ccsLUP1(A,threshold){var m=A[0].length-1;var L=[numeric.rep([m+1],0),[],[]],U=[numeric.rep([m+1],0),[],[]];var Li=L[0],Lj=L[1],Lv=L[2],Ui=U[0],Uj=U[1],Uv=U[2];var x=numeric.rep([m],0),xj=numeric.rep([m],0);var i,j,k,j0,j1,a,e,c,d,K;var sol=numeric.ccsLPSolve,max=Math.max,abs=Math.abs;var P=numeric.linspace(0,m-1),Pinv=numeric.linspace(0,m-1);var dfs=new numeric.ccsDFS(m);if(typeof threshold==="undefined")threshold=1;for(i=0;i<m;++i){sol(L,A,x,xj,i,Pinv,dfs);a=-1;e=-1;for(j=
xj.length-1;j!==-1;--j){k=xj[j];if(k<=i)continue;c=abs(x[k]);if(c>a){e=k;a=c}}if(abs(x[i])<threshold*a){j=P[i];a=P[e];P[i]=a;Pinv[a]=i;P[e]=j;Pinv[j]=e;a=x[i];x[i]=x[e];x[e]=a}a=Li[i];e=Ui[i];d=x[i];Lj[a]=P[i];Lv[a]=1;++a;for(j=xj.length-1;j!==-1;--j){k=xj[j];c=x[k];xj[j]=0;x[k]=0;if(k<=i){Uj[e]=k;Uv[e]=c;++e}else{Lj[a]=P[k];Lv[a]=c/d;++a}}Li[i+1]=a;Ui[i+1]=e}for(j=Lj.length-1;j!==-1;--j)Lj[j]=Pinv[Lj[j]];return{L:L,U:U,P:P,Pinv:Pinv}};
numeric.ccsDFS0=function ccsDFS0(n){this.k=Array(n);this.k1=Array(n);this.j=Array(n)};
numeric.ccsDFS0.prototype.dfs=function dfs(J,Ai,Aj,x,xj,Pinv,P){var m=0,foo,n=xj.length;var k=this.k,k1=this.k1,j=this.j,km,k11;if(x[J]!==0)return;x[J]=1;j[0]=J;k[0]=km=Ai[Pinv[J]];k1[0]=k11=Ai[Pinv[J]+1];while(1){if(isNaN(km))throw new Error("Ow!");if(km>=k11){xj[n]=Pinv[j[m]];if(m===0)return;++n;--m;km=k[m];k11=k1[m]}else{foo=Aj[km];if(x[foo]===0){x[foo]=1;k[m]=km;++m;j[m]=foo;foo=Pinv[foo];km=Ai[foo];k1[m]=k11=Ai[foo+1]}else++km}}};
numeric.ccsLPSolve0=function ccsLPSolve0(A,B,y,xj,I,Pinv,P,dfs){var Ai=A[0],Aj=A[1],Av=A[2],m=Ai.length-1,n=0;var Bi=B[0],Bj=B[1],Bv=B[2];var i,i0,i1,j,J,j0,j1,k,l,l0,l1,a;i0=Bi[I];i1=Bi[I+1];xj.length=0;for(i=i0;i<i1;++i)dfs.dfs(Bj[i],Ai,Aj,y,xj,Pinv,P);for(i=xj.length-1;i!==-1;--i){j=xj[i];y[P[j]]=0}for(i=i0;i!==i1;++i){j=Bj[i];y[j]=Bv[i]}for(i=xj.length-1;i!==-1;--i){j=xj[i];l=P[j];j0=Ai[j];j1=Ai[j+1];for(k=j0;k<j1;++k)if(Aj[k]===l){y[l]/=Av[k];break}a=y[l];for(k=j0;k<j1;++k)y[Aj[k]]-=a*Av[k];
y[l]=a}};
numeric.ccsLUP0=function ccsLUP0(A,threshold){var m=A[0].length-1;var L=[numeric.rep([m+1],0),[],[]],U=[numeric.rep([m+1],0),[],[]];var Li=L[0],Lj=L[1],Lv=L[2],Ui=U[0],Uj=U[1],Uv=U[2];var y=numeric.rep([m],0),xj=numeric.rep([m],0);var i,j,k,j0,j1,a,e,c,d,K;var sol=numeric.ccsLPSolve0,max=Math.max,abs=Math.abs;var P=numeric.linspace(0,m-1),Pinv=numeric.linspace(0,m-1);var dfs=new numeric.ccsDFS0(m);if(typeof threshold==="undefined")threshold=1;for(i=0;i<m;++i){sol(L,A,y,xj,i,Pinv,P,dfs);a=-1;e=-1;
for(j=xj.length-1;j!==-1;--j){k=xj[j];if(k<=i)continue;c=abs(y[P[k]]);if(c>a){e=k;a=c}}if(abs(y[P[i]])<threshold*a){j=P[i];a=P[e];P[i]=a;Pinv[a]=i;P[e]=j;Pinv[j]=e}a=Li[i];e=Ui[i];d=y[P[i]];Lj[a]=P[i];Lv[a]=1;++a;for(j=xj.length-1;j!==-1;--j){k=xj[j];c=y[P[k]];xj[j]=0;y[P[k]]=0;if(k<=i){Uj[e]=k;Uv[e]=c;++e}else{Lj[a]=P[k];Lv[a]=c/d;++a}}Li[i+1]=a;Ui[i+1]=e}for(j=Lj.length-1;j!==-1;--j)Lj[j]=Pinv[Lj[j]];return{L:L,U:U,P:P,Pinv:Pinv}};numeric.ccsLUP=numeric.ccsLUP0;
numeric.ccsDim=function ccsDim(A){return[numeric.sup(A[1])+1,A[0].length-1]};
numeric.ccsGetBlock=function ccsGetBlock(A,i,j){var s=numeric.ccsDim(A),m=s[0],n=s[1];if(typeof i==="undefined")i=numeric.linspace(0,m-1);else if(typeof i==="number")i=[i];if(typeof j==="undefined")j=numeric.linspace(0,n-1);else if(typeof j==="number")j=[j];var p,p0,p1,P=i.length,q,Q=j.length,r,jq,ip;var Bi=numeric.rep([n],0),Bj=[],Bv=[],B=[Bi,Bj,Bv];var Ai=A[0],Aj=A[1],Av=A[2];var x=numeric.rep([m],0),count=0,flags=numeric.rep([m],0);for(q=0;q<Q;++q){jq=j[q];var q0=Ai[jq];var q1=Ai[jq+1];for(p=q0;p<
q1;++p){r=Aj[p];flags[r]=1;x[r]=Av[p]}for(p=0;p<P;++p){ip=i[p];if(flags[ip]){Bj[count]=p;Bv[count]=x[i[p]];++count}}for(p=q0;p<q1;++p){r=Aj[p];flags[r]=0}Bi[q+1]=count}return B};
numeric.ccsDot=function ccsDot(A,B){var Ai=A[0],Aj=A[1],Av=A[2];var Bi=B[0],Bj=B[1],Bv=B[2];var sA=numeric.ccsDim(A),sB=numeric.ccsDim(B);var m=sA[0],n=sA[1],o=sB[1];var x=numeric.rep([m],0),flags=numeric.rep([m],0),xj=Array(m);var Ci=numeric.rep([o],0),Cj=[],Cv=[],C=[Ci,Cj,Cv];var i,j,k,j0,j1,i0,i1,l,p,a,b;for(k=0;k!==o;++k){j0=Bi[k];j1=Bi[k+1];p=0;for(j=j0;j<j1;++j){a=Bj[j];b=Bv[j];i0=Ai[a];i1=Ai[a+1];for(i=i0;i<i1;++i){l=Aj[i];if(flags[l]===0){xj[p]=l;flags[l]=1;p=p+1}x[l]=x[l]+Av[i]*b}}j0=Ci[k];
j1=j0+p;Ci[k+1]=j1;for(j=p-1;j!==-1;--j){b=j0+j;i=xj[j];Cj[b]=i;Cv[b]=x[i];flags[i]=0;x[i]=0}Ci[k+1]=Ci[k]+p}return C};
numeric.ccsLUPSolve=function ccsLUPSolve(LUP,B){var L=LUP.L,U=LUP.U,P=LUP.P;var Bi=B[0];var flag=false;if(typeof Bi!=="object"){B=[[0,B.length],numeric.linspace(0,B.length-1),B];Bi=B[0];flag=true}var Bj=B[1],Bv=B[2];var n=L[0].length-1,m=Bi.length-1;var x=numeric.rep([n],0),xj=Array(n);var b=numeric.rep([n],0),bj=Array(n);var Xi=numeric.rep([m+1],0),Xj=[],Xv=[];var sol=numeric.ccsTSolve;var i,j,j0,j1,k,J,N=0;for(i=0;i<m;++i){k=0;j0=Bi[i];j1=Bi[i+1];for(j=j0;j<j1;++j){J=LUP.Pinv[Bj[j]];bj[k]=J;b[J]=
Bv[j];++k}bj.length=k;sol(L,b,x,bj,xj);for(j=bj.length-1;j!==-1;--j)b[bj[j]]=0;sol(U,x,b,xj,bj);if(flag)return b;for(j=xj.length-1;j!==-1;--j)x[xj[j]]=0;for(j=bj.length-1;j!==-1;--j){J=bj[j];Xj[N]=J;Xv[N]=b[J];b[J]=0;++N}Xi[i+1]=N}return[Xi,Xj,Xv]};
numeric.ccsbinop=function ccsbinop(body,setup){if(typeof setup==="undefined")setup="";return Function("X","Y","var Xi \x3d X[0], Xj \x3d X[1], Xv \x3d X[2];\n"+"var Yi \x3d Y[0], Yj \x3d Y[1], Yv \x3d Y[2];\n"+"var n \x3d Xi.length-1,m \x3d Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\n"+"var Zi \x3d numeric.rep([n+1],0), Zj \x3d [], Zv \x3d [];\n"+"var x \x3d numeric.rep([m],0),y \x3d numeric.rep([m],0);\n"+"var xk,yk,zk;\n"+"var i,j,j0,j1,k,p\x3d0;\n"+setup+"for(i\x3d0;i\x3cn;++i) {\n"+"  j0 \x3d Xi[i]; j1 \x3d Xi[i+1];\n"+
"  for(j\x3dj0;j!\x3d\x3dj1;++j) {\n"+"    k \x3d Xj[j];\n"+"    x[k] \x3d 1;\n"+"    Zj[p] \x3d k;\n"+"    ++p;\n"+"  }\n"+"  j0 \x3d Yi[i]; j1 \x3d Yi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) {\n"+"    k \x3d Yj[j];\n"+"    y[k] \x3d Yv[j];\n"+"    if(x[k] \x3d\x3d\x3d 0) {\n"+"      Zj[p] \x3d k;\n"+"      ++p;\n"+"    }\n"+"  }\n"+"  Zi[i+1] \x3d p;\n"+"  j0 \x3d Xi[i]; j1 \x3d Xi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) x[Xj[j]] \x3d Xv[j];\n"+"  j0 \x3d Zi[i]; j1 \x3d Zi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) {\n"+
"    k \x3d Zj[j];\n"+"    xk \x3d x[k];\n"+"    yk \x3d y[k];\n"+body+"\n"+"    Zv[j] \x3d zk;\n"+"  }\n"+"  j0 \x3d Xi[i]; j1 \x3d Xi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) x[Xj[j]] \x3d 0;\n"+"  j0 \x3d Yi[i]; j1 \x3d Yi[i+1];\n"+"  for(j\x3dj0;j!\x3d\x3dj1;++j) y[Yj[j]] \x3d 0;\n"+"}\n"+"return [Zi,Zj,Zv];")};
(function(){var k,A,B,C;for(k in numeric.ops2){if(isFinite(eval("1"+numeric.ops2[k]+"0")))A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]";else A="NaN";if(isFinite(eval("0"+numeric.ops2[k]+"1")))B="[X[0],X[1],numeric."+k+"(X[2],Y)]";else B="NaN";if(isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1")))C="numeric.ccs"+k+"MM(X,Y)";else C="NaN";numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk \x3d xk "+numeric.ops2[k]+"yk;");numeric["ccs"+k]=Function("X","Y",'if(typeof X \x3d\x3d\x3d "number") return '+
A+";\n"+'if(typeof Y \x3d\x3d\x3d "number") return '+B+";\n"+"return "+C+";\n")}})();numeric.ccsScatter=function ccsScatter(A){var Ai=A[0],Aj=A[1],Av=A[2];var n=numeric.sup(Aj)+1,m=Ai.length;var Ri=numeric.rep([n],0),Rj=Array(m),Rv=Array(m);var counts=numeric.rep([n],0),i;for(i=0;i<m;++i)counts[Aj[i]]++;for(i=0;i<n;++i)Ri[i+1]=Ri[i]+counts[i];var ptr=Ri.slice(0),k,Aii;for(i=0;i<m;++i){Aii=Aj[i];k=ptr[Aii];Rj[k]=Ai[i];Rv[k]=Av[i];ptr[Aii]=ptr[Aii]+1}return[Ri,Rj,Rv]};
numeric.ccsGather=function ccsGather(A){var Ai=A[0],Aj=A[1],Av=A[2];var n=Ai.length-1,m=Aj.length;var Ri=Array(m),Rj=Array(m),Rv=Array(m);var i,j,j0,j1,p;p=0;for(i=0;i<n;++i){j0=Ai[i];j1=Ai[i+1];for(j=j0;j!==j1;++j){Rj[p]=i;Ri[p]=Aj[j];Rv[p]=Av[j];++p}}return[Ri,Rj,Rv]};
numeric.sdim=function dim(A,ret,k){if(typeof ret==="undefined")ret=[];if(typeof A!=="object")return ret;if(typeof k==="undefined")k=0;if(!(k in ret))ret[k]=0;if(A.length>ret[k])ret[k]=A.length;var i;for(i in A)if(A.hasOwnProperty(i))dim(A[i],ret,k+1);return ret};
numeric.sclone=function clone(A,k,n){if(typeof k==="undefined")k=0;if(typeof n==="undefined")n=numeric.sdim(A).length;var i,ret=Array(A.length);if(k===n-1){for(i in A)if(A.hasOwnProperty(i))ret[i]=A[i];return ret}for(i in A)if(A.hasOwnProperty(i))ret[i]=clone(A[i],k+1,n);return ret};numeric.sdiag=function diag(d){var n=d.length,i,ret=Array(n),i1,i2,i3;for(i=n-1;i>=1;i-=2){i1=i-1;ret[i]=[];ret[i][i]=d[i];ret[i1]=[];ret[i1][i1]=d[i1]}if(i===0){ret[0]=[];ret[0][0]=d[i]}return ret};
numeric.sidentity=function identity(n){return numeric.sdiag(numeric.rep([n],1))};numeric.stranspose=function transpose(A){var ret=[],n=A.length,i,j,Ai;for(i in A){if(!A.hasOwnProperty(i))continue;Ai=A[i];for(j in Ai){if(!Ai.hasOwnProperty(j))continue;if(typeof ret[j]!=="object")ret[j]=[];ret[j][i]=Ai[j]}}return ret};numeric.sLUP=function LUP(A,tol){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.");};
numeric.sdotMM=function dotMM(A,B){var p=A.length,q=B.length,BT=numeric.stranspose(B),r=BT.length,Ai,BTk;var i,j,k,accum;var ret=Array(p),reti;for(i=p-1;i>=0;i--){reti=[];Ai=A[i];for(k=r-1;k>=0;k--){accum=0;BTk=BT[k];for(j in Ai){if(!Ai.hasOwnProperty(j))continue;if(j in BTk)accum+=Ai[j]*BTk[j]}if(accum)reti[k]=accum}ret[i]=reti}return ret};
numeric.sdotMV=function dotMV(A,x){var p=A.length,Ai,i,j;var ret=Array(p),accum;for(i=p-1;i>=0;i--){Ai=A[i];accum=0;for(j in Ai){if(!Ai.hasOwnProperty(j))continue;if(x[j])accum+=Ai[j]*x[j]}if(accum)ret[i]=accum}return ret};numeric.sdotVM=function dotMV(x,A){var i,j,Ai,alpha;var ret=[],accum;for(i in x){if(!x.hasOwnProperty(i))continue;Ai=A[i];alpha=x[i];for(j in Ai){if(!Ai.hasOwnProperty(j))continue;if(!ret[j])ret[j]=0;ret[j]+=alpha*Ai[j]}}return ret};
numeric.sdotVV=function dotVV(x,y){var i,ret=0;for(i in x)if(x[i]&&y[i])ret+=x[i]*y[i];return ret};numeric.sdot=function dot(A,B){var m=numeric.sdim(A).length,n=numeric.sdim(B).length;var k=m*1E3+n;switch(k){case 0:return A*B;case 1001:return numeric.sdotVV(A,B);case 2001:return numeric.sdotMV(A,B);case 1002:return numeric.sdotVM(A,B);case 2002:return numeric.sdotMM(A,B);default:throw new Error("numeric.sdot not implemented for tensors of order "+m+" and "+n);}};
numeric.sscatter=function scatter(V){var n=V[0].length,Vij,i,j,m=V.length,A=[],Aj;for(i=n-1;i>=0;--i){if(!V[m-1][i])continue;Aj=A;for(j=0;j<m-2;j++){Vij=V[j][i];if(!Aj[Vij])Aj[Vij]=[];Aj=Aj[Vij]}Aj[V[j][i]]=V[j+1][i]}return A};
numeric.sgather=function gather(A,ret,k){if(typeof ret==="undefined")ret=[];if(typeof k==="undefined")k=[];var n,i,Ai;n=k.length;for(i in A)if(A.hasOwnProperty(i)){k[n]=parseInt(i);Ai=A[i];if(typeof Ai==="number"){if(Ai){if(ret.length===0)for(i=n+1;i>=0;--i)ret[i]=[];for(i=n;i>=0;--i)ret[i].push(k[i]);ret[n+1].push(Ai)}}else gather(Ai,ret,k)}if(k.length>n)k.pop();return ret};
numeric.cLU=function LU(A){var I=A[0],J=A[1],V=A[2];var p=I.length,m=0,i,j,k,a,b,c;for(i=0;i<p;i++)if(I[i]>m)m=I[i];m++;var L=Array(m),U=Array(m),left=numeric.rep([m],Infinity),right=numeric.rep([m],-Infinity);var Ui,Uj,alpha;for(k=0;k<p;k++){i=I[k];j=J[k];if(j<left[i])left[i]=j;if(j>right[i])right[i]=j}for(i=0;i<m-1;i++)if(right[i]>right[i+1])right[i+1]=right[i];for(i=m-1;i>=1;i--)if(left[i]<left[i-1])left[i-1]=left[i];var countL=0,countU=0;for(i=0;i<m;i++){U[i]=numeric.rep([right[i]-left[i]+1],
0);L[i]=numeric.rep([i-left[i]],0);countL+=i-left[i]+1;countU+=right[i]-i+1}for(k=0;k<p;k++){i=I[k];U[i][J[k]-left[i]]=V[k]}for(i=0;i<m-1;i++){a=i-left[i];Ui=U[i];for(j=i+1;left[j]<=i&&j<m;j++){b=i-left[j];c=right[i]-i;Uj=U[j];alpha=Uj[b]/Ui[a];if(alpha){for(k=1;k<=c;k++)Uj[k+b]-=alpha*Ui[k+a];L[j][i-left[j]]=alpha}}}var Ui=[],Uj=[],Uv=[],Li=[],Lj=[],Lv=[];var p,q,foo;p=0;q=0;for(i=0;i<m;i++){a=left[i];b=right[i];foo=U[i];for(j=i;j<=b;j++)if(foo[j-a]){Ui[p]=i;Uj[p]=j;Uv[p]=foo[j-a];p++}foo=L[i];for(j=
a;j<i;j++)if(foo[j-a]){Li[q]=i;Lj[q]=j;Lv[q]=foo[j-a];q++}Li[q]=i;Lj[q]=i;Lv[q]=1;q++}return{U:[Ui,Uj,Uv],L:[Li,Lj,Lv]}};numeric.cLUsolve=function LUsolve(lu,b){var L=lu.L,U=lu.U,ret=numeric.clone(b);var Li=L[0],Lj=L[1],Lv=L[2];var Ui=U[0],Uj=U[1],Uv=U[2];var p=Ui.length,q=Li.length;var m=ret.length,i,j,k;k=0;for(i=0;i<m;i++){while(Lj[k]<i){ret[i]-=Lv[k]*ret[Lj[k]];k++}k++}k=p-1;for(i=m-1;i>=0;i--){while(Uj[k]>i){ret[i]-=Uv[k]*ret[Uj[k]];k--}ret[i]/=Uv[k];k--}return ret};
numeric.cgrid=function grid(n,shape){if(typeof n==="number")n=[n,n];var ret=numeric.rep(n,-1);var i,j,count;if(typeof shape!=="function")switch(shape){case "L":shape=function(i,j){return i>=n[0]/2||j<n[1]/2};break;default:shape=function(i,j){return true};break}count=0;for(i=1;i<n[0]-1;i++)for(j=1;j<n[1]-1;j++)if(shape(i,j)){ret[i][j]=count;count++}return ret};
numeric.cdelsq=function delsq(g){var dir=[[-1,0],[0,-1],[0,1],[1,0]];var s=numeric.dim(g),m=s[0],n=s[1],i,j,k,p,q;var Li=[],Lj=[],Lv=[];for(i=1;i<m-1;i++)for(j=1;j<n-1;j++){if(g[i][j]<0)continue;for(k=0;k<4;k++){p=i+dir[k][0];q=j+dir[k][1];if(g[p][q]<0)continue;Li.push(g[i][j]);Lj.push(g[p][q]);Lv.push(-1)}Li.push(g[i][j]);Lj.push(g[i][j]);Lv.push(4)}return[Li,Lj,Lv]};
numeric.cdotMV=function dotMV(A,x){var ret,Ai=A[0],Aj=A[1],Av=A[2],k,p=Ai.length,N;N=0;for(k=0;k<p;k++)if(Ai[k]>N)N=Ai[k];N++;ret=numeric.rep([N],0);for(k=0;k<p;k++)ret[Ai[k]]+=Av[k]*x[Aj[k]];return ret};numeric.Spline=function Spline(x,yl,yr,kl,kr){this.x=x;this.yl=yl;this.yr=yr;this.kl=kl;this.kr=kr};
numeric.Spline.prototype._at=function _at(x1,p){var x=this.x;var yl=this.yl;var yr=this.yr;var kl=this.kl;var kr=this.kr;var x1,a,b,t;var add=numeric.add,sub=numeric.sub,mul=numeric.mul;a=sub(mul(kl[p],x[p+1]-x[p]),sub(yr[p+1],yl[p]));b=add(mul(kr[p+1],x[p]-x[p+1]),sub(yr[p+1],yl[p]));t=(x1-x[p])/(x[p+1]-x[p]);var s=t*(1-t);return add(add(add(mul(1-t,yl[p]),mul(t,yr[p+1])),mul(a,s*(1-t))),mul(b,s*t))};
numeric.Spline.prototype.at=function at(x0){if(typeof x0==="number"){var x=this.x;var n=x.length;var p,q,mid,floor=Math.floor,a,b,t;p=0;q=n-1;while(q-p>1){mid=floor((p+q)/2);if(x[mid]<=x0)p=mid;else q=mid}return this._at(x0,p)}var n=x0.length,i,ret=Array(n);for(i=n-1;i!==-1;--i)ret[i]=this.at(x0[i]);return ret};
numeric.Spline.prototype.diff=function diff(){var x=this.x;var yl=this.yl;var yr=this.yr;var kl=this.kl;var kr=this.kr;var n=yl.length;var i,dx,dy;var zl=kl,zr=kr,pl=Array(n),pr=Array(n);var add=numeric.add,mul=numeric.mul,div=numeric.div,sub=numeric.sub;for(i=n-1;i!==-1;--i){dx=x[i+1]-x[i];dy=sub(yr[i+1],yl[i]);pl[i]=div(add(mul(dy,6),mul(kl[i],-4*dx),mul(kr[i+1],-2*dx)),dx*dx);pr[i+1]=div(add(mul(dy,-6),mul(kl[i],2*dx),mul(kr[i+1],4*dx)),dx*dx)}return new numeric.Spline(x,zl,zr,pl,pr)};
numeric.Spline.prototype.roots=function roots(){function sqr(x){return x*x}function heval(y0,y1,k0,k1,x){var A=k0*2-(y1-y0);var B=-k1*2+(y1-y0);var t=(x+1)*.5;var s=t*(1-t);return(1-t)*y0+t*y1+A*s*(1-t)+B*s*t}var ret=[];var x=this.x,yl=this.yl,yr=this.yr,kl=this.kl,kr=this.kr;if(typeof yl[0]==="number"){yl=[yl];yr=[yr];kl=[kl];kr=[kr]}var m=yl.length,n=x.length-1,i,j,k,y,s,t;var ai,bi,ci,di,ret=Array(m),ri,k0,k1,y0,y1,A,B,D,dx,cx,stops,z0,z1,zm,t0,t1,tm;var sqrt=Math.sqrt;for(i=0;i!==m;++i){ai=yl[i];
bi=yr[i];ci=kl[i];di=kr[i];ri=[];for(j=0;j!==n;j++){if(j>0&&bi[j]*ai[j]<0)ri.push(x[j]);dx=x[j+1]-x[j];cx=x[j];y0=ai[j];y1=bi[j+1];k0=ci[j]/dx;k1=di[j+1]/dx;D=sqr(k0-k1+3*(y0-y1))+12*k1*y0;A=k1+3*y0+2*k0-3*y1;B=3*(k1+k0+2*(y0-y1));if(D<=0){z0=A/B;if(z0>x[j]&&z0<x[j+1])stops=[x[j],z0,x[j+1]];else stops=[x[j],x[j+1]]}else{z0=(A-sqrt(D))/B;z1=(A+sqrt(D))/B;stops=[x[j]];if(z0>x[j]&&z0<x[j+1])stops.push(z0);if(z1>x[j]&&z1<x[j+1])stops.push(z1);stops.push(x[j+1])}t0=stops[0];z0=this._at(t0,j);for(k=0;k<
stops.length-1;k++){t1=stops[k+1];z1=this._at(t1,j);if(z0===0){ri.push(t0);t0=t1;z0=z1;continue}if(z1===0||z0*z1>0){t0=t1;z0=z1;continue}var side=0;while(1){tm=(z0*t1-z1*t0)/(z0-z1);if(tm<=t0||tm>=t1)break;zm=this._at(tm,j);if(zm*z1>0){t1=tm;z1=zm;if(side===-1)z0*=.5;side=-1}else if(zm*z0>0){t0=tm;z0=zm;if(side===1)z1*=.5;side=1}else break}ri.push(tm);t0=stops[k+1];z0=this._at(t0,j)}if(z1===0)ri.push(t1)}ret[i]=ri}if(typeof this.yl[0]==="number")return ret[0];return ret};
numeric.spline=function spline(x,y,k1,kn){var n=x.length,b=[],dx=[],dy=[];var i;var sub=numeric.sub,mul=numeric.mul,add=numeric.add;for(i=n-2;i>=0;i--){dx[i]=x[i+1]-x[i];dy[i]=sub(y[i+1],y[i])}if(typeof k1==="string"||typeof kn==="string")k1=kn="periodic";var T=[[],[],[]];switch(typeof k1){case "undefined":b[0]=mul(3/(dx[0]*dx[0]),dy[0]);T[0].push(0,0);T[1].push(0,1);T[2].push(2/dx[0],1/dx[0]);break;case "string":b[0]=add(mul(3/(dx[n-2]*dx[n-2]),dy[n-2]),mul(3/(dx[0]*dx[0]),dy[0]));T[0].push(0,0,
0);T[1].push(n-2,0,1);T[2].push(1/dx[n-2],2/dx[n-2]+2/dx[0],1/dx[0]);break;default:b[0]=k1;T[0].push(0);T[1].push(0);T[2].push(1);break}for(i=1;i<n-1;i++){b[i]=add(mul(3/(dx[i-1]*dx[i-1]),dy[i-1]),mul(3/(dx[i]*dx[i]),dy[i]));T[0].push(i,i,i);T[1].push(i-1,i,i+1);T[2].push(1/dx[i-1],2/dx[i-1]+2/dx[i],1/dx[i])}switch(typeof kn){case "undefined":b[n-1]=mul(3/(dx[n-2]*dx[n-2]),dy[n-2]);T[0].push(n-1,n-1);T[1].push(n-2,n-1);T[2].push(1/dx[n-2],2/dx[n-2]);break;case "string":T[1][T[1].length-1]=0;break;
default:b[n-1]=kn;T[0].push(n-1);T[1].push(n-1);T[2].push(1);break}if(typeof b[0]!=="number")b=numeric.transpose(b);else b=[b];var k=Array(b.length);if(typeof k1==="string")for(i=k.length-1;i!==-1;--i){k[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(T)),b[i]);k[i][n-1]=k[i][0]}else for(i=k.length-1;i!==-1;--i)k[i]=numeric.cLUsolve(numeric.cLU(T),b[i]);if(typeof y[0]==="number")k=k[0];else k=numeric.transpose(k);return new numeric.Spline(x,y,y,k,k)};
numeric.fftpow2=function fftpow2(x,y){var n=x.length;if(n===1)return;var cos=Math.cos,sin=Math.sin,i,j;var xe=Array(n/2),ye=Array(n/2),xo=Array(n/2),yo=Array(n/2);j=n/2;for(i=n-1;i!==-1;--i){--j;xo[j]=x[i];yo[j]=y[i];--i;xe[j]=x[i];ye[j]=y[i]}fftpow2(xe,ye);fftpow2(xo,yo);j=n/2;var t,k=-6.283185307179586/n,ci,si;for(i=n-1;i!==-1;--i){--j;if(j===-1)j=n/2-1;t=k*i;ci=cos(t);si=sin(t);x[i]=xe[j]+ci*xo[j]-si*yo[j];y[i]=ye[j]+ci*yo[j]+si*xo[j]}};
numeric._ifftpow2=function _ifftpow2(x,y){var n=x.length;if(n===1)return;var cos=Math.cos,sin=Math.sin,i,j;var xe=Array(n/2),ye=Array(n/2),xo=Array(n/2),yo=Array(n/2);j=n/2;for(i=n-1;i!==-1;--i){--j;xo[j]=x[i];yo[j]=y[i];--i;xe[j]=x[i];ye[j]=y[i]}_ifftpow2(xe,ye);_ifftpow2(xo,yo);j=n/2;var t,k=6.283185307179586/n,ci,si;for(i=n-1;i!==-1;--i){--j;if(j===-1)j=n/2-1;t=k*i;ci=cos(t);si=sin(t);x[i]=xe[j]+ci*xo[j]-si*yo[j];y[i]=ye[j]+ci*yo[j]+si*xo[j]}};
numeric.ifftpow2=function ifftpow2(x,y){numeric._ifftpow2(x,y);numeric.diveq(x,x.length);numeric.diveq(y,y.length)};numeric.convpow2=function convpow2(ax,ay,bx,by){numeric.fftpow2(ax,ay);numeric.fftpow2(bx,by);var i,n=ax.length,axi,bxi,ayi,byi;for(i=n-1;i!==-1;--i){axi=ax[i];ayi=ay[i];bxi=bx[i];byi=by[i];ax[i]=axi*bxi-ayi*byi;ay[i]=axi*byi+ayi*bxi}numeric.ifftpow2(ax,ay)};
numeric.T.prototype.fft=function fft(){var x=this.x,y=this.y;var n=x.length,log=Math.log,log2=log(2),p=Math.ceil(log(2*n-1)/log2),m=Math.pow(2,p);var cx=numeric.rep([m],0),cy=numeric.rep([m],0),cos=Math.cos,sin=Math.sin;var k,c=-3.141592653589793/n,t;var a=numeric.rep([m],0),b=numeric.rep([m],0),nhalf=Math.floor(n/2);for(k=0;k<n;k++)a[k]=x[k];if(typeof y!=="undefined")for(k=0;k<n;k++)b[k]=y[k];cx[0]=1;for(k=1;k<=m/2;k++){t=c*k*k;cx[k]=cos(t);cy[k]=sin(t);cx[m-k]=cos(t);cy[m-k]=sin(t)}var X=new numeric.T(a,
b),Y=new numeric.T(cx,cy);X=X.mul(Y);numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));X=X.mul(Y);X.x.length=n;X.y.length=n;return X};
numeric.T.prototype.ifft=function ifft(){var x=this.x,y=this.y;var n=x.length,log=Math.log,log2=log(2),p=Math.ceil(log(2*n-1)/log2),m=Math.pow(2,p);var cx=numeric.rep([m],0),cy=numeric.rep([m],0),cos=Math.cos,sin=Math.sin;var k,c=3.141592653589793/n,t;var a=numeric.rep([m],0),b=numeric.rep([m],0),nhalf=Math.floor(n/2);for(k=0;k<n;k++)a[k]=x[k];if(typeof y!=="undefined")for(k=0;k<n;k++)b[k]=y[k];cx[0]=1;for(k=1;k<=m/2;k++){t=c*k*k;cx[k]=cos(t);cy[k]=sin(t);cx[m-k]=cos(t);cy[m-k]=sin(t)}var X=new numeric.T(a,
b),Y=new numeric.T(cx,cy);X=X.mul(Y);numeric.convpow2(X.x,X.y,numeric.clone(Y.x),numeric.neg(Y.y));X=X.mul(Y);X.x.length=n;X.y.length=n;return X.div(n)};
numeric.gradient=function gradient(f,x){var n=x.length;var f0=f(x);if(isNaN(f0))throw new Error("gradient: f(x) is a NaN!");var max=Math.max;var i,x0=numeric.clone(x),f1,f2,J=Array(n);var div=numeric.div,sub=numeric.sub,errest,roundoff,max=Math.max,eps=.001,abs=Math.abs,min=Math.min;var t0,t1,t2,it=0,d1,d2,N;for(i=0;i<n;i++){var h=max(1E-6*f0,1E-8);while(1){++it;if(it>20)throw new Error("Numerical gradient fails");x0[i]=x[i]+h;f1=f(x0);x0[i]=x[i]-h;f2=f(x0);x0[i]=x[i];if(isNaN(f1)||isNaN(f2)){h/=
16;continue}J[i]=(f1-f2)/(2*h);t0=x[i]-h;t1=x[i];t2=x[i]+h;d1=(f1-f0)/h;d2=(f0-f2)/h;N=max(abs(J[i]),abs(f0),abs(f1),abs(f2),abs(t0),abs(t1),abs(t2),1E-8);errest=min(max(abs(d1-J[i]),abs(d2-J[i]),abs(d1-d2))/N,h/N);if(errest>eps)h/=16;else break}}return J};
numeric.uncmin=function uncmin(f,x0,tol,gradient,maxit,callback,options){var grad=numeric.gradient;if(typeof options==="undefined")options={};if(typeof tol==="undefined")tol=1E-8;if(typeof gradient==="undefined")gradient=function(x){return grad(f,x)};if(typeof maxit==="undefined")maxit=1E3;x0=numeric.clone(x0);var n=x0.length;var f0=f(x0),f1,df0;if(isNaN(f0))throw new Error("uncmin: f(x0) is a NaN!");var max=Math.max,norm2=numeric.norm2;tol=max(tol,numeric.epsilon);var step,g0,g1,H1=options.Hinv||
numeric.identity(n);var dot=numeric.dot,inv=numeric.inv,sub=numeric.sub,add=numeric.add,ten=numeric.tensor,div=numeric.div,mul=numeric.mul;var all=numeric.all,isfinite=numeric.isFinite,neg=numeric.neg;var it=0,i,s,x1,y,Hy,Hs,ys,i0,t,nstep,t1,t2;var msg="";g0=gradient(x0);while(it<maxit){if(typeof callback==="function")if(callback(it,x0,f0,g0,H1)){msg="Callback returned true";break}if(!all(isfinite(g0))){msg="Gradient has Infinity or NaN";break}step=neg(dot(H1,g0));if(!all(isfinite(step))){msg="Search direction has Infinity or NaN";
break}nstep=norm2(step);if(nstep<tol){msg="Newton step smaller than tol";break}t=1;df0=dot(g0,step);x1=x0;while(it<maxit){if(t*nstep<tol)break;s=mul(step,t);x1=add(x0,s);f1=f(x1);if(f1-f0>=.1*t*df0||isNaN(f1)){t*=.5;++it;continue}break}if(t*nstep<tol){msg="Line search step size smaller than tol";break}if(it===maxit){msg="maxit reached during line search";break}g1=gradient(x1);y=sub(g1,g0);ys=dot(y,s);Hy=dot(H1,y);H1=sub(add(H1,mul((ys+dot(y,Hy))/(ys*ys),ten(s,s))),div(add(ten(Hy,s),ten(s,Hy)),ys));
x0=x1;f0=f1;g0=g1;++it}return{solution:x0,f:f0,gradient:g0,invHessian:H1,iterations:it,message:msg}};numeric.Dopri=function Dopri(x,y,f,ymid,iterations,msg,events){this.x=x;this.y=y;this.f=f;this.ymid=ymid;this.iterations=iterations;this.events=events;this.message=msg};
numeric.Dopri.prototype._at=function _at(xi,j){function sqr(x){return x*x}var sol=this;var xs=sol.x;var ys=sol.y;var k1=sol.f;var ymid=sol.ymid;var n=xs.length;var x0,x1,xh,y0,y1,yh,xi;var floor=Math.floor,h;var c=.5;var add=numeric.add,mul=numeric.mul,sub=numeric.sub,p,q,w;x0=xs[j];x1=xs[j+1];y0=ys[j];y1=ys[j+1];h=x1-x0;xh=x0+c*h;yh=ymid[j];p=sub(k1[j],mul(y0,1/(x0-xh)+2/(x0-x1)));q=sub(k1[j+1],mul(y1,1/(x1-xh)+2/(x1-x0)));w=[sqr(xi-x1)*(xi-xh)/sqr(x0-x1)/(x0-xh),sqr(xi-x0)*sqr(xi-x1)/sqr(x0-xh)/
sqr(x1-xh),sqr(xi-x0)*(xi-xh)/sqr(x1-x0)/(x1-xh),(xi-x0)*sqr(xi-x1)*(xi-xh)/sqr(x0-x1)/(x0-xh),(xi-x1)*sqr(xi-x0)*(xi-xh)/sqr(x0-x1)/(x1-xh)];return add(add(add(add(mul(y0,w[0]),mul(yh,w[1])),mul(y1,w[2])),mul(p,w[3])),mul(q,w[4]))};
numeric.Dopri.prototype.at=function at(x){var i,j,k,floor=Math.floor;if(typeof x!=="number"){var n=x.length,ret=Array(n);for(i=n-1;i!==-1;--i)ret[i]=this.at(x[i]);return ret}var x0=this.x;i=0;j=x0.length-1;while(j-i>1){k=floor(.5*(i+j));if(x0[k]<=x)i=k;else j=k}return this._at(x,i)};
numeric.dopri=function dopri(x0,x1,y0,f,tol,maxit,event){if(typeof tol==="undefined")tol=1E-6;if(typeof maxit==="undefined")maxit=1E3;var xs=[x0],ys=[y0],k1=[f(x0,y0)],k2,k3,k4,k5,k6,k7,ymid=[];var A2=1/5;var A3=[3/40,9/40];var A4=[44/45,-56/15,32/9];var A5=[19372/6561,-25360/2187,64448/6561,-212/729];var A6=[9017/3168,-355/33,46732/5247,49/176,-5103/18656];var b=[35/384,0,500/1113,125/192,-2187/6784,11/84];var bm=[.5*6025192743/30085553152,0,.5*51252292925/65400821598,.5*-2691868925/45128329728,
.5*187940372067/1594534317056,.5*-1776094331/19743644256,.5*11237099/235043384];var c=[1/5,3/10,4/5,8/9,1,1];var e=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40];var i=0,er,j;var h=(x1-x0)/10;var it=0;var add=numeric.add,mul=numeric.mul,y1,erinf;var max=Math.max,min=Math.min,abs=Math.abs,norminf=numeric.norminf,pow=Math.pow;var any=numeric.any,lt=numeric.lt,and=numeric.and,sub=numeric.sub;var e0,e1,ev;var ret=new numeric.Dopri(xs,ys,k1,ymid,-1,"");if(typeof event==="function")e0=event(x0,
y0);while(x0<x1&&it<maxit){++it;if(x0+h>x1)h=x1-x0;k2=f(x0+c[0]*h,add(y0,mul(A2*h,k1[i])));k3=f(x0+c[1]*h,add(add(y0,mul(A3[0]*h,k1[i])),mul(A3[1]*h,k2)));k4=f(x0+c[2]*h,add(add(add(y0,mul(A4[0]*h,k1[i])),mul(A4[1]*h,k2)),mul(A4[2]*h,k3)));k5=f(x0+c[3]*h,add(add(add(add(y0,mul(A5[0]*h,k1[i])),mul(A5[1]*h,k2)),mul(A5[2]*h,k3)),mul(A5[3]*h,k4)));k6=f(x0+c[4]*h,add(add(add(add(add(y0,mul(A6[0]*h,k1[i])),mul(A6[1]*h,k2)),mul(A6[2]*h,k3)),mul(A6[3]*h,k4)),mul(A6[4]*h,k5)));y1=add(add(add(add(add(y0,mul(k1[i],
h*b[0])),mul(k3,h*b[2])),mul(k4,h*b[3])),mul(k5,h*b[4])),mul(k6,h*b[5]));k7=f(x0+h,y1);er=add(add(add(add(add(mul(k1[i],h*e[0]),mul(k3,h*e[2])),mul(k4,h*e[3])),mul(k5,h*e[4])),mul(k6,h*e[5])),mul(k7,h*e[6]));if(typeof er==="number")erinf=abs(er);else erinf=norminf(er);if(erinf>tol){h=.2*h*pow(tol/erinf,.25);if(x0+h===x0){ret.msg="Step size became too small";break}continue}ymid[i]=add(add(add(add(add(add(y0,mul(k1[i],h*bm[0])),mul(k3,h*bm[2])),mul(k4,h*bm[3])),mul(k5,h*bm[4])),mul(k6,h*bm[5])),mul(k7,
h*bm[6]));++i;xs[i]=x0+h;ys[i]=y1;k1[i]=k7;if(typeof event==="function"){var yi,xl=x0,xr=x0+.5*h,xi;e1=event(xr,ymid[i-1]);ev=and(lt(e0,0),lt(0,e1));if(!any(ev)){xl=xr;xr=x0+h;e0=e1;e1=event(xr,y1);ev=and(lt(e0,0),lt(0,e1))}if(any(ev)){var xc,yc,en,ei;var side=0,sl=1,sr=1;while(1){if(typeof e0==="number")xi=(sr*e1*xl-sl*e0*xr)/(sr*e1-sl*e0);else{xi=xr;for(j=e0.length-1;j!==-1;--j)if(e0[j]<0&&e1[j]>0)xi=min(xi,(sr*e1[j]*xl-sl*e0[j]*xr)/(sr*e1[j]-sl*e0[j]))}if(xi<=xl||xi>=xr)break;yi=ret._at(xi,i-1);
ei=event(xi,yi);en=and(lt(e0,0),lt(0,ei));if(any(en)){xr=xi;e1=ei;ev=en;sr=1;if(side===-1)sl*=.5;else sl=1;side=-1}else{xl=xi;e0=ei;sl=1;if(side===1)sr*=.5;else sr=1;side=1}}y1=ret._at(.5*(x0+xi),i-1);ret.f[i]=f(xi,yi);ret.x[i]=xi;ret.y[i]=yi;ret.ymid[i-1]=y1;ret.events=ev;ret.iterations=it;return ret}}x0+=h;y0=y1;e0=e1;h=min(.8*h*pow(tol/erinf,.25),4*h)}ret.iterations=it;return ret};
numeric.LU=function(A,fast){fast=fast||false;var abs=Math.abs;var i,j,k,absAjk,Akk,Ak,Pk,Ai;var max;var n=A.length,n1=n-1;var P=new Array(n);if(!fast)A=numeric.clone(A);for(k=0;k<n;++k){Pk=k;Ak=A[k];max=abs(Ak[k]);for(j=k+1;j<n;++j){absAjk=abs(A[j][k]);if(max<absAjk){max=absAjk;Pk=j}}P[k]=Pk;if(Pk!=k){A[k]=A[Pk];A[Pk]=Ak;Ak=A[k]}Akk=Ak[k];for(i=k+1;i<n;++i)A[i][k]/=Akk;for(i=k+1;i<n;++i){Ai=A[i];for(j=k+1;j<n1;++j){Ai[j]-=Ai[k]*Ak[j];++j;Ai[j]-=Ai[k]*Ak[j]}if(j===n1)Ai[j]-=Ai[k]*Ak[j]}}return{LU:A,
P:P}};numeric.LUsolve=function LUsolve(LUP,b){var i,j;var LU=LUP.LU;var n=LU.length;var x=numeric.clone(b);var P=LUP.P;var Pi,LUi,LUii,tmp;for(i=n-1;i!==-1;--i)x[i]=b[i];for(i=0;i<n;++i){Pi=P[i];if(P[i]!==i){tmp=x[i];x[i]=x[Pi];x[Pi]=tmp}LUi=LU[i];for(j=0;j<i;++j)x[i]-=x[j]*LUi[j]}for(i=n-1;i>=0;--i){LUi=LU[i];for(j=i+1;j<n;++j)x[i]-=x[j]*LUi[j];x[i]/=LUi[i]}return x};numeric.solve=function solve(A,b,fast){return numeric.LUsolve(numeric.LU(A,fast),b)};
numeric.echelonize=function echelonize(A){var s=numeric.dim(A),m=s[0],n=s[1];var I=numeric.identity(m);var P=Array(m);var i,j,k,l,Ai,Ii,Z,a;var abs=Math.abs;var diveq=numeric.diveq;A=numeric.clone(A);for(i=0;i<m;++i){k=0;Ai=A[i];Ii=I[i];for(j=1;j<n;++j)if(abs(Ai[k])<abs(Ai[j]))k=j;P[i]=k;diveq(Ii,Ai[k]);diveq(Ai,Ai[k]);for(j=0;j<m;++j)if(j!==i){Z=A[j];a=Z[k];for(l=n-1;l!==-1;--l)Z[l]-=Ai[l]*a;Z=I[j];for(l=m-1;l!==-1;--l)Z[l]-=Ii[l]*a}}return{I:I,A:A,P:P}};
numeric.__solveLP=function __solveLP(c,A,b,tol,maxit,x,flag){var sum=numeric.sum,log=numeric.log,mul=numeric.mul,sub=numeric.sub,dot=numeric.dot,div=numeric.div,add=numeric.add;var m=c.length,n=b.length,y;var unbounded=false,cb,i0=0;var alpha=1;var f0,df0,AT=numeric.transpose(A),svd=numeric.svd,transpose=numeric.transpose,leq=numeric.leq,sqrt=Math.sqrt,abs=Math.abs;var muleq=numeric.muleq;var norm=numeric.norminf,any=numeric.any,min=Math.min;var all=numeric.all,gt=numeric.gt;var p=Array(m),A0=Array(n),
e=numeric.rep([n],1),H;var solve=numeric.solve,z=sub(b,dot(A,x)),count;var dotcc=dot(c,c);var g;for(count=i0;count<maxit;++count){var i,j,d;for(i=n-1;i!==-1;--i)A0[i]=div(A[i],z[i]);var A1=transpose(A0);for(i=m-1;i!==-1;--i)p[i]=sum(A1[i]);alpha=.25*abs(dotcc/dot(c,p));var a1=100*sqrt(dotcc/dot(p,p));if(!isFinite(alpha)||alpha>a1)alpha=a1;g=add(c,mul(alpha,p));H=dot(A1,A0);for(i=m-1;i!==-1;--i)H[i][i]+=1;d=solve(H,div(g,alpha),true);var t0=div(z,dot(A,d));var t=1;for(i=n-1;i!==-1;--i)if(t0[i]<0)t=
min(t,-.999*t0[i]);y=sub(x,mul(d,t));z=sub(b,dot(A,y));if(!all(gt(z,0)))return{solution:x,message:"",iterations:count};x=y;if(alpha<tol)return{solution:y,message:"",iterations:count};if(flag){var s=dot(c,g),Ag=dot(A,g);unbounded=true;for(i=n-1;i!==-1;--i)if(s*Ag[i]<0){unbounded=false;break}}else if(x[m-1]>=0)unbounded=false;else unbounded=true;if(unbounded)return{solution:y,message:"Unbounded",iterations:count}}return{solution:x,message:"maximum iteration count exceeded",iterations:count}};
numeric._solveLP=function _solveLP(c,A,b,tol,maxit){var m=c.length,n=b.length,y;var sum=numeric.sum,log=numeric.log,mul=numeric.mul,sub=numeric.sub,dot=numeric.dot,div=numeric.div,add=numeric.add;var c0=numeric.rep([m],0).concat([1]);var J=numeric.rep([n,1],-1);var A0=numeric.blockMatrix([[A,J]]);var b0=b;var y=numeric.rep([m],0).concat(Math.max(0,numeric.sup(numeric.neg(b)))+1);var x0=numeric.__solveLP(c0,A0,b0,tol,maxit,y,false);var x=numeric.clone(x0.solution);x.length=m;var foo=numeric.inf(sub(b,
dot(A,x)));if(foo<0)return{solution:NaN,message:"Infeasible",iterations:x0.iterations};var ret=numeric.__solveLP(c,A,b,tol,maxit-x0.iterations,x,true);ret.iterations+=x0.iterations;return ret};
numeric.solveLP=function solveLP(c,A,b,Aeq,beq,tol,maxit){if(typeof maxit==="undefined")maxit=1E3;if(typeof tol==="undefined")tol=numeric.epsilon;if(typeof Aeq==="undefined")return numeric._solveLP(c,A,b,tol,maxit);var m=Aeq.length,n=Aeq[0].length,o=A.length;var B=numeric.echelonize(Aeq);var flags=numeric.rep([n],0);var P=B.P;var Q=[];var i;for(i=P.length-1;i!==-1;--i)flags[P[i]]=1;for(i=n-1;i!==-1;--i)if(flags[i]===0)Q.push(i);var g=numeric.getRange;var I=numeric.linspace(0,m-1),J=numeric.linspace(0,
o-1);var Aeq2=g(Aeq,I,Q),A1=g(A,J,P),A2=g(A,J,Q),dot=numeric.dot,sub=numeric.sub;var A3=dot(A1,B.I);var A4=sub(A2,dot(A3,Aeq2)),b4=sub(b,dot(A3,beq));var c1=Array(P.length),c2=Array(Q.length);for(i=P.length-1;i!==-1;--i)c1[i]=c[P[i]];for(i=Q.length-1;i!==-1;--i)c2[i]=c[Q[i]];var c4=sub(c2,dot(c1,dot(B.I,Aeq2)));var S=numeric._solveLP(c4,A4,b4,tol,maxit);var x2=S.solution;if(x2!==x2)return S;var x1=dot(B.I,sub(beq,dot(Aeq2,x2)));var x=Array(c.length);for(i=P.length-1;i!==-1;--i)x[P[i]]=x1[i];for(i=
Q.length-1;i!==-1;--i)x[Q[i]]=x2[i];return{solution:x,message:S.message,iterations:S.iterations}};
numeric.MPStoLP=function MPStoLP(MPS){if(MPS instanceof String)MPS.split("\n");var state=0;var states=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"];var n=MPS.length;var i,j,z,N=0,rows={},sign=[],rl=0,vars={},nv=0;var name;var c=[],A=[],b=[];function err(e){throw new Error("MPStoLP: "+e+"\nLine "+i+": "+MPS[i]+"\nCurrent state: "+states[state]+"\n");}for(i=0;i<n;++i){z=MPS[i];var w0=z.match(/\S*/g);var w=[];for(j=0;j<w0.length;++j)if(w0[j]!=="")w.push(w0[j]);if(w.length===0)continue;
for(j=0;j<states.length;++j)if(z.substr(0,states[j].length)===states[j])break;if(j<states.length){state=j;if(j===1)name=w[1];if(j===6)return{name:name,c:c,A:numeric.transpose(A),b:b,rows:rows,vars:vars};continue}switch(state){case 0:case 1:err("Unexpected line");case 2:switch(w[0]){case "N":if(N===0)N=w[1];else err("Two or more N rows");break;case "L":rows[w[1]]=rl;sign[rl]=1;b[rl]=0;++rl;break;case "G":rows[w[1]]=rl;sign[rl]=-1;b[rl]=0;++rl;break;case "E":rows[w[1]]=rl;sign[rl]=0;b[rl]=0;++rl;break;
default:err("Parse error "+numeric.prettyPrint(w))}break;case 3:if(!vars.hasOwnProperty(w[0])){vars[w[0]]=nv;c[nv]=0;A[nv]=numeric.rep([rl],0);++nv}var p=vars[w[0]];for(j=1;j<w.length;j+=2){if(w[j]===N){c[p]=parseFloat(w[j+1]);continue}var q=rows[w[j]];A[p][q]=(sign[q]<0?-1:1)*parseFloat(w[j+1])}break;case 4:for(j=1;j<w.length;j+=2)b[rows[w[j]]]=(sign[rows[w[j]]]<0?-1:1)*parseFloat(w[j+1]);break;case 5:break;case 6:err("Internal error")}}err("Reached end of file without ENDATA")};
numeric.seedrandom={pow:Math.pow,random:Math.random};
(function(pool,math,width,chunks,significance,overflow,startdenom){math["seedrandom"]=function seedrandom(seed,use_entropy){var key=[];var arc4;seed=mixkey(flatten(use_entropy?[seed,pool]:arguments.length?seed:[(new Date).getTime(),pool,window],3),key);arc4=new ARC4(key);mixkey(arc4.S,pool);math["random"]=function random(){var n=arc4.g(chunks);var d=startdenom;var x=0;while(n<significance){n=(n+x)*width;d*=width;x=arc4.g(1)}while(n>=overflow){n/=2;d/=2;x>>>=1}return(n+x)/d};return seed};function ARC4(key){var t,
u,me=this,keylen=key.length;var i=0,j=me.i=me.j=me.m=0;me.S=[];me.c=[];if(!keylen)key=[keylen++];while(i<width)me.S[i]=i++;for(i=0;i<width;i++){t=me.S[i];j=lowbits(j+t+key[i%keylen]);u=me.S[j];me.S[i]=u;me.S[j]=t}me.g=function getnext(count){var s=me.S;var i=lowbits(me.i+1);var t=s[i];var j=lowbits(me.j+t);var u=s[j];s[i]=u;s[j]=t;var r=s[lowbits(t+u)];while(--count){i=lowbits(i+1);t=s[i];j=lowbits(j+t);u=s[j];s[i]=u;s[j]=t;r=r*width+s[lowbits(t+u)]}me.i=i;me.j=j;return r};me.g(width)}function flatten(obj,
depth,result,prop,typ){result=[];typ=typeof obj;if(depth&&typ=="object")for(prop in obj)if(prop.indexOf("S")<5)try{result.push(flatten(obj[prop],depth-1))}catch(e){}return result.length?result:obj+(typ!="string"?"\x00":"")}function mixkey(seed,key,smear,j){seed+="";smear=0;for(j=0;j<seed.length;j++)key[lowbits(j)]=lowbits((smear^=key[lowbits(j)]*19)+seed.charCodeAt(j));seed="";for(j in key)seed+=String.fromCharCode(key[j]);return seed}function lowbits(n){return n&width-1}startdenom=math.pow(width,
chunks);significance=math.pow(2,significance);overflow=significance*2;mixkey(math.random(),pool)})([],numeric.seedrandom,256,6,52);
(function(exports){function base0to1(A){if(typeof A!=="object")return A;var ret=[],i,n=A.length;for(i=0;i<n;i++)ret[i+1]=base0to1(A[i]);return ret}function base1to0(A){if(typeof A!=="object")return A;var ret=[],i,n=A.length;for(i=1;i<n;i++)ret[i-1]=base1to0(A[i]);return ret}function dpori(a,lda,n){var i,j,k,kp1,t;for(k=1;k<=n;k=k+1){a[k][k]=1/a[k][k];t=-a[k][k];for(i=1;i<k;i=i+1)a[i][k]=t*a[i][k];kp1=k+1;if(n<kp1)break;for(j=kp1;j<=n;j=j+1){t=a[k][j];a[k][j]=0;for(i=1;i<=k;i=i+1)a[i][j]=a[i][j]+t*
a[i][k]}}}function dposl(a,lda,n,b){var i,k,kb,t;for(k=1;k<=n;k=k+1){t=0;for(i=1;i<k;i=i+1)t=t+a[i][k]*b[i];b[k]=(b[k]-t)/a[k][k]}for(kb=1;kb<=n;kb=kb+1){k=n+1-kb;b[k]=b[k]/a[k][k];t=-b[k];for(i=1;i<k;i=i+1)b[i]=b[i]+t*a[i][k]}}function dpofa(a,lda,n,info){var i,j,jm1,k,t,s;for(j=1;j<=n;j=j+1){info[1]=j;s=0;jm1=j-1;if(jm1<1){s=a[j][j]-s;if(s<=0)break;a[j][j]=Math.sqrt(s)}else{for(k=1;k<=jm1;k=k+1){t=a[k][j];for(i=1;i<k;i=i+1)t=t-a[i][j]*a[i][k];t=t/a[k][k];a[k][j]=t;s=s+t*t}s=a[j][j]-s;if(s<=0)break;
a[j][j]=Math.sqrt(s)}info[1]=0}}function qpgen2(dmat,dvec,fddmat,n,sol,crval,amat,bvec,fdamat,q,meq,iact,nact,iter,work,ierr){var i,j,l,l1,info,it1,iwzv,iwrv,iwrm,iwsv,iwuv,nvl,r,iwnbv,temp,sum,t1,tt,gc,gs,nu,t1inf,t2min,vsmall,tmpa,tmpb,go;r=Math.min(n,q);l=2*n+r*(r+5)/2+2*q+1;vsmall=1E-60;do{vsmall=vsmall+vsmall;tmpa=1+.1*vsmall;tmpb=1+.2*vsmall}while(tmpa<=1||tmpb<=1);for(i=1;i<=n;i=i+1)work[i]=dvec[i];for(i=n+1;i<=l;i=i+1)work[i]=0;for(i=1;i<=q;i=i+1)iact[i]=0;info=[];if(ierr[1]===0){dpofa(dmat,
fddmat,n,info);if(info[1]!==0){ierr[1]=2;return}dposl(dmat,fddmat,n,dvec);dpori(dmat,fddmat,n)}else{for(j=1;j<=n;j=j+1){sol[j]=0;for(i=1;i<=j;i=i+1)sol[j]=sol[j]+dmat[i][j]*dvec[i]}for(j=1;j<=n;j=j+1){dvec[j]=0;for(i=j;i<=n;i=i+1)dvec[j]=dvec[j]+dmat[j][i]*sol[i]}}crval[1]=0;for(j=1;j<=n;j=j+1){sol[j]=dvec[j];crval[1]=crval[1]+work[j]*sol[j];work[j]=0;for(i=j+1;i<=n;i=i+1)dmat[i][j]=0}crval[1]=-crval[1]/2;ierr[1]=0;iwzv=n;iwrv=iwzv+n;iwuv=iwrv+r;iwrm=iwuv+r+1;iwsv=iwrm+r*(r+1)/2;iwnbv=iwsv+q;for(i=
1;i<=q;i=i+1){sum=0;for(j=1;j<=n;j=j+1)sum=sum+amat[j][i]*amat[j][i];work[iwnbv+i]=Math.sqrt(sum)}nact=0;iter[1]=0;iter[2]=0;function fn_goto_50(){iter[1]=iter[1]+1;l=iwsv;for(i=1;i<=q;i=i+1){l=l+1;sum=-bvec[i];for(j=1;j<=n;j=j+1)sum=sum+amat[j][i]*sol[j];if(Math.abs(sum)<vsmall)sum=0;if(i>meq)work[l]=sum;else{work[l]=-Math.abs(sum);if(sum>0){for(j=1;j<=n;j=j+1)amat[j][i]=-amat[j][i];bvec[i]=-bvec[i]}}}for(i=1;i<=nact;i=i+1)work[iwsv+iact[i]]=0;nvl=0;temp=0;for(i=1;i<=q;i=i+1)if(work[iwsv+i]<temp*
work[iwnbv+i]){nvl=i;temp=work[iwsv+i]/work[iwnbv+i]}if(nvl===0)return 999;return 0}function fn_goto_55(){for(i=1;i<=n;i=i+1){sum=0;for(j=1;j<=n;j=j+1)sum=sum+dmat[j][i]*amat[j][nvl];work[i]=sum}l1=iwzv;for(i=1;i<=n;i=i+1)work[l1+i]=0;for(j=nact+1;j<=n;j=j+1)for(i=1;i<=n;i=i+1)work[l1+i]=work[l1+i]+dmat[i][j]*work[j];t1inf=true;for(i=nact;i>=1;i=i-1){sum=work[i];l=iwrm+i*(i+3)/2;l1=l-i;for(j=i+1;j<=nact;j=j+1){sum=sum-work[l]*work[iwrv+j];l=l+j}sum=sum/work[l1];work[iwrv+i]=sum;if(iact[i]<meq)break;
if(sum<0)break;t1inf=false;it1=i}if(!t1inf){t1=work[iwuv+it1]/work[iwrv+it1];for(i=1;i<=nact;i=i+1){if(iact[i]<meq)break;if(work[iwrv+i]<0)break;temp=work[iwuv+i]/work[iwrv+i];if(temp<t1){t1=temp;it1=i}}}sum=0;for(i=iwzv+1;i<=iwzv+n;i=i+1)sum=sum+work[i]*work[i];if(Math.abs(sum)<=vsmall)if(t1inf){ierr[1]=1;return 999}else{for(i=1;i<=nact;i=i+1)work[iwuv+i]=work[iwuv+i]-t1*work[iwrv+i];work[iwuv+nact+1]=work[iwuv+nact+1]+t1;return 700}else{sum=0;for(i=1;i<=n;i=i+1)sum=sum+work[iwzv+i]*amat[i][nvl];
tt=-work[iwsv+nvl]/sum;t2min=true;if(!t1inf)if(t1<tt){tt=t1;t2min=false}for(i=1;i<=n;i=i+1){sol[i]=sol[i]+tt*work[iwzv+i];if(Math.abs(sol[i])<vsmall)sol[i]=0}crval[1]=crval[1]+tt*sum*(tt/2+work[iwuv+nact+1]);for(i=1;i<=nact;i=i+1)work[iwuv+i]=work[iwuv+i]-tt*work[iwrv+i];work[iwuv+nact+1]=work[iwuv+nact+1]+tt;if(t2min){nact=nact+1;iact[nact]=nvl;l=iwrm+(nact-1)*nact/2+1;for(i=1;i<=nact-1;i=i+1){work[l]=work[i];l=l+1}if(nact===n)work[l]=work[n];else{for(i=n;i>=nact+1;i=i-1){if(work[i]===0)break;gc=
Math.max(Math.abs(work[i-1]),Math.abs(work[i]));gs=Math.min(Math.abs(work[i-1]),Math.abs(work[i]));if(work[i-1]>=0)temp=Math.abs(gc*Math.sqrt(1+gs*gs/(gc*gc)));else temp=-Math.abs(gc*Math.sqrt(1+gs*gs/(gc*gc)));gc=work[i-1]/temp;gs=work[i]/temp;if(gc===1)break;if(gc===0){work[i-1]=gs*temp;for(j=1;j<=n;j=j+1){temp=dmat[j][i-1];dmat[j][i-1]=dmat[j][i];dmat[j][i]=temp}}else{work[i-1]=temp;nu=gs/(1+gc);for(j=1;j<=n;j=j+1){temp=gc*dmat[j][i-1]+gs*dmat[j][i];dmat[j][i]=nu*(dmat[j][i-1]+temp)-dmat[j][i];
dmat[j][i-1]=temp}}}work[l]=work[nact]}}else{sum=-bvec[nvl];for(j=1;j<=n;j=j+1)sum=sum+sol[j]*amat[j][nvl];if(nvl>meq)work[iwsv+nvl]=sum;else{work[iwsv+nvl]=-Math.abs(sum);if(sum>0){for(j=1;j<=n;j=j+1)amat[j][nvl]=-amat[j][nvl];bvec[nvl]=-bvec[nvl]}}return 700}}return 0}function fn_goto_797(){l=iwrm+it1*(it1+1)/2+1;l1=l+it1;if(work[l1]===0)return 798;gc=Math.max(Math.abs(work[l1-1]),Math.abs(work[l1]));gs=Math.min(Math.abs(work[l1-1]),Math.abs(work[l1]));if(work[l1-1]>=0)temp=Math.abs(gc*Math.sqrt(1+
gs*gs/(gc*gc)));else temp=-Math.abs(gc*Math.sqrt(1+gs*gs/(gc*gc)));gc=work[l1-1]/temp;gs=work[l1]/temp;if(gc===1)return 798;if(gc===0){for(i=it1+1;i<=nact;i=i+1){temp=work[l1-1];work[l1-1]=work[l1];work[l1]=temp;l1=l1+i}for(i=1;i<=n;i=i+1){temp=dmat[i][it1];dmat[i][it1]=dmat[i][it1+1];dmat[i][it1+1]=temp}}else{nu=gs/(1+gc);for(i=it1+1;i<=nact;i=i+1){temp=gc*work[l1-1]+gs*work[l1];work[l1]=nu*(work[l1-1]+temp)-work[l1];work[l1-1]=temp;l1=l1+i}for(i=1;i<=n;i=i+1){temp=gc*dmat[i][it1]+gs*dmat[i][it1+
1];dmat[i][it1+1]=nu*(dmat[i][it1]+temp)-dmat[i][it1+1];dmat[i][it1]=temp}}return 0}function fn_goto_798(){l1=l-it1;for(i=1;i<=it1;i=i+1){work[l1]=work[l];l=l+1;l1=l1+1}work[iwuv+it1]=work[iwuv+it1+1];iact[it1]=iact[it1+1];it1=it1+1;if(it1<nact)return 797;return 0}function fn_goto_799(){work[iwuv+nact]=work[iwuv+nact+1];work[iwuv+nact+1]=0;iact[nact]=0;nact=nact-1;iter[2]=iter[2]+1;return 0}go=0;while(true){go=fn_goto_50();if(go===999)return;while(true){go=fn_goto_55();if(go===0)break;if(go===999)return;
if(go===700)if(it1===nact)fn_goto_799();else{while(true){fn_goto_797();go=fn_goto_798();if(go!==797)break}fn_goto_799()}}}}function solveQP(Dmat,dvec,Amat,bvec,meq,factorized){Dmat=base0to1(Dmat);dvec=base0to1(dvec);Amat=base0to1(Amat);var i,n,q,nact,r,crval=[],iact=[],sol=[],work=[],iter=[],message;meq=meq||0;factorized=factorized?base0to1(factorized):[undefined,0];bvec=bvec?base0to1(bvec):[];n=Dmat.length-1;q=Amat[1].length-1;if(!bvec)for(i=1;i<=q;i=i+1)bvec[i]=0;for(i=1;i<=q;i=i+1)iact[i]=0;nact=
0;r=Math.min(n,q);for(i=1;i<=n;i=i+1)sol[i]=0;crval[1]=0;for(i=1;i<=2*n+r*(r+5)/2+2*q+1;i=i+1)work[i]=0;for(i=1;i<=2;i=i+1)iter[i]=0;qpgen2(Dmat,dvec,n,n,sol,crval,Amat,bvec,n,q,meq,iact,nact,iter,work,factorized);message="";if(factorized[1]===1)message="constraints are inconsistent, no solution!";if(factorized[1]===2)message="matrix D in quadratic function is not positive definite!";return{solution:base1to0(sol),value:base1to0(crval),unconstrained_solution:base1to0(dvec),iterations:base1to0(iter),
iact:base1to0(iact),message:message}}exports.solveQP=solveQP})(numeric);
numeric.svd=function svd(A){var temp;var prec=numeric.epsilon;var tolerance=1E-64/prec;var itmax=50;var c=0;var i=0;var j=0;var k=0;var l=0;var u=numeric.clone(A);var m=u.length;var n=u[0].length;if(m<n)throw"Need more rows than columns";var e=new Array(n);var q=new Array(n);for(i=0;i<n;i++)e[i]=q[i]=0;var v=numeric.rep([n,n],0);function pythag(a,b){a=Math.abs(a);b=Math.abs(b);if(a>b)return a*Math.sqrt(1+b*b/a/a);else if(b==0)return a;return b*Math.sqrt(1+a*a/b/b)}var f=0;var g=0;var h=0;var x=0;
var y=0;var z=0;var s=0;for(i=0;i<n;i++){e[i]=g;s=0;l=i+1;for(j=i;j<m;j++)s+=u[j][i]*u[j][i];if(s<=tolerance)g=0;else{f=u[i][i];g=Math.sqrt(s);if(f>=0)g=-g;h=f*g-s;u[i][i]=f-g;for(j=l;j<n;j++){s=0;for(k=i;k<m;k++)s+=u[k][i]*u[k][j];f=s/h;for(k=i;k<m;k++)u[k][j]+=f*u[k][i]}}q[i]=g;s=0;for(j=l;j<n;j++)s=s+u[i][j]*u[i][j];if(s<=tolerance)g=0;else{f=u[i][i+1];g=Math.sqrt(s);if(f>=0)g=-g;h=f*g-s;u[i][i+1]=f-g;for(j=l;j<n;j++)e[j]=u[i][j]/h;for(j=l;j<m;j++){s=0;for(k=l;k<n;k++)s+=u[j][k]*u[i][k];for(k=
l;k<n;k++)u[j][k]+=s*e[k]}}y=Math.abs(q[i])+Math.abs(e[i]);if(y>x)x=y}for(i=n-1;i!=-1;i+=-1){if(g!=0){h=g*u[i][i+1];for(j=l;j<n;j++)v[j][i]=u[i][j]/h;for(j=l;j<n;j++){s=0;for(k=l;k<n;k++)s+=u[i][k]*v[k][j];for(k=l;k<n;k++)v[k][j]+=s*v[k][i]}}for(j=l;j<n;j++){v[i][j]=0;v[j][i]=0}v[i][i]=1;g=e[i];l=i}for(i=n-1;i!=-1;i+=-1){l=i+1;g=q[i];for(j=l;j<n;j++)u[i][j]=0;if(g!=0){h=u[i][i]*g;for(j=l;j<n;j++){s=0;for(k=l;k<m;k++)s+=u[k][i]*u[k][j];f=s/h;for(k=i;k<m;k++)u[k][j]+=f*u[k][i]}for(j=i;j<m;j++)u[j][i]=
u[j][i]/g}else for(j=i;j<m;j++)u[j][i]=0;u[i][i]+=1}prec=prec*x;for(k=n-1;k!=-1;k+=-1)for(var iteration=0;iteration<itmax;iteration++){var test_convergence=false;for(l=k;l!=-1;l+=-1){if(Math.abs(e[l])<=prec){test_convergence=true;break}if(Math.abs(q[l-1])<=prec)break}if(!test_convergence){c=0;s=1;var l1=l-1;for(i=l;i<k+1;i++){f=s*e[i];e[i]=c*e[i];if(Math.abs(f)<=prec)break;g=q[i];h=pythag(f,g);q[i]=h;c=g/h;s=-f/h;for(j=0;j<m;j++){y=u[j][l1];z=u[j][i];u[j][l1]=y*c+z*s;u[j][i]=-y*s+z*c}}}z=q[k];if(l==
k){if(z<0){q[k]=-z;for(j=0;j<n;j++)v[j][k]=-v[j][k]}break}if(iteration>=itmax-1)throw"Error: no convergence.";x=q[l];y=q[k-1];g=e[k-1];h=e[k];f=((y-z)*(y+z)+(g-h)*(g+h))/(2*h*y);g=pythag(f,1);if(f<0)f=((x-z)*(x+z)+h*(y/(f-g)-h))/x;else f=((x-z)*(x+z)+h*(y/(f+g)-h))/x;c=1;s=1;for(i=l+1;i<k+1;i++){g=e[i];y=q[i];h=s*g;g=c*g;z=pythag(f,h);e[i-1]=z;c=f/z;s=h/z;f=x*c+g*s;g=-x*s+g*c;h=y*s;y=y*c;for(j=0;j<n;j++){x=v[j][i-1];z=v[j][i];v[j][i-1]=x*c+z*s;v[j][i]=-x*s+z*c}z=pythag(f,h);q[i-1]=z;c=f/z;s=h/z;f=
c*g+s*y;x=-s*g+c*y;for(j=0;j<m;j++){y=u[j][i-1];z=u[j][i];u[j][i-1]=y*c+z*s;u[j][i]=-y*s+z*c}}e[l]=0;e[k]=f;q[k]=x}for(i=0;i<q.length;i++)if(q[i]<prec)q[i]=0;for(i=0;i<n;i++)for(j=i-1;j>=0;j--)if(q[j]<q[i]){c=q[j];q[j]=q[i];q[i]=c;for(k=0;k<u.length;k++){temp=u[k][i];u[k][i]=u[k][j];u[k][j]=temp}for(k=0;k<v.length;k++){temp=v[k][i];v[k][i]=v[k][j];v[k][j]=temp}i=j}return{U:u,S:q,V:v}};</script><script>(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.weblas = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function sgemm(e,t,l,a,r,c,u,n){if(null!=n&&n.length!=t)throw new Error("Only vector C with length matching rows in A is currently supported.");var o,s=r,i=n;o=transpose(l,t,c);var g=gl.createDataTexture(e,l,s),p=gl.createDataTexture(t,l,o),x=null;null!=i&&(x=gl.createDataTexture(1,t,i));var d=gl.createOutputTexture(e,t);return sgemmcalculator.calculate(e,t,l,a,g,p,u,x,d),rawBuffer=gl.readData(e,t),gl.context.deleteTexture(g),gl.context.deleteTexture(p),null!=x&&gl.context.deleteTexture(x),gl.context.deleteTexture(d),new Float32Array(rawBuffer)}function saxpy(e,t,l,a){var r,c,u=l;isFloat32Array(a)?c=a:(c=new Float32Array(e),c.fill(a));var n=gl.createDataTexture(1,e,u),o=gl.createDataTexture(1,e,c),s=gl.createOutputTexture(1,e);return saxpycalculator.calculate(e,t,n,o,s),r=gl.readData(1,e),gl.context.deleteTexture(n),gl.context.deleteTexture(o),gl.context.deleteTexture(s),new Float32Array(r)}function isFloat32Array(e){return"[object Float32Array]"===Object.prototype.toString.call(e)}function sscal(e,t,l,a,r){var c,u=r,n=gl.createDataTexture(e,t,u),o=gl.createOutputTexture(e,t);return sscalcalculator.calculate(e,t,l,a,n,o),c=gl.readData(e,t),gl.context.deleteTexture(n),gl.context.deleteTexture(o),new Float32Array(c)}function sstd(e,t,l,a,r){var c,u=r,n=gl.createDataTexture(e,t,u),o=gl.createOutputTexture(e,t);return sscalcalculator.calculate(e,t,1/a,-1*l/a,n,o),c=gl.readData(e,t),gl.context.deleteTexture(n),gl.context.deleteTexture(o),new Float32Array(c)}function sdwns(e,t,l,a,r,c){var u=gl.createDataTexture(e,t*l,c),n=Math.floor((t-a)/r)+1,o=Math.floor((e-a)/r)+1,s=gl.createOutputTexture(o,n*l);return sdwnscalculator.calculate(e,t,l,a,r,u,s),rawBuffer=gl.readData(o,n*l),gl.context.deleteTexture(u),gl.context.deleteTexture(s),new Float32Array(rawBuffer)}function sclmp(e,t,l,a,r){l=null!=l?l:Number.MIN_VALUE,a=null!=a?a:Number.MAX_VALUE;var c,u=r,n=gl.createDataTexture(e,t,u),o=gl.createOutputTexture(e,t);return sclmpcalculator.calculate(e,t,l,a,n,o),c=gl.readData(e,t),gl.context.deleteTexture(n),gl.context.deleteTexture(o),new Float32Array(c)}function isNumeric(e){return e-parseFloat(e)+1>=0}function fromArray(e,t,l){var a,r,c=[];l?(c[1]=e.length,c[0]=e[0].length):(c[0]=e.length,c[1]=e[0].length),r=c[1],t=t||Float32Array,a=new t(c[0]*c[1]);for(var u=0;u<c[0];++u)for(var n=0;n<c[1];++n)l?a[u*r+n]=e[n][u]:a[u*r+n]=e[u][n];return a}function transpose(e,t,l){for(var a=new l.constructor(e*t),r=0;e>r;r++)for(var c=0;t>c;c++)a[c*e+r]=l[r*t+c];return a}var globals=require("./lib/globals"),pipeline=require("./lib/pipeline"),SGEMMCalculator=require("./lib/sgemmcalculator"),SAXPYCalculator=require("./lib/saxpycalculator"),SSCALCalculator=require("./lib/sscalcalculator"),SDWNSCalculator=require("./lib/sdwnscalculator"),SCLMPCalculator=require("./lib/sclmpcalculator"),test=require("./lib/test"),gl=globals.gl,sgemmcalculator=new SGEMMCalculator(gl),saxpycalculator=new SAXPYCalculator(gl),sscalcalculator=new SSCALCalculator(gl),sdwnscalculator=new SDWNSCalculator(gl),sclmpcalculator=new SCLMPCalculator(gl);module.exports={saxpy:saxpy,sscal:sscal,sgemm:sgemm,sstd:sstd,sdwns:sdwns,sclmp:sclmp,pipeline:pipeline,gpu:{gl:gl,sgemm:pipeline.sgemmcalculator.calculate.bind(pipeline.sgemmcalculator),sscal:pipeline.sscalcalculator.calculate.bind(pipeline.sscalcalculator),sclmp:pipeline.sclmpcalculator.calculate.bind(pipeline.sclmpcalculator),sdwns:pipeline.sdwnscalculator.calculate.bind(pipeline.sdwnscalculator),encode:gl.encode.bind(gl)},util:{fromArray:fromArray,transpose:transpose},test:test},String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,l){return"undefined"!=typeof e[l]?e[l]:t})});
},{"./lib/globals":2,"./lib/pipeline":3,"./lib/saxpycalculator":4,"./lib/sclmpcalculator":5,"./lib/sdwnscalculator":6,"./lib/sgemmcalculator":7,"./lib/sscalcalculator":8,"./lib/test":10}],2:[function(require,module,exports){
var WebGL=require("./webgl"),gl=new WebGL;module.exports={gl:gl};
},{"./webgl":11}],3:[function(require,module,exports){
function sscal(l,a,e){var r=e.shape[0],s=e.shape[1],c=new Tensor([r,s],null);return sscalcalculator.calculate(r,s,l,a,e.texture,c.texture),c}function sgemm(l,a,e,r,s){if(e.shape[1]!==a.shape[1])throw new Error("Second dimension must be of same size for input Tensors (second Tensor is transposed).");var c,t=a.shape[0],u=e.shape[0],o=a.shape[1];c=s?s.texture:null;var n=new Tensor([t,u],null);return sgemmcalculator.calculate(t,u,o,l,a.texture,e.texture,r,c,n.texture),n}function sdwns(l,a,e,r){if(r.shape[1]%l!==0)throw new Error("Second dimension of tensor must be a multiple of channels");var s=r.shape[0],c=r.shape[1]/l,t=Math.floor((s-a)/e)+1,u=Math.floor((c-a)/e)+1,o=new Tensor([t,u*l],null);return sdwnscalculator.calculate(s,c,l,a,e,r.texture,o.texture),o}function sclmp(l,a,e){l=null!=l?l:Number.MIN_VALUE,a=null!=a?a:Number.MAX_VALUE;var r=e.shape[0],s=e.shape[1],c=new Tensor([r,s],null);return sclmpcalculator.calculate(r,s,l,a,e.texture,c.texture),c}var globals=require("./globals"),SGEMMCalculator=require("./sgemmcalculator"),SAXPYCalculator=require("./saxpycalculator"),SSCALCalculator=require("./sscalcalculator"),SDWNSCalculator=require("./sdwnscalculator"),SCLMPCalculator=require("./sclmpcalculator"),Tensor=require("./tensor"),gl=globals.gl,sgemmcalculator=new SGEMMCalculator(gl,!1),saxpycalculator=new SAXPYCalculator(gl,!1),sscalcalculator=new SSCALCalculator(gl,!1),sdwnscalculator=new SDWNSCalculator(gl,!1),sclmpcalculator=new SCLMPCalculator(gl,!1);module.exports={Tensor:Tensor,sscal:sscal,sgemm:sgemm,sdwns:sdwns,sclmp:sclmp,sgemmcalculator:sgemmcalculator,saxpycalculator:saxpycalculator,sscalcalculator:sscalcalculator,sdwnscalculator:sdwnscalculator,sclmpcalculator:sclmpcalculator};
},{"./globals":2,"./saxpycalculator":4,"./sclmpcalculator":5,"./sdwnscalculator":6,"./sgemmcalculator":7,"./sscalcalculator":8,"./tensor":9}],4:[function(require,module,exports){
function SAXPYCalculator(t,n){this.webgl=t,this.standalone=n||!0;var e="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded A\nuniform sampler2D Y;		// texture with data from padded transpose of B\nuniform int       N;\nuniform float     a; 		// coefficient to multiplication\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n 	float row = outTex.y;\n	float col = outTex.x;\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col, row));\n	vec4 y = texture2D( Y, vec2(col, row));\n	vec4 sum_v = (a * x) + y;\n	int channel = int(mod(col * float(N), 4.0 ));\n	float sum = select_index_1604150559(sum_v, channel);\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n 	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1540259130(sum);\n}\n";this.standalone?this.program=this.webgl.createProgram(e):this.program=this.webgl.createProgram(p)}var WebGL=require("./webgl");module.exports=SAXPYCalculator,SAXPYCalculator.TEXTURE_UNIFORM_NAME_0="X",SAXPYCalculator.TEXTURE_UNIFORM_NAME_1="Y",SAXPYCalculator.LENGTH_UNIFORM_NAME="N",SAXPYCalculator.COEFFICIENT_UNIFORM_NAME="a",SAXPYCalculator.prototype.calculate=function(t,n,e,o,a){var l=this.webgl.context;this.webgl.selectProgram(this.program),this.bindInputTexture(e,l.TEXTURE0,SAXPYCalculator.TEXTURE_UNIFORM_NAME_0),this.bindInputTexture(o,l.TEXTURE1,SAXPYCalculator.TEXTURE_UNIFORM_NAME_1);var i=this.webgl.getPad(t);this.bindUniforms(t+i,n),this.webgl.bindOutputTexture(1,t+i,a),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(l.TEXTURE0),this.webgl.unbindInputTexture(l.TEXTURE1)},SAXPYCalculator.prototype.bindInputTexture=function(t,n,e){var o=this.webgl.context,a=this.program;o.activeTexture(n),o.bindTexture(o.TEXTURE_2D,t);var l=o.getUniformLocation(a,e);o.uniform1i(l,n-o.TEXTURE0)},SAXPYCalculator.prototype.bindUniforms=function(t,n){var e=this.webgl.context,o=e.getUniformLocation(this.program,SAXPYCalculator.LENGTH_UNIFORM_NAME),a=e.getUniformLocation(this.program,SAXPYCalculator.COEFFICIENT_UNIFORM_NAME);e.uniform1i(o,t),e.uniform1f(a,n)};
},{"./webgl":11}],5:[function(require,module,exports){
function SCLMPCalculator(n,t){this.webgl=n,this.standalone=null!=t?t:!0;var e="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded A\nuniform int       N;		// number of columns\nuniform int       pad;		// additional columns to nearest multiple of four\nuniform float     a; 		// lower bound\nuniform float     b; 		// upper bound\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row = outTex.y;\n	float col = outTex.x;\n\n	// return 0.0 if in padded region of output texture\n	if(col * float(N + pad) > float(N) ) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col, row));\n	vec4 val = clamp(x, a, b);\n\n	// select and output channel (standalone version only)\n	int channel = int(mod(col * float(N + pad), 4.0));\n	float sum = select_index_1604150559(val, channel);\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1540259130(sum);\n}\n",o="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded A\nuniform int       N;		// number of columns\nuniform int       pad;		// additional columns to nearest multiple of four\nuniform float     a; 		// lower bound\nuniform float     b; 		// upper bound\n\n// set pad values to 0.0, if in padded region of output texture\nvoid fix_pad_1540259130(inout vec4 v, int pad){\n	v.a = 0.0;\n	if(pad == 2){\n		v.b = 0.0;\n	} else if(pad == 3){\n		v.b = 0.0;\n		v.g = 0.0;\n	}\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	float col = (col_t * float(N + pad) - 2.0); // index of first element in pixel (matrix space)\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col_t, row_t));\n	vec4 val_v = clamp(x, a, b);\n\n	// is last element in pixel past row length?\n	if(pad > 0 && (col + 4.0) > float(N) ) {\n		// fix elements in padded region\n		fix_pad_1540259130(val_v, pad);\n	}\n\n	gl_FragColor = val_v;\n}\n";this.standalone?this.program=this.webgl.createProgram(e):this.program=this.webgl.createProgram(o)}var WebGL=require("./webgl");module.exports=SCLMPCalculator,SCLMPCalculator.TEXTURE_UNIFORM_NAME_0="X",SCLMPCalculator.LENGTH_UNIFORM_NAME="N",SCLMPCalculator.LOWER_UNIFORM_NAME="a",SCLMPCalculator.UPPER_UNIFORM_NAME="b",SCLMPCalculator.prototype.calculate=function(n,t,e,o,a,l){e=null!=e?e:Number.MIN_VALUE,o=null!=o?o:Number.MAX_VALUE;var i=this.webgl.context;this.webgl.selectProgram(this.program),this.bindInputTexture(a,i.TEXTURE0,SCLMPCalculator.TEXTURE_UNIFORM_NAME_0);var r=this.webgl.getPad(t);this.bindUniforms(t,r,e,o),this.standalone?this.webgl.bindOutputTexture(n,t+r,l):this.webgl.bindOutputTexture(n,(t+r)/4,l),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(i.TEXTURE0)},SCLMPCalculator.prototype.bindInputTexture=function(n,t,e){var o=this.webgl.context,a=this.program;o.activeTexture(t),o.bindTexture(o.TEXTURE_2D,n);var l=o.getUniformLocation(a,e);o.uniform1i(l,t-o.TEXTURE0)},SCLMPCalculator.prototype.bindUniforms=function(n,t,e,o){var a=this.webgl.context,l=a.getUniformLocation(this.program,SCLMPCalculator.LENGTH_UNIFORM_NAME),i=a.getUniformLocation(this.program,SCLMPCalculator.UPPER_UNIFORM_NAME),r=a.getUniformLocation(this.program,SCLMPCalculator.LOWER_UNIFORM_NAME),u=a.getUniformLocation(this.program,"pad");a.uniform1i(l,n),a.uniform1i(u,t),a.uniform1f(r,e),a.uniform1f(i,o)};
},{"./webgl":11}],6:[function(require,module,exports){
function DownsampleCalculator(n,o){this.webgl=n,this.standalone=null!=o?o:!0;var t="#define GLSLIFY 1\n// TODO: unroll loop for stride == factor and small values (2, 3)\nprecision highp float;\n\nvarying vec2      outTex;  // texture coords of row/column to calculate\nuniform sampler2D X;       // texture with data from padded A\nuniform int       factor;  // width of image patch\nuniform float     stride;  // width between image patches\nuniform float     C;       // number of channels\nuniform float     M;\nuniform float     N;\nuniform float     N_out;\nuniform float     M_out;\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate and translate to output pixel space.\n	float row = floor(outTex.y * M_out);   // row on output texture (matrix space)\n	float col = floor(outTex.x * N_out); // column on output texture (matrix space)\n	float vcol = floor(col / C);   // virtual column on output texture (matrix space)\n	float vchannel = floor(mod(col, C)); // virtual channel on output texture\n\n	const float min = -1.0e+08;\n	vec4 currentMax = vec4(min, min, min, min);\n\n	float deltaY = 1.0/M;\n	float deltaX = 1.0/N;\n	float y = ((row * stride) + 0.5)*deltaY; // texture position of input row\n	float x;\n	float z = vchannel * deltaX;\n	for (int i = 0; i < 100; i += 1) {\n		if (i >= factor) {\n			break;\n		}\n		x = ((vcol * stride * C) + 0.5) * deltaX; // texture position of input column\n\n		for (int j = 0; j < 100; j += 1) {\n			if (j >= factor) {\n				break;\n			}\n\n			vec2 coords = vec2(x + z, y);\n			vec4 x_v = texture2D(X, coords);\n			currentMax = max(currentMax, x_v);\n\n			x += (deltaX * C);\n		}\n		y += deltaY;\n	}\n	int chan = int(mod(outTex.x * N_out, 4.0 ));\n	float val = select_index_1604150559(currentMax, int(chan));\n	if (val == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	gl_FragColor = encode_float_1540259130(val);\n}\n";p="#define GLSLIFY 1\n// TODO: unroll loop for stride == factor and small values (2, 3)\nprecision highp float;\n\nvarying vec2      outTex;  // texture coords of row/column to calculate\nuniform sampler2D X;       // texture with data from padded A\nuniform int       factor;  // width of image patch\nuniform float     stride;  // width between image patches\nuniform float     C;       // number of channels\nuniform float     M;\nuniform float     N;\nuniform float     N_out;\nuniform float     M_out;\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate and translate to output pixel space.\n	float row = floor(outTex.y * M_out);   // row on output texture (pixel space)\n	float col = floor(outTex.x * N_out); // column on output texture (matrix space)\n	float vcol = floor(col / C);   // virtual column on output texture (matrix space)\n	float vchannel = floor(mod(col, C)); // virtual channel on output texture\n\n	const float min = -1.0e+08;\n	vec4 currentMax = vec4(min, min, min, min);\n\n	float deltaY = 1.0/M;\n	float deltaX = 1.0/N;\n	float y = ((row * stride) + 0.5)*deltaY; // texture position of input row\n	float x;\n	float z = vchannel * deltaX;\n	for (int i = 0; i < 100; i += 1) {\n		if (i >= factor) {\n			break;\n		}\n		x = ((vcol * stride * C) + 0.5) * deltaX; // texture position of input column\n\n		for (int j = 0; j < 100; j += 1) {\n			if (j >= factor) {\n				break;\n			}\n\n			vec2 coords = vec2(x + z, y);\n			vec4 x_v = texture2D(X, coords);\n			currentMax = max(currentMax, x_v);\n\n			x += (deltaX * C);\n		}\n		y += deltaY;\n	}\n\n	gl_FragColor = currentMax;\n}\n",this.standalone?this.program=this.webgl.createProgram(t):this.program=this.webgl.createProgram(p)}var WebGL=require("./webgl");module.exports=DownsampleCalculator,DownsampleCalculator.TEXTURE_UNIFORM_NAME_0="X",DownsampleCalculator.INPUT_ROW_COUNT_UNIFORM_NAME="M",DownsampleCalculator.INPUT_COLUMN_COUNT_UNIFORM_NAME="N",DownsampleCalculator.OUTPUT_ROW_COUNT_UNIFORM_NAME="M_out",DownsampleCalculator.OUTPUT_COLUMN_COUNT_UNIFORM_NAME="N_out",DownsampleCalculator.FACTOR_UNIFORM_NAME="factor",DownsampleCalculator.STRIDE_UNIFORM_NAME="stride",DownsampleCalculator.CHANNEL_COUNT_UNIFORM_NAME="C",DownsampleCalculator.prototype.calculate=function(n,o,t,a,e,l,r){if(t%WebGL.COMPONENTS_PER_TEXEL!=0)throw new Error("Channel count must be a multiple of "+WebGL.COMPONENTS_PER_TEXEL);var i=this.webgl.context,u=(Math.floor((o-a)/e)+1)*t,f=Math.floor((n-a)/e)+1;this.webgl.selectProgram(this.program),this.bindInputTexture(l,i.TEXTURE0,DownsampleCalculator.TEXTURE_UNIFORM_NAME_0),this.bindUniforms(n,o*t,f,u,a,e,t),this.standalone?this.webgl.bindOutputTexture(f,u,r):this.webgl.bindOutputTexture(f,u/WebGL.COMPONENTS_PER_TEXEL,r),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(i.TEXTURE0)},DownsampleCalculator.prototype.bindInputTexture=function(n,o,t){var a=this.webgl.context,e=this.program;a.activeTexture(o),a.bindTexture(a.TEXTURE_2D,n);var l=a.getUniformLocation(e,t);a.uniform1i(l,o-a.TEXTURE0)},DownsampleCalculator.prototype.bindUniforms=function(n,o,t,a,e,l,r){var i=this.webgl.context,u=i.getUniformLocation(this.program,DownsampleCalculator.INPUT_ROW_COUNT_UNIFORM_NAME),f=i.getUniformLocation(this.program,DownsampleCalculator.INPUT_COLUMN_COUNT_UNIFORM_NAME),m=i.getUniformLocation(this.program,DownsampleCalculator.OUTPUT_ROW_COUNT_UNIFORM_NAME),c=i.getUniformLocation(this.program,DownsampleCalculator.OUTPUT_COLUMN_COUNT_UNIFORM_NAME),s=i.getUniformLocation(this.program,DownsampleCalculator.FACTOR_UNIFORM_NAME),p=i.getUniformLocation(this.program,DownsampleCalculator.STRIDE_UNIFORM_NAME),d=i.getUniformLocation(this.program,DownsampleCalculator.CHANNEL_COUNT_UNIFORM_NAME);i.uniform1f(u,n),i.uniform1f(f,o),i.uniform1f(m,t),i.uniform1f(c,a),i.uniform1i(s,e),i.uniform1f(p,l),i.uniform1f(d,r)};
},{"./webgl":11}],7:[function(require,module,exports){
function SGEMMCalculator(t,e){this.webgl=t,this.standalone=null!=e?e:!0;var n="#define GLSLIFY 1\n// fragment shader that calculates the matrix product and renders each\n// element to the bytes representing a 32-bit IEEE754 floating point in\n// the output RGBA canvas.\n// readPixel is used to read the bytes.\n\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform sampler2D B_t;		// texture with data from padded transpose of B\nuniform int       K;		// number of elements in shared dimension\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\nuniform float     alpha; 	// coefficient to multiplication\n\n// sum of products between elements in row i (from A) x col j (from B)\n\n// Calculate the dot product between the row (from A) and column (from B)\n// identified by the passed indeces (output texture coordinate space).\n// We loop over elements in the row and column and sum the product\n// using the glsl `dot` function to process four elements at a time.\n// This four element optimization requires that the matrix B be\n// transposed before texel packing and that both matrices be padded\n// (with zeros) to a multiple of four (4) in their shared dimension.\nfloat dot_rowcol_1540259130(float y, float x, sampler2D A, sampler2D B_t, int K) {\n	float delta_t = 1./float(K);// space (on texture) between elements\n	float sum = 0.;			// sum for this row/column pair\n	float z = 0.5 * (4.0 * delta_t);// position for shared dimension on source textures\n\n	for (int l=0 ; l<4096 ; ++l) {\n		if(l >= K / 4) break;    // stop when we finish the row/column\n		// l is in pixel space, so we divide by four\n\n		// retrieve next four elements from each texture\n		vec4 a_ik = texture2D(  A, vec2(z, y));\n		vec4 b_kj = texture2D(B_t, vec2(z, x));\n\n	// use `dot` to process four elements at a time\n		sum +=  dot(a_ik, b_kj);\n		z += (4.0 * delta_t);      // (z + 0.5)*delta\n	}\n	return sum;\n}\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1604150559(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n\n	// sum row x col for the passed pixel\n	float sum = alpha * dot_rowcol_1540259130(row_t, col_t * float(N + pad)/float(N), A, B_t, K);\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1604150559(sum);\n}\n",o="#define GLSLIFY 1\n// fragment shader that calculates the matrix product (with additive 'C' term)\n// and renders each element to the bytes representing a 32-bit IEEE754 floating\n// point in the output RGBA canvas.\n// readPixel is used to read the bytes.\n\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform sampler2D B_t;		// texture with data from padded transpose of B\nuniform sampler2D C;		// texture with data from C\nuniform int       K;		// number of elements in shared dimension\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\nuniform float     alpha; 	// coefficient to multiplication\nuniform float     beta; 	// coefficient to additive term\n\n// sum of products between elements in row i (from A) x col j (from B)\n\n// Calculate the dot product between the row (from A) and column (from B)\n// identified by the passed indeces (output texture coordinate space).\n// We loop over elements in the row and column and sum the product\n// using the glsl `dot` function to process four elements at a time.\n// This four element optimization requires that the matrix B be\n// transposed before texel packing and that both matrices be padded\n// (with zeros) to a multiple of four (4) in their shared dimension.\nfloat dot_rowcol_1540259130(float y, float x, sampler2D A, sampler2D B_t, int K) {\n	float delta_t = 1./float(K);// space (on texture) between elements\n	float sum = 0.;			// sum for this row/column pair\n	float z = 0.5 * (4.0 * delta_t);// position for shared dimension on source textures\n\n	for (int l=0 ; l<4096 ; ++l) {\n		if(l >= K / 4) break;    // stop when we finish the row/column\n		// l is in pixel space, so we divide by four\n\n		// retrieve next four elements from each texture\n		vec4 a_ik = texture2D(  A, vec2(z, y));\n		vec4 b_kj = texture2D(B_t, vec2(z, x));\n\n	// use `dot` to process four elements at a time\n		sum +=  dot(a_ik, b_kj);\n		z += (4.0 * delta_t);      // (z + 0.5)*delta\n	}\n	return sum;\n}\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1604150559(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1117569599(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	vec4 c_vec = texture2D(C, vec2(col_t, 0.5));\n\n	// should be -0.5, but that subtly breaks at zero\n	float col = col_t * float(N + pad); // index of first element in pixel (matrix space)\n	int channel = int(mod(col, 4.0 ));\n	float c = select_index_1117569599(c_vec, channel);\n\n	// sum row x col for the passed pixel\n	float sum = alpha * dot_rowcol_1540259130(row_t, col_t * float(N + pad)/float(N), A, B_t, K);\n	sum += beta * c;\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1604150559(sum);\n}\n",a="#define GLSLIFY 1\n// fragment shader that calculates the matrix product and writes each\n// element to a pixel component in a floating point texture.\n// the output RGBA canvas.\n// readPixel is used to read the bytes.\n\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform sampler2D B_t;		// texture with data from padded transpose of B\nuniform int       K;		// number of elements in shared dimension\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\nuniform float     alpha; 	// coefficient to multiplication\n\n// sum of products between elements in row i (from A) x col j (from B)\n\n// Calculate the dot product between the row (from A) and column (from B)\n// identified by the passed indeces (output texture coordinate space).\n// We loop over elements in the row and column and sum the product\n// using the glsl `dot` function to process four elements at a time.\n// This four element optimization requires that the matrix B be\n// transposed before texel packing and that both matrices be padded\n// (with zeros) to a multiple of four (4) in their shared dimension.\nfloat dot_rowcol_1540259130(float y, float x, sampler2D A, sampler2D B_t, int K) {\n	float delta_t = 1./float(K);// space (on texture) between elements\n	float sum = 0.;			// sum for this row/column pair\n	float z = 0.5 * (4.0 * delta_t);// position for shared dimension on source textures\n\n	for (int l=0 ; l<4096 ; ++l) {\n		if(l >= K / 4) break;    // stop when we finish the row/column\n		// l is in pixel space, so we divide by four\n\n		// retrieve next four elements from each texture\n		vec4 a_ik = texture2D(  A, vec2(z, y));\n		vec4 b_kj = texture2D(B_t, vec2(z, x));\n\n	// use `dot` to process four elements at a time\n		sum +=  dot(a_ik, b_kj);\n		z += (4.0 * delta_t);      // (z + 0.5)*delta\n	}\n	return sum;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n\n	vec4 sum_v = vec4(0.0, 0.0, 0.0, 0.0);\n	float col = (col_t * float(N + pad) - 2.0); // index of first element in pixel (matrix space)\n	sum_v.r = alpha * dot_rowcol_1540259130(row_t, (col + 0.5)/float(N), A, B_t, K);\n	// is last element in pixel past row length?\n	if(pad > 0 && (col + 4.0) > float(N) ) {\n		// compute elements in padded region\n		if(pad < 3){\n			sum_v.g = alpha * dot_rowcol_1540259130(row_t, (col + 1.5)/float(N), A, B_t, K);\n		}\n		if(pad < 2){\n			sum_v.b = alpha * dot_rowcol_1540259130(row_t, (col + 2.5)/float(N), A, B_t, K);\n		}\n	} else {\n		sum_v.g = alpha * dot_rowcol_1540259130(row_t, (col + 1.5)/float(N), A, B_t, K);\n		sum_v.b = alpha * dot_rowcol_1540259130(row_t, (col + 2.5)/float(N), A, B_t, K);\n		sum_v.a = alpha * dot_rowcol_1540259130(row_t, (col + 3.5)/float(N), A, B_t, K);\n	}\n\n	gl_FragColor = sum_v;\n}\n",r="#define GLSLIFY 1\n// fragment shader that calculates the matrix product and writes each\n// element to a pixel component in a floating point texture.\n// the output RGBA canvas.\n// readPixel is used to read the bytes.\n\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform sampler2D B_t;		// texture with data from padded transpose of B\nuniform sampler2D C;		// texture with data from C\nuniform int       K;		// number of elements in shared dimension\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\nuniform float     alpha; 	// coefficient to multiplication\nuniform float     beta; 	// coefficient to addition\n\n// sum of products between elements in row i (from A) x col j (from B)\n\n// Calculate the dot product between the row (from A) and column (from B)\n// identified by the passed indeces (output texture coordinate space).\n// We loop over elements in the row and column and sum the product\n// using the glsl `dot` function to process four elements at a time.\n// This four element optimization requires that the matrix B be\n// transposed before texel packing and that both matrices be padded\n// (with zeros) to a multiple of four (4) in their shared dimension.\nfloat dot_rowcol_1540259130(float y, float x, sampler2D A, sampler2D B_t, int K) {\n	float delta_t = 1./float(K);// space (on texture) between elements\n	float sum = 0.;			// sum for this row/column pair\n	float z = 0.5 * (4.0 * delta_t);// position for shared dimension on source textures\n\n	for (int l=0 ; l<4096 ; ++l) {\n		if(l >= K / 4) break;    // stop when we finish the row/column\n		// l is in pixel space, so we divide by four\n\n		// retrieve next four elements from each texture\n		vec4 a_ik = texture2D(  A, vec2(z, y));\n		vec4 b_kj = texture2D(B_t, vec2(z, x));\n\n	// use `dot` to process four elements at a time\n		sum +=  dot(a_ik, b_kj);\n		z += (4.0 * delta_t);      // (z + 0.5)*delta\n	}\n	return sum;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	vec4 c_v = texture2D(C, vec2(col_t, 0.5));\n\n	vec4 sum_v = vec4(0.0, 0.0, 0.0, 0.0);\n	float col = (col_t * float(N + pad) - 2.0); // index of first element in pixel (matrix space)\n	sum_v.r = alpha * dot_rowcol_1540259130(row_t, (col + 0.5)/float(N), A, B_t, K);\n	// in the padding region?\n	if(pad > 0 && (col + 4.0) > float(N) ) {\n		// pad\n		if(pad < 3){\n			sum_v.g = alpha * dot_rowcol_1540259130(row_t, (col + 1.5)/float(N), A, B_t, K);\n		}\n		if(pad < 2){\n			sum_v.b = alpha * dot_rowcol_1540259130(row_t, (col + 2.5)/float(N), A, B_t, K);\n		}\n	} else {\n		sum_v.g = alpha * dot_rowcol_1540259130(row_t, (col + 1.5)/float(N), A, B_t, K);\n		sum_v.b = alpha * dot_rowcol_1540259130(row_t, (col + 2.5)/float(N), A, B_t, K);\n		sum_v.a = alpha * dot_rowcol_1540259130(row_t, (col + 3.5)/float(N), A, B_t, K);\n	}\n\n	gl_FragColor = sum_v + beta*c_v;\n}\n";this.standalone?(this.program_=this.webgl.createProgram(n),this.program_c=this.webgl.createProgram(o)):(this.program_=this.webgl.createProgram(a),this.program_c=this.webgl.createProgram(r))}var WebGL=require("./webgl");module.exports=SGEMMCalculator,SGEMMCalculator.TEXTURE_UNIFORM_NAME_0="A",SGEMMCalculator.TEXTURE_UNIFORM_NAME_1="B_t",SGEMMCalculator.TEXTURE_UNIFORM_NAME_2="C",SGEMMCalculator.SHARED_LENGTH_UNIFORM_NAME="K",SGEMMCalculator.COLUMN_COUNT_UNIFORM_NAME="N",SGEMMCalculator.PAD_UNIFORM_NAME="pad",SGEMMCalculator.ALPHA_UNIFORM_NAME="alpha",SGEMMCalculator.BETA_UNIFORM_NAME="beta",SGEMMCalculator.prototype.calculate=function(t,e,n,o,a,r,i,l,s){var u=this.webgl.context;null!=l?this.program=this.program_c:(i=null,this.program=this.program_),this.webgl.selectProgram(this.program),this.bindInputTexture(a,u.TEXTURE0,SGEMMCalculator.TEXTURE_UNIFORM_NAME_0),this.bindInputTexture(r,u.TEXTURE1,SGEMMCalculator.TEXTURE_UNIFORM_NAME_1),null!=l&&this.bindInputTexture(l,u.TEXTURE2,SGEMMCalculator.TEXTURE_UNIFORM_NAME_2);var m=this.webgl.getPad(n),d=this.webgl.getPad(e);this.bindUniforms(e,n+m,d,o,i),this.standalone?this.webgl.bindOutputTexture(t,e+d,s):this.webgl.bindOutputTexture(t,(e+d)/4,s),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(u.TEXTURE0),this.webgl.unbindInputTexture(u.TEXTURE1),this.webgl.unbindInputTexture(u.TEXTURE2)},SGEMMCalculator.prototype.bindInputTexture=function(t,e,n){var o=this.webgl.context,a=this.program;o.activeTexture(e),o.bindTexture(o.TEXTURE_2D,t);var r=o.getUniformLocation(a,n);o.uniform1i(r,e-o.TEXTURE0)},SGEMMCalculator.prototype.bindUniforms=function(t,e,n,o,a){var r=this.webgl.context,i=r.getUniformLocation(this.program,SGEMMCalculator.SHARED_LENGTH_UNIFORM_NAME),l=r.getUniformLocation(this.program,SGEMMCalculator.ALPHA_UNIFORM_NAME),s=r.getUniformLocation(this.program,SGEMMCalculator.BETA_UNIFORM_NAME),u=r.getUniformLocation(this.program,SGEMMCalculator.COLUMN_COUNT_UNIFORM_NAME),m=m=r.getUniformLocation(this.program,SGEMMCalculator.PAD_UNIFORM_NAME);r.uniform1f(s,a),r.uniform1i(u,t),r.uniform1i(m,n),r.uniform1i(i,e),r.uniform1f(l,o)};
},{"./webgl":11}],8:[function(require,module,exports){
function SSCALCalculator(n,t){this.webgl=n,this.standalone=null!=t?t:!0;var e="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded X\nuniform int       N;		// number of columns\nuniform int       pad;		// additional columns to nearest multiple of four\nuniform float     b; 		// additive term\nuniform float     a; 		// multiplicative term\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n 	float row = outTex.y;\n	float col = outTex.x;\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col, row));\n	vec4 sum_v = (a * x) + b;\n	int channel = int(mod(col * float(N + pad), 4.0 ));\n	float sum = select_index_1604150559(sum_v, channel);\n\n	if (sum == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n 	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1540259130(sum);\n}\n",o="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D X;		// texture with data from padded X\nuniform int       N;		// number of columns\nuniform int       pad;		// additional columns to nearest multiple of four\nuniform float     b; 		// additive term\nuniform float     a; 		// multiplicative term\n\n// set pad values to 0.0, if in padded region of output texture\nvoid fix_pad_1540259130(inout vec4 v, int pad){\n	v.a = 0.0;\n	if(pad == 2){\n		v.b = 0.0;\n	} else if(pad == 3){\n		v.b = 0.0;\n		v.g = 0.0;\n	}\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	float col = (col_t * float(N + pad) - 2.0); // index of first element in pixel (matrix space)\n\n	// direct usage of col requires output be padded exactly like input\n	vec4 x = texture2D( X, vec2(col_t, row_t));\n	vec4 sum_v = (a * x) + b;\n\n	// fix padded region\n	if(pad > 0 && col + 4.0 > float(N) ) {\n		fix_pad_1540259130(sum_v, pad);\n	}\n\n	gl_FragColor = sum_v;\n}\n";this.standalone?this.program=this.webgl.createProgram(e):this.program=this.webgl.createProgram(o)}var WebGL=require("./webgl");module.exports=SSCALCalculator,SSCALCalculator.TEXTURE_UNIFORM_NAME_0="X",SSCALCalculator.LENGTH_UNIFORM_NAME="N",SSCALCalculator.ADD_UNIFORM_NAME="b",SSCALCalculator.MUL_UNIFORM_NAME="a",SSCALCalculator.prototype.calculate=function(n,t,e,o,a,i){var l=this.webgl.context,r=t%WebGL.COMPONENTS_PER_TEXEL,u=0==r?0:WebGL.COMPONENTS_PER_TEXEL-r;this.webgl.selectProgram(this.program),this.bindInputTexture(a,l.TEXTURE0,SSCALCalculator.TEXTURE_UNIFORM_NAME_0),this.bindUniforms(t,u,e,o),this.standalone?this.webgl.bindOutputTexture(n,t+u,i):this.webgl.bindOutputTexture(n,(t+u)/4,i),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0),this.webgl.unbindInputTexture(l.TEXTURE0)},SSCALCalculator.prototype.bindInputTexture=function(n,t,e){var o=this.webgl.context,a=this.program;o.activeTexture(t),o.bindTexture(o.TEXTURE_2D,n);var i=o.getUniformLocation(a,e);o.uniform1i(i,t-o.TEXTURE0)},SSCALCalculator.prototype.bindUniforms=function(n,t,e,o){var a=this.webgl.context,i=a.getUniformLocation(this.program,SSCALCalculator.LENGTH_UNIFORM_NAME),l=a.getUniformLocation(this.program,SSCALCalculator.ADD_UNIFORM_NAME),r=a.getUniformLocation(this.program,SSCALCalculator.MUL_UNIFORM_NAME),u=a.getUniformLocation(this.program,"pad");a.uniform1i(i,n),a.uniform1i(u,t),a.uniform1f(r,e),a.uniform1f(l,o)};
},{"./webgl":11}],9:[function(require,module,exports){
function Tensor(e,t){if(2!=e.length)throw new Error("Only Tensor of order two (matrix) is supported right now.");var r=e[0],s=e[1];this.texture=gl.createDataTexture(r,s,t),this.shape=[r,s]}var globals=require("./globals"),gl=globals.gl;module.exports=Tensor,Tensor.prototype["delete"]=function(){gl.context.deleteTexture(this.texture),this.texture=null,this.shape=null},Tensor.prototype.transfer=function(e){var t,r,s=this.shape[0],o=this.shape[1];return t=gl.createOutputTexture(s,o),gl.encode(s,o,this.texture,t),r=new Float32Array(gl.readData(s,o)),gl.context.deleteTexture(t),e||this["delete"](),r},Tensor.prototype.reshape=function(e,t){var r=this.shape[0],s=this.shape[1],o=e[0],n=e[1],l=new Tensor(e,null);return gl.reshape(r,s,o,n,this.texture,l.texture),t||this["delete"](),l},Tensor.prototype.transpose=function(e){var t=this.shape[0],r=this.shape[1],s=new Tensor([r,t],null);return gl.transpose(t,r,this.texture,s.texture),e||this["delete"](),s};
},{"./globals":2}],10:[function(require,module,exports){
var async=require("async"),loader=require("floader");test={},test.allclose=function(e,t,r,a){if(r=r||1e-5,a=a||1e-8,e.length!=t.length)return console.log("lengths not equal: "+e.length+", "+t.length),{result:!1,index:null};for(var n,l=0;l<e.length;l++)if(n=Math.abs(e[l]-t[l])<=a+r*Math.abs(t[l]),!n)return{result:!1,index:l};return{result:!0,index:l}},test.randomArray=function(e,t){for(var r=[],a=0;e>a;a++){for(var n=[],l=0;t>l;l++)n[l]=Math.random()/Math.sqrt(e);r.push(n)}return r},test.padData=function(e,t,r,a){for(var n=new Float32Array(e*(t+r)),l=0;e>l;l++)n.set(a.subarray(l*t,(l+1)*t),l*(t+r));return n},test.load=function(e,t,r){var a=t.map(function(t){return e+t});async.map(a,loader.load,function(e,t){if(e)return r(e);var a=t.map(JSON.parse);r(e,a)})},test.assert={},test.assert.allclose=function(e,t,r,a,n,l){var s=test.allclose(t,r,n,l),o="[",u="[";if(!s.result){s.index>1&&(o+="..., ",u+="..., "),s.index>0&&(o+=t[s.index-1]+", ",u+=r[s.index-1]+", "),o+="-->",u+="-->";for(var i=s.index;i<s.index+4&&i<t.length;i++)o+=t[i]+", ",u+=r[i]+", ";i<t.length?(o+="...]",u+="...]"):(o+="]",u+="]"),a=a||"should be allclose at "+s.index}e._assert(s.result,{message:a||"should be allclose",operator:"allclose",actual:o,expected:u,extra:null})},module.exports=test;
},{"async":12,"floader":13}],11:[function(require,module,exports){
function WebGL(e){var t,n;if(e=e||{},"undefined"==typeof e.canvas?this.canvas=document.createElement("canvas"):this.canvas=e.canvas,t={premultipliedAlpha:!1,preserveDrawingBuffer:!1},this.context=this.canvas.getContext("experimental-webgl",t),"undefined"==typeof this.context)throw new Error("No support for Webgl.");try{n=this.context.getExtension("OES_texture_float")}catch(o){}n?this.hasFloat=!0:(console.log("No support for OES_texture_float extension."),this.hasFloat=!1);var r=this.context.getShaderPrecisionFormat(this.context.FRAGMENT_SHADER,this.context.HIGH_FLOAT);this.hasHighPrecision=0!=r.precision,this.hasHighPrecision&&(this.highp=r);var i="#define GLSLIFY 1\n// vertex shader for a single quad\n// work is performed in the operation specific texture shader\n\nprecision highp float;\n\nattribute vec3 pos;\nattribute vec2 tex;\nvarying vec2   outTex;\nvoid main(void)\n{\n	// just pass the position and texture coords\n	gl_Position = vec4(pos, 1.0);\n	outTex = tex;\n}\n";this.vertexShader=this.context.createShader(this.context.VERTEX_SHADER),this.context.shaderSource(this.vertexShader,i),this.context.compileShader(this.vertexShader);var a="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform int       N;		// number of columns in output\nuniform int       pad;		//\n\n// Render float to bytes according to IEEE 754 Floating Point\nvec4 encode_float_1540259130(float val) {\n\n	// TODO: correctly handle denormal numbers\n	// http://www.2ality.com/2012/04/number-encoding.html\n	float a = abs(val);                           // encode absolute value + sign\n	float exp = floor(log2(a));                 // number of powers of 2\n	float mant = pow(2.,log2(a)-exp) * pow(2.,23.);  // multiply to fill 24 bits (implied leading 1)\n	float mant1 = floor(mant / 256. / 256.);    // first 8 bits of mantissa\n	float mant2 = mod(floor(mant / 256.),256.); // second 8 bits\n	float mant3 = mod(mant,256.);               // third 8 bits\n\n	highp float sign = 128.-128.*(a/val);			// sign bit is 256 or 0\n	highp float e = (sign+exp+127.)/510.;		// exponent and sign\n	highp float m1 = (mant1-(128.*(1.-mod(exp+127.,2.))))/255.; // handle leading bit\n	highp float m2 = (mant2)/255.;				// middle part\n	highp float m3 = (mant3+.5)/255.;			// scale to 0 - 255\n\n	return vec4(m3,m2,m1,e);\n}\n\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n\n	vec4 val_v = texture2D(A, vec2(col_t * float(N)/float(N + pad), row_t));\n	int channel = int(mod(col_t * float(N), 4.0 ));\n	float val = select_index_1604150559(val_v, channel);\n\n	if (val == 0.) {\n		gl_FragColor = vec4(0.,0.,0.,0.);\n		return;\n	}\n\n 	// output vec4 with bytes for an IEEE754 32-bit floating point number\n	gl_FragColor = encode_float_1540259130(val);\n}\n",l="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform int       M;		// number of rows in output\nuniform int       N;		// number of columns in output\nuniform int       mpad;		//\nuniform int       npad;		//\n\n// select an element from a vector based on index\nfloat select_index_1540259130(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n	float col = (col_t * float(N + npad) - 2.0); // index of first element in pixel (matrix space)\n\n	// get rows in the input, each containing one element in the output\n	vec4 row_1 = texture2D(A, vec2((row_t * float(M))/float(M + mpad), (col + 0.5)/float(N)));\n	vec4 row_2 = texture2D(A, vec2((row_t * float(M))/float(M + mpad), (col + 1.5)/float(N)));\n	vec4 row_3 = texture2D(A, vec2((row_t * float(M))/float(M + mpad), (col + 2.5)/float(N)));\n	vec4 row_4 = texture2D(A, vec2((row_t * float(M))/float(M + mpad), (col + 3.5)/float(N)));\n\n	// package into output vector\n	int channel = int(mod(row_t * float(M), 4.0 ));\n\n	vec4 col_v = vec4(0.0, 0.0, 0.0, 0.0); // vec4 representing four elements in a column in the input\n\n	// extract relevent element from each input row\n	col_v.r = select_index_1540259130(row_1, channel);\n	if(npad > 0 && (col + 4.0) > float(N) ) {\n		// compute elements in padded region\n		if(npad < 3){\n			col_v.g = select_index_1540259130(row_2, channel);\n		}\n		if(npad < 2){\n			col_v.b = select_index_1540259130(row_3, channel);\n		}\n	} else {\n		col_v.g = select_index_1540259130(row_2, channel);\n		col_v.b = select_index_1540259130(row_3, channel);\n		col_v.a = select_index_1540259130(row_4, channel);\n	}\n\n	gl_FragColor = col_v;\n}\n",s="#define GLSLIFY 1\nprecision highp float;\n\nvarying vec2      outTex;	// texture coords of row/column to calculate\nuniform sampler2D A;		// texture with data from padded A\nuniform float     M;		// number of rows in output\nuniform float     N;		// number of columns in output\nuniform float     pad;		// column padding in output\nuniform float     M_in;		// number of rows in input\nuniform float     N_in;		// number of columns in input\nuniform float     pad_in;	// column padding in input\n\n/* number of input pixels\n   origin index (channel) for each\n   termination index (channel) for each\n   destination origin index (channel) for each\n */\n// select an element from a vector based on index\nfloat select_index_1604150559(vec4 v, int index){\n	float val;\n	if (index == 0) {\n		val = v.r;\n	} else if(index == 1) {\n		val = v.g;\n	} else if(index == 2) {\n		val = v.b;\n	} else if(index == 3){\n		val = v.a;\n	} else {\n		// should never be here\n		val = 0.0;\n	}\n\n	return val;\n}\n\n// set pad values to 0.0, if in padded region of output texture\nvoid fix_pad_1540259130(inout vec4 v, int pad){\n	v.a = 0.0;\n	if(pad == 2){\n		v.b = 0.0;\n	} else if(pad == 3){\n		v.b = 0.0;\n		v.g = 0.0;\n	}\n}\n\n// translate a linear index into x, y coordinates for a matrix\nvec2 linear_index_coords(float linear_index, float row_length){\n	vec2 coords;\n\n	coords.x = floor(mod(linear_index + 0.5, row_length)); // column\n	coords.y = floor((linear_index + 0.5) / row_length); // row\n\n	return coords;\n}\n\nvoid main(void) {\n\n	// get the implied row and column from .y and .x of passed (output)\n	// texture coordinate. These map directly to input texture space when\n	// the relevant dimensions are the same.\n	float row_t = outTex.y;\n	float col_t = outTex.x;\n\n	float row = floor(row_t * M);\n	float col_0 = (col_t * (N + pad) - 2.0); // index of first element in pixel (matrix space)\n	//float col_0 = floor(col_t * (N + pad)/4.0)*4.0; // index of first element in pixel (matrix space)\n	float lin_index_0 = row * N + col_0; // linearized index of first element in pixel in output\n\n	vec4 pixel_in = vec4(0.0, 0.0, 0.0, 0.0);\n	vec4 result = vec4(0.0, 0.0, 0.0, 0.0);\n	vec2 coords = linear_index_coords(lin_index_0, N_in);\n	vec2 ncoords;\n	int current_pixel_index = int(mod(coords.x, 4.0));\n\n	pixel_in = texture2D(A, vec2((coords.x + 0.5)/(N_in + pad_in), (coords.y + 0.5)/M_in));\n\n	// go through channels for current output pixel\n	for(int i = 0; i < 4; i++){\n\n		// are we on a new input pixel?\n		ncoords = linear_index_coords(lin_index_0 + float(i), N_in);\n		if(floor(coords.x/4.0) != floor(ncoords.x/4.0) || coords.y != ncoords.y){\n			coords = ncoords;\n			pixel_in = texture2D(A, vec2((coords.x + 0.5)/(N_in + pad_in), (coords.y + 0.5)/M_in));\n			current_pixel_index = 0;\n		}\n\n		if(i == 0){\n			result.r = select_index_1604150559(pixel_in, current_pixel_index);\n		} else if(i == 1){\n			result.g = select_index_1604150559(pixel_in, current_pixel_index);\n		} else if(i == 2){\n			result.b = select_index_1604150559(pixel_in, current_pixel_index);\n		} else {\n			result.a = select_index_1604150559(pixel_in, current_pixel_index);\n		}\n\n		current_pixel_index++;\n	}\n\n	// are we in the padded (output) region?\n	if(pad > 0.0 && col_0 + 3.5 > N ) {\n		fix_pad_1540259130(result, int(pad));\n	}\n\n	gl_FragColor = result;\n}\n";this.encode_program=this.createProgram(a),this.transpose_program=this.createProgram(l),this.reshape_program=this.createProgram(s)}module.exports=WebGL,WebGL.COMPONENTS_PER_TEXEL=4,WebGL.POSITION_UNIFORM_NAME="pos",WebGL.TEXTURE_UNIFORM_NAME="tex",WebGL.prototype.encode=function(e,t,n,o){this.program=this.encode_program,this.selectProgram(this.program);var r=this.getPad(t),i=this.context.getUniformLocation(this.program,"N"),a=this.context.getUniformLocation(this.program,"pad");this.context.uniform1i(i,t),this.context.uniform1i(a,r),this.bindInputTexture(n,this.context.TEXTURE0,"A"),this.bindOutputTexture(e,t,o),this.context.drawElements(this.context.TRIANGLES,6,this.context.UNSIGNED_SHORT,0),this.unbindInputTexture(this.context.TEXTURE0)},WebGL.prototype.transpose=function(e,t,n,o){this.program=this.transpose_program,this.selectProgram(this.program);var r=this.getPad(t),i=this.getPad(e),a=this.context.getUniformLocation(this.program,"N"),l=this.context.getUniformLocation(this.program,"npad"),s=this.context.getUniformLocation(this.program,"M"),c=this.context.getUniformLocation(this.program,"mpad");this.context.uniform1i(a,e),this.context.uniform1i(l,i),this.context.uniform1i(s,t),this.context.uniform1i(c,r),this.bindInputTexture(n,this.context.TEXTURE0,"A"),this.bindOutputTexture(t,(e+i)/4,o),this.context.drawElements(this.context.TRIANGLES,6,this.context.UNSIGNED_SHORT,0),this.unbindInputTexture(this.context.TEXTURE0)},WebGL.prototype.reshape=function(e,t,n,o,r,i){this.program=this.reshape_program,this.selectProgram(this.program);var a=this.getPad(t),l=this.getPad(o),s=this.context.getUniformLocation(this.program,"M"),c=this.context.getUniformLocation(this.program,"N"),f=this.context.getUniformLocation(this.program,"pad"),u=this.context.getUniformLocation(this.program,"M_in"),d=this.context.getUniformLocation(this.program,"N_in"),x=this.context.getUniformLocation(this.program,"pad_in");this.context.uniform1f(s,n),this.context.uniform1f(c,o),this.context.uniform1f(f,l),this.context.uniform1f(u,e),this.context.uniform1f(d,t),this.context.uniform1f(x,a),this.bindInputTexture(r,this.context.TEXTURE0,"A"),this.bindOutputTexture(n,(o+l)/4,i),this.context.drawElements(this.context.TRIANGLES,6,this.context.UNSIGNED_SHORT,0),this.unbindInputTexture(this.context.TEXTURE0)},WebGL.prototype.bindInputTexture=function(e,t,n){var o=this.context,r=this.program;o.activeTexture(t),o.bindTexture(o.TEXTURE_2D,e);var i=o.getUniformLocation(r,n);o.uniform1i(i,t-o.TEXTURE0)},WebGL.prototype.createProgram=function(e){var t,n=this.context;if(t=n.createShader(n.FRAGMENT_SHADER),n.shaderSource(t,e),n.compileShader(t),0==n.getShaderParameter(t,n.COMPILE_STATUS))throw new Error(n.getShaderInfoLog(t));var o=n.createProgram();return n.attachShader(o,this.vertexShader),n.attachShader(o,t),n.linkProgram(o),o},WebGL.prototype.selectProgram=function(e){var t=this.context;t.useProgram(e),this.bindVertices(e)},WebGL.prototype.bindVertices=function(e){var t=this.context,n=e,o=t.getAttribLocation(n,WebGL.POSITION_UNIFORM_NAME),r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r);var i=[-1,-1,0,1,-1,0,1,1,0,-1,1,0];t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW),t.vertexAttribPointer(o,3,t.FLOAT,!1,0,0),t.enableVertexAttribArray(o);var a=t.getAttribLocation(n,WebGL.TEXTURE_UNIFORM_NAME),l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l);var s=[0,0,1,0,1,1,0,1];t.bufferData(t.ARRAY_BUFFER,new Float32Array(s),t.STATIC_DRAW),t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a);var c=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c);var f=[0,1,2,0,2,3];t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(f),t.STATIC_DRAW)},WebGL.prototype.createDataTexture=function(e,t,n){var o=this.context,r=[0,0,0,0],i=t%WebGL.COMPONENTS_PER_TEXEL,a=0==i?0:WebGL.COMPONENTS_PER_TEXEL-i,l=o.createTexture();if(o.bindTexture(o.TEXTURE_2D,l),0==a||null==n||"undefined"==typeof n)o.texImage2D(o.TEXTURE_2D,0,o.RGBA,(t+a)/WebGL.COMPONENTS_PER_TEXEL,e,0,o.RGBA,o.FLOAT,n);else{o.texImage2D(o.TEXTURE_2D,0,o.RGBA,(t+a)/WebGL.COMPONENTS_PER_TEXEL,e,0,o.RGBA,o.FLOAT,null);for(var s,c,f=t-i,u=f/WebGL.COMPONENTS_PER_TEXEL,d=0,x=new Float32Array(r),_=0;e>_;_++)d=_*t,full_texel_row_end=d+f,s=new Float32Array(n.buffer,d*n.BYTES_PER_ELEMENT,f),f>0&&o.texSubImage2D(o.TEXTURE_2D,0,0,_,u,1,o.RGBA,o.FLOAT,s),c=new Float32Array(n.buffer,full_texel_row_end*n.BYTES_PER_ELEMENT,i),x.set(c),o.texSubImage2D(o.TEXTURE_2D,0,u,_,1,1,o.RGBA,o.FLOAT,x)}return o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.bindTexture(o.TEXTURE_2D,null),l},WebGL.prototype.createOutputTexture=function(e,t){var n=this.context,o=this.getPad(t),r=n.createTexture();return n.bindTexture(n.TEXTURE_2D,r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t+o,e,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.bindTexture(n.TEXTURE_2D,null),r},WebGL.prototype.bindOutputTexture=function(e,t,n){var o=this.context;if(this.canvas.height=e,this.canvas.width=t,o.viewport(0,0,t,e),this.framebuffer=this.framebuffer||o.createFramebuffer(),o.bindFramebuffer(o.FRAMEBUFFER,this.framebuffer),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,n,0),o.checkFramebufferStatus(o.FRAMEBUFFER)!=o.FRAMEBUFFER_COMPLETE)throw new Error("Bound framebuffer is not complete.");return this.framebuffer},WebGL.prototype.unbindInputTexture=function(e){var t=this.context;t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null)},WebGL.prototype.readData=function(e,t){var n=this.context;return rawbuffer=new ArrayBuffer(e*t*Float32Array.BYTES_PER_ELEMENT),prod=new Uint8Array(rawbuffer),n.readPixels(0,0,t,e,n.RGBA,n.UNSIGNED_BYTE,prod),rawbuffer},WebGL.prototype.getPad=function(e){var t=e%WebGL.COMPONENTS_PER_TEXEL,n=0==t?0:WebGL.COMPONENTS_PER_TEXEL-t;return n};
},{}],12:[function(require,module,exports){
(function (process,global){
!function(){function n(){}function t(n){return n}function e(n){return!!n}function r(n){return!n}function u(n){return function(){if(null===n)throw new Error("Callback was already called.");n.apply(this,arguments),n=null}}function i(n){return function(){null!==n&&(n.apply(this,arguments),n=null)}}function o(n){return M(n)||"number"==typeof n.length&&n.length>=0&&n.length%1===0}function c(n,t){for(var e=-1,r=n.length;++e<r;)t(n[e],e,n)}function a(n,t){for(var e=-1,r=n.length,u=Array(r);++e<r;)u[e]=t(n[e],e,n);return u}function f(n){return a(Array(n),function(n,t){return t})}function l(n,t,e){return c(n,function(n,r,u){e=t(e,n,r,u)}),e}function s(n,t){c(W(n),function(e){t(n[e],e)})}function p(n,t){for(var e=0;e<n.length;e++)if(n[e]===t)return e;return-1}function h(n){var t,e,r=-1;return o(n)?(t=n.length,function(){return r++,t>r?r:null}):(e=W(n),t=e.length,function(){return r++,t>r?e[r]:null})}function m(n,t){return t=null==t?n.length-1:+t,function(){for(var e=Math.max(arguments.length-t,0),r=Array(e),u=0;e>u;u++)r[u]=arguments[u+t];switch(t){case 0:return n.call(this,r);case 1:return n.call(this,arguments[0],r)}}}function y(n){return function(t,e,r){return n(t,r)}}function v(t){return function(e,r,o){o=i(o||n),e=e||[];var c=h(e);if(0>=t)return o(null);var a=!1,f=0,l=!1;!function s(){if(a&&0>=f)return o(null);for(;t>f&&!l;){var n=c();if(null===n)return a=!0,void(0>=f&&o(null));f+=1,r(e[n],n,u(function(n){f-=1,n?(o(n),l=!0):s()}))}}()}}function d(n){return function(t,e,r){return n(C.eachOf,t,e,r)}}function g(n){return function(t,e,r,u){return n(v(e),t,r,u)}}function k(n){return function(t,e,r){return n(C.eachOfSeries,t,e,r)}}function b(t,e,r,u){u=i(u||n),e=e||[];var c=o(e)?[]:{};t(e,function(n,t,e){r(n,function(n,r){c[t]=r,e(n)})},function(n){u(n,c)})}function w(n,t,e,r){var u=[];n(t,function(n,t,r){e(n,function(e){e&&u.push({index:t,value:n}),r()})},function(){r(a(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})}function O(n,t,e,r){w(n,t,function(n,t){e(n,function(n){t(!n)})},r)}function S(n,t,e){return function(r,u,i,o){function c(){o&&o(e(!1,void 0))}function a(n,r,u){return o?void i(n,function(r){o&&t(r)&&(o(e(!0,n)),o=i=!1),u()}):u()}arguments.length>3?n(r,u,a,c):(o=i,i=u,n(r,a,c))}}function E(n,t){return t}function L(t,e,r){r=r||n;var u=o(e)?[]:{};t(e,function(n,t,e){n(m(function(n,r){r.length<=1&&(r=r[0]),u[t]=r,e(n)}))},function(n){r(n,u)})}function I(n,t,e,r){var u=[];n(t,function(n,t,r){e(n,function(n,t){u=u.concat(t||[]),r(n)})},function(n){r(n,u)})}function x(t,e,r){function i(t,e,r,u){if(null!=u&&"function"!=typeof u)throw new Error("task callback must be a function");return t.started=!0,M(e)||(e=[e]),0===e.length&&t.idle()?C.setImmediate(function(){t.drain()}):(c(e,function(e){var i={data:e,callback:u||n};r?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()}),void C.setImmediate(t.process))}function o(n,t){return function(){f-=1;var e=!1,r=arguments;c(t,function(n){c(l,function(t,r){t!==n||e||(l.splice(r,1),e=!0)}),n.callback.apply(n,r)}),n.tasks.length+f===0&&n.drain(),n.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var f=0,l=[],s={tasks:[],concurrency:e,payload:r,saturated:n,empty:n,drain:n,started:!1,paused:!1,push:function(n,t){i(s,n,!1,t)},kill:function(){s.drain=n,s.tasks=[]},unshift:function(n,t){i(s,n,!0,t)},process:function(){if(!s.paused&&f<s.concurrency&&s.tasks.length)for(;f<s.concurrency&&s.tasks.length;){var n=s.payload?s.tasks.splice(0,s.payload):s.tasks.splice(0,s.tasks.length),e=a(n,function(n){return n.data});0===s.tasks.length&&s.empty(),f+=1,l.push(n[0]);var r=u(o(s,n));t(e,r)}},length:function(){return s.tasks.length},running:function(){return f},workersList:function(){return l},idle:function(){return s.tasks.length+f===0},pause:function(){s.paused=!0},resume:function(){if(s.paused!==!1){s.paused=!1;for(var n=Math.min(s.concurrency,s.tasks.length),t=1;n>=t;t++)C.setImmediate(s.process)}}};return s}function j(n){return m(function(t,e){t.apply(null,e.concat([m(function(t,e){"object"==typeof console&&(t?console.error&&console.error(t):console[n]&&c(e,function(t){console[n](t)}))})]))})}function A(n){return function(t,e,r){n(f(t),e,r)}}function T(n){return m(function(t,e){var r=m(function(e){var r=this,u=e.pop();return n(t,function(n,t,u){n.apply(r,e.concat([u]))},u)});return e.length?r.apply(this,e):r})}function z(n){return m(function(t){var e=t.pop();t.push(function(){var n=arguments;r?C.setImmediate(function(){e.apply(null,n)}):e.apply(null,n)});var r=!0;n.apply(this,t),r=!1})}var q,C={},P="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;null!=P&&(q=P.async),C.noConflict=function(){return P.async=q,C};var H=Object.prototype.toString,M=Array.isArray||function(n){return"[object Array]"===H.call(n)},U=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},W=Object.keys||function(n){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t},B="function"==typeof setImmediate&&setImmediate,D=B?function(n){B(n)}:function(n){setTimeout(n,0)};"object"==typeof process&&"function"==typeof process.nextTick?C.nextTick=process.nextTick:C.nextTick=D,C.setImmediate=B?D:C.nextTick,C.forEach=C.each=function(n,t,e){return C.eachOf(n,y(t),e)},C.forEachSeries=C.eachSeries=function(n,t,e){return C.eachOfSeries(n,y(t),e)},C.forEachLimit=C.eachLimit=function(n,t,e,r){return v(t)(n,y(e),r)},C.forEachOf=C.eachOf=function(t,e,r){function o(n){f--,n?r(n):null===c&&0>=f&&r(null)}r=i(r||n),t=t||[];for(var c,a=h(t),f=0;null!=(c=a());)f+=1,e(t[c],c,u(o));0===f&&r(null)},C.forEachOfSeries=C.eachOfSeries=function(t,e,r){function o(){var n=!0;return null===a?r(null):(e(t[a],a,u(function(t){if(t)r(t);else{if(a=c(),null===a)return r(null);n?C.setImmediate(o):o()}})),void(n=!1))}r=i(r||n),t=t||[];var c=h(t),a=c();o()},C.forEachOfLimit=C.eachOfLimit=function(n,t,e,r){v(t)(n,e,r)},C.map=d(b),C.mapSeries=k(b),C.mapLimit=g(b),C.inject=C.foldl=C.reduce=function(n,t,e,r){C.eachOfSeries(n,function(n,r,u){e(t,n,function(n,e){t=e,u(n)})},function(n){r(n,t)})},C.foldr=C.reduceRight=function(n,e,r,u){var i=a(n,t).reverse();C.reduce(i,e,r,u)},C.transform=function(n,t,e,r){3===arguments.length&&(r=e,e=t,t=M(n)?[]:{}),C.eachOf(n,function(n,r,u){e(t,n,r,u)},function(n){r(n,t)})},C.select=C.filter=d(w),C.selectLimit=C.filterLimit=g(w),C.selectSeries=C.filterSeries=k(w),C.reject=d(O),C.rejectLimit=g(O),C.rejectSeries=k(O),C.any=C.some=S(C.eachOf,e,t),C.someLimit=S(C.eachOfLimit,e,t),C.all=C.every=S(C.eachOf,r,r),C.everyLimit=S(C.eachOfLimit,r,r),C.detect=S(C.eachOf,t,E),C.detectSeries=S(C.eachOfSeries,t,E),C.detectLimit=S(C.eachOfLimit,t,E),C.sortBy=function(n,t,e){function r(n,t){var e=n.criteria,r=t.criteria;return r>e?-1:e>r?1:0}C.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){return n?e(n):void e(null,a(t.sort(r),function(n){return n.value}))})},C.auto=function(t,e,r){function u(n){d.unshift(n)}function o(n){var t=p(d,n);t>=0&&d.splice(t,1)}function a(){h--,c(d.slice(0),function(n){n()})}r||(r=e,e=null),r=i(r||n);var f=W(t),h=f.length;if(!h)return r(null);e||(e=h);var y={},v=0,d=[];u(function(){h||r(null,y)}),c(f,function(n){function i(){return e>v&&l(g,function(n,t){return n&&y.hasOwnProperty(t)},!0)&&!y.hasOwnProperty(n)}function c(){i()&&(v++,o(c),h[h.length-1](d,y))}for(var f,h=M(t[n])?t[n]:[t[n]],d=m(function(t,e){if(v--,e.length<=1&&(e=e[0]),t){var u={};s(y,function(n,t){u[t]=n}),u[n]=e,r(t,u)}else y[n]=e,C.setImmediate(a)}),g=h.slice(0,h.length-1),k=g.length;k--;){if(!(f=t[g[k]]))throw new Error("Has inexistant dependency");if(M(f)&&p(f,n)>=0)throw new Error("Has cyclic dependencies")}i()?(v++,h[h.length-1](d,y)):u(c)})},C.retry=function(n,t,e){function r(n,t){if("number"==typeof t)n.times=parseInt(t,10)||i;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);n.times=parseInt(t.times,10)||i,n.interval=parseInt(t.interval,10)||o}}function u(n,t){function e(n,e){return function(r){n(function(n,t){r(!n||e,{err:n,result:t})},t)}}function r(n){return function(t){setTimeout(function(){t(null)},n)}}for(;a.times;){var u=!(a.times-=1);c.push(e(a.task,u)),!u&&a.interval>0&&c.push(r(a.interval))}C.series(c,function(t,e){e=e[e.length-1],(n||a.callback)(e.err,e.result)})}var i=5,o=0,c=[],a={times:i,interval:o},f=arguments.length;if(1>f||f>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");return 2>=f&&"function"==typeof n&&(e=t,t=n),"function"!=typeof n&&r(a,n),a.callback=e,a.task=t,a.callback?u():u},C.waterfall=function(t,e){function r(n){return m(function(t,u){if(t)e.apply(null,[t].concat(u));else{var i=n.next();i?u.push(r(i)):u.push(e),z(n).apply(null,u)}})}if(e=i(e||n),!M(t)){var u=new Error("First argument to waterfall must be an array of functions");return e(u)}return t.length?void r(C.iterator(t))():e()},C.parallel=function(n,t){L(C.eachOf,n,t)},C.parallelLimit=function(n,t,e){L(v(t),n,e)},C.series=function(n,t){L(C.eachOfSeries,n,t)},C.iterator=function(n){function t(e){function r(){return n.length&&n[e].apply(null,arguments),r.next()}return r.next=function(){return e<n.length-1?t(e+1):null},r}return t(0)},C.apply=m(function(n,t){return m(function(e){return n.apply(null,t.concat(e))})}),C.concat=d(I),C.concatSeries=k(I),C.whilst=function(t,e,r){if(r=r||n,t()){var u=m(function(n,i){n?r(n):t.apply(this,i)?e(u):r(null)});e(u)}else r(null)},C.doWhilst=function(n,t,e){var r=0;return C.whilst(function(){return++r<=1||t.apply(this,arguments)},n,e)},C.until=function(n,t,e){return C.whilst(function(){return!n.apply(this,arguments)},t,e)},C.doUntil=function(n,t,e){return C.doWhilst(n,function(){return!t.apply(this,arguments)},e)},C.during=function(t,e,r){r=r||n;var u=m(function(n,e){n?r(n):(e.push(i),t.apply(this,e))}),i=function(n,t){n?r(n):t?e(u):r(null)};t(i)},C.doDuring=function(n,t,e){var r=0;C.during(function(n){r++<1?n(null,!0):t.apply(this,arguments)},n,e)},C.queue=function(n,t){var e=x(function(t,e){n(t[0],e)},t,1);return e},C.priorityQueue=function(t,e){function r(n,t){return n.priority-t.priority}function u(n,t,e){for(var r=-1,u=n.length-1;u>r;){var i=r+(u-r+1>>>1);e(t,n[i])>=0?r=i:u=i-1}return r}function i(t,e,i,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");return t.started=!0,M(e)||(e=[e]),0===e.length?C.setImmediate(function(){t.drain()}):void c(e,function(e){var c={data:e,priority:i,callback:"function"==typeof o?o:n};t.tasks.splice(u(t.tasks,c,r)+1,0,c),t.tasks.length===t.concurrency&&t.saturated(),C.setImmediate(t.process)})}var o=C.queue(t,e);return o.push=function(n,t,e){i(o,n,t,e)},delete o.unshift,o},C.cargo=function(n,t){return x(n,1,t)},C.log=j("log"),C.dir=j("dir"),C.memoize=function(n,e){var r={},u={};e=e||t;var i=m(function(t){var i=t.pop(),o=e.apply(null,t);o in r?C.setImmediate(function(){i.apply(null,r[o])}):o in u?u[o].push(i):(u[o]=[i],n.apply(null,t.concat([m(function(n){r[o]=n;var t=u[o];delete u[o];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,n)})])))});return i.memo=r,i.unmemoized=n,i},C.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},C.times=A(C.map),C.timesSeries=A(C.mapSeries),C.timesLimit=function(n,t,e,r){return C.mapLimit(f(n),t,e,r)},C.seq=function(){var t=arguments;return m(function(e){var r=this,u=e[e.length-1];"function"==typeof u?e.pop():u=n,C.reduce(t,e,function(n,t,e){t.apply(r,n.concat([m(function(n,t){e(n,t)})]))},function(n,t){u.apply(r,[n].concat(t))})})},C.compose=function(){return C.seq.apply(null,Array.prototype.reverse.call(arguments))},C.applyEach=T(C.eachOf),C.applyEachSeries=T(C.eachOfSeries),C.forever=function(t,e){function r(n){return n?i(n):void o(r)}var i=u(e||n),o=z(t);r()},C.ensureAsync=z,C.constant=m(function(n){var t=[null].concat(n);return function(n){return n.apply(this,t)}}),C.wrapSync=C.asyncify=function(n){return m(function(t){var e,r=t.pop();try{e=n.apply(this,t)}catch(u){return r(u)}U(e)&&"function"==typeof e.then?e.then(function(n){r(null,n)})["catch"](function(n){r(n.message?n:new Error(n))}):r(null,e)})},"object"==typeof module&&module.exports?module.exports=C:"function"==typeof define&&define.amd?define([],function(){return C}):P.async=C}();
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":14}],13:[function(require,module,exports){
exports.load=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState)if(n.status>=200&&n.status<300)t(null,n.responseText);else{var r=new Error("failed to request file '"+e+"'");r.errno=34,t(r)}};try{n.open("GET",e,!0),n.send(null)}catch(r){t(r)}};
},{}],14:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}]},{},[1])(1)
});


</script><script>//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/base.js
var k,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ca="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ea(){ea=function(){};ca.Symbol||(ca.Symbol=ha)}var ha=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();
function ia(){ea();var a=ca.Symbol.iterator;a||(a=ca.Symbol.iterator=ca.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ja(this)}});ia=function(){}}function ja(a){var b=0;return ka(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ka(a){ia();a={next:a};a[ca.Symbol.iterator]=function(){return this};return a}function ma(a){ia();var b=a[Symbol.iterator];return b?b.call(a):ja(a)}
function na(a){if(!(a instanceof Array)){a=ma(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function oa(a){return"string"==typeof a}
function pa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function qa(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/transitionalforwarddeclarations.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/deps.js
//~~WEBPATH~~/analytics.html.js
window.ga=function(){};
</script>


<style>
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/uYECMKoHcO9x1wdmbyHIm3-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/sTdaA6j0Psb920Vjv-mrzH-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/_VYFx-s824kXq_Ul2BHqYH-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/tnj4SB6DNbdaQnsM8CFqBX-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/oMMgfZMQthOryQo9n22dcuvvDin1pK8aKteLpeZ5c0A.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/Ks_cVxiCiwUWVsFWFA3Bjn-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto'), local('Roboto-Regular'), url(/font-roboto/NJ4vxlgWwWbEsv18dAhqnn-_kf6ByYO6CLYdB4HQE-Y.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/isZ-wbCXNKAbnjo6_TwHToX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/77FXFjRbGzN4aCrSFhlh3oX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/jSN2CGVDbcVyCnfJfjSdfIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/UX6i4JxQDm3fVTc1CPuwqoX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/d-6IYplOFocCacKzxwXSOJBw1xU1rKptJj_0jans920.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/97uahxiqZRoncBaCEI3aW4X0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Bold'), local('Roboto-Bold'), url(/font-roboto/PwZc-YbIL414wB9rB1IAPYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC14sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC_ZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcCwt_Rm691LTebKfY2ZkKSmI.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC1BW26QxpSj-_ZKm_xT4hWw.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC4gp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC6E8kM4xWR1_1bYURRojRGc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 700;
  src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(/font-roboto/t6Nd4cfPRhZP44Q5QAjcC9DiNsR5a-9Oe_Ivpu8XWlY.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/OpXUqTo0UgQQhGj_SFdLWBkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/WxrXJa0C3KdtC7lMafG4dRkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/cDKhRaXnQTOVbaoxwdOr9xkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/1hZf02POANh32k2VkgEoUBkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/vPcynSL0qHq_6dX7lKVByXYhjbSpvc47ee6xR_80Hnw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/vSzulfKSK0LLjjfeaxcREhkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 400;
  src: local('Roboto Italic'), local('Roboto-Italic'), url(/font-roboto/K23cxWVTrIFD6DJsEVi07RkAz4rYn47Zy2rvigWQf6w.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/Fl4y0QdOxyyTHEGMXX8kcYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/0eC6fl06luXEYWpBSJvXCIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/I3S1wsgSg9YCurV6PUkTOYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/-L14Jk06m6pUHB-5mXQQnYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/Hgo13k-tfSpn0qi1SFdUfZBw1xU1rKptJj_0jans920.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/Pru33qjShpZSmG3z6VYwnYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 300;
  src: local('Roboto Light'), local('Roboto-Light'), url(/font-roboto/NYDWBdD4gIq26G5XYbHsFIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at14sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at_ZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0atwt_Rm691LTebKfY2ZkKSmI.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at1BW26QxpSj-_ZKm_xT4hWw.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at4gp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at6E8kM4xWR1_1bYURRojRGc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 300;
  src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(/font-roboto/7m8l7TlFO-S3VkhHuR0at9DiNsR5a-9Oe_Ivpu8XWlY.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/oHi30kwQWvpCWqAhzHcCSIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/ZLqKeelYbATG60EpZBSDy4X0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/mx9Uck6uB63VIKFYnEMXrYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/rGvHdJnr2l75qb0YND9NyIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/RxZJdnzeo3R5zSexge8UUZBw1xU1rKptJj_0jans920.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/oOeFwZNlrTefzLYmlVV1UIX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: normal;
  font-weight: 500;
  src: local('Roboto Medium'), local('Roboto-Medium'), url(/font-roboto/mbmhprMH69Zi6eEPBYVFhYX0hVgzZQUfRDuZrPvH3D8.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0V4sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0fZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0Qt_Rm691LTebKfY2ZkKSmI.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0VBW26QxpSj-_ZKm_xT4hWw.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0Ygp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0aE8kM4xWR1_1bYURRojRGc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto';
  font-style: italic;
  font-weight: 500;
  src: local('Roboto Medium Italic'), local('Roboto-MediumItalic'), url(/font-roboto/OLffGBTaF0XFOW1gnuHF0dDiNsR5a-9Oe_Ivpu8XWlY.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY14sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY_ZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpYwt_Rm691LTebKfY2ZkKSmI.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY1BW26QxpSj-_ZKm_xT4hWw.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY4gp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY6E8kM4xWR1_1bYURRojRGc.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 400;
  src: local('Roboto Mono'), local('RobotoMono-Regular'), url(/font-roboto/hMqPNLsu_dywMa4C_DEpY9DiNsR5a-9Oe_Ivpu8XWlY.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz1x-M1I1w5OMiqnVF8xBLhU.woff2) format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59FzwXaAXup5mZlfK6xRLrhsco.woff2) format('woff2');
  unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fzwn6Wqxo-xwxilDXPU8chVU.woff2) format('woff2');
  unicode-range: U+0370-03FF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz1T7aJLK6nKpn36IMwTcMMc.woff2) format('woff2');
  unicode-range: U+1F00-1FFF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz_79_ZuUxCigM2DespTnFaw.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz4gd9OEPUCN3AdYW0e8tat4.woff2) format('woff2');
  unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Roboto Mono';
  font-style: normal;
  font-weight: 700;
  src: local('Roboto Mono Bold'), local('RobotoMono-Bold'), url(/font-roboto/N4duVc9C58uwPiY8_59Fz8bIQSYZnWLaWC9QNCpTK_U.woff2) format('woff2');
  unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;
}
</style>


<style>
  html,
  body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: Roboto, sans-serif;
  }
</style>

<script>//~~WEBPATH~~/polymer/polymer-micro.html.js
(function(){function a(){document.body.removeAttribute("unresolved")}window.WebComponents?addEventListener("WebComponentsReady",a):"interactive"===document.readyState||"complete"===document.readyState?a():addEventListener("DOMContentLoaded",a)})();var ra=window,sa=window.Polymer||{};if(!sa.noUrlSettings)for(var ta=location.search.slice(1).split("\x26"),ua=0,va;ua<ta.length&&(va=ta[ua]);ua++)va=va.split("\x3d"),va[0]&&(sa[va[0]]=va[1]||!0);sa.wantShadow="shadow"===sa.dom;sa.hasShadow=!!Element.prototype.createShadowRoot;
sa.nativeShadow=sa.hasShadow&&!window.ShadowDOMPolyfill;sa.useShadow=sa.wantShadow&&sa.hasShadow;sa.hasNativeImports="import"in document.createElement("link");sa.useNativeImports=sa.hasNativeImports;sa.useNativeCustomElements=!window.CustomElements||window.CustomElements.useNative;sa.useNativeShadow=sa.useShadow&&sa.nativeShadow;sa.usePolyfillProto=!sa.useNativeCustomElements&&!Object.__proto__;
sa.hasNativeCSSProperties=!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)");sa.useNativeCSSProperties=sa.hasNativeCSSProperties&&sa.lazyRegister&&sa.useNativeCSSProperties;sa.isIE=navigator.userAgent.match("Trident");sa.passiveTouchGestures=sa.passiveTouchGestures||!1;ra.Polymer={Settings:sa};
(function(){function a(a){var b=Polymer.Base;a.extends&&(b=Polymer.Base._getExtendedPrototype(a.extends));a=Polymer.Base.chainObject(a,b);a.registerCallback();return a}var b=window.Polymer;window.Polymer=function(b){"function"===typeof b&&(b=b.prototype);b||(b={});b=a(b);var c=b===b.constructor.prototype?b.constructor:null,d={prototype:b};b.extends&&(d.extends=b.extends);Polymer.telemetry._registrate(b);b=document.registerElement(b.is,d);return c||b};if(b)for(var c in b)Polymer[c]=b[c];Polymer.Class=
function(b){b.factoryImpl||(b.factoryImpl=function(){});return a(b).constructor}})();Polymer.telemetry={registrations:[],_regLog:function(a){console.log("["+a.is+"]: registered")},_registrate:function(a){this.registrations.push(a);Polymer.log&&this._regLog(a)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}};Object.defineProperty(window,"currentImport",{enumerable:!0,configurable:!0,get:function(){return(document._currentScript||document.currentScript||{}).ownerDocument}});
Polymer.RenderStatus={_ready:!1,_callbacks:[],whenReady:function(a){this._ready?a():this._callbacks.push(a)},_makeReady:function(){this._ready=!0;for(var a=0;a<this._callbacks.length;a++)this._callbacks[a]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:!1,afterNextRender:function(a,b,c){this._watchNextRender();this._afterNextRenderQueue.push([a,b,c])},hasRendered:function(){return this._ready},
_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=!0;var a=function(){Polymer.RenderStatus._flushNextRender()};this._ready?requestAnimationFrame(a):this.whenReady(a)}},_flushNextRender:function(){var a=this;setTimeout(function(){a._flushRenderCallbacks(a._afterNextRenderQueue);a._afterNextRenderQueue=[];a._waitingNextRender=!1})},_flushRenderCallbacks:function(a){for(var b=0,c;b<a.length;b++)c=a[b],c[1].apply(c[0],c[2]||Polymer.nar)}};
window.HTMLImports?HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()}):Polymer.RenderStatus._catchFirstRender();Polymer.ImportStatus=Polymer.RenderStatus;Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady;
(function(){var a=Polymer.Settings;Polymer.Base={__isPolymerInstance__:!0,_addFeature:function(a){this.mixin(this,a)},registerCallback:function(){if("max"!==a.lazyRegister){this._desugarBehaviors();for(var b=0,c;b<this.behaviors.length;b++)c=this.behaviors[b],c.beforeRegister&&c.beforeRegister.call(this)}this.beforeRegister&&this.beforeRegister();this._registerFeatures();a.lazyRegister||this.ensureRegisterFinished()},createdCallback:function(){if(a.disableUpgradeEnabled){if(this.hasAttribute("disable-upgrade")){this._propertySetter=
b;this._configValue=null;this.__data__={};return}this.__hasInitialized=!0}this.__initialize()},__initialize:function(){this.__hasRegisterFinished||this._ensureRegisterFinished(this.__proto__);Polymer.telemetry.instanceCount++;this.root=this;for(var a=0,b;a<this.behaviors.length;a++)b=this.behaviors[a],b.created&&b.created.call(this);this.created&&this.created();this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(b){if(b.__hasRegisterFinished!==
b.is||!b.is){if("max"===a.lazyRegister){b._desugarBehaviors();for(var c=0,d;c<b.behaviors.length;c++)d=b.behaviors[c],d.beforeRegister&&d.beforeRegister.call(b)}b.__hasRegisterFinished=b.is;b._finishRegisterFeatures&&b._finishRegisterFeatures();for(c=0;c<b.behaviors.length;c++)d=b.behaviors[c],d.registered&&d.registered.call(b);b.registered&&b.registered();a.usePolyfillProto&&b!==this&&b.extend(this,b)}},attachedCallback:function(){var a=this;Polymer.RenderStatus.whenReady(function(){a.isAttached=
!0;for(var b=0,c;b<a.behaviors.length;b++)c=a.behaviors[b],c.attached&&c.attached.call(a);a.attached&&a.attached()})},detachedCallback:function(){var a=this;Polymer.RenderStatus.whenReady(function(){a.isAttached=!1;for(var b=0,c;b<a.behaviors.length;b++)c=a.behaviors[b],c.detached&&c.detached.call(a);a.detached&&a.detached()})},attributeChangedCallback:function(a,b,c){this._attributeChangedImpl(a);for(var d=0,e;d<this.behaviors.length;d++)e=this.behaviors[d],e.attributeChanged&&e.attributeChanged.call(this,
a,b,c);this.attributeChanged&&this.attributeChanged(a,b,c)},_attributeChangedImpl:function(a){this._setAttributeToProperty(this,a)},extend:function(a,b){if(a&&b)for(var c=Object.getOwnPropertyNames(b),d=0,e;d<c.length&&(e=c[d]);d++)this.copyOwnProperty(e,b,a);return a||b},mixin:function(a,b){for(var c in b)a[c]=b[c];return a},copyOwnProperty:function(a,b,c){(b=Object.getOwnPropertyDescriptor(b,a))&&Object.defineProperty(c,a,b)},_logger:function(a,b){1===b.length&&Array.isArray(b[0])&&(b=b[0]);switch(a){case "log":case "warn":case "error":console[a].apply(console,
b)}},_log:function(){this._logger("log",Array.prototype.slice.call(arguments,0))},_warn:function(){this._logger("warn",Array.prototype.slice.call(arguments,0))},_error:function(){this._logger("error",Array.prototype.slice.call(arguments,0))},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}};Polymer.Base._logPrefix=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent)?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:
["[%s::%s]:"];Polymer.Base.chainObject=function(a,b){a&&b&&a!==b&&(Object.__proto__||(a=Polymer.Base.extend(Object.create(b),a)),a.__proto__=b);return a};Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype);Polymer.BaseDescriptors={};if(a.disableUpgradeEnabled){var b=function(a,b){this.__data__[a]=b};var c=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(a,b,f){this.__hasInitialized||"disable-upgrade"!==a||(this.__hasInitialized=!0,this._propertySetter=
Polymer.Bind._modelApi._propertySetter,this._configValue=Polymer.Base._configValue,this.__initialize());c.call(this,a,b,f)}}Polymer.instanceof=window.CustomElements?CustomElements.instanceof:function(a,b){return a instanceof b};Polymer.isInstance=function(a){return!(!a||!a.__isPolymerInstance__)};Polymer.telemetry.instanceCount=0})();
(function(){function a(){return document.createElement("dom-module")}var b={},c={};a.prototype=Object.create(HTMLElement.prototype);Polymer.Base.mixin(a.prototype,{createdCallback:function(){this.register()},register:function(a){if(a=a||this.id||this.getAttribute("name")||this.getAttribute("is"))this.id=a,b[a]=this,c[a.toLowerCase()]=this},import:function(a,f){if(a){var e=b[a]||c[a.toLowerCase()];if(!e){if(d){e=document._currentScript||document.currentScript;e=(e&&e.ownerDocument||document).querySelectorAll("dom-module");
for(var h=e.length-1,l;0<=h&&(l=e[h])&&!l.__upgraded__;h--)CustomElements.upgrade(l)}e=b[a]||c[a.toLowerCase()]}e&&f&&(e=e.querySelector(f));return e}}});Object.defineProperty(a.prototype,"constructor",{value:a,configurable:!0,writable:!0});var d=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",a)})();
Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var a=(document._currentScript||document.currentScript).parentNode;"dom-module"===a.localName&&(this.is=a.id||a.getAttribute("name")||a.getAttribute("is"))}this.is&&(this.is=this.is.toLowerCase())}});
Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){this.behaviors.length&&(this.behaviors=this._desugarSomeBehaviors(this.behaviors))},_desugarSomeBehaviors:function(a){var b=[];a=this._flattenBehaviorsList(a);for(var c=a.length-1;0<=c;c--){var d=a[c];-1===b.indexOf(d)&&(this._mixinBehavior(d),b.unshift(d))}return b},_flattenBehaviorsList:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d instanceof Array?b=b.concat(this._flattenBehaviorsList(d)):d?b.push(d):this._warn(this._logf("_flattenBehaviorsList",
"behavior is null, check for missing or 404 import"))}return b},_mixinBehavior:function(a){for(var b=Object.getOwnPropertyNames(a),c=a._noAccessors,d=0,e;d<b.length&&(e=b[d]);d++)Polymer.Base._behaviorProperties[e]||this.hasOwnProperty(e)||(c?this[e]=a[e]:this.copyOwnProperty(e,a,this))},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},_prepFlattenedBehaviors:function(a){for(var b=0,c=a.length;b<c;b++)this._prepBehavior(a[b]);this._prepBehavior(this)},_marshalBehaviors:function(){for(var a=
0;a<this.behaviors.length;a++)this._marshalBehavior(this.behaviors[a]);this._marshalBehavior(this)}});Polymer.Base._behaviorProperties={hostAttributes:!0,beforeRegister:!0,registered:!0,properties:!0,observers:!0,listeners:!0,created:!0,attached:!0,detached:!0,attributeChanged:!0,ready:!0,_noAccessors:!0};
Polymer.Base._addFeature({_getExtendedPrototype:function(a){return this._getExtendedNativePrototype(a)},_nativePrototypes:{},_getExtendedNativePrototype:function(a){var b=this._nativePrototypes[a];if(!b){b=Object.create(this.getNativePrototype(a));for(var c=Object.getOwnPropertyNames(Polymer.Base),d=0,e;d<c.length&&(e=c[d]);d++)Polymer.BaseDescriptors[e]||(b[e]=Polymer.Base[e]);Object.defineProperties(b,Polymer.BaseDescriptors);this._nativePrototypes[a]=b}return b},getNativePrototype:function(a){return Object.getPrototypeOf(document.createElement(a))}});
Polymer.Base._addFeature({_prepConstructor:function(){function a(){return this._factory(arguments)}this._factoryArgs=this.extends?[this.extends,this.is]:[this.is];this.hasOwnProperty("extends")&&(a.extends=this.extends);Object.defineProperty(this,"constructor",{value:a,writable:!0,configurable:!0});a.prototype=this},_factory:function(a){var b=document.createElement.apply(document,this._factoryArgs);this.factoryImpl&&this.factoryImpl.apply(b,a);return b}});Polymer.nob=Object.create(null);
Polymer.Base._addFeature({getPropertyInfo:function(a){var b=this._getPropertyInfo(a,this.properties);if(!b)for(var c=0;c<this.behaviors.length;c++)if(b=this._getPropertyInfo(a,this.behaviors[c].properties))return b;return b||Polymer.nob},_getPropertyInfo:function(a,b){var c=b&&b[a];"function"===typeof c&&(c=b[a]={type:c});c&&(c.defined=!0);return c},_prepPropertyInfo:function(){this._propertyInfo={};for(var a=0;a<this.behaviors.length;a++)this._addPropertyInfo(this._propertyInfo,this.behaviors[a].properties);
this._addPropertyInfo(this._propertyInfo,this.properties);this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(a,b){if(b){var c;for(c in b){var d=a[c];var e=b[c];if("_"!==c[0]||e.readOnly)a[c]?(d.type||(d.type=e.type),d.readOnly||(d.readOnly=e.readOnly)):a[c]={type:"function"===typeof e?e:e.type,readOnly:e.readOnly,attribute:Polymer.CaseMap.camelToDashCase(c)}}}}});var wa={configurable:!0,writable:!0,enumerable:!0,value:{}};
Polymer.BaseDescriptors.properties=wa;Object.defineProperty(Polymer.Base,"properties",wa);Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(a){return this._caseMap[a]||(this._caseMap[a]=0>a.indexOf("-")?a:a.replace(this._rx.dashToCamel,function(a){return a[1].toUpperCase()}))},camelToDashCase:function(a){return this._caseMap[a]||(this._caseMap[a]=a.replace(this._rx.camelToDash,"-$1").toLowerCase())}};
Polymer.Base._addFeature({_addHostAttributes:function(a){this._aggregatedAttributes||(this._aggregatedAttributes={});a&&this.mixin(this._aggregatedAttributes,a)},_marshalHostAttributes:function(){this._aggregatedAttributes&&this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(a,b){for(var c in b)this.hasAttribute(c)||"class"===c||this.serializeValueToAttribute(b[c],c,this)},_marshalAttributes:function(){this._takeAttributesToModel(this)},_takeAttributesToModel:function(a){if(this.hasAttributes())for(var b in this._propertyInfo){var c=
this._propertyInfo[b];this.hasAttribute(c.attribute)&&this._setAttributeToProperty(a,c.attribute,b,c)}},_setAttributeToProperty:function(a,b,c,d){this._serializing||(c=c||Polymer.CaseMap.dashToCamelCase(b),(d=d||this._propertyInfo&&this._propertyInfo[c])&&!d.readOnly&&(b=this.getAttribute(b),a[c]=this.deserialize(b,d.type)))},_serializing:!1,reflectPropertyToAttribute:function(a,b,c){this._serializing=!0;c=void 0===c?this[a]:c;this.serializeValueToAttribute(c,b||Polymer.CaseMap.camelToDashCase(a));
this._serializing=!1},serializeValueToAttribute:function(a,b,c){a=this.serialize(a);c=c||this;void 0===a?c.removeAttribute(b):c.setAttribute(b,a)},deserialize:function(a,b){switch(b){case Number:a=Number(a);break;case Boolean:a=null!=a;break;case Object:try{a=JSON.parse(a)}catch(c){}break;case Array:try{a=JSON.parse(a)}catch(c){a=null,console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:a=new Date(a)}return a},serialize:function(a){switch(typeof a){case "boolean":return a?
"":void 0;case "object":if(a instanceof Date)return a.toString();if(a)try{return JSON.stringify(a)}catch(b){return""}default:return null!=a?a:void 0}}});Polymer.version="1.11.3";Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepPropertyInfo()},_prepBehavior:function(a){this._addHostAttributes(a.hostAttributes)},_marshalBehavior:function(){},_initFeatures:function(){this._marshalHostAttributes();this._marshalBehaviors()}});
</script>











<script>//~~WEBPATH~~/polymer/polymer-mini.html.js
(function(){function a(a,c){return a.replace(f,function(a,d,e,f){return d+"'"+b(e.replace(/["']/g,""),c)+"'"+f})}function b(a,b){if(a&&h.test(a))return a;b=b.body.__urlResolver||(b.body.__urlResolver=b.createElement("a"));b.href=a;return b.href||a}function c(a){return a.substring(0,a.lastIndexOf("/")+1)}var d,e,f=/(url\()([^)]*)(\))/g,g={"*":["href","src","style","url"],form:["action"]},h=/(^\/)|(^#)|(^[\w-\d]*:)/,l=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:a,resolveAttrs:function(c,d){for(var e in g)for(var f=
g[e],h=0,m=f.length,n,v,y;h<m&&(n=f[h]);h++)("*"===e||c.localName===e)&&(y=(v=c.attributes[n])&&v.value)&&0>y.search(l)&&(v.value="style"===n?a(y,d):b(y,d))},resolveUrl:function(a,c){d||(d=document.implementation.createHTMLDocument("temp"),e=d.createElement("base"),d.head.appendChild(e));e.href=c;return b(a,d)},pathFromUrl:c};Polymer.rootPath=Polymer.Settings.rootPath||c(document.baseURI||window.location.href)})();
Polymer.Base._addFeature({_prepTemplate:function(){var a;void 0===this._template&&(this._template=(a=Polymer.DomModule.import(this.is))&&a.querySelector("template"));if(a){var b=a.getAttribute("assetpath")||"";a=Polymer.ResolveUrl.resolveUrl(b,a.ownerDocument.baseURI);this._importPath=Polymer.ResolveUrl.pathFromUrl(a)}else this._importPath="";this._template&&this._template.hasAttribute("is")&&this._warn(this._logf("_prepTemplate","top-level Polymer template must not be a type-extension, found",this._template,
"Move inside simple \x3ctemplate\x3e."));this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){this._template&&(this.root=this.instanceTemplate(this._template))},instanceTemplate:function(a){return document.importNode(a._content||a.content,!0)}});
(function(){var a=Polymer.Base.attachedCallback,b=Polymer.Base.detachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(a){(this.dataHost=a=a||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1])&&a._clients&&a._clients.push(this);this._clients=null;this._clientsReadied=!1},_beginHosting:function(){Polymer.Base._hostStack.push(this);this._clients||(this._clients=[])},_endHosting:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._readied=
!1;this._canReady()&&this._ready()},_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady();this._template&&(this._setupRoot(),this._readyClients());this._clientsReadied=!0;this._clients=null;this._afterClientsReady();this._readySelf()},_readyClients:function(){this._beginDistribute();var a=this._clients;if(a)for(var b=0,e=a.length,f;b<e&&(f=a[b]);b++)f._ready();this._finishDistribute()},_readySelf:function(){for(var a=0,b;a<this.behaviors.length;a++)b=
this.behaviors[a],b.ready&&b.ready.call(this);this.ready&&this.ready();this._readied=!0;this._attachedPending&&(this._attachedPending=!1,this.attachedCallback())},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){this._readied?(this._beforeAttached(),a.call(this)):this._attachedPending=!0},detachedCallback:function(){this._readied?b.call(this):this._attachedPending=!1}})})();
Polymer.ArraySplice=function(){function a(a,b,e){return{index:a,removed:b,addedCount:e}}function b(){}b.prototype={calcEditDistances:function(a,b,e,f,g,h){h=h-g+1;e=e-b+1;for(var c=Array(h),d=0;d<h;d++)c[d]=Array(e),c[d][0]=d;for(var n=0;n<e;n++)c[0][n]=n;for(d=1;d<h;d++)for(n=1;n<e;n++)if(this.equals(a[b+n-1],f[g+d-1]))c[d][n]=c[d-1][n-1];else{var q=c[d-1][n]+1,p=c[d][n-1]+1;c[d][n]=q<p?q:p}return c},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,f=a[b][c],g=[];0<
b||0<c;)if(0==b)g.push(2),c--;else if(0==c)g.push(3),b--;else{var h=a[b-1][c-1],l=a[b-1][c],m=a[b][c-1];var n=l<m?l<h?l:h:m<h?m:h;n==h?(h==f?g.push(0):(g.push(1),f=h),b--,c--):n==l?(g.push(3),b--,f=l):(g.push(2),c--,f=m)}g.reverse();return g},calcSplices:function(b,d,e,f,g,h){var c=0,m=0,n=Math.min(e-d,h-g);0==d&&0==g&&(c=this.sharedPrefix(b,f,n));e==b.length&&h==f.length&&(m=this.sharedSuffix(b,f,n-c));d+=c;g+=c;e-=m;h-=m;if(0==e-d&&0==h-g)return[];if(d==e){for(b=a(d,[],0);g<h;)b.removed.push(f[g++]);
return[b]}if(g==h)return[a(d,[],e-d)];h=this.spliceOperationsFromEditDistances(this.calcEditDistances(b,d,e,f,g,h));b=void 0;e=[];for(c=0;c<h.length;c++)switch(h[c]){case 0:b&&(e.push(b),b=void 0);d++;g++;break;case 1:b||(b=a(d,[],0));b.addedCount++;d++;b.removed.push(f[g]);g++;break;case 2:b||(b=a(d,[],0));b.addedCount++;d++;break;case 3:b||(b=a(d,[],0)),b.removed.push(f[g]),g++}b&&e.push(b);return e},sharedPrefix:function(a,b,e){for(var c=0;c<e;c++)if(!this.equals(a[c],b[c]))return c;return e},
sharedSuffix:function(a,b,e){for(var c=a.length,d=b.length,h=0;h<e&&this.equals(a[--c],b[--d]);)h++;return h},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};return new b}();
Polymer.domInnerHTML=function(){function a(a){switch(a){case "\x26":return"\x26amp;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";case '"':return"\x26quot;";case "\u00a0":return"\x26nbsp;"}}function b(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function c(b,l){b instanceof HTMLTemplateElement&&(b=b.content);for(var h="",n=Polymer.dom(b).childNodes,q=0,p=n.length,t;q<p&&(t=n[q]);q++){a:{var r=t;var w=b;var v=l;switch(r.nodeType){case Node.ELEMENT_NODE:for(var y=r.localName,x=
"\x3c"+y,A=r.attributes,B=0;w=A[B];B++)x+=" "+w.name+'\x3d"'+w.value.replace(d,a)+'"';x+="\x3e";r=f[y]?x:x+c(r,v)+"\x3c/"+y+"\x3e";break a;case Node.TEXT_NODE:r=r.data;r=w&&g[w.localName]?r:r.replace(e,a);break a;case Node.COMMENT_NODE:r="\x3c!--"+r.data+"--\x3e";break a;default:throw console.error(r),Error("not implemented");}}h+=r}return h}var d=/[&\u00A0"]/g,e=/[&\u00A0<>]/g,f=b("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),g=b("style script xmp iframe noembed noframes plaintext noscript".split(" "));
return{getInnerHTML:c}}();
(function(){var a=Element.prototype.insertBefore,b=Element.prototype.appendChild,c=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(a){var b=[],c=0;for(a=a.firstChild;a;a=a.nextSibling)b[c++]=a;return b},arrayCopyChildren:function(a){var b=[],c=0;for(a=a.firstElementChild;a;a=a.nextElementSibling)b[c++]=a;return b},arrayCopy:function(a){for(var b=a.length,c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}};Polymer.TreeApi.Logical={hasParentNode:function(a){return!(!a.__dom||!a.__dom.parentNode)},
hasChildNodes:function(a){return!(!a.__dom||void 0===a.__dom.childNodes)},getChildNodes:function(a){return this.hasChildNodes(a)?this._getChildNodes(a):a.childNodes},_getChildNodes:function(a){if(!a.__dom.childNodes){a.__dom.childNodes=[];for(var b=a.__dom.firstChild;b;b=b.__dom.nextSibling)a.__dom.childNodes.push(b)}return a.__dom.childNodes},getParentNode:function(a){return a.__dom&&void 0!==a.__dom.parentNode?a.__dom.parentNode:a.parentNode},getFirstChild:function(a){return a.__dom&&void 0!==a.__dom.firstChild?
a.__dom.firstChild:a.firstChild},getLastChild:function(a){return a.__dom&&void 0!==a.__dom.lastChild?a.__dom.lastChild:a.lastChild},getNextSibling:function(a){return a.__dom&&void 0!==a.__dom.nextSibling?a.__dom.nextSibling:a.nextSibling},getPreviousSibling:function(a){return a.__dom&&void 0!==a.__dom.previousSibling?a.__dom.previousSibling:a.previousSibling},getFirstElementChild:function(a){return a.__dom&&void 0!==a.__dom.firstChild?this._getFirstElementChild(a):a.firstElementChild},_getFirstElementChild:function(a){for(a=
a.__dom.firstChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.nextSibling;return a},getLastElementChild:function(a){return a.__dom&&void 0!==a.__dom.lastChild?this._getLastElementChild(a):a.lastElementChild},_getLastElementChild:function(a){for(a=a.__dom.lastChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.previousSibling;return a},getNextElementSibling:function(a){return a.__dom&&void 0!==a.__dom.nextSibling?this._getNextElementSibling(a):a.nextElementSibling},_getNextElementSibling:function(a){for(a=
a.__dom.nextSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.nextSibling;return a},getPreviousElementSibling:function(a){return a.__dom&&void 0!==a.__dom.previousSibling?this._getPreviousElementSibling(a):a.previousElementSibling},_getPreviousElementSibling:function(a){for(a=a.__dom.previousSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.previousSibling;return a},saveChildNodes:function(a){if(!this.hasChildNodes(a)){a.__dom=a.__dom||{};a.__dom.firstChild=a.firstChild;a.__dom.lastChild=a.lastChild;
a.__dom.childNodes=[];for(var b=a.firstChild;b;b=b.nextSibling)b.__dom=b.__dom||{},b.__dom.parentNode=a,a.__dom.childNodes.push(b),b.__dom.nextSibling=b.nextSibling,b.__dom.previousSibling=b.previousSibling}},recordInsertBefore:function(a,b,c){b.__dom.childNodes=null;if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(a=a.firstChild;a;a=a.nextSibling)this._linkNode(a,b,c);else this._linkNode(a,b,c)},_linkNode:function(a,b,c){a.__dom=a.__dom||{};b.__dom=b.__dom||{};c&&(c.__dom=c.__dom||{});a.__dom.previousSibling=
c?c.__dom.previousSibling:b.__dom.lastChild;a.__dom.previousSibling&&(a.__dom.previousSibling.__dom.nextSibling=a);a.__dom.nextSibling=c||null;a.__dom.nextSibling&&(a.__dom.nextSibling.__dom.previousSibling=a);a.__dom.parentNode=b;c?c===b.__dom.firstChild&&(b.__dom.firstChild=a):(b.__dom.lastChild=a,b.__dom.firstChild||(b.__dom.firstChild=a));b.__dom.childNodes=null},recordRemoveChild:function(a,b){a.__dom=a.__dom||{};b.__dom=b.__dom||{};a===b.__dom.firstChild&&(b.__dom.firstChild=a.__dom.nextSibling);
a===b.__dom.lastChild&&(b.__dom.lastChild=a.__dom.previousSibling);var c=a.__dom.previousSibling,d=a.__dom.nextSibling;c&&(c.__dom.nextSibling=d);d&&(d.__dom.previousSibling=c);a.__dom.parentNode=a.__dom.previousSibling=a.__dom.nextSibling=void 0;b.__dom.childNodes=null}};Polymer.TreeApi.Composed={getChildNodes:function(a){return Polymer.TreeApi.arrayCopyChildNodes(a)},getParentNode:function(a){return a.parentNode},clearChildNodes:function(a){a.textContent=""},insertBefore:function(b,c,f){return a.call(b,
c,f||null)},appendChild:function(a,c){return b.call(a,c)},removeChild:function(a,b){return c.call(a,b)}}})();
Polymer.DomApi=function(){function a(b){this.node=d?a.wrap(b):b}var b=Polymer.Settings,c=Polymer.TreeApi,d=b.hasShadow&&!b.nativeShadow;a.wrap=window.wrap?window.wrap:function(a){return a};a.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(a){if(this.node.contains(a))return!0;var b=a;for(a=a.ownerDocument;b&&b!==a&&b!==this.node;)b=Polymer.dom(b).parentNode||b.host;return b===this.node},queryDistributedElements:function(b){for(var c=this.getEffectiveChildNodes(),d=[],e=0,f=c.length,
g;e<f&&(g=c[e]);e++)g.nodeType===Node.ELEMENT_NODE&&a.matchesSelector.call(g,b)&&d.push(g);return d},getEffectiveChildNodes:function(){for(var a=[],b=this.childNodes,c=0,d=b.length,n;c<d&&(n=b[c]);c++)if(n.localName===e)for(var q=f(n).getDistributedNodes(),p=0;p<q.length;p++)a.push(q[p]);else a.push(n);return a},observeNodes:function(b){if(b)return this.observer||(this.observer=this.node.localName===e?new a.DistributedNodesObserver(this):new a.EffectiveNodesObserver(this)),this.observer.addListener(b)},
unobserveNodes:function(a){this.observer&&this.observer.removeListener(a)},notifyObserver:function(){this.observer&&this.observer.notify()},_query:function(a,b,d){b=b||this.node;var e=[];this._queryElements(c.Logical.getChildNodes(b),a,d,e);return e},_queryElements:function(a,b,c,d){for(var e=0,f=a.length,g;e<f&&(g=a[e]);e++)if(g.nodeType===Node.ELEMENT_NODE&&this._queryElement(g,b,c,d))return!0},_queryElement:function(a,b,d,e){var f=b(a);f&&e.push(a);if(d&&d(f))return f;this._queryElements(c.Logical.getChildNodes(a),
b,d,e)}};var e=a.CONTENT="content",f=a.factory=function(b){b=b||document;b.__domApi||(b.__domApi=new a.ctor(b));return b.__domApi};a.hasApi=function(a){return!!a.__domApi};a.ctor=a;Polymer.dom=function(b,c){return b instanceof Event?Polymer.EventApi.factory(b):a.factory(b,c)};b=Element.prototype;a.matchesSelector=b.matches||b.matchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector;return a}();
(function(){var a=Polymer.DomApi,b=a.factory,c=Polymer.TreeApi,d=Polymer.domInnerHTML.getInnerHTML,e=a.CONTENT;if(!Polymer.Settings.useShadow){var f=Element.prototype.cloneNode,g=Document.prototype.importNode;Polymer.Base.mixin(a.prototype,{_lazyDistribute:function(a){a.shadyRoot&&a.shadyRoot._distributionClean&&(a.shadyRoot._distributionClean=!1,Polymer.dom.addDebouncer(a.debounce("_distribute",a._distributeContent)))},appendChild:function(a){return this.insertBefore(a)},insertBefore:function(d,
f){if(f&&c.Logical.getParentNode(f)!==this.node)throw Error("The ref_node to be inserted before is not a child of this node");if(d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var g=c.Logical.getParentNode(d);g?(a.hasApi(g)&&b(g).notifyObserver(),this._removeNode(d)):this._removeOwnerShadyRoot(d)}this._addNode(d,f)||(f&&(f=f.localName===e?this._firstComposedNode(f):f),g=this.node._isShadyRoot?this.node.host:this.node,f?c.Composed.insertBefore(g,d,f):c.Composed.appendChild(g,d));this.notifyObserver();return d},
_addNode:function(a,b){var d=this.getOwnerRoot();if(d){var e=this._maybeAddInsertionPoint(a,this.node);d._invalidInsertionPoints||(d._invalidInsertionPoints=e);this._addNodeToHost(d.host,a)}c.Logical.hasChildNodes(this.node)&&c.Logical.recordInsertBefore(a,this.node,b);if(b=this._maybeDistribute(a)||this.node.shadyRoot)if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(;a.firstChild;)c.Composed.removeChild(a,a.firstChild);else(d=c.Composed.getParentNode(a))&&c.Composed.removeChild(d,a);return b},removeChild:function(a){if(c.Logical.getParentNode(a)!==
this.node)throw Error("The node to be removed is not a child of this node: "+a);if(!this._removeNode(a)){var b=this.node._isShadyRoot?this.node.host:this.node;b===c.Composed.getParentNode(a)&&c.Composed.removeChild(b,a)}this.notifyObserver();return a},_removeNode:function(a){var d=c.Logical.hasParentNode(a)&&c.Logical.getParentNode(a),e=this._ownerShadyRootForNode(a);if(d){var f=b(a)._maybeDistributeParent();c.Logical.recordRemoveChild(a,d);e&&this._removeDistributedChildren(e,a)&&(e._invalidInsertionPoints=
!0,this._lazyDistribute(e.host))}this._removeOwnerShadyRoot(a);e&&this._removeNodeFromHost(e.host,a);return f},replaceChild:function(a,b){this.insertBefore(a,b);this.removeChild(b);return a},_hasCachedOwnerRoot:function(a){return void 0!==a._ownerShadyRoot},getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(a){if(a){var b=a._ownerShadyRoot;void 0===b&&(b=a._isShadyRoot?a:(b=c.Logical.getParentNode(a))?b._isShadyRoot?b:this._ownerShadyRootForNode(b):
null,b||document.documentElement.contains(a))&&(a._ownerShadyRoot=b);return b}},_maybeDistribute:function(a){var d=a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!a.__noContent&&b(a).querySelector(e),f=d&&c.Logical.getParentNode(d).nodeType!==Node.DOCUMENT_FRAGMENT_NODE;(a=d||a.localName===e)&&(d=this.getOwnerRoot())&&this._lazyDistribute(d.host);(d=this._nodeNeedsDistribution(this.node))&&this._lazyDistribute(this.node);return d||a&&!f},_maybeAddInsertionPoint:function(a,d){if(a.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||
a.__noContent)a.localName===e&&(c.Logical.saveChildNodes(d),c.Logical.saveChildNodes(a),t=!0);else for(var f=b(a).querySelectorAll(e),g=0,h,l;g<f.length&&(h=f[g]);g++){l=c.Logical.getParentNode(h);l===a&&(l=d);l=this._maybeAddInsertionPoint(h,l);var t=t||l}return t},_updateInsertionPoints:function(a){a=a.shadyRoot._insertionPoints=b(a.shadyRoot).querySelectorAll(e);for(var d=0,f;d<a.length;d++)f=a[d],c.Logical.saveChildNodes(f),c.Logical.saveChildNodes(c.Logical.getParentNode(f))},_nodeNeedsDistribution:function(b){return b&&
b.shadyRoot&&a.hasInsertionPoint(b.shadyRoot)},_addNodeToHost:function(a,b){a._elementAdd&&a._elementAdd(b)},_removeNodeFromHost:function(a,b){a._elementRemove&&a._elementRemove(b)},_removeDistributedChildren:function(a,d){a=a._insertionPoints;for(var e=0;e<a.length;e++){var f=a[e];if(this._contains(d,f)){f=b(f).getDistributedNodes();for(var g=0;g<f.length;g++){var h=!0;var l=f[g],r=c.Composed.getParentNode(l);r&&c.Composed.removeChild(r,l)}}}return h},_contains:function(a,b){for(;b;){if(b==a)return!0;
b=c.Logical.getParentNode(b)}},_removeOwnerShadyRoot:function(a){if(this._hasCachedOwnerRoot(a))for(var b=c.Logical.getChildNodes(a),d=0,e=b.length,f;d<e&&(f=b[d]);d++)this._removeOwnerShadyRoot(f);a._ownerShadyRoot=void 0},_firstComposedNode:function(a){for(var c=b(a).getDistributedNodes(),d=0,e=c.length,f,g;d<e&&(f=c[d]);d++)if(g=b(f).getDestinationInsertionPoints(),g[g.length-1]===a)return f},querySelector:function(b){return this._query(function(c){return a.matchesSelector.call(c,b)},this.node,
function(a){return!!a})[0]||null},querySelectorAll:function(b){return this._query(function(c){return a.matchesSelector.call(c,b)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){for(;this.childNodes.length;)this.removeChild(this.childNodes[0])},setAttribute:function(a,b){this.node.setAttribute(a,b);this._maybeDistributeParent()},removeAttribute:function(a){this.node.removeAttribute(a);
this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode))return this._lazyDistribute(this.parentNode),!0},cloneNode:function(a){var c=f.call(this.node,!1);if(a){a=this.childNodes;for(var d=b(c),e=0,g;e<a.length;e++)g=b(a[e]).cloneNode(!0),d.appendChild(g)}return c},importNode:function(a,d){var e=this.node instanceof Document?this.node:this.node.ownerDocument,f=g.call(e,a,!1);if(d){a=c.Logical.getChildNodes(a);d=b(f);for(var h=0,l;h<a.length;h++)l=
b(e).importNode(a[h],!0),d.appendChild(l)}return f},_getComposedInnerHTML:function(){return d(this.node,!0)}});Object.defineProperties(a.prototype,{activeElement:{get:function(){var a=document.activeElement;if(!a)return null;var c=!!this.node._isShadyRoot;if(!(this.node===document||c&&this.node.host!==a&&this.node.host.contains(a)))return null;for(c=b(a).getOwnerRoot();c&&c!==this.node;)a=c.host,c=b(a).getOwnerRoot();return this.node===document?c?null:a:c===this.node?a:null},configurable:!0},childNodes:{get:function(){var a=
c.Logical.getChildNodes(this.node);return Array.isArray(a)?a:c.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return c.Logical.hasChildNodes(this.node)?Array.prototype.filter.call(this.childNodes,function(a){return a.nodeType===Node.ELEMENT_NODE}):c.arrayCopyChildren(this.node)},configurable:!0},parentNode:{get:function(){return c.Logical.getParentNode(this.node)},configurable:!0},firstChild:{get:function(){return c.Logical.getFirstChild(this.node)},configurable:!0},lastChild:{get:function(){return c.Logical.getLastChild(this.node)},
configurable:!0},nextSibling:{get:function(){return c.Logical.getNextSibling(this.node)},configurable:!0},previousSibling:{get:function(){return c.Logical.getPreviousSibling(this.node)},configurable:!0},firstElementChild:{get:function(){return c.Logical.getFirstElementChild(this.node)},configurable:!0},lastElementChild:{get:function(){return c.Logical.getLastElementChild(this.node)},configurable:!0},nextElementSibling:{get:function(){return c.Logical.getNextElementSibling(this.node)},configurable:!0},
previousElementSibling:{get:function(){return c.Logical.getPreviousElementSibling(this.node)},configurable:!0},textContent:{get:function(){var a=this.node.nodeType;if(a===Node.TEXT_NODE||a===Node.COMMENT_NODE)return this.node.textContent;a=[];for(var b=0,c=this.childNodes,d;d=c[b];b++)d.nodeType!==Node.COMMENT_NODE&&a.push(d.textContent);return a.join("")},set:function(a){var b=this.node.nodeType;b===Node.TEXT_NODE||b===Node.COMMENT_NODE?this.node.textContent=a:(this._clear(),a&&this.appendChild(document.createTextNode(a)))},
configurable:!0},innerHTML:{get:function(){var a=this.node.nodeType;return a===Node.TEXT_NODE||a===Node.COMMENT_NODE?null:d(this.node)},set:function(a){var b=this.node.nodeType;if(b!==Node.TEXT_NODE||b!==Node.COMMENT_NODE)for(this._clear(),b=document.createElement("div"),b.innerHTML=a,a=c.arrayCopyChildNodes(b),b=0;b<a.length;b++)this.appendChild(a[b])},configurable:!0}});a.hasInsertionPoint=function(a){return!(!a||!a._insertionPoints.length)}}})();
(function(){var a=Polymer.TreeApi,b=Polymer.DomApi;if(Polymer.Settings.useShadow){Polymer.Base.mixin(b.prototype,{querySelectorAll:function(b){return a.arrayCopy(this.node.querySelectorAll(b))},getOwnerRoot:function(){for(var a=this.node;a;){if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.host)return a;a=a.parentNode}},importNode:function(a,b){return(this.node instanceof Document?this.node:this.node.ownerDocument).importNode(a,b)},getDestinationInsertionPoints:function(){var b=this.node.getDestinationInsertionPoints&&
this.node.getDestinationInsertionPoints();return b?a.arrayCopy(b):[]},getDistributedNodes:function(){var b=this.node.getDistributedNodes&&this.node.getDistributedNodes();return b?a.arrayCopy(b):[]}});Object.defineProperties(b.prototype,{activeElement:{get:function(){var a=b.wrap(this.node),c=a.activeElement;return a.contains(c)?c:null},configurable:!0},childNodes:{get:function(){return a.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return a.arrayCopyChildren(this.node)},
configurable:!0},textContent:{get:function(){return this.node.textContent},set:function(a){return this.node.textContent=a},configurable:!0},innerHTML:{get:function(){return this.node.innerHTML},set:function(a){return this.node.innerHTML=a},configurable:!0}});var c=function(a){b.prototype[a]=function(){return this.node[a].apply(this.node,arguments)}};(function(a){for(var b=0;b<a.length;b++)c(a[b])})("cloneNode appendChild insertBefore removeChild replaceChild setAttribute removeAttribute querySelector".split(" "));
var d=function(a){Object.defineProperty(b.prototype,a,{get:function(){return this.node[a]},configurable:!0})};(function(a){for(var b=0;b<a.length;b++)d(a[b])})("parentNode firstChild lastChild nextSibling previousSibling firstElementChild lastElementChild nextElementSibling previousElementSibling".split(" "))}})();
Polymer.Base.mixin(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){this._flushGuard=0;for(this._prepareFlush();this._debouncers.length&&this._flushGuard<this._FLUSH_MAX;){for(;this._debouncers.length;)this._debouncers.shift().complete();this._finishDebouncer&&this._finishDebouncer.complete();this._prepareFlush();this._flushGuard++}this._flushGuard>=this._FLUSH_MAX&&console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},
_prepareFlush:function(){this._needsTakeRecords&&CustomElements.takeRecords();for(var a=0;a<this._staticFlushList.length;a++)this._staticFlushList[a]()},addStaticFlush:function(a){this._staticFlushList.push(a)},removeStaticFlush:function(a){a=this._staticFlushList.indexOf(a);0<=a&&this._staticFlushList.splice(a,1)},addDebouncer:function(a){this._debouncers.push(a);this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=[]}});
Polymer.EventApi=function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.Event=function(a){this.event=a};a.Event.prototype=b.useShadow?{get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var a=this.event.path;Array.isArray(a)||(a=Array.prototype.slice.call(a));return a}}:{get rootTarget(){return this.event.target},get localTarget(){var a=this.event.currentTarget;a=a&&Polymer.dom(a).getOwnerRoot();for(var b=this.path,e=0;e<b.length;e++)if(Polymer.dom(b[e]).getOwnerRoot()===
a)return b[e]},get path(){if(!this.event._path){for(var a=[],b=this.rootTarget;b;){a.push(b);var e=Polymer.dom(b).getDestinationInsertionPoints();if(e.length){for(b=0;b<e.length-1;b++)a.push(e[b]);b=e[e.length-1]}else b=Polymer.dom(b).parentNode||b.host}a.push(window);this.event._path=a}return this.event._path}};return{factory:function(b){b.__eventApi||(b.__eventApi=new a.Event(b));return b.__eventApi}}}();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings.useShadow;Object.defineProperty(a.prototype,"classList",{get:function(){this._classList||(this._classList=new a.ClassList(this));return this._classList},configurable:!0});a.ClassList=function(a){this.domApi=a;this.node=a.node};a.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments);this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,arguments);this._distributeParent()},
toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments);this._distributeParent()},_distributeParent:function(){b||this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}})();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.EffectiveNodesObserver=function(a){this.domApi=a;this.node=this.domApi.node;this._listeners=[]};a.EffectiveNodesObserver.prototype={addListener:function(a){this._isSetup||(this._setup(),this._isSetup=!0);a={fn:a,_nodes:[]};this._listeners.push(a);this._scheduleNotify();return a},removeListener:function(a){var b=this._listeners.indexOf(a);0<=b&&(this._listeners.splice(b,1),a._nodes=[]);this._hasListeners()||(this._cleanup(),this._isSetup=!1)},
_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return!!this._listeners.length},_scheduleNotify:function(){this._debouncer&&this._debouncer.stop();this._debouncer=Polymer.Debounce(this._debouncer,this._notify);this._debouncer.context=this;Polymer.dom.addDebouncer(this._debouncer)},notify:function(){this._hasListeners()&&this._scheduleNotify()},_notify:function(){this._beforeCallListeners();
this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)this._isContent(c)&&(c.__observeNodesMap=c.__observeNodesMap||new WeakMap,c.__observeNodesMap.has(this)||c.__observeNodesMap.set(this,this._observeContent(c)))},_observeContent:function(a){var b=this;a=Polymer.dom(a).observeNodes(function(){b._scheduleNotify()});
a._avoidChangeCalculation=!0;return a},_unobserveContentElements:function(a){for(var b=0,c,d;b<a.length&&(c=a[b]);b++)this._isContent(c)&&(d=c.__observeNodesMap.get(this))&&(Polymer.dom(c).unobserveNodes(d),c.__observeNodesMap.delete(this))},_isContent:function(a){return"content"===a.localName},_callListeners:function(){for(var a=this._listeners,b=this._getEffectiveNodes(),c=0,d;c<a.length&&(d=a[c]);c++){var l=this._generateListenerInfo(d,b);(l||d._alwaysNotify)&&this._callListener(d,l)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},
_generateListenerInfo:function(a,b){if(a._avoidChangeCalculation)return!0;for(var c={target:this.node,addedNodes:[],removedNodes:[]},d=Polymer.ArraySplice.calculateSplices(b,a._nodes),e=0,f;e<d.length&&(f=d[e]);e++)for(var n=0,q;n<f.removed.length&&(q=f.removed[n]);n++)c.removedNodes.push(q);e=0;for(f;e<d.length&&(f=d[e]);e++)for(n=f.index;n<f.index+f.addedCount;n++)c.addedNodes.push(b[n]);a._nodes=b;if(c.addedNodes.length||c.removedNodes.length)return c},_callListener:function(a,b){return a.fn.call(this.node,
b)},enableShadowAttributeTracking:function(){}};if(b.useShadow){var c=a.EffectiveNodesObserver.prototype._setup,d=a.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.mixin(a.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var a=this;this._mutationHandler=function(b){b&&b.length&&a._scheduleNotify()};this._observer=new MutationObserver(this._mutationHandler);this._boundFlush=function(){a._flush()};Polymer.dom.addStaticFlush(this._boundFlush);this._observer.observe(this.node,
{childList:!0})}c.call(this)},_cleanup:function(){this._observer.disconnect();this._mutationHandler=this._observer=null;Polymer.dom.removeStaticFlush(this._boundFlush);d.call(this)},_flush:function(){this._observer&&this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify();this._observer.disconnect();this._observer.observe(this.node,{childList:!0,attributes:!0,subtree:!0});var a=this.domApi.getOwnerRoot();
(a=a&&a.host)&&Polymer.dom(a).observer&&Polymer.dom(a).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var a=0,b;a<this._listeners.length;a++)b=this._listeners[a],b._alwaysNotify=b._isContentListener}})}})();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.DistributedNodesObserver=function(b){a.EffectiveNodesObserver.call(this,b)};a.DistributedNodesObserver.prototype=Object.create(a.EffectiveNodesObserver.prototype);Polymer.Base.mixin(a.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}});b.useShadow&&Polymer.Base.mixin(a.DistributedNodesObserver.prototype,{_setup:function(){if(!this._observer){var a=
this.domApi.getOwnerRoot();if(a=a&&a.host){var b=this;this._observer=Polymer.dom(a).observeNodes(function(){b._scheduleNotify()});this._observer._isContentListener=!0;this._hasAttrSelect()&&Polymer.dom(a).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var a=this.node.getAttribute("select");return a&&a.match(/[[.]+/)},_cleanup:function(){var a=this.domApi.getOwnerRoot();(a=a&&a.host)&&Polymer.dom(a).unobserveNodes(this._observer);this._observer=null}})})();
(function(){function a(a,b){b._distributedNodes.push(a);var c=a._destinationInsertionPoints;c?c.push(b):a._destinationInsertionPoints=[b]}function b(a){for(var b=d.Logical.getChildNodes(a),c=0,e;c<b.length;c++)if(e=b[c],e.localName&&"content"===e.localName)return a.domHost}var c=Polymer.DomApi,d=Polymer.TreeApi;Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||!!this._template},_setupShady:function(){this.shadyRoot=null;this.__domApi||(this.__domApi=null);this.__dom||
(this.__dom=null);this._ownerShadyRoot||(this._ownerShadyRoot=void 0)},_poolContent:function(){this._useContent&&d.Logical.saveChildNodes(this)},_setupRoot:function(){if(this._useContent&&(this._createLocalRoot(),!this.dataHost)){var a=d.Logical.getChildNodes(this);if(f&&a)for(var b=0;b<a.length;b++)CustomElements.upgrade(a[b])}},_createLocalRoot:function(){this.shadyRoot=this.root;this.shadyRoot._distributionClean=!1;this.shadyRoot._hasDistributed=!1;this.shadyRoot._isShadyRoot=!0;this.shadyRoot._dirtyRoots=
[];var a=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];d.Logical.saveChildNodes(this.shadyRoot);for(var b=0,c;b<a.length;b++)c=a[b],d.Logical.saveChildNodes(c),d.Logical.saveChildNodes(c.parentNode);this.shadyRoot.host=this},distributeContent:function(a){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||a;for(a=this;a&&b(a);)a=a.domHost;Polymer.dom(this)._lazyDistribute(a)}},_distributeContent:function(){this._useContent&&
!this.shadyRoot._distributionClean&&(this.shadyRoot._invalidInsertionPoints&&(Polymer.dom(this)._updateInsertionPoints(this),this.shadyRoot._invalidInsertionPoints=!1),this._beginDistribute(),this._distributeDirtyRoots(),this._finishDistribute())},_beginDistribute:function(){this._useContent&&c.hasInsertionPoint(this.shadyRoot)&&(this._resetDistribution(),this._distributePool(this.shadyRoot,this._collectPool()))},_distributeDirtyRoots:function(){for(var a=this.shadyRoot._dirtyRoots,b=0,c=a.length,
d;b<c&&(d=a[b]);b++)d._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){this.shadyRoot._distributionClean=!0;if(c.hasInsertionPoint(this.shadyRoot)){this._composeTree();for(var a=this.shadyRoot,b=0,e;b<a._insertionPoints.length;b++)e=a._insertionPoints[b],c.hasApi(e)&&Polymer.dom(e).notifyObserver()}else this.shadyRoot._hasDistributed?(a=this._composeNode(this),this._updateChildNodes(this,a)):(d.Composed.clearChildNodes(this),this.appendChild(this.shadyRoot));
this.shadyRoot._hasDistributed||c.hasApi(this)&&Polymer.dom(this).notifyObserver();this.shadyRoot._hasDistributed=!0}},elementMatches:function(a,b){return c.matchesSelector.call(b||this,a)},_resetDistribution:function(){for(var a=d.Logical.getChildNodes(this),b=0;b<a.length;b++){var c=a[b];c._destinationInsertionPoints&&(c._destinationInsertionPoints=void 0);if("content"==c.localName){var e=c._distributedNodes;if(e)for(var f=0;f<e.length;f++){var q=e[f]._destinationInsertionPoints;q&&q.splice(q.indexOf(c)+
1,q.length)}}}a=this.shadyRoot._insertionPoints;for(b=0;b<a.length;b++)a[b]._distributedNodes=[]},_collectPool:function(){for(var a=[],b=d.Logical.getChildNodes(this),c=0;c<b.length;c++){var e=b[c];"content"==e.localName?a.push.apply(a,e._distributedNodes):a.push(e)}return a},_distributePool:function(a,b){a=a._insertionPoints;for(var e=0,f=a.length,g;e<f&&(g=a[e]);e++){this._distributeInsertionPoint(g,b);var h=d.Logical.getParentNode(g);h&&h.shadyRoot&&c.hasInsertionPoint(h.shadyRoot)&&h.shadyRoot._distributionClean&&
(h.shadyRoot._distributionClean=!1,this.shadyRoot._dirtyRoots.push(h))}},_distributeInsertionPoint:function(b,c){for(var e=!1,f=0,g=c.length,h;f<g;f++)(h=c[f])&&this._matchesContentSelect(h,b)&&(a(h,b),c[f]=void 0,e=!0);if(!e)for(c=d.Logical.getChildNodes(b),e=0;e<c.length;e++)a(c[e],b)},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));for(var a=this.shadyRoot._insertionPoints,b=0,c=a.length,e,f;b<c&&(e=a[b]);b++)f=d.Logical.getParentNode(e),f._useContent||f===this||f===
this.shadyRoot||this._updateChildNodes(f,this._composeNode(f))},_composeNode:function(a){var b=[];a=d.Logical.getChildNodes(a.shadyRoot||a);for(var c=0;c<a.length;c++){var e=a[c];if("content"==e.localName)for(var f=e._distributedNodes,g=0;g<f.length;g++){var p=f[g],t=p._destinationInsertionPoints;t&&t[t.length-1]===e&&b.push(p)}else b.push(e)}return b},_updateChildNodes:function(a,b){for(var c=d.Composed.getChildNodes(a),e=Polymer.ArraySplice.calculateSplices(b,c),f=0,g=0,h;f<e.length&&(h=e[f]);f++){for(var t=
0,r;t<h.removed.length&&(r=h.removed[t]);t++)d.Composed.getParentNode(r)===a&&d.Composed.removeChild(a,r),c.splice(h.index+g,1);g-=h.addedCount}for(f=0;f<e.length&&(h=e[f]);f++)for(g=c[h.index],t=h.index,r;t<h.index+h.addedCount;t++)r=b[t],d.Composed.insertBefore(a,r,g),c.splice(t,0,r)},_matchesContentSelect:function(a,b){b=b.getAttribute("select");return b?(b=b.trim())?a instanceof Element&&/^(:not\()?[*.#[a-zA-Z_|]/.test(b)?this.elementMatches(b,a):!1:!0:!0},_elementAdd:function(){},_elementRemove:function(){}});
var e={get:function(){var a=Polymer.dom(this).getOwnerRoot();return a&&a.host},configurable:!0};Object.defineProperty(Polymer.Base,"domHost",e);Polymer.BaseDescriptors.domHost=e;var f=window.CustomElements&&!CustomElements.useNative})();
Polymer.Settings.useShadow&&Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot();this.shadowRoot.appendChild(this.root);this.root=this.shadowRoot}});
Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(a,b){if(0<b)return~setTimeout(a,b);this._twiddle.textContent=this._twiddleContent++;this._callbacks.push(a);return this._currVal++},cancel:function(a){if(0>a)clearTimeout(~a);else{var b=a-this._lastVal;if(0<=b){if(!this._callbacks[b])throw"invalid async handle: "+a;this._callbacks[b]=null}}},_atEndOfMicrotask:function(){for(var a=this._callbacks.length,b=0;b<a;b++){var c=this._callbacks[b];
if(c)try{c()}catch(d){throw b++,this._callbacks.splice(0,b),this._lastVal+=b,this._twiddle.textContent=this._twiddleContent++,d;}}this._callbacks.splice(0,a);this._lastVal+=a}};(new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()})).observe(Polymer.Async._twiddle,{characterData:!0});
Polymer.Debounce=function(){function a(a){this.context=a;var b=this;this.boundComplete=function(){b.complete()}}var b=Polymer.Async;a.prototype={go:function(a,d){this.finish=function(){b.cancel(c)};var c=b.run(this.boundComplete,d);this.callback=a},stop:function(){this.finish&&(this.finish(),this.callback=this.finish=null)},complete:function(){if(this.finish){var a=this.callback;this.stop();a.call(this.context)}}};return function(b,d,e){b?b.stop():b=new a(this);b.go(d,e);return b}}();
Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(a,b,c){return this._debouncers[a]=Polymer.Debounce.call(this,this._debouncers[a],b,c)},isDebouncerActive:function(a){a=this._debouncers[a];return!(!a||!a.finish)},flushDebouncer:function(a){(a=this._debouncers[a])&&a.complete()},cancelDebouncer:function(a){(a=this._debouncers[a])&&a.stop()}});Polymer.DomModule=document.createElement("dom-module");
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepTemplate();this._prepShady();this._prepPropertyInfo()},_prepBehavior:function(a){this._addHostAttributes(a.hostAttributes)},_initFeatures:function(){this._registerHost();this._template&&(this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting());this._marshalHostAttributes();this._setupDebouncers();this._marshalBehaviors();this._tryReady()},_marshalBehavior:function(){}});
</script>






<script>//~~WEBPATH~~/polymer/polymer.html.js
(function(){Polymer.nar=[];var a=Polymer.Settings.disableUpgradeEnabled;Polymer.Annotations={parseAnnotations:function(a,c){var b=[];this._parseNodeAnnotations(a._content||a.content,b,c||a.hasAttribute("strip-whitespace"));return b},_parseNodeAnnotations:function(a,c,d){return a.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(a,c):this._parseElementAnnotations(a,c,d)},_bindingRegex:/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*)(?:,\s*(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*))*)?)\)\s*)?)(?:]]|}})/g,
_parseBindings:function(a){for(var b=this._bindingRegex,d=[],e=0,f;null!==(f=b.exec(a));){f.index>e&&d.push({literal:a.slice(e,f.index)});e=f[1][0];var g=!!f[2];f=f[3].trim();var h;if("{"==e&&0<(h=f.indexOf("::"))){var l=f.substring(h+2);f=f.substring(0,h);var m=!0}d.push({compoundIndex:d.length,value:f,mode:e,negate:g,event:l,customEvent:m});e=b.lastIndex}e&&e<a.length&&(a=a.substring(e))&&d.push({literal:a});if(d.length)return d},_literalFromParts:function(a){for(var b="",d=0;d<a.length;d++)b+=
a[d].literal||"";return b},_parseTextNodeAnnotation:function(a,c){var b=this._parseBindings(a.textContent);if(b)return a.textContent=this._literalFromParts(b)||" ",a={bindings:[{kind:"text",name:"textContent",parts:b,isCompound:1!==b.length}]},c.push(a),a},_parseElementAnnotations:function(a,c,d){var b={bindings:[],events:[]};"content"===a.localName&&(c._hasContent=!0);this._parseChildNodesAnnotations(a,b,c,d);a.attributes&&(this._parseNodeAttributeAnnotations(a,b,c),this.prepElement&&this.prepElement(a));
(b.bindings.length||b.events.length||b.id)&&c.push(b);return b},_parseChildNodesAnnotations:function(a,c,d,e){if(a.firstChild)for(var b=a.firstChild,g=0;b;){var h=b.nextSibling;"template"!==b.localName||b.hasAttribute("preserve-content")||this._parseTemplate(b,g,d,c,e);"slot"==b.localName&&(b=this._replaceSlotWithContent(b));if(b.nodeType===Node.TEXT_NODE){for(var l=h;l&&l.nodeType===Node.TEXT_NODE;)b.textContent+=l.textContent,h=l.nextSibling,a.removeChild(l),l=h;e&&!b.textContent.trim()&&(a.removeChild(b),
g--)}b.parentNode&&(b=this._parseNodeAnnotations(b,d,e))&&(b.parent=c,b.index=g);b=h;g++}},_replaceSlotWithContent:function(a){for(var b=a.ownerDocument.createElement("content");a.firstChild;)b.appendChild(a.firstChild);for(var d=a.attributes,e=0;e<d.length;e++){var f=d[e];b.setAttribute(f.name,f.value)}(d=a.getAttribute("name"))&&b.setAttribute("select","[slot\x3d'"+d+"']");a.parentNode.replaceChild(b,a);return b},_parseTemplate:function(a,c,d,e,f){var b=document.createDocumentFragment();b._notes=
this.parseAnnotations(a,f);b.appendChild(a.content);d.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:b,parent:e,index:c})},_parseNodeAttributeAnnotations:function(a,c){for(var b=Array.prototype.slice.call(a.attributes),e=b.length-1,f;f=b[e];e--){var g=f.name;f=f.value;var h;"on-"===g.slice(0,3)?(a.removeAttribute(g),c.events.push({name:g.slice(3),value:f})):(h=this._parseNodeAttributeAnnotation(a,g,f))?c.bindings.push(h):"id"===g&&(c.id=f)}},_parseNodeAttributeAnnotation:function(b,
c,d){if(d=this._parseBindings(d)){var e=c,f="property";"$"==c[c.length-1]&&(c=c.slice(0,-1),f="attribute");var g=this._literalFromParts(d);g&&"attribute"==f&&b.setAttribute(c,g);"input"===b.localName&&"value"===e&&b.setAttribute(e,"");a&&"disable-upgrade$"===e&&b.setAttribute(c,"");b.removeAttribute(e);b=Polymer.CaseMap.dashToCamelCase(c);"property"===f&&(c=b);return{kind:f,name:c,propertyName:b,parts:d,literal:g,isCompound:1!==d.length}}},findAnnotatedNode:function(a,c){var b=c.parent&&Polymer.Annotations.findAnnotatedNode(a,
c.parent);if(b)for(a=b.firstChild,b=0;a;a=a.nextSibling){if(c.index===b++)return a}else return a}}})();Polymer.Path={root:function(a){var b=a.indexOf(".");return-1===b?a:a.slice(0,b)},isDeep:function(a){return-1!==a.indexOf(".")},isAncestor:function(a,b){return 0===a.indexOf(b+".")},isDescendant:function(a,b){return 0===b.indexOf(a+".")},translate:function(a,b,c){return b+c.slice(a.length)},matches:function(a,b,c){return a===c||this.isAncestor(a,c)||!!b&&this.isDescendant(a,c)}};
Polymer.Base._addFeature({_prepAnnotations:function(){if(this._template){var a=this;Polymer.Annotations.prepElement=function(b){a._prepElement(b)};this._template._content&&this._template._content._notes?this._notes=this._template._content._notes:(this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes));Polymer.Annotations.prepElement=null}else this._notes=[]},_processAnnotations:function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.bindings.length;d++)for(var e=
c.bindings[d],f=0;f<e.parts.length;f++){var g=e.parts[f];if(!g.literal){var h=this._parseMethod(g.value);h?g.signature=h:g.model=Polymer.Path.root(g.value)}}if(c.templateContent){this._processAnnotations(c.templateContent._notes);e=c.templateContent._parentProps=this._discoverTemplateParentProps(c.templateContent._notes);d=[];for(var l in e)e="_parent_"+l,d.push({index:c.index,kind:"property",name:e,propertyName:e,parts:[{mode:"{",model:l,value:l}]});c.bindings=c.bindings.concat(d)}}},_discoverTemplateParentProps:function(a){for(var b=
{},c=0,d;c<a.length&&(d=a[c]);c++){for(var e=0,f=d.bindings,g;e<f.length&&(g=f[e]);e++)for(var h=0,l=g.parts,m;h<l.length&&(m=l[h]);h++)if(m.signature){for(var n=m.signature.args,q=0;q<n.length;q++){var p=n[q].model;p&&(b[p]=!0)}m.signature.dynamicFn&&(b[m.signature.method]=!0)}else m.model&&(b[m.model]=!0);d.templateContent&&Polymer.Base.mixin(b,d.templateContent._parentProps)}return b},_prepElement:function(a){Polymer.ResolveUrl.resolveAttrs(a,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,
_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){for(var a=this._notes,b=this._nodes,c=0;c<a.length;c++){var d=a[c],e=b[c];this._configureTemplateContent(d,e);this._configureCompoundBindings(d,e)}},_configureTemplateContent:function(a,b){a.templateContent&&(b._content=a.templateContent)},_configureCompoundBindings:function(a,b){a=a.bindings;for(var c=0;c<a.length;c++){var d=
a[c];if(d.isCompound){for(var e=b.__compoundStorage__||(b.__compoundStorage__={}),f=d.parts,g=Array(f.length),h=0;h<f.length;h++)g[h]=f[h].literal;f=d.name;e[f]=g;d.literal&&"property"==d.kind&&(b._configValue?b._configValue(f,d.literal):b[f]=d.literal)}}},_marshalIdNodes:function(){this.$={};for(var a=0,b=this._notes.length,c;a<b&&(c=this._notes[a]);a++)c.id&&(this.$[c.id]=this._findAnnotatedNode(this.root,c))},_marshalAnnotatedNodes:function(){if(this._notes&&this._notes.length){for(var a=Array(this._notes.length),
b=0;b<this._notes.length;b++)a[b]=this._findAnnotatedNode(this.root,this._notes[b]);this._nodes=a}},_marshalAnnotatedListeners:function(){for(var a=0,b=this._notes.length,c;a<b&&(c=this._notes[a]);a++)if(c.events&&c.events.length)for(var d=this._findAnnotatedNode(this.root,c),e=0,f=c.events,g;e<f.length&&(g=f[e]);e++)this.listen(d,g.name,g.value)}});
Polymer.Base._addFeature({listeners:{},_listenListeners:function(a){var b;for(b in a){if(0>b.indexOf(".")){var c=this;var d=b}else d=b.split("."),c=this.$[d[0]],d=d[1];this.listen(c,d,a[b])}},listen:function(a,b,c){var d=this._recallEventHandler(this,b,a,c);d||(d=this._createEventHandler(a,b,c));d._listening||(this._listen(a,b,d),d._listening=!0)},_boundListenerKey:function(a,b){return a+":"+b},_recordEventHandler:function(a,b,c,d,e){var f=a.__boundListeners;f||(f=a.__boundListeners=new WeakMap);
a=f.get(c);a||(a={},Polymer.Settings.isIE&&c==window||f.set(c,a));a[this._boundListenerKey(b,d)]=e},_recallEventHandler:function(a,b,c,d){if(a=a.__boundListeners)if(c=a.get(c))return c[this._boundListenerKey(b,d)]},_createEventHandler:function(a,b,c){function d(a){if(e[c])e[c](a,a.detail);else e._warn(e._logf("_createEventHandler","listener method `"+c+"` not defined"))}var e=this;d._listening=!1;this._recordEventHandler(e,b,a,c,d);return d},unlisten:function(a,b,c){if(c=this._recallEventHandler(this,
b,a,c))this._unlisten(a,b,c),c._listening=!1},_listen:function(a,b,c){a.addEventListener(b,c)},_unlisten:function(a,b,c){a.removeEventListener(b,c)}});
(function(){function a(a){var b=a.sourceCapabilities;if(!b||b.firesTouchEvents)if(a.__polymerGesturesHandled={skip:!0},"click"===a.type){if(b=Polymer.dom(a).path)for(var c=0;c<b.length;c++)if(b[c]===t.mouse.target)return;a.preventDefault();a.stopPropagation()}}function b(a){if(!(-1<l.indexOf(a))&&"touchend"!==a&&h&&q&&Polymer.Settings.passiveTouchGestures)return{passive:!0}}function c(b){for(var c=p?["click"]:l,d=0,e;d<c.length;d++)e=c[d],b?document.addEventListener(e,a,!0):document.removeEventListener(e,
a,!0)}function d(a){var b=a.type;return-1<l.indexOf(b)?"mousemove"===b?(b=void 0===a.buttons?1:a.buttons,a instanceof window.MouseEvent&&!n&&(b=m[a.which]||0),!!(b&1)):0===(void 0===a.button?0:a.button):!1}function e(a,b,c){a.movefn=b;a.upfn=c;document.addEventListener("mousemove",b);document.addEventListener("mouseup",c)}function f(a){document.removeEventListener("mousemove",a.movefn);document.removeEventListener("mouseup",a.upfn);a.movefn=null;a.upfn=null}var g=Polymer.DomApi.wrap,h="string"===
typeof document.head.style.touchAction,l=["mousedown","mousemove","mouseup","click"],m=[0,1,4,2];try{var n=1===(new MouseEvent("test",{buttons:1})).buttons}catch(v){n=!1}var q=!1;(function(){try{var a=Object.defineProperty({},"passive",{get:function(){q=!0}});window.addEventListener("test",null,a);window.removeEventListener("test",null,a)}catch(y){}})();var p=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),t={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};document.addEventListener("touchend",
function(a){t.mouse.mouseIgnoreJob||c(!0);t.mouse.target=Polymer.dom(a).rootTarget;t.mouse.mouseIgnoreJob=Polymer.Debounce(t.mouse.mouseIgnoreJob,function(){c();t.mouse.target=null;t.mouse.mouseIgnoreJob=null},2500)},q?{passive:!0}:!1);var r={gestures:{},recognizers:[],deepTargetFind:function(a,b){for(var c=document.elementFromPoint(a,b),d=c;d&&d.shadowRoot;)(d=d.shadowRoot.elementFromPoint(a,b))&&(c=d);return c},findOriginalTarget:function(a){return a.path?a.path[0]:a.target},handleNative:function(a){var b=
a.type,c=g(a.currentTarget).__polymerGestures;if(c&&(c=c[b])){if(!a.__polymerGesturesHandled&&(a.__polymerGesturesHandled={},"touch"===b.slice(0,5))){var d=a.changedTouches[0];"touchstart"===b&&1===a.touches.length&&(t.touch.id=d.identifier);if(t.touch.id!==d.identifier)return;h||("touchstart"===b||"touchmove"===b)&&r.handleTouchAction(a)}d=a.__polymerGesturesHandled;if(!d.skip){for(var e=r.recognizers,f=0,l;f<e.length;f++)l=e[f],c[l.name]&&!d[l.name]&&l.flow&&-1<l.flow.start.indexOf(a.type)&&l.reset&&
l.reset();f=0;for(l;f<e.length;f++)l=e[f],c[l.name]&&!d[l.name]&&(d[l.name]=!0,l[b](a))}}},handleTouchAction:function(a){var b=a.changedTouches[0],c=a.type;if("touchstart"===c)t.touch.x=b.clientX,t.touch.y=b.clientY,t.touch.scrollDecided=!1;else if("touchmove"===c&&!t.touch.scrollDecided){t.touch.scrollDecided=!0;c=Polymer.dom(a).path;for(var d="auto",e=0,f;e<c.length;e++)if(f=c[e],f.__polymerGesturesTouchAction){d=f.__polymerGesturesTouchAction;break}c=d;d=!1;e=Math.abs(t.touch.x-b.clientX);b=Math.abs(t.touch.y-
b.clientY);a.cancelable&&("none"===c?d=!0:"pan-x"===c?d=b>e:"pan-y"===c&&(d=e>b));d?a.preventDefault():r.prevent("track")}},add:function(a,c,d){a=g(a);var e=this.gestures[c],f=e.deps,h=e.name,m=a.__polymerGestures;m||(a.__polymerGestures=m={});for(var n=0,q,r;n<f.length;n++)q=f[n],p&&-1<l.indexOf(q)&&"click"!==q||((r=m[q])||(m[q]=r={_count:0}),0===r._count&&a.addEventListener(q,this.handleNative,b(q)),r[h]=(r[h]||0)+1,r._count=(r._count||0)+1);a.addEventListener(c,d);e.touchAction&&this.setTouchAction(a,
e.touchAction)},remove:function(a,c,d){a=g(a);var e=this.gestures[c],f=e.deps;e=e.name;var h=a.__polymerGestures;if(h)for(var l=0,m,n;l<f.length;l++)m=f[l],(n=h[m])&&n[e]&&(n[e]=(n[e]||1)-1,n._count=(n._count||1)-1,0===n._count&&a.removeEventListener(m,this.handleNative,b(m)));a.removeEventListener(c,d)},register:function(a){this.recognizers.push(a);for(var b=0;b<a.emits.length;b++)this.gestures[a.emits[b]]=a},findRecognizerByEvent:function(a){for(var b=0,c;b<this.recognizers.length;b++){c=this.recognizers[b];
for(var d=0,e;d<c.emits.length;d++)if(e=c.emits[d],e===a)return c}return null},setTouchAction:function(a,b){h&&(a.style.touchAction=b);a.__polymerGesturesTouchAction=b},fire:function(a,b,c){Polymer.Base.fire(b,c,{node:a,bubbles:!0,cancelable:!0}).defaultPrevented&&(a=c.preventer||c.sourceEvent)&&a.preventDefault&&a.preventDefault()},prevent:function(a){a=this.findRecognizerByEvent(a);a.info&&(a.info.prevent=!0)},resetMouseCanceller:function(){t.mouse.mouseIgnoreJob&&t.mouse.mouseIgnoreJob.complete()}};
r.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){f(this.info)},mousedown:function(a){if(d(a)){var b=r.findOriginalTarget(a),c=this;e(this.info,function(a){d(a)||(c.fire("up",b,a),f(c.info))},function(a){d(a)&&c.fire("up",b,a);f(c.info)});this.fire("down",b,a)}},touchstart:function(a){this.fire("down",r.findOriginalTarget(a),a.changedTouches[0],a)},
touchend:function(a){this.fire("up",r.findOriginalTarget(a),a.changedTouches[0],a)},fire:function(a,b,c,d){r.fire(b,a,{x:c.clientX,y:c.clientY,sourceEvent:c,preventer:d,prevent:function(a){return r.prevent(a)}})}});r.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(a){2<this.moves.length&&this.moves.shift();
this.moves.push(a)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start";this.info.started=!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;f(this.info)},hasMovedEnough:function(a,b){if(this.info.prevent)return!1;if(this.info.started)return!0;b=Math.abs(this.info.y-b);return 5<=Math.abs(this.info.x-a)||5<=b},mousedown:function(a){if(d(a)){var b=r.findOriginalTarget(a),c=this,g=function(a){var e=a.clientX,g=a.clientY;c.hasMovedEnough(e,g)&&(c.info.state=
c.info.started?"mouseup"===a.type?"end":"track":"start","start"===c.info.state&&r.prevent("tap"),c.info.addMove({x:e,y:g}),d(a)||(c.info.state="end",f(c.info)),c.fire(b,a),c.info.started=!0)};e(this.info,g,function(a){c.info.started&&g(a);f(c.info)});this.info.x=a.clientX;this.info.y=a.clientY}},touchstart:function(a){a=a.changedTouches[0];this.info.x=a.clientX;this.info.y=a.clientY},touchmove:function(a){var b=r.findOriginalTarget(a);a=a.changedTouches[0];var c=a.clientX,d=a.clientY;this.hasMovedEnough(c,
d)&&("start"===this.info.state&&r.prevent("tap"),this.info.addMove({x:c,y:d}),this.fire(b,a),this.info.state="track",this.info.started=!0)},touchend:function(a){var b=r.findOriginalTarget(a),c=a.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:c.clientX,y:c.clientY}),this.fire(b,c,a))},fire:function(a,b,c){var d=this.info.moves[this.info.moves.length-2],e=this.info.moves[this.info.moves.length-1],f=e.x-this.info.x,g=e.y-this.info.y,h=0;if(d){var l=e.x-d.x;h=e.y-d.y}return r.fire(a,
"track",{state:this.info.state,x:b.clientX,y:b.clientY,dx:f,dy:g,ddx:l,ddy:h,sourceEvent:b,preventer:c,hover:function(){return r.deepTargetFind(b.clientX,b.clientY)}})}});r.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},save:function(a){this.info.x=a.clientX;this.info.y=a.clientY},mousedown:function(a){d(a)&&
this.save(a)},click:function(a){d(a)&&this.forward(a)},touchstart:function(a){this.save(a.changedTouches[0],a)},touchend:function(a){this.forward(a.changedTouches[0],a)},forward:function(a,b){var c=Math.abs(a.clientX-this.info.x),d=Math.abs(a.clientY-this.info.y),e=r.findOriginalTarget(a);if(!(c=isNaN(c)||isNaN(d)||25>=c&&25>=d))if("click"===a.type)if(0===a.detail)c=!0;else{c=r.findOriginalTarget(a).getBoundingClientRect();d=a.pageX;var f=a.pageY;c=!(d>=c.left&&d<=c.right&&f>=c.top&&f<=c.bottom)}else c=
!1;c&&(this.info.prevent||r.fire(e,"tap",{x:a.clientX,y:a.clientY,sourceEvent:a,preventer:b}))}});var w={x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=null},_listen:function(a,b,c){r.gestures[b]?r.add(a,b,c):a.addEventListener(b,c)},_unlisten:function(a,b,c){r.gestures[b]?r.remove(a,b,c):a.removeEventListener(b,c)},setScrollDirection:function(a,b){r.setTouchAction(b||this,w[a]||"auto")}});Polymer.Gestures=r})();
(function(){Polymer.Base._addFeature({$$:function(a){return Polymer.dom(this.root).querySelector(a)},toggleClass:function(a,c,d){d=d||this;1==arguments.length&&(c=!d.classList.contains(a));c?Polymer.dom(d).classList.add(a):Polymer.dom(d).classList.remove(a)},toggleAttribute:function(a,c,d){d=d||this;1==arguments.length&&(c=!d.hasAttribute(a));c?Polymer.dom(d).setAttribute(a,""):Polymer.dom(d).removeAttribute(a)},classFollows:function(a,c,d){d&&Polymer.dom(d).classList.remove(a);c&&Polymer.dom(c).classList.add(a)},
attributeFollows:function(a,c,d){d&&Polymer.dom(d).removeAttribute(a);c&&Polymer.dom(c).setAttribute(a,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){return Polymer.dom(this).getEffectiveChildNodes().filter(function(a){return a.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){for(var a=this.getEffectiveChildNodes(),c=[],d=0,e;e=a[d];d++)e.nodeType!==Node.COMMENT_NODE&&c.push(Polymer.dom(e).textContent);return c.join("")},
queryEffectiveChildren:function(a){return(a=Polymer.dom(this).queryDistributedElements(a))&&a[0]},queryAllEffectiveChildren:function(a){return Polymer.dom(this).queryDistributedElements(a)},getContentChildNodes:function(a){return(a=Polymer.dom(this.root).querySelector(a||"content"))?Polymer.dom(a).getDistributedNodes():[]},getContentChildren:function(a){return this.getContentChildNodes(a).filter(function(a){return a.nodeType===Node.ELEMENT_NODE})},fire:function(a,c,d){d=d||Polymer.nob;var b=d.node||
this;c=null===c||void 0===c?{}:c;var f=d._useCache;d=this._getEvent(a,void 0===d.bubbles?!0:d.bubbles,!!d.cancelable,f);d.detail=c;f&&(this.__eventCache[a]=null);b.dispatchEvent(d);f&&(this.__eventCache[a]=d);return d},__eventCache:{},_getEvent:function(a,c,d,e){(e=e&&this.__eventCache[a])&&e.bubbles==c&&e.cancelable==d||(e=new Event(a,{bubbles:!!c,cancelable:d}));return e},async:function(a,c){var b=this;return Polymer.Async.run(function(){a.call(b)},c)},cancelAsync:function(a){Polymer.Async.cancel(a)},
arrayDelete:function(a,c){if(Array.isArray(a)){if(c=a.indexOf(c),0<=c)return a.splice(c,1)}else if(c=this._get(a).indexOf(c),0<=c)return this.splice(a,c,1)},transform:function(a,c){c=c||this;c.style.webkitTransform=a;c.style.transform=a},translate3d:function(a,c,d,e){this.transform("translate3d("+a+","+c+","+d+")",e||this)},importHref:function(a,c,d,e){function b(a){a.target.__firedError=!0;a.target.removeEventListener("load",g);a.target.removeEventListener("error",b);return d.call(n,a)}function g(a){a.target.__firedLoad=
!0;a.target.removeEventListener("load",g);a.target.removeEventListener("error",b);return c.call(n,a)}var h=document.createElement("link");h.rel="import";h.href=a;a=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{};var l=a[h.href],m=l||h,n=this;c&&m.addEventListener("load",g);d&&m.addEventListener("error",b);l?(l.__firedLoad&&l.dispatchEvent(new Event("load")),l.__firedError&&l.dispatchEvent(new Event("error"))):(a[h.href]=h,e&&h.setAttribute("async",""),document.head.appendChild(h));
return m},create:function(a,c){a=document.createElement(a);if(c)for(var b in c)a[b]=c[b];return a},isLightDescendant:function(a){return this!==a&&this.contains(a)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(a).getOwnerRoot()},isLocalDescendant:function(a){return this.root===Polymer.dom(a).getOwnerRoot()}});if(!Polymer.Settings.useNativeCustomElements){var a=Polymer.Base.importHref;Polymer.Base.importHref=function(b,c,d,e){CustomElements.ready=!1;return a.call(this,b,function(a){CustomElements.upgradeDocumentTree(document);
CustomElements.ready=!0;if(c)return c.call(this,a)},d,e)}}})();
Polymer.Bind={prepareModel:function(a){Polymer.Base.mixin(a,this._modelApi)},_modelApi:{_notifyChange:function(a,b,c){c=void 0===c?this[a]:c;b=b||Polymer.CaseMap.camelToDashCase(a)+"-changed";this.fire(b,{value:c},{bubbles:!1,cancelable:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_propertySetter:function(a,b,c,d){var e=this.__data__[a];e===b||e!==e&&b!==b||(this.__data__[a]=b,"object"==typeof b&&this._clearPath(a),this._propertyChanged&&this._propertyChanged(a,b,e),c&&
this._effectEffects(a,b,c,e,d));return e},__setProperty:function(a,b,c,d){d=d||this;var e=d._propertyEffects&&d._propertyEffects[a];e?d._propertySetter(a,b,e,c):d[a]!==b&&(d[a]=b)},_effectEffects:function(a,b,c,d,e){b=0;for(var f=c.length,g;b<f&&(g=c[b]);b++)g.fn.call(this,a,this[a],g.effect,d,e)},_clearPath:function(a){for(var b in this.__data__)Polymer.Path.isDescendant(a,b)&&(this.__data__[b]=void 0)}},ensurePropertyEffects:function(a,b){a._propertyEffects||(a._propertyEffects={});var c=a._propertyEffects[b];
c||(c=a._propertyEffects[b]=[]);return c},addPropertyEffect:function(a,b,c,d){a=this.ensurePropertyEffects(a,b);c={kind:c,effect:d,fn:Polymer.Bind["_"+c+"Effect"]};a.push(c);return c},createBindings:function(a){var b=a._propertyEffects;if(b)for(var c in b){var d=b[c];d.sort(this._sortPropertyEffects);this._createAccessors(a,c,d)}},_sortPropertyEffects:function(){var a={compute:0,annotation:1,annotatedComputation:2,reflect:3,notify:4,observer:5,complexObserver:6,"function":7};return function(b,c){return a[b.kind]-
a[c.kind]}}(),_createAccessors:function(a,b,c){function d(a){this._propertySetter(b,a,c)}var e={get:function(){return this.__data__[b]}},f=a.getPropertyInfo&&a.getPropertyInfo(b);f&&f.readOnly?f.computed||(a["_set"+this.upper(b)]=d):e.set=d;Object.defineProperty(a,b,e)},upper:function(a){return a[0].toUpperCase()+a.substring(1)},_addAnnotatedListener:function(a,b,c,d,e,f){a._bindListeners||(a._bindListeners=[]);f=this._notedListenerFactory(c,d,Polymer.Path.isDeep(d),f);e=e||Polymer.CaseMap.camelToDashCase(c)+
"-changed";a._bindListeners.push({index:b,property:c,path:d,changedFn:f,event:e})},_isEventBogus:function(a,b){return a.path&&a.path[0]!==b},_notedListenerFactory:function(a,b,c,d){return function(e,f,g){g?(e=Polymer.Path.translate(a,b,g),this._notifyPath(e,f)):(f=e[a],d&&(f=!f),c?this.__data__[b]!=f&&this.set(b,f):this[b]=f)}},prepareInstance:function(a){a.__data__=Object.create(null)},setupBindListeners:function(a){for(var b=a._bindListeners,c=0,d=b.length,e;c<d&&(e=b[c]);c++)this._addNotifyListener(a._nodes[e.index],
a,e.event,e.changedFn)},_addNotifyListener:function(a,b,c,d){a.addEventListener(c,function(a){return b._notifyListener(d,a)})}};
Polymer.Base.mixin(Polymer.Bind,{_shouldAddListener:function(a){return a.name&&"attribute"!=a.kind&&"text"!=a.kind&&!a.isCompound&&"{"===a.parts[0].mode},_annotationEffect:function(a,b,c){a!=c.value&&(b=this._get(c.value),this.__data__[c.value]=b);this._applyEffectValue(c,b)},_reflectEffect:function(a,b,c){this.reflectPropertyToAttribute(a,c.attribute,b)},_notifyEffect:function(a,b,c,d,e){e||this._notifyChange(a,c.event,b)},_functionEffect:function(a,b,c,d,e){c.call(this,a,b,d,e)},_observerEffect:function(a,
b,c,d){(a=this[c.method])?a.call(this,b,d):this._warn(this._logf("_observerEffect","observer method `"+c.method+"` not defined"))},_complexObserverEffect:function(a,b,c){var d=this[c.method];d?(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))&&d.apply(this,a):c.dynamicFn||this._warn(this._logf("_complexObserverEffect","observer method `"+c.method+"` not defined"))},_computeEffect:function(a,b,c){var d=this[c.method];if(d){if(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))d=d.apply(this,a),this.__setProperty(c.name,
d)}else c.dynamicFn||this._warn(this._logf("_computeEffect","compute method `"+c.method+"` not defined"))},_annotatedComputationEffect:function(a,b,c){var d=this._rootDataHost||this,e=d[c.method];if(e){if(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))d=e.apply(d,a),this._applyEffectValue(c,d)}else c.dynamicFn||d._warn(d._logf("_annotatedComputationEffect","compute method `"+c.method+"` not defined"))},_marshalArgs:function(a,b,c,d){var e=[],f=b.args;b=1<f.length||b.dynamicFn;for(var g=0,h=f.length;g<
h;g++){var l=f[g],m=l.name;if(l.literal)var n=l.value;else c===m?n=d:(n=a[m],void 0===n&&l.structured&&(n=Polymer.Base._get(m,a)));if(b&&void 0===n)return;l.wildcard?(l=Polymer.Path.isAncestor(c,m),e[g]={path:l?c:m,value:l?d:n,base:n}):e[g]=n}return e}});
Polymer.Base._addFeature({_addPropertyEffect:function(a,b,c){a=Polymer.Bind.addPropertyEffect(this,a,b,c);a.pathFn=this["_"+a.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this);this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(a){if(a)for(var b in a){var c=a[b];c.observer&&this._addObserverEffect(b,c.observer);c.computed&&(c.readOnly=!0,this._addComputedEffect(b,c.computed));c.notify&&this._addPropertyEffect(b,
"notify",{event:Polymer.CaseMap.camelToDashCase(b)+"-changed"});if(c.reflectToAttribute){var d=Polymer.CaseMap.camelToDashCase(b);"-"===d[0]?this._warn(this._logf("_addPropertyEffects","Property "+b+" cannot be reflected to attribute "+d+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.')):this._addPropertyEffect(b,"reflect",{attribute:d})}c.readOnly&&Polymer.Bind.ensurePropertyEffects(this,b)}},_addComputedEffect:function(a,b){b=this._parseMethod(b);
for(var c=b.dynamicFn,d=0,e;d<b.args.length&&(e=b.args[d]);d++)this._addPropertyEffect(e.model,"compute",{method:b.method,args:b.args,trigger:e,name:a,dynamicFn:c});c&&this._addPropertyEffect(b.method,"compute",{method:b.method,args:b.args,trigger:null,name:a,dynamicFn:c})},_addObserverEffect:function(a,b){this._addPropertyEffect(a,"observer",{method:b,property:a})},_addComplexObserverEffects:function(a){if(a)for(var b=0,c;b<a.length&&(c=a[b]);b++)this._addComplexObserverEffect(c)},_addComplexObserverEffect:function(a){var b=
this._parseMethod(a);if(!b)throw Error("Malformed observer expression '"+a+"'");a=b.dynamicFn;for(var c=0,d;c<b.args.length&&(d=b.args[c]);c++)this._addPropertyEffect(d.model,"complexObserver",{method:b.method,args:b.args,trigger:d,dynamicFn:a});a&&this._addPropertyEffect(b.method,"complexObserver",{method:b.method,args:b.args,trigger:null,dynamicFn:a})},_addAnnotationEffects:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)for(var d=c.bindings,e=0,f;e<d.length&&(f=d[e]);e++)this._addAnnotationEffect(f,
b)},_addAnnotationEffect:function(a,b){Polymer.Bind._shouldAddListener(a)&&Polymer.Bind._addAnnotatedListener(this,b,a.name,a.parts[0].value,a.parts[0].event,a.parts[0].negate);for(var c=0;c<a.parts.length;c++){var d=a.parts[c];d.signature?this._addAnnotatedComputationEffect(a,d,b):d.literal||("attribute"===a.kind&&"-"===a.name[0]?this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+a.name+' because "-" is not a valid attribute starting character')):this._addPropertyEffect(d.model,
"annotation",{kind:a.kind,index:b,name:a.name,propertyName:a.propertyName,value:d.value,isCompound:a.isCompound,compoundIndex:d.compoundIndex,event:d.event,customEvent:d.customEvent,negate:d.negate}))}},_addAnnotatedComputationEffect:function(a,b,c){var d=b.signature;if(d.static)this.__addAnnotatedComputationEffect("__static__",c,a,b,null);else{for(var e=0,f;e<d.args.length&&(f=d.args[e]);e++)f.literal||this.__addAnnotatedComputationEffect(f.model,c,a,b,f);d.dynamicFn&&this.__addAnnotatedComputationEffect(d.method,
c,a,b,null)}},__addAnnotatedComputationEffect:function(a,b,c,d,e){this._addPropertyEffect(a,"annotatedComputation",{index:b,isCompound:c.isCompound,compoundIndex:d.compoundIndex,kind:c.kind,name:c.name,negate:d.negate,method:d.signature.method,args:d.signature.args,trigger:e,dynamicFn:d.signature.dynamicFn})},_parseMethod:function(a){var b=a.match(/([^\s]+?)\(([\s\S]*)\)/);if(b){a={method:b[1],static:!0};this.getPropertyInfo(a.method)!==Polymer.nob&&(a.static=!1,a.dynamicFn=!0);if(b[2].trim())return b=
b[2].replace(/\\,/g,"\x26comma;").split(","),this._parseArgs(b,a);a.args=Polymer.nar;return a}},_parseArgs:function(a,b){b.args=a.map(function(a){a=this._parseArg(a);a.literal||(b.static=!1);return a},this);return b},_parseArg:function(a){a=a.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1");var b={name:a},c=a[0];"-"===c&&(c=a[1]);"0"<=c&&"9">=c&&(c="#");switch(c){case "'":case '"':b.value=a.slice(1,-1);b.literal=!0;break;case "#":b.value=Number(a),b.literal=!0}b.literal||(b.model=Polymer.Path.root(a),
b.structured=Polymer.Path.isDeep(a),b.structured&&(b.wildcard=".*"==a.slice(-2),b.wildcard&&(b.name=a.slice(0,-2))));return b},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this);this._bindListeners&&Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(a,b){var c=this._nodes[a.index],d=a.name;b=this._computeFinalAnnotationValue(c,d,b,a);"attribute"==a.kind?this.serializeValueToAttribute(b,d,c):(a=c._propertyInfo&&c._propertyInfo[d])&&a.readOnly||this.__setProperty(d,
b,Polymer.Settings.suppressBindingNotifications,c)},_computeFinalAnnotationValue:function(a,b,c,d){d.negate&&(c=!c);if(d.isCompound){var e=a.__compoundStorage__[b];e[d.compoundIndex]=c;c=e.join("")}"attribute"!==d.kind&&("className"===b&&(c=this._scopeElementClass(a,c)),"textContent"===b||"input"==a.localName&&"value"==b)&&(c=void 0==c?"":c);return c},_executeStaticEffects:function(){this._propertyEffects&&this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}});
(function(){var a=Polymer.Settings.usePolyfillProto,b=!!Object.getOwnPropertyDescriptor(document.documentElement,"properties");Polymer.Base._addFeature({_setupConfigure:function(a){this._config={};this._handlers=[];this._aboveConfig=null;if(a)for(var b in a)void 0!==a[b]&&(this._config[b]=a[b])},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(a){this._setAttributeToProperty(this._clientsReadied?this:this._config,a)},_configValue:function(a,b){var c=
this._propertyInfo[a];c&&c.readOnly||(this._config[a]=b)},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences();this._configureInstanceProperties();this._aboveConfig=this.mixin({},this._config);for(var a={},d=0;d<this.behaviors.length;d++)this._configureProperties(this.behaviors[d].properties,a);this._configureProperties(b?this.__proto__.properties:this.properties,a);this.mixin(a,this._aboveConfig);this._config=a;this._clients&&this._clients.length&&
this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var b in this._propertyEffects)!a&&this.hasOwnProperty(b)&&(this._configValue(b,this[b]),delete this[b])},_configureProperties:function(a,b){for(var c in a){var d=a[c];void 0!==d.value&&(d=d.value,"function"==typeof d&&(d=d.call(this,this._config)),b[c]=d)}},_distributeConfig:function(a){var b=this._propertyEffects;if(b)for(var c in a){var f=b[c];if(f)for(var g=0,h=f.length,l;g<h&&(l=f[g]);g++)if("annotation"===l.kind){var m=
this._nodes[l.effect.index],n=l.effect.propertyName,q="attribute"==l.effect.kind,p=m._propertyEffects&&m._propertyEffects[n];!m._configValue||!p&&q||(p=c===l.effect.value?a[c]:this._get(l.effect.value,a),p=this._computeFinalAnnotationValue(m,n,p,l.effect),q&&(p=m.deserialize(this.serialize(p),m._propertyInfo[n].type)),m._configValue(n,p))}}},_afterClientsReady:function(){this.importPath=this._importPath;this.rootPath=Polymer.rootPath;this._executeStaticEffects();this._applyConfig(this._config,this._aboveConfig);
this._flushHandlers()},_applyConfig:function(a,b){for(var c in a)void 0===this[c]&&this.__setProperty(c,a[c],c in b)},_notifyListener:function(a,b){if(!Polymer.Bind._isEventBogus(b,b.target)){if(b.detail){var c=b.detail.value;var d=b.detail.path}if(this._clientsReadied)return a.call(this,b.target,c,d);this._queueHandler([a,b.target,c,d])}},_queueHandler:function(a){this._handlers.push(a)},_flushHandlers:function(){for(var a=this._handlers,b=0,e=a.length,f;b<e&&(f=a[b]);b++)f[0].call(this,f[1],f[2],
f[3]);this._handlers=[]}})})();
(function(){var a=Polymer.Path;Polymer.Base._addFeature({notifyPath:function(a,c,d){var b={},f=this._get(a,this,b);1===arguments.length&&(c=f);b.path&&this._notifyPath(b.path,c,d)},_notifyPath:function(a,c,d){var b=this._propertySetter(a,c);if(b!==c&&(b===b||c===c))return this._pathEffector(a,c),d||this._notifyPathUp(a,c),!0},_getPathParts:function(a){if(Array.isArray(a)){for(var b=[],d=0;d<a.length;d++)for(var e=a[d].toString().split("."),f=0;f<e.length;f++)b.push(e[f]);return b}return a.toString().split(".")},
set:function(a,c,d){var b=d||this,f=this._getPathParts(a),g=f[f.length-1];if(1<f.length){for(a=0;a<f.length-1;a++){var h=f[a];l&&"#"==h[0]?b=Polymer.Collection.get(l).getItem(h):(b=b[h],l&&parseInt(h,10)==h&&(f[a]=Polymer.Collection.get(l).getKey(b)));if(!b)return;var l=Array.isArray(b)?b:null}if(l)if(h=Polymer.Collection.get(l),"#"==g[0]){var m=g;var n=h.getItem(m);g=l.indexOf(n);h.setItem(m,c)}else parseInt(g,10)==g&&(n=b[g],m=h.getKey(n),f[a]=m,h.setItem(m,c));b[g]=c;d||this._notifyPath(f.join("."),
c)}else b[a]=c},get:function(a,c){return this._get(a,c)},_get:function(a,c,d){c=c||this;a=this._getPathParts(a);for(var b,f=0;f<a.length;f++){if(!c)return;var g=a[f];b&&"#"==g[0]?c=Polymer.Collection.get(b).getItem(g):(c=c[g],d&&b&&parseInt(g,10)==g&&(a[f]=Polymer.Collection.get(b).getKey(c)));b=Array.isArray(c)?c:null}d&&(d.path=a.join("."));return c},_pathEffector:function(b,c){var d=a.root(b);if(d=this._propertyEffects&&this._propertyEffects[d])for(var e=0,f;e<d.length&&(f=d[e]);e++){var g=f.pathFn;
g&&g.call(this,b,c,f.effect)}this._boundPaths&&this._notifyBoundPaths(b,c)},_annotationPathEffect:function(b,c,d){if(a.matches(d.value,!1,b))Polymer.Bind._annotationEffect.call(this,b,c,d);else if(!d.negate&&a.isDescendant(d.value,b)){var e=this._nodes[d.index];e&&e._notifyPath&&(b=a.translate(d.value,d.name,b),e._notifyPath(b,c,!0))}},_complexObserverPathEffect:function(b,c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._complexObserverEffect.call(this,b,c,d)},_computePathEffect:function(b,
c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._computeEffect.call(this,b,c,d)},_annotatedComputationPathEffect:function(b,c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._annotatedComputationEffect.call(this,b,c,d)},linkPaths:function(a,c){this._boundPaths=this._boundPaths||{};c?this._boundPaths[a]=c:this.unlinkPaths(a)},unlinkPaths:function(a){this._boundPaths&&delete this._boundPaths[a]},_notifyBoundPaths:function(b,c){for(var d in this._boundPaths){var e=this._boundPaths[d];
a.isDescendant(d,b)?this._notifyPath(a.translate(d,e,b),c):a.isDescendant(e,b)&&this._notifyPath(a.translate(e,d,b),c)}},_notifyPathUp:function(b,c){var d=a.root(b);d=Polymer.CaseMap.camelToDashCase(d)+this._EVENT_CHANGED;this.fire(d,{path:b,value:c},{bubbles:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_EVENT_CHANGED:"-changed",notifySplices:function(a,c){var b={};a=this._get(a,this,b);this._notifySplices(a,b.path,c)},_notifySplices:function(a,c,d){d={keySplices:Polymer.Collection.applySplices(a,
d),indexSplices:d};var b=c+".splices";this._notifyPath(b,d);this._notifyPath(c+".length",a.length);this.__data__[b]={keySplices:null,indexSplices:null}},_notifySplice:function(a,c,d,e,f){this._notifySplices(a,c,[{index:d,addedCount:e,removed:f,object:a,type:"splice"}])},push:function(a){var b={},d=this._get(a,this,b),e=Array.prototype.slice.call(arguments,1),f=d.length,g=d.push.apply(d,e);e.length&&this._notifySplice(d,b.path,f,e.length,[]);return g},pop:function(a){var b={},d=this._get(a,this,b),
e=!!d.length,f=d.pop.apply(d,Array.prototype.slice.call(arguments,1));e&&this._notifySplice(d,b.path,d.length,0,[f]);return f},splice:function(a,c){var b={},e=this._get(a,this,b);(c=0>c?e.length-Math.floor(-c):Math.floor(c))||(c=0);var f=Array.prototype.slice.call(arguments,1),g=e.splice.apply(e,f);((f=Math.max(f.length-2,0))||g.length)&&this._notifySplice(e,b.path,c,f,g);return g},shift:function(a){var b={},d=this._get(a,this,b),e=!!d.length,f=d.shift.apply(d,Array.prototype.slice.call(arguments,
1));e&&this._notifySplice(d,b.path,0,0,[f]);return f},unshift:function(a){var b={},d=this._get(a,this,b),e=Array.prototype.slice.call(arguments,1),f=d.unshift.apply(d,e);e.length&&this._notifySplice(d,b.path,0,e.length,[]);return f},prepareModelNotifyPath:function(a){this.mixin(a,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,__eventCache:Polymer.Base.__eventCache,notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,
_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,_getPathParts:Polymer.Base._getPathParts})}})})();
Polymer.Base._addFeature({resolveUrl:function(a){return Polymer.ResolveUrl.resolveUrl(a,this._importPath)}});
Polymer.CssParse={parse:function(a){a=this._clean(a);return this._parseCss(this._lex(a),a)},_clean:function(a){return a.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(a){for(var b={start:0,end:a.length},c=b,d=0,e=a.length;d<e;d++)switch(a[d]){case this.OPEN_BRACE:c.rules||(c.rules=[]);var f=c;c={start:d+1,parent:f,previous:f.rules[f.rules.length-1]};f.rules.push(c);break;case this.CLOSE_BRACE:c.end=d+1,c=c.parent||b}return b},_parseCss:function(a,b){var c=b.substring(a.start,
a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=this._expandUnicodeEscapes(c),c=c.replace(this._rx.multipleSpaces," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf(this.AT_START),a.atRule?0===c.indexOf(this.MEDIA_START)?a.type=this.types.MEDIA_RULE:c.match(this._rx.keyframesRule)&&(a.type=this.types.KEYFRAMES_RULE,a.keyframesName=a.selector.split(this._rx.multipleSpaces).pop()):
a.type=0===c.indexOf(this.VAR_START)?this.types.MIXIN_RULE:this.types.STYLE_RULE);if(c=a.rules)for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)this._parseCss(f,b);return a},_expandUnicodeEscapes:function(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,c){a=c;for(c=6-a.length;c--;)a="0"+a;return"\\"+a})},stringify:function(a,b,c){c=c||"";var d="";if(a.cssText||a.rules){var e=a.rules;if(e&&!this._hasMixinRules(e))for(var f=0,g=e.length,h;f<g&&(h=e[f]);f++)d=this.stringify(h,b,d);else d=b?a.cssText:
this.removeCustomProps(a.cssText),(d=d.trim())&&(d="  "+d+"\n")}d&&(a.selector&&(c+=a.selector+" "+this.OPEN_BRACE+"\n"),c+=d,a.selector&&(c+=this.CLOSE_BRACE+"\n\n"));return c},_hasMixinRules:function(a){return 0===a[0].selector.indexOf(this.VAR_START)},removeCustomProps:function(a){a=this.removeCustomPropAssignment(a);return this.removeCustomPropApply(a)},removeCustomPropAssignment:function(a){return a.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(a){return a.replace(this._rx.mixinApply,
"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1E3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},
VAR_START:"--",MEDIA_START:"@media",AT_START:"@"};
Polymer.StyleUtil=function(){var a=Polymer.Settings;return{unscopedStyleImports:new WeakMap,SHADY_UNSCOPED_ATTR:"shady-unscoped",NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel\x3dimport][type~\x3dcss], template",INCLUDE_ATTR:"include",toCssText:function(a,c){"string"===typeof a&&(a=this.parser.parse(a));c&&this.forEachRule(a,c);return this.parser.stringify(a,this.NATIVE_VARIABLES)},forRulesInStyles:function(a,c,d){if(a)for(var b=0,f=a.length,g;b<f&&
(g=a[b]);b++)this.forEachRuleInStyle(g,c,d)},forActiveRulesInStyles:function(a,c,d){if(a)for(var b=0,f=a.length,g;b<f&&(g=a[b]);b++)this.forEachRuleInStyle(g,c,d,!0)},rulesForStyle:function(a){!a.__cssRules&&a.textContent&&(a.__cssRules=this.parser.parse(a.textContent));return a.__cssRules},isKeyframesSelector:function(a){return a.parent&&a.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(a,c,d,e){var b=this.rulesForStyle(a),g,h;c&&(g=function(b){c(b,a)});d&&(h=function(b){d(b,
a)});this.forEachRule(b,g,h,e)},forEachRule:function(a,c,d,e){if(a){var b=!1;if(e&&a.type===this.ruleTypes.MEDIA_RULE){var g=a.selector.match(this.rx.MEDIA_MATCH);g&&(window.matchMedia(g[1]).matches||(b=!0))}a.type===this.ruleTypes.STYLE_RULE?c(a):d&&a.type===this.ruleTypes.KEYFRAMES_RULE?d(a):a.type===this.ruleTypes.MIXIN_RULE&&(b=!0);if((a=a.rules)&&!b){b=0;g=a.length;for(var h;b<g&&(h=a[b]);b++)this.forEachRule(h,c,d,e)}}},applyCss:function(a,c,d,e){a=this.createScopeStyle(a,c);return this.applyStyle(a,
d,e)},applyStyle:function(a,c,d){c=c||document.head;d=d&&d.nextSibling||c.firstChild;this.__lastHeadApplyNode=a;return c.insertBefore(a,d)},createScopeStyle:function(a,c){var b=document.createElement("style");c&&b.setAttribute("scope",c);b.textContent=a;return b},__lastHeadApplyNode:null,applyStylePlaceHolder:function(a){a=document.createComment(" Shady DOM styles for "+a+" ");var b=document.head;b.insertBefore(a,(this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null)||b.firstChild);
return this.__lastHeadApplyNode=a},cssFromModules:function(a,c){a=a.trim().split(/\s+/);for(var b="",e=0;e<a.length;e++)b+=this.cssFromModule(a[e],c);return b},cssFromModule:function(a,c){var b=Polymer.DomModule.import(a);b&&!b._cssText&&(b._cssText=this.cssFromElement(b));!b&&c&&console.warn("Could not find style data in module named",a);return b&&b._cssText||""},cssFromElement:function(b){for(var c="",d=Polymer.TreeApi.arrayCopy((b.content||b).querySelectorAll(this.MODULE_STYLES_SELECTOR)),e=0,
f;e<d.length;e++)if(f=d[e],"template"===f.localName)f.hasAttribute("preserve-content")||(c+=this.cssFromElement(f));else if("style"===f.localName){var g=f.getAttribute(this.INCLUDE_ATTR);g&&(c+=this.cssFromModules(g,!0));f=f.__appliedElement||f;f.parentNode.removeChild(f);g=this.resolveCss(f.textContent,b.ownerDocument);!a.useNativeShadow&&f.hasAttribute(this.SHADY_UNSCOPED_ATTR)?(f.textContent=g,document.head.insertBefore(f,document.head.firstChild)):c+=g}else f.import&&f.import.body&&(g=this.resolveCss(f.import.body.textContent,
f.import),!a.useNativeShadow&&f.hasAttribute(this.SHADY_UNSCOPED_ATTR)?this.unscopedStyleImports.has(f.import)||(this.unscopedStyleImports.set(f.import,!0),f=document.createElement("style"),f.setAttribute(this.SHADY_UNSCOPED_ATTR,""),f.textContent=g,document.head.insertBefore(f,document.head.firstChild)):c+=g);return c},styleIncludesToTemplate:function(a){a=a.content.querySelectorAll("style[include]");for(var b=0,d;b<a.length;b++)d=a[b],d.parentNode.insertBefore(this._includesToFragment(d.getAttribute("include")),
d)},_includesToFragment:function(a){a=a.trim().split(" ");for(var b=document.createDocumentFragment(),d=0;d<a.length;d++){var e=Polymer.DomModule.import(a[d],"template");e&&this._addStylesToFragment(b,e.content)}return b},_addStylesToFragment:function(a,c){c=c.querySelectorAll("style");for(var b=0,e;b<c.length;b++){e=c[b];var f=e.getAttribute("include");f&&a.appendChild(this._includesToFragment(f));e.textContent&&a.appendChild(e.cloneNode(!0))}},isTargetedBuild:function(b){return a.useNativeShadow?
"shadow"===b:"shady"===b},cssBuildTypeForModule:function(a){if(a=Polymer.DomModule.import(a))return this.getCssBuildType(a)},getCssBuildType:function(a){return a.getAttribute("css-build")},_findMatchingParen:function(a,c){for(var b=0,e=a.length;c<e;c++)switch(a[c]){case "(":b++;break;case ")":if(0===--b)return c}return-1},processVariableAndFallback:function(a,c){var b=a.indexOf("var(");if(-1===b)return c(a,"","","");var e=this._findMatchingParen(a,b+3),f=a.substring(b+4,e);b=a.substring(0,b);a=this.processVariableAndFallback(a.substring(e+
1),c);var g=f.indexOf(",");if(-1===g)return c(b,f.trim(),"",a);e=f.substring(0,g).trim();f=f.substring(g+1).trim();return c(b,e,f,a)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s\x3e+~])"},
resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}();
Polymer.StyleTransformer=function(){var a=Polymer.StyleUtil,b=Polymer.Settings,c={dom:function(a,b,c,d){this._transformDom(a,b||"",c,d)},_transformDom:function(a,b,c,d){a.setAttribute&&this.element(a,b,c,d);a=Polymer.dom(a).childNodes;for(var e=0;e<a.length;e++)this._transformDom(a[e],b,c,d)},element:function(a,b,c,e){c?e?a.removeAttribute(d):a.setAttribute(d,b):b&&(a.classList?e?(a.classList.remove(d),a.classList.remove(b)):(a.classList.add(d),a.classList.add(b)):a.getAttribute&&(c=a.getAttribute(A),
e?c&&a.setAttribute(A,c.replace(d,"").replace(b,"")):a.setAttribute(A,(c?c+" ":"")+d+" "+b)))},elementStyles:function(c,d){var e=c._styles,f="",g=c.__cssBuild;g=b.useNativeShadow||"shady"===g;if(g){var h=this;var l=function(a){a.selector=h._slottedToContent(a.selector);a.selector=a.selector.replace(m,":host \x3e *");a.selector=h._dirShadowTransform(a.selector);d&&d(a)}}for(var n=0,q=e.length,p;n<q&&(p=e[n]);n++){var r=a.rulesForStyle(p);f+=g?a.toCssText(r,l):this.css(r,c.is,c.extends,d,c._scopeCssViaAttr)+
"\n\n"}return f.trim()},css:function(b,c,d,e,f){var g=this._calcHostScope(c,d);c=this._calcElementScope(c,f);var h=this;return a.toCssText(b,function(a){a.isScoped||(h.rule(a,c,g),a.isScoped=!0);e&&e(a,c,g)})},_calcElementScope:function(a,b){return a?b?v+a+y:w+a:""},_calcHostScope:function(a,b){return b?"[is\x3d"+a+"]":a},rule:function(a,b,c){this._transformRule(a,this._transformComplexSelector,b,c)},_transformRule:function(a,b,c,d){a.selector=a.transformedSelector=this._transformRuleCss(a,b,c,d)},
_splitSelectorList:function(b){for(var c=[],d="",e=0;0<=e&&e<b.length;e++)if("("===b[e]){var g=a._findMatchingParen(b,e);d+=b.slice(e,g+1);e=g}else b[e]===f?(c.push(d),d=""):d+=b[e];d&&c.push(d);0===c.length&&c.push(b);return c},_transformRuleCss:function(b,c,d,e){var g=this._splitSelectorList(b.selector);if(!a.isKeyframesSelector(b)){b=0;for(var h=g.length,l;b<h&&(l=g[b]);b++)g[b]=c.call(this,l,d,e)}return g.join(f)},_ensureScopedDir:function(a){var b=a.match(D);b&&""===b[1]&&b[0].length===a.length&&
(a="*"+a);return a},_additionalDirSelectors:function(a,b,c){return a&&b?f+(c||"")+" "+a+" "+b:""},_transformComplexSelector:function(a,b,c){var d=!1,e=!1,h=!1,n=this;a=a.trim();a=this._slottedToContent(a);a=a.replace(m,":host \x3e *");a=a.replace(B,l+" $1");a=this._ensureScopedDir(a);a=a.replace(g,function(a,f,g){d?g=g.replace(r," "):(a=n._transformCompoundSelector(g,f,b,c),d=d||a.stop,e=e||a.hostContext,h=h||a.dir,f=a.combinator,g=a.value);return f+g});e&&(a=a.replace(p,function(a,b,d,e){a=b+d+" "+
c+e+f+" "+b+c+d+e;h&&(a+=n._additionalDirSelectors(d,e,c));return a}));return a},_transformDir:function(a){a=a.replace(F,J);return a=a.replace(D,C)},_transformCompoundSelector:function(a,b,c,d){var e=a.search(r),f=!1,g=!1;a.match(D)&&(a=this._transformDir(a),g=!0);0<=a.indexOf(q)?f=!0:0<=a.indexOf(l)?a=this._transformHostSelector(a,d):0!==e&&(a=c?this._transformSimpleSelector(a,c):a);0<=a.indexOf(t)&&(b="");if(0<=e){a=a.replace(r," ");var h=!0}return{value:a,combinator:b,stop:h,hostContext:f,dir:g}},
_transformSimpleSelector:function(a,b){a=a.split(x);a[0]+=b;return a.join(x)},_transformHostSelector:function(a,b){var c=a.match(n);return(c=c&&c[2].trim()||"")?c[0].match(h)?a.replace(n,function(a,c,d){return b+d}):c.split(h)[0]===b?c:H:a.replace(l,b)},documentRule:function(a){a.selector=a.parsedSelector;this.normalizeRootSelector(a);b.useNativeShadow||this._transformRule(a,this._transformDocumentSelector)},normalizeRootSelector:function(a){a.selector=a.selector.replace(m,"html");var b=this._splitSelectorList(a.selector);
b=b.filter(function(a){return!a.match(I)});a.selector=b.join(f)},_transformDocumentSelector:function(a){return this._transformComplexSelector(a,e)},_slottedToContent:function(a){return a.replace(E,t+"\x3e $1")},_dirShadowTransform:function(a){return a.match(/:dir\(/)?this._splitSelectorList(a).map(function(a){a=this._ensureScopedDir(a);a=this._transformDir(a);var b=p.exec(a);b&&(a+=this._additionalDirSelectors(b[2],b[3],""));return a},this).join(f):a},SCOPE_NAME:"style-scope"},d=c.SCOPE_NAME,e=":not(["+
d+"]):not(."+d+")",f=",",g=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,h=/[[.:#*]/,l=":host",m=":root",n=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,q=":host-context",p=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/,t="::content",r=/::content|::shadow|\/deep\//,w=".",v="["+d+"~\x3d",y="]",x=":",A="class",B=new RegExp("^("+t+")"),H="should_not_match",E=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g,I=/:host(?:\s*>\s*\*)?/,D=/(.*):dir\((ltr|rtl)\)/,C=':host-context([dir\x3d"$2"]) $1',
F=/:host\(:dir\((rtl|ltr)\)\)/g,J=':host-context([dir\x3d"$1"])';return c}();
Polymer.StyleExtends=function(){var a=Polymer.StyleUtil;return{hasExtends:function(a){return!!a.match(this.rx.EXTEND)},transform:function(b){b=a.rulesForStyle(b);var c=this;a.forEachRule(b,function(a){c._mapRuleOntoParent(a);if(a.parent)for(var b;b=c.rx.EXTEND.exec(a.cssText);)(b=c._findExtendor(b[1],a))&&c._extendRule(a,b);a.cssText=a.cssText.replace(c.rx.EXTEND,"")});return a.toCssText(b,function(a){a.selector.match(c.rx.STRIP)&&(a.cssText="")},!0)},_mapRuleOntoParent:function(a){if(a.parent){for(var b=
a.parent.map||(a.parent.map={}),d=a.selector.split(","),e=0,f;e<d.length;e++)f=d[e],b[f.trim()]=a;return b}},_findExtendor:function(a,c){return c.parent&&c.parent.map&&c.parent.map[a]||this._findExtendor(a,c.parent)},_extendRule:function(a,c){a.parent!==c.parent&&this._cloneAndAddRuleToParent(c,a.parent);a.extends=a.extends||[];a.extends.push(c);c.selector=c.selector.replace(this.rx.STRIP,"");c.selector=(c.selector&&c.selector+",\n")+a.selector;c.extends&&c.extends.forEach(function(b){this._extendRule(a,
b)},this)},_cloneAndAddRuleToParent:function(a,c){a=Object.create(a);a.parent=c;a.extends&&(a.extends=a.extends.slice());c.rules.push(a)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}();
Polymer.ApplyShim=function(){function a(a,b){a=a.trim();t[a]={properties:b,dependants:{}}}function b(a){a=a.trim();return t[a]}function c(a){a=a.split(";");for(var b,c,d={},e=0,f;e<a.length;e++)if(b=a[e])if(f=b.split(":"),1<f.length){c=b=f[0].trim();f=f.slice(1).join(":");var g=p.exec(f);g&&(f=g[1]?r._getInitialValueForProperty(c):"apply-shim-inherit");c=f;d[b]=c}return d}function d(a){var b=r.__currentElementProto;b=b&&b.is;for(var c in a.dependants)c!==b&&(a.dependants[c].__applyShimInvalid=!0)}
function e(e,f,l,m){l&&h.processVariableAndFallback(l,function(a,c){c&&b(c)&&(m="@apply "+c+";")});if(!m)return e;var n=g(m),q=e.slice(0,e.indexOf("--")),p=n=c(n),r=b(f),t=r&&r.properties;t?(p=Object.create(t),p=Polymer.Base.mixin(p,n)):a(f,p);var w=[],v,x=!1;for(v in p){var y=n[v];void 0===y&&(y="initial");!t||v in t||(x=!0);w.push(f+"_-_"+v+": "+y)}x&&d(r);r&&(r.properties=p);l&&(q=e+";"+q);return q+w.join("; ")+";"}function f(a,b,c){return"var("+b+",var("+c+"))"}function g(d){for(var e;e=l.exec(d);){var f=
e[0],g=e[1];e=e.index;var h=d.slice(0,e+f.indexOf("@apply"));d=d.slice(e+f.length);var m=c(h),n;f=void 0;g=g.replace(q,"");var p=[];var t=b(g);t||(a(g,{}),t=b(g));if(t)for(f in(n=r.__currentElementProto)&&(t.dependants[n.is]=n),t.properties)t=m&&m[f],n=[f,": var(",g,"_-_",f],t&&n.push(",",t),n.push(")"),p.push(n.join(""));f=p.join("; ");d=[h,f,d].join("");l.lastIndex=e+f.length}return d}var h=Polymer.StyleUtil,l=h.rx.MIXIN_MATCH,m=h.rx.VAR_ASSIGN,n=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g,q=/;\s*/m,p=
/^\s*(initial)|(inherit)\s*$/,t={},r={_measureElement:null,_map:t,_separator:"_-_",transform:function(a,b){this.__currentElementProto=b;h.forRulesInStyles(a,this._boundFindDefinitions);h.forRulesInStyles(a,this._boundFindApplications);b&&(b.__applyShimInvalid=!1);this.__currentElementProto=null},_findDefinitions:function(a){var b=a.parsedCssText;b=b.replace(n,f);b=b.replace(m,e);a.cssText=b;":root"===a.selector&&(a.selector=":host \x3e *")},_findApplications:function(a){a.cssText=g(a.cssText)},transformRule:function(a){this._findDefinitions(a);
this._findApplications(a)},_getInitialValueForProperty:function(a){this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement));return window.getComputedStyle(this._measureElement).getPropertyValue(a)}};r._boundTransformRule=r.transformRule.bind(r);r._boundFindDefinitions=r._findDefinitions.bind(r);r._boundFindApplications=r._findApplications.bind(r);return r}();
(function(){var a=Polymer.Base._prepElement,b=Polymer.Settings.useNativeShadow,c=Polymer.StyleUtil,d=Polymer.StyleTransformer,e=Polymer.StyleExtends,f=Polymer.ApplyShim,g=Polymer.Settings;Polymer.Base._addFeature({_prepElement:function(b){this._encapsulateStyle&&"shady"!==this.__cssBuild&&d.element(b,this.is,this._scopeCssViaAttr);a.call(this,b)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!b);b||(this._scopeStyle=c.applyStylePlaceHolder(this.is));this.__cssBuild=
c.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var a=c.isTargetedBuild(this.__cssBuild);g.useNativeCSSProperties&&"shadow"===this.__cssBuild&&a?g.preserveStyleIncludes&&c.styleIncludesToTemplate(this._template):(this._styles=this._styles||this._collectStyles(),g.useNativeCSSProperties&&!this.__cssBuild&&f.transform(this._styles,this),a=g.useNativeCSSProperties&&a?this._styles.length&&this._styles[0].textContent.trim():d.elementStyles(this),this._prepStyleProperties(),
!this._needsStyleProperties()&&a&&c.applyCss(a,this.is,b?this._template.content:null,this._scopeStyle))}else this._styles=[]},_collectStyles:function(){var a=[],b="",d=this.styleModules;if(d)for(var f=0,g=d.length,p;f<g&&(p=d[f]);f++)b+=c.cssFromModule(p);b+=c.cssFromModule(this.is);d=this._template&&this._template.parentNode;!this._template||d&&d.id.toLowerCase()===this.is||(b+=c.cssFromElement(this._template));b&&(d=document.createElement("style"),d.textContent=b,e.hasExtends(d.textContent)&&e.transform(d),
a.push(d));return a},_elementAdd:function(a){this._encapsulateStyle&&(a.__styleScoped?a.__styleScoped=!1:d.dom(a,this.is,this._scopeCssViaAttr))},_elementRemove:function(a){this._encapsulateStyle&&d.dom(a,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(a,c){if(!b){var d=this,e=function(a){if(a.nodeType===Node.ELEMENT_NODE){var b=a.getAttribute("class");a.setAttribute("class",d._scopeElementClass(a,b));a=a.querySelectorAll("*");for(var c=0,e;c<a.length&&(e=a[c]);c++)b=e.getAttribute("class"),
e.setAttribute("class",d._scopeElementClass(e,b))}};e(a);if(c)return c=new MutationObserver(function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)if(c.addedNodes)for(var d=0;d<c.addedNodes.length;d++)e(c.addedNodes[d])}),c.observe(a,{childList:!0,subtree:!0}),c}}})})();
Polymer.StyleProperties=function(){var a=Polymer.DomApi.matchesSelector,b=Polymer.StyleUtil,c=Polymer.StyleTransformer,d=navigator.userAgent.match("Trident"),e=Polymer.Settings;return{decorateStyles:function(a,d){var e=this,f={},g=[],n=0,q=c._calcHostScope(d.is,d.extends);b.forRulesInStyles(a,function(a,c){e.decorateRule(a);a.index=n++;e.whenHostOrRootRule(d,a,c,function(c){a.parent.type===b.ruleTypes.MEDIA_RULE&&(d.__notStyleScopeCacheable=!0);c.isHost&&(c=c.selector.split(" ").some(function(a){return 0===
a.indexOf(q)&&a.length!==q.length}),d.__notStyleScopeCacheable=d.__notStyleScopeCacheable||c)});e.collectPropertiesInCssText(a.propertyInfo.cssText,f)},function(a){g.push(a)});a._keyframes=g;a=[];for(var p in f)a.push(p);return a},decorateRule:function(a){if(a.propertyInfo)return a.propertyInfo;var b={},c={};this.collectProperties(a,c)&&(b.properties=c,a.rules=null);b.cssText=this.collectCssText(a);return a.propertyInfo=b},collectProperties:function(a,b){var c=a.propertyInfo;if(c){if(c.properties)return Polymer.Base.mixin(b,
c.properties),!0}else{c=this.rx.VAR_ASSIGN;for(var d=a.parsedCssText,e;a=c.exec(d);)e=(a[2]||a[3]).trim(),"inherit"!==e&&(b[a[1].trim()]=e),e=!0;return e}},collectCssText:function(a){return this.collectConsumingCssText(a.parsedCssText)},collectConsumingCssText:function(a){return a.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(a,b){for(var c;c=this.rx.VAR_CONSUMED.exec(a);){var d=c[1];":"!==c[2]&&(b[d]=!0)}},reify:function(a){for(var b=Object.getOwnPropertyNames(a),
c=0,d;c<b.length;c++)d=b[c],a[d]=this.valueForProperty(a[d],a)},valueForProperty:function(a,c){if(a)if(0<=a.indexOf(";"))a=this.valueForProperties(a,c);else{var d=this;a=b.processVariableAndFallback(a,function(a,b,e,f){(b=d.valueForProperty(c[b],c))&&"initial"!==b?"apply-shim-inherit"===b&&(b="inherit"):b=d.valueForProperty(c[e]||e,c)||e;return a+(b||"")+f})}return a&&a.trim()||""},valueForProperties:function(a,b){a=a.split(";");for(var c=0,d,e;c<a.length;c++)if(d=a[c]){this.rx.MIXIN_MATCH.lastIndex=
0;if(e=this.rx.MIXIN_MATCH.exec(d))d=this.valueForProperty(b[e[1]],b);else if(e=d.indexOf(":"),-1!==e){var f=d.substring(e);f=f.trim();f=this.valueForProperty(f,b)||f;d=d.substring(0,e)+f}a[c]=d&&d.lastIndexOf(";")===d.length-1?d.slice(0,-1):d||""}return a.join(";")},applyProperties:function(a,b){var c="";a.propertyInfo||this.decorateRule(a);a.propertyInfo.cssText&&(c=this.valueForProperties(a.propertyInfo.cssText,b));a.cssText=c},applyKeyframeTransforms:function(a,b){var c=a.cssText,d=a.cssText;
null==a.hasAnimations&&(a.hasAnimations=this.rx.ANIMATION_MATCH.test(c));if(a.hasAnimations)if(null==a.keyframeNamesToTransform){a.keyframeNamesToTransform=[];for(var e in b)d=b[e],d=d(c),c!==d&&(c=d,a.keyframeNamesToTransform.push(e))}else{for(e=0;e<a.keyframeNamesToTransform.length;++e)d=b[a.keyframeNamesToTransform[e]],c=d(c);d=c}a.cssText=d},propertyDataFromStyles:function(c,d){var e={},f=this,g=[];b.forActiveRulesInStyles(c,function(b){b.propertyInfo||f.decorateRule(b);var c=b.transformedSelector||
b.parsedSelector;d&&b.propertyInfo.properties&&c&&a.call(d,c)&&(f.collectProperties(b,e),b=b.index,c=parseInt(b/32),g[c]=(g[c]||0)|1<<b%32)});return{properties:e,key:g}},_rootSelector:/:root|:host\s*>\s*\*/,_checkRoot:function(a,b){return!!b.match(this._rootSelector)||"html"===a&&-1<b.indexOf("html")},whenHostOrRootRule:function(a,b,d,l){b.propertyInfo||self.decorateRule(b);if(b.propertyInfo.properties){var f=a.is?c._calcHostScope(a.is,a.extends):"html",g=b.parsedSelector,h=this._checkRoot(f,g),p=
!h&&0===g.indexOf(":host");"shady"===(a.__cssBuild||d.__cssBuild)&&(h=g===f+" \x3e *."+f||-1<g.indexOf("html"),p=!h&&0===g.indexOf(f));if(h||p)d=f,p&&(e.useNativeShadow&&!b.transformedSelector&&(b.transformedSelector=c._transformRuleCss(b,c._transformComplexSelector,a.is,f)),d=b.transformedSelector||b.parsedSelector),h&&"html"===f&&(d=b.transformedSelector||b.parsedSelector),l({selector:d,isHost:p,isRoot:h})}},hostAndRootPropertiesForScope:function(c){var d={},e={},f=this;b.forActiveRulesInStyles(c._styles,
function(b,g){f.whenHostOrRootRule(c,b,g,function(g){a.call(c._element||c,g.selector)&&(g.isHost?f.collectProperties(b,d):f.collectProperties(b,e))})});return{rootProps:e,hostProps:d}},transformStyles:function(a,b,d){var f=this,g=c._calcHostScope(a.is,a.extends),h=new RegExp(this.rx.HOST_PREFIX+(a.extends?"\\"+g.slice(0,-1)+"\\]":g)+this.rx.HOST_SUFFIX),q=this._elementKeyframeTransforms(a,d);return c.elementStyles(a,function(c){f.applyProperties(c,b);e.useNativeShadow||Polymer.StyleUtil.isKeyframesSelector(c)||
!c.cssText||(f.applyKeyframeTransforms(c,q),f._scopeSelector(c,h,g,a._scopeCssViaAttr,d))})},_elementKeyframeTransforms:function(a,b){a=a._styles._keyframes;var c={};if(!e.useNativeShadow&&a)for(var d=0,f=a[d];d<a.length;f=a[++d])this._scopeKeyframes(f,b),c[f.keyframesName]=this._keyframesRuleTransformer(f);return c},_keyframesRuleTransformer:function(a){return function(b){return b.replace(a.keyframesNameRx,a.transformedKeyframesName)}},_scopeKeyframes:function(a,b){a.keyframesNameRx=new RegExp("\\b"+
a.keyframesName+"(?!\\B|-)","g");a.transformedKeyframesName=a.keyframesName+"-"+b;a.transformedSelector=a.transformedSelector||a.selector;a.selector=a.transformedSelector.replace(a.keyframesName,a.transformedKeyframesName)},_hasDirOrHostContext:function(a){return/:host-context|:dir/.test(a)},_scopeSelector:function(a,b,d,e,m){a.transformedSelector=a.transformedSelector||a.selector;m=c._calcElementScope(m,e);e=c._calcElementScope(d,e);for(var f=a.transformedSelector.split(","),g=this._hasDirOrHostContext(a.parsedSelector),
h=0,l=f.length,r;h<l&&(r=f[h]);h++)f[h]=r.match(b)?r.replace(d,m):g?r.replace(e,m+" "+e):m+" "+r;a.selector=f.join(",")},applyElementScopeSelector:function(a,b,d,e){var f=e?a.getAttribute(c.SCOPE_NAME):a.getAttribute("class")||"";b=d?f.replace(d,b):(f?f+" ":"")+this.XSCOPE_NAME+" "+b;f!==b&&(e?a.setAttribute(c.SCOPE_NAME,b):a.setAttribute("class",b))},applyElementStyle:function(a,c,h,l){c=l?l.textContent||"":this.transformStyles(a,c,h);var f=a._customStyle;f&&!e.useNativeShadow&&f!==l&&(f._useCount--,
0>=f._useCount&&f.parentNode&&f.parentNode.removeChild(f));e.useNativeShadow?a._customStyle?(a._customStyle.textContent=c,l=a._customStyle):c&&(l=b.applyCss(c,h,a.root,a._scopeStyle)):l?l.parentNode||(d&&-1<c.indexOf("@media")&&(l.textContent=c),b.applyStyle(l,null,a._scopeStyle)):c&&(l=b.applyCss(c,h,null,a._scopeStyle));l&&(l._useCount=l._useCount||0,a._customStyle!=l&&l._useCount++,a._customStyle=l);return l},mixinCustomStyle:function(a,b){var c,d;for(d in b)if((c=b[d])||0===c)a[d]=c},updateNativeStyleProperties:function(a,
b){var c=a.__customStyleProperties;if(c)for(var d=0;d<c.length;d++)a.style.removeProperty(c[d]);c=[];for(var e in b)null!==b[e]&&(a.style.setProperty(e,b[e]),c.push(e));a.__customStyleProperties=c},rx:b.rx,XSCOPE_NAME:"x-scope"}}();Polymer.StyleCache=function(){this.cache={}};
Polymer.StyleCache.prototype={MAX:100,store:function(a,b,c,d){b.keyValues=c;b.styles=d;a=this.cache[a]=this.cache[a]||[];a.push(b);a.length>this.MAX&&a.shift()},retrieve:function(a,b,c){if(a=this.cache[a])for(var d=a.length-1,e;0<=d;d--)if(e=a[d],c===e.styles&&this._objectsEqual(b,e.keyValues))return e},clear:function(){this.cache={}},_objectsEqual:function(a,b){var c;for(c in a){var d=a[c];var e=b[c];if("object"===typeof d&&d?!this._objectsStrictlyEqual(d,e):d!==e)return!1}return Array.isArray(a)?
a.length===b.length:!0},_objectsStrictlyEqual:function(a,b){return this._objectsEqual(a,b)&&this._objectsEqual(b,a)}};
Polymer.StyleDefaults=function(){var a=Polymer.StyleProperties,b=Polymer.Settings.useNativeCSSProperties;return{_styles:[],_properties:null,customStyle:{},_styleCache:new Polymer.StyleCache,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(a){this._styles.push(a);this._properties=null},get _styleProperties(){this._properties||(a.decorateStyles(this._styles,this),this._styles._scopeStyleProperties=null,this._properties=a.hostAndRootPropertiesForScope(this).rootProps,a.mixinCustomStyle(this._properties,
this.customStyle),a.reify(this._properties));return this._properties},hasStyleProperties:function(){return!!this._properties},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(c){this._properties=null;c&&Polymer.Base.mixin(this.customStyle,c);this._styleCache.clear();c=0;for(var d;c<this._styles.length;c++)d=this._styles[c],d=d.__importElement||d,d._apply();b&&a.updateNativeStyleProperties(document.documentElement,this.customStyle)}}}();
(function(){var a=Polymer.Base.serializeValueToAttribute,b=Polymer.StyleProperties,c=Polymer.StyleTransformer,d=Polymer.StyleDefaults,e=Polymer.Settings.useNativeShadow,f=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){f||(this._ownStylePropertyNames=this._styles&&this._styles.length?b.decorateStyles(this._styles,this):null)},customStyle:null,getComputedStyleValue:function(a){f||this._styleProperties||this._computeStyleProperties();return!f&&this._styleProperties&&
this._styleProperties[a]||getComputedStyle(this).getPropertyValue(a)},_setupStyleProperties:function(){this.customStyle={};this._customStyle=this._ownStyleProperties=this._scopeSelector=this._styleProperties=this._styleCache=null},_needsStyleProperties:function(){return!(f||!this._ownStylePropertyNames||!this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var a=c.elementStyles(this);if(e){var b=this._template.content.querySelector("style");
b&&(b.textContent=a)}else if(b=this._scopeStyle&&this._scopeStyle.nextSibling)b.textContent=a}},_beforeAttached:function(){this._scopeSelector&&!this.__stylePropertiesInvalid||!this._needsStyleProperties()||(this.__stylePropertiesInvalid=!1,this._updateStyleProperties())},_findStyleHost:function(){for(var a=this;a=Polymer.dom(a).getOwnerRoot();){if(Polymer.isInstance(a.host))return a.host;a=a.host}return d},_updateStyleProperties:function(){var a=this._findStyleHost();a._styleProperties||a._computeStyleProperties();
a._styleCache||(a._styleCache=new Polymer.StyleCache);var c=b.propertyDataFromStyles(a._styles,this),d=!this.__notStyleScopeCacheable;if(d){c.key.customStyle=this.customStyle;var f=a._styleCache.retrieve(this.is,c.key,this._styles)}var h=!!f;h?this._styleProperties=f._styleProperties:this._computeStyleProperties(c.properties);this._computeOwnStyleProperties();h||(f=g.retrieve(this.is,this._ownStyleProperties,this._styles));var l=!!f&&!h;f=this._applyStyleProperties(f);h||(f=f&&e?f.cloneNode(!0):f,
f={style:f,_scopeSelector:this._scopeSelector,_styleProperties:this._styleProperties},d&&(c.key.customStyle={},this.mixin(c.key.customStyle,this.customStyle),a._styleCache.store(this.is,f,c.key,this._styles)),l||g.store(this.is,Object.create(f),this._ownStyleProperties,this._styles))},_computeStyleProperties:function(a){var c=this._findStyleHost();c._styleProperties||c._computeStyleProperties();var d=Object.create(c._styleProperties),e=b.hostAndRootPropertiesForScope(this);this.mixin(d,e.hostProps);
a=a||b.propertyDataFromStyles(c._styles,this).properties;this.mixin(d,a);this.mixin(d,e.rootProps);b.mixinCustomStyle(d,this.customStyle);b.reify(d);this._styleProperties=d},_computeOwnStyleProperties:function(){for(var a={},b=0,c;b<this._ownStylePropertyNames.length;b++)c=this._ownStylePropertyNames[b],a[c]=this._styleProperties[c];this._ownStyleProperties=a},_scopeCount:0,_applyStyleProperties:function(a){var c=this._scopeSelector;this._scopeSelector=a?a._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;
a=b.applyElementStyle(this,this._styleProperties,this._scopeSelector,a&&a.style);e||b.applyElementScopeSelector(this,this._scopeSelector,c,this._scopeCssViaAttr);return a},serializeValueToAttribute:function(b,c,d){d=d||this;if("class"===c&&!e){var f=d===this?this.domHost||this.dataHost:this;f&&(b=f._scopeElementClass(d,b))}d=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(d):d;a.call(this,b,c,d)},_scopeElementClass:function(a,b){e||this._scopeCssViaAttr||(b=(b?b+" ":"")+h+" "+this.is+(a._scopeSelector?
" "+l+" "+a._scopeSelector:""));return b},updateStyles:function(a){a&&this.mixin(this.customStyle,a);f?b.updateNativeStyleProperties(this,this.customStyle):(this.isAttached?this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null:this.__stylePropertiesInvalid=!0,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(a){a=a||this.root;a=Polymer.dom(a)._query(function(a){return a.shadyRoot||a.shadowRoot});for(var b=0,c=a.length,
d;b<c&&(d=a[b]);b++)d.updateStyles&&d.updateStyles()}});Polymer.updateStyles=function(a){d.updateStyles(a);Polymer.Base._updateRootStyles(document)};var g=new Polymer.StyleCache;Polymer.customStyleCache=g;var h=c.SCOPE_NAME,l=b.XSCOPE_NAME})();
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this.factoryImpl&&this._prepConstructor();this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate();this._prepShimStyles();this._prepAnnotations();this._prepEffects();this._prepBehaviors();this._prepPropertyInfo();this._prepBindings();this._prepShady()},_prepBehavior:function(a){this._addPropertyEffects(a.properties);this._addComplexObserverEffects(a.observers);this._addHostAttributes(a.hostAttributes)},_initFeatures:function(){this._setupGestures();
this._setupConfigure(this.__data__);this._setupStyleProperties();this._setupDebouncers();this._setupShady();this._registerHost();this._template&&(this._validateApplyShim(),this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting(),this._marshalAnnotationReferences());this._marshalInstanceEffects();this._marshalBehaviors();this._marshalHostAttributes();this._marshalAttributes();this._tryReady()},_marshalBehavior:function(a){a.listeners&&this._listenListeners(a.listeners)}});
(function(){var a=Polymer.StyleProperties,b=Polymer.StyleUtil,c=Polymer.CssParse,d=Polymer.StyleDefaults,e=Polymer.StyleTransformer,f=Polymer.ApplyShim,g=Polymer.Debounce,h=Polymer.Settings,l;Polymer({is:"custom-style",extends:"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this;this.__cssBuild=b.getCssBuildType(this);this.__appliedElement!==this&&(this.__appliedElement.__cssBuild=this.__cssBuild);this.ownerDocument!==window.document&&
this.__appliedElement===this&&document.head.appendChild(this);this._tryApply()},attached:function(){this._tryApply()},_tryApply:function(){if(!this._appliesToDocument&&this.parentNode&&"dom-module"!==this.parentNode.localName){this._appliesToDocument=!0;var a=this.__appliedElement;h.useNativeCSSProperties||(this.__needsUpdateStyles=d.hasStyleProperties(),d.addStyle(a));if(a.textContent||this.include)this._apply(!0);else{var b=this,c=new MutationObserver(function(){c.disconnect();b._apply(!0)});c.observe(a,
{childList:!0})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(a){var c=this.__appliedElement;this.include&&(c.textContent=b.cssFromModules(this.include,!0)+c.textContent);if(c.textContent){var d=this.__cssBuild,g=b.isTargetedBuild(d);if(!h.useNativeCSSProperties||!g){var l=b.rulesForStyle(c);g||(b.forEachRule(l,function(a){e.documentRule(a)}),h.useNativeCSSProperties&&!d&&f.transform([c]));if(h.useNativeCSSProperties)c.textContent=b.toCssText(l);else{var m=this;c=function(){m._flushCustomProperties()};
a?Polymer.RenderStatus.whenReady(c):c()}}}},_flushCustomProperties:function(){this.__needsUpdateStyles?(this.__needsUpdateStyles=!1,l=g(l,this._updateStyles)):this._applyCustomProperties()},_applyCustomProperties:function(){var d=this.__appliedElement;this._computeStyleProperties();var e=this._styleProperties,f=b.rulesForStyle(d);f&&(d.textContent=b.toCssText(f,function(b){var d=b.cssText=b.parsedCssText;b.propertyInfo&&b.propertyInfo.cssText&&(d=c.removeCustomPropAssignment(d),b.cssText=a.valueForProperties(d,
e))}))}})})();
Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(a){this._templatized=a;a._content||(a._content=a.content);if(a._content._ctor)this.ctor=a._content._ctor,this._prepParentProperties(this.ctor.prototype,a);else{var b=Object.create(Polymer.Base);this._customPrepAnnotations(b,a);this._prepParentProperties(b,a);b._prepEffects();this._customPrepEffects(b);b._prepBehaviors();b._prepPropertyInfo();
b._prepBindings();b._notifyPathUp=this._notifyPathUpImpl;b._scopeElementClass=this._scopeElementClassImpl;b.listen=this._listenImpl;b._showHideChildren=this._showHideChildrenImpl;b.__setPropertyOrig=this.__setProperty;b.__setProperty=this.__setPropertyImpl;var c=this._constructorImpl,d=function(a,b){c.call(this,a,b)};d.prototype=b;b.constructor=d;this.ctor=a._content._ctor=d}},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(a){for(var b=
this._children,c=0;c<b.length;c++){var d=b[c];!!a!=!!d.__hideTemplateChildren__&&(d.nodeType===Node.TEXT_NODE?a?(d.__polymerTextContent__=d.textContent,d.textContent=""):d.textContent=d.__polymerTextContent__:d.style&&(a?(d.__polymerDisplay__=d.style.display,d.style.display="none"):d.style.display=d.__polymerDisplay__));d.__hideTemplateChildren__=a}},__setPropertyImpl:function(a,b,c,d){d&&d.__hideTemplateChildren__&&"textContent"==a&&(a="__polymerTextContent__");this.__setPropertyOrig(a,b,c,d)},_debounceTemplate:function(a){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",
a))},_flushTemplates:function(){Polymer.dom.flush()},_customPrepEffects:function(a){var b=a._parentProps,c;for(c in b)a._addPropertyEffect(c,"function",this._createHostPropEffector(c));for(c in this._instanceProps)a._addPropertyEffect(c,"function",this._createInstancePropEffector(c))},_customPrepAnnotations:function(a,b){var c=(a._template=document.createElement("template"))._content=b._content;if(!c._notes){var d=a._rootDataHost;d&&(Polymer.Annotations.prepElement=function(){d._prepElement()});c._notes=
Polymer.Annotations.parseAnnotations(b);Polymer.Annotations.prepElement=null;this._processAnnotations(c._notes)}a._notes=c._notes;a._parentProps=c._parentProps},_prepParentProperties:function(a,b){var c=this._parentProps=a._parentProps;if(this._forwardParentProp&&c){var d=a._parentPropProto,e;if(!d){for(e in this._instanceProps)delete c[e];d=a._parentPropProto=Object.create(null);b!=this&&(Polymer.Bind.prepareModel(d),Polymer.Base.prepareModelNotifyPath(d));for(e in c)a=this._parentPropPrefix+e,c=
[{kind:"function",effect:this._createForwardPropEffector(e),fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(a)+"-changed"}}],d._propertyEffects=d._propertyEffects||{},d._propertyEffects[a]=c,Polymer.Bind._createAccessors(d,a,c)}var f=this;b!=this&&(Polymer.Bind.prepareInstance(b),b._forwardParentProp=function(a,b){f._forwardParentProp(a,b)});this._extendTemplate(b,d);b._pathEffector=function(a,b,c){return f._pathEffectorImpl(a,
b,c)}}},_createForwardPropEffector:function(a){return function(b,c){this._forwardParentProp(a,c)}},_createHostPropEffector:function(a){var b=this._parentPropPrefix;return function(c,d){this.dataHost._templatized[b+a]=d}},_createInstancePropEffector:function(a){return function(b,c,d,e){e||this.dataHost._forwardInstanceProp(this,a,c)}},_extendTemplate:function(a,b){var c=Object.getOwnPropertyNames(b);b._propertySetter&&(a._propertySetter=b._propertySetter);for(var d=0,e;d<c.length&&(e=c[d]);d++){var f=
a[e];if(f&&"_propertyEffects"==e)f=Polymer.Base.mixin({},f),a._propertyEffects=Polymer.Base.mixin(f,b._propertyEffects);else{var g=Object.getOwnPropertyDescriptor(b,e);Object.defineProperty(a,e,g);void 0!==f&&a._propertySetter(e,f)}}},_showHideChildren:function(){},_forwardInstancePath:function(){},_forwardInstanceProp:function(){},_notifyPathUpImpl:function(a,b){var c=this.dataHost,d=Polymer.Path.root(a);c._forwardInstancePath.call(c,this,a,b);d in c._parentProps&&c._templatized._notifyPath(c._parentPropPrefix+
a,b)},_pathEffectorImpl:function(a,b,c){if(this._forwardParentPath&&0===a.indexOf(this._parentPropPrefix)){var d=a.substring(this._parentPropPrefix.length);Polymer.Path.root(d)in this._parentProps&&this._forwardParentPath(d,b)}Polymer.Base._pathEffector.call(this._templatized,a,b,c)},_constructorImpl:function(a,b){this._rootDataHost=b._getRootDataHost();this._setupConfigure(a);this._registerHost(b);this._beginHosting();this.root=this.instanceTemplate(this._template);this.root.__noContent=!this._notes._hasContent;
this.root.__styleScoped=!0;this._endHosting();this._marshalAnnotatedNodes();this._marshalInstanceEffects();this._marshalAnnotatedListeners();a=[];for(var c=this.root.firstChild;c;c=c.nextSibling)a.push(c),c._templateInstance=this;this._children=a;b.__hideTemplateChildren__&&this._showHideChildren(!0);this._tryReady()},_listenImpl:function(a,b,c){var d=this,e=this._rootDataHost,f=e._createEventHandler(a,b,c);e._listen(a,b,function(a){a.model=d;f(a)})},_scopeElementClassImpl:function(a,b){var c=this._rootDataHost;
return c?c._scopeElementClass(a,b):b},stamp:function(a){a=a||{};if(this._parentProps){var b=this._templatized,c;for(c in this._parentProps)void 0===a[c]&&(a[c]=b[this._parentPropPrefix+c])}return new this.ctor(a,this)},modelForElement:function(a){for(var b;a;)if(b=a._templateInstance)if(b.dataHost!=this)a=b.dataHost;else return b;else a=a.parentNode}};Polymer({is:"dom-template",extends:"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}});
Polymer._collections=new WeakMap;Polymer.Collection=function(a){Polymer._collections.set(a,this);this.userArray=a;this.store=a.slice();this.initMap()};
Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var a=this.omap=new WeakMap,b=this.pmap={},c=this.store,d=0;d<c.length;d++){var e=c[d];e&&"object"==typeof e?a.set(e,d):b[e]=d}},add:function(a){var b=this.store.push(a)-1;a&&"object"==typeof a?this.omap.set(a,b):this.pmap[a]=b;return"#"+b},removeKey:function(a){if(a=xa(a))ya(this,this.store[a]),delete this.store[a]},remove:function(a){a=this.getKey(a);this.removeKey(a);return a},getKey:function(a){a=a&&"object"==
typeof a?this.omap.get(a):this.pmap[a];if(void 0!=a)return"#"+a},getKeys:function(){return Object.keys(this.store).map(function(a){return"#"+a})},setItem:function(a,b){if(a=xa(a)){var c=this.store[a];c&&ya(this,c);b&&"object"==typeof b?this.omap.set(b,a):this.pmap[b]=a;this.store[a]=b}},getItem:function(a){if(a=xa(a))return this.store[a]},getItems:function(){var a=[],b=this.store,c;for(c in b)a.push(b[c]);return a}};function xa(a){if(a&&"#"==a[0])return a.slice(1)}
function ya(a,b){b&&"object"==typeof b?a.omap.delete(b):delete a.pmap[b]}Polymer.Collection.get=function(a){return Polymer._collections.get(a)||new Polymer.Collection(a)};
Polymer.Collection.applySplices=function(a,b){a=Polymer._collections.get(a);if(a){for(var c={},d=0,e;d<b.length&&(e=b[d]);d++){e.addedKeys=[];for(var f=0;f<e.removed.length;f++){var g=a.getKey(e.removed[f]);c[g]=c[g]?null:-1}for(f=0;f<e.addedCount;f++){var h=a.userArray[e.index+f];g=a.getKey(h);g=void 0===g?a.add(h):g;c[g]=c[g]?null:1;e.addedKeys.push(g)}}b=[];e=[];for(g in c)0>c[g]&&(a.removeKey(g),b.push(g)),0<c[g]&&e.push(g);g=[{removed:b,added:e}]}else g=null;return g};
function DomRepeatElement(){}k=DomRepeatElement.prototype;k.ctor=function(){};k.stamp=function(){};k.templatize=function(){};k.modelForElement=function(){};k._debounceTemplate=function(){};k._setRenderedItemCount=function(){};
Polymer({is:"dom-repeat",extends:"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Polymer.Settings.suppressTemplateNotifications,readOnly:!0},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,value:20},
notifyDomChange:{type:Boolean},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[];this._pool=[];this._limit=Infinity;var a=this;this._boundRenderChunk=function(){a._renderChunk()}},detached:function(){this.__isDetached=!0;for(var a=0;a<this._instances.length;a++)this._detachInstance(a)},attached:function(){if(this.__isDetached){this.__isDetached=!1;var a=Polymer.dom(this).parentNode;
if(a.localName==this.is){var b=a;a=Polymer.dom(a).parentNode}else b=this;a=Polymer.dom(a);for(var c=0;c<this._instances.length;c++)this._attachInstance(c,a,b)}},ready:function(){this._instanceProps={__key__:!0};this._instanceProps[this.as]=!0;this._instanceProps[this.indexAs]=!0;this.ctor||this.templatize(this)},_sortChanged:function(a){var b=this._getRootDataHost();this._sortFn=a&&("function"==typeof a?a:function(){return b[a].apply(b,arguments)});this._needFullRefresh=!0;this.items&&this._debounceTemplate(this._render)},
_filterChanged:function(a){var b=this._getRootDataHost();this._filterFn=a&&("function"==typeof a?a:function(){return b[a].apply(b,arguments)});this._needFullRefresh=!0;this.items&&this._debounceTemplate(this._render)},_computeFrameTime:function(a){return Math.ceil(1E3/a)},_initializeChunking:function(){this.initialCount&&(this._chunkCount=this._limit=this.initialCount,this._lastChunkTime=performance.now())},_tryRenderChunk:function(){this.items&&this._limit<this.items.length&&this.debounce("renderChunk",
this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},_renderChunk:function(){var a=performance.now();this._chunkCount=Math.round(this._targetFrameTime/(a-this._lastChunkTime)*this._chunkCount)||1;this._limit+=this._chunkCount;this._lastChunkTime=a;this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(a){if("items"==a.path)Array.isArray(this.items)?
this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat","expected array for `items`, found",this.items)):this.collection=null,this._keySplices=[],this._indexSplices=[],this._needFullRefresh=!0,this._initializeChunking(),this._debounceTemplate(this._render);else if("items.splices"==a.path)this._keySplices=this._keySplices.concat(a.value.keySplices),this._indexSplices=this._indexSplices.concat(a.value.indexSplices),this._debounceTemplate(this._render);else{var b=
a.path.slice(6);this._forwardItemPath(b,a.value);this._checkObservedPaths(b)}},_checkObservedPaths:function(a){if(this._observePaths){a=a.substring(a.indexOf(".")+1);for(var b=this._observePaths,c=0;c<b.length;c++)if(0===a.indexOf(b[c])){this._needFullRefresh=!0;this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render);break}}},render:function(){this._needFullRefresh=!0;this._debounceTemplate(this._render);this._flushTemplates()},_render:function(){this._needFullRefresh?
(this._applyFullRefresh(),this._needFullRefresh=!1):this._keySplices.length&&(this._sortFn?this._applySplicesUserSort(this._keySplices):this._filterFn?this._applyFullRefresh():this._applySplicesArrayOrder(this._indexSplices));this._keySplices=[];this._indexSplices=[];for(var a=this._keyToInstIdx={},b=this._instances.length-1;0<=b;b--){var c=this._instances[b];c.isPlaceholder&&b<this._limit?c=this._insertInstance(b,c.__key__):!c.isPlaceholder&&b>=this._limit&&(c=this._downgradeInstance(b,c.__key__));
a[c.__key__]=b;c.isPlaceholder||c.__setProperty(this.indexAs,b,!0)}this._pool.length=0;this._setRenderedItemCount(this._instances.length);Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change");this._tryRenderChunk()},_applyFullRefresh:function(){var a=this.collection;if(this._sortFn)var b=a?a.getKeys():[];else{b=[];var c=this.items;if(c)for(var d=0;d<c.length;d++)b.push(a.getKey(c[d]))}var e=this;this._filterFn&&(b=b.filter(function(b){return e._filterFn(a.getItem(b))}));
this._sortFn&&b.sort(function(b,c){return e._sortFn(a.getItem(b),a.getItem(c))});for(d=0;d<b.length;d++){c=b[d];var f=this._instances[d];f?(f.__key__=c,!f.isPlaceholder&&d<this._limit&&f.__setProperty(this.as,a.getItem(c),!0)):d<this._limit?this._insertInstance(d,c):this._insertPlaceholder(d,c)}for(b=this._instances.length-1;b>=d;b--)this._detachAndRemoveInstance(b)},_numericSort:function(a,b){return a-b},_applySplicesUserSort:function(a){for(var b=this.collection,c={},d,e=0,f;e<a.length&&(f=a[e]);e++){for(var g=
0;g<f.removed.length;g++)d=f.removed[g],c[d]=c[d]?null:-1;for(g=0;g<f.added.length;g++)d=f.added[g],c[d]=c[d]?null:1}f=[];a=[];for(d in c)-1===c[d]&&f.push(this._keyToInstIdx[d]),1===c[d]&&a.push(d);if(f.length)for(f.sort(this._numericSort),e=f.length-1;0<=e;e--)c=f[e],void 0!==c&&this._detachAndRemoveInstance(c);var h=this;if(a.length)for(this._filterFn&&(a=a.filter(function(a){return h._filterFn(b.getItem(a))})),a.sort(function(a,c){return h._sortFn(b.getItem(a),b.getItem(c))}),e=c=0;e<a.length;e++)c=
this._insertRowUserSort(c,a[e])},_insertRowUserSort:function(a,b){for(var c=this.collection,d=c.getItem(b),e=this._instances.length-1,f=-1;a<=e;){var g=a+e>>1,h=this._sortFn(c.getItem(this._instances[g].__key__),d);if(0>h)a=g+1;else if(0<h)e=g-1;else{f=g;break}}0>f&&(f=e+1);this._insertPlaceholder(f,b);return f},_applySplicesArrayOrder:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++){for(var d=0;d<c.removed.length;d++)this._detachAndRemoveInstance(c.index);for(d=0;d<c.addedKeys.length;d++)this._insertPlaceholder(c.index+
d,c.addedKeys[d])}},_detachInstance:function(a){a=this._instances[a];if(!a.isPlaceholder){for(var b=0;b<a._children.length;b++){var c=a._children[b];Polymer.dom(a.root).appendChild(c)}return a}},_attachInstance:function(a,b,c){a=this._instances[a];a.isPlaceholder||b.insertBefore(a.root,c)},_detachAndRemoveInstance:function(a){var b=this._detachInstance(a);b&&this._pool.push(b);this._instances.splice(a,1)},_insertPlaceholder:function(a,b){this._instances.splice(a,0,{isPlaceholder:!0,__key__:b})},_stampInstance:function(a,
b){var c={__key__:b};c[this.as]=this.collection.getItem(b);c[this.indexAs]=a;return this.stamp(c)},_insertInstance:function(a,b){var c=this._pool.pop();c?(c.__setProperty(this.as,this.collection.getItem(b),!0),c.__setProperty("__key__",b,!0)):c=this._stampInstance(a,b);b=(b=this._instances[a+1])&&!b.isPlaceholder?b._children[0]:this;var d=Polymer.dom(this).parentNode;d.localName==this.is&&(b==this&&(b=d),d=Polymer.dom(d).parentNode);Polymer.dom(d).insertBefore(c.root,b);return this._instances[a]=
c},_downgradeInstance:function(a,b){var c=this._detachInstance(a);c&&this._pool.push(c);c={isPlaceholder:!0,__key__:b};return this._instances[a]=c},_showHideChildren:function(a){for(var b=0;b<this._instances.length;b++)this._instances[b].isPlaceholder||this._instances[b]._showHideChildren(a)},_forwardInstanceProp:function(a,b,c){b==this.as&&(a=this._sortFn||this._filterFn?this.items.indexOf(this.collection.getItem(a.__key__)):a[this.indexAs],this.set("items."+a,c))},_forwardInstancePath:function(a,
b,c){0===b.indexOf(this.as+".")&&this._notifyPath("items."+a.__key__+"."+b.slice(this.as.length+1),c)},_forwardParentProp:function(a,b){for(var c=this._instances,d=0,e;d<c.length&&(e=c[d]);d++)e.isPlaceholder||e.__setProperty(a,b,!0)},_forwardParentPath:function(a,b){for(var c=this._instances,d=0,e;d<c.length&&(e=c[d]);d++)e.isPlaceholder||e._notifyPath(a,b,!0)},_forwardItemPath:function(a,b){if(this._keyToInstIdx){var c=a.indexOf("."),d=this._instances[this._keyToInstIdx[a.substring(0,0>c?a.length:
c)]];d&&!d.isPlaceholder&&(0<=c?(a=this.as+"."+a.substring(c+1),d._notifyPath(a,b,!0)):d.__setProperty(this.as,b,!0))}},itemForElement:function(a){return(a=this.modelForElement(a))&&a[this.as]},keyForElement:function(a){return(a=this.modelForElement(a))&&a.__key__},indexForElement:function(a){return(a=this.modelForElement(a))&&a[this.indexAs]}});
Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:!1,observer:"clearSelection"},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}},clearSelection:function(){if(Array.isArray(this.selected))for(var a=0;a<this.selected.length;a++)this.unlinkPaths("selected."+a);else this.unlinkPaths("selected"),this.unlinkPaths("selectedItem");if(this.multi){if(!this.selected||this.selected.length)this.selected=
[],this._selectedColl=Polymer.Collection.get(this.selected)}else this._selectedColl=this.selected=null;this.selectedItem=null},isSelected:function(a){return this.multi?void 0!==this._selectedColl.getKey(a):this.selected==a},deselect:function(a){if(this.multi){if(this.isSelected(a)){var b=this._selectedColl.getKey(a);this.arrayDelete("selected",a);this.unlinkPaths("selected."+b)}}else this.selectedItem=this.selected=null,this.unlinkPaths("selected"),this.unlinkPaths("selectedItem")},select:function(a){var b=
Polymer.Collection.get(this.items).getKey(a);this.multi?this.isSelected(a)?this.toggle&&this.deselect(a):(this.push("selected",a),a=this._selectedColl.getKey(a),this.linkPaths("selected."+a,"items."+b)):this.toggle&&a==this.selected?this.deselect():(this.selectedItem=this.selected=a,this.linkPaths("selected","items."+b),this.linkPaths("selectedItem","items."+b))}});
Polymer({is:"dom-if",extends:"template",_template:null,properties:{"if":{type:Boolean,value:!1,observer:"_queueRender"},restamp:{type:Boolean,value:!1,observer:"_queueRender"},notifyDomChange:{type:Boolean}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){var a=this.parentNode;a&&a.localName==this.is&&(a=Polymer.dom(a).parentNode);a&&(a.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Polymer.Settings.hasShadow&&a instanceof ShadowRoot)||this._teardownInstance()},
attached:function(){this.if&&this.ctor&&this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){this.if?(this.ctor||this.templatize(this),this._ensureInstance(),this._showHideChildren()):this.restamp&&this._teardownInstance();!this.restamp&&this._instance&&this._showHideChildren();this.if!=this._lastIf&&(Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change"),this._lastIf=this.if)},_ensureInstance:function(){var a=Polymer.dom(this).parentNode;
if(a&&a.localName==this.is){var b=a;a=Polymer.dom(a).parentNode}else b=this;if(a)if(this._instance){var c=this._instance._children;if(c&&c.length&&Polymer.dom(b).previousSibling!==c[c.length-1])for(var d=0,e;d<c.length&&(e=c[d]);d++)Polymer.dom(a).insertBefore(e,b)}else this._instance=this.stamp(),c=this._instance.root,Polymer.dom(a).insertBefore(c,b)},_teardownInstance:function(){if(this._instance){var a=this._instance._children;if(a&&a.length)for(var b=Polymer.dom(Polymer.dom(a[0]).parentNode),
c=0,d;c<a.length&&(d=a[c]);c++)b.removeChild(d);this._instance=null}},_showHideChildren:function(){var a=this.__hideTemplateChildren__||!this.if;this._instance&&this._instance._showHideChildren(a)},_forwardParentProp:function(a,b){this._instance&&this._instance.__setProperty(a,b,!0)},_forwardParentPath:function(a,b){this._instance&&this._instance._notifyPath(a,b,!0)}});
Polymer({is:"dom-bind",properties:{notifyDomChange:{type:Boolean}},extends:"template",_template:null,created:function(){var a=this;Polymer.RenderStatus.whenReady(function(){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function(){a._markImportsReady()}):a._markImportsReady()})},_ensureReady:function(){this._readied||this._readySelf()},_markImportsReady:function(){this._importsReady=!0;this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},_insertChildren:function(){var a=
Polymer.dom(this).parentNode;if(a.localName==this.is){var b=a;a=Polymer.dom(a).parentNode}else b=this;Polymer.dom(a).insertBefore(this.root,b)},_removeChildren:function(){if(this._children)for(var a=0;a<this._children.length;a++)this.root.appendChild(this._children[a])},_initFeatures:function(){},_scopeElementClass:function(a,b){return this.dataHost?this.dataHost._scopeElementClass(a,b):b},_configureInstanceProperties:function(){},_prepConfigure:function(){var a={},b;for(b in this._propertyEffects)a[b]=
this[b];var c=this._setupConfigure;this._setupConfigure=function(){c.call(this,a)}},attached:function(){this._importsReady&&this.render()},detached:function(){this._removeChildren()},render:function(){this._ensureReady();this._children||(this._template=this,this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),this._prepPropertyInfo(),Polymer.Base._initFeatures.call(this),this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root));this._insertChildren();
Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change")}});
</script>













<script>//~~WEBPATH~~/iron-flex-layout/iron-flex-layout.html.js
var za=document.createElement("style");za.textContent="[hidden] { display: none !important; }";document.head.appendChild(za);
</script><style>[hidden] { display: none !important; }</style>
</head><body><custom-style>
  <style is="custom-style">[hidden]:not([style-scope]):not(.style-scope) {
  display: none !important;
}

</style>
</custom-style>

<custom-style>
  <style is="custom-style"></style>
</custom-style>





<script>//~~WEBPATH~~/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html.js
(function(){function a(a,b){var c="";if(a)if(a=a.toLowerCase()," "===a||n.test(a))c="space";else if(q.test(a))c="esc";else if(1==a.length){if(!b||h.test(a))c=a}else c=m.test(a)?a.replace("arrow",""):"multiply"==a?"*":a;return c}function b(b,c){var d=b.hasModifiers;if(c.key)d=a(c.key,d);else if(c.detail&&c.detail.key)d=a(c.detail.key,d);else{d=c.keyIdentifier;var g="";d&&(d in e?g=e[d]:l.test(d)?(d=parseInt(d.replace("U+","0x"),16),g=String.fromCharCode(d).toLowerCase()):g=d.toLowerCase());(d=g)||
(d=c.keyCode,g="",Number(d)&&(g=65<=d&&90>=d?String.fromCharCode(32+d):112<=d&&123>=d?"f"+(d-112+1):48<=d&&57>=d?String(d-48):96<=d&&105>=d?String(d-96):f[d]),d=g);d=d||""}return d===b.key&&(!b.hasModifiers||!!c.shiftKey===!!b.shiftKey&&!!c.ctrlKey===!!b.ctrlKey&&!!c.altKey===!!b.altKey&&!!c.metaKey===!!b.metaKey)}function c(a){return 1===a.length?{combo:a,key:a,event:"keydown"}:a.split("+").reduce(function(a,b){var c=b.split(":");b=c[0];c=c[1];b in g?(a[g[b]]=!0,a.hasModifiers=!0):(a.key=b,a.event=
c||"keydown");return a},{combo:a.split(":").shift()})}function d(a){return a.trim().split(" ").map(function(a){return c(a)})}var e={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},f={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},g={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},h=/[a-z0-9*]/,l=/U\+/,m=/^arrow/,n=/^space(bar)?/,q=/^escape$/;
Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},
addOwnKeyBinding:function(a,b){this._imperativeKeyBindings[a]=b;this._prepKeyBindings();this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(a,c){c=d(c);for(var e=0;e<c.length;++e)if(b(c[e],a))return!0;return!1},_collectKeyBindings:function(){var a=this.behaviors.map(function(a){return a.keyBindings});-1===a.indexOf(this.keyBindings)&&a.push(this.keyBindings);return a},
_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(a){for(var b in a)this._addKeyBinding(b,a[b])},this);for(var a in this._imperativeKeyBindings)this._addKeyBinding(a,this._imperativeKeyBindings[a]);for(var b in this._keyBindings)this._keyBindings[b].sort(function(a,b){a=a[0].hasModifiers;return a===b[0].hasModifiers?0:a?-1:1})},_addKeyBinding:function(a,b){d(a).forEach(function(a){this._keyBindings[a.event]=this._keyBindings[a.event]||[];this._keyBindings[a.event].push([a,
b])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(a){var b=this._onKeyBindingEvent.bind(this,this._keyBindings[a]);this._boundKeyHandlers.push([this.keyEventTarget,a,b]);this.keyEventTarget.addEventListener(a,b)},this)},_unlistenKeyEventListeners:function(){for(var a,b,c;this._boundKeyHandlers.length;)a=this._boundKeyHandlers.pop(),
b=a[0],c=a[1],a=a[2],b.removeEventListener(c,a)},_onKeyBindingEvent:function(a,c){this.stopKeyboardEventPropagation&&c.stopPropagation();if(!c.defaultPrevented)for(var d=0;d<a.length;d++){var e=a[d][0],f=a[d][1];if(b(e,c)&&(this._triggerKeyHandler(e,f,c),c.defaultPrevented))break}},_triggerKeyHandler:function(a,b,c){var d=Object.create(a);d.keyboardEvent=c;a=new CustomEvent(a.event,{detail:d,cancelable:!0});this[b].call(this,a);a.defaultPrevented&&c.preventDefault()}}})();
</script>



<script>//~~WEBPATH~~/iron-behaviors/iron-control-state.html.js
Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",
this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false");
this.style.pointerEvents=a?"none":"";a?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};
</script>


<script>//~~WEBPATH~~/iron-behaviors/iron-button-state.html.js
Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},
observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(a){this._detectKeyboardFocus(a);a||this._setPressed(!1)},_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},_userActivate:function(a){this.active!==
a&&(this.active=a,this.fire("change"))},_downHandler:function(){this._setPointerDown(!0);this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},_spaceKeyDownHandler:function(a){a=a.detail.keyboardEvent;var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||(a.preventDefault(),a.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(a){a=Polymer.dom(a.detail.keyboardEvent).localTarget;this.isLightDescendant(a)||
(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?"true":"false"):this.removeAttribute(this.ariaActiveAttribute);this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):
this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}};Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];
</script>








<dom-module id="paper-ripple">

  <template>
    

    <div id="background" class="style-scope paper-ripple"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/paper-ripple/paper-ripple.html.js
(function(){function a(a){this.element=a;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=Math.max(this.width,this.height)}function b(a){this.element=a;this.color=window.getComputedStyle(a).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}
var c={distance:function(a,b,c,g){a-=c;b-=g;return Math.sqrt(a*a+b*b)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(a,b){var d=c.distance(a,b,0,0),e=c.distance(a,b,this.width,0),h=c.distance(a,b,0,this.height);a=c.distance(a,b,this.width,this.height);return Math.max(d,e,h,a)}};b.MAX_RADIUS=300;b.prototype={get recenters(){return this.element.recenters},
get center(){return this.element.center},get mouseDownElapsed(){if(!this.mouseDownStart)return 0;var a=c.now()-this.mouseDownStart;this.mouseUpStart&&(a-=this.mouseUpElapsed);return a},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1E3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1E3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},
get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var a=1.1*Math.min(Math.sqrt(this.containerMetrics.width*this.containerMetrics.width+this.containerMetrics.height*this.containerMetrics.height),b.MAX_RADIUS)+5;return Math.abs(a*(1-Math.pow(80,-(this.mouseInteractionSeconds/(1.1-a/b.MAX_RADIUS*.2)))))},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){return Math.max(0,
Math.min(.3*this.mouseUpElapsedSeconds,this.opacity))},get isOpacityFullyDecayed(){return.01>this.opacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?
this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.slideDistance=this.yEnd=this.xEnd=this.yStart=this.xStart=this.mouseUpStart=this.mouseDownStart=this.maxRadius=0;this.containerMetrics=new a(this.element)},draw:function(){this.wave.style.opacity=this.opacity;var a=this.radius/
(this.containerMetrics.size/2);var b=this.xNow-this.containerMetrics.width/2;var c=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+b+"px, "+c+"px)";this.waveContainer.style.transform="translate3d("+b+"px, "+c+"px, 0)";this.wave.style.webkitTransform="scale("+a+","+a+")";this.wave.style.transform="scale3d("+a+","+a+",1)"},downAction:function(a){var b=this.containerMetrics.width/2,d=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=
c.now();this.center?(this.xStart=b,this.yStart=d,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=a?a.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=a?a.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2);this.recenters&&(this.xEnd=b,this.yEnd=d,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd));this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,
this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(){this.isMouseDown&&(this.mouseUpStart=c.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};Polymer({is:"paper-ripple",
behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},
get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){var a=this.keyEventTarget=11==this.parentNode.nodeType?Polymer.dom(this).getOwnerRoot().host:this.parentNode;this.listen(a,"up","uiUpAction");this.listen(a,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction");this.unlisten(this.keyEventTarget,"down","uiDownAction");this.keyEventTarget=
null},get shouldKeepAnimating(){for(var a=0;a<this.ripples.length;++a)if(!this.ripples[a].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null);this.async(function(){this.upAction()},1)},uiDownAction:function(a){this.noink||this.downAction(a)},downAction:function(a){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(a),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(a){this.noink||this.upAction(a)},upAction:function(a){this.holdDown||
(this.ripples.forEach(function(b){b.upAction(a)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},addRipple:function(){var a=new b(this);Polymer.dom(this.$.waves).appendChild(a.waveContainer);this.$.background.style.backgroundColor=a.color;this.ripples.push(a);this._setAnimating(!0);return a},removeRipple:function(a){var b=this.ripples.indexOf(a);0>b||(this.ripples.splice(b,1),a.remove(),
this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var a;for(a=0;a<this.ripples.length;++a){var b=this.ripples[a];b.draw();this.$.background.style.opacity=b.outerOpacity;b.isOpacityFullyDecayed&&!b.isRestingAtMaxRadius&&this.removeRipple(b)}if(this.shouldKeepAnimating||0!==this.ripples.length)window.requestAnimationFrame(this._boundAnimate);else this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},
_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(a,b){void 0!==b&&(a?this.downAction():this.upAction())}})})();
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-ripple-behavior.html.js
Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a);this.pressed&&this.ensureRipple(a)},ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;b&&Polymer.dom(b).appendChild(this._ripple);if(a){b=
Polymer.dom(this._rippleContainer||this);var c=Polymer.dom(a).rootTarget;b.deepContains(c)&&this._ripple.uiDownAction(a)}}},getRipple:function(){this.ensureRipple();return this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-button-behavior.html.js
Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3);this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass("keyboard-focus",
a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a);this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a);this.hasRipple()&&this._ripple.uiUpAction()}};Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];
</script>




<custom-style>
  <style is="custom-style"></style>
</custom-style>




<dom-module id="paper-material-styles">
  <template>
    
  </template>
</dom-module>




<dom-module id="paper-button">
  <template strip-whitespace=""><content class="style-scope paper-button"></content></template>

  <script>//~~WEBPATH~~/paper-button/paper-button.html.js
Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});
</script>
</dom-module>





<custom-style>
  <style is="custom-style"></style>
</custom-style>




<custom-style>
  <style is="custom-style"></style>
</custom-style>








<script>//~~WEBPATH~~/iron-meta/iron-meta.html.js
(function(){Polymer.IronMeta=function(a){Polymer.IronMeta[" "](a);this.type=a&&a.type||"default";this.key=a&&a.key;a&&"value"in a&&(this.value=a.value)};Polymer.IronMeta[" "]=function(){};Polymer.IronMeta.types={};Polymer.IronMeta.prototype={get value(){var a=this.type,c=this.key;if(a&&c)return Polymer.IronMeta.types[a]&&Polymer.IronMeta.types[a][c]},set value(a){var b=this.type,d=this.key;b&&d&&(b=Polymer.IronMeta.types[b]=Polymer.IronMeta.types[b]||{},null==a?delete b[d]:b[d]=a)},get list(){if(this.type){var b=
Polymer.IronMeta.types[this.type];return b?Object.keys(b).map(function(b){return a[this.type][b]},this):[]}},byKey:function(a){this.key=a;return this.value}};var a=Polymer.IronMeta.types;Polymer({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(a,c,d){a=new Polymer.IronMeta({type:a,
key:c});void 0!==d&&d!==a.value?a.value=d:this.value!==a.value&&(this.value=a.value);return a},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(a){a&&(this.value=this)},byKey:function(a){return(new Polymer.IronMeta({type:this.type,key:a})).value}})})();
</script>


<script>//~~WEBPATH~~/iron-validatable-behavior/iron-validatable-behavior.html.js
Polymer.IronValidatableBehaviorMeta=null;
Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Object,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},
hasValidator:function(){return null!=this._validator},validate:function(a){this.invalid=!this._getValidity(a);return!this.invalid},_getValidity:function(a){return this.hasValidator()?this._validator.validate(a):!0},__computeValidator:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)}};
</script>



<script>//~~WEBPATH~~/iron-form-element-behavior/iron-form-element-behavior.html.js
Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){Polymer.Element||this.fire("iron-form-element-register")},detached:function(){!Polymer.Element&&this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}};
</script>


<script>//~~WEBPATH~~/iron-checked-element-behavior/iron-checked-element-behavior.html.js
Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required",
"true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function(){if(void 0===this.value||null===this.value)this.value="on"}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];
</script>





<script>//~~WEBPATH~~/paper-behaviors/paper-inky-focus-behavior.html.js
Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.holdDown=a)},_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();a.id="ink";a.setAttribute("center","");a.classList.add("circle");return a}};Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-checked-element-behavior.html.js
Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);!this.disabled&&this.isAttached&&(this.checked=this.active)}};
Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];
</script>




<dom-module id="paper-checkbox">
  <template strip-whitespace=""><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="style-scope paper-checkbox"><div id="checkmark" class="style-scope paper-checkbox"></div></div></div><div id="checkboxLabel" class="style-scope paper-checkbox"><content class="style-scope paper-checkbox"></content></div></template>

  <script>//~~WEBPATH~~/paper-checkbox/paper-checkbox.html.js
Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var a=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),b="px",c=a.match(/[A-Za-z]+$/);null!==c&&(b=c[0]);a=parseFloat(a);
c=8/3*a;"px"===b&&(c=Math.floor(c),c%2!==a%2&&c++);this.updateStyles({"--paper-checkbox-ink-size":c+b})}})},_computeCheckboxClass:function(a,b){var c="";a&&(c+="checked ");b&&(c+="invalid");return c},_computeCheckmarkClass:function(a){return a?"":"hidden"},_createRipple:function(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});
</script>
</dom-module>












<dom-module id="iron-icon">
  <template>
    
  </template>

  <script>//~~WEBPATH~~/iron-icon/iron-icon.html.js
Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(a){a=(a||"").split(":");this._iconName=a.pop();this._iconsetName=a.pop()||this._DEFAULT_ICONSET;this._updateIcon()},_srcChanged:function(){this._updateIcon()},
_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&((this._iconset=this._meta.byKey(this._iconsetName))?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&
this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});
</script>

</dom-module>









<dom-module id="iron-a11y-announcer">
  <template>
    
    <div class="style-scope iron-a11y-announcer"> </div>
  </template>

  <script>//~~WEBPATH~~/iron-a11y-announcer/iron-a11y-announcer.html.js
Polymer.IronA11yAnnouncer=function(){};Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this);document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(a){this._text="";this.async(function(){this._text=a},100)},_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}});
Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer"));document.body.appendChild(Polymer.IronA11yAnnouncer.instance)};
</script>
</dom-module>



<script>//~~WEBPATH~~/iron-input/iron-input.html.js
Polymer({is:"iron-input",extends:"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String,observer:"_allowedPatternChanged"},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1}},listeners:{input:"_onInput",keypress:"_onKeypress"},registered:function(){this._canDispatchEventOnDisabled()||(this._origDispatchEvent=this.dispatchEvent,this.dispatchEvent=
this._dispatchEventFirefoxIE)},created:function(){Polymer.IronA11yAnnouncer.requestAvailability()},_canDispatchEventOnDisabled:function(){var a=document.createElement("input"),b=!1;a.disabled=!0;a.addEventListener("feature-check-dispatch-event",function(){b=!0});try{a.dispatchEvent(new Event("feature-check-dispatch-event"))}catch(c){}return b},_dispatchEventFirefoxIE:function(a){var b=this.disabled;this.disabled=!1;a=this._origDispatchEvent(a);this.disabled=b;return a},get _patternRegExp(){if(this.allowedPattern)var a=
new RegExp(this.allowedPattern);else switch(this.type){case "number":a=/[0-9.,e-]/}return a},ready:function(){this.bindValue=this.value},_bindValueChanged:function(){this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue||!1===this.bindValue?this.bindValue:"");this.fire("bind-value-changed",{value:this.bindValue})},_allowedPatternChanged:function(){this.preventInvalidInput=this.allowedPattern?!0:!1},_onInput:function(){!this.preventInvalidInput||this._patternAlreadyChecked||this._checkPatternValidity()||
(this._announceInvalidCharacter("Invalid string of characters not entered."),this.value=this._previousValidInput);this._previousValidInput=this.bindValue=this.value;this._patternAlreadyChecked=!1},_isPrintable:function(a){var b=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!(8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode)&&!(0==a.charCode&&b)},_onKeypress:function(a){if(this.preventInvalidInput||
"number"===this.type){var b=this._patternRegExp;if(b&&!(a.metaKey||a.ctrlKey||a.altKey)){this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode);this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter("Invalid character "+c+" not entered."))}}},_checkPatternValidity:function(){var a=this._patternRegExp;if(!a)return!0;for(var b=0;b<this.value.length;b++)if(!a.test(this.value[b]))return!1;return!0},validate:function(){var a=this.checkValidity();a&&(this.required&&
""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_announceInvalidCharacter:function(a){this.fire("iron-announce",{text:a})}});
</script>





<script>//~~WEBPATH~~/paper-input/paper-input-behavior.html.js
Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;Polymer.PaperInputHelper.NextInputID=1;
Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},
validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},
_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){this.$||(this.$={});this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId));return this.$.input},get _focusableElement(){return this.inputElement},registered:function(){this._typesThatHaveText="date datetime datetime-local month time week file".split(" ")},
attached:function(){this._updateAriaLabelledBy();this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(a,b){return a?a+" "+b:b},_onAddonAttached:function(a){a=a.path?a.path[0]:a.target;if(a.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a.id);else{var b="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;a.id=b;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,
b)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,a);this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},
updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;this.value=a;this.inputElement.selectionStart=b;this.inputElement.selectionEnd=b}catch(c){this.value=a}},_computeAlwaysFloatLabel:function(a,b){return b||a},_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector("label");if(a){if(a.id)var b=a.id;else b="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,a.id=b;this._ariaLabelledBy=b}else this._ariaLabelledBy=""},_generateInputId:function(){this._inputId&&
""!==this._inputId||(this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++)},_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=document.activeElement;a instanceof HTMLElement&&a!==document.body&&a!==document.documentElement||this._focusableElement.focus()}}};
Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];
</script>






<custom-style>
  <style is="custom-style"></style>
</custom-style>



<script>//~~WEBPATH~~/paper-input/paper-input-addon-behavior.html.js
Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},update:function(){}};
</script>




<dom-module id="paper-input-char-counter">
  <template>
    

    <span class="style-scope paper-input-char-counter"> </span>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-char-counter.html.js
Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(a){if(a.inputElement){a.value=a.value||"";var b=a.value.toString().length.toString();a.inputElement.hasAttribute("maxlength")&&(b+="/"+a.inputElement.getAttribute("maxlength"));this._charCounterStr=b}}});
</script>








<dom-module id="paper-input-container">
  <template>
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="style-scope paper-input-container">
      <content select="[prefix]" id="prefix" class="style-scope paper-input-container"></content>

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <content select=":not([add-on]):not([prefix]):not([suffix])" class="style-scope paper-input-container"></content>
      </div>

      <content select="[suffix]" class="style-scope paper-input-container"></content>
    </div>

    <div class="style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="style-scope paper-input-container">
      <content id="addOnContent" select="[add-on]" class="style-scope paper-input-container"></content>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-container.html.js
Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},
_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},
get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]);this.addEventListener("focus",this._boundOnFocus,!0);this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput);""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):
this._handleValue(this._inputElement)},_onAddonAttached:function(a){this._addons||(this._addons=[]);a=a.target;-1===this._addons.indexOf(a)&&(this._addons.push(a),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(a){this._handleValueAndAutoValidate(a.target)},_onValueChanged:function(a){this._handleValueAndAutoValidate(a.target)},_handleValue:function(a){var b=
this._inputElementValue;b||0===b||"number"===a.type&&!a.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1;this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},_handleValueAndAutoValidate:function(a){this.autoValidate&&(this.invalid=!(a.validate?a.validate(this._inputElementValue):a.checkValidity()));this._handleValue(a)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},
updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},_computeInputContentClass:function(a,b,c,d,e){var f="input-content";a?(e&&(f+=" label-is-hidden"),d&&(f+=" is-invalid")):(a=this.querySelector("label"),b||e?(f+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",d?f+=" is-invalid":c&&(f+=" label-is-highlighted")):(a&&(this.$.labelAndInputContainer.style.position="relative"),d&&(f+=" is-invalid")));c&&(f+=" focused");return f},_computeUnderlineClass:function(a,
b){var c="underline";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c},_computeAddOnContentClass:function(a,b){var c="add-on-content";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c}});
</script>








<dom-module id="paper-input-error">
  <template>
    

    <content class="style-scope paper-input-error"></content>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-error.html.js
Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});
</script>




<dom-module id="paper-input">
  <template>
    

    <paper-input-container class="style-scope paper-input">

      <content select="[prefix]" class="style-scope paper-input"></content>

      <label aria-hidden="true" class="style-scope paper-input"> </label>

      <input is="iron-input" class="input-element style-scope paper-input">

      <content select="[suffix]" class="style-scope paper-input"></content>

      <template is="dom-if" class="style-scope paper-input"></template>

      <template is="dom-if" class="style-scope paper-input"></template>

    </paper-input-container>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input.html.js
Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior]});
</script>







<script>//~~WEBPATH~~/iron-resizable-behavior/iron-resizable-behavior.html.js
Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener("resize",
this._boundNotifyResize);this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this),this._fireResize())},assignParentResizable:function(a){this._parentResizable=a},stopResizeNotificationsFor:function(a){var b=this._interestedResizables.indexOf(a);-1<b&&(this._interestedResizables.splice(b,1),this.unlisten(a,"iron-resize","_onDescendantIronResize"))},resizerShouldNotify:function(){return!0},
_onDescendantIronResize:function(a){this._notifyingDescendant?a.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(a){var b=Polymer.dom(a).rootTarget;b!==this&&(-1===this._interestedResizables.indexOf(b)&&(this._interestedResizables.push(b),this.listen(b,"iron-resize","_onDescendantIronResize")),b.assignParentResizable(this),this._notifyDescendant(b),a.stopPropagation())},
_parentResizableChanged:function(a){a&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(a){this.isAttached&&(this._notifyingDescendant=!0,a.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var a=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function c(){document.removeEventListener("readystatechange",c);a()})}else this.fire("iron-request-resize-notifications",
null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable||(window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())}};
</script>






<script>//~~WEBPATH~~/iron-fit-behavior/iron-fit-behavior.html.js
Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},
get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host);return a},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";
if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&("center"!==this.horizontalAlign||"middle"!==this.verticalAlign)},attached:function(){"undefined"===typeof this._isRTL&&(this._isRTL="rtl"==window.getComputedStyle(this).direction);this.positionTarget=this.positionTarget||this._defaultPositionTarget;this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):
(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position();this.constrain();this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||
"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?"left":"auto"!==a.right?"right":null},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth,minWidth:parseInt(b.minWidth,10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,
10)||0}}}},resetFit:function(){var a=this._fitInfo||{},b;for(b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,b=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=a;this.sizingTarget.scrollTop=b},position:function(){if(this.__shouldPosition){this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing=
"border-box";this.style.left="0px";this.style.top="0px";var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,e=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,{width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},a,b,c);b=e.left+d.left;e=e.top+d.top;var f=Math.min(c.right-d.right,b+a.width),g=Math.min(c.bottom-d.bottom,e+a.height);b=Math.max(c.left+d.left,Math.min(b,f-this._fitInfo.sizedBy.minWidth));
e=Math.max(c.top+d.top,Math.min(e,g-this._fitInfo.sizedBy.minHeight));this.sizingTarget.style.maxWidth=Math.max(f-b,this._fitInfo.sizedBy.minWidth)+"px";this.sizingTarget.style.maxHeight=Math.max(g-e,this._fitInfo.sizedBy.minHeight)+"px";this.style.left=b-a.left+"px";this.style.top=e-a.top+"px"}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px");a.positionedBy.horizontally||(this.style.position=
"fixed",this.style.left="0px");this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height");a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(a,b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,g=this.__getNormalizedRect(this.fitInto);g="Width"===e?g.width:g.height;b=b===
d;var h="offset"+e;this.sizingTarget.style["max"+e]=g-f.margin[b?c:d]-(b?g-a[d]:a[c])-(this[h]-this.sizingTarget[h])+"px"},center:function(){if(!this.__shouldPosition){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!a.vertically||!a.horizontally){this.style.position="fixed";a.vertically||(this.style.top="0px");a.horizontally||(this.style.left="0px");var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);a.vertically||(this.style.top=c.top-b.top+(c.height-b.height)/2+
"px");a.horizontally||(this.style.left=c.left-b.left+(c.width-b.width)/2+"px")}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getOffscreenArea:function(a,b,c){return Math.abs(Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)))*b.width+Math.abs(Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width)))*b.height},__getPosition:function(a,
b,c,d,e,f){var g=[{verticalAlign:"top",horizontalAlign:"left",top:e.top+this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:e.top+this.verticalOffset,left:e.right-c.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:e.bottom-c.height-this.verticalOffset,left:e.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:e.bottom-c.height-this.verticalOffset,left:e.right-c.width-this.horizontalOffset}];
if(this.noOverlap){for(var h=0,l=g.length;h<l;h++){var m={},n;for(n in g[h])m[n]=g[h][n];g.push(m)}g[0].top=g[1].top+=e.height;g[2].top=g[3].top-=e.height;g[4].left=g[6].left+=e.width;g[5].left=g[7].left-=e.width}b="auto"===b?null:b;a="auto"===a?null:a;a&&"center"!==a||(g.push({verticalAlign:"top",horizontalAlign:"center",top:e.top+this.verticalOffset+(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}),g.push({verticalAlign:"bottom",horizontalAlign:"center",top:e.bottom-
c.height-this.verticalOffset-(this.noOverlap?e.height:0),left:e.left-d.width/2+e.width/2+this.horizontalOffset}));b&&"middle"!==b||(g.push({verticalAlign:"middle",horizontalAlign:"left",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.left+this.horizontalOffset+(this.noOverlap?e.width:0)}),g.push({verticalAlign:"middle",horizontalAlign:"right",top:e.top-d.height/2+e.height/2+this.verticalOffset,left:e.right-c.width-this.horizontalOffset-(this.noOverlap?e.width:0)}));for(h=0;h<g.length;h++){d=
g[h];e=d.verticalAlign===b;l=d.horizontalAlign===a;if(!this.dynamicAlign&&!this.noOverlap&&e&&l){var q=d;break}m=(!b||e)&&(!a||l);if(this.dynamicAlign||m){d.offscreenArea=this.__getOffscreenArea(d,c,f);if(0===d.offscreenArea&&m){q=d;break}q=q||d;m=d.offscreenArea-q.offscreenArea;if(0>m||0===m&&(e||l))q=d}}return q}};
</script>







<dom-module id="iron-overlay-backdrop">

  <template>
    

    <content class="style-scope iron-overlay-backdrop"></content>
  </template>

</dom-module>

<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-backdrop.html.js
Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||
Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(a){a&&a.target===this&&this.complete()},_openedChanged:function(a){a?this.prepare():(a=window.getComputedStyle(this),"0s"!==a.transitionDuration&&0!=a.opacity||this.complete());this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this)))}});
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-manager.html.js
Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document.documentElement,"tap",function(){});document.addEventListener("tap",this._onCaptureClick.bind(this),!0);document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};
Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop"));return this._backdropElement},get deepActiveElement(){var a=document.activeElement;a&&!1!==a instanceof Element||(a=document.body);for(;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},addOrRemoveOverlay:function(a){a.opened?Ba(this,a):Ca(this,a)},ensureMinimumZ:function(a){this._minimumZ=
Math.max(this._minimumZ,a)},focusOverlay:function(){var a=Fa(this);a&&a._applyFocus()},getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},backdropZ:function(){return Ga(this,Ha(this))-1},_onCaptureClick:function(a){var b=this._overlays.length-1;if(-1!==b)for(var c=Polymer.dom(a).path,d;(d=this._overlays[b])&&Ia(this,c)!==d;)if(d._onCaptureClick(a),d.allowClickThrough)b--;else break},_onCaptureFocus:function(a){var b=
Fa(this);b&&b._onCaptureFocus(a)},_onCaptureKeyDown:function(a){var b=Fa(this);b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"esc")?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"tab")&&b._onCaptureTab(a))}};function Ia(a,b){b=b||[];for(var c=0;c<b.length;c++)if(b[c]._manager===a)return b[c]}function Ga(a,b){a=a._minimumZ;b&&(b=Number(b.style.zIndex||window.getComputedStyle(b).zIndex),b===b&&(a=b));return a}
function Ha(a){for(var b=a._overlays.length-1;0<=b;b--)if(a._overlays[b].withBackdrop)return a._overlays[b]}function Ja(a){var b=Ha(a);if(b||a._backdropElement)a.backdropElement.style.zIndex=Ga(a,b)-1,a.backdropElement.opened=!!b,a.backdropElement.prepare()}function Fa(a){return a._overlays[a._overlays.length-1]}function Ca(a,b){b=a._overlays.indexOf(b);-1!==b&&(a._overlays.splice(b,1),Ja(a))}
function Ba(a,b){var c=a._overlays.indexOf(b);if(0<=c){if(b=c,c=a._overlays[b]){var d=a._overlays.length-1,e=a._overlays[d];e&&!c.alwaysOnTop&&e.alwaysOnTop&&d--;if(!(b>=d)){e=Math.max(Ga(a,Fa(a)),a._minimumZ);Ga(a,c)<=e&&(c.style.zIndex=e+2);for(;b<d;)a._overlays[b]=a._overlays[b+1],b++;a._overlays[d]=c}}}else{c=a._overlays.length;d=a._overlays[c-1];e=Math.max(Ga(a,d),a._minimumZ);var f=Ga(a,b);d&&!b.alwaysOnTop&&d.alwaysOnTop&&(d.style.zIndex=e+2,c--,e=Math.max(Ga(a,a._overlays[c-1]),a._minimumZ));
f<=e&&(b.style.zIndex=e+2);a._overlays.splice(c,0,b)}Ja(a)}Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;
</script>



<script>//~~WEBPATH~~/iron-overlay-behavior/iron-scroll-manager.html.js
(function(){var a=0,b=0,c=null,d=[],e=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(a){var b=this.currentLockingElement;if(void 0===b)return!1;if(this._hasCachedLockedElement(a))return!0;if(this._hasCachedUnlockedElement(a))return!1;(b=!!b&&b!==a&&!this._composedTreeContains(b,a))?this._lockedElementCache.push(a):this._unlockedElementCache.push(a);
return b},pushScrollLock:function(a){0<=this._lockingElements.indexOf(a)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(a),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(a){a=this._lockingElements.indexOf(a);-1!==a&&(this._lockingElements.splice(a,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,
_unlockedElementCache:null,_hasCachedLockedElement:function(a){return-1<this._lockedElementCache.indexOf(a)},_hasCachedUnlockedElement:function(a){return-1<this._unlockedElementCache.indexOf(a)},_composedTreeContains:function(a,b){var c,d;if(a.contains(b))return!0;a=Polymer.dom(a).querySelectorAll("content,slot");for(c=0;c<a.length;++c){var e=Polymer.dom(a[c]).getDistributedNodes();for(d=0;d<e.length;++d)if(e[d].nodeType===Node.ELEMENT_NODE&&this._composedTreeContains(e[d],b))return!0}return!1},_scrollInteractionHandler:function(c){c.cancelable&&
this._shouldPreventScrolling(c)&&c.preventDefault();c.targetTouches&&(c=c.targetTouches[0],a=c.pageX,b=c.pageY)},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var a=0,b=e.length;a<b;a++)document.addEventListener(e[a],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var a=0,b=e.length;a<b;a++)document.removeEventListener(e[a],this._boundScrollHandler,{capture:!0,passive:!1})},
_shouldPreventScrolling:function(a){var b=Polymer.dom(a).rootTarget;"touchmove"!==a.type&&c!==b&&(c=b,d=this._getScrollableNodes(Polymer.dom(a).path));if(!d.length)return!0;if("touchstart"===a.type)return!1;a=this._getScrollInfo(a);return!this._getScrollingNode(d,a.deltaX,a.deltaY)},_getScrollableNodes:function(a){for(var b=[],c=a.indexOf(this.currentLockingElement),d=0;d<=c;d++)if(a[d].nodeType===Node.ELEMENT_NODE){var e=a[d],f=e.style;"scroll"!==f.overflow&&"auto"!==f.overflow&&(f=window.getComputedStyle(e));
"scroll"!==f.overflow&&"auto"!==f.overflow||b.push(e)}return b},_getScrollingNode:function(a,b,c){if(b||c)for(var d=Math.abs(c)>=Math.abs(b),e=0;e<a.length;e++){var f=a[e];if(d?0>c?0<f.scrollTop:f.scrollTop<f.scrollHeight-f.clientHeight:0>b?0<f.scrollLeft:f.scrollLeft<f.scrollWidth-f.clientWidth)return f}},_getScrollInfo:function(c){var d={deltaX:c.deltaX,deltaY:c.deltaY};"deltaX"in c||("wheelDeltaX"in c&&"wheelDeltaY"in c?(d.deltaX=-c.wheelDeltaX,d.deltaY=-c.wheelDeltaY):"wheelDelta"in c?(d.deltaX=
0,d.deltaY=-c.wheelDelta):"axis"in c?(d.deltaX=1===c.axis?c.detail:0,d.deltaY=2===c.axis?c.detail:0):c.targetTouches&&(c=c.targetTouches[0],d.deltaX=a-c.pageX,d.deltaY=b-c.pageY));return d}}})();
</script>



<script>//~~WEBPATH~~/iron-overlay-behavior/iron-focusables-helper.html.js
(function(){var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(a){var b=[];return this._collectTabbableNodes(a,b)?this._sortByTabIndex(b):b},isFocusable:function(a){return b.call(a,"input, select, textarea, button, object")?b.call(a,":not([disabled])"):b.call(a,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(a){return this.isFocusable(a)&&
b.call(a,':not([tabindex\x3d"-1"])')&&this._isVisible(a)},_normalizedTabIndex:function(a){return this.isFocusable(a)?(a=a.getAttribute("tabindex")||0,Number(a)):-1},_collectTabbableNodes:function(a,b){if(a.nodeType!==Node.ELEMENT_NODE||!this._isVisible(a))return!1;var c=this._normalizedTabIndex(a),d=0<c;0<=c&&b.push(a);a="content"===a.localName||"slot"===a.localName?Polymer.dom(a).getDistributedNodes():Polymer.dom(a.root||a).children;for(c=0;c<a.length;c++)d=this._collectTabbableNodes(a[c],b)||d;
return d},_isVisible:function(a){var b=a.style;return"hidden"!==b.visibility&&"none"!==b.display?(b=window.getComputedStyle(a),"hidden"!==b.visibility&&"none"!==b.display):!1},_sortByTabIndex:function(a){var b=a.length;if(2>b)return a;var c=Math.ceil(b/2);b=this._sortByTabIndex(a.slice(0,c));a=this._sortByTabIndex(a.slice(c));return this._mergeSortByTabIndex(b,a)},_mergeSortByTabIndex:function(a,b){for(var c=[];0<a.length&&0<b.length;)this._hasLowerTabOrder(a[0],b[0])?c.push(b.shift()):c.push(a.shift());
return c.concat(a,b)},_hasLowerTabOrder:function(a,b){a=Math.max(a.tabIndex,0);b=Math.max(b.tabIndex,0);return 0===a||0===b?b>a:a>b}}})();
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-behavior.html.js
Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},
scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__shouldRemoveTabIndex=
this.__isAnimating=!1;this.__firstFocusableNode=this.__lastFocusableNode=null;this.__rafs={};this.__scrollTop=this.__scrollLeft=this.__restoreFocusNode=null;this.__onCaptureScroll=this.__onCaptureScroll.bind(this);this.__rootNodes=null;this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened);this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;for(var a in this.__rafs)null!==
this.__rafs[a]&&cancelAnimationFrame(this.__rafs[a]);this.__rafs={};Ca(this._manager,this);this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1);this.opened=!this.opened},open:function(){this._setCanceled(!1);this.opened=!0},close:function(){this._setCanceled(!1);this.opened=!1},cancel:function(a){this.fire("iron-overlay-canceled",a,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=
!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(a){a?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true");this.isAttached&&(this.__isAnimating=!0,this.__deraf("__openedChanged",this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{};this.closingReason.canceled=
this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1);this.opened&&this.isAttached&&Ja(this._manager)},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();this.noAutoFocus&&document.activeElement===
this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=
this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{this._focusNode.blur();this._focusedChild=null;if(this.restoreFocusOnClose&&
this.__restoreFocusNode){var a=this._manager.deepActiveElement;(a===document.body||Polymer.dom(this).deepContains(a))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null;(a=Fa(this._manager))&&this!==a&&a._applyFocus()}},_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},_onCaptureEsc:function(a){this.noCancelOnEscKey||
this.cancel(a)},_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode;b=b?this.__lastFocusableNode:this.__firstFocusableNode;if(c===b)c=!0;else{var d=this._manager.deepActiveElement;c=d===c||d===this}c&&(a.preventDefault(),this._focusedChild=b,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf("refit",this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&
(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0];this.__lastFocusableNode=a[a.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),Ba(this._manager,this),this._applyFocus(),this._renderOpened()):(Ca(this._manager,this),this._applyFocus(),this._renderClosed())},__deraf:function(a,b){var c=this.__rafs;null!==c[a]&&cancelAnimationFrame(c[a]);
c[a]=requestAnimationFrame(function(){c[a]=null;b.call(this)}.bind(this))},__updateScrollObservers:function(a,b,c){a&&b&&this.__isValidScrollAction(c)?("lock"===c&&(this.__saveScrollPosition(),Polymer.IronScrollManager.pushScrollLock(this)),this.__addScrollListeners()):(Polymer.IronScrollManager.removeScrollLock(this),this.__removeScrollListeners())},__addScrollListeners:function(){if(!this.__rootNodes){this.__rootNodes=[];if(Polymer.Settings.useShadow)for(var a=this;a;)a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&
a.host&&this.__rootNodes.push(a),a=a.host||a.assignedSlot||a.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach(function(a){a.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)},__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach(function(a){a.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this);this.isAttached||(this.__rootNodes=null)},__isValidScrollAction:function(a){return"lock"===a||"refit"===
a||"cancel"===a},__onCaptureScroll:function(a){if(!(this.__isAnimating||0<=Polymer.dom(a).path.indexOf(this)))switch(this.scrollAction){case "lock":this.__restoreScrollPosition();break;case "refit":this.__deraf("refit",this.refit);break;case "cancel":this.cancel(a)}},__saveScrollPosition:function(){document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),
this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}};
Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];
</script>




<script>//~~WEBPATH~~/neon-animation/neon-animatable-behavior.html.js
Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(a,
b){for(var c in b)a[c]=b[c]},_cloneConfig:function(a){var b={isClone:!0};this._copyProperties(b,a);return b},_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig)if(this.animationConfig.value&&"function"===typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else{var d=a?this.animationConfig[a]:this.animationConfig;Array.isArray(d)||(d=[d]);if(d)for(var e,f=0;e=
d[f];f++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var g=b[e.id];g?(g.isClone||(b[e.id]=this._cloneConfig(g),g=b[e.id]),this._copyProperties(g,e)):b[e.id]=e}else c.push(e)}},getAnimationConfig:function(a){var b={},c=[];this._getAnimationConfigRecursive(a,b,c);for(var d in b)c.push(b[d]);return c}};
</script>


<script>//~~WEBPATH~~/neon-animation/neon-animation-runner-behavior.html.js
Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(a){var b=[],c=[];if(0<a.length)for(var d,e=0;d=a[e];e++){var f=document.createElement(d.name);if(f.isNeonAnimation){var g=null;f.configure||(f.configure=function(){return null});g=f.configure(d);c.push({result:g,config:d})}else console.warn(this.is+":",d.name,"not found!")}for(a=0;a<c.length;a++){g=c[a].result;d=c[a].config;try{"function"!=typeof g.cancel&&(g=document.timeline.play(g))}catch(h){g=null,console.warn("Couldnt play",
"(",d.name,").",h)}g&&b.push({neonAnimation:f,config:d,animation:g})}return b},_shouldComplete:function(a){for(var b=!0,c=0;c<a.length;c++)if("finished"!=a[c].animation.playState){b=!1;break}return b},_complete:function(a){for(var b=0;b<a.length;b++)a[b].neonAnimation.complete(a[b].config);for(b=0;b<a.length;b++)a[b].animation.cancel()},playAnimation:function(a,b){var c=this.getAnimationConfig(a);if(c){this._active=this._active||{};this._active[a]&&(this._complete(this._active[a]),delete this._active[a]);
var d=this._configureAnimations(c);if(0==d.length)this.fire("neon-animation-finish",b,{bubbles:!1});else for(this._active[a]=d,c=0;c<d.length;c++)d[c].animation.onfinish=function(){this._shouldComplete(d)&&(this._complete(d),delete this._active[a],this.fire("neon-animation-finish",b,{bubbles:!1}))}.bind(this)}},cancelAnimation:function(){for(var a in this._active){var b=this._active[a],c;for(c in b)b[c].animation.cancel()}this._active={}}};
Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];
</script>




<script>//~~WEBPATH~~/neon-animation/neon-animation-behavior.html.js
Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn("No web animations detected. This element will not function without a web animations polyfill.")},timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},setPrefixedProperty:function(a,b,c){for(var d=
{transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[b],e,f=0;e=d[f];f++)a.style[e]=c;a.style[b]=c},complete:function(){}};
</script>




<script>//~~WEBPATH~~/neon-animation/animations/opaque-animation.html.js
Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;this._effect=new KeyframeEffect(b,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(a));b.style.opacity="0";return this._effect},complete:function(a){a.node.style.opacity=""}});
</script>



<script>//~~WEBPATH~~/iron-dropdown/iron-dropdown-scroll-manager.html.js
(function(){var a=0,b=0,c=null,d=[],e=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(a){var b=this.currentLockingElement;if(void 0===b)return!1;if(this._hasCachedLockedElement(a))return!0;if(this._hasCachedUnlockedElement(a))return!1;(b=!!b&&b!==a&&!this._composedTreeContains(b,a))?this._lockedElementCache.push(a):this._unlockedElementCache.push(a);
return b},pushScrollLock:function(a){0<=this._lockingElements.indexOf(a)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(a),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(a){a=this._lockingElements.indexOf(a);-1!==a&&(this._lockingElements.splice(a,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,
_unlockedElementCache:null,_hasCachedLockedElement:function(a){return-1<this._lockedElementCache.indexOf(a)},_hasCachedUnlockedElement:function(a){return-1<this._unlockedElementCache.indexOf(a)},_composedTreeContains:function(a,b){var c,d;if(a.contains(b))return!0;a=Polymer.dom(a).querySelectorAll("content");for(c=0;c<a.length;++c){var e=Polymer.dom(a[c]).getDistributedNodes();for(d=0;d<e.length;++d)if(this._composedTreeContains(e[d],b))return!0}return!1},_scrollInteractionHandler:function(c){c.cancelable&&
this._shouldPreventScrolling(c)&&c.preventDefault();c.targetTouches&&(c=c.targetTouches[0],a=c.pageX,b=c.pageY)},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var a=0,b=e.length;a<b;a++)document.addEventListener(e[a],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var a=0,b=e.length;a<b;a++)document.removeEventListener(e[a],this._boundScrollHandler,{capture:!0,passive:!1})},
_shouldPreventScrolling:function(a){var b=Polymer.dom(a).rootTarget;"touchmove"!==a.type&&c!==b&&(c=b,d=this._getScrollableNodes(Polymer.dom(a).path));if(!d.length)return!0;if("touchstart"===a.type)return!1;a=this._getScrollInfo(a);return!this._getScrollingNode(d,a.deltaX,a.deltaY)},_getScrollableNodes:function(a){for(var b=[],c=a.indexOf(this.currentLockingElement),d=0;d<=c;d++)if(a[d].nodeType===Node.ELEMENT_NODE){var e=a[d],f=e.style;"scroll"!==f.overflow&&"auto"!==f.overflow&&(f=window.getComputedStyle(e));
"scroll"!==f.overflow&&"auto"!==f.overflow||b.push(e)}return b},_getScrollingNode:function(a,b,c){if(b||c)for(var d=Math.abs(c)>=Math.abs(b),e=0;e<a.length;e++){var f=a[e];if(d?0>c?0<f.scrollTop:f.scrollTop<f.scrollHeight-f.clientHeight:0>b?0<f.scrollLeft:f.scrollLeft<f.scrollWidth-f.clientWidth)return f}},_getScrollInfo:function(c){var d={deltaX:c.deltaX,deltaY:c.deltaY};"deltaX"in c||("wheelDeltaX"in c?(d.deltaX=-c.wheelDeltaX,d.deltaY=-c.wheelDeltaY):"axis"in c?(d.deltaX=1===c.axis?c.detail:0,
d.deltaY=2===c.axis?c.detail:0):c.targetTouches&&(c=c.targetTouches[0],d.deltaX=a-c.pageX,d.deltaY=b-c.pageY));return d}}})();
</script>




<dom-module id="iron-dropdown">
  <template>
    

    <div id="contentWrapper" class="style-scope iron-dropdown">
      <content id="content" select=".dropdown-content" class="style-scope iron-dropdown"></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/iron-dropdown/iron-dropdown.html.js
Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1},_boundOnCaptureScroll:{type:Function,
value:function(){return this._onCaptureScroll.bind(this)}}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},get _focusTarget(){return this.focusTarget||this.containedElement},ready:function(){this._scrollLeft=this._scrollTop=0;this._refitOnScrollRAF=null},attached:function(){this.sizingTarget&&
this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation();document.removeEventListener("scroll",this._boundOnCaptureScroll);Polymer.IronDropdownScrollManager.removeScrollLock(this)},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),this._saveScrollPosition(),this.opened?(document.addEventListener("scroll",this._boundOnCaptureScroll),!this.allowOutsideScroll&&Polymer.IronDropdownScrollManager.pushScrollLock(this)):
(document.removeEventListener("scroll",this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),
this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");this.opened?this._finishRenderOpened():this._finishRenderClosed()},_onCaptureScroll:function(){this.allowOutsideScroll?(this._refitOnScrollRAF&&window.cancelAnimationFrame(this._refitOnScrollRAF),this._refitOnScrollRAF=window.requestAnimationFrame(this.refit.bind(this))):this._restoreScrollPosition()},_saveScrollPosition:function(){document.scrollingElement?
(this._scrollTop=document.scrollingElement.scrollTop,this._scrollLeft=document.scrollingElement.scrollLeft):(this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},_restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this._scrollTop,document.scrollingElement.scrollLeft=this._scrollLeft):(document.documentElement.scrollTop=this._scrollTop,
document.documentElement.scrollLeft=this._scrollLeft,document.body.scrollTop=this._scrollTop,document.body.scrollLeft=this._scrollLeft)},_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_applyFocus:function(){var a=
this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}});
</script>
</dom-module>






<script>//~~WEBPATH~~/neon-animation/animations/fade-in-animation.html.js
Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(a))}});
</script>






<script>//~~WEBPATH~~/neon-animation/animations/fade-out-animation.html.js
Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(a))}});
</script>







<script>//~~WEBPATH~~/paper-menu-button/paper-menu-button-animations.html.js
Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;return this._effect=new KeyframeEffect(b,[{height:c/2+"px"},{height:c+"px"}],this.timingFromConfig(a))}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c/2+"px"},{width:c+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c+"px"},{width:c-c/20+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;this.setPrefixedProperty(b,"transformOrigin","0 0");return this._effect=new KeyframeEffect(b,[{height:c+"px",transform:"translateY(0)"},{height:c/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(a))}});
</script>






<dom-module id="paper-menu-button">
  <template>
    

    <div id="trigger" class="style-scope paper-menu-button">
      <content select=".dropdown-trigger" class="style-scope paper-menu-button"></content>
    </div>

    <iron-dropdown id="dropdown" class="style-scope paper-menu-button">
      <div class="dropdown-content style-scope paper-menu-button">
        <content id="content" select=".dropdown-content" class="style-scope paper-menu-button"></content>
      </div>
    </iron-dropdown>
  </template>

  <script>//~~WEBPATH~~/paper-menu-button/paper-menu-button.html.js
function Ka(){}k=Ka.prototype;k.registered=function(){};k.addOwnKeyBinding=function(){};k.removeOwnKeyBindings=function(){};k.keyboardEventMatchesKeys=function(){};k._collectKeyBindings=function(){};k._prepKeyBindings=function(){};k._addKeyBinding=function(){};k._resetKeyEventListeners=function(){};k._listenKeyEventListeners=function(){};k._unlistenKeyEventListeners=function(){};k._onKeyBindingEvent=function(){};k._triggerKeyHandler=function(){};
k._focusBlurHandler=function(a){if(Polymer.Element)this._setFocused("focus"===a.type);else if(a.target===this)this._setFocused("focus"===a.type);else if(this.__handleEventRetargeting){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}};k._changedControlState=function(){this._controlStateChanged&&this._controlStateChanged()};k._setFocused=function(){};
(function(){var a={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Ka=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,
value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:a.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,
value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},
get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){this.ignoreSelect||this.close()},_onIronActivate:function(){this.closeOnActivate&&this.close()},_openedChanged:function(a,c){a?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=c&&this.fire("paper-dropdown-close")},
_disabledChanged:function(a){Polymer.IronControlState._disabledChanged.apply(this,arguments);a&&this.opened&&this.close()},__onIronOverlayCanceled:function(a){var b=a.detail;Polymer.dom(b);var d=this.$.trigger;-1<Polymer.dom(b).path.indexOf(d)&&a.preventDefault()}});Object.keys(a).forEach(function(b){Ka[b]=a[b]});Polymer.PaperMenuButton=Ka})();
</script>
</dom-module>







<script>//~~WEBPATH~~/iron-iconset-svg/iron-iconset-svg.html.js
Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(a){return this.name+":"+a},this)},applyIcon:function(a,b){this.removeIcon(a);
if(b=this._cloneIcon(b,this.rtlMirroring&&this._targetIsRTL(a))){var c=Polymer.dom(a.root||a);c.insertBefore(b,c.childNodes[0]);return a._svgIcon=b}return null},removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},_targetIsRTL:function(a){null==this.__targetIsRTL&&(this.useGlobalRtlAttribute?this.__targetIsRTL="rtl"===(document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement).getAttribute("dir"):(a&&a.nodeType!==Node.ELEMENT_NODE&&
(a=a.host),this.__targetIsRTL=a&&"rtl"===window.getComputedStyle(a).direction));return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null;this._meta.key=this.name;this._meta.value=this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var a=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(b){a[b.id]=b});return a},_cloneIcon:function(a,b){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[a],
this.size,b)},_prepareSvgClone:function(a,b,c){if(a){a=a.cloneNode(!0);var d=document.createElementNS("http://www.w3.org/2000/svg","svg");b=a.getAttribute("viewBox")||"0 0 "+b+" "+b;var e="pointer-events: none; display: block; width: 100%; height: 100%;";c&&a.hasAttribute("mirror-in-rtl")&&(e+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;");d.setAttribute("viewBox",b);d.setAttribute("preserveAspectRatio","xMidYMid meet");d.setAttribute("focusable","false");d.style.cssText=
e;d.appendChild(a).removeAttribute("id");return d}return null}});
</script>


<iron-iconset-svg name="paper-dropdown-menu" size="24" style="display: none;">
<svg><defs>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g>
</defs></svg>
</iron-iconset-svg>



<dom-module id="paper-dropdown-menu-shared-styles">
  <template>
    
  </template>
</dom-module>




<dom-module id="paper-dropdown-menu">
  <template>
    

    
    <span role="button" class="style-scope paper-dropdown-menu"></span>
    <paper-menu-button id="menuButton" close-on-activate="" class="style-scope paper-dropdown-menu">
      <div class="dropdown-trigger style-scope paper-dropdown-menu">
        <paper-ripple class="style-scope paper-dropdown-menu"></paper-ripple>
        
        <paper-input type="text" readonly="" class="style-scope paper-dropdown-menu">
          <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" class="style-scope paper-dropdown-menu"></iron-icon>
        </paper-input>
      </div>
      <content id="content" select=".dropdown-content" class="style-scope paper-dropdown-menu"></content>
    </paper-menu-button>
  </template>

  <script>//~~WEBPATH~~/paper-dropdown-menu/paper-dropdown-menu.html.js
Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0,readOnly:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,
value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function(){var a=this.contentElement;
a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},_selectedItemChanged:function(a){a=a?a.label||a.getAttribute("label")||a.textContent.trim():
"";this._setValue(a);this._setSelectedItemLabel(a)},_computeMenuVerticalOffset:function(a){return a?-4:8},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var a=this.opened?"true":"false",b=this.contentElement;b&&b.setAttribute("aria-expanded",a)}});
</script>
</dom-module>










<script>//~~WEBPATH~~/paper-item/paper-item-behavior.html.js
Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];
</script>






<dom-module id="paper-item-shared-styles">
  <template>
    
  </template>
</dom-module>




<dom-module id="paper-item">
  <template>
    
    <content class="style-scope paper-item"></content>
  </template>

  <script>//~~WEBPATH~~/paper-item/paper-item.html.js
Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});
</script>
</dom-module>








<script>//~~WEBPATH~~/iron-selector/iron-selection.html.js
Polymer.IronSelection=function(a){this.selection=[];this.selectCallback=a};Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&La(this,b,!1)},this)},isSelected:function(a){return 0<=this.selection.indexOf(a)},select:function(a){this.multi?this.toggle(a):this.get()!==a&&(La(this,this.get(),!1),La(this,a,!0))},toggle:function(a){La(this,a,!this.isSelected(a))}};
function La(a,b,c){if(null!=b&&c!==a.isSelected(b)){if(c)a.selection.push(b);else{var d=a.selection.indexOf(b);0<=d&&a.selection.splice(d,1)}a.selectCallback&&a.selectCallback(b,c)}};
</script>


<script>//~~WEBPATH~~/iron-selector/iron-selectable.html.js
Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,
"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this);this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer);this._removeListener(this.activateEvent)},
indexOf:function(a){return this.items?this.items.indexOf(a):-1},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length;a=(Number(this._valueToIndex(this.selected))-1+a)%a;this.selected=this._indexToValue(a)},selectNext:function(){var a=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._observer&&"function"===typeof this._observer.flush?
this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(a){this.listen(this,a,"_activateHandler")},_removeListener:function(a){this.unlisten(this,a,"_activateHandler")},_activateEventChanged:function(a,b){this._removeListener(b);this._addListener(a)},_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||"*");a=Array.prototype.filter.call(a,this._bindFilterItem);
this._setItems(a)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var a=this._valueToItem(this.selected);a?this._selection.select(a):this._selection.clear();this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},
_valueToItem:function(a){return null==a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected)for(var b=0,c;c=this.items[b];b++){if(this._valueForItem(c)==a)return b}else return Number(a)},_indexToValue:function(a){if(this.attrForSelected){if(a=this.items[a])return this._valueForItem(a)}else return a},_valueForItem:function(a){if(!a)return null;if(!this.attrForSelected)return a=this.indexOf(a),-1===a?null:a;var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];
return void 0!=b?b:a.getAttribute(this.attrForSelected)},_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,b,a);this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a);this._selectionChange();this.fire("iron-"+(b?"select":"deselect"),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return Polymer.dom(a).observeNodes(function(a){this._updateItems();this._updateSelected();this.fire("iron-items-changed",
a,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){a=a.target;for(var b=this.items;a&&a!=this;){var c=b.indexOf(a);if(0<=c){b=this._indexToValue(c);this._itemActivate(b,a);break}a=a.parentNode}},_itemActivate:function(a,b){this.fire("iron-activate",{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};
</script>


<script>//~~WEBPATH~~/iron-selector/iron-multi-selectable.html.js
Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(a){this.multi?this._toggleSelected(a):this.selected=a},multiChanged:function(a){this._selection.multi=a;this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||
null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){a=
a||[];a=(this._valuesToItems(a)||[]).filter(function(a){return null!==a&&void 0!==a});this._selection.clear(a);for(var b=0;b<a.length;b++)La(this._selection,a[b],!0);this.fallbackSelection&&!this._selection.get().length&&this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection)},_selectionChange:function(){var a=this._selection.get();this.multi?(this._setSelectedItems(a),this._setSelectedItem(a.length?a[0]:null)):null!==a&&void 0!==a?(this._setSelectedItems([a]),this._setSelectedItem(a)):
(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push("selectedValues",a):this.splice("selectedValues",b,1)},_valuesToItems:function(a){return null==a?null:a.map(function(a){return this._valueToItem(a)},this)}};Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];
</script>



<script>//~~WEBPATH~~/iron-menu-behavior/iron-menu-behavior.html.js
Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:"Alt AltGraph CapsLock Control Fn FnLock Hyper Meta NumLock OS ScrollLock Shift Super Symbol SymbolLock".split(" "),_SEARCH_RESET_TIMEOUT_MS:1E3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown",
"iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute("disabled")||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?
this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute("tabindex",b===a?"0":"-1")},this)},_updateMultiselectable:function(a){a?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(a){if(-1===this._MODIFIER_KEYS.indexOf(a.key)){this.cancelDebouncer("_clearSearchText");var b=this._searchText||"";b+=(a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode)).toLocaleLowerCase();
a=b.length;for(var c=0,d;d=this.items[c];c++)if(!d.hasAttribute("disabled")){var e=this.attrForItemTitle||"textContent";e=(d[e]||d.getAttribute(e)||"").trim();if(!(e.length<a)&&e.slice(0,a).toLocaleLowerCase()==b){this._setFocusedItem(d);break}}this._searchText=b;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<
a+1;c++){var d=this.items[(b-c+a)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_focusNext:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b+c)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_applySelection:function(a,b){b?a.setAttribute("aria-selected",
"true"):a.removeAttribute("aria-selected");Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute("tabindex","-1");!a||a.hasAttribute("disabled")||this.disabled||(a.setAttribute("tabindex","0"),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex",
"-1");this.async(function(){this.setAttribute("tabindex",a);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){!Polymer.IronMenuBehaviorImpl._shiftTabPressed&&(a=Polymer.dom(a).rootTarget,a===this||"undefined"===typeof a.tabIndex||this.isLightDescendant(a))&&(this._defaultFocusAsync=this.async(function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);a?this._setFocusedItem(a):this.items[0]&&this._focusNext()}))},_onUpKey:function(a){this._focusPrevious();
a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext();a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var a=this.focusedItem;a&&a.blur()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down esc")||this._focusWithKeyboardEvent(a);a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a);a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:
0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)}};Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];
</script>



<dom-module id="paper-menu-shared-styles">
  <template>
    
  </template>
</dom-module>




<dom-module id="paper-menu">
  <template>
    
    

    <div class="selectable-content style-scope paper-menu">
      <content class="style-scope paper-menu"></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-menu/paper-menu.html.js
Polymer({is:"paper-menu",behaviors:[Polymer.IronMenuBehavior]});
</script>
</dom-module>







<script>//~~WEBPATH~~/vz-sorting/sorting.js
var Na;
(function(a){function b(a,b){var d,e=d||(d={});e[e.NATURAL=0]="NATURAL";e[e.REAL=1]="REAL";e[e.EXPONENT_SIGN=2]="EXPONENT_SIGN";e[e.EXPONENT=3]="EXPONENT";for(e=d.NATURAL;b<a.length;b++)if(e===d.NATURAL)if("."===a[b])e=d.REAL;else if("e"===a[b]||"E"===a[b])e=d.EXPONENT_SIGN;else{if(!c(a[b]))break}else if(e===d.REAL)if("e"===a[b]||"E"===a[b])e=d.EXPONENT_SIGN;else{if(!c(a[b]))break}else if(e===d.EXPONENT_SIGN)if(c(a[b])||"+"===a[b]||"-"===a[b])e=d.EXPONENT;else break;else if(e===d.EXPONENT&&!c(a[b]))break;
return b}function c(a){return"0"<=a&&"9">=a}function d(a){return"/"===a||"_"===a||c(a)}a.compareTagNames=function(a,f){for(var e=0,h=0;;){if(e===a.length)return h===f.length?0:-1;if(h===f.length)return 1;if(c(a[e])&&c(f[h])){var l=e,m=h;e=b(a,e+1);h=b(f,h+1);l=parseFloat(a.slice(l,e));m=parseFloat(f.slice(m,h));if(l<m)return-1;if(l>m)return 1}else{if(d(a[e])){if(!d(f[h]))return-1}else{if(d(f[h]))return 1;if(a[e]<f[h])return-1;if(a[e]>f[h])return 1}e++;h++}}}})(Na||(Na={}));
</script>


<script>//~~WEBPATH~~/tf-backend/requestManager.js
var Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),u;
(function(a){var b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.name="RequestCancellationError";return b}Oa(b,a);return b}(Error);a.RequestCancellationError=b;var c=function(a){function b(b,c){var d=a.call(this)||this;d.message="RequestNetworkError: "+b.status+" at "+c;d.name="RequestNetworkError";d.req=b;d.url=c;return d}Oa(b,a);return b}(Error);a.RequestNetworkError=c;var d=function(){function a(a,b){void 0===a&&(a=10);void 0===b&&(b=3);this._queue=[];this._nActiveRequests=
0;this._nSimultaneousRequests=a;this._maxRetries=b}a.prototype.request=function(a,b){var c=this;return(new Promise(function(a,b){c._queue.push({resolve:a,reject:b});c.launchRequests()})).then(function(){return c.promiseWithRetries(a,c._maxRetries,b)}).then(function(a){c._nActiveRequests--;c.launchRequests();return a},function(a){"RequestNetworkError"===a.name&&(c._nActiveRequests--,c.launchRequests());return Promise.reject(a)})};a.prototype.clearQueue=function(){for(;0<this._queue.length;)this._queue.pop().reject(new b("Request cancelled by clearQueue"))};
a.prototype.activeRequests=function(){return this._nActiveRequests};a.prototype.outstandingRequests=function(){return this._nActiveRequests+this._queue.length};a.prototype.launchRequests=function(){for(;this._nActiveRequests<this._nSimultaneousRequests&&0<this._queue.length;)this._nActiveRequests++,this._queue.pop().resolve()};a.prototype.promiseWithRetries=function(a,b,c){var d=this;return this._promiseFromUrl(a,c).then(function(a){return a},function(e){return 0<b?d.promiseWithRetries(a,b-1,c):Promise.reject(e)})};
a.prototype._promiseFromUrl=function(a,b){return new Promise(function(d,e){var f=new XMLHttpRequest;f.open(b?"POST":"GET",a);if(b){var g=new FormData;for(var h in b)h&&g.append(h,b[h])}f.onload=function(){200===f.status?d(JSON.parse(f.responseText)):e(new c(f,a))};f.onerror=function(){e(new c(f,a))};f.send(g)})};return a}();a.RequestManager=d})(u||(u={}));
</script>
<script>//~~WEBPATH~~/tf-backend/urlPathHelpers.js
(function(a){a.addParams=function(a,c){var b=Object.keys(c).sort().filter(function(a){return void 0!==c[a]});if(!b.length)return a;var e=-1!==a.indexOf("?")?"\x26":"?";b=[].concat.apply([],b.map(function(a){var b=c[a];return(Array.isArray(b)?b:[b]).map(function(b){return a+"\x3d"+encodeURIComponent(b).replace(/\(/g,"%28").replace(/\)/g,"%29")})})).join("\x26");return a+e+b}})(u||(u={}));
</script>
<script>//~~WEBPATH~~/tf-backend/router.js
(function(a){function b(a,b){void 0===a&&(a="data");void 0===b&&(b=!1);"/"===a[a.length-1]&&(a=a.slice(0,a.length-1));return{environment:function(){return a+"/environment"},experiments:function(){return a+"/experiments"},isDemoMode:function(){return b},pluginRoute:function(b,c){return a+"/plugin/"+b+c},pluginsListing:function(){return a+"/plugins_listing"},runs:function(){return a+"/runs"+(b?".json":"")},runsForExperiment:function(b){return a+("/experiment_runs?experiment\x3d"+b)}}}a.createRouter=
b;var c=b();a.getRouter=function(){return c};a.setRouter=function(a){if(null==a)throw Error("Router required, but got: "+a);c=a}})(u||(u={}));
</script>
<script>//~~WEBPATH~~/tf-backend/baseStore.js
(function(a){var b=function(){return function(a){this.listener=a}}();a.ListenKey=b;var c=function(){function c(){this.requestManager=new a.RequestManager(1);this._listeners=new Set;this.initialized=!1}c.prototype.refresh=function(){var a=this;return this.load().then(function(){a.initialized=!0})};c.prototype.addListener=function(a){a=new b(a);this._listeners.add(a);return a};c.prototype.removeListenerByKey=function(a){this._listeners.delete(a)};c.prototype.emitChange=function(){this._listeners.forEach(function(a){try{a.listener()}catch(f){}})};
return c}();a.BaseStore=c})(u||(u={}));
</script>
<script>//~~WEBPATH~~/tf-backend/environmentStore.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){var b;(function(a){a[a.DB=0]="DB";a[a.LOGDIR=1]="LOGDIR"})(b=a.Mode||(a.Mode={}));var c=function(c){function d(){return null!==c&&c.apply(this,arguments)||this}Oa(d,c);d.prototype.load=function(){var c=this,d=a.getRouter().environment();return this.requestManager.request(d).then(function(a){a={dataLocation:a.data_location,mode:"db"==a.mode?b.DB:b.LOGDIR,windowTitle:a.window_title};_.isEqual(c.environment,a)||(c.environment=a,c.emitChange())})};d.prototype.getDataLocation=function(){return this.environment.dataLocation};
d.prototype.getMode=function(){return this.environment.mode};d.prototype.getWindowTitle=function(){return this.environment.windowTitle};return d}(a.BaseStore);a.EnvironmentStore=c;a.environmentStore=new c})(u||(u={}));
</script>
<script>//~~WEBPATH~~/tf-backend/experimentsStore.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a._experiments=[];return a}Oa(c,b);c.prototype.load=function(){var b=this;return this.requestManager.request(a.getRouter().experiments()).then(function(a){_.isEqual(b._experiments,a)||(b._experiments=a,b.emitChange())})};c.prototype.getExperiments=function(){return this._experiments.slice()};return c}(a.BaseStore);a.ExperimentsStore=b;a.experimentsStore=new b})(u||(u={}));
</script>
<script>//~~WEBPATH~~/tf-backend/runsStore.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a._runs=[];return a}Oa(c,b);c.prototype.load=function(){var b=this,c=a.getRouter().runs();return this.requestManager.request(c).then(function(a){_.isEqual(b._runs,a)||(b._runs=a,b.emitChange())})};c.prototype.getRuns=function(){return this._runs.slice()};return c}(a.BaseStore);a.RunsStore=b;a.runsStore=new b})(u||(u={}));
</script>
<script>//~~WEBPATH~~/tf-backend/backend.js
(function(a){a.TYPES=[];a.getRunsNamed=function(a){return _.keys(a).sort(Na.compareTagNames)};a.getTags=function(a){return _.union.apply(null,_.values(a)).sort(Na.compareTagNames)};a.filterTags=function(a,c){var b=[];c.forEach(function(c){return b=b.concat(a[c])});return _.uniq(b).sort(Na.compareTagNames)}})(u||(u={}));
</script>
<script>//~~WEBPATH~~/tf-backend/canceller.js
(function(a){var b=function(){function a(){this.cancellationCount=0}a.prototype.cancellable=function(a){var b=this,c=this.cancellationCount;return function(d){return a({value:d,cancelled:b.cancellationCount!==c})}};a.prototype.cancelAll=function(){this.cancellationCount++};return a}();a.Canceller=b})(u||(u={}));
</script>




<script>//~~WEBPATH~~/tf-categorization-utils/categorizationUtils.js
var Pa;
(function(a){function b(a,b){try{var c=new RegExp(b)}catch(p){c=null}return{name:b,metadata:{type:l.SEARCH_RESULTS,validRegex:!!c,universalRegex:".*"===b},items:c?a.filter(function(a){return a.match(c)}):[]}}function c(a,b){void 0===b&&(b="/");var c=[],d={};a.forEach(function(a){var e=a.indexOf(b);e=0<=e?a.slice(0,e):a;if(!d[e]){var f={name:e,metadata:{type:l.PREFIX_GROUP},items:[]};d[e]=f;c.push(f)}d[e].items.push(a)});return c}function d(a,d){void 0===d&&(d="");d=[b(a,d)];a=c(a);return[].concat(d,a)}
function e(a,b,c){var e=u.getTags(a);c=d(e,c);var g=f(_.pick(a,b));return c.map(function(a){return{name:a.name,metadata:a.metadata,items:a.items.map(function(a){return{tag:a,runs:(g.get(a)||[]).slice()}})}})}function f(a){var b=new Map;Object.keys(a).forEach(function(c){a[c].forEach(function(a){var d=b.get(a)||[];d.push(c);b.set(a,d)})});return b}function g(a,b){var c={};a.forEach(function(a){c[a.name]=a.tags.filter(function(a){return a.pluginName==b}).map(function(a){return a.name})});return c}function h(a,
b){var c=Na.compareTagNames(a.tag,b.tag);return 0!=c?c:Na.compareTagNames(a.run,b.run)}var l;(function(a){a[a.SEARCH_RESULTS=0]="SEARCH_RESULTS";a[a.PREFIX_GROUP=1]="PREFIX_GROUP"})(l=a.CategoryType||(a.CategoryType={}));a.categorizeBySearchQuery=b;a.categorizeByPrefix=c;a.categorize=d;a.categorizeTags=e;a.categorizeSelection=function(a){var d=new Map,e=new Map,h=[];a.forEach(function(a){var c=a.experiment,l=a.runs;a=a.tagRegex;l.map(function(a){return a.name});l=g(l,"scalars");var m=f(l);l=u.getTags(l);
l.forEach(function(a){var b=d.get(a)||[];b.push.apply(b,m.get(a).map(function(b){return{experiment:c,run:b,tag:a}}));d.set(a,b)});a=b(l,a);h.push(a);a.items.forEach(function(a){var b=e.get(a)||[];b.push.apply(b,m.get(a).map(function(b){return{experiment:c,run:b,tag:a}}));e.set(a,b)})});a=1==h.length?h[0]:{name:h.every(function(a){return!a.name})?"":"multi",metadata:{type:l.SEARCH_RESULTS,compositeSearch:!0,validRegex:h.every(function(a){return a.metadata.validRegex}),universalRegex:!1},items:Array.from(e.keys()).sort(Na.compareTagNames)};
a=Object.assign({},a,{items:a.items.map(function(a){return{tag:a,series:e.get(a)}})});var m=c(Array.from(d.keys())).map(function(a){return{name:a.name,metadata:a.metadata,items:a.items.map(function(a){return{tag:a,series:d.get(a)}})}});return[a].concat(m)};a.categorizeRunTagCombinations=function(a,b,c){return e(a,b,c).map(function(a){var b=_.flatten(a.items.map(function(a){var b=a.tag;return a.runs.map(function(a){return{tag:b,run:a}})}));b.sort(h);return{name:a.name,metadata:a.metadata,items:b}})}})(Pa||
(Pa={}));
</script>






<dom-module id="iron-collapse">

  <template>

    

    <content class="style-scope iron-collapse"></content>

  </template>

</dom-module>

<script>//~~WEBPATH~~/iron-collapse/iron-collapse.html.js
Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},get _dimensionMaxCss(){return this.horizontal?"max-width":
"max-height"},hostAttributes:{role:"group","aria-hidden":"true"},listeners:{transitionend:"_onTransitionEnd"},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(a,b){a="auto"===a?"":a;b=b&&!this.noAnimation&&this.isAttached&&this._desiredSize!==a;this._desiredSize=a;this._updateTransition(!1);b&&(b=this._calcSize(),""===a&&(this.style[this._dimensionMax]="",a=this._calcSize()),this.style[this._dimensionMax]=b,this.scrollTop=
this.scrollTop,this._updateTransition(!0),b=a!==b);this.style[this._dimensionMax]=a;b||this._transitionEnd()},enableTransition:function(a){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!a},_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?"":"0s"},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;this.style["maxWidth"===this._dimensionMax?"maxHeight":"maxWidth"]="";this.updateSize(this.opened?
"auto":"0px",!1)},_openedChanged:function(){this.setAttribute("aria-hidden",!this.opened);this._setTransitioning(!0);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize;this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",this.opened);this._updateTransition(!1);this.notifyResize();
this._setTransitioning(!1)},_onTransitionEnd:function(a){Polymer.dom(a).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}});
</script>



<dom-module id="tf-category-pane">
  <template>
    <template is="dom-if" class="style-scope tf-category-pane"></template>
    
  </template>
  <script>//~~WEBPATH~~/tf-categorization-utils/tf-category-pane.html.js
Polymer({is:"tf-category-pane",properties:{category:Object,opened:{type:Boolean,value:!0,notify:!0},restamp:{type:Boolean,value:!0},_count:{type:Number,computed:"_computeCount(category.items.*)"},_rendered:{type:Boolean,computed:"_computeRendered(category)"},_isSearchResults:{type:Boolean,computed:"_computeIsSearchResults(category.metadata.type)"},_isInvalidSearchResults:{type:Boolean,computed:"_computeIsInvalidSearchResults(category.metadata)"},_isUniversalSearchQuery:{type:Boolean,computed:"_computeIsUniversalSearchQuery(category.metadata)"}},
_computeCount:function(){return this.category.items.length},_togglePane:function(){this.set("opened",!this.opened)},_computeRendered:function(a){return!(a.metadata.type===Pa.CategoryType.SEARCH_RESULTS&&""===a.name)},_computeIsSearchResults:function(a){return a===Pa.CategoryType.SEARCH_RESULTS},_computeIsInvalidSearchResults:function(a){return a.type===Pa.CategoryType.SEARCH_RESULTS&&!a.validRegex},_computeIsUniversalSearchQuery:function(a){return a.type===Pa.CategoryType.SEARCH_RESULTS&&a.universalRegex},
_isCompositeSearch:function(){var a=this.category.metadata,b=a.type;return a.compositeSearch&&b===Pa.CategoryType.SEARCH_RESULTS}});
</script>
</dom-module>




<script>//~~WEBPATH~~/tf-globals/globals.js
var Qa;(function(a){var b=!1;a.setUseHash=function(a){b=a};a.useHash=function(){return b};var c="";a.setFakeHash=function(a){c=a};a.getFakeHash=function(){return c};a.getEnableDataSelector=function(){return(new URLSearchParams(window.location.search)).has("EnableDataSelector")}})(Qa||(Qa={}));
</script>




<script>//~~WEBPATH~~/tf-storage/listeners.js
var G;
(function(a){var b=function(){return function(a){this.listener=a}}();a.ListenKey=b;var c=new Set,d=new Set;window.addEventListener("hashchange",function(){c.forEach(function(a){return a.listener()})});window.addEventListener("storage",function(){d.forEach(function(a){return a.listener()})});a.addHashListener=function(a){a=new b(a);c.add(a);return a};a.addStorageListener=function(a){a=new b(a);d.add(a);return a};a.removeHashListenerByKey=function(a){c.delete(a)};a.removeStorageListenerByKey=function(a){d.delete(a)}})(G||
(G={}));
</script>
<script>//~~WEBPATH~~/tf-storage/storage.js
var Ra=this&&this.__assign||Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};
(function(a){function b(b,h){function l(a,c){void 0===c&&(c={});var e=c.defaultValue;c=c.useLocalStorage;a=(void 0===c?0:c)?window.localStorage.getItem(a):g(d())[a];return void 0==a?_.cloneDeep(e):b(a)}function m(a,b,c){void 0===c&&(c={});var m=c.defaultValue,n=c.useLocalStorage;n=void 0===n?!1:n;c=c.useLocationReplace;c=void 0===c?!1:c;var q=h(b);n?window.localStorage.setItem(a,q):_.isEqual(b,l(a,{useLocalStorage:n}))||(_.isEqual(b,m)?(b=g(d()),delete b[a],e(f(b))):(b=g(d()),b[a]=q,e(f(b),c)))}var p=
[],t=[];return{get:l,set:m,getInitializer:function(b,d){var e=Ra({defaultValue:d.defaultValue,polymerProperty:b,useLocalStorage:!1},d);return function(){function d(){var a=l(g,e);_.isEqual(a,f[e.polymerProperty])||(f[e.polymerProperty]=a)}var f=this,g=c(this,b),h=(e.useLocalStorage?a.addStorageListener:a.addHashListener)(function(){return d()});e.useLocalStorage?t.push(h):p.push(h);d();return this[e.polymerProperty]}},getObserver:function(a,b){var d=Ra({defaultValue:b.defaultValue,polymerProperty:a,
useLocalStorage:!1},b);return function(){m(c(this,a),this[d.polymerProperty],d)}},disposeBinding:function(){p.forEach(function(b){return a.removeHashListenerByKey(b)});t.forEach(function(b){return a.removeStorageListenerByKey(b)})}}}function c(b,c){b=b[a.DISAMBIGUATOR];return(null==b?[c]:[b,c]).join(".")}function d(){return Qa.useHash()?window.location.hash.slice(1):Qa.getFakeHash()}function e(a,b){void 0===b&&(b=!1);Qa.useHash()?b?window.location.replace("#"+a):window.location.hash=a:Qa.setFakeHash(a)}
function f(b){var c="";void 0!==b[a.TAB]&&(c+=b[a.TAB]);var d=Object.keys(b).map(function(a){return[a,b[a]]}).filter(function(b){return b[0]!==a.TAB}).map(function(a){return encodeURIComponent(a[0])+"\x3d"+encodeURIComponent(a[1])}).join("\x26");return 0<d.length?c+"\x26"+d:c}function g(b){var c={};b.split("\x26").forEach(function(b){b=b.split("\x3d");1===b.length?c[a.TAB]=b[0]:2===b.length&&(c[decodeURIComponent(b[0])]=decodeURIComponent(b[1]))});return c}a.TAB="__tab__";a.DISAMBIGUATOR="disambiguator";
var h=b(function(a){return a},function(a){return a});a.getString=h.get;a.setString=h.set;a.getStringInitializer=h.getInitializer;a.getStringObserver=h.getObserver;h=b(function(a){return"true"===a?!0:"false"===a?!1:void 0},function(a){return a.toString()});a.getBoolean=h.get;a.setBoolean=h.set;a.getBooleanInitializer=h.getInitializer;a.getBooleanObserver=h.getObserver;h=b(function(a){return+a},function(a){return a.toString()});a.getNumber=h.get;a.setNumber=h.set;a.getNumberInitializer=h.getInitializer;
a.getNumberObserver=h.getObserver;h=b(function(a){return JSON.parse(atob(a))},function(a){return btoa(JSON.stringify(a))});a.getObject=h.get;a.setObject=h.set;a.getObjectInitializer=h.getInitializer;a.getObjectObserver=h.getObserver;a.makeBindings=b})(G||(G={}));
</script>



<dom-module id="tf-tag-filterer">
  <template>
    <paper-input no-label-float="" label="Filter tags (regular expressions supported)" class="search-input style-scope tf-tag-filterer">
      <iron-icon prefix="" icon="search" slot="prefix" class="style-scope tf-tag-filterer"></iron-icon>
    </paper-input>
  </template>
  
  <script>//~~WEBPATH~~/tf-categorization-utils/tf-tag-filterer.html.js
Polymer({is:"tf-tag-filterer",properties:{tagFilter:{type:String,notify:!0,value:G.getStringInitializer("tagFilter",{defaultValue:"",useLocalStorage:!0}),observer:"_tagFilterObserver"}},_tagFilterObserver:G.getStringObserver("tagFilter",{defaultValue:"",useLocalStorage:!0})});
</script>
</dom-module>

<script>//~~WEBPATH~~/tf-dashboard-common/array-update-helper.js
var Sa;
(function(a){a.ArrayUpdateHelper={updateArrayProp:function(a,c,d){if(this.isAttached&&!Array.isArray(this[a]))throw RangeError("Expected '"+a+"' to be an array but is "+typeof this[a]+".");if(!Array.isArray(c))throw RangeError("Expected new value to '"+a+"' to be an array.");Array.isArray(this[a])||(this[a]=[]);for(var b=this[a],f=new Set(c.map(function(a,b){return d(a,b)})),g=0,h=0;g<b.length&&h<c.length;)f.has(d(b[g],g))?(d(b[g],g)==d(c[h],h)?this.set(a+"."+g,c[h]):this.splice(a,g,0,c[h]),h++,g++):
this.splice(a,g,1);g<b.length&&this.splice(a,g);h<c.length&&this.push.apply(this,[a].concat(c.slice(h)))}}})(Sa||(Sa={}));
</script>




<dom-module id="iron-flex">
  <template>
    
  </template>
</dom-module>


<dom-module id="iron-flex-reverse">
  <template>
    <style>
      .layout.horizontal-reverse,
      .layout.vertical-reverse {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      }

      .layout.horizontal-reverse {
        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
      }

      .layout.vertical-reverse {
        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      }

      .layout.wrap-reverse {
        -ms-flex-wrap: wrap-reverse;
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
      }
    </style>
  </template>
</dom-module>


<dom-module id="iron-flex-alignment">
  <template>
    <style>
      /**
       * Alignment in cross axis.
       */
      .layout.start {
        -ms-flex-align: start;
        -webkit-align-items: flex-start;
        align-items: flex-start;
      }

      .layout.center,
      .layout.center-center {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      }

      .layout.end {
        -ms-flex-align: end;
        -webkit-align-items: flex-end;
        align-items: flex-end;
      }

      .layout.baseline {
        -ms-flex-align: baseline;
        -webkit-align-items: baseline;
        align-items: baseline;
      }

      /**
       * Alignment in main axis.
       */
      .layout.start-justified {
        -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
      }

      .layout.center-justified,
      .layout.center-center {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      }

      .layout.end-justified {
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
      }

      .layout.around-justified {
        -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
      }

      .layout.justified {
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
      }

      /**
       * Self alignment.
       */
      .self-start {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      }

      .self-center {
        -ms-align-self: center;
        -webkit-align-self: center;
        align-self: center;
      }

      .self-end {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      }

      .self-stretch {
        -ms-align-self: stretch;
        -webkit-align-self: stretch;
        align-self: stretch;
      }

      .self-baseline {
        -ms-align-self: baseline;
        -webkit-align-self: baseline;
        align-self: baseline;
      }

      /**
       * multi-line alignment in main axis.
       */
      .layout.start-aligned {
        -ms-flex-line-pack: start;  /* IE10 */
        -ms-align-content: flex-start;
        -webkit-align-content: flex-start;
        align-content: flex-start;
      }

      .layout.end-aligned {
        -ms-flex-line-pack: end;  /* IE10 */
        -ms-align-content: flex-end;
        -webkit-align-content: flex-end;
        align-content: flex-end;
      }

      .layout.center-aligned {
        -ms-flex-line-pack: center;  /* IE10 */
        -ms-align-content: center;
        -webkit-align-content: center;
        align-content: center;
      }

      .layout.between-aligned {
        -ms-flex-line-pack: justify;  /* IE10 */
        -ms-align-content: space-between;
        -webkit-align-content: space-between;
        align-content: space-between;
      }

      .layout.around-aligned {
        -ms-flex-line-pack: distribute;  /* IE10 */
        -ms-align-content: space-around;
        -webkit-align-content: space-around;
        align-content: space-around;
      }
    </style>
  </template>
</dom-module>

<dom-module id="iron-flex-factors">
  <template>
    <style>
      .flex,
      .flex-1 {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      }

      .flex-2 {
        -ms-flex: 2;
        -webkit-flex: 2;
        flex: 2;
      }

      .flex-3 {
        -ms-flex: 3;
        -webkit-flex: 3;
        flex: 3;
      }

      .flex-4 {
        -ms-flex: 4;
        -webkit-flex: 4;
        flex: 4;
      }

      .flex-5 {
        -ms-flex: 5;
        -webkit-flex: 5;
        flex: 5;
      }

      .flex-6 {
        -ms-flex: 6;
        -webkit-flex: 6;
        flex: 6;
      }

      .flex-7 {
        -ms-flex: 7;
        -webkit-flex: 7;
        flex: 7;
      }

      .flex-8 {
        -ms-flex: 8;
        -webkit-flex: 8;
        flex: 8;
      }

      .flex-9 {
        -ms-flex: 9;
        -webkit-flex: 9;
        flex: 9;
      }

      .flex-10 {
        -ms-flex: 10;
        -webkit-flex: 10;
        flex: 10;
      }

      .flex-11 {
        -ms-flex: 11;
        -webkit-flex: 11;
        flex: 11;
      }

      .flex-12 {
        -ms-flex: 12;
        -webkit-flex: 12;
        flex: 12;
      }
    </style>
  </template>
</dom-module>


<dom-module id="iron-positioning">
  <template>
    <style>
      .block {
        display: block;
      }

      [hidden] {
        display: none !important;
      }

      .invisible {
        visibility: hidden !important;
      }

      .relative {
        position: relative;
      }

      .fit {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }

      body.fullbleed {
        margin: 0;
        height: 100vh;
      }

      .scroll {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
      }

      /* fixed position */
      .fixed-bottom,
      .fixed-left,
      .fixed-right,
      .fixed-top {
        position: fixed;
      }

      .fixed-top {
        top: 0;
        left: 0;
        right: 0;
      }

      .fixed-right {
        top: 0;
        right: 0;
        bottom: 0;
      }

      .fixed-bottom {
        right: 0;
        bottom: 0;
        left: 0;
      }

      .fixed-left {
        top: 0;
        bottom: 0;
        left: 0;
      }
    </style>
  </template>
</dom-module>









<style is="custom-style"></style>


<dom-module id="dashboard-style">
  <template>
    
    
  </template>
</dom-module>





<dom-module id="scrollbar-style">
  <template>
    
  </template>
</dom-module>




<dom-module id="tf-dashboard-layout">
  <template>
    <div id="sidebar" class="style-scope tf-dashboard-layout">
      <content select=".sidebar" class="style-scope tf-dashboard-layout"></content>
    </div>

    <div id="center" class="style-scope tf-dashboard-layout">
      <content select=".center" class="scollbar style-scope tf-dashboard-layout"></content>
    </div>
    
    
  </template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-dashboard-layout.html.js
Polymer({is:"tf-dashboard-layout"});
</script>
</dom-module>





<dom-module id="tf-option-selector">
  <template>
    <div id="wrap" class="style-scope tf-option-selector">
      <h3 class="style-scope tf-option-selector"> </h3>
      <div class="content-wrapper style-scope tf-option-selector"><content class="style-scope tf-option-selector"></content></div>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-option-selector.html.js
Polymer({is:"tf-option-selector",properties:{name:String,selectedId:{type:String,notify:!0,observer:"_selectedIdChanged"}},attached:function(){this.async(function(){this.getEffectiveChildren().forEach(function(a){this.listen(a,"tap","_selectTarget")}.bind(this))})},_selectTarget:function(a){this.selectedId=a.currentTarget.id},_selectedIdChanged:function(){var a=this.queryEffectiveChildren("#"+this.selectedId);a&&(this.getEffectiveChildren().forEach(function(a){a.classList.remove("selected")}),a.classList.add("selected"))}});
</script>
</dom-module>








<dom-module id="tf-color-scale">
  <script>//~~WEBPATH~~/tf-color-scale/palettes.js
var Ta,Ua=Ta||(Ta={});
Ua.palettes={googleStandard:"#db4437 #ff7043 #f4b400 #0f9d58 #00796b #00acc1 #4285f4 #5c6bc0 #ab47bc".split(" "),googleCool:"#9e9d24 #0f9d58 #00796b #00acc1 #4285f4 #5c6bc0 #607d8b".split(" "),googleWarm:"#795548 #ab47bc #f06292 #c2185b #db4437 #ff7043 #f4b400".split(" "),googleColorBlindAssist:"#ff7043 #00ACC1 #AB47BC #2A56C6 #0b8043 #F7CB4D #c0ca33 #5e35b1 #A52714".split(" "),tensorboardColorBlindAssist:"#ff7043 #0077bb #cc3311 #33bbee #ee3377 #009988 #bbbbbb".split(" "),colorBlindAssist1:"#4477aa #44aaaa #aaaa44 #aa7744 #aa4455 #aa4488".split(" "),colorBlindAssist2:"#88ccee #44aa99 #117733 #999933 #ddcc77 #cc6677 #882255 #aa4499".split(" "),
colorBlindAssist3:"#332288 #6699cc #88ccee #44aa99 #117733 #999933 #ddcc77 #cc6677 #aa4466 #882255 #661100 #aa4499".split(" "),colorBlindAssist4:"#4477aa #66ccee #228833 #ccbb44 #ee6677 #aa3377 #bbbbbb".split(" "),colorBlindAssist5:"#FF6DB6 #920000 #924900 #DBD100 #24FF24 #006DDB #490092".split(" "),mldash:"#E47EAD #F4640D #FAA300 #F5E636 #00A077 #0077B8 #00B7ED".split(" ")};Ua.standard=Ua.palettes.tensorboardColorBlindAssist;
</script>
  <script>//~~WEBPATH~~/tf-color-scale/colorScale.js
(function(a){function b(a,b){function d(){e.setDomain(b())}var e=new c;a.addListener(d);d();return function(a){return e.getColor(a)}}var c=function(){function b(b){void 0===b&&(b=a.standard);this.palette=b;this.identifiers=d3.map()}b.prototype.setDomain=function(a){var b=this;this.identifiers=d3.map();a.forEach(function(a,c){b.identifiers.set(a,b.palette[c%b.palette.length])})};b.prototype.getColor=function(a){if(!this.identifiers.has(a))throw Error("String "+a+" was not in the domain.");return this.identifiers.get(a)};
return b}();a.ColorScale=c;a.runsColorScale=b(u.runsStore,function(){return u.runsStore.getRuns()});a.experimentsColorScale=b(u.experimentsStore,function(){return u.experimentsStore.getExperiments().map(function(a){return a.name})})})(Ta||(Ta={}));
</script>
</dom-module>









<dom-module id="run-color-style">
  <template>
    
  </template>
</dom-module>




<dom-module id="tf-filterable-checkbox-list">
  
  
  <template>
    <div class="item style-scope tf-filterable-checkbox-list">
      <paper-input id="input" autofocus="" class="input style-scope tf-filterable-checkbox-list" no-label-float="">
    </paper-input></div>
    <div class="matches style-scope tf-filterable-checkbox-list">
      <template is="dom-if" class="style-scope tf-filterable-checkbox-list"></template>
      <template is="dom-repeat" class="style-scope tf-filterable-checkbox-list"></template>
    </div>
    <template is="dom-if" class="style-scope tf-filterable-checkbox-list"></template>
    
  </template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-filterable-checkbox-list.js
Sa||(Sa={});
Polymer({is:"tf-filterable-checkbox-list",properties:{label:{type:String},useCheckboxColors:{type:Boolean,value:!0},coloring:{type:Object,value:{getColor:function(){return""}}},items:{type:Array,value:function(){return[]},observer:"_pruneSelectionState"},_regexString:{type:String,value:""},_regex:{type:Object,computed:"_makeRegex(_regexString)"},_itemsMatchingRegex:{type:Array,computed:"computeItemsMatchingRegex(items.*, _regex)"},selectionState:{type:Object,value:function(){return{}}},selectedItems:{type:Array,
notify:!0,computed:"_computeSelectedItems(_itemsMatchingRegex.*, selectionState.*)"},maxItemsToEnableByDefault:{type:Number,value:40},allToggleDisabled:{type:Boolean,value:!1}},listeners:{"dom-change":"_synchronizeColors"},observers:["_synchronizeColors(useCheckboxColors)","_synchronizeColors(coloring)"],detached:function(){this.cancelDebouncer("_setRegex")},_makeRegex:function(a){try{return new RegExp(a)}catch(b){return null}},computeItemsMatchingRegex:function(){var a=this._regex;return a?this.items.filter(function(b){return a.test(b.title)}):
this.items},_computeSelectedItems:function(){var a=this.selectionState,b=this._itemsMatchingRegex.length<=this.maxItemsToEnableByDefault;return this._itemsMatchingRegex.filter(function(c){return null==a[c.id]?b:a[c.id]})},_isChecked:function(a){return-1!=this.selectedItems.indexOf(a)},_debouncedRegexChange:function(){var a=this,b=this.$.input.value;""==b?window.requestAnimationFrame(function(){a._regexString=b}):this.debounce("_setRegex",function(){a._regexString=b},150)},_synchronizeColors:function(){var a=
this;this.useCheckboxColors&&(this.querySelectorAll("paper-checkbox").forEach(function(b){var c=a.coloring.getColor(b.name);b.customStyle["--paper-checkbox-checked-color"]=c;b.customStyle["--paper-checkbox-checked-ink-color"]=c;b.customStyle["--paper-checkbox-unchecked-color"]=c;b.customStyle["--paper-checkbox-unchecked-ink-color"]=c}),window.requestAnimationFrame(function(){return a.updateStyles()}))},_checkboxTapped:function(a){var b,c=a.currentTarget,d=Object.assign({},this.selectionState,(b={},
b[c.name.id]=c.checked,b));a.detail.sourceEvent instanceof MouseEvent&&a.detail.sourceEvent.altKey&&Object.keys(d).forEach(function(a){d[a]=a==c.name.id});this.selectionState=d},_toggleAll:function(){var a=this,b=this._itemsMatchingRegex.some(function(b){return a.selectionState[b.id]}),c=0==Object.keys(this.selectionState).length,d=this._itemsMatchingRegex.length>this.maxItemsToEnableByDefault;b=b||c&&!d;var e={};this.items.forEach(function(a){e[a.id]=!b});this.selectionState=e},_pruneSelectionState:function(){var a=
new Set(this.items.map(function(a){return String(a.id)})),b=Object.assign({},this.selectionState);Object.keys(b).forEach(function(c){a.has(c)||delete b[c]});this.selectionState=b}});
</script>
</dom-module>















<dom-module id="paper-icon-button">
  <template strip-whitespace=""><iron-icon id="icon" class="style-scope paper-icon-button"></iron-icon></template>

  <script>//~~WEBPATH~~/paper-icon-button/paper-icon-button.html.js
Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(a,b){var c=this.getAttribute("aria-label");c&&b!=c||this.setAttribute("aria-label",a)}});
</script>
</dom-module>















<dom-module id="tf-filterable-checkbox-dropdown">
  <template>
    <paper-menu-button vertical-align="top" horizontal-align="left" no-overlap="true" class="style-scope tf-filterable-checkbox-dropdown">
      <div class="dropdown-trigger style-scope tf-filterable-checkbox-dropdown" slot="dropdown-trigger">
        <paper-ripple class="style-scope tf-filterable-checkbox-dropdown"></paper-ripple>
        
        <paper-input no-label-float="" readonly="" type="text" class="style-scope tf-filterable-checkbox-dropdown">
          <iron-icon icon="arrow-drop-down" suffix="" slot="suffix" class="style-scope tf-filterable-checkbox-dropdown"></iron-icon>
        </paper-input>
      </div>
      <div class="dropdown-content style-scope tf-filterable-checkbox-dropdown">
        <tf-filterable-checkbox-list class="style-scope tf-filterable-checkbox-dropdown">
        </tf-filterable-checkbox-list>
      </div>
    </paper-menu-button>
    
  </template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-filterable-checkbox-dropdown.js
Sa||(Sa={});
Polymer({is:"tf-filterable-checkbox-dropdown",properties:{label:{type:String},placeholder:{type:String},useCheckboxColors:{type:Boolean,value:!0},coloring:Object,_coloring:{type:Object,computed:"_computeColoring(_opened, coloring)"},items:{type:Array,value:function(){return[]}},maxItemsToEnableByDefault:Number,selectionState:{type:Object,value:function(){return{}}},selectedItems:{type:Array,notify:!0,value:function(){return[]}},_opened:{type:Boolean,value:!1}},_getValueLabel:function(){if(this.selectedItems.length==this.items.length)return"All "+
this.label+"s";if(!this.selectedItems.length)return"";if(3>=this.selectedItems.length){var a=this.selectedItems.map(function(a){return a.title});return Array.from(new Set(a)).join(", ")}return this.selectedItems.length+" Selected"},_computeColoring:function(){return Object.assign({},this.coloring)}});
</script>
</dom-module>

<script>//~~WEBPATH~~/tf-data-selector/storage-utils.js
var Wa;(function(a){function b(a){return a.toString(36)}a.decodeIdArray=function(a){return a.split(",").map(function(a){return parseInt(a,36)}).filter(Boolean)};a.encodeIdArray=function(a){return a.map(b).join(",")};a.encodeId=b})(Wa||(Wa={}));
</script>



<dom-module id="tf-data-select-row">
  <template>
    <template is="dom-if" class="style-scope tf-data-select-row"></template>

    <tf-filterable-checkbox-dropdown label="Run" class="style-scope tf-data-select-row"></tf-filterable-checkbox-dropdown>

    <paper-input no-label-float="" label="Tag Regex" class="style-scope tf-data-select-row">
      <iron-icon prefix="" icon="search" slot="prefix" class="style-scope tf-data-select-row"></iron-icon>
    </paper-input>

    <template is="dom-if" class="style-scope tf-data-select-row"></template>

    
  </template>
  <script>//~~WEBPATH~~/tf-data-selector/tf-data-select-row.js
(function(a){var b;(function(a){a[a.RUN=1]="RUN";a[a.TAG=2]="TAG"})(b||(b={}));Polymer({is:"tf-data-select-row",properties:{experiment:{type:Object,value:function(){return{id:null,name:"Unknown experiment",startTime:null}}},enabled:{type:Boolean,notify:!0,value:!0},checkboxColor:{type:String,value:""},persistenceId:String,noExperiment:{type:Boolean,value:!1},shouldColorRuns:{type:Boolean,value:!1},_coloring:{type:Object,computed:"_getColoring(shouldColorRuns)"},_runs:{type:Array,value:function(){return[]}},
_runSelectionStateString:{type:String,value:""},_selectedRuns:{type:Array,value:function(){return[]}},_tagRegex:{type:String,value:"",observer:"_persistRegex"},_storageBinding:{type:Object,value:function(){return null}}},listeners:{"dom-change":"_synchronizeColors"},observers:["_immutablePropInvarianceViolated(persistenceId.*)","_immutablePropInvarianceViolated(experiment.*)","_synchronizeColors(checkboxColor)","_persistSelectedRuns(_selectedRuns)","_fireChange(_selectedRuns, _tagRegex)"],_getPersistenceKey:function(a){var c=
this.persistenceId;switch(a){case b.RUN:return"gr"+c;case b.TAG:return"gt"+c}},attached:function(){var a=this;if(null==this.persistenceId)throw new RangeError("Required `persistenceId` missing");this._initFromStorage();this._initRunsAndTags().then(function(){if(!a._runSelectionStateString){var c=20>=a._runs.length?"$all":"$none";a._storageBinding.set(a._getPersistenceKey(b.RUN),c,{defaultValue:""});a._runSelectionStateString=c}})},detached:function(){this._isDataReady=!1;this._storageBinding&&this._storageBinding.disposeBinding()},
_initFromStorage:function(){this._storageBinding&&this._storageBinding.disposeBinding();this._storageBinding=G.makeBindings(function(a){return a},function(a){return a});this._storageBinding.getInitializer(this._getPersistenceKey(b.RUN),{defaultValue:"",polymerProperty:"_runSelectionStateString"}).call(this);this._storageBinding.getInitializer(this._getPersistenceKey(b.TAG),{defaultValue:"",polymerProperty:"_tagRegex"}).call(this)},_initRunsAndTags:function(){var a=this;this._isDataReady=!1;return this._fetchRunsAndTags().then(function(){a._isDataReady=
!0})},_immutablePropInvarianceViolated:function(a){if(this.isAttached)throw Error("Invariance Violation: "+("Expected property '"+a.path+"' not to change."));},_synchronizeColors:function(){var a=this,b=this.$$("#checkbox");if(b){var e=this.checkboxColor;b.customStyle["--paper-checkbox-checked-color"]=e;b.customStyle["--paper-checkbox-checked-ink-color"]=e;b.customStyle["--paper-checkbox-unchecked-color"]=e;b.customStyle["--paper-checkbox-unchecked-ink-color"]=e;window.requestAnimationFrame(function(){return a.updateStyles()})}},
_fetchRunsAndTags:function(){var a=this,b=new u.RequestManager;if(this.noExperiment)return b=b.request(u.getRouter().runs()),Promise.all([b]).then(function(b){a.set("_runs",Array.from(new Set(b[0])).map(function(a){return{id:null,name:a,startedTime:null}}))});console.assert(null!=this.experiment.id,"Expected an experiment Id");return b.request(u.getRouter().runsForExperiment(this.experiment.id)).then(function(b){a.set("_runs",b)})},_getRunOptions:function(){var a=this;return this._runs.map(function(b){return{id:a._getSyntheticRunId(b),
title:b.name}})},_persistSelectedRuns:function(){if(this._isDataReady){var a=this._serializeValue(this._runs,this._selectedRuns.map(function(a){return a.id}));this._storageBinding.set(this._getPersistenceKey(b.RUN),a,{defaultValue:""})}},_getRunsSelectionState:function(){var a=this,b=this._runs.map(function(b){return a._getSyntheticRunId(b)}),e=this._deserializeValue(b,this._runSelectionStateString),f=new Set(e),g={};b.forEach(function(a){return g[a]=f.has(a)});return g},_persistRegex:function(){this._isDataReady&&
this._storageBinding.set(this._getPersistenceKey(b.TAG),this._tagRegex,{defaultValue:""})},_fireChange:function(){var a=this,b=new Map(this._runs.map(function(b){return[a._getSyntheticRunId(b),b]}));this.fire("selection-changed",{runs:this._selectedRuns.map(function(a){return b.get(a.id)}).filter(Boolean).map(function(a){return{id:a.id,name:a.name,startTime:a.startTime,tags:a.tags}}),tagRegex:this._tagRegex})},_removeRow:function(){this._storageBinding.set(this._getPersistenceKey(b.RUN),"",{defaultValue:""});
this._storageBinding.set(this._getPersistenceKey(b.TAG),"",{defaultValue:""});this.fire("remove")},_serializeValue:function(b,d){return d.length==b.length?"$all":0==d.length?"$none":this.noExperiment?JSON.stringify(d):a.encodeIdArray(d)},_deserializeValue:function(b,d){if("$all"==d)return b;if("$none"==d)return[];if(!this.noExperiment)return a.decodeIdArray(d);b=[];try{b=JSON.parse(d)}catch(e){}return Array.isArray(b)?b:[]},_getColoring:function(){return{getColor:this.shouldColorRuns?function(a){return Ta.runsColorScale(a.title)}:
function(){return""}}},_getSyntheticRunId:function(a){return this.noExperiment?a.name:a.id},_fireCheckboxToggled:function(){this.fire("checkbox-toggle")}})})(Wa||(Wa={}));
</script>

</dom-module>



<dom-module id="experiment-selector">
  <template>
    <template is="dom-if" class="style-scope experiment-selector"></template>
    <div class="buttons style-scope experiment-selector">
      <template is="dom-if" class="style-scope experiment-selector"></template>
      <template is="dom-if" class="style-scope experiment-selector"></template>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-data-selector/experiment-selector.js
Wa||(Wa={});
Polymer({is:"experiment-selector",properties:{excludeExperiments:{type:Array,value:function(){return[]}},alwaysExpanded:{type:Boolean,value:!1},_expanded:{type:Boolean,value:!1},_allExperiments:{type:Array,value:function(){return[]}},_experimentColoring:{type:Object,value:{getColor:function(a){return Ta.experimentsColorScale(a.title)}}},_selectedExpOptions:{type:Array,value:function(){return[]}}},observers:["_changeExpanded(alwaysExpanded)"],attached:function(){var a=this;this._updateExpKey=u.experimentsStore.addListener(function(){return a._updateExps()});
this._updateExps()},detached:function(){u.experimentsStore.removeListenerByKey(this._updateExpKey)},_updateExps:function(){this.set("_allExperiments",u.experimentsStore.getExperiments())},_getExperimentOptions:function(){var a=new Set(this.excludeExperiments.map(function(a){return a.id}));return this._allExperiments.filter(function(b){return!a.has(b.id)}).map(function(a){return{id:a.id,title:a.name,subtitle:a.startedTime}})},_changeExpanded:function(){this.alwaysExpanded&&!this._expanded&&(this._expanded=
!0)},_toggle:function(){this._expanded=!this._expanded},_addExperiments:function(){var a=new Map(this._allExperiments.map(function(a){return[a.id,a]})),b=this._selectedExpOptions.map(function(b){return a.get(b.id)});this._expanded=!1;this.fire("experiment-added",b)},_getAddLabel:function(){switch(this._selectedExpOptions.length){case 0:case 1:return"Add";default:return"Add All"}}});
</script>
</dom-module>





<dom-module id="tf-data-selector">
  <template>
    <template is="dom-if" restamp="" class="style-scope tf-data-selector"></template>
    <template is="dom-repeat" as="exp" class="style-scope tf-data-selector"></template>

    <template is="dom-if" class="style-scope tf-data-selector"></template>

    
  </template>
  <script>//~~WEBPATH~~/tf-data-selector/type.js
var Xa=Wa||(Wa={}),Ya=Xa.Type||(Xa.Type={});Ya[Ya.WITHOUT_EXPERIMENT=0]="WITHOUT_EXPERIMENT";Ya[Ya.SINGLE=1]="SINGLE";Ya[Ya.COMPARISON=2]="COMPARISON";
</script>
  <script>//~~WEBPATH~~/tf-data-selector/tf-data-selector.js
(function(a){function b(a,b){var c=new Set(a);b.forEach(function(a){return c.add(a)});return Array.from(c)}var c=G.makeBindings(function(b){return a.decodeIdArray(b)},function(b){return a.encodeIdArray(b)});a.getIdInitializer=c.getInitializer;a.getIdObserver=c.getObserver;Polymer({is:"tf-data-selector",properties:{_allExperimentsFetched:{type:Boolean,value:!1},_allExperiments:{type:Array,value:function(){return[]}},_experimentIds:{type:Array,value:a.getIdInitializer("e",{defaultValue:[],polymerProperty:"_experimentIds"})},
_experiments:{type:Array,value:function(){return[]}},_enabledExperimentIds:{type:Array,value:a.getIdInitializer("ee",{defaultValue:[],polymerProperty:"_enabledExperimentIds"})},_selections:{type:Object,value:function(){return new Map}},activePlugins:{type:Array,value:function(){return[]}},selection:{type:Object,notify:!0,computed:"_computeSelection(_enabledExperimentIds.*, _selections.*, activePlugins.*)"},_canCompareExperiments:{type:Boolean,value:!1},_shouldColorRuns:{type:Boolean,computed:"_computeShouldColorRuns(_experiments.*)"}},
behaviors:[Sa.ArrayUpdateHelper],observers:"_updateExperiments(_allExperiments, _experimentIds);_pruneSelections(_experimentIds.*);_pruneExperimentIds(_allExperiments.*);_pruneEnabledExperiments(_experimentIds.*);_persistExperimentIds(_experimentIds.*);_persistEnabledExperiments(_enabledExperimentIds.*)".split(";"),_persistExperimentIds:a.getIdObserver("e",{defaultValue:[],polymerProperty:"_experimentIds"}),_persistEnabledExperiments:a.getIdObserver("ee",{defaultValue:[],polymerProperty:"_enabledExperimentIds"}),
attached:function(){var a=this;this._updateExpKey=u.experimentsStore.addListener(function(){a._allExperiments=u.experimentsStore.getExperiments();a._allExperimentsFetched=!0});this._allExperiments=u.experimentsStore.getExperiments();this._allExperimentsFetched=u.experimentsStore.initialized;this._updateEnvKey=u.environmentStore.addListener(function(){a._canCompareExperiments=u.Mode.DB==u.environmentStore.getMode()});this._canCompareExperiments=u.Mode.DB==u.environmentStore.getMode()},detached:function(){u.experimentsStore.removeListenerByKey(this._updateExpKey);
u.environmentStore.removeListenerByKey(this._updateEnvKey)},_getPersistenceId:function(b){return a.encodeId(b.id)},_isExperimentEnabled:function(a){return(new Set(this._enabledExperimentIds)).has(a.id)},_getExperimentColor:function(a){return Ta.experimentsColorScale(a.name)},_computeShouldColorRuns:function(){return 1>=this._experiments.length},_pruneSelections:function(){if(this._selections){var a=new Set(this._experimentIds),b=new Map(this._selections);b.forEach(function(c,d){null!=d&&(a.has(d)||
b.delete(d))});this._selections=b}},_pruneExperimentIds:function(){if(this._allExperimentsFetched){var a=new Set(this._allExperiments.map(function(a){return a.id}));this._experimentIds=this._experimentIds.filter(function(b){return a.has(b)})}},_pruneEnabledExperiments:function(){if(this._allExperimentsFetched){var a=new Set(this._experimentIds);this._enabledExperimentIds=this._enabledExperimentIds.filter(function(b){return a.has(b)})}},_computeSelection:function(){var b=this;if(this._canCompareExperiments){var c=
new Set(this.activePlugins),f=this._enabledExperimentIds.filter(function(a){return b._selections.has(a)}).map(function(a){return b._selections.get(a)}).map(function(a){var b=Object.assign({},a);b.runs=a.runs.map(function(a){return Object.assign({},a,{tags:a.tags.filter(function(a){return c.has(a.pluginName)})})}).filter(function(a){return a.tags.length});return b});return{type:this._selections.size==1+Number(this._selections.has(null))?a.Type.SINGLE:a.Type.COMPARISON,selections:f}}return{type:a.Type.WITHOUT_EXPERIMENT,
selections:[this._selections.get(null)]}},_selectionChanged:function(a){a.stopPropagation();if(this.isAttached&&a.target.isAttached){var b=a.detail,c=b.runs;b=b.tagRegex;a=a.target.experiment;var d=null!=a.id?a.id:null;if(null==d||this._experimentIds.includes(d)){var h=new Map(this._selections);h.set(d,{experiment:a,runs:c,tagRegex:b});_.isEqual(h,this._selections)||(this._selections=h)}}},_updateExperiments:function(){var a=new Map(this._allExperiments.map(function(a){return[a.id,a]})),b=this._experimentIds.filter(function(b){return a.has(b)}).map(function(b){return a.get(b)});
this.updateArrayProp("_experiments",b,function(a){return a.id})},_addExperiments:function(a){a=a.detail.map(function(a){return a.id});this._experimentIds=b(this._experimentIds,a);this._enabledExperimentIds=b(this._enabledExperimentIds,a)},_removeExperiment:function(a){var b=a.target.experiment.id;this._experimentIds=this._experimentIds.filter(function(a){return a!=b})},_experimentCheckboxToggled:function(a){var c=a.target.experiment.id;this._enabledExperimentIds=a.target.enabled?b(this._enabledExperimentIds,
[c]):this._enabledExperimentIds.filter(function(a){return a!=c})},_getAddComparisonVisible:function(){return this._canCompareExperiments&&this._allExperiments.length>this._experiments.length},_getAddComparisonAlwaysExpanded:function(){return this._canCompareExperiments&&!this._experiments.length}})})(Wa||(Wa={}));
</script>
</dom-module>









<script>//~~WEBPATH~~/tf-paginated-view/paginatedViewStore.js
var Za;
(function(a){var b=null,c=new Set;a.addLimitListener=function(a){c.add(a)};a.removeLimitListener=function(a){c.delete(a)};a.getLimit=function(){null==b&&(b=G.getNumber("TF.TensorBoard.PaginatedView.limit",{useLocalStorage:!0}),null==b||!isFinite(b)||0>=b)&&(b=12);return b};a.setLimit=function(a){if(a!==Math.floor(a))throw Error("limit must be an integer, but got: "+a);if(0>=a)throw Error("limit must be positive, but got: "+a);a!==b&&(b=a,G.setNumber("TF.TensorBoard.PaginatedView.limit",b,{useLocalStorage:!0}),c.forEach(function(a){a()}))}})(Za||
(Za={}));
</script>



<dom-module id="tf-paginated-view">
  <template>
    <span id="top-of-container" class="style-scope tf-paginated-view"></span>
    <template is="dom-if" class="style-scope tf-paginated-view"></template>
    <div class="style-scope tf-paginated-view"><content class="style-scope tf-paginated-view"></content></div>
    <template is="dom-if" class="style-scope tf-paginated-view"></template>
    
  </template>
  <script>//~~WEBPATH~~/tf-paginated-view/tf-paginated-view.html.js
Polymer({is:"tf-paginated-view",properties:{items:{type:Array,value:function(){return[]}},pages:{type:Array,notify:!0,computed:"_computePages(items, _limit, _activeIndex, _pageCount)"},_limit:{type:Number,value:12},_activeIndex:{type:Number,value:0},_currentPage:{type:Number,computed:"_computeCurrentPage(_limit, _activeIndex)"},_pageCount:{type:Number,computed:"_computePageCount(items, _limit)"},_multiplePagesExist:{type:Boolean,computed:"_computeMultiplePagesExist(_pageCount)"},_hasPreviousPage:{type:Boolean,
computed:"_computeHasPreviousPage(_currentPage)"},_hasNextPage:{type:Boolean,computed:"_computeHasNextPage(_currentPage, _pageCount)"},_inputWidth:{type:String,computed:"_computeInputWidth(_pageCount)"},_pageInputValue:{type:String,computed:"_computePageInputValue(_pageInputFocused, _pageInputRawValue, _currentPage)",observer:"_updatePageInputValue"},_pageInputRawValue:{type:String,value:""},_pageInputFocused:{type:Boolean,value:!1}},observers:["_clampActiveIndex(items)"],attached:function(){var a=
this;this._limitListener=function(){a.set("_limit",Za.getLimit())};Za.addLimitListener(this._limitListener);this._limitListener()},detached:function(){Za.removeLimitListener(this._limitListener)},_computePages:function(a,b,c,d){var e=Math.floor(c/b);return _.range(d).map(function(c){return{active:c===e,items:(a||[]).slice(c*b,(c+1)*b)}})},_computeCurrentPage:function(a,b){return Math.floor(b/a)+1},_computePageCount:function(a,b){return Math.ceil((a||[]).length/b)},_computeMultiplePagesExist:function(a){return 1<
a},_computeHasPreviousPage:function(a){return 1<a},_computeHasNextPage:function(a,b){return a<b},_computeInputWidth:function(a){return"calc("+a.toString().length+"em + 20px)"},_setActiveIndex:function(a){var b=(this.items||[]).length-1;a>b&&(a=b);0>a&&(a=0);this.set("_activeIndex",a)},_clampActiveIndex:function(){this._setActiveIndex(this._activeIndex)},_performPreviousPage:function(){this._setActiveIndex(this._activeIndex-this._limit)},_performNextPage:function(){this._setActiveIndex(this._activeIndex+
this._limit)},_performNextPageAndJumpToTop:function(){var a=this.$$("#top-of-container");0>a.getBoundingClientRect().top&&a.scrollIntoView();this._performNextPage()},_computePageInputValue:function(a,b,c){return a?b:c.toString()},_handlePageInputEvent:function(a){this.set("_pageInputRawValue",a.target.value);a=a.target.valueAsNumber;isNaN(a)||this._setActiveIndex(this._limit*(Math.max(1,Math.min(a,this._pageCount))-1))},_handlePageChangeEvent:function(){this.set("_pageInputRawValue",this._currentPage.toString())},
_handlePageFocusEvent:function(){this.set("_pageInputRawValue",this._pageInputValue);this.set("_pageInputFocused",!0)},_handlePageBlurEvent:function(){this.set("_pageInputFocused",!1)},_updatePageInputValue:function(a){var b=this.$$("#page-input input");b&&(b.value=a)}});
</script>
</dom-module>







<script>//~~WEBPATH~~/paper-dialog-behavior/paper-dialog-behavior.html.js
Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1}},observers:["_modalChanged(modal, _readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick;this.__prevNoCancelOnEscKey=this.noCancelOnEscKey;this.__prevWithBackdrop=this.withBackdrop},_modalChanged:function(a,b){b&&(a?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,
this.__prevWithBackdrop=this.withBackdrop,this.withBackdrop=this.noCancelOnEscKey=this.noCancelOnOutsideClick=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(a){this.closingReason=this.closingReason||{};this.closingReason.confirmed=a},_onDialogClick:function(a){for(var b=Polymer.dom(a).path,
c=0;c<b.indexOf(this);c++){var d=b[c];if(d.hasAttribute&&(d.hasAttribute("dialog-dismiss")||d.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(d.hasAttribute("dialog-confirm"));this.close();a.stopPropagation();break}}}};Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl];
</script>









<dom-module id="paper-dialog-shared-styles">
  <template>
    
  </template>
</dom-module>



<dom-module id="paper-dialog">
  <template>
    
    <content class="style-scope paper-dialog"></content>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-dialog/paper-dialog.html.js
Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation();this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation();this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});
</script>







<iron-iconset-svg name="icons" size="24" style="display: none;">
<svg><defs>
<g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z"></path></g>
<g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z"></path></g>
<g id="accessible"><circle cx="12" cy="4" r="2"></circle><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z"></path></g>
<g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z"></path></g>
<g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>
<g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"></path></g>
<g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path></g>
<g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></g>
<g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z"></path></g>
<g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g>
<g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"></path></g>
<g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"></path></g>
<g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g>
<g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z"></path></g>
<g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z"></path></g>
<g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z"></path></g>
<g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z"></path></g>
<g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z"></path></g>
<g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"></path></g>
<g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path></g>
<g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"></path></g>
<g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g>
<g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path></g>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g>
<g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z"></path></g>
<g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"></path></g>
<g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path></g>
<g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"></path></g>
<g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g>
<g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"></path></g>
<g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"></path></g>
<g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"></path></g>
<g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"></path></g>
<g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z"></path></g>
<g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z"></path></g>
<g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g>
<g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"></path></g>
<g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></path></g>
<g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"></path></g>
<g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g>
<g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"></path></g>
<g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g>
<g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g>
<g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g>
<g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"></path></g>
<g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"></path></g>
<g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"></path></g>
<g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z"></path></g>
<g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></g>
<g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g>
<g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z"></path></g>
<g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z"></path></g>
<g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z"></path></g>
<g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></g>
<g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g>
<g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g>
<g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path></g>
<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>
<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>
<g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z"></path></g>
<g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></g>
<g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g>
<g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g>
<g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"></path></g>
<g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z"></path></g>
<g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z"></path></g>
<g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></g>
<g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z"></path></g>
<g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"></path></g>
<g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></g>
<g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></g>
<g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"></path></g>
<g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></g>
<g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"></path></g>
<g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"></path></g>
<g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g>
<g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"></path></g>
<g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g>
<g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"></path></g>
<g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"></path></g>
<g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g>
<g id="delete-forever"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path></g>
<g id="delete-sweep"><path d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3v10zM14 5h-3l-1-1H6L5 5H2v2h12z"></path></g>
<g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></g>
<g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>
<g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"></path></g>
<g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"></path></g>
<g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z"></path></g>
<g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z"></path></g>
<g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"></path></g>
<g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z"></path></g>
<g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g>
<g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>
<g id="euro-symbol"><path d="M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1 0 .34.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z"></path></g>
<g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"></path></g>
<g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z"></path></g>
<g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g>
<g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g>
<g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g>
<g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z"></path></g>
<g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"></path></g>
<g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"></path></g>
<g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></g>
<g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"></path></g>
<g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"></path></g>
<g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g>
<g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path></g>
<g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></g>
<g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"></path></g>
<g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z"></path></g>
<g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"></path></g>
<g id="first-page"><path d="M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"></path></g>
<g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g>
<g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z"></path></g>
<g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z"></path></g>
<g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z"></path></g>
<g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z"></path></g>
<g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"></path></g>
<g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"></path></g>
<g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"></path></g>
<g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z"></path></g>
<g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z"></path></g>
<g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></g>
<g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></g>
<g id="g-translate"><path d="M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06-1.23 1.18-.06-.05c-.29-.27-.78-.59-1.52-.59-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61 0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2-.81-2.77.92-.92L17.79 18l.73-.73-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z"></path></g>
<g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z"></path></g>
<g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"></path></g>
<g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path></g>
<g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"></path></g>
<g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g>
<g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g>
<g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g>
<g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></g>
<g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g>
<g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g>
<g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"></path></g>
<g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z"></path></g>
<g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z"></path></g>
<g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g>
<g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z"></path></g>
<g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"></path></g>
<g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"></path></g>
<g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"></path></g>
<g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"></path></g>
<g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"></path></g>
<g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"></path></g>
<g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"></path></g>
<g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z"></path></g>
<g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"></path></g>
<g id="last-page"><path d="M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"></path></g>
<g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g>
<g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"></path></g>
<g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z"></path></g>
<g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z"></path></g>
<g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g>
<g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"></path></g>
<g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"></path></g>
<g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"></path></g>
<g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"></path></g>
<g id="low-priority"><path d="M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z"></path></g>
<g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z"></path></g>
<g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g>
<g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g>
<g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z"></path></g>
<g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g>
<g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path></g>
<g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"></path></g>
<g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z"></path></g>
<g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"></path></g>
<g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z"></path></g>
<g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"></path></g>
<g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"></path></g>
<g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"></path></g>
<g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"></path></g>
<g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z"></path></g>
<g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"></path></g>
<g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"></path></g>
<g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z"></path></g>
<g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"></path></g>
<g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>
<g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g>
<g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"></path></g>
<g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"></path></g>
<g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z"></path></g>
<g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z"></path></g>
<g id="pets"><circle cx="4.5" cy="9.5" r="2.5"></circle><circle cx="9" cy="5.5" r="2.5"></circle><circle cx="15" cy="5.5" r="2.5"></circle><circle cx="19.5" cy="9.5" r="2.5"></circle><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"></path></g>
<g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"></path></g>
<g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"></path></g>
<g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z"></path></g>
<g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z"></path></g>
<g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"></path></g>
<g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z"></path></g>
<g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"></path></g>
<g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g>
<g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></g>
<g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>
<g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>
<g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"></path></g>
<g id="record-voice-over"><circle cx="9" cy="9" r="4"></circle><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z"></path></g>
<g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"></path></g>
<g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"></path></g>
<g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></g>
<g id="remove"><path d="M19 13H5v-2h14v2z"></path></g>
<g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"></path></g>
<g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="remove-shopping-cart"><path d="M22.73 22.73L2.77 2.77 2 2l-.73-.73L0 2.54l4.39 4.39 2.21 4.66-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h7.46l1.38 1.38c-.5.36-.83.95-.83 1.62 0 1.1.89 2 1.99 2 .67 0 1.26-.33 1.62-.84L21.46 24l1.27-1.27zM7.42 15c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h2.36l2 2H7.42zm8.13-2c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H6.54l9.01 9zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2z"></path></g>
<g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"></path></g>
<g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g>
<g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path></g>
<g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"></path></g>
<g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g>
<g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g>
<g id="restore-page"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm-2 16c-2.05 0-3.81-1.24-4.58-3h1.71c.63.9 1.68 1.5 2.87 1.5 1.93 0 3.5-1.57 3.5-3.5S13.93 9.5 12 9.5c-1.35 0-2.52.78-3.1 1.9l1.6 1.6h-4V9l1.3 1.3C8.69 8.92 10.23 8 12 8c2.76 0 5 2.24 5 5s-2.24 5-5 5z"></path></g>
<g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g>
<g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z"></path></g>
<g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z"></path></g>
<g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path></g>
<g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"></path></g>
<g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></g>
<g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"></path></g>
<g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g>
<g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></g>
<g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z"></path></g>
<g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z"></path></g>
<g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z"></path></g>
<g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z"></path></g>
<g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z"></path></g>
<g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z"></path></g>
<g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z"></path></g>
<g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g>
<g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z"></path></g>
<g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z"></path></g>
<g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g>
<g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z"></path></g>
<g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z"></path></g>
<g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z"></path></g>
<g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z"></path></g>
<g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z"></path></g>
<g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z"></path></g>
<g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z"></path></g>
<g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>
<g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"></path></g>
<g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z"></path></g>
<g id="speaker-notes-off"><path d="M10.54 11l-.54-.54L7.54 8 6 6.46 2.38 2.84 1.27 1.73 0 3l2.01 2.01L2 22l4-4h9l5.73 5.73L22 22.46 17.54 18l-7-7zM8 14H6v-2h2v2zm-2-3V9l2 2H6zm14-9H4.08L10 7.92V6h8v2h-7.92l1 1H18v2h-4.92l6.99 6.99C21.14 17.95 22 17.08 22 16V4c0-1.1-.9-2-2-2z"></path></g>
<g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z"></path></g>
<g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></g>
<g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g>
<g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"></path></g>
<g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"></path></g>
<g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"></path></g>
<g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z"></path></g>
<g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z"></path></g>
<g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z"></path></g>
<g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"></path></g>
<g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"></path></g>
<g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"></path></g>
<g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z"></path></g>
<g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z"></path></g>
<g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z"></path></g>
<g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z"></path></g>
<g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z"></path></g>
<g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"></path></g>
<g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"></path></g>
<g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"></path></g>
<g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z"></path></g>
<g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"></path></g>
<g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path></g>
<g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"></path></g>
<g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z"></path></g>
<g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z"></path></g>
<g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z"></path></g>
<g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></g>
<g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"></path></g>
<g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z"></path></g>
<g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"></path></g>
<g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"></path></g>
<g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"></path></g>
<g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z"></path></g>
<g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"></path></g>
<g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z"></path></g>
<g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"></path></g>
<g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"></path></g>
<g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path></g>
<g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z"></path></g>
<g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z"></path></g>
<g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z"></path></g>
<g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z"></path></g>
<g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z"></path></g>
<g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"></path></g>
<g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"></path></g>
<g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"></path></g>
<g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z"></path></g>
<g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z"></path></g>
<g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"></path></g>
<g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g>
<g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"></path></g>
<g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g>
<g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"></path></g>
<g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z"></path></g>
<g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"></path></g>
<g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z"></path></g>
<g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"></path></g>
<g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"></path></g>
</defs></svg>
</iron-iconset-svg>












<dom-module id="tf-multi-checkbox">
  
  

  <template>
      <paper-input id="names-regex" no-label-float="" label="Write a regex to filter runs" class="style-scope tf-multi-checkbox"></paper-input>
    <div id="outer-container" class="scrollbar style-scope tf-multi-checkbox">
      <template is="dom-repeat" class="style-scope tf-multi-checkbox"></template>
    </div>
  
  </template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-multi-checkbox.js
Sa||(Sa={});
Polymer({is:"tf-multi-checkbox",properties:{names:{type:Array,value:function(){return[]}},coloring:{type:Object,value:{getColor:function(){return""}}},regex:{type:String,notify:!0,value:""},_regex:{type:Object,computed:"_makeRegex(regex)"},namesMatchingRegex:{type:Array,computed:"computeNamesMatchingRegex(names.*, _regex)"},selectionState:{type:Object,notify:!0,value:function(){return{}}},outSelected:{type:Array,notify:!0,computed:"computeOutSelected(namesMatchingRegex.*, selectionState.*)"},maxNamesToEnableByDefault:{type:Number,
value:40},_debouncedRegexChange:{type:Object,value:function(){var a=this,b=_.debounce(function(b){a.regex=b},150,{leading:!1});return function(){var a=this,d=this.$$("#names-regex").value;""==d?this.async(function(){a.regex=d},30):b(d)}}}},listeners:{"dom-change":"synchronizeColors"},observers:["_setIsolatorIcon(selectionState, names)"],_makeRegex:function(a){try{return new RegExp(a)}catch(b){return null}},_setIsolatorIcon:function(){var a=this.selectionState,b=_.filter(_.values(a)).length;Array.prototype.slice.call(this.querySelectorAll(".isolator")).forEach(function(c){c.icon=
1===b&&a[c.name]?"radio-button-checked":"radio-button-unchecked"})},computeNamesMatchingRegex:function(){var a=this._regex;return a?this.names.filter(function(b){return a.test(b)}):this.names},computeOutSelected:function(){var a=this.selectionState,b=this.namesMatchingRegex.length<=this.maxNamesToEnableByDefault;return this.namesMatchingRegex.filter(function(c){return null==a[c]?b:a[c]})},synchronizeColors:function(){var a=this;this._setIsolatorIcon();this.querySelectorAll("paper-checkbox").forEach(function(b){var c=
a.coloring.getColor(b.name);b.customStyle["--paper-checkbox-checked-color"]=c;b.customStyle["--paper-checkbox-checked-ink-color"]=c;b.customStyle["--paper-checkbox-unchecked-color"]=c;b.customStyle["--paper-checkbox-unchecked-ink-color"]=c});this.querySelectorAll(".isolator").forEach(function(b){var c=a.coloring.getColor(b.name);b.style.color=c});window.requestAnimationFrame(function(){a.updateStyles()})},_isolateName:function(a){var b=Polymer.dom(a).localTarget.name,c={};this.names.forEach(function(a){c[a]=
a==b});this.selectionState=c},_checkboxChange:function(a){a=Polymer.dom(a).localTarget;var b=_.clone(this.selectionState);b[a.name]=a.checked;this.selectionState=b},_isChecked:function(a){return-1!=this.outSelected.indexOf(a)},toggleAll:function(){var a=this,b=this.namesMatchingRegex.some(function(b){return a.selectionState[b]}),c=0==Object.keys(this.selectionState).length,d=this.namesMatchingRegex.length>this.maxRunsToEnableByDefault;b=b||c&&!d;var e={};this.names.forEach(function(a){e[a]=!b});this.selectionState=
e}});
</script>
</dom-module>



<dom-module id="tf-runs-selector">
  <template>
    <paper-dialog with-backdrop="" id="data-location-dialog" class="style-scope tf-runs-selector">
      <h2 class="style-scope tf-runs-selector">Data Location</h2>
      <div class="style-scope tf-runs-selector"></div>
    </paper-dialog>
    <div id="top-text" class="style-scope tf-runs-selector">
      <h3 id="tooltip-help" class="tooltip-container style-scope tf-runs-selector">Runs</h3>
    </div>
    <tf-multi-checkbox id="multiCheckbox" class="style-scope tf-runs-selector"></tf-multi-checkbox>
    <paper-button class="x-button style-scope tf-runs-selector" id="toggle-all">
    Toggle All Runs
    </paper-button>
    <template is="dom-if" class="style-scope tf-runs-selector"></template>
    
  </template>
  <script>//~~WEBPATH~~/tf-runs-selector/tf-runs-selector.html.js
Polymer({is:"tf-runs-selector",properties:{runSelectionState:{type:Object,observer:"_storeRunSelectionState",value:function(){return G.getObject("runSelectionState")||{}}},regexInput:{type:String,value:G.getStringInitializer("regexInput",{defaultValue:""}),observer:"_regexObserver"},selectedRuns:{type:Array,notify:!0},runs:Array,dataLocation:{type:String,notify:!0},_clippedDataLocation:{type:String,computed:"_getClippedDataLocation(dataLocation, _dataLocationClipLength)"},_dataLocationClipLength:{type:Number,
value:250,readOnly:!0},coloring:{type:Object,value:{getColor:Ta.runsColorScale}}},attached:function(){var a=this;this._runStoreListener=u.runsStore.addListener(function(){a.set("runs",u.runsStore.getRuns())});this.set("runs",u.runsStore.getRuns());this._envStoreListener=u.runsStore.addListener(function(){a.set("dataLocation",u.environmentStore.getDataLocation())});this.set("dataLocation",u.environmentStore.getDataLocation())},detached:function(){u.runsStore.removeListenerByKey(this._runStoreListener);
u.runsStore.removeListenerByKey(this._envStoreListener)},_toggleAll:function(){this.$.multiCheckbox.toggleAll()},_breakString:function(a){return a.replace(/([\/=\-_,])/g,"$1\x3cwbr\x3e")},_getClippedDataLocation:function(a,b){if(void 0!==a)return a.length>b?this._breakString(a.substring(0,b)):this._breakString(a)},_openDataLocationDialog:function(a){a.preventDefault();this.$$("#data-location-dialog").open()},_shouldShowExpandDataLocationButton:function(a,b){return a&&a.length>b},_storeRunSelectionState:G.getObjectObserver("runSelectionState",
{defaultValue:{}}),_regexObserver:G.getStringObserver("regexInput",{defaultValue:""})});
</script>
</dom-module>


<script>//~~WEBPATH~~/tf-tensorboard/registry.js
var $a;
(function(a){(function(a){a.NOT_LOADED="NOT_LOADED";a.LOADED="LOADED";a.FAILED="FAILED"})(a.ActiveDashboardsLoadState||(a.ActiveDashboardsLoadState={}));a.dashboardRegistry={};a.registerDashboard=function(b){if(!b.plugin)throw Error("Dashboard.plugin must be present");if(!b.elementName)throw Error("Dashboard.elementName must be present");if(b.plugin in a.dashboardRegistry)throw Error("Plugin already registered: "+b.plugin);b.tabName||(b.tabName=b.plugin);a.dashboardRegistry[b.plugin]=b}})($a||($a=
{}));
</script>

<script>//~~WEBPATH~~/tf-utils/utils.js
var ab;
(function(a){a.aggregateTagInfo=function(a,c){var b=void 0,e={};Object.keys(a).forEach(function(c){var d=a[c];void 0===b&&(b=d.displayName);b!==d.displayName&&(b=null);void 0===e[d.description]&&(e[d.description]=[]);e[d.description].push(c)});c=null!=b?b:c;var f=function(){var a=Object.keys(e);return 0===a.length?"":1===a.length?a[0]:"\x3cp\x3e\x3cstrong\x3eMultiple descriptions:\x3c/strong\x3e\x3c/p\x3e\x3cul\x3e"+a.map(function(a){var b=e[a].map(function(a){return"\x3ccode\x3e"+a.replace(/</g,"\x26lt;").replace(/>/g,
"\x26gt;").replace(/&/g,"\x26amp;")+"\x3c/code\x3e"});return"\x3cli\x3e\x3cp\x3eFor "+(1===b.length?"run":"runs")+" "+(2<b.length?b.slice(0,b.length-1).join(", ")+", and "+b[b.length-1]:b.join(" and "))+":\x3c/p\x3e"+a+"\x3c/li\x3e"}).join("")+"\x3c/ul\x3e"}();return{displayName:c,description:f}}})(ab||(ab={}));
</script>











<script>//~~WEBPATH~~/paper-spinner/paper-spinner-behavior.html.js
Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(a,b){return[a||b?"active":"",b?"cooldown":""].join(" ")},__activeChanged:function(a,b){this.__setAriaHidden(!a);this.__coolingDown=!a&&b},__altChanged:function(a){"loading"===a?this.alt=this.getAttribute("aria-label")||a:(this.__setAriaHidden(""===
a),this.setAttribute("aria-label",a))},__setAriaHidden:function(a){a?this.setAttribute("aria-hidden","true"):this.removeAttribute("aria-hidden")},__reset:function(){this.__coolingDown=this.active=!1}};
</script>

<dom-module id="paper-spinner-styles">
  <template>
    
  </template>
</dom-module>




<dom-module id="paper-spinner-lite">
  <template strip-whitespace=""><div id="spinnerContainer" class="style-scope paper-spinner-lite"><div class="spinner-layer style-scope paper-spinner-lite"><div class="circle-clipper left style-scope paper-spinner-lite"></div><div class="circle-clipper right style-scope paper-spinner-lite"></div></div></div></template>

  <script>//~~WEBPATH~~/paper-spinner/paper-spinner-lite.html.js
Polymer({is:"paper-spinner-lite",behaviors:[Polymer.PaperSpinnerBehavior]});
</script>
</dom-module>








<script>//~~WEBPATH~~/tf-imports/plottable.js
/*
 MIT
 MIT
 @fileoverview Implements the Signature API to help in comparing when two
 Plottable objects have "changed".

 Memoization in Plottable is complicated by mutable scales and datasets. We cannot simply
 reference compare two e.g. scales since it may have internally mutated. To resolve this,
 we write a recursive Signature interface that holds an immutable snapshot of whatever
 state the scale/data was in at the time. Then on memoized function invocation we sign the
 new inputs and compare the signatures to decide if we should recompute.

 We must hand-write a signature for each custom class we wish to support.
 MIT

 @fileoverview manually add d3-selection-multi to d3 default bundle. Most of this code is
 copied from d3-selection-multi@1.0.0.
 See https://github.com/d3/d3-selection-multi/issues/11 for why we have to do this
 MIT
 @fileoverview Implements a convenient thunk function to handle the common case
 of creating a memoized function that takes its inputs from mutable class properties.
 MIT
 @fileoverview Implements a function memoizer using the Signature API.
 Plottable 3.7.0 (https://github.com/palantir/plottable)
 Copyright 2014-2017 Palantir Technologies
 Licensed under MIT (https://github.com/palantir/plottable/blob/master/LICENSE)
 is-plain-object <https://github.com/jonschlinkert/is-plain-object>

 Copyright (c) 2014-2017, Jon Schlinkert.
 Released under the MIT License.
 isobject <https://github.com/jonschlinkert/isobject>

 Copyright (c) 2014-2017, Jon Schlinkert.
 Released under the MIT License.
*/
function cb(a){return function(a){function b(c){if(d[c])return d[c].exports;var e=d[c]={i:c,l:!1,exports:{}};a[c].call(e.exports,e,e.exports,b);e.l=!0;return e.exports}var d={};b.m=a;b.c=d;b.i=function(a){return a};b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})};b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(c,"a",c);return c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=
140)}([function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}a=d(107);c.Array=a;a=d(110);c.Color=a;a=d(55);c.DOM=a;a=d(56);c.Math=a;a=d(113);c.Object=a;a=d(57);c.RTree=a;a=d(115);c.Stacking=a;a=d(35);c.Window=a;b(d(108));b(d(109));b(d(12));b(d(111));b(d(112));b(d(58));b(d(116))},function(b){b.exports=a},function(a,c,d){function b(a,b,c){var d=b.accessor;b=b.scale;if(null==b)return[];var e=a.data();null!=c&&(e=e.filter(function(b,d){return c(b,d,a)}));e=e.map(function(b,c){return d(b,
c,a)});return b.extentOfValues(e)}var f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},g=d(1),h=d(7);a=d(4);var l=d(18),m=d(6),n=d(9),q=d(20),p=d(0),t=d(12),r=d(10),w=d(51),v=d(52);c.Renderer=r.makeEnum(["svg","canvas"]);d=function(a){function c(){var b=a.call(this)||this;b._dataChanged=!1;b._attrExtents={};b._animate=!1;b._animators={};b._propertyExtents={};
b._resetEntityStore=function(){b._cachedEntityStore=void 0};b._overflowHidden=!0;b.addClass("plot");b._datasetToDrawer=new p.Map;b._attrBindings=g.map();b._includedValuesProvider=function(a,c){return b._includedValuesForScale(a,c)};b._renderCallback=function(){return b.render()};b._onDatasetUpdateCallback=function(){return b._onDatasetUpdate()};b._propertyBindings=g.map();var d=(new h.Easing).maxTotalDuration(c._ANIMATION_MAX_DURATION);b.animator(w.Animator.MAIN,d);b.animator(w.Animator.RESET,new h.Null);
b._deferredResetEntityStore=p.Window.debounce(v.DeferredRenderer.DEFERRED_RENDERING_DELAY,b._resetEntityStore);return b}f(c,a);c.getTotalDrawTime=function(a,b){return b.reduce(function(b,c){return b+c.animator.totalTime(a.length)},0)};c.applyDrawSteps=function(a,b){return a.map(function(a){var c=a.attrToProjector,d={};Object.keys(c).forEach(function(a){d[a]=function(d,e){return c[a](d,e,b)}});return{attrToAppliedProjector:d,animator:a.animator}})};c.prototype.anchor=function(b){b=t.coerceExternalD3(b);
a.prototype.anchor.call(this,b);this._dataChanged=!0;this._resetEntityStore();this._updateExtents();return this};c.prototype._setup=function(){var b=this;this._isSetup||(a.prototype._setup.call(this),null!=this._canvas&&this._appendCanvasNode(),this._renderArea=this.content().append("g").classed("render-area",!0),this.datasets().forEach(function(a){return b._createNodesForDataset(a)}))};c.prototype._appendCanvasNode=function(){var a=this.element().select(".plot-canvas-container");a.empty()&&(a=this.element().append("div").classed("plot-canvas-container",
!0),a.node().appendChild(this._canvas.node()))};c.prototype.setBounds=function(b,c,d,e){a.prototype.setBounds.call(this,b,c,d,e);this._resetEntityStore();null!=this._canvas&&(this._bufferCanvas&&!this._bufferCanvasValid&&(this._bufferCanvas.attr("width",this._canvas.attr("width")),this._bufferCanvas.attr("height",this._canvas.attr("height")),(d=this._bufferCanvas.node().getContext("2d"))&&d.drawImage(this._canvas.node(),0,0),this._bufferCanvasValid=!0),d=null!=window.devicePixelRatio?window.devicePixelRatio:
1,this._canvas.attr("width",b*d),this._canvas.attr("height",c*d),e=this._canvas.node().getContext("2d"))&&(e.setTransform(d,0,0,d,0,0),this._bufferCanvas&&e.drawImage(this._bufferCanvas.node(),0,0,b,c))};c.prototype.destroy=function(){var b=this;a.prototype.destroy.call(this);this._scales().forEach(function(a){return a.offUpdate(b._renderCallback)});this.datasets([])};c.prototype._createNodesForDataset=function(a){a=this._datasetToDrawer.get(a);"svg"===this.renderer()?a.useSVG(this._renderArea):a.useCanvas(this._canvas);
return a};c.prototype._createDrawer=function(){return new m.ProxyDrawer(function(){return new n.SVGDrawer("path","")},function(a){return new l.CanvasDrawer(a,function(){})})};c.prototype._getAnimator=function(a){return this._animateOnNextRender()?this._animators[a]||new h.Null:new h.Null};c.prototype._onDatasetUpdate=function(){this._updateExtents();this._dataChanged=!0;this._resetEntityStore();this.renderLowPriority()};c.prototype.attr=function(a,b,c){if(null==b)return this._attrBindings.get(a);
this._bindAttr(a,b,c);this.render();return this};c.prototype._bindProperty=function(a,b,c,d){var e=this._propertyBindings.get(a);e=null!=e?e.scale:null;this._propertyBindings.set(a,{accessor:"function"===typeof b?b:function(){return b},scale:c,postScale:d});null!=e&&this._uninstallScaleForKey(e,a);null!=c&&this._installScaleForKey(c,a);this._clearAttrToProjectorCache()};c.prototype._bindAttr=function(a,b,c){var d=this._attrBindings.get(a);d=null!=d?d.scale:null;this._attrBindings.set(a,{accessor:"function"===
typeof b?b:function(){return b},scale:c});null!=d&&this._uninstallScaleForKey(d,a);null!=c&&this._installScaleForKey(c,a);this._clearAttrToProjectorCache()};c.prototype._clearAttrToProjectorCache=function(){delete this._cachedAttrToProjector};c.prototype._getAttrToProjector=function(){null==this._cachedAttrToProjector&&(this._cachedAttrToProjector=this._generateAttrToProjector());return p.Object.assign({},this._cachedAttrToProjector)};c.prototype._generateAttrToProjector=function(){var a={};this._attrBindings.each(function(b,
d){a[d]=c._scaledAccessor(b)});var b=this._propertyProjectors();Object.keys(b).forEach(function(c){null==a[c]&&(a[c]=b[c])});return a};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._isAnchored&&(this._paint(),this._dataChanged=!1);return this};c.prototype.renderLowPriority=function(){this._renderCallback()};c.prototype.animated=function(a){if(null==a)return this._animate;this._animate=a;return this};c.prototype.detach=function(){a.prototype.detach.call(this);
this._updateExtents();return this};c.prototype._scales=function(){var a=[];this._attrBindings.each(function(b){b=b.scale;null!=b&&-1===a.indexOf(b)&&a.push(b)});this._propertyBindings.each(function(b){b=b.scale;null!=b&&-1===a.indexOf(b)&&a.push(b)});return a};c.prototype._updateExtents=function(){var a=this;this._resetEntityStore();this._scales().forEach(function(b){return b.addIncludedValuesProvider(a._includedValuesProvider)})};c.prototype._filterForProperty=function(){return null};c.prototype.getExtentsForAttr=
function(a){var c=this;null==this._attrExtents[a]&&(this._attrExtents[a]=q.memThunk(function(){return c.datasets()},function(){return c._attrBindings.get(a)},function(a,c){return null==c||null==c.accessor?null:a.map(function(a){return b(a,c,null)})}));return this._attrExtents[a]()};c.prototype.getExtentsForProperty=function(a){var c=this;null==this._propertyExtents[a]&&(this._propertyExtents[a]=q.memThunk(function(){return c.datasets()},function(){return c._propertyBindings.get(a)},function(){return c._filterForProperty(a)},
function(a,c,d){return null==c||null==c.accessor?null:a.map(function(a){return b(a,c,d)})}));return this._propertyExtents[a]()};c.prototype._includedValuesForScale=function(a,b){var c=this;if(!this._isAnchored&&!b)return[];var d=[];this._attrBindings.each(function(b,e){b.scale===a&&(b=c.getExtentsForAttr(e),null!=b&&(d=d.concat(g.merge(b))))});this._propertyBindings.each(function(b,e){b.scale===a&&(b=c.getExtentsForProperty(e),null!=b&&(d=d.concat(g.merge(b))))});return d};c.prototype.animator=function(a,
b){if(void 0===b)return this._animators[a];this._animators[a]=b;return this};c.prototype.renderer=function(a){var b=this;if(void 0===a)return null==this._canvas?"svg":"canvas";null==this._canvas&&"canvas"===a?(this._canvas=g.select(document.createElement("canvas")).classed("plot-canvas",!0),this._bufferCanvas=g.select(document.createElement("canvas")),null!=this.element()&&this._appendCanvasNode(),this._datasetToDrawer.forEach(function(a){a.useCanvas(b._canvas)}),this.render()):null!=this._canvas&&
"svg"==a&&(this._canvas.remove(),this._bufferCanvas=this._canvas=null,this._datasetToDrawer.forEach(function(a){a.useSVG(b._renderArea)}),this.render());return this};c.prototype.addDataset=function(a){this._addDataset(a);this._onDatasetUpdate();return this};c.prototype._addDataset=function(a){this._removeDataset(a);var b=this._createDrawer(a);this._datasetToDrawer.set(a,b);this._isSetup&&this._createNodesForDataset(a);a.onUpdate(this._onDatasetUpdateCallback);return this};c.prototype.removeDataset=
function(a){this._removeDataset(a);this._onDatasetUpdate()};c.prototype._removeDataset=function(a){if(-1===this.datasets().indexOf(a))return this;this._removeDatasetNodes(a);a.offUpdate(this._onDatasetUpdateCallback);this._datasetToDrawer.delete(a);return this};c.prototype._removeDatasetNodes=function(a){this._datasetToDrawer.get(a).remove()};c.prototype.datasets=function(a){var b=this,c=[];this._datasetToDrawer.forEach(function(a,b){return c.push(b)});if(null==a)return c;c.forEach(function(a){return b._removeDataset(a)});
a.forEach(function(a){return b._addDataset(a)});this._onDatasetUpdate();return this};c.prototype._generateDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:new h.Null}]};c.prototype._additionalPaint=function(){};c.prototype._buildLightweightPlotEntities=function(a){var b=this,c=[];a.forEach(function(a,d){var e=b._datasetToDrawer.get(a),f=0;a.data().forEach(function(g,h){var l=b._pixelPoint(g,h,a);p.Math.isNaN(l.x)||p.Math.isNaN(l.y)||(c.push({datum:g,get position(){return b._pixelPoint.call(b,
g,h,a)},index:h,dataset:a,datasetIndex:d,component:b,drawer:e,validDatumIndex:f}),f++)})});return c};c.prototype._getDataToDraw=function(){var a=new p.Map;this.datasets().forEach(function(b){return a.set(b,b.data())});return a};c.prototype._paint=function(){var a=this;delete this._cachedAttrToProjector;var b=this._generateDrawSteps(),d=this._getDataToDraw(),e=this.datasets().map(function(b){return a._datasetToDrawer.get(b)});if("canvas"===this.renderer()){var f=this._canvas.node();f.getContext("2d").clearRect(0,
0,f.clientWidth,f.clientHeight);this._bufferCanvasValid=!1}this.datasets().forEach(function(a,f){var g=c.applyDrawSteps(b,a);e[f].draw(d.get(a),g)});f=this.datasets().map(function(a){return c.getTotalDrawTime(d.get(a),b)});f=p.Math.max(f,0);this._additionalPaint(f)};c.prototype.selections=function(a){var b=this;void 0===a&&(a=this.datasets());if("canvas"===this.renderer())return g.selectAll();var c=[];a.forEach(function(a){a=b._datasetToDrawer.get(a);null!=a&&(a=a.getVisualPrimitives(),c.push.apply(c,
a))});return g.selectAll(c)};c.prototype.entities=function(a){var b=this;return this._getEntityStore(a).entities().map(function(a){return b._lightweightPlotEntityToPlotEntity(a)})};c.prototype._getEntityStore=function(a){function b(a){return c._entityBounds(a)}var c=this;if(void 0!==a){var d=new p.EntityStore;d.addAll(this._buildLightweightPlotEntities(a),b,this._localOriginBounds());return d}void 0===this._cachedEntityStore&&(d=new p.EntityStore,d.addAll(this._buildLightweightPlotEntities(this.datasets()),
b,this._localOriginBounds()),this._cachedEntityStore=d);return this._cachedEntityStore};c.prototype._localOriginBounds=function(){return{topLeft:{x:0,y:0},bottomRight:{x:this.width(),y:this.height()}}};c.prototype._entityBounds=function(a){a=this._pixelPoint(a.datum,a.index,a.dataset);return{x:a.x,y:a.y,width:0,height:0}};c.prototype._lightweightPlotEntityToPlotEntity=function(a){return{bounds:this._entityBounds(a),component:a.component,dataset:a.dataset,datasetIndex:a.datasetIndex,datum:a.datum,
index:a.index,position:a.position,selection:g.select(a.drawer.getVisualPrimitives()[a.validDatumIndex])}};c.prototype.entitiesAt=function(){throw Error("plots must implement entitiesAt");};c.prototype.entityNearest=function(a){a=this._getEntityStore().entityNearest(a);return void 0===a?void 0:this._lightweightPlotEntityToPlotEntity(a)};c.prototype.entitiesIn=function(a,b){return this.entitiesInBounds(null==b?{x:a.topLeft.x,y:a.topLeft.y,width:a.bottomRight.x-a.topLeft.x,height:a.bottomRight.y-a.topLeft.y}:
{x:a.min,y:b.min,width:a.max-a.min,height:b.max-b.min})};c.prototype.entitiesInBounds=function(a){var b=this;if(a=this._getEntityStore().entitiesInBounds(a))return a.map(function(a){return b._lightweightPlotEntityToPlotEntity(a)})};c.prototype.entitiesInXBounds=function(a){var b=this;if(a=this._getEntityStore().entitiesInXBounds(a))return a.map(function(a){return b._lightweightPlotEntityToPlotEntity(a)})};c.prototype.entitiesInYBounds=function(a){var b=this;if(a=this._getEntityStore().entitiesInYBounds(a))return a.map(function(a){return b._lightweightPlotEntityToPlotEntity(a)})};
c.prototype._uninstallScaleForKey=function(a){a.offUpdate(this._renderCallback);a.offUpdate(this._deferredResetEntityStore);a.removeIncludedValuesProvider(this._includedValuesProvider)};c.prototype._installScaleForKey=function(a){a.onUpdate(this._renderCallback);a.onUpdate(this._deferredResetEntityStore);a.addIncludedValuesProvider(this._includedValuesProvider)};c.prototype._propertyProjectors=function(){return{}};c._scaledAccessor=function(a){var b=a.scale,c=a.accessor,d=a.postScale,e=null==b?c:
function(a,d,e){return b.scale(c(a,d,e))};return null==d?e:function(a,b,c){return d(e(a,b,c),a,b,c)}};c.prototype._pixelPoint=function(){return{x:0,y:0}};c.prototype._animateOnNextRender=function(){return this._animate&&this._dataChanged};return c}(a.Component);d._ANIMATION_MAX_DURATION=600;c.Plot=d},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}a=d(105);c.TickGenerators=a;b(d(54));b(d(101));b(d(102));b(d(103));b(d(104));b(d(106));var f=d(54),g=d(11);c.isTransformable=
function(a){return a instanceof g.QuantitativeScale||a instanceof f.Category}},function(a,c,d){var b=d(1),f=d(30),g=d(0),h=d(12);a=d(10);c.XAlignment=a.makeEnum(["left","center","right"]);c.YAlignment=a.makeEnum(["top","center","bottom"]);a=function(){function a(){this._overflowHidden=!1;this._origin={x:0,y:0};this._xAlignment="left";this._yAlignment="top";this._isAnchored=this._isSetup=!1;this._cssClasses=new g.Set;this._destroyed=!1;this._onAnchorCallbacks=new g.CallbackSet;this._onDetachCallbacks=
new g.CallbackSet;this._cssClasses.add("component")}a.prototype.anchor=function(a){a=h.coerceExternalD3(a);if(this._destroyed)throw Error("Can't reuse destroy()-ed Components!");this.isRoot()&&(this._rootElement=a,this._rootElement.classed("plottable",!0));null!=this._element?a.node().appendChild(this._element.node()):(this._element=a.append("div"),this._setup());this._isAnchored=!0;this._onAnchorCallbacks.callCallbacks(this);return this};a.prototype.onAnchor=function(a){this._isAnchored&&a(this);
this._onAnchorCallbacks.add(a)};a.prototype.offAnchor=function(a){this._onAnchorCallbacks.delete(a)};a.prototype._setup=function(){var a=this;this._isSetup||(this._cssClasses.forEach(function(b){a._element.classed(b,!0)}),this._cssClasses=new g.Set,this._backgroundContainer=this._element.append("svg").classed("background-container",!0),this._content=this._element.append("svg").classed("content",!0),this._foregroundContainer=this._element.append("svg").classed("foreground-container",!0),this._overflowHidden?
this._content.classed("component-overflow-hidden",!0):this._content.classed("component-overflow-visible",!0),this._isSetup=!0)};a.prototype.requestedSpace=function(){return{minWidth:0,minHeight:0}};a.prototype.computeLayout=function(b,c,d){if(null==b||null==c||null==d){if(null==this._element)throw Error("anchor() must be called before computeLayout()");if(null!=this._rootElement)b={x:0,y:0},d=this._rootElement.node(),c=g.DOM.elementWidth(d),d=g.DOM.elementHeight(d);else throw Error("null arguments cannot be passed to computeLayout() on a non-root, unanchored node");
}var e=this._sizeFromOffer(c,d),f=e.height;e=e.width;this.setBounds(e,f,b.x+(c-e)*a._xAlignToProportion[this._xAlignment],b.y+(d-f)*a._yAlignToProportion[this._yAlignment]);return this};a.prototype.setBounds=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this._width=a;this._height=b;this._origin={x:c,y:d};null!=this._element&&this._element.styles({left:c+"px",height:b+"px",top:d+"px",width:a+"px"});null!=this._resizeHandler&&this._resizeHandler({width:a,height:b})};a.prototype._sizeFromOffer=
function(a,b){var c=this.requestedSpace(a,b);return{width:this.fixedWidth()?Math.min(a,c.minWidth):a,height:this.fixedHeight()?Math.min(b,c.minHeight):b}};a.prototype.render=function(){this._isAnchored&&this._isSetup&&0<=this.width()&&0<=this.height()&&f.registerToRender(this);return this};a.prototype.renderLowPriority=function(){this.render()};a.prototype._scheduleComputeLayout=function(){this._isAnchored&&this._isSetup&&f.registerToComputeLayoutAndRender(this)};a.prototype.onResize=function(a){this._resizeHandler=
a;return this};a.prototype.renderImmediately=function(){return this};a.prototype.redraw=function(){this._isAnchored&&this._isSetup&&(this.isRoot()?this._scheduleComputeLayout():this.parent().redraw());return this};a.prototype.invalidateCache=function(){};a.prototype.renderTo=function(a){this.detach();if(null!=a){a="string"===typeof a?b.select(a):a instanceof Element?b.select(a):h.coerceExternalD3(a);if(!a.node()||null==a.node().nodeName)throw Error("Plottable requires a valid Element to renderTo");
if("svg"===a.node().nodeName)throw Error("Plottable 3.x and later can only renderTo an HTML component; pass a div instead!");this.anchor(a)}if(null==this._element)throw Error("If a Component has never been rendered before, then renderTo must be given a node to render to, or a d3.Selection, or a selector string");f.registerToComputeLayoutAndRender(this);f.flush()};a.prototype.xAlignment=function(b){if(null==b)return this._xAlignment;b=b.toLowerCase();if(null==a._xAlignToProportion[b])throw Error("Unsupported alignment: "+
b);this._xAlignment=b;this.redraw();return this};a.prototype.yAlignment=function(b){if(null==b)return this._yAlignment;b=b.toLowerCase();if(null==a._yAlignToProportion[b])throw Error("Unsupported alignment: "+b);this._yAlignment=b;this.redraw();return this};a.prototype.hasClass=function(a){return null==a?!1:null==this._element?this._cssClasses.has(a):this._element.classed(a)};a.prototype.addClass=function(a){null!=a&&(null==this._element?this._cssClasses.add(a):this._element.classed(a,!0))};a.prototype.removeClass=
function(a){null!=a&&(null==this._element?this._cssClasses.delete(a):this._element.classed(a,!1))};a.prototype.fixedWidth=function(){return!1};a.prototype.fixedHeight=function(){return!1};a.prototype.detach=function(){this.parent(null);this._isAnchored&&this._element.remove();this._isAnchored=!1;this._onDetachCallbacks.callCallbacks(this);return this};a.prototype.onDetach=function(a){this._onDetachCallbacks.add(a)};a.prototype.offDetach=function(a){this._onDetachCallbacks.delete(a)};a.prototype.parent=
function(a){if(void 0===a)return this._parent;if(null!==a&&!a.has(this))throw Error("Passed invalid parent");this._parent=a;return this};a.prototype.bounds=function(){var a=this.origin();return{topLeft:a,bottomRight:{x:a.x+this.width(),y:a.y+this.height()}}};a.prototype.destroy=function(){this._destroyed=!0;this.detach()};a.prototype.width=function(){return this._width};a.prototype.height=function(){return this._height};a.prototype.origin=function(){return{x:this._origin.x,y:this._origin.y}};a.prototype.originToRoot=
function(){for(var a=this.origin(),b=this.parent();null!=b;){var c=b.origin();a.x+=c.x;a.y+=c.y;b=b.parent()}return a};a.prototype.root=function(){for(var a=this;!a.isRoot();)a=a.parent();return a};a.prototype.isRoot=function(){return null==this.parent()};a.prototype.foreground=function(){return this._foregroundContainer};a.prototype.content=function(){return this._content};a.prototype.element=function(){return this._element};a.prototype.rootElement=function(){return this.root()._rootElement};a.prototype.background=
function(){return this._backgroundContainer};return a}();a._xAlignToProportion={left:0,center:.5,right:1};a._yAlignToProportion={top:0,center:.5,bottom:1};c.Component=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(59));b(d(62));b(d(133));b(d(21));b(d(64));b(d(66))},function(a,c){a=function(){function a(a,b){this._svgDrawerFactory=a;this._canvasDrawerFactory=b}a.prototype.useSVG=function(a){null!=this._currentDrawer&&this._currentDrawer.remove();var b=this._svgDrawerFactory();
b.attachTo(a);this._currentDrawer=b};a.prototype.useCanvas=function(a){null!=this._currentDrawer&&this._currentDrawer.remove();this._currentDrawer=this._canvasDrawerFactory(a.node().getContext("2d"))};a.prototype.getDrawer=function(){return this._currentDrawer};a.prototype.remove=function(){null!=this._currentDrawer&&this._currentDrawer.remove()};a.prototype.draw=function(a,b){this._currentDrawer.draw(a,b)};a.prototype.getVisualPrimitives=function(){return this._currentDrawer.getVisualPrimitives()};
a.prototype.getVisualPrimitiveAtIndex=function(a){return this._currentDrawer.getVisualPrimitiveAtIndex(a)};return a}();c.ProxyDrawer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(70));b(d(71))},function(a,c,d){function b(a){void 0===a&&(a=3);f(a);return function(b){return b.toFixed(a)}}function f(a){if(0>a||20<a)throw new RangeError("Formatter precision must be between 0 and 20");if(a!==Math.floor(a))throw new RangeError("Formatter precision must be an integer");
}var g=d(1);c.currency=function(a,c,d){void 0===a&&(a=2);void 0===c&&(c="$");void 0===d&&(d=!0);var e=b(a);return function(a){var b=e(Math.abs(a));""!==b&&(b=d?c+b:b+c,0>a&&(b="-"+b));return b}};c.fixed=b;c.general=function(a){void 0===a&&(a=3);f(a);return function(b){if("number"===typeof b){var c=Math.pow(10,a);return String(Math.round(b*c)/c)}return String(b)}};c.identity=function(){return function(a){return String(a)}};c.percentage=function(a){void 0===a&&(a=0);var c=b(a);return function(a){var b=
a.toString();b=Math.pow(10,b.length-(b.indexOf(".")+1));return c(parseInt((100*a*b).toString(),10)/b)+"%"}};c.siSuffix=function(a){void 0===a&&(a=3);f(a);return function(b){return g.format("."+a+"s")(b)}};c.shortScale=function(){var a=0;void 0===a&&(a=3);f(a);var b=g.format("."+a+"e"),c=g.format("."+a+"f"),d=Math.pow(10,18),e=Math.pow(10,-a);return function(a){var f=Math.abs(a);if((f<e||f>=d)&&0!==f)return b(a);for(var g=-1;f>=Math.pow(1E3,g+2)&&4>g;)g++;f=-1===g?c(a):c(a/Math.pow(1E3,g+1))+"KMBTQ"[g];
if(0<a&&"1000"===f.substr(0,4)||0>a&&"-1000"===f.substr(0,5))4>g?(g++,f=c(a/Math.pow(1E3,g+1))+"KMBTQ"[g]):f=b(a);return f}};c.multiTime=function(){var a=[{specifier:".%L",predicate:function(a){return 0!==a.getMilliseconds()}},{specifier:":%S",predicate:function(a){return 0!==a.getSeconds()}},{specifier:"%I:%M",predicate:function(a){return 0!==a.getMinutes()}},{specifier:"%I %p",predicate:function(a){return 0!==a.getHours()}},{specifier:"%a %d",predicate:function(a){return 0!==a.getDay()&&1!==a.getDate()}},
{specifier:"%b %d",predicate:function(a){return 1!==a.getDate()}},{specifier:"%b",predicate:function(a){return 0!==a.getMonth()}}];return function(b){var c=a.filter(function(a){return a.predicate(b)});return g.timeFormat(0<c.length?c[0].specifier:"%Y")(b)}};c.time=function(a){return g.timeFormat(a)}},function(a,c,d){var b=d(1),f=d(0);a=function(){function a(a,c){this._root=b.select(document.createElementNS("http://www.w3.org/2000/svg","g"));this._className=c;this._svgElementName=a}a.prototype.draw=
function(a,b){var c=this;this._createAndDestroyDOMElements(a);var d=0;b.forEach(function(b){f.Window.setTimeout(function(){return c._drawStep(b)},d);d+=b.animator.totalTime(a.length)})};a.prototype.getVisualPrimitives=function(){null==this._cachedVisualPrimitivesNodes&&(this._cachedVisualPrimitivesNodes=this._selection.nodes());return this._cachedVisualPrimitivesNodes};a.prototype.getVisualPrimitiveAtIndex=function(a){return this.getVisualPrimitives()[a]};a.prototype.remove=function(){this._root.remove()};
a.prototype.attachTo=function(a){a.node().appendChild(this._root.node())};a.prototype.getRoot=function(){return this._root};a.prototype.selector=function(){return this._svgElementName};a.prototype._applyDefaultAttributes=function(){};a.prototype._createAndDestroyDOMElements=function(a){a=a.filter(function(a){return null!=a});a=this._root.selectAll(this.selector()).data(a);this._selection=a.enter().append(this._svgElementName).merge(a);a.exit().remove();this._cachedVisualPrimitivesNodes=null;null!=
this._className&&this._selection.classed(this._className,!0);this._applyDefaultAttributes(this._selection)};a.prototype._drawStep=function(a){var b=this;["fill","stroke"].forEach(function(c){null!=a.attrToAppliedProjector[c]&&b._selection.attr(c,a.attrToAppliedProjector[c])});a.animator.animate(this._selection,a.attrToAppliedProjector);null!=this._className&&this._selection.classed(this._className,!0)};return a}();c.SVGDrawer=a},function(a,c){c.makeEnum=function(a){return a.reduce(function(a,b){a[b]=
b;return a},{})}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(26),h=d(0);a=function(a){function c(){var b=a.call(this)||this;b._tickGenerator=function(a){return a.defaultTicks()};b._padProportion=.05;b._snappingDomainEnabled=!0;b._paddingExceptionsProviders=new h.Set;return b}b(c,a);c.prototype.autoDomain=function(){this._domainMax=
this._domainMin=null;a.prototype.autoDomain.call(this)};c.prototype._autoDomainIfAutomaticMode=function(){if(null!=this._domainMin&&null!=this._domainMax)this._setDomain([this._domainMin,this._domainMax]);else{var b=this._getExtent();null!=this._domainMin?(b=b[1],this._domainMin>=b&&(b=this._expandSingleValueDomain([this._domainMin,this._domainMin])[1]),this._setDomain([this._domainMin,b])):null!=this._domainMax?(b=b[0],this._domainMax<=b&&(b=this._expandSingleValueDomain([this._domainMax,this._domainMax])[0]),
this._setDomain([b,this._domainMax])):a.prototype._autoDomainIfAutomaticMode.call(this)}};c.prototype._getUnboundedExtent=function(a){void 0===a&&(a=!1);a=this._getAllIncludedValues(a);var b=this._defaultExtent();0!==a.length&&(a=[h.Math.min(a,b[0]),h.Math.max(a,b[1])],b=this._padDomain(a));return b};c.prototype._getExtent=function(){var a=this._getUnboundedExtent();null!=this._domainMin&&(a[0]=this._domainMin);null!=this._domainMax&&(a[1]=this._domainMax);return a};c.prototype.addPaddingExceptionsProvider=
function(a){this._paddingExceptionsProviders.add(a);this._autoDomainIfAutomaticMode()};c.prototype.removePaddingExceptionsProvider=function(a){this._paddingExceptionsProviders.delete(a);this._autoDomainIfAutomaticMode()};c.prototype.padProportion=function(a){if(null==a)return this._padProportion;if(0>a)throw Error("padProportion must be non-negative");this._padProportion=a;this._autoDomainIfAutomaticMode();return this};c.prototype._padDomain=function(a){var b=this;if(a[0].valueOf()===a[1].valueOf())return this._expandSingleValueDomain(a);
if(0===this._padProportion)return a;var c=this._padProportion/2,d=a[0],e=a[1],f=!1,g=!1;this._paddingExceptionsProviders.forEach(function(a){a(b).forEach(function(a){a.valueOf()===d.valueOf()&&(f=!0);a.valueOf()===e.valueOf()&&(g=!0)})});var h=this._backingScaleDomain();this._backingScaleDomain(a);a=f?d:this.invert(this.scale(d)-(this.scale(e)-this.scale(d))*c);c=g?e:this.invert(this.scale(e)+(this.scale(e)-this.scale(d))*c);this._backingScaleDomain(h);return this._snappingDomainEnabled?this._niceDomain([a,
c]):[a,c]};c.prototype.snappingDomainEnabled=function(a){null!=a&&(this._snappingDomainEnabled=a,this._autoDomainIfAutomaticMode())};c.prototype._expandSingleValueDomain=function(a){return a};c.prototype.invert=function(){throw Error("Subclasses should override invert");};c.prototype.domain=function(b){null!=b&&(this._domainMin=b[0],this._domainMax=b[1]);return a.prototype.domain.call(this,b)};c.prototype.domainMin=function(a){if(null==a)return this.domain()[0];this._domainMin=a;this._autoDomainIfAutomaticMode();
return this};c.prototype.domainMax=function(a){if(null==a)return this.domain()[1];this._domainMax=a;this._autoDomainIfAutomaticMode();return this};c.prototype.extentOfValues=function(a){a=f.extent(a.filter(function(a){return h.Math.isValidNumber(+a)}));return null==a[0]||null==a[1]?[]:a};c.prototype.zoom=function(a,b){var c=this;this.domain(this.range().map(function(d){return c.invert(g.zoomOut(d,a,b))}))};c.prototype.pan=function(a){var b=this;this.domain(this.range().map(function(c){return b.invert(c+
a)}))};c.prototype.scaleTransformation=function(){throw Error("Subclasses should override scaleTransformation");};c.prototype.invertedTransformation=function(){throw Error("Subclasses should override invertedTransformation");};c.prototype.getTransformationExtent=function(){throw Error("Subclasses should override getTransformationExtent");};c.prototype.getTransformationDomain=function(){throw Error("Subclasses should override getTransformationDomain");};c.prototype.setTransformationDomain=function(){throw Error("Subclasses should override setTransformationDomain");
};c.prototype._setDomain=function(b){function c(a){return h.Math.isNaN(a)||Infinity===a||-Infinity===a}c(b[0])||c(b[1])?h.Window.warn("Warning: QuantitativeScales cannot take NaN or Infinity as a domain value. Ignoring."):a.prototype._setDomain.call(this,b)};c.prototype.defaultTicks=function(){throw Error("Subclasses should override _getDefaultTicks");};c.prototype.ticks=function(){return this._tickGenerator(this)};c.prototype._niceDomain=function(){throw Error("Subclasses should override _niceDomain");
};c.prototype._defaultExtent=function(){throw Error("Subclasses should override _defaultExtent");};c.prototype.tickGenerator=function(){var a=Plottable.Scales.TickGenerators.integerTickGenerator();null!=a&&(this._tickGenerator=a)};return c}(d(17).Scale);a._DEFAULT_NUM_TICKS=10;c.QuantitativeScale=a},function(a,c,d){var b=d(1);c.coerceExternalD3=function(a){if(null==a.attrs){if(null==a.nodes){var c=[];a.each(function(){c.push(this)});return b.selectAll(c)}return b.selectAll(a.nodes())}return a}},function(a,
c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(83));b(d(84));b(d(85))},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(44));b(d(45));b(d(46));b(d(18));b(d(6));b(d(33));b(d(34));b(d(47));b(d(9));b(d(48))},function(a,c){a=function(){function a(){var a=this;this._anchorCallback=function(b){return a._anchor(b)};this._enabled=!0}a.prototype.attachTo=function(a){this._disconnect();this._componentAttachedTo=a;this._connect();return this};a.prototype.detachFrom=
function(){this.detach()};a.prototype.detach=function(){this._disconnect();this._componentAttachedTo=null;return this};a.prototype.enabled=function(a){if(null==a)return this._enabled;(this._enabled=a)?this._connect():this._disconnect();return this};a.prototype._anchor=function(){this._isAnchored=!0};a.prototype._unanchor=function(){this._isAnchored=!1};a.prototype._translateToComponentSpace=function(a){var b=this._componentAttachedTo.originToRoot();return{x:a.x-b.x,y:a.y-b.y}};a.prototype._isInsideComponent=
function(a){return 0<=a.x&&0<=a.y&&a.x<=this._componentAttachedTo.width()&&a.y<=this._componentAttachedTo.height()};a.prototype._connect=function(){if(this.enabled()&&null!=this._componentAttachedTo&&!this._isAnchored)this._componentAttachedTo.onAnchor(this._anchorCallback)};a.prototype._disconnect=function(){this._isAnchored&&this._unanchor();null!=this._componentAttachedTo&&this._componentAttachedTo.offAnchor(this._anchorCallback)};return a}();c.Interaction=a},function(a,c,d){var b=this&&this.__extends||
function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(3),g=d(0),h=d(52),l=d(2);a=function(a){function c(){var b=a.call(this)||this;b._autoAdjustXScaleDomain=!1;b._autoAdjustYScaleDomain=!1;b._deferredRendering=!1;b._applyDeferredRenderingTransform=function(a,c,d,e){b._isAnchored&&(null!=b._renderArea&&b._renderArea.attr("transform","translate("+a+", "+c+") scale("+d+", "+e+")"),null!=
b._canvas&&b._canvas.style("transform","translate("+a+"px, "+c+"px) scale("+d+", "+e+")"))};b.addClass("xy-plot");b._adjustYDomainOnChangeFromXCallback=function(){return b._adjustYDomainOnChangeFromX()};b._adjustXDomainOnChangeFromYCallback=function(){return b._adjustXDomainOnChangeFromY()};b._renderCallback=function(){if(b.deferredRendering()){var a=b.x()&&b.x().scale,c=b.y()&&b.y().scale;b._deferredRenderer.updateDomains(a,c)}else b.render()};b._deferredRenderer=new h.DeferredRenderer(function(){return b.render()},
b._applyDeferredRenderingTransform);return b}b(c,a);c.prototype.render=function(){this.deferredRendering()&&this._deferredRenderer.resetTransforms();return a.prototype.render.call(this)};c.prototype.deferredRendering=function(){return this._deferredRendering};c.prototype.x=function(a,b,d){if(null==a)return this._propertyBindings.get(c._X_KEY);this._bindProperty(c._X_KEY,a,b,d);a=this.width();null!=b&&null!=a&&b.range([0,a]);this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain();this.render();
return this};c.prototype.y=function(a,b,d){if(null==a)return this._propertyBindings.get(c._Y_KEY);this._bindProperty(c._Y_KEY,a,b,d);a=this.height();null!=b&&null!=a&&(b instanceof f.Category?b.range([0,a]):b.range([a,0]));this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain();this.render();return this};c.prototype._filterForProperty=function(a){return"x"===a&&this._autoAdjustXScaleDomain?this._makeFilterByProperty("y"):"y"===a&&this._autoAdjustYScaleDomain?this._makeFilterByProperty("x"):
null};c.prototype._makeFilterByProperty=function(a){a=this._propertyBindings.get(a);if(null!=a){var b=a.accessor,c=a.scale;if(null!=c)return function(a,d,e){var f=c.range();return g.Math.inRange(c.scale(b(a,d,e)),f[0],f[1])}}return null};c.prototype._uninstallScaleForKey=function(b,d){a.prototype._uninstallScaleForKey.call(this,b,d);b.offUpdate(d===c._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback)};c.prototype._installScaleForKey=function(b,d){a.prototype._installScaleForKey.call(this,
b,d);b.onUpdate(d===c._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback)};c.prototype.destroy=function(){a.prototype.destroy.call(this);this.x().scale&&this.x().scale.offUpdate(this._adjustYDomainOnChangeFromXCallback);this.y().scale&&this.y().scale.offUpdate(this._adjustXDomainOnChangeFromYCallback);return this};c.prototype.autorangeMode=function(a){if(null==a)return this._autoAdjustXScaleDomain?"x":this._autoAdjustYScaleDomain?"y":"none";switch(a){case "x":this._autoAdjustXScaleDomain=
!0;this._autoAdjustYScaleDomain=!1;this._adjustXDomainOnChangeFromY();break;case "y":this._autoAdjustXScaleDomain=!1;this._autoAdjustYScaleDomain=!0;this._adjustYDomainOnChangeFromX();break;case "none":this._autoAdjustYScaleDomain=this._autoAdjustXScaleDomain=!1;break;default:throw Error("Invalid scale name '"+a+"', must be 'x', 'y' or 'none'");}return this};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);b=(b=this.x())&&b.scale;null!=b&&b.range([0,this.width()]);
b=(b=this.y())&&b.scale;null!=b&&(b instanceof f.Category?b.range([0,this.height()]):b.range([this.height(),0]));return this};c.prototype._updateXExtentsAndAutodomain=function(){var a=this.x().scale;null!=a&&a.autoDomain()};c.prototype._updateYExtentsAndAutodomain=function(){var a=this.y().scale;null!=a&&a.autoDomain()};c.prototype.showAllData=function(){this._updateXExtentsAndAutodomain();this._updateYExtentsAndAutodomain();return this};c.prototype._adjustYDomainOnChangeFromX=function(){this._projectorsReady()&&
this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain()};c.prototype._adjustXDomainOnChangeFromY=function(){this._projectorsReady()&&this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain()};c.prototype._projectorsReady=function(){var a=this.x(),b=this.y();return null!=a&&null!=a.accessor&&null!=b&&null!=b.accessor};c.prototype._pixelPoint=function(a,b,c){var d=l.Plot._scaledAccessor(this.x()),e=l.Plot._scaledAccessor(this.y());return{x:d(a,b,c),y:e(a,b,c)}};c.prototype._getDataToDraw=
function(){var b=this,c=a.prototype._getDataToDraw.call(this);this.datasets().forEach(function(a){c.set(a,c.get(a).filter(function(c,d){var e=l.Plot._scaledAccessor(b.x())(c,d,a);c=l.Plot._scaledAccessor(b.y())(c,d,a);return g.Math.isValidNumber(e)&&g.Math.isValidNumber(c)}))});return c};return c}(l.Plot);a._X_KEY="x";a._Y_KEY="y";c.XYPlot=a},function(a,c,d){var b=d(0);a=function(){function a(){this._autoDomainAutomatically=!0;this._domainModificationInProgress=!1;this._updateId=0;this._callbacks=
new b.CallbackSet;this._includedValuesProviders=new b.Set}a.prototype.extentOfValues=function(){return[]};a.prototype._getAllIncludedValues=function(a){var b=this;void 0===a&&(a=!1);var c=[];this._includedValuesProviders.forEach(function(d){d=d(b,a);c=c.concat(d)});return c};a.prototype._getExtent=function(){return[]};a.prototype.onUpdate=function(a){this._callbacks.add(a);return this};a.prototype.offUpdate=function(a){this._callbacks.delete(a);return this};a.prototype._dispatchUpdate=function(){this._updateId++;
this._callbacks.callCallbacks(this)};a.prototype.autoDomain=function(){this._autoDomainAutomatically=!0;this._setDomain(this._getExtent())};a.prototype._autoDomainIfAutomaticMode=function(){this._autoDomainAutomatically&&this.autoDomain()};a.prototype.scale=function(){throw Error("Subclasses should override scale");};a.prototype.ticks=function(){return this.domain()};a.prototype.domain=function(a){if(null==a)return this._getDomain();this._autoDomainAutomatically=!1;this._setDomain(a);return this};
a.prototype._getDomain=function(){throw Error("Subclasses should override _getDomain");};a.prototype._setDomain=function(a){this._domainModificationInProgress||(this._domainModificationInProgress=!0,this._backingScaleDomain(a),this._dispatchUpdate(),this._domainModificationInProgress=!1)};a.prototype._backingScaleDomain=function(){throw Error("Subclasses should override _backingDomain");};a.prototype.range=function(a){if(null==a)return this._getRange();this._setRange(a);return this};a.prototype._getRange=
function(){throw Error("Subclasses should override _getRange");};a.prototype._setRange=function(){throw Error("Subclasses should override _setRange");};a.prototype.addIncludedValuesProvider=function(a){this._includedValuesProviders.add(a);this._autoDomainIfAutomaticMode();return this};a.prototype.removeIncludedValuesProvider=function(a){this._includedValuesProviders.delete(a);this._autoDomainIfAutomaticMode()};a.prototype.updateId=function(){return this._updateId};return a}();c.Scale=a},function(a,
c,d){function b(a,b,c,d){for(var e={},f=0;f<b.length;f++){var g=b[f];a.hasOwnProperty(g)&&(e[g]=a[g](c,d))}return e}function f(a){return null!=a["stroke-width"]?parseFloat(a["stroke-width"]):1}function g(a,b){if(b.stroke){a.lineWidth=f(b);var c=h.color(b.stroke);c.opacity=c.opacity*(null!=b["stroke-opacity"]?parseFloat(b["stroke-opacity"]):1)*(null!=b.opacity?parseFloat(b.opacity):1);a.strokeStyle=c.toString();a.stroke()}b.fill&&(c=h.color(b.fill),c.opacity=c.opacity*(null!=b["fill-opacity"]?parseFloat(b["fill-opacity"]):
1)*(null!=b.opacity?parseFloat(b.opacity):1),a.fillStyle=c.toString(),a.fill())}var h=d(1);a=function(){function a(a,b){this._context=a;this._drawStep=b}a.prototype.getDrawStep=function(){return this._drawStep};a.prototype.draw=function(a,b){b=b[b.length-1].attrToAppliedProjector;this._context.save();this._drawStep(this._context,a,b);this._context.restore()};a.prototype.getVisualPrimitives=function(){return[]};a.prototype.getVisualPrimitiveAtIndex=function(){return null};a.prototype.remove=function(){};
return a}();c.CanvasDrawer=a;c.ContextStyleAttrs="fill-opacity fill opacity stroke-opacity stroke-width stroke".split(" ");c.resolveAttributesSubsetWithStyles=function(a,d,e,f){return b(a,c.ContextStyleAttrs.concat(d),e,f)};c.resolveAttributes=b;c.getStrokeWidth=f;c.renderArea=function(a,b,c,d){a.save();a.beginPath();b.context(a);b(c);a.lineJoin="round";g(a,d);a.restore()};c.renderLine=function(a,b,c,d){a.save();a.beginPath();b.context(a);b(c);a.lineJoin="round";g(a,d);a.restore()};c.renderPathWithStyle=
g},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(50));b(d(27));b(d(51));b(d(93));b(d(53));b(d(94));b(d(95));b(d(96));b(d(97));b(d(98));b(d(99));b(d(100))},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(92));b(d(91));a=d(49);c.sign=a.sign},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(134));b(d(135));b(d(136));b(d(137))},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5);a=d(4);var h=d(8),l=d(0);d=d(10);c.AxisOrientation=d.makeEnum(["bottom","left","right","top"]);d=function(a){function c(b,c){var d=a.call(this)||this;d._endTickLength=5;d._innerTickLength=5;d._tickLabelPadding=10;d._margin=15;d._showEndTickLabels=!1;d._annotationsEnabled=!1;d._annotationTierCount=1;if(null==b||null==c)throw Error("Axis requires a scale and orientation");
d._scale=b;d.orientation(c);d._setDefaultAlignment();d.addClass("axis");d.isHorizontal()?d.addClass("x-axis"):d.addClass("y-axis");d.formatter(h.identity());d._rescaleCallback=function(){return d._rescale()};d._scale.onUpdate(d._rescaleCallback);d._annotatedTicks=[];d._annotationFormatter=h.identity();return d}b(c,a);c.prototype.destroy=function(){a.prototype.destroy.call(this);this._scale.offUpdate(this._rescaleCallback)};c.prototype.tickLabelDataOnElement=function(a){if(null!=a){for(var b;null!=
a&&a.classList&&void 0===b;)a.classList.contains(c.TICK_LABEL_CLASS)?b=a:a=a.parentNode;return void 0===a?void 0:f.select(a).datum()}};c.prototype._computeWidth=function(){return this._maxLabelTickLength()};c.prototype._computeHeight=function(){return this._maxLabelTickLength()};c.prototype.requestedSpace=function(){var a=0,b=0;if(this.isHorizontal()){if(b=this._computeHeight()+this._margin,this.annotationsEnabled()){var d=this._annotationMeasurer.measure().height+2*c._ANNOTATION_LABEL_PADDING;b+=
d*this.annotationTierCount()}}else a=this._computeWidth()+this._margin,this.annotationsEnabled()&&(d=this._annotationMeasurer.measure().height+2*c._ANNOTATION_LABEL_PADDING,a+=d*this.annotationTierCount());return{minWidth:a,minHeight:b}};c.prototype.fixedHeight=function(){return this.isHorizontal()};c.prototype.fixedWidth=function(){return!this.isHorizontal()};c.prototype._rescale=function(){this.render()};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this.isHorizontal()?
this._scale.range([0,this.width()]):this._scale.range([this.height(),0]);return this};c.prototype._sizeFromOffer=function(a,b){var c=this.requestedSpace(a,b);return this.isHorizontal()?{width:a,height:c.minHeight}:{height:b,width:c.minWidth}};c.prototype._setup=function(){a.prototype._setup.call(this);this._tickMarkContainer=this.content().append("g").classed(c.TICK_MARK_CLASS+"-container",!0);this._tickLabelContainer=this.content().append("g").classed(c.TICK_LABEL_CLASS+"-container",!0);this._baseline=
this.content().append("line").classed("baseline",!0);this._annotationContainer=this.content().append("g").classed("annotation-container",!0);this._annotationContainer.append("g").classed("annotation-line-container",!0);this._annotationContainer.append("g").classed("annotation-circle-container",!0);this._annotationContainer.append("g").classed("annotation-rect-container",!0);var b=this._annotationContainer.append("g").classed("annotation-label-container",!0);b=new g.SvgContext(b.node());this._annotationMeasurer=
new g.CacheMeasurer(b);this._annotationWriter=new g.Writer(this._annotationMeasurer,b)};c.prototype._getTickValues=function(){return[]};c.prototype.renderImmediately=function(){var a=this._getTickValues(),b=this._tickMarkContainer.selectAll("."+c.TICK_MARK_CLASS).data(a),d=b.enter().append("line").classed(c.TICK_MARK_CLASS,!0).merge(b);d.attrs(this._generateTickMarkAttrHash());f.select(d.nodes()[0]).classed(c.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0));f.select(d.nodes()[a.length-
1]).classed(c.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0));b.exit().remove();this._baseline.attrs(this._generateBaselineAttrHash());this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations();return this};c.prototype.annotatedTicks=function(){return this._annotatedTicks};c.prototype.annotationFormatter=function(a){if(null==a)return this._annotationFormatter;this._annotationFormatter=a;this.render();return this};c.prototype.annotationsEnabled=function(){return this._annotationsEnabled};
c.prototype.annotationTierCount=function(){return this._annotationTierCount};c.prototype._drawAnnotations=function(){function a(a){switch(h.orientation()){case "bottom":case "right":return e(a);case "top":case "left":return e(a)-n.get(a).height}}function b(a){return E.has(a)?"hidden":"visible"}function d(a){return h._scale.scale(a)}function e(a){switch(h.orientation()){case "bottom":case "right":return H.get(a)*B+D;case "top":case "left":return I-D-H.get(a)*B}}function g(a,b,c){a=a.selectAll("."+
c).data(A);b=a.enter().append(b).classed(c,!0).merge(a);a.exit().remove();return b}var h=this,m=c._ANNOTATION_LABEL_PADDING,n=new l.Map,A=this._annotatedTicksToRender();A.forEach(function(a){var b=h._annotationMeasurer.measure(h.annotationFormatter()(a));n.set(a,{width:b.width+2*m,height:b.height+2*m})});var B=this._annotationMeasurer.measure().height+2*m,H=this._annotationToTier(n),E=new l.Set,I=this.isHorizontal()?this.height():this.width(),D=this._coreSize(),C=Math.min(this.annotationTierCount(),
Math.floor((I-D)/B));H.forEach(function(a,b){(-1===a||a>=C)&&E.add(b)});switch(this.orientation()){case "bottom":case "right":var F=0;break;case "top":F=this.height();break;case "left":F=this.width()}var J=this.isHorizontal();g(this._annotationContainer.select(".annotation-line-container"),"line",c.ANNOTATION_LINE_CLASS).attrs({x1:J?d:F,x2:J?d:e,y1:J?F:d,y2:J?e:d,visibility:b});g(this._annotationContainer.select(".annotation-circle-container"),"circle",c.ANNOTATION_CIRCLE_CLASS).attrs({cx:J?d:F,cy:J?
F:d,r:3});g(this._annotationContainer.select(".annotation-rect-container"),"rect",c.ANNOTATION_RECT_CLASS).attrs({x:J?d:a,y:J?a:d,width:J?function(a){return n.get(a).width}:function(a){return n.get(a).height},height:J?function(a){return n.get(a).height}:function(a){return n.get(a).width},visibility:b});var K=this._annotationWriter,S=this.annotationFormatter();F=g(this._annotationContainer.select(".annotation-label-container"),"g",c.ANNOTATION_LABEL_CLASS);F.selectAll(".text-container").remove();F.attrs({transform:function(b){var c=
J?d(b):a(b);b=J?a(b):d(b);return"translate("+c+","+b+")"},visibility:b}).each(function(a){K.write(S(a),J?n.get(a).width:n.get(a).height,J?n.get(a).height:n.get(a).width,{xAlign:"center",yAlign:"center",textRotation:J?0:90},f.select(this).node())})};c.prototype._annotatedTicksToRender=function(){var a=this,b=this._scale.range();return l.Array.uniq(this.annotatedTicks().filter(function(c){return null==c?!1:l.Math.inRange(a._scale.scale(c),b[0],b[1])}))};c.prototype._coreSize=function(){var a=this.isHorizontal()?
this.height():this.width(),b=this.isHorizontal()?this._computeHeight():this._computeWidth();return Math.min(b,a)};c.prototype._annotationTierHeight=function(){return this._annotationMeasurer.measure().height+2*c._ANNOTATION_LABEL_PADDING};c.prototype._annotationToTier=function(a){var b=this,c=[[]],d=new l.Map,e=this.isHorizontal()?this.width():this.height();this._annotatedTicksToRender().forEach(function(f){var g=b._scale.scale(f),h=a.get(f).width;if(0>g||g+h>e)d.set(f,-1);else{for(var l=function(d){return c[d].some(function(c){var d=
b._scale.scale(c);c=a.get(c).width;return g+h>=d&&g<=d+c})},m=0;l(m);)m++,c.length===m&&c.push([]);c[m].push(f);d.set(f,m)}});return d};c.prototype._removeAnnotations=function(){this._annotationContainer.selectAll(".annotation-line").remove();this._annotationContainer.selectAll(".annotation-circle").remove();this._annotationContainer.selectAll(".annotation-rect").remove();this._annotationContainer.selectAll(".annotation-label").remove()};c.prototype._generateBaselineAttrHash=function(){var a={x1:0,
y1:0,x2:0,y2:0};switch(this._orientation){case "bottom":a.x2=this.width();break;case "top":a.x2=this.width();a.y1=this.height();a.y2=this.height();break;case "left":a.x1=this.width();a.x2=this.width();a.y2=this.height();break;case "right":a.y2=this.height()}return a};c.prototype._generateTickMarkAttrHash=function(a){function b(a){return c._scale.scale(a)}var c=this;void 0===a&&(a=!1);var d={x1:0,y1:0,x2:0,y2:0};this.isHorizontal()?(d.x1=b,d.x2=b):(d.y1=b,d.y2=b);a=a?this._endTickLength:this._innerTickLength;
switch(this._orientation){case "bottom":d.y2=a;break;case "top":d.y1=this.height();d.y2=this.height()-a;break;case "left":d.x1=this.width();d.x2=this.width()-a;break;case "right":d.x2=a}return d};c.prototype._setDefaultAlignment=function(){switch(this._orientation){case "bottom":this.yAlignment("top");break;case "top":this.yAlignment("bottom");break;case "left":this.xAlignment("right");break;case "right":this.xAlignment("left")}};c.prototype.isHorizontal=function(){return"top"===this._orientation||
"bottom"===this._orientation};c.prototype.getScale=function(){return this._scale};c.prototype.formatter=function(a){if(null==a)return this._formatter;this._formatter=a;this.redraw();return this};c.prototype.innerTickLength=function(){return this._innerTickLength};c.prototype.endTickLength=function(){return this._endTickLength};c.prototype._maxLabelTickLength=function(){return this.showEndTickLabels()?Math.max(this.innerTickLength(),this.endTickLength()):this.innerTickLength()};c.prototype.tickLabelPadding=
function(a){if(null==a)return this._tickLabelPadding;if(0>a)throw Error("tick label padding must be positive");this._tickLabelPadding=a;this.redraw();return this};c.prototype.margin=function(a){if(null==a)return this._margin;if(0>a)throw Error("margin size must be positive");this._margin=a;this.redraw();return this};c.prototype.orientation=function(a){if(null==a)return this._orientation;a=a.toLowerCase();if("top"!==a&&"bottom"!==a&&"left"!==a&&"right"!==a)throw Error("unsupported orientation");this._orientation=
a;this.redraw();return this};c.prototype.showEndTickLabels=function(){return this._showEndTickLabels};c.prototype._showAllTickMarks=function(){this._tickMarkContainer.selectAll("."+c.TICK_MARK_CLASS).each(function(){f.select(this).style("visibility","inherit")})};c.prototype._showAllTickLabels=function(){this._tickLabelContainer.selectAll("."+c.TICK_LABEL_CLASS).each(function(){f.select(this).style("visibility","inherit")})};c.prototype._hideOverflowingTickLabels=function(){var a=this.element().node().getBoundingClientRect(),
b=this._tickLabelContainer.selectAll("."+c.TICK_LABEL_CLASS);b.empty()||b.each(function(){l.DOM.clientRectInside(this.getBoundingClientRect(),a)||f.select(this).style("visibility","hidden")})};c.prototype._hideTickMarksWithoutLabel=function(){var a=this._tickMarkContainer.selectAll("."+c.TICK_MARK_CLASS),b=this._tickLabelContainer.selectAll("."+c.TICK_LABEL_CLASS).filter(function(){var a=f.select(this).style("visibility");return"inherit"===a||"visible"===a}).data();a.each(function(a){-1===b.indexOf(a)&&
f.select(this).style("visibility","hidden")})};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._annotationMeasurer.reset()};return c}(a.Component);d.END_TICK_MARK_CLASS="end-tick-mark";d.TICK_MARK_CLASS="tick-mark";d.TICK_LABEL_CLASS="tick-label";d.ANNOTATION_LINE_CLASS="annotation-line";d.ANNOTATION_RECT_CLASS="annotation-rect";d.ANNOTATION_CIRCLE_CLASS="annotation-circle";d.ANNOTATION_LABEL_CLASS="annotation-label";d._ANNOTATION_LABEL_PADDING=4;c.Axis=d},function(a,
c){c.SHOW_WARNINGS=!0;c.ADD_TITLE_ELEMENTS=!0},function(a,c,d){var b=d(0);a=function(){function a(){this._eventToProcessingFunction={};this._eventTarget=document;this._eventNameToCallbackSet={};this._connected=!1}a.prototype._hasNoCallbacks=function(){for(var a=Object.keys(this._eventNameToCallbackSet),b=0;b<a.length;b++)if(0!==this._eventNameToCallbackSet[a[b]].size)return!1;return!0};a.prototype._connect=function(){var a=this;this._connected||(Object.keys(this._eventToProcessingFunction).forEach(function(b){a._eventTarget.addEventListener(b,
a._eventToProcessingFunction[b])}),this._connected=!0)};a.prototype._disconnect=function(){var a=this;this._connected&&this._hasNoCallbacks()&&(Object.keys(this._eventToProcessingFunction).forEach(function(b){a._eventTarget.removeEventListener(b,a._eventToProcessingFunction[b])}),this._connected=!1)};a.prototype._addCallbackForEvent=function(a,c){null==this._eventNameToCallbackSet[a]&&(this._eventNameToCallbackSet[a]=new b.CallbackSet);this._eventNameToCallbackSet[a].add(c);this._connect()};a.prototype._removeCallbackForEvent=
function(a,b){null!=this._eventNameToCallbackSet[a]&&this._eventNameToCallbackSet[a].delete(b);this._disconnect()};a.prototype._callCallbacksForEvent=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];c=this._eventNameToCallbackSet[a];null!=c&&c.callCallbacks.apply(c,b)};return a}();c.Dispatcher=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(87));b(d(88));b(d(40));b(d(89));b(d(90));a=d(26);c.zoomOut=a.zoomOut},function(a,c){function b(a,b,
c){return c-(c-a)*b}function e(a,b,c,d){var e=1<b;c=e?d:c;if(null==c)return b;a=a.getTransformationDomain();return(e?Math.min:Math.max)(b,c/Math.abs(a[1]-a[0]))}function f(a,c,d,e,f){if(1>=c)return{centerPoint:d,zoomAmount:c};if(null==e&&null==f)return{centerPoint:d,zoomAmount:c};var h=g(a),l,m=a.getTransformationDomain();m=(l=m[1]<m[0])?Infinity:-Infinity;l=l?-Infinity:Infinity;e=null==e?m:e;f=null==f?l:f;l=a.getTransformationDomain();m=l[0];l=l[1];f=a.scaleTransformation(f);l=a.scaleTransformation(l);
var n=b(l,c,d);e=a.scaleTransformation(e);a=a.scaleTransformation(m);m=b(a,c,d);return Math.abs(n-m)>Math.abs(f-e)?(c=(f-e)/(l-a),1!==c?{centerPoint:(l*c-f)/(c-1),zoomAmount:c}:{centerPoint:d,zoomAmount:c}):n>f!=h?{centerPoint:(l*c-f)/(c-1),zoomAmount:c}:m<e!=h?{centerPoint:(a*c-e)/(c-1),zoomAmount:c}:{centerPoint:d,zoomAmount:c}}function g(a){a=a.range();return a[1]<a[0]}c.zoomOut=b;c.constrainedZoom=function(a,b,c,d,g,p,t){b=e(a,b,d,g);return f(a,b,c,p,t)};c.constrainZoomExtents=e;c.constrainZoomValues=
f;c.constrainedTranslation=function(a,b,c,d){var e=a.getTransformationDomain(),f=e[0],h=e[1];e=g(a);0<b!==e?(c=d,null!=c&&(f=a.scaleTransformation(h),a=a.scaleTransformation(c),b=(e?Math.max:Math.min)(f+b,a)-f)):null!=c&&(f=a.scaleTransformation(f),a=a.scaleTransformation(c),b=(e?Math.min:Math.max)(f+b,a)-f);return b}},function(a,c,d){function b(a,b,c){var d=a.scale;if(d instanceof r.Category)c=d.rangeBand();else{var e=a.accessor;a=g.set(v.Array.flatten(b.map(function(a){return a.data().map(function(b,
c){return e(b,c,a)}).filter(function(a){return null!=a}).map(function(a){return a.valueOf()})}))).values().map(function(a){return+a});a.sort(function(a,b){return a-b});a=a.map(function(a){return d.scale(a)});a=g.pairs(a);c=v.Math.min(a,function(a){return Math.abs(a[1]-a[0])},c*A._SINGLE_BAR_DIMENSION_RATIO);c*=A._BAR_THICKNESS_RATIO}return c}var f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):
(c.prototype=b.prototype,new c)},g=d(1),h=d(5),l=d(7),m=d(8),n=d(14),q=d(6),p=d(34),t=d(20),r=d(3),w=d(11),v=d(0);a=d(10);var y=d(19),x=d(2);d=d(16);c.BarOrientation=a.makeEnum(["vertical","horizontal"]);c.LabelsPosition=a.makeEnum(["start","middle","end","outside"]);c.BarAlignment=a.makeEnum(["start","middle","end"]);var A=function(a){function d(e){void 0===e&&(e="vertical");var f=a.call(this)||this;f._labelFormatter=m.identity();f._labelsEnabled=!1;f._labelsPosition=c.LabelsPosition.end;f._hideBarsIfAnyAreTooWide=
!0;f._barAlignment="middle";f._computeBarPixelThickness=t.memoize(b);f._fixedBarPixelThickness=!0;f.addClass("bar-plot");if("vertical"!==e&&"horizontal"!==e)throw Error(e+" is not a valid orientation for Plots.Bar");f._isVertical="vertical"===e;f.animator("baseline",new l.Null);f.attr("fill",(new r.Color).range()[0]);f.attr(d._BAR_THICKNESS_KEY,function(){return f._barPixelThickness()});f._labelConfig=new v.Map;f._baselineValueProvider=function(){return[f.baselineValue()]};return f}f(d,a);d.prototype.computeLayout=
function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this._updateExtents();return this};d.prototype.x=function(b,c){if(null==b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):a.prototype.x.call(this,b,c);this._updateThicknessAttr();this._updateLengthScale();return this};d.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);null==c?a.prototype.y.call(this,b):a.prototype.y.call(this,b,c);this._updateLengthScale();return this};d.prototype.length=function(){return this._isVertical?
this.y():this.x()};d.prototype.position=function(){return this._isVertical?this.x():this.y()};d.prototype.barEnd=function(){return this._propertyBindings.get(d._BAR_END_KEY)};d.prototype.barAlignment=function(a){if(null==a)return this._barAlignment;this._barAlignment=a;this._clearAttrToProjectorCache();this.render();return this};d.prototype.orientation=function(){return this._isVertical?"vertical":"horizontal"};d.prototype._createDrawer=function(){return new q.ProxyDrawer(function(){return new p.RectangleSVGDrawer(d._BAR_AREA_CLASS)},
function(a){return new n.RectangleCanvasDrawer(a)})};d.prototype._setup=function(){a.prototype._setup.call(this);this._baseline=this._renderArea.append("line").classed("baseline",!0)};d.prototype.baselineValue=function(){if(null!=this._baselineValue)return this._baselineValue;if(!this._projectorsReady())return 0;var a=this.length().scale;return a?a instanceof r.Time?new Date(0):0:0};d.prototype.addDataset=function(b){a.prototype.addDataset.call(this,b);return this};d.prototype._addDataset=function(b){a.prototype._addDataset.call(this,
b);return this};d.prototype.removeDataset=function(b){a.prototype.removeDataset.call(this,b)};d.prototype._removeDataset=function(b){a.prototype._removeDataset.call(this,b);return this};d.prototype.datasets=function(b){if(null==b)return a.prototype.datasets.call(this);a.prototype.datasets.call(this,b);return this};d.prototype.labelsEnabled=function(a){if(null==a)return this._labelsEnabled;this._labelsEnabled=a;this._clearAttrToProjectorCache();this.render();return this};d.prototype.labelFormatter=
function(a){if(null==a)return this._labelFormatter;this._labelFormatter=a;this._clearAttrToProjectorCache();this.render();return this};d.prototype._createNodesForDataset=function(b){var c=a.prototype._createNodesForDataset.call(this,b),e=this._renderArea.append("g").classed(d._LABEL_AREA_CLASS,!0),f=new h.SvgContext(e.node()),g=new h.CacheMeasurer(f);f=new h.Writer(g,f);this._labelConfig.set(b,{labelArea:e,measurer:g,writer:f});return c};d.prototype._removeDatasetNodes=function(b){a.prototype._removeDatasetNodes.call(this,
b);var c=this._labelConfig.get(b);null!=c&&(c.labelArea.remove(),this._labelConfig.delete(b))};d.prototype.entityNearest=function(a){var b=this;return this._computeBarPixelThickness.doLocked(function(){var c=b._isVertical?a.x:a.y,d=b._isVertical?a.y:a.x,e=b.bounds(),f={min:0,max:e.bottomRight.x-e.topLeft.x},g={min:0,max:e.bottomRight.y-e.topLeft.y},h=x.Plot._scaledAccessor(b.length()),l=b.length().scale.scale(b.baselineValue()),m=Infinity,n=Infinity,q;b._getEntityStore().entities().forEach(function(e){var p=
b._entityBounds(e);if(v.DOM.intersectsBBox(f,g,p)){var r=0,t=0;if(!v.DOM.intersectsBBox(a.x,a.y,p,.5)){t=b._pixelPointBar(h(e.datum,e.index,e.dataset),l,p);r=Math.abs(c-(b._isVertical?t.x:t.y));var w=b._isVertical?p.y:p.x;p=w+(b._isVertical?p.height:p.width);t=d>=w-.5&&d<=p+.5?0:Math.abs(d-(b._isVertical?t.y:t.x))}if(r<m||r===m&&t<n)q=e,m=r,n=t}});if(void 0!==q)return b._lightweightPlotEntityToPlotEntity(q)})};d.prototype.entitiesAt=function(a){return this._entitiesIntersecting(a.x,a.y)};d.prototype._entitiesIntersecting=
function(a,b){var c=this,d=[];this._getEntityStore().entities().forEach(function(e){v.DOM.intersectsBBox(a,b,c._entityBounds(e))&&d.push(c._lightweightPlotEntityToPlotEntity(e))});return d};d.prototype._updateLengthScale=function(){if(this._projectorsReady()){var a=this.length().scale;a instanceof w.QuantitativeScale&&(a.addPaddingExceptionsProvider(this._baselineValueProvider),a.addIncludedValuesProvider(this._baselineValueProvider))}};d.prototype.renderImmediately=function(){var b=this;this._barPixelThickness();
return this._computeBarPixelThickness.doLocked(function(){return a.prototype.renderImmediately.call(b)})};d.prototype._additionalPaint=function(a){var b=this,c=this.length().scale.scale(this.baselineValue());c={x1:this._isVertical?0:c,y1:this._isVertical?c:0,x2:this._isVertical?this.width():c,y2:this._isVertical?c:this.height()};this._getAnimator("baseline").animate(this._baseline,c);this.datasets().forEach(function(a){return b._labelConfig.get(a).labelArea.selectAll("g").remove()});this._labelsEnabled&&
v.Window.setTimeout(function(){return b._drawLabels()},a)};d.prototype.getExtentsForProperty=function(b){var c=this,d=a.prototype.getExtentsForProperty.call(this,b);if("x"===b&&this._isVertical)b=this.x();else{if("y"!==b||this._isVertical)return d;b=this.y()}if(!(b&&b.scale&&b.scale instanceof w.QuantitativeScale))return d;var e=b.scale,f=this._barPixelThickness();return d=d.map(function(a){return g.extent([e.invert(c._getPositionAttr(e.scale(a[0]),f)),e.invert(c._getPositionAttr(e.scale(a[0]),f)+
f),e.invert(c._getPositionAttr(e.scale(a[1]),f)),e.invert(c._getPositionAttr(e.scale(a[1]),f)+f)])})};d.prototype._getPositionAttr=function(a,b){this._isVertical||(a-=b,b*=-1);switch(this._barAlignment){case "start":return a;case "end":return a-b;default:return a-b/2}};d.prototype._drawLabels=function(){var a=this,b=this._getDataToDraw(),c=this._getAttrToProjector(),d=this.datasets().some(function(d){return b.get(d).some(function(b,e){return null==b?!1:a._drawLabel(b,e,d,c)})});this._hideBarsIfAnyAreTooWide&&
d&&this.datasets().forEach(function(b){return a._labelConfig.get(b).labelArea.selectAll("g").remove()})};d.prototype._drawLabel=function(a,b,c,d){var e=this._labelConfig.get(c),f=e.labelArea,g=e.measurer;e=e.writer;var h=this.length().accessor,l=h(a,b,c);h=this.length().scale;var m=null!=h?h.scale(l):l,n=null!=h?h.scale(this.baselineValue()):this.baselineValue(),q={x:d.x(a,b,c),y:d.y(a,b,c)};h={width:d.width(a,b,c),height:d.height(a,b,c)};l=this._labelFormatter(l,a,b,c);g=g.measure(l);var p=this._shouldShowLabelOnBar(q,
h,g);q=this._calculateLabelProperties(q,h,g,p,this._isVertical?m<=n:m<n);m=q.containerDimensions;n=q.labelContainerOrigin;q=q.alignment;a=d.fill(a,b,c);f=this._createLabelContainer(f,n,p,a);e.write(l,m.width,m.height,{xAlign:q.x,yAlign:q.y},f.node());return this._isVertical?h.width<g.width:h.height<g.height};d.prototype._shouldShowLabelOnBar=function(a,b,e){if(this._labelsPosition===c.LabelsPosition.outside)return!1;a=this._isVertical?a.y:a.x;var f=this._isVertical?b.height:b.width;b=this._isVertical?
this.height():this.width();e=this._isVertical?e.height:e.width;var g=a+f;g>b?f=b-a:0>a&&(f=g);return e+d._LABEL_MARGIN_INSIDE_BAR<=f};d.prototype._calculateLabelProperties=function(a,b,e,f,g){function h(a){switch(a){case "topLeft":p=l._isVertical?"top":"left";t+=d._LABEL_MARGIN_INSIDE_BAR;w+=d._LABEL_MARGIN_INSIDE_BAR;break;case "center":w+=(n+q)/2;break;case "bottomRight":p=l._isVertical?"bottom":"right",t-=d._LABEL_MARGIN_INSIDE_BAR,w+=r-d._LABEL_MARGIN_INSIDE_BAR-q}}var l=this,m=this._isVertical?
a.y:a.x,n=this._isVertical?b.height:b.width,q=this._isVertical?e.height:e.width,p="center",r=n,t=m,w=m;if(f)switch(this._labelsPosition){case c.LabelsPosition.start:g?h("bottomRight"):h("topLeft");break;case c.LabelsPosition.middle:h("center");break;case c.LabelsPosition.end:g?h("topLeft"):h("bottomRight")}else g?(p=this._isVertical?"top":"left",r=n+d._LABEL_MARGIN_INSIDE_BAR+q,t-=d._LABEL_MARGIN_INSIDE_BAR+q,w-=d._LABEL_MARGIN_INSIDE_BAR+q):(p=this._isVertical?"bottom":"right",r=n+d._LABEL_MARGIN_INSIDE_BAR+
q,w+=n+d._LABEL_MARGIN_INSIDE_BAR);return{containerDimensions:{width:this._isVertical?b.width:r,height:this._isVertical?r:b.height},labelContainerOrigin:{x:this._isVertical?a.x:t,y:this._isVertical?t:a.y},labelOrigin:{x:this._isVertical?a.x+b.width/2-e.width/2:w,y:this._isVertical?w:a.y+b.height/2-e.height/2},alignment:{x:this._isVertical?"center":p,y:this._isVertical?p:"center"}}};d.prototype._createLabelContainer=function(a,b,c,d){a=a.append("g").attr("transform","translate("+b.x+", "+b.y+")");
c?(a.classed("on-bar-label",!0),c=1.6*v.Color.contrast("white",d)<v.Color.contrast("black",d),a.classed(c?"dark-label":"light-label",!0)):a.classed("off-bar-label",!0);return a};d.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._getAttrToProjector(),c=this.length().scale.scale(this.baselineValue()),d=this._isVertical?"height":"width";b[this._isVertical?"y":"x"]=function(){return c};b[d]=function(){return 0};a.push({attrToProjector:b,animator:this._getAnimator(y.Animator.RESET)})}a.push({attrToProjector:this._getAttrToProjector(),
animator:this._getAnimator(y.Animator.MAIN)});return a};d.prototype._generateAttrToProjector=function(){function b(a,b,c){return Math.abs(f-m(a,b,c))}var c=this,e=a.prototype._generateAttrToProjector.call(this),f=this.length().scale.scale(this.baselineValue()),g=this._isVertical?"y":"x",h=this._isVertical?"x":"y",l=x.Plot._scaledAccessor(this.position()),m=x.Plot._scaledAccessor(this.length()),n=e[d._BAR_THICKNESS_KEY],q=e.gap,p=null==q?n:function(a,b,c){return n(a,b,c)-q(a,b,c)};e.width=this._isVertical?
p:b;e.height=this._isVertical?b:p;e[g]=function(a,b,c){a=m(a,b,c);return a>f?f:a};e[h]=function(a,b,d){return c._getPositionAttr(l(a,b,d),n(a,b,d))};return e};d.prototype._updateThicknessAttr=function(){var a=this,b=this.position(),c=this.barEnd();null!=b&&null!=c?(this._fixedBarPixelThickness=!1,this.attr(d._BAR_THICKNESS_KEY,function(a,d,e){var f=b.accessor(a,d,e);a=c.accessor(a,d,e);f=b.scale?b.scale.scale(f):f;a=c.scale?c.scale.scale(a):a;return Math.abs(a-f)})):(this._fixedBarPixelThickness=
!0,this.attr(d._BAR_THICKNESS_KEY,function(){return a._barPixelThickness()}))};d.prototype._barPixelThickness=function(){return this._fixedBarPixelThickness?this._projectorsReady()?this._computeBarPixelThickness(this.position(),this.datasets(),this._isVertical?this.width():this.height()):0:0};d.prototype.entities=function(b){void 0===b&&(b=this.datasets());return this._projectorsReady()?a.prototype.entities.call(this,b):[]};d.prototype._entityBounds=function(a){return this._pixelBounds(a.datum,a.index,
a.dataset)};d.prototype._pixelBounds=function(a,b,c){var d=this._getAttrToProjector();return{x:d.x(a,b,c),y:d.y(a,b,c),width:d.width(a,b,c),height:d.height(a,b,c)}};d.prototype._pixelPoint=function(a,b,c){var d=this._pixelBounds(a,b,c);a=(this._isVertical?x.Plot._scaledAccessor(this.y()):x.Plot._scaledAccessor(this.x()))(a,b,c);b=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue());return this._pixelPointBar(a,b,d)};d.prototype._pixelPointBar=function(a,b,c){if(this._isVertical){var d=
c.x+c.width/2;a=a<=b?c.y:c.y+c.height}else d=a>=b?c.x+c.width:c.x,a=c.y+c.height/2;return{x:d,y:a}};d.prototype._uninstallScaleForKey=function(b,c){a.prototype._uninstallScaleForKey.call(this,b,c)};d.prototype._getDataToDraw=function(){var a=this,b=new v.Map,c=this._getAttrToProjector(),d=this.width(),e=this.height();this.datasets().forEach(function(f){var g=f.data().map(function(b,g){return a._isDatumOnScreen(c,d,e,b,g,f)?b:null});b.set(f,g)});return b};d.prototype._isDatumOnScreen=function(a,b,
c,d,e,f){var g=a.x(d,e,f),h=a.y(d,e,f),l=a.width(d,e,f);a=a.height(d,e,f);return v.Math.isValidNumber(g)&&v.Math.isValidNumber(h)&&v.Math.isValidNumber(l)&&v.Math.isValidNumber(a)?v.Math.boundsIntersects(g,h,l,a,b,c):!1};return d}(d.XYPlot);A._BAR_THICKNESS_RATIO=.95;A._SINGLE_BAR_DIMENSION_RATIO=.4;A._BAR_AREA_CLASS="bar-area";A._BAR_END_KEY="barEnd";A._BAR_THICKNESS_KEY="width";A._LABEL_AREA_CLASS="bar-label-text-area";A._LABEL_MARGIN_INSIDE_BAR=10;c.Bar=A},function(a,c,d){var b=this&&this.__extends||
function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),h=d(8),l=d(3),m=d(0);a=d(10);var n=d(22);c.TimeInterval=a.makeEnum("second minute hour day week month year".split(" "));c.TimeAxisOrientation=a.makeEnum(["top","bottom"]);c.TierLabelPosition=a.makeEnum(["between","center"]);d=function(a){function c(b,d){b=a.call(this,b,d)||this;b._maxTimeIntervalPrecision=null;b._tierLabelPositions=
[];b.addClass("time-axis");b.tickLabelPadding(5);b.axisConfigurations(c._DEFAULT_TIME_AXIS_CONFIGURATIONS);b.annotationFormatter(h.time("%a %b %d, %Y"));return b}b(c,a);c.prototype.tierLabelPositions=function(a){if(null==a)return this._tierLabelPositions;if(!a.every(function(a){return"between"===a.toLowerCase()||"center"===a.toLowerCase()}))throw Error("Unsupported position for tier labels");this._tierLabelPositions=a;this.redraw();return this};c.prototype.maxTimeIntervalPrecision=function(a){if(null==
a)return this._maxTimeIntervalPrecision;this._maxTimeIntervalPrecision=a;this.redraw();return this};c.prototype.currentAxisConfiguration=function(){return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex]};c.prototype.axisConfigurations=function(a){if(null!=a){this._possibleTimeAxisConfigurations=a;this._numTiers=m.Math.max(this._possibleTimeAxisConfigurations.map(function(a){return a.length}),0);this._isAnchored&&this._setupDomElements();a=this.tierLabelPositions();for(var b=[],
c=0;c<this._numTiers;c++)b.push(a[c]||"between");this.tierLabelPositions(b);this.redraw()}};c.prototype._getMostPreciseConfigurationIndex=function(){var a=this,b=this._possibleTimeAxisConfigurations.length;this._possibleTimeAxisConfigurations.forEach(function(c,d){d<b&&c.every(function(b){return a._checkTimeAxisTierConfiguration(b)})&&(b=d)});b===this._possibleTimeAxisConfigurations.length&&(m.Window.warn("zoomed out too far: could not find suitable interval to display labels"),--b);return b};c.prototype.orientation=
function(b){if(b&&("right"===b.toLowerCase()||"left"===b.toLowerCase()))throw Error(b+" is not a supported orientation for TimeAxis - only horizontal orientations are supported");return a.prototype.orientation.call(this,b)};c.prototype._computeHeight=function(){var a=this._measurer.measure().height;this._tierHeights=[];for(var b=0;b<this._numTiers;b++)this._tierHeights.push(a+this.tickLabelPadding()+("between"===this._tierLabelPositions[b]?0:this._maxLabelTickLength()));return f.sum(this._tierHeights)};
c.prototype._getIntervalLength=function(a){var b=this._scale.domain()[0];a=l.Time.timeIntervalToD3Time(a.interval).offset(b,a.step);return a>this._scale.domain()[1]?this.width():Math.abs(this._scale.scale(a)-this._scale.scale(b))};c.prototype._maxWidthForInterval=function(a){return this._measurer.measure(a.formatter(c._LONG_DATE)).width};c.prototype._checkTimeAxisTierConfiguration=function(a){if(null!=this._maxTimeIntervalPrecision){var b=c._SORTED_TIME_INTERVAL_INDEX[this._maxTimeIntervalPrecision],
d=c._SORTED_TIME_INTERVAL_INDEX[a.interval];if(null!=b&&null!=d&&d<b)return!1}b=this._maxWidthForInterval(a)+2*this.tickLabelPadding();return Math.min(this._getIntervalLength(a),this.width())>=b};c.prototype._sizeFromOffer=function(b,c){var d=a.prototype._sizeFromOffer.call(this,b,c);b=this._tierHeights.reduce(function(a,b){return a+b>d.height?a:a+b});c=this.margin()+(this.annotationsEnabled()?this.annotationTierCount()*this._annotationTierHeight():0);d.height=Math.min(d.height,b+c);return d};c.prototype._setup=
function(){a.prototype._setup.call(this);this._setupDomElements()};c.prototype._setupDomElements=function(){this.content().selectAll("."+c.TIME_AXIS_TIER_CLASS).remove();this._tierLabelContainers=[];this._tierMarkContainers=[];this._tierBaselines=[];this._tickLabelContainer.remove();this._baseline.remove();for(var a=0;a<this._numTiers;++a){var b=this.content().append("g").classed(c.TIME_AXIS_TIER_CLASS,!0);this._tierLabelContainers.push(b.append("g").classed(n.Axis.TICK_LABEL_CLASS+"-container",!0));
this._tierMarkContainers.push(b.append("g").classed(n.Axis.TICK_MARK_CLASS+"-container",!0));this._tierBaselines.push(b.append("line").classed("baseline",!0))}a=new g.SvgContext(this._tierLabelContainers[0].node());this._measurer=new g.CacheMeasurer(a)};c.prototype._getTickIntervalValues=function(a){return this._scale.tickInterval(a.interval,a.step)};c.prototype._getTickValues=function(){var a=this;return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex].reduce(function(b,c){return b.concat(a._getTickIntervalValues(c))},
[])};c.prototype._cleanTiers=function(){for(var a=0;a<this._tierLabelContainers.length;a++)this._tierLabelContainers[a].selectAll("."+n.Axis.TICK_LABEL_CLASS).remove(),this._tierMarkContainers[a].selectAll("."+n.Axis.TICK_MARK_CLASS).remove(),this._tierBaselines[a].style("visibility","hidden")};c.prototype._getTickValuesForConfiguration=function(a){a=this._scale.tickInterval(a.interval,a.step);var b=this._scale.domain(),c=a.map(function(a){return a.valueOf()});-1===c.indexOf(b[0].valueOf())&&a.unshift(b[0]);
-1===c.indexOf(b[1].valueOf())&&a.push(b[1]);return a};c.prototype._renderTierLabels=function(a,b,c){var d=this,e=this._getTickValuesForConfiguration(b),g=[];"between"===this._tierLabelPositions[c]&&1===b.step?e.map(function(a,b){b+1>=e.length||g.push(new Date((e[b+1].valueOf()-e[b].valueOf())/2+e[b].valueOf()))}):g=e;a=a.selectAll("."+n.Axis.TICK_LABEL_CLASS).data(g,function(a){return String(a.valueOf())});var h=a.enter().append("g").classed(n.Axis.TICK_LABEL_CLASS,!0);h.append("text");var l="center"===
this._tierLabelPositions[c]||1===b.step?0:this.tickLabelPadding();var m="bottom"===this.orientation()?f.sum(this._tierHeights.slice(0,c+1))-this.tickLabelPadding():"center"===this._tierLabelPositions[c]?this.height()-f.sum(this._tierHeights.slice(0,c))-this.tickLabelPadding()-this._maxLabelTickLength():this.height()-f.sum(this._tierHeights.slice(0,c))-this.tickLabelPadding();h=a.merge(h);var q=h.selectAll("text");0<q.size()&&q.attr("transform","translate("+l+","+m+")");a.exit().remove();h.attr("transform",
function(a){return"translate("+d._scale.scale(a)+",0)"});c="center"===this._tierLabelPositions[c]||1===b.step?"middle":"start";h.selectAll("text").text(b.formatter).style("text-anchor",c)};c.prototype._renderTickMarks=function(a,b){a=this._tierMarkContainers[b].selectAll("."+n.Axis.TICK_MARK_CLASS).data(a);var c=a.enter().append("line").classed(n.Axis.TICK_MARK_CLASS,!0).merge(a),d=this._generateTickMarkAttrHash(),e=this._tierHeights.slice(0,b).reduce(function(a,b){return a+b},0);"bottom"===this.orientation()?
(d.y1=e,d.y2=e+("center"===this._tierLabelPositions[b]?this.innerTickLength():this._tierHeights[b])):(d.y1=this.height()-e,d.y2=this.height()-(e+("center"===this._tierLabelPositions[b]?this.innerTickLength():this._tierHeights[b])));c.attrs(d);"bottom"===this.orientation()?(d.y1=e,d.y2=e+("center"===this._tierLabelPositions[b]?this.endTickLength():this._tierHeights[b])):(d.y1=this.height()-e,d.y2=this.height()-(e+("center"===this._tierLabelPositions[b]?this.endTickLength():this._tierHeights[b])));
f.select(c.nodes()[0]).attrs(d);f.select(c.nodes()[c.size()-1]).attrs(d);f.select(c.nodes()[0]).classed(n.Axis.END_TICK_MARK_CLASS,!0);f.select(c.nodes()[c.size()-1]).classed(n.Axis.END_TICK_MARK_CLASS,!0);a.exit().remove()};c.prototype._renderLabellessTickMarks=function(a){a=this._tickMarkContainer.selectAll("."+n.Axis.TICK_MARK_CLASS).data(a);var b=a.enter().append("line").classed(n.Axis.TICK_MARK_CLASS,!0).merge(a),c=this._generateTickMarkAttrHash();c.y2="bottom"===this.orientation()?this.tickLabelPadding():
this.height()-this.tickLabelPadding();b.attrs(c);a.exit().remove()};c.prototype._generateLabellessTicks=function(){return 1>this._mostPreciseConfigIndex?[]:this._getTickIntervalValues(this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex-1][0])};c.prototype.renderImmediately=function(){var a=this;this._mostPreciseConfigIndex=this._getMostPreciseConfigurationIndex();var b=this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex];this._cleanTiers();b.forEach(function(b,c){return a._renderTierLabels(a._tierLabelContainers[c],
b,c)});for(var c=b.map(function(b){return a._getTickValuesForConfiguration(b)}),d=0,e=0;e<Math.max(b.length,1);++e){var f=this._generateBaselineAttrHash();f.y1+="bottom"===this.orientation()?d:-d;f.y2=f.y1;this._tierBaselines[e].attrs(f).style("visibility","inherit");d+=this._tierHeights[e]}d=[];e=this._scale.domain();e=this._scale.scale(e[1])-this._scale.scale(e[0]);1.5*this._getIntervalLength(b[0])>=e&&(d=this._generateLabellessTicks());this._renderLabellessTickMarks(d);this._hideOverflowingTiers();
for(e=0;e<b.length;++e)this._renderTickMarks(c[e],e),this._hideOverlappingAndCutOffLabels(e);this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations();return this};c.prototype._hideOverflowingTiers=function(){var a=this,b=this.height(),d=0;this.content().selectAll("."+c.TIME_AXIS_TIER_CLASS).attr("visibility",function(c,e){d+=a._tierHeights[e];return d<=b?"inherit":"hidden"})};c.prototype._hideOverlappingAndCutOffLabels=function(a){var b=this,c=this.element().node().getBoundingClientRect(),
d=this._tierMarkContainers[a].selectAll("."+n.Axis.TICK_MARK_CLASS).filter(function(){var a=f.select(this).style("visibility");return"visible"===a||"inherit"===a}).nodes().map(function(a){return a.getBoundingClientRect()}),e;this._tierLabelContainers[a].selectAll("."+n.Axis.TICK_LABEL_CLASS).filter(function(){var a=f.select(this).style("visibility");return"visible"===a||"inherit"===a}).each(function(a,g){a=this.getBoundingClientRect();var h=f.select(this),l=d[g],n=d[g+1];g=null!=e&&m.DOM.clientRectsOverlap(a,
e);l=null!=l&&m.DOM.clientRectsOverlap(a,l);n=null!=n&&m.DOM.clientRectsOverlap(a,n);!(Math.floor(c.left)<=Math.ceil(a.left)&&Math.floor(c.top)<=Math.ceil(a.top)&&Math.floor(a.right)<=Math.ceil(c.left+b.width())&&Math.floor(a.bottom)<=Math.ceil(c.top+b.height()))||g||l||n?h.style("visibility","hidden"):(e=a,h.style("visibility","inherit"))})};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(n.Axis);d.TIME_AXIS_TIER_CLASS="time-axis-tier";
d._SORTED_TIME_INTERVAL_INDEX=(q={},q[c.TimeInterval.second]=0,q[c.TimeInterval.minute]=1,q[c.TimeInterval.hour]=2,q[c.TimeInterval.day]=3,q[c.TimeInterval.week]=4,q[c.TimeInterval.month]=5,q[c.TimeInterval.year]=6,q);d._DEFAULT_TIME_AXIS_CONFIGURATIONS=[[{interval:c.TimeInterval.second,step:1,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:5,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,
formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:10,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:15,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:30,formatter:h.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:1,formatter:h.time("%I:%M %p")},
{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:5,formatter:h.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:10,formatter:h.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:15,formatter:h.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,
step:30,formatter:h.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:1,formatter:h.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:3,formatter:h.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:6,formatter:h.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],
[{interval:c.TimeInterval.hour,step:12,formatter:h.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:h.time("%B %e, %Y")}],[{interval:c.TimeInterval.day,step:1,formatter:h.time("%a %e")},{interval:c.TimeInterval.month,step:1,formatter:h.time("%B %Y")}],[{interval:c.TimeInterval.day,step:1,formatter:h.time("%e")},{interval:c.TimeInterval.month,step:1,formatter:h.time("%B %Y")}],[{interval:c.TimeInterval.month,step:1,formatter:h.time("%B")},{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],
[{interval:c.TimeInterval.month,step:1,formatter:h.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],[{interval:c.TimeInterval.month,step:3,formatter:h.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],[{interval:c.TimeInterval.month,step:6,formatter:h.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:1,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:1,formatter:h.time("%y")}],
[{interval:c.TimeInterval.year,step:5,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:25,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:50,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:100,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:200,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:500,formatter:h.time("%Y")}],[{interval:c.TimeInterval.year,step:1E3,formatter:h.time("%Y")}]];d._LONG_DATE=new Date(9999,8,29,12,59,9999);c.Time=
d;var q},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(12);a=function(a){function c(){var b=a.call(this)||this;b._detachCallback=function(a){return b.remove(a)};return b}b(c,a);c.prototype.anchor=function(b){var c=this;b=f.coerceExternalD3(b);a.prototype.anchor.call(this,b);this._forEach(function(a){return a.anchor(c.element())});return this};
c.prototype.render=function(){this._forEach(function(a){return a.render()});return this};c.prototype.has=function(){throw Error("has() is not implemented on ComponentContainer");};c.prototype._adoptAndAnchor=function(a){a.parent(this);a.onDetach(this._detachCallback);this._isAnchored&&a.anchor(this.element())};c.prototype.remove=function(a){this.has(a)&&(a.offDetach(this._detachCallback),this._remove(a),a.detach(),this.redraw());return this};c.prototype._remove=function(){};c.prototype._forEach=function(){throw Error("_forEach() is not implemented on ComponentContainer");
};c.prototype.destroy=function(){a.prototype.destroy.call(this);this._forEach(function(a){return a.destroy()})};c.prototype.invalidateCache=function(){this._forEach(function(a){return a.invalidateCache()})};return c}(d(4).Component);c.ComponentContainer=a},function(a,c,d){function b(a){l.add(a);h.add(a);m||(m=!0,q.render())}var f=d(0);a=d(10);var g=d(39),h=new f.Set,l=new f.Set,m=!1,n=!1;c.Policy=a.makeEnum(["immediate","animationFrame","timeout"]);var q=new g.AnimationFrame;c.renderPolicy=function(){var a=
Plottable.RenderController.Policy.immediate;if(null!=a)switch(a){case c.Policy.immediate:q=new g.Immediate;break;case c.Policy.animationFrame:q=new g.AnimationFrame;break;case c.Policy.timeout:q=new g.Timeout;break;default:f.Window.warn("Unrecognized renderPolicy: "+a)}};c.registerToRender=function(a){n&&f.Window.warn("Registered to render while other components are flushing: request may be ignored");h.add(a);m||(m=!0,q.render())};c.registerToComputeLayoutAndRender=b;c.registerToComputeLayout=function(a){b(a)};
c.flush=function(){if(m){l.forEach(function(a){return a.computeLayout()});h.forEach(function(a){return a.render()});n=!0;var a=new f.Set;h.forEach(function(b){try{b.renderImmediately()}catch(r){window.setTimeout(function(){throw r;},0),a.add(b)}});l=new f.Set;h=a;n=m=!1}}},function(a,c,d){var b=d(1);c.circle=function(){return function(a){return b.symbol().type(b.symbolCircle).size(Math.PI*Math.pow(a/2,2))}};c.square=function(){return function(a){return b.symbol().type(b.symbolSquare).size(Math.pow(a,
2))}};c.cross=function(){return function(a){return b.symbol().type(b.symbolCross).size(5/9*Math.pow(a,2))}};c.diamond=function(){return function(a){return b.symbol().type(b.symbolDiamond).size(Math.tan(Math.PI/6)*Math.pow(a,2)/2)}};c.triangle=function(){return function(a){return b.symbol().type(b.symbolTriangle).size(Math.sqrt(3)*Math.pow(a/2,2))}};c.star=function(){return function(a){return b.symbol().type(b.symbolStar).size(.8908130915292852*Math.pow(a/2,2))}};var f=3*(1/Math.sqrt(12)/2+1);c.wye=
function(){return function(a){return b.symbol().type(b.symbolWye).size(f*Math.pow(a/2.4,2))}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(25),g=d(0),h=d(12),l=d(37);a=function(a){function c(){var b=a.call(this)||this;b._detectionRadius=3;b._resizable=!1;b._movable=!1;b._hasCorners=!0;b.addClass("drag-box-layer");b._dragInteraction=
new f.Drag;b._setUpCallbacks();b._dragInteraction.attachTo(b);b._dragStartCallbacks=new g.CallbackSet;b._dragCallbacks=new g.CallbackSet;b._dragEndCallbacks=new g.CallbackSet;return b}b(c,a);c.prototype._setUpCallbacks=function(){function a(a,b){0===m&&a.x===b.x&&a.y===b.y&&d.boxVisible(!1);d._dragEndCallbacks.callCallbacks(d.bounds())}function b(a,b){switch(m){case 0:g.x=b.x;g.y=b.y;break;case 1:e.bottom?g.y=b.y:e.top&&(f.y=b.y);e.right?g.x=b.x:e.left&&(f.x=b.x);break;case 2:a=b.x-h.x;var c=b.y-
h.y;f.x+=a;f.y+=c;g.x+=a;g.y+=c;h=b}d._setBounds({topLeft:f,bottomRight:g});d._xBoundsMode===l.PropertyMode.VALUE&&null!=d.xScale()&&d._setXExtent([d.xScale().invert(f.x),d.xScale().invert(g.x)]);d._yBoundsMode===l.PropertyMode.VALUE&&null!=d.yScale()&&d._setYExtent([d.yScale().invert(f.y),d.yScale().invert(g.y)]);d.render();d._dragCallbacks.callCallbacks(d.bounds())}function c(a){e=d._getResizingEdges(a);var b=d.bounds();b=b.topLeft.x<=a.x&&a.x<=b.bottomRight.x&&b.topLeft.y<=a.y&&a.y<=b.bottomRight.y;
d.boxVisible()&&(e.top||e.bottom||e.left||e.right)?m=1:d.boxVisible()&&d.movable()&&b?m=2:(m=0,d._setBounds({topLeft:a,bottomRight:a}),d._xBoundsMode===l.PropertyMode.VALUE&&null!=d.xScale()&&d._setXExtent([d.xScale().invert(a.x),d.xScale().invert(a.x)]),d._yBoundsMode===l.PropertyMode.VALUE&&null!=d.yScale()&&d._setYExtent([d.yScale().invert(a.y),d.yScale().invert(a.y)]),d.render());d.boxVisible(!0);b=d.bounds();f={x:b.topLeft.x,y:b.topLeft.y};g={x:b.bottomRight.x,y:b.bottomRight.y};h=a;d._dragStartCallbacks.callCallbacks(b)}
var d=this,e,f,g,h,m=0;this._dragInteraction.onDragStart(c);this._dragInteraction.onDrag(b);this._dragInteraction.onDragEnd(a);this._disconnectInteraction=function(){d._dragInteraction.offDragStart(c);d._dragInteraction.offDrag(b);d._dragInteraction.offDragEnd(a);d._dragInteraction.detach()}};c.prototype._setup=function(){function b(){return c._box.append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"})}var c=this;a.prototype._setup.call(this);this._detectionEdgeT=b().classed("drag-edge-tb",
!0);this._detectionEdgeB=b().classed("drag-edge-tb",!0);this._detectionEdgeL=b().classed("drag-edge-lr",!0);this._detectionEdgeR=b().classed("drag-edge-lr",!0);if(this._hasCorners){var d=function(){return c._box.append("circle").styles({opacity:0,fill:"pink","pointer-events":"visibleFill"})};this._detectionCornerTL=d().classed("drag-corner-tl",!0);this._detectionCornerTR=d().classed("drag-corner-tr",!0);this._detectionCornerBL=d().classed("drag-corner-bl",!0);this._detectionCornerBR=d().classed("drag-corner-br",
!0)}};c.prototype._getResizingEdges=function(a){var b={top:!1,bottom:!1,left:!1,right:!1};if(!this.resizable())return b;var c=this.bounds(),d=c.topLeft.y,e=c.bottomRight.y,f=c.topLeft.x;c=c.bottomRight.x;var g=this._detectionRadius;f-g<=a.x&&a.x<=c+g&&(b.top=d-g<=a.y&&a.y<=d+g,b.bottom=e-g<=a.y&&a.y<=e+g);d-g<=a.y&&a.y<=e+g&&(b.left=f-g<=a.x&&a.x<=f+g,b.right=c-g<=a.x&&a.x<=c+g);return b};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);if(this.boxVisible()){var b=
this.bounds(),c=b.topLeft.y,d=b.bottomRight.y,e=b.topLeft.x;b=b.bottomRight.x;this._detectionEdgeT.attrs({x1:e,y1:c,x2:b,y2:c,"stroke-width":2*this._detectionRadius});this._detectionEdgeB.attrs({x1:e,y1:d,x2:b,y2:d,"stroke-width":2*this._detectionRadius});this._detectionEdgeL.attrs({x1:e,y1:c,x2:e,y2:d,"stroke-width":2*this._detectionRadius});this._detectionEdgeR.attrs({x1:b,y1:c,x2:b,y2:d,"stroke-width":2*this._detectionRadius});this._hasCorners&&(this._detectionCornerTL.attrs({cx:e,cy:c,r:this._detectionRadius}),
this._detectionCornerTR.attrs({cx:b,cy:c,r:this._detectionRadius}),this._detectionCornerBL.attrs({cx:e,cy:d,r:this._detectionRadius}),this._detectionCornerBR.attrs({cx:b,cy:d,r:this._detectionRadius}))}return this};c.prototype.detectionRadius=function(){return this._detectionRadius};c.prototype.resizable=function(){return this._resizable};c.prototype._setResizableClasses=function(a){a&&this.enabled()?(this.addClass("x-resizable"),this.addClass("y-resizable")):(this.removeClass("x-resizable"),this.removeClass("y-resizable"))};
c.prototype.movable=function(){return this._movable};c.prototype._setMovableClass=function(){this.movable()&&this.enabled()?this.addClass("movable"):this.removeClass("movable")};c.prototype.onDragStart=function(a){this._dragStartCallbacks.add(a)};c.prototype.offDragStart=function(a){this._dragStartCallbacks.delete(a)};c.prototype.onDrag=function(a){this._dragCallbacks.add(a)};c.prototype.offDrag=function(a){this._dragCallbacks.delete(a)};c.prototype.onDragEnd=function(a){this._dragEndCallbacks.add(a)};
c.prototype.offDragEnd=function(a){this._dragEndCallbacks.delete(a)};c.prototype.dragInteraction=function(){return this._dragInteraction};c.prototype.enabled=function(a){if(null==a)return this._dragInteraction.enabled();this._dragInteraction.enabled(a);this._setResizableClasses(this.resizable());this._setMovableClass();return this};c.prototype.destroy=function(){var b=this;a.prototype.destroy.call(this);this._dragStartCallbacks.forEach(function(a){return b._dragCallbacks.delete(a)});this._dragCallbacks.forEach(function(a){return b._dragCallbacks.delete(a)});
this._dragEndCallbacks.forEach(function(a){return b._dragEndCallbacks.delete(a)});this._disconnectInteraction()};c.prototype.detach=function(){this._resetState();this._dragInteraction.detach();a.prototype.detach.call(this);return this};c.prototype.anchor=function(b){b=h.coerceExternalD3(b);this._dragInteraction.attachTo(this);a.prototype.anchor.call(this,b);return this};c.prototype._resetState=function(){this.bounds({topLeft:{x:0,y:0},bottomRight:{x:0,y:0}})};return c}(d(43).SelectionBoxLayer);c.DragBoxLayer=
a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(18);a=function(a){function c(){return a.call(this,"path","line")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("fill","none")};c.prototype.getVisualPrimitiveAtIndex=function(){return a.prototype.getVisualPrimitiveAtIndex.call(this,0)};return c}(d(9).SVGDrawer);c.LineSVGDrawer=
a;var g=["opacity","stroke-opacity","stroke-width","stroke"];c.makeLineCanvasDrawStep=function(a){return function(b,c,d){d=f.resolveAttributes(d,g,c[0],0);f.renderLine(b,a(),c[0],d)}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(18);a=function(a){function c(b){void 0===b&&(b="");var c=a.call(this,"rect","")||this;c._rootClassName=
b;c._root.classed(c._rootClassName,!0);return c}b(c,a);return c}(d(9).SVGDrawer);c.RectangleSVGDrawer=a;var g=["x","y","width","height"];c.RectangleCanvasDrawStep=function(a,b,c){a.save();b.forEach(function(b,d){null!=b&&(b=f.resolveAttributesSubsetWithStyles(c,g,b,d),a.beginPath(),a.rect(b.x,b.y,b.width,b.height),f.renderPathWithStyle(a,b))});a.restore()};a=function(a){function d(b){return a.call(this,b,c.RectangleCanvasDrawStep)||this}b(d,a);return d}(f.CanvasDrawer);c.RectangleCanvasDrawer=a},
function(a,c,d){function b(a){g.SHOW_WARNINGS&&console.warn(a)}function f(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return 0===b?(a(c),-1):window.setTimeout(a,b,c)}var g=d(23);c.warn=b;c.setTimeout=f;c.debounce=function(a,b,c){function d(){b.apply(c,g)}var e=null,g=[];return function(){g=Array.prototype.slice.call(arguments);clearTimeout(e);e=f(d,a)}};c.deprecated=function(a,c,d){void 0===d&&(d="");b("Method "+a+" has been deprecated in version "+c+". Please refer to the release notes. "+
d)}},function(a,c){a=function(){function a(a){this.ruler=null!=a.createRuler?a.createRuler():a}a.prototype.measure=function(b){void 0===b&&(b=a.HEIGHT_TEXT);return this.ruler(b)};return a}();a.HEIGHT_TEXT="bdpql";c.AbstractMeasurer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(32));b(d(74));b(d(75));b(d(41));b(d(42));b(d(76));b(d(77));b(d(78));b(d(79));b(d(43));b(d(80));b(d(81));b(d(82))},function(a,c,d){var b=d(0);a=function(){function a(a,c){void 0===a&&(a=
[]);void 0===c&&(c={});this._updateId=0;this._data=a;this._metadata=c;this._callbacks=new b.CallbackSet}a.prototype.onUpdate=function(a){this._callbacks.add(a);return this};a.prototype.offUpdate=function(a){this._callbacks.delete(a);return this};a.prototype.data=function(a){if(null==a)return this._data;this._data=a;this._dispatchUpdate();return this};a.prototype.metadata=function(a){if(null==a)return this._metadata;this._metadata=a;this._dispatchUpdate();return this};a.prototype.updateId=function(){return this._updateId};
a.prototype._dispatchUpdate=function(){this._updateId++;this._callbacks.callCallbacks(this)};return a}();c.Dataset=a},function(a,c,d){var b=d(0),f=d(30);a=function(){function a(){}a.prototype.render=function(){f.flush()};return a}();c.Immediate=a;a=function(){function a(){}a.prototype.render=function(){b.DOM.requestAnimationFramePolyfill(f.flush)};return a}();c.AnimationFrame=a;a=function(){function a(){this._timeoutMsec=b.DOM.SCREEN_REFRESH_RATE_MILLISECONDS}a.prototype.render=function(){setTimeout(f.flush,
this._timeoutMsec)};return a}();c.Timeout=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._keyPressCallbacks={};b._keyReleaseCallbacks={};b._mouseMoveCallback=function(){return!1};b._downedKeys=new g.Set;b._keyDownCallback=function(a,c){return b._handleKeyDownEvent(a,
c)};b._keyUpCallback=function(a){return b._handleKeyUpEvent(a)};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._positionDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._positionDispatcher.onMouseMove(this._mouseMoveCallback);this._keyDispatcher=f.Key.getDispatcher();this._keyDispatcher.onKeyDown(this._keyDownCallback);this._keyDispatcher.onKeyUp(this._keyUpCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._positionDispatcher.offMouseMove(this._mouseMoveCallback);
this._positionDispatcher=null;this._keyDispatcher.offKeyDown(this._keyDownCallback);this._keyDispatcher.offKeyUp(this._keyUpCallback);this._keyDispatcher=null};c.prototype._handleKeyDownEvent=function(a,b){var c=this._translateToComponentSpace(this._positionDispatcher.lastMousePosition());this._isInsideComponent(c)&&!b.repeat&&(this._keyPressCallbacks[a]&&this._keyPressCallbacks[a].callCallbacks(a),this._downedKeys.add(a))};c.prototype._handleKeyUpEvent=function(a){this._downedKeys.has(a)&&this._keyReleaseCallbacks[a]&&
this._keyReleaseCallbacks[a].callCallbacks(a);this._downedKeys.delete(a)};c.prototype.onKeyPress=function(a,b){this._keyPressCallbacks[a]||(this._keyPressCallbacks[a]=new g.CallbackSet);this._keyPressCallbacks[a].add(b);return this};c.prototype.offKeyPress=function(a,b){this._keyPressCallbacks[a].delete(b);0===this._keyPressCallbacks[a].size&&delete this._keyPressCallbacks[a];return this};c.prototype.onKeyRelease=function(a,b){this._keyReleaseCallbacks[a]||(this._keyReleaseCallbacks[a]=new g.CallbackSet);
this._keyReleaseCallbacks[a].add(b);return this};c.prototype.offKeyRelease=function(a,b){this._keyReleaseCallbacks[a].delete(b);0===this._keyReleaseCallbacks[a].size&&delete this._keyReleaseCallbacks[a];return this};return c}(d(15).Interaction);c.Key=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=function(a){function c(b){void 0===
b&&(b=[]);var c=a.call(this)||this;c._components=[];c.addClass("component-group");b.forEach(function(a){return c.append(a)});return c}b(c,a);c.prototype._forEach=function(a){this.components().forEach(a)};c.prototype.has=function(a){return 0<=this._components.indexOf(a)};c.prototype.requestedSpace=function(a,b){var c=this._components.map(function(c){return c.requestedSpace(a,b)});return{minWidth:f.Math.max(c,function(a){return a.minWidth},0),minHeight:f.Math.max(c,function(a){return a.minHeight},0)}};
c.prototype.computeLayout=function(b,c,d){var e=this;a.prototype.computeLayout.call(this,b,c,d);this._forEach(function(a){a.computeLayout({x:0,y:0},e.width(),e.height())});return this};c.prototype._sizeFromOffer=function(a,b){return{width:a,height:b}};c.prototype.fixedWidth=function(){return this._components.every(function(a){return a.fixedWidth()})};c.prototype.fixedHeight=function(){return this._components.every(function(a){return a.fixedHeight()})};c.prototype.components=function(){return this._components.slice()};
c.prototype.append=function(a){null==a||this.has(a)||(a.detach(),this._components.push(a),this._adoptAndAnchor(a),this.redraw());return this};c.prototype._remove=function(a){a=this._components.indexOf(a);0<=a&&this._components.splice(a,1)};return c}(d(29).ComponentContainer);c.Group=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};d(0);
a=d(4);var f;(function(a){a[a.VALUE=0]="VALUE";a[a.PIXEL=1]="PIXEL"})(f||(f={}));a=function(a){function c(b){var d=a.call(this)||this;d._mode=f.VALUE;if(b!==c.ORIENTATION_VERTICAL&&b!==c.ORIENTATION_HORIZONTAL)throw Error(b+" is not a valid orientation for GuideLineLayer");d._orientation=b;d._overflowHidden=!0;d.addClass("guide-line-layer");d._isVertical()?d.addClass("vertical"):d.addClass("horizontal");d._scaleUpdateCallback=function(){d._syncPixelPositionAndValue();d.render()};return d}b(c,a);c.prototype._setup=
function(){a.prototype._setup.call(this);this._guideLine=this.content().append("line").classed("guide-line",!0)};c.prototype._sizeFromOffer=function(a,b){return{width:a,height:b}};c.prototype._isVertical=function(){return this._orientation===c.ORIENTATION_VERTICAL};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);null!=this.scale()&&(this._isVertical()?this.scale().range([0,
this.width()]):this.scale().range([this.height(),0]));return this};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._syncPixelPositionAndValue();this._guideLine.attrs({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition()});return this};c.prototype._syncPixelPositionAndValue=function(){null!=this.scale()&&(this._mode===
f.VALUE&&null!=this.value()?this._pixelPosition=this.scale().scale(this.value()):this._mode===f.PIXEL&&null!=this.pixelPosition()&&(this._value=this.scale().invert(this.pixelPosition())))};c.prototype._setPixelPositionWithoutChangingMode=function(a){this._pixelPosition=a;null!=this.scale()&&(this._value=this.scale().invert(this.pixelPosition()));this.render()};c.prototype.scale=function(a){if(null==a)return this._scale;var b=this._scale;null!=b&&b.offUpdate(this._scaleUpdateCallback);this._scale=
a;this._scale.onUpdate(this._scaleUpdateCallback);this._syncPixelPositionAndValue();this.redraw();return this};c.prototype.value=function(a){if(null==a)return this._value;this._value=a;this._mode=f.VALUE;this._syncPixelPositionAndValue();this.render();return this};c.prototype.pixelPosition=function(){return this._pixelPosition};c.prototype.destroy=function(){a.prototype.destroy.call(this);null!=this.scale()&&this.scale().offUpdate(this._scaleUpdateCallback)};return c}(a.Component);a.ORIENTATION_VERTICAL=
"vertical";a.ORIENTATION_HORIZONTAL="horizontal";c.GuideLineLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=d(4);var g;(function(a){a[a.VALUE=0]="VALUE";a[a.PIXEL=1]="PIXEL"})(g=c.PropertyMode||(c.PropertyMode={}));a=function(a){function c(){var b=a.call(this)||this;b._boxVisible=!1;b._boxBounds={topLeft:{x:0,y:0},bottomRight:{x:0,
y:0}};b._xBoundsMode=g.PIXEL;b._yBoundsMode=g.PIXEL;b.addClass("selection-box-layer");b._adjustBoundsCallback=function(){b.render()};b._overflowHidden=!0;b._xExtent=[void 0,void 0];b._yExtent=[void 0,void 0];return b}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);this._box=this.content().append("g").classed("selection-box",!0).remove();this._boxArea=this._box.append("rect").classed("selection-area",!0)};c.prototype._sizeFromOffer=function(a,b){return{width:a,height:b}};c.prototype.bounds=
function(a){if(null==a)return this._getBounds();this._setBounds(a);this._yBoundsMode=this._xBoundsMode=g.PIXEL;this.render();return this};c.prototype._setBounds=function(a){this._boxBounds={topLeft:{x:Math.min(a.topLeft.x,a.bottomRight.x),y:Math.min(a.topLeft.y,a.bottomRight.y)},bottomRight:{x:Math.max(a.topLeft.x,a.bottomRight.x),y:Math.max(a.topLeft.y,a.bottomRight.y)}}};c.prototype._getBounds=function(){return{topLeft:{x:this._xBoundsMode===g.PIXEL?this._boxBounds.topLeft.x:null==this._xScale?
0:Math.min(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===g.PIXEL?this._boxBounds.topLeft.y:null==this._yScale?0:Math.min(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))},bottomRight:{x:this._xBoundsMode===g.PIXEL?this._boxBounds.bottomRight.x:null==this._xScale?0:Math.max(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===g.PIXEL?this._boxBounds.bottomRight.y:null==
this._yScale?0:Math.max(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))}}};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);if(this._boxVisible){var b=this.bounds(),c=b.topLeft.y,d=b.bottomRight.y,e=b.topLeft.x;b=b.bottomRight.x;if(!(f.Math.isValidNumber(c)&&f.Math.isValidNumber(d)&&f.Math.isValidNumber(e)&&f.Math.isValidNumber(b)))throw Error("bounds have not been properly set");this._boxArea.attrs({x:e,y:c,width:b-e,height:d-c});this.content().node().appendChild(this._box.node())}else this._box.remove();
return this};c.prototype.boxVisible=function(a){if(null==a)return this._boxVisible;this._boxVisible=a;this.render();return this};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.xScale=function(a){if(null==a)return this._xScale;null!=this._xScale&&this._xScale.offUpdate(this._adjustBoundsCallback);this._xScale=a;this._xBoundsMode=g.VALUE;this._xScale.onUpdate(this._adjustBoundsCallback);this.render();return this};c.prototype.yScale=function(a){if(null==
a)return this._yScale;null!=this._yScale&&this._yScale.offUpdate(this._adjustBoundsCallback);this._yScale=a;this._yBoundsMode=g.VALUE;this._yScale.onUpdate(this._adjustBoundsCallback);this.render();return this};c.prototype.xExtent=function(){return this._getXExtent()};c.prototype._getXExtent=function(){return this._xBoundsMode===g.VALUE?this._xExtent:null==this._xScale?[void 0,void 0]:[this._xScale.invert(this._boxBounds.topLeft.x),this._xScale.invert(this._boxBounds.bottomRight.x)]};c.prototype._setXExtent=
function(a){this._xExtent=a};c.prototype.yExtent=function(){return this._getYExtent()};c.prototype._getYExtent=function(){return this._yBoundsMode===g.VALUE?this._yExtent:null==this._yScale?[void 0,void 0]:[this._yScale.invert(this._boxBounds.topLeft.y),this._yScale.invert(this._boxBounds.bottomRight.y)]};c.prototype._setYExtent=function(a){this._yExtent=a};c.prototype.destroy=function(){a.prototype.destroy.call(this);null!=this._xScale&&this.xScale().offUpdate(this._adjustBoundsCallback);null!=this._yScale&&
this.yScale().offUpdate(this._adjustBoundsCallback)};return c}(a.Component);c.SelectionBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"path","arc fill")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("stroke","none")};return c}(d(9).SVGDrawer);c.ArcSVGDrawer=
a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"path","arc outline")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("fill","none")};return c}(d(9).SVGDrawer);c.ArcOutlineSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(18);a=function(a){function c(){return a.call(this,"path","area")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("stroke","none")};c.prototype.getVisualPrimitiveAtIndex=function(){return a.prototype.getVisualPrimitiveAtIndex.call(this,0)};return c}(d(9).SVGDrawer);c.AreaSVGDrawer=a;var g=["fill","opacity","fill-opacity"];c.makeAreaCanvasDrawStep=function(a){return function(b,
c,d){d=f.resolveAttributes(d,g,c[0],0);f.renderArea(b,a(),c[0],d)}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"line","")||this}b(c,a);return c}(d(9).SVGDrawer);c.SegmentSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(86),g=d(18);a=function(a){function c(){return a.call(this,"path","symbol")||this}b(c,a);return c}(d(9).SVGDrawer);c.SymbolSVGDrawer=a;c.makeSymbolCanvasDrawStep=function(a,b,c){var d=this;return function(e,h,l){var m=e.canvas,n=m.clientWidth;m=m.clientHeight;for(var q=new f.CanvasBuffer(0,0),p=b(),t=c(),A=null,B=null,H=null,E=0;E<h.length;E++){var I=h[E];if(null!=I){var D=g.resolveAttributesSubsetWithStyles(l,["x",
"y"],I,E),C=t(I,E,a),F=D.x,J=D.y;if(0<=F+C&&F-C<=n&&0<=J+C&&J-C<=m){a:if(F=g.ContextStyleAttrs,null==A)F=!1;else{for(J=0;J<F.length;J++){var K=F[J];if(A[K]!=D[K]){F=!1;break a}}F=!0}I=p(I,E,d._dataset);F&&H==C&&B==I||(A=g.getStrokeWidth(D),A=C+A+1,(A>q.screenWidth||A>q.screenHeight)&&q.resize(A,A,!0),q.clear(),A=q.ctx,A.beginPath(),I(C).context(A)(null),A.closePath(),g.renderPathWithStyle(A,D),B=I,H=C,A=D);q.blitCenter(e,D.x,D.y)}}}}}},function(a,c,d){function b(a){return a instanceof r?a:a instanceof
Date?h(a.valueOf()):a instanceof t.Scale?f(a):a instanceof p.Dataset?g(a):q(a)?m(a):Array.isArray(a)?l(a):h(a)}function f(a){a={domain:a.domain(),range:a.range(),updateId:a.updateId(),ref:h(a)};return m(a)}function g(a){a={ref:h(a),updateId:a.updateId()};return m(a)}function h(a){return new v(a)}function l(a){return new w(a.map(function(a){return b(a)}))}function m(a){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return new y(c)}var n=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},q=d(128),p=d(38),t=d(17);c.sign=b;c.signScale=f;c.signDataset=g;c.signRef=h;c.signArray=l;c.signObj=m;var r=function(){function a(){}a.prototype.isDifferent=function(a){return a instanceof this.constructor?this.isSignatureDifferent(a):!0};return a}();c.Signature=r;var w=function(a){function b(b){var c=a.call(this)||this;c.array=b;return c}n(b,a);b.prototype.isSignatureDifferent=
function(a){if(a.array.length!==this.array.length)return!0;for(var b=0;b<this.array.length;b++)if(this.array[b].isDifferent(a.array[b]))return!0;return!1};return b}(r);c.ArraySignature=w;var v=function(a){function b(b){var c=a.call(this)||this;c.ref=b;return c}n(b,a);b.prototype.isSignatureDifferent=function(a){return this.ref!==a.ref};return b}(r);c.ReferenceSignature=v;var y=function(a){function b(b){var c=a.call(this)||this;c.obj=b;return c}n(b,a);b.prototype.isSignatureDifferent=function(a){var b=
Object.keys(this.obj),c=Object.keys(a.obj);if(b.length!==c.length)return!0;for(c=0;c<b.length;c++){var d=b[c];if(!a.obj.hasOwnProperty(d)||this.obj[d].isDifferent(a.obj[d]))return!0}return!1};return b}(r);c.ObjectSignature=y},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(3),h=d(0),l=d(14),m=d(46),n=d(6),q=d(33),p=d(19);a=d(53);
var t=d(2);d=function(a){function c(){var b=a.call(this)||this;b.addClass("area-plot");b.y0(0);b.attr("fill-opacity",.25);b.attr("fill",(new g.Color).range()[0]);b._lineDrawers=new h.Map;return b}b(c,a);c.prototype.y=function(b,d){if(null==b)return a.prototype.y.call(this);null==d?a.prototype.y.call(this,b):a.prototype.y.call(this,b,d);null!=d&&(b=this.y0().accessor,null!=b&&this._bindProperty(c._Y0_KEY,b,d),this._updateYScale());return this};c.prototype.y0=function(a){if(null==a)return this._propertyBindings.get(c._Y0_KEY);
var b=this.y();this._bindProperty(c._Y0_KEY,a,b&&b.scale);this._updateYScale();this.render();return this};c.prototype._onDatasetUpdate=function(){a.prototype._onDatasetUpdate.call(this);this._updateYScale()};c.prototype._addDataset=function(b){var c=this;this._lineDrawers.set(b,new l.ProxyDrawer(function(){return new q.LineSVGDrawer},function(a){return new l.CanvasDrawer(a,q.makeLineCanvasDrawStep(function(){var a=t.Plot._scaledAccessor(c.x()),d=t.Plot._scaledAccessor(c.y());return c._d3LineFactory(b,
a,d)}))}));a.prototype._addDataset.call(this,b);return this};c.prototype._createNodesForDataset=function(b){a.prototype._createNodesForDataset.call(this,b);b=this._lineDrawers.get(b);"svg"===this.renderer()?b.useSVG(this._renderArea):b.useCanvas(this._canvas);return b};c.prototype._removeDatasetNodes=function(b){a.prototype._removeDatasetNodes.call(this,b);this._lineDrawers.get(b).remove()};c.prototype._additionalPaint=function(){var a=this,b=this._generateLineDrawSteps(),c=this._getDataToDraw();
this.datasets().forEach(function(d){var e=t.Plot.applyDrawSteps(b,d);a._lineDrawers.get(d).draw(c.get(d),e)})};c.prototype._generateLineDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._generateLineAttrToProjector();b.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction());a.push({attrToProjector:b,animator:this._getAnimator(p.Animator.RESET)})}a.push({attrToProjector:this._generateLineAttrToProjector(),animator:this._getAnimator(p.Animator.MAIN)});
return a};c.prototype._generateLineAttrToProjector=function(){var a=this._getAttrToProjector();a.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y()));return a};c.prototype._createDrawer=function(a){var b=this;return new n.ProxyDrawer(function(){return new m.AreaSVGDrawer},function(c){return new l.CanvasDrawer(c,m.makeAreaCanvasDrawStep(function(){var c=t.Plot._scaledAccessor(b.x()),d=t.Plot._scaledAccessor(b.y()),e=t.Plot._scaledAccessor(b.y0());return b._createAreaGenerator(c,
d,e,b._createDefinedProjector(c,d),a)}))})};c.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._getAttrToProjector();b.d=this._constructAreaProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction(),t.Plot._scaledAccessor(this.y0()));a.push({attrToProjector:b,animator:this._getAnimator(p.Animator.RESET)})}a.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(p.Animator.MAIN)});return a};c.prototype._updateYScale=function(){var a=
this.getExtentsForProperty("y0");a=h.Array.flatten(a);a=h.Array.uniq(a);var b=1===a.length?a[0]:null;a=(a=this.y())&&a.scale;null!=a&&(null!=this._constantBaselineValueProvider&&(a.removePaddingExceptionsProvider(this._constantBaselineValueProvider),this._constantBaselineValueProvider=null),null!=b&&(this._constantBaselineValueProvider=function(){return[b]},a.addPaddingExceptionsProvider(this._constantBaselineValueProvider)))};c.prototype._getResetYFunction=function(){return t.Plot._scaledAccessor(this.y0())};
c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);b.d=this._constructAreaProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y()),t.Plot._scaledAccessor(this.y0()));return b};c.prototype.selections=function(b){var c=this;void 0===b&&(b=this.datasets());if("canvas"===this.renderer())return f.selectAll();var d=a.prototype.selections.call(this,b).nodes();b.map(function(a){return c._lineDrawers.get(a)}).filter(function(a){return null!=a}).forEach(function(a){return d.push.apply(d,
a.getVisualPrimitives())});return f.selectAll(d)};c.prototype._constructAreaProjector=function(a,b,c){var d=this,e=this._createDefinedProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y()));return function(f,g,h){return d._createAreaGenerator(a,b,c,e,h)(f)}};c.prototype._createDefinedProjector=function(a,b){return function(c,d,e){var f=a(c,d,e);c=b(c,d,e);return h.Math.isValidNumber(f)&&h.Math.isValidNumber(c)}};c.prototype._createAreaGenerator=function(a,b,c,d,e){var g=this._getCurveFactory();
return f.area().x(function(b,c){return a(b,c,e)}).y1(function(a,c){return b(a,c,e)}).y0(function(a,b){return c(a,b,e)}).curve(g).defined(function(a,b){return d(a,b,e)})};return c}(a.Line);d._Y0_KEY="y0";c.Area=d},function(a,c){a=c.Animator||(c.Animator={});a.MAIN="main";a.RESET="reset"},function(a,c){var b=function(){function a(){var a=this;this.translate=this.scale=0;this.cachedDomain=[null,null];this.lastSeenDomain=[null,null];this.updateDomain=function(b){a.lastSeenDomain=b.getTransformationDomain();
var c=b.scaleTransformation(a.cachedDomain[1])-b.scaleTransformation(a.cachedDomain[0]),d=b.scaleTransformation(a.lastSeenDomain[1])-b.scaleTransformation(a.lastSeenDomain[0]);a.scale=c/d||1;a.translate=b.scaleTransformation(a.cachedDomain[0])-b.scaleTransformation(a.lastSeenDomain[0])*a.scale||0}}a.prototype.reset=function(){this.scale=1;this.translate=0;this.cachedDomain=this.lastSeenDomain};a.prototype.setDomain=function(a){this.cachedDomain=a.getTransformationDomain()};return a}();a=function(){function a(c,
d){var e=this;this.renderCallback=c;this.applyTransformCallback=d;this.domainTransformX=new b;this.domainTransformY=new b;this.renderDeferred=function(){e.applyTransform();clearTimeout(e.timeoutToken);e.timeoutToken=setTimeout(function(){e.renderCallback()},a.DEFERRED_RENDERING_DELAY)}}a.prototype.setDomains=function(a,b){a&&this.domainTransformX.setDomain(a);b&&this.domainTransformY.setDomain(b);this.renderDeferred()};a.prototype.updateDomains=function(a,b){a&&this.domainTransformX.updateDomain(a);
b&&this.domainTransformY.updateDomain(b);this.renderDeferred()};a.prototype.resetTransforms=function(){this.domainTransformX.reset();this.domainTransformY.reset();this.applyTransform()};a.prototype.applyTransform=function(){this.applyTransformCallback(this.domainTransformX.translate,this.domainTransformY.translate,this.domainTransformX.scale,this.domainTransformY.scale)};return a}();a.DEFERRED_RENDERING_DELAY=200;c.DeferredRenderer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(7),h=d(14),l=d(6),m=d(33),n=d(3),q=d(11),p=d(0);a=d(10);var t=d(19),r=d(2);d=d(16);var w={linear:f.curveLinear,linearClosed:f.curveLinearClosed,step:f.curveStep,stepBefore:f.curveStepBefore,stepAfter:f.curveStepAfter,basis:f.curveBasis,basisOpen:f.curveBasisOpen,basisClosed:f.curveBasisClosed,bundle:f.curveBundle,cardinal:f.curveCardinal,cardinalOpen:f.curveCardinalOpen,
cardinalClosed:f.curveCardinalClosed,monotone:f.curveMonotoneX};c.CurveName=a.makeEnum("linear linearClosed step stepBefore stepAfter basis basisOpen basisClosed bundle cardinal cardinalOpen cardinalClosed monotone".split(" "));d=function(a){function c(){var b=a.call(this)||this;b._curve="linear";b._autorangeSmooth=!1;b._croppedRenderingEnabled=!0;b._collapseDenseVerticalLinesEnabled=!1;b._downsamplingEnabled=!1;b.addClass("line-plot");var c=new g.Easing;c.stepDuration(r.Plot._ANIMATION_MAX_DURATION);
c.easingMode("expInOut");c.maxTotalDuration(r.Plot._ANIMATION_MAX_DURATION);b.animator(t.Animator.MAIN,c);b.attr("stroke",(new n.Color).range()[0]);b.attr("stroke-width","2px");return b}b(c,a);c.prototype.x=function(b,c,d){if(null==b)return a.prototype.x.call(this);a.prototype.x.call(this,b,c,d);this._setScaleSnapping();return this};c.prototype.y=function(b,c,d){if(null==b)return a.prototype.y.call(this);a.prototype.y.call(this,b,c,d);this._setScaleSnapping();return this};c.prototype.autorangeMode=
function(b){if(null==b)return a.prototype.autorangeMode.call(this);a.prototype.autorangeMode.call(this,b);this._setScaleSnapping();return this};c.prototype.autorangeSmooth=function(){return this._autorangeSmooth};c.prototype._setScaleSnapping=function(){"x"===this.autorangeMode()&&this.x()&&this.x().scale&&this.x().scale instanceof q.QuantitativeScale&&this.x().scale.snappingDomainEnabled(!this.autorangeSmooth());"y"===this.autorangeMode()&&this.y()&&this.y().scale&&this.y().scale instanceof q.QuantitativeScale&&
this.y().scale.snappingDomainEnabled(!this.autorangeSmooth())};c.prototype.curve=function(a){if(null==a)return this._curve;this._curve=a;this.render();return this};c.prototype.downsamplingEnabled=function(){return this._downsamplingEnabled};c.prototype.croppedRenderingEnabled=function(a){if(null==a)return this._croppedRenderingEnabled;this._croppedRenderingEnabled=a;this.render();return this};c.prototype.collapseDenseLinesEnabled=function(a){if(null==a)return this._collapseDenseVerticalLinesEnabled;
this._collapseDenseVerticalLinesEnabled=a;this.render();return this};c.prototype._createDrawer=function(a){var b=this;return new l.ProxyDrawer(function(){return new m.LineSVGDrawer},function(c){return new h.CanvasDrawer(c,m.makeLineCanvasDrawStep(function(){return b._d3LineFactory(a)}))})};c.prototype.getExtentsForProperty=function(b){var c=a.prototype.getExtentsForProperty.call(this,b);if(!this._autorangeSmooth||this.autorangeMode()!==b||"x"!==this.autorangeMode()&&"y"!==this.autorangeMode())return c;
b=this._getEdgeIntersectionPoints();var d="y"===this.autorangeMode()?b.left.concat(b.right).map(function(a){return a.y}):b.top.concat(b.bottom).map(function(a){return a.x});return c.map(function(a){return f.extent(f.merge([a,d]))})};c.prototype._getEdgeIntersectionPoints=function(){var a=this;if(!(this.y().scale instanceof q.QuantitativeScale&&this.x().scale instanceof q.QuantitativeScale))return{left:[],right:[],top:[],bottom:[]};var b=this.y().scale,c=this.x().scale,d={left:[],right:[],top:[],bottom:[]},
e=c.scale(c.domain()[0]),f=c.scale(c.domain()[1]),g=b.scale(b.domain()[0]),h=b.scale(b.domain()[1]);this.datasets().forEach(function(l){for(var m=l.data(),n,q,p,t,r,w,v,x=1;x<m.length;x++)t=w||c.scale(a.x().accessor(m[x-1],x-1,l)),r=v||b.scale(a.y().accessor(m[x-1],x-1,l)),w=c.scale(a.x().accessor(m[x],x,l)),v=b.scale(a.y().accessor(m[x],x,l)),t<e===e<=w&&(n=e-t,q=w-t,p=v-r,n=n*p/q,d.left.push({x:e,y:b.invert(r+n)})),t<f===f<=w&&(n=f-t,q=w-t,p=v-r,n=n*p/q,d.right.push({x:f,y:b.invert(r+n)})),r<h===
h<=v&&(q=w-t,n=h-r,p=v-r,n=n*q/p,d.top.push({x:c.invert(t+n),y:h})),r<g===g<=v&&(q=w-t,n=g-r,p=v-r,n=n*q/p,d.bottom.push({x:c.invert(t+n),y:g}))});return d};c.prototype._getResetYFunction=function(){var a=this.y().scale.domain(),b=Math.max(a[0],a[1]);a=Math.min(a[0],a[1]);b=0>b&&b||0<a&&a||0;var c=this.y().scale.scale(b);return function(){return c}};c.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._getAttrToProjector();b.d=this._constructLineProjector(r.Plot._scaledAccessor(this.x()),
this._getResetYFunction());a.push({attrToProjector:b,animator:this._getAnimator(t.Animator.RESET)})}a.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(t.Animator.MAIN)});return a};c.prototype._generateAttrToProjector=function(){var b=a.prototype._generateAttrToProjector.call(this);Object.keys(b).forEach(function(a){if("d"!==a){var c=b[a];b[a]=function(a,b,d){return 0<a.length?c(a[0],b,d):null}}});return b};c.prototype.entitiesAt=function(a){a=this.entityNearestByXThenY(a);
return null!=a?[a]:[]};c.prototype.entityNearestByXThenY=function(a){var b=Infinity,c=Infinity,d,e=this.bounds();this.entities().forEach(function(f){if(p.Math.within(f.position,e)){var g=Math.abs(a.x-f.position.x),h=Math.abs(a.y-f.position.y);if(g<b||g===b&&h<c)d=f,b=g,c=h}});return d};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);b.d=this._constructLineProjector(r.Plot._scaledAccessor(this.x()),r.Plot._scaledAccessor(this.y()));return b};c.prototype._constructLineProjector=
function(a,b){var c=this;return function(d,e,f){return c._d3LineFactory(f,a,b)(d)}};c.prototype._d3LineFactory=function(a,b,c){void 0===b&&(b=r.Plot._scaledAccessor(this.x()));void 0===c&&(c=r.Plot._scaledAccessor(this.y()));return f.line().x(function(c,d){return b(c,d,a)}).y(function(b,d){return c(b,d,a)}).curve(this._getCurveFactory()).defined(function(d,e){var f=b(d,e,a);d=c(d,e,a);return p.Math.isValidNumber(f)&&p.Math.isValidNumber(d)})};c.prototype._getCurveFactory=function(){var a=this.curve();
return"string"===typeof a?(a=w[a],null==a?w.linear:a):a};c.prototype._getDataToDraw=function(){var a=this,b=new p.Map;this.datasets().forEach(function(c){var d=c.data();if(a._croppedRenderingEnabled||a._downsamplingEnabled){var e=d.map(function(a,b){return b});a._croppedRenderingEnabled&&(e=a._filterCroppedRendering(c,e));a._downsamplingEnabled&&(e=a._filterDownsampling(c,e));a._collapseDenseVerticalLinesEnabled&&(e=a._filterDenseLines(c,e));b.set(c,[e.map(function(a){return d[a]})])}else b.set(c,
[d])});return b};c.prototype._filterCroppedRendering=function(a,b){function c(a,b){return p.Math.inRange(a,0,d.width())&&p.Math.inRange(b,0,d.height())}for(var d=this,e=r.Plot._scaledAccessor(this.x()),f=r.Plot._scaledAccessor(this.y()),g=a.data(),h=[],l=0;l<b.length;l++){var m=e(g[b[l]],b[l],a),n=f(g[b[l]],b[l],a);m=c(m,n);if(!m&&null!=b[l-1]&&null!=g[b[l-1]]){n=e(g[b[l-1]],b[l-1],a);var q=f(g[b[l-1]],b[l-1],a);m=m||c(n,q)}m||null==b[l+1]||null==g[b[l+1]]||(n=e(g[b[l+1]],b[l+1],a),q=f(g[b[l+1]],
b[l+1],a),m=m||c(n,q));m&&h.push(b[l])}return h};c.prototype._filterDownsampling=function(a,b){function c(c,g){var h=e(d[b[c]],b[c],a),l=f(d[b[c]],b[c],a),m=e(d[b[c+1]],b[c+1],a);c=f(d[b[c+1]],b[c+1],a);return Infinity===g?Math.floor(h)===Math.floor(m):Math.floor(c)===Math.floor(l+(m-h)*g)}if(0===b.length)return[];for(var d=a.data(),e=r.Plot._scaledAccessor(this.x()),f=r.Plot._scaledAccessor(this.y()),g=[b[0]],h=0;h<b.length-1;){var l=b[h],m=e(d[b[h]],b[h],a),n=f(d[b[h]],b[h],a),q=e(d[b[h+1]],b[h+
1],a),p=f(d[b[h+1]],b[h+1],a);p=Math.floor(m)===Math.floor(q)?Infinity:(p-n)/(q-m);q=b[h];n=Infinity===p?n:m;m=q;for(var t=n,w=!0;h<b.length-1&&(w||c(h,p));){h++;w=!1;var v=Infinity===p?f(d[b[h]],b[h],a):e(d[b[h]],b[h],a);v>t&&(t=v,m=b[h]);v<n&&(n=v,q=b[h])}p=b[h];q!==l&&g.push(q);m!==q&&m!==l&&g.push(m);p!==l&&p!==q&&p!==m&&g.push(p)}return g};c.prototype._filterDenseLines=function(a,b){if(0===b.length)return[];var c=a.data(),d=r.Plot._scaledAccessor(this.x()),e=r.Plot._scaledAccessor(this.y());
return this._bucketByX(a,b,function(b){return d(c[b],b,a)},function(b){return e(c[b],b,a)})};c.prototype._bucketByX=function(a,b,c,d){var e=[];a=a.data();for(var f=null,g=0;g<=b.length;++g){var h=b[g];if(null!=a[h]){var l=Math.floor(c(h)),m=d(h);null==f?f=new p.Bucket(h,l,m):f.isInBucket(l)?f.addToBucket(m,h):(e.push.apply(e,f.getUniqueIndices()),f=new p.Bucket(h,l,m))}}null!=f&&e.push.apply(e,f.getUniqueIndices());return e};return c}(d.XYPlot);c.Line=d},function(a,c,d){var b=this&&this.__extends||
function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(26),h=d(0),l=[0,1];a=function(a){function c(){var b=a.call(this)||this;b._range=[0,1];b._d3Scale=f.scaleBand();b._d3Scale.range(l);b._d3TransformationScale=f.scaleLinear();b._d3TransformationScale.domain(l);b._innerPadding=c._convertToPlottableInnerPadding();b._outerPadding=c._convertToPlottableOuterPadding();return b}b(c,a);
c.prototype.cloneWithoutProviders=function(){var a=(new c).domain(this.domain()).range(this.range()).innerPadding(this.innerPadding()).outerPadding(this.outerPadding());a._d3TransformationScale.domain(this._d3TransformationScale.domain());return a};c.prototype.extentOfValues=function(a){return h.Array.uniq(a)};c.prototype._getExtent=function(){return h.Array.uniq(this._getAllIncludedValues())};c.prototype.domain=function(b){return a.prototype.domain.call(this,b)};c.prototype.invertRange=function(){var a,
b=this;void 0===a&&(a=this.range());var c=this._d3Scale.bandwidth(),d=this.invertedTransformation(a[0]),e=this.invertedTransformation(a[1]);a=this._d3Scale.domain();var g=a.map(function(a){return b._d3Scale(a)+c/2});d=f.bisect(g,d);e=f.bisect(g,e);return a.slice(d,e)};c.prototype.range=function(b){return a.prototype.range.call(this,b)};c._convertToPlottableInnerPadding=function(){return 1/.7-1};c._convertToPlottableOuterPadding=function(){return.5/.7};c.prototype._setBands=function(){var a=1-1/(1+
this.innerPadding()),b=this.outerPadding()/(1+this.innerPadding());this._d3Scale.paddingInner(a);this._d3Scale.paddingOuter(b)};c.prototype.rangeBand=function(){return this._rescaleBand(this._d3Scale.bandwidth())};c.prototype.stepWidth=function(){return this._rescaleBand(this._d3Scale.bandwidth()*(1+this.innerPadding()))};c.prototype.ticks=function(){return this.domain()};c.prototype.innerPadding=function(a){if(null==a)return this._innerPadding;this._innerPadding=a;this.range(this.range());this._dispatchUpdate();
return this};c.prototype.outerPadding=function(a){if(null==a)return this._outerPadding;this._outerPadding=a;this.range(this.range());this._dispatchUpdate();return this};c.prototype.scale=function(a){a=this._d3Scale(a)+this._d3Scale.bandwidth()/2;return this._d3TransformationScale(a)};c.prototype.zoom=function(a,b){var c=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(d){return c._d3TransformationScale.invert(g.zoomOut(d,a,b))}));this._dispatchUpdate()};c.prototype.pan=
function(a){var b=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(c){return b._d3TransformationScale.invert(c+a)}));this._dispatchUpdate()};c.prototype.scaleTransformation=function(a){return this._d3TransformationScale(a)};c.prototype.invertedTransformation=function(a){return this._d3TransformationScale.invert(a)};c.prototype.getTransformationExtent=function(){return l};c.prototype.getTransformationDomain=function(){return this._d3TransformationScale.domain()};
c.prototype.setTransformationDomain=function(a){this._d3TransformationScale.domain(a);this._dispatchUpdate()};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);this._setBands();return this};c.prototype._getRange=function(){return this._range};c.prototype._setRange=function(a){this._range=a;this._d3TransformationScale.range(a);this._setBands()};c.prototype._rescaleBand=function(a){return Math.abs(this._d3TransformationScale(a)-
this._d3TransformationScale(0))};return c}(d(17).Scale);c.Category=a},function(a,c,d){function b(a){try{var b=a.node().getBBox()}catch(y){b={x:0,y:0,width:0,height:0}}return b}function f(a){if("number"===typeof a)return{min:a,max:a};if(a instanceof Object&&"min"in a&&"max"in a)return a;throw Error("input '"+a+"' can't be parsed as an Range");}function g(a,b){a=a.getPropertyValue(b);return parseFloat(a)||0}function h(a){if(null==a||"none"===a)return null;a=a.match(t);if(null==a||2>a.length)return null;
a=a[1].split(r).map(function(a){return parseFloat(a)});return 6!=a.length?null:a}var l=d(1),m=Math;c.contains=function(a,b){for(;null!=b&&b!==a;)b=b.parentNode;return b===a};c.elementBBox=b;c.entityBounds=function(a){return a instanceof SVGElement?b(l.select(a)):a instanceof HTMLElement?(a=a.getBoundingClientRect(),{x:a.left,y:a.top,width:a.width,height:a.height}):{x:0,y:0,width:0,height:0}};c.SCREEN_REFRESH_RATE_MILLISECONDS=1E3/60;c.requestAnimationFramePolyfill=function(a){null!=window.requestAnimationFrame?
window.requestAnimationFrame(a):setTimeout(a,c.SCREEN_REFRESH_RATE_MILLISECONDS)};c.elementWidth=function(a){a=a instanceof l.selection?a.node():a;a=window.getComputedStyle(a);return g(a,"width")+g(a,"padding-left")+g(a,"padding-right")+g(a,"border-left-width")+g(a,"border-right-width")};c.elementHeight=function(a){a=a instanceof l.selection?a.node():a;a=window.getComputedStyle(a);return g(a,"height")+g(a,"padding-top")+g(a,"padding-bottom")+g(a,"border-top-width")+g(a,"border-bottom-width")};var n=
/translate\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))(?:(?:(?:\s+,?\s*)|(?:,\s*))((?:[-+]?[0-9]*\.?[0-9]+)))?\s*\)/,q=/rotate\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))\s*\)/,p=/scale\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))(?:(?:(?:\s+,?\s*)|(?:,\s*))((?:[-+]?[0-9]*\.?[0-9]+)))?\s*\)/;c.getTranslateValues=function(a){a=n.exec(a.attr("transform"));if(null!=a){var b=a[2];return[+a[1],+(void 0===b?0:b)]}return[0,0]};c.getRotate=function(a){a=q.exec(a.attr("transform"));return null!=a?+a[1]:0};c.getScaleValues=function(a){var b=
p.exec(a.attr("transform"));return null!=b?(a=b[1],b=b[2],[+a,null==b?+a:+b]):[0,0]};c.clientRectsOverlap=function(a,b){return m.floor(a.right)<=m.ceil(b.left)||m.ceil(a.left)>=m.floor(b.right)||m.floor(a.bottom)<=m.ceil(b.top)||m.ceil(a.top)>=m.floor(b.bottom)?!1:!0};c.expandRect=function(a,b){return{left:a.left-b,top:a.top-b,right:a.right+b,bottom:a.bottom+b,width:a.width+2*b,height:a.height+2*b}};c.clientRectInside=function(a,b){return m.floor(b.left)<=m.ceil(a.left)&&m.floor(b.top)<=m.ceil(a.top)&&
m.floor(a.right)<=m.ceil(b.right)&&m.floor(a.bottom)<=m.ceil(b.bottom)};c.intersectsBBox=function(a,b,c,d){void 0===d&&(d=.5);a=f(a);b=f(b);return c.x+c.width>=a.min-d&&c.x<=a.max+d&&c.y+c.height>=b.min-d&&c.y<=b.max+d};c.getHtmlElementAncestors=function(a){for(var b=[];a&&a instanceof HTMLElement;)b.push(a),a=a.parentElement;return b};c.getElementTransform=function(a){a=window.getComputedStyle(a,null);a=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("-moz-transform")||a.getPropertyValue("-ms-transform")||
a.getPropertyValue("-o-transform")||a.getPropertyValue("transform");return h(a)};var t=/^matrix\(([^)]+)\)$/,r=/[, ]+/},function(a,c,d){function b(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]}function f(a,b){return[a[0],a[1],a[2],a[3],a[0]*b[0]+a[2]*b[1]+a[4],a[1]*b[0]+a[3]*b[1]+a[5]]}function g(a){var b=a[0]*a[3]-a[1]*a[2];if(0===b)throw Error("singular matrix");b=1/b;return[b*a[3],b*-a[1],b*-a[2],b*
a[0],b*(-a[3]*a[4]+a[2]*a[5]),b*(a[1]*a[4]+-a[0]*a[5])]}var h=d(1),l=d(55),m=Math,n=[1,0,0,1,0,0];c.inRange=function(a,b,c){return m.min(b,c)<=a&&a<=m.max(b,c)};c.clamp=function(a,b,c){return m.min(m.max(b,a),c)};c.max=function(a,b,c){var d="function"===typeof b?b:null;b=null==d?b:c;a=null==d?h.max(a):h.max(a,d);return void 0!==a?a:b};c.min=function(a,b,c){var d="function"===typeof b?b:null;b=null==d?b:c;a=null==d?h.min(a):h.min(a,d);return void 0!==a?a:b};c.isNaN=function(a){return a!==a};c.isValidNumber=
function(a){return"number"===typeof a&&1>a-a};c.range=function(a,b,c){void 0===c&&(c=1);if(0===c)throw Error("step cannot be 0");b=m.max(m.ceil((b-a)/c),0);for(var d=[],e=0;e<b;++e)d[e]=a+c*e;return d};c.distanceSquared=function(a,b){return m.pow(b.y-a.y,2)+m.pow(b.x-a.x,2)};c.degreesToRadians=function(a){return a/360*m.PI*2};c.within=function(a,b){return b.topLeft.x<=a.x&&b.bottomRight.x>=a.x&&b.topLeft.y<=a.y&&b.bottomRight.y>=a.y};c.boundsIntersects=function(a,b,c,d,e,f){return a<=0+e&&0<=a+c&&
b<=0+f&&0<=b+d};c.getCumulativeTransform=function(a){a=l.getHtmlElementAncestors(a);for(var c=n,d=null,e=0;e<a.length;e++){var h=a[e],m=l.getElementTransform(h);if(null!=m){var q=h.clientWidth/2,x=h.clientHeight/2;c=f(c,[q,x]);c=b(c,g(m));c=f(c,[-q,-x])}m=h.scrollLeft;q=h.scrollTop;if(null===d||h===d)m-=h.offsetLeft+h.clientLeft,q-=h.offsetTop+h.clientTop,d=h.offsetParent;c=f(c,[m,q])}return c};c.multiplyMatrix=b;c.premultiplyTranslate=function(a,b){return[b[0],b[1],b[2],b[3],b[4]+a[0],b[5]+a[1]]};
c.multiplyTranslate=f;c.invertMatrix=g;c.applyTransform=function(a,b){return{x:a[0]*b.x+a[2]*b.y+a[4],y:a[1]*b.x+a[3]*b.y+a[5]}}},function(a,c,d){var b=new (d(114).SplitStrategyLinear);a=function(){function a(a,c){void 0===a&&(a=5);void 0===c&&(c=b);this.maxNodeChildren=a;this.splitStrategy=c;this.root=new f(!0);this.size=0}a.prototype.getRoot=function(){return this.root};a.prototype.clear=function(){this.root=new f(!0);this.size=0};a.prototype.insert=function(a,b){for(var c=this.root;!c.leaf;)c=
c.subtree(a);a=f.valueNode(a,b);c.insert(a);for(this.size+=1;c.overflow(this.maxNodeChildren);)c=c.split(this.splitStrategy),null==c.parent&&(this.root=c);return a};a.prototype.locate=function(a){return this.query(function(b){return b.contains(a)})};a.prototype.intersect=function(a){return this.query(function(b){return g.isBoundsOverlapBounds(b,a)})};a.prototype.intersectX=function(a){return this.query(function(b){return g.isBoundsOverlapX(b,a)})};a.prototype.intersectY=function(a){return this.query(function(b){return g.isBoundsOverlapY(b,
a)})};a.prototype.query=function(a){var b=[];if(null!=this.root.bounds&&!a(this.root.bounds))return b;for(var c=[this.root];0<c.length;)for(var d=c.shift(),e=0;e<d.entries.length;e++){var f=d.entries[e];a(f.bounds)&&(d.leaf?b.push(f.value):c.push(f))}return b};return a}();c.RTree=a;var f=function(){function a(a){this.leaf=a;this.bounds=null;this.entries=[];this.value=this.parent=null}a.valueNode=function(b,c){var d=new a(!0);d.bounds=b;d.value=c;return d};a.prototype.overflow=function(a){return this.entries.length>
a};a.prototype.insert=function(a){this.entries.push(a);a.parent=this;for(var b=this;null!=b;)b.bounds=g.unionAll([b.bounds,a.bounds]),b=b.parent;return this};a.prototype.remove=function(a){a=this.entries.indexOf(a);if(0<=a)for(this.entries.splice(a,1),a=this;null!=a;)a.bounds=g.unionAll(a.entries.map(function(a){return a.bounds})),a=a.parent;return this};a.prototype.subtree=function(a){for(var b=null,c=0;c<this.entries.length;c++){var d=this.entries[c],e=d.unionAreaDifference(a);if(Infinity>e||Infinity===
e&&null!=b&&d.entries.length<b.entries.length)b=d}return b};a.prototype.split=function(b){null!=this.parent&&this.parent.remove(this);var c=[new a(this.leaf),new a(this.leaf)];b.split(this.entries,c);b=null!=this.parent?this.parent:new a(!1);b.insert(c[0]);b.insert(c[1]);return b};a.prototype.unionAreaDifference=function(a){return Math.abs(g.union(this.bounds,a).area()-this.bounds.area())};a.prototype.maxDepth=function(){return this.leaf?1:1+this.entries.map(function(a){return a.maxDepth()}).reduce(function(a,
b){return Math.max(a,b)})};return a}();c.RTreeNode=f;var g=function(){function a(a,b,c,d){this.xl=a;this.yl=b;this.xh=c;this.yh=d;this.width=this.xh-this.xl;this.height=this.yh-this.yl}a.xywh=function(b,c,d,e){return new a(b,c,b+d,c+e)};a.entityBounds=function(b){return new a(b.x,b.y,b.x+b.width,b.y+b.height)};a.bounds=function(b){return a.pointPair(b.topLeft,b.bottomRight)};a.pointPair=function(b,c){return new a(Math.min(b.x,c.x),Math.min(b.y,c.y),Math.max(b.x,c.x),Math.max(b.y,c.y))};a.points=function(b){if(2>
b.length)throw Error("need at least 2 points to create bounds");var c=b.map(function(a){return a.x});b=b.map(function(a){return a.y});return new a(c.reduce(function(a,b){return Math.min(a,b)}),b.reduce(function(a,b){return Math.min(a,b)}),c.reduce(function(a,b){return Math.max(a,b)}),b.reduce(function(a,b){return Math.max(a,b)}))};a.union=function(b,c){return new a(Math.min(b.xl,c.xl),Math.min(b.yl,c.yl),Math.max(b.xh,c.xh),Math.max(b.yh,c.yh))};a.unionAll=function(b){b=b.filter(function(a){return null!=
a});return 0===b.length?null:b.reduce(function(b,c){return a.union(b,c)})};a.isBoundsOverlapBounds=function(b,c){return a.isBoundsOverlapX(b,c)&&a.isBoundsOverlapY(b,c)};a.isBoundsOverlapX=function(a,b){return!(a.xh<b.xl)&&!(a.xl>b.xh)};a.isBoundsOverlapY=function(a,b){return!(a.yh<b.yl)&&!(a.yl>b.yh)};a.prototype.area=function(){null==this.areaCached&&(this.areaCached=(this.xh-this.xl)*(this.yh-this.yl));return this.areaCached};a.prototype.contains=function(a){return this.xl<=a.x&&this.xh>=a.x&&
this.yl<=a.y&&this.yh>=a.y};return a}();c.RTreeBounds=g},function(a,c){a=function(){function a(){"function"===typeof window.Set?this._es6Set=new window.Set:this._values=[];this.size=0}a.prototype.add=function(a){if(null!=this._es6Set)return this._es6Set.add(a),this.size=this._es6Set.size,this;this.has(a)||(this._values.push(a),this.size=this._values.length);return this};a.prototype.delete=function(a){if(null!=this._es6Set)return a=this._es6Set.delete(a),this.size=this._es6Set.size,a;a=this._values.indexOf(a);
return-1!==a?(this._values.splice(a,1),this.size=this._values.length,!0):!1};a.prototype.has=function(a){return null!=this._es6Set?this._es6Set.has(a):-1!==this._values.indexOf(a)};a.prototype.forEach=function(a,b){var c=this;null!=this._es6Set?this._es6Set.forEach(function(d,e){return a.call(b,d,e,c)},b):this._values.forEach(function(d){a.call(b,d,d,c)})};return a}();c.Set=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(131));b(d(130))},function(a,c,d){var b=
this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(21);a=function(a){function c(b,c){var d=a.call(this,b,c)||this;d.cache=new f.Cache(function(a){return d._measureCharacterNotFromCache(a)});return d}b(c,a);c.prototype._measureCharacterNotFromCache=function(b){return a.prototype._measureCharacter.call(this,b)};c.prototype._measureCharacter=function(a){return this.cache.get(a)};
c.prototype.reset=function(){this.cache.clear()};return c}(d(61).CharacterMeasurer);c.CacheCharacterMeasurer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.apply(this,arguments)||this}b(c,a);c.prototype._measureCharacter=function(b){return a.prototype._measureLine.call(this,b)};c.prototype._measureLine=
function(a){var b=this;a=a.split("").map(function(a){return b._measureCharacter(a)});return{height:a.reduce(function(a,b){return Math.max(a,b.height)},0),width:a.reduce(function(a,b){return a+b.width},0)}};return c}(d(63).Measurer);c.CharacterMeasurer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(36));b(d(60));b(d(132));b(d(61));b(d(63))},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(36);a=function(a){function c(b,c){void 0===c&&(c=!1);b=a.call(this,b)||this;b.useGuards=c;return b}b(c,a);c.prototype._addGuards=function(a){return f.AbstractMeasurer.HEIGHT_TEXT+a+f.AbstractMeasurer.HEIGHT_TEXT};c.prototype._measureLine=function(b){var c;void 0===c&&(c=!1);c=this.useGuards||c||/^[\t ]$/.test(b);b=a.prototype.measure.call(this,c?this._addGuards(b):b);b.width-=c?2*this.getGuardWidth():0;return b};
c.prototype.measure=function(a){var b=this;void 0===a&&(a=f.AbstractMeasurer.HEIGHT_TEXT);if(""===a.trim())return{width:0,height:0};a=a.trim().split("\n").map(function(a){return b._measureLine(a)});return{height:a.reduce(function(a,b){return a+b.height},0),width:a.reduce(function(a,b){return Math.max(a,b.width)},0)}};c.prototype.getGuardWidth=function(){null==this.guardWidth&&(this.guardWidth=a.prototype.measure.call(this).width);return this.guardWidth};return c}(f.AbstractMeasurer);c.Measurer=a},
function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(138));b(d(65))},function(a,c,d){var b=d(21);a=function(){function a(){this.maxLines(Infinity);this.textTrimming();this.allowBreakingWords();this._tokenizer=new b.Tokenizer;this._breakingCharacter="-"}a.prototype.maxLines=function(a){if(null==a)return this._maxLines;this._maxLines=a;return this};a.prototype.textTrimming=function(){this._textTrimming="ellipsis"};a.prototype.allowBreakingWords=function(){this._allowBreakingWords=
!0};a.prototype.wrap=function(a,b,c,d){var e=this;void 0===d&&(d=Infinity);var f={noBrokeWords:0,noLines:0,originalText:a,truncatedText:"",wrappedText:""};c={availableLines:Math.min(Math.floor(d/b.measure().height),this._maxLines),availableWidth:c,canFitText:!0,currentLine:"",wrapping:f};var g=a.split("\n");return g.reduce(function(a,c,d){return e.breakLineToFitWidth(a,c,d!==g.length-1,b)},c).wrapping};a.prototype.breakLineToFitWidth=function(a,c,d,e){var f=this;a.canFitText||""===a.wrapping.truncatedText||
(a.wrapping.truncatedText+="\n");a=this._tokenizer.tokenize(c).reduce(function(a,b){return f.wrapNextToken(b,a,e)},a);c=b.StringMethods.trimEnd(a.currentLine);a.wrapping.noLines+=+(""!==c);a.wrapping.noLines===a.availableLines&&"none"!==this._textTrimming&&d?a.canFitText=!1:a.wrapping.wrappedText+=c;a.currentLine="\n";return a};a.prototype.canFitToken=function(a,b,c){var d=this,e=this._allowBreakingWords?a.split("").map(function(b,c){return c!==a.length-1?b+d._breakingCharacter:b}):[a];return c.measure(a).width<=
b||e.every(function(a){return c.measure(a).width<=b})};a.prototype.addEllipsis=function(a,c,d){if("none"===this._textTrimming)return{remainingToken:"",wrappedToken:a};var e=a.substring(0).trim(),f=d.measure(e).width,g=d.measure("...").width,h=0<a.length&&"\n"===a[0]?"\n":"";if(c<=g)return{remainingToken:a,wrappedToken:h+"...".substr(0,Math.floor(c/(g/3)))};for(;f+g>c;)e=b.StringMethods.trimEnd(e.substr(0,e.length-1)),f=d.measure(e).width;return{remainingToken:b.StringMethods.trimEnd(a.substring(e.length),
"-").trim(),wrappedToken:h+e+"..."}};a.prototype.wrapNextToken=function(a,c,d){if(!c.canFitText||c.availableLines===c.wrapping.noLines||!this.canFitToken(a,c.availableWidth,d))return this.finishWrapping(a,c,d);for(;a;){var e=this.breakTokenToFitInWidth(a,c.currentLine,c.availableWidth,d);c.currentLine=e.line;a=e.remainingToken;if(null!=a)if(c.wrapping.noBrokeWords+=+e.breakWord,++c.wrapping.noLines,c.availableLines===c.wrapping.noLines){d=this.addEllipsis(c.currentLine,c.availableWidth,d);c.wrapping.wrappedText+=
d.wrappedToken;c.wrapping.truncatedText+=d.remainingToken+a;c.currentLine="\n";break}else c.wrapping.wrappedText+=b.StringMethods.trimEnd(c.currentLine),c.currentLine="\n"}return c};a.prototype.finishWrapping=function(a,b,c){b.canFitText&&b.availableLines!==b.wrapping.noLines&&this._allowBreakingWords&&"none"!==this._textTrimming?(c=this.addEllipsis(b.currentLine+a,b.availableWidth,c),b.wrapping.wrappedText+=c.wrappedToken,b.wrapping.truncatedText+=c.remainingToken,b.wrapping.noBrokeWords+=+(c.remainingToken.length<
a.length),b.wrapping.noLines+=+(0<c.wrappedToken.length),b.currentLine=""):b.wrapping.truncatedText+=a;b.canFitText=!1;return b};a.prototype.breakTokenToFitInWidth=function(a,b,c,d){if(void 0===e)var e=this._breakingCharacter;if(d.measure(b+a).width<=c)return{breakWord:!1,line:b+a,remainingToken:null};if(""===a.trim())return{breakWord:!1,line:b,remainingToken:""};if(!this._allowBreakingWords)return{breakWord:!1,line:b,remainingToken:a};for(var f=0;f<a.length;)if(d.measure(b+a.substring(0,f+1)+e).width<=
c)++f;else break;c="";0<f&&(c=e);return{breakWord:0<f,line:b+a.substring(0,f)+c,remainingToken:a.substring(f)}};return a}();c.Wrapper=a},function(a,c,d){a=d(139);for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(72));b(d(73));b(d(28))},function(a,c){c.version="3.7.0"},function(a,c,d){function b(a,b){return a.each(function(){var a=b.apply(this,arguments),c=r.select(this),d;for(d in a)c.attr(d,a[d])})}function f(a,b){for(var c in b)a.attr(c,
b[c]);return a}function g(a,b,c){return a.each(function(){var a=b.apply(this,arguments),d=r.select(this),e;for(e in a)d.style(e,a[e],c)})}function h(a,b,c){for(var d in b)a.style(d,b[d],c);return a}function l(a,b){return a.each(function(){var a=b.apply(this,arguments),c=r.select(this),d;for(d in a)c.property(d,a[d])})}function m(a,b){for(var c in b)a.property(c,b[c]);return a}function n(a,b){return a.each(function(){var c=b.apply(this,arguments),d=r.select(this).transition(a),e;for(e in c)d.attr(e,
c[e])})}function q(a,b){for(var c in b)a.attr(c,b[c]);return a}function p(a,b,c){return a.each(function(){var d=b.apply(this,arguments),e=r.select(this).transition(a),f;for(f in d)e.style(f,d[f],c)})}function t(a,b,c){for(var d in b)a.style(d,b[d],c);return a}var r=a=d(1);r.selection.prototype.attrs=function(a){return("function"===typeof a?b:f)(this,a)};r.selection.prototype.styles=function(a,b){return("function"===typeof a?g:h)(this,a,null==b?"":b)};r.selection.prototype.properties=function(a){return("function"===
typeof a?l:m)(this,a)};a.transition.prototype.attrs=function(a){return("function"===typeof a?n:q)(this,a)};a.transition.prototype.styles=function(a,b){return("function"===typeof a?p:t)(this,a,null==b?"":b)}},function(a,c,d){a=d(117);var b=d(12);d=d(10);var f={linear:a.easeLinear,quad:a.easeQuad,quadIn:a.easeQuadIn,quadOut:a.easeQuadOut,quadInOut:a.easeQuadInOut,cubic:a.easeCubic,cubicIn:a.easeCubicIn,cubicOut:a.easeCubicOut,cubicInOut:a.easeCubicInOut,poly:a.easePoly,polyIn:a.easePolyIn,polyOut:a.easePolyOut,
polyInOut:a.easePolyInOut,sin:a.easeSin,sinIn:a.easeSinIn,sinOut:a.easeSinOut,sinInOut:a.easeSinInOut,exp:a.easeExp,expIn:a.easeExpIn,expOut:a.easeExpOut,expInOut:a.easeExpInOut,circle:a.easeCircle,circleIn:a.easeCircleIn,circleOut:a.easeCircleOut,circleInOut:a.easeCircleInOut,bounce:a.easeBounce,bounceIn:a.easeBounceIn,bounceOut:a.easeBounceOut,bounceInOut:a.easeBounceInOut,back:a.easeBack,backIn:a.easeBackIn,backOut:a.easeBackOut,backInOut:a.easeBackInOut,elastic:a.easeElastic,elasticIn:a.easeElasticIn,
elasticOut:a.easeElasticOut,elasticInOut:a.easeElasticInOut};c.EaseName=d.makeEnum("linear quad quadIn quadOut quadInOut cubic cubicIn cubicOut cubicInOut poly polyIn polyOut polyInOut sin sinIn sinOut sinInOut exp expIn expOut expInOut circle circleIn circleOut circleInOut bounce bounceIn bounceOut bounceInOut back backIn backOut backInOut elastic elasticIn elasticOut elasticInOut".split(" "));d=function(){function a(){this._startDelay=a._DEFAULT_START_DELAY_MILLISECONDS;this._stepDuration=a._DEFAULT_STEP_DURATION_MILLISECONDS;
this._stepDelay=a._DEFAULT_ITERATIVE_DELAY_MILLISECONDS;this._maxTotalDuration=a._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS;this._easingMode=a._DEFAULT_EASING_MODE}a.prototype.totalTime=function(a){var b=this._getAdjustedIterativeDelay(a);return this.startDelay()+b*Math.max(a-1,0)+this.stepDuration()};a.prototype.animate=function(a,c){var d=this;a=b.coerceExternalD3(a);var e=a.size(),f=this._getAdjustedIterativeDelay(e);return a.transition().ease(this._getEaseFactory()).duration(this.stepDuration()).delay(function(a,
b){return d.startDelay()+f*b}).attrs(c)};a.prototype.startDelay=function(a){if(null==a)return this._startDelay;this._startDelay=a;return this};a.prototype.stepDuration=function(a){if(null==a)return Math.min(this._stepDuration,this._maxTotalDuration);this._stepDuration=a;return this};a.prototype.stepDelay=function(){return this._stepDelay};a.prototype.maxTotalDuration=function(a){if(null==a)return this._maxTotalDuration;this._maxTotalDuration=a;return this};a.prototype.easingMode=function(a){if(null==
a)return this._easingMode;this._easingMode=a;return this};a.prototype._getEaseFactory=function(){var a=this.easingMode();return"string"===typeof a?(a=f[a],null==a?f.linear:a):a};a.prototype._getAdjustedIterativeDelay=function(a){var b=this.maxTotalDuration()-this.stepDuration();b=Math.max(b,0);a=b/Math.max(a-1,1);return Math.min(this.stepDelay(),a)};return a}();d._DEFAULT_START_DELAY_MILLISECONDS=0;d._DEFAULT_STEP_DURATION_MILLISECONDS=300;d._DEFAULT_ITERATIVE_DELAY_MILLISECONDS=15;d._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS=
Infinity;d._DEFAULT_EASING_MODE="expOut";c.Easing=d},function(a,c,d){var b=d(12);a=function(){function a(){}a.prototype.totalTime=function(){return 0};a.prototype.animate=function(a,c){a=b.coerceExternalD3(a);return a.attrs(c)};return a}();c.Null=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),h=d(4),l=d(0),m=d(22);a=function(a){function c(b,
c){void 0===c&&(c="bottom");b=a.call(this,b,c)||this;b._tickLabelAngle=0;b._tickLabelShearAngle=0;b.addClass("category-axis");return b}b(c,a);Object.defineProperty(c.prototype,"_wrapper",{get:function(){var a=new g.Wrapper;null!=this._tickLabelMaxLines&&a.maxLines(this._tickLabelMaxLines);return a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"_writer",{get:function(){return new g.Writer(this._measurer,this._typesetterContext,this._wrapper)},enumerable:!0,configurable:!0});c.prototype._setup=
function(){a.prototype._setup.call(this);this._typesetterContext=new g.SvgContext(this._tickLabelContainer.node());this._measurer=new g.CacheMeasurer(this._typesetterContext)};c.prototype._rescale=function(){return this.redraw()};c.prototype.requestedSpace=function(a,b){var c=this.isHorizontal()?0:this._tickSpaceRequired()+this.margin(),d=this.isHorizontal()?this._tickSpaceRequired()+this.margin():0;if(0===this._scale.domain().length)return{minWidth:0,minHeight:0};if(this.annotationsEnabled()){var e=
this._annotationTierHeight()*this.annotationTierCount();this.isHorizontal()?d+=e:c+=e}a=this._measureTickLabels(a,b);return{minWidth:a.usedWidth+c,minHeight:a.usedHeight+d}};c.prototype._coreSize=function(){var a=this.isHorizontal()?this.height():this.width(),b=this.isHorizontal()?this.requestedSpace(this.width(),this.height()).minHeight:this.requestedSpace(this.width(),this.height()).minWidth,c=this.margin()+this._annotationTierHeight();return Math.min(b-c,a)};c.prototype._getTickValues=function(){return this.getDownsampleInfo().domain};
c.prototype._sizeFromOffer=function(a,b){return h.Component.prototype._sizeFromOffer.call(this,a,b)};c.prototype.getDownsampleInfo=function(a){var b;void 0===a&&(a=this._scale);void 0===b&&(b=a.invertRange());var d=Math.ceil(c._MINIMUM_WIDTH_PER_LABEL_PX*(0===this._tickLabelAngle?1:1/Math.cos(this._tickLabelShearAngle/180*Math.PI))/a.stepWidth());return{domain:b.filter(function(a,b){return 0===b%d}),stepWidth:d*a.stepWidth()}};c.prototype.tickLabelAngle=function(){return this._tickLabelAngle;throw Error("Angle undefined not supported; only 0, 90, and -90 are valid values");
};c.prototype.tickLabelShearAngle=function(){return this._tickLabelShearAngle};c.prototype.tickLabelMaxWidth=function(a){if(0===arguments.length)return this._tickLabelMaxWidth;this._tickLabelMaxWidth=a;this.redraw();return this};c.prototype.tickLabelMaxLines=function(a){if(0===arguments.length)return this._tickLabelMaxLines;this._tickLabelMaxLines=a;this.redraw();return this};c.prototype._tickSpaceRequired=function(){return this._maxLabelTickLength()+this.tickLabelPadding()};c.prototype._drawTicks=
function(a,b){var c=this;switch(this.tickLabelAngle()){case 0:var d={left:"right",right:"left",top:"center",bottom:"center"};var e={left:"center",right:"center",top:"bottom",bottom:"top"};break;case 90:d={left:"center",right:"center",top:"right",bottom:"left"};e={left:"top",right:"bottom",top:"center",bottom:"center"};break;case -90:d={left:"center",right:"center",top:"left",bottom:"right"},e={left:"bottom",right:"top",top:"center",bottom:"center"}}b.each(function(b){var g=f.select(this),h=c.isHorizontal()?
a:c.width()-c._tickSpaceRequired(),l=c.isHorizontal()?c.height()-c._tickSpaceRequired():a,m={xAlign:d[c.orientation()],yAlign:e[c.orientation()],textRotation:c.tickLabelAngle(),textShear:c.tickLabelShearAngle()};if(null!=c._tickLabelMaxWidth){if("left"===c.orientation()&&h>c._tickLabelMaxWidth){var n=h-c._tickLabelMaxWidth;n=g.attr("transform")+" translate("+n+", 0)";g.attr("transform",n)}h=Math.min(h,c._tickLabelMaxWidth)}c._writer.write(c.formatter()(b),h,l,m,g.node())})};c.prototype._measureTickLabels=
function(a,b){var c=this,d=this._scale.cloneWithoutProviders().range([0,this.isHorizontal()?a:b]),e=this.getDownsampleInfo(d);d=e.domain;e=e.stepWidth;var g=a-this._tickSpaceRequired();this.isHorizontal()&&(g=e,0!==this._tickLabelAngle&&(g=b-this._tickSpaceRequired()),g=Math.max(g,0));var h=e;this.isHorizontal()&&(h=b-this._tickSpaceRequired(),0!==this._tickLabelAngle&&(h=a-this._tickSpaceRequired()),h=Math.max(h,0));null!=this._tickLabelMaxWidth&&(g=Math.min(g,this._tickLabelMaxWidth));b=d.map(function(a){return c._wrapper.wrap(c.formatter()(a),
c._measurer,g,h)});a=this.isHorizontal()&&0===this._tickLabelAngle?f.sum:l.Math.max;d=this.isHorizontal()&&0===this._tickLabelAngle?l.Math.max:f.sum;a=a(b,function(a){return c._measurer.measure(a.wrappedText).width},0);b=d(b,function(a){return c._measurer.measure(a.wrappedText).height},0);0!==this._tickLabelAngle&&(b=[b,a],a=b[0],b=b[1]);return{usedWidth:a,usedHeight:b}};c.prototype.renderImmediately=function(){var b=this;a.prototype.renderImmediately.call(this);var c=this._scale,d=this.getDownsampleInfo(c),
e=d.domain,f=d=d.stepWidth;this.isHorizontal()&&null!=this._tickLabelMaxWidth&&(f=Math.min(f,this._tickLabelMaxWidth));e=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS).data(e);var g=e.enter().append("g").classed(m.Axis.TICK_LABEL_CLASS,!0).merge(e);e.exit().remove();g.attr("transform",function(a){var d=c.scale(a)-f/2;a=b.isHorizontal()?d:0;d=b.isHorizontal()?0:d;return"translate("+a+","+d+")"});g.text("");this._drawTicks(d,g);d="right"===this.orientation()?this._tickSpaceRequired():
0;e="bottom"===this.orientation()?this._tickSpaceRequired():0;this._tickLabelContainer.attr("transform","translate("+d+","+e+")");this._showAllTickMarks();this._showAllTickLabels();this._hideTickMarksWithoutLabel();return this};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this.isHorizontal()||this._scale.range([0,this.height()]);return this};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(m.Axis);
a._MINIMUM_WIDTH_PER_LABEL_PX=15;c.Category=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),h=d(8),l=d(0),m=d(22);a=function(a){function c(b,c){b=a.call(this,b,c)||this;b._tickLabelPositioning="center";b._usesTextWidthApproximation=!1;b.formatter(h.general());return b}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);
var b=new g.SvgContext(this._tickLabelContainer.node(),m.Axis.TICK_LABEL_CLASS);this._measurer=new g.CacheMeasurer(b);this._wrapper=(new g.Wrapper).maxLines(1)};c.prototype._computeWidth=function(){var a=this._usesTextWidthApproximation?this._computeApproximateTextWidth():this._computeExactTextWidth();return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+a:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+a)};c.prototype._computeExactTextWidth=function(){var a=
this,b=this._getTickValues().map(function(b){b=a.formatter()(b);return a._measurer.measure(b).width});return l.Math.max(b,0)};c.prototype._computeApproximateTextWidth=function(){var a=this,b=this._getTickValues(),c=this._measurer.measure("M").width;b=b.map(function(b){return a.formatter()(b).length*c});return l.Math.max(b,0)};c.prototype._computeHeight=function(){var a=this._measurer.measure().height;return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+a:
Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+a)};c.prototype._getTickValues=function(){var a=this._scale,b=a.domain(),c=b[0]<=b[1]?b[0]:b[1],d=b[0]>=b[1]?b[0]:b[1];return a.ticks().filter(function(a){return a>=c&&a<=d})};c.prototype._rescale=function(){if(this._isSetup){if(!this.isHorizontal()){var a=this._computeWidth();if(a>this.width()||a<this.width()-this.margin()){this.redraw();return}}this.render()}};c.prototype.renderImmediately=function(){var b=this;a.prototype.renderImmediately.call(this);
var c={x:0,y:0,dx:"0em",dy:"0.3em"},d=this._maxLabelTickLength(),e=this.tickLabelPadding(),f="middle",g=0,h=0,l=0,n=0;if(this.isHorizontal())switch(this._tickLabelPositioning){case "left":f="end";g=-e;n=e;break;case "center":n=d+e;break;case "right":f="start",n=g=e}else switch(this._tickLabelPositioning){case "top":c.dy="-0.3em";l=e;h=-e;break;case "center":l=d+e;break;case "bottom":c.dy="1em",h=l=e}d=this._generateTickMarkAttrHash();switch(this.orientation()){case "bottom":c.x=d.x1;c.dy="0.95em";
h=d.y1+n;break;case "top":c.x=d.x1;c.dy="-.25em";h=d.y1-n;break;case "left":f="end";g=d.x1-l;c.y=d.y1;break;case "right":f="start",g=d.x1+l,c.y=d.y1}l=this._getTickValues();l=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS).data(l);l.exit().remove();l.enter().append("text").classed(m.Axis.TICK_LABEL_CLASS,!0).merge(l).style("text-anchor",f).style("visibility","inherit").attrs(c).text(function(a){return b.formatter()(a)});this._tickLabelContainer.attr("transform","translate("+g+", "+
h+")");this._showAllTickMarks();this.showEndTickLabels()||this._hideEndTickLabels();this._hideOverflowingTickLabels();this._hideOverlappingTickLabels();"center"!==this._tickLabelPositioning&&this._hideTickMarksWithoutLabel();return this};c.prototype.tickLabelPosition=function(a){if(null==a)return this._tickLabelPositioning;a=a.toLowerCase();if(this.isHorizontal()){if("left"!==a&&"center"!==a&&"right"!==a)throw Error(a+" is not a valid tick label position for a horizontal NumericAxis");}else if("top"!==
a&&"center"!==a&&"bottom"!==a)throw Error(a+" is not a valid tick label position for a vertical NumericAxis");this._tickLabelPositioning=a;this.redraw();return this};c.prototype.usesTextWidthApproximation=function(){this._usesTextWidthApproximation=!0};c.prototype._hideEndTickLabels=function(){var a=this.element().node().getBoundingClientRect(),b=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS);if(0!==b.size()){var c=b.nodes()[0];l.DOM.clientRectInside(c.getBoundingClientRect(),a)||
f.select(c).style("visibility","hidden");b=b.nodes()[b.size()-1];l.DOM.clientRectInside(b.getBoundingClientRect(),a)||f.select(b).style("visibility","hidden")}};c.prototype._hideOverlappingTickLabels=function(){for(var a=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS).filter(function(){var a=f.select(this).style("visibility");return"inherit"===a||"visible"===a}),b=a.nodes().map(function(a){return a.getBoundingClientRect()}),c=1;!this._hasOverlapWithInterval(c,b)&&c<b.length;)c+=1;
a.each(function(a,b){a=f.select(this);0!==b%c&&a.style("visibility","hidden")})};c.prototype._hasOverlapWithInterval=function(a,b){var c="center"===this._tickLabelPositioning?this.tickLabelPadding():3*this.tickLabelPadding();b=b.map(function(a){return l.DOM.expandRect(a,c)});for(var d=0;d<b.length-a;d+=a)if(l.DOM.clientRectsOverlap(b[d],b[d+a]))return!1;return!0};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(m.Axis);c.Numeric=a},function(a,
c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=d(42);var f=d(25),g=d(0);d=function(a){function c(b){function c(){l&&(l=!1,h._dragEndCallbacks.callCallbacks(h))}function d(a,b){l&&(h._setPixelPositionWithoutChangingMode(h._isVertical()?b.x:b.y),h._dragCallbacks.callCallbacks(h))}function e(a){if(h._isVertical()&&h.pixelPosition()-h.detectionRadius()<=
a.x&&a.x<=h.pixelPosition()+h.detectionRadius()||!h._isVertical()&&h.pixelPosition()-h.detectionRadius()<=a.y&&a.y<=h.pixelPosition()+h.detectionRadius())l=!0,h._dragStartCallbacks.callCallbacks(h)}var h=a.call(this,b)||this;h._detectionRadius=3;h._enabled=!0;h.addClass("drag-line-layer");h.addClass("enabled");h._dragInteraction=new f.Drag;h._dragInteraction.attachTo(h);var l=!1;h._dragInteraction.onDragStart(e);h._dragInteraction.onDrag(d);h._dragInteraction.onDragEnd(c);h._disconnectInteraction=
function(){h._dragInteraction.offDragStart(e);h._dragInteraction.offDrag(d);h._dragInteraction.offDragEnd(c);h._dragInteraction.detach()};h._dragStartCallbacks=new g.CallbackSet;h._dragCallbacks=new g.CallbackSet;h._dragEndCallbacks=new g.CallbackSet;return h}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);this._detectionEdge=this.content().append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"}).classed("drag-edge",!0)};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);
this._detectionEdge.attrs({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition(),"stroke-width":2*this._detectionRadius});return this};c.prototype.detectionRadius=function(){return this._detectionRadius};c.prototype.enabled=function(a){if(null==a)return this._enabled;(this._enabled=a)?this.addClass("enabled"):this.removeClass("enabled");this._dragInteraction.enabled(a);
return this};c.prototype.onDragStart=function(a){this._dragStartCallbacks.add(a)};c.prototype.offDragStart=function(a){this._dragStartCallbacks.delete(a)};c.prototype.onDrag=function(a){this._dragCallbacks.add(a)};c.prototype.offDrag=function(a){this._dragCallbacks.delete(a)};c.prototype.onDragEnd=function(a){this._dragEndCallbacks.add(a)};c.prototype.offDragEnd=function(a){this._dragEndCallbacks.delete(a)};c.prototype.destroy=function(){var b=this;a.prototype.destroy.call(this);this._dragStartCallbacks.forEach(function(a){return b._dragStartCallbacks.delete(a)});
this._dragCallbacks.forEach(function(a){return b._dragCallbacks.delete(a)});this._dragEndCallbacks.forEach(function(a){return b._dragEndCallbacks.delete(a)});this._disconnectInteraction()};return c}(a.GuideLineLayer);c.DragLineLayer=d},function(a,c,d){function b(a,b,c){var d={};if(void 0!==c)for(var e=0;e<c.length;e++)d[c[e]]=c[e-1];return function(c){var e=a.scale(c);if(!b)return e;var f;c=void 0===d[c]?void 0:a.scale(d[c]);void 0!==c&&(f=c+(e-c)/2);return f}}var f=this&&this.__extends||function(a,
b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(b,c){var d=a.call(this)||this;d.addClass("gridlines");d._xScale=b;d._yScale=c;d._renderCallback=function(){return d.render()};if(d._xScale)d._xScale.onUpdate(d._renderCallback);if(d._yScale)d._yScale.onUpdate(d._renderCallback);return d}f(c,a);c.prototype.betweenX=function(){return this._betweenX};c.prototype.betweenY=function(){return this._betweenY};
c.prototype.destroy=function(){a.prototype.destroy.call(this);this._xScale&&this._xScale.offUpdate(this._renderCallback);this._yScale&&this._yScale.offUpdate(this._renderCallback);return this};c.prototype._setup=function(){a.prototype._setup.call(this);this._xLinesContainer=this.content().append("g").classed("x-gridlines",!0);this._yLinesContainer=this.content().append("g").classed("y-gridlines",!0)};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._redrawXLines();
this._redrawYLines();return this};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);null!=this._xScale&&this._xScale.range([0,this.width()]);null!=this._yScale&&this._yScale.range([this.height(),0]);return this};c.prototype._redrawXLines=function(){if(this._xScale){var a=this.betweenX(),c=this._xScale.ticks().slice(a?1:0);c=this._xLinesContainer.selectAll("line").data(c);c.enter().append("line").merge(c).attr("x1",b(this._xScale,a,this._xScale.ticks())).attr("y1",
0).attr("x2",b(this._xScale,a,this._xScale.ticks())).attr("y2",this.height()).classed("betweenline",a).classed("zeroline",function(a){return 0===a});c.exit().remove()}};c.prototype._redrawYLines=function(){if(this._yScale){var a=this.betweenY(),c=this._yScale.ticks().slice(a?1:0);c=this._yLinesContainer.selectAll("line").data(c);c.enter().append("line").merge(c).attr("x1",0).attr("y1",b(this._yScale,a,this._yScale.ticks())).attr("x2",this.width()).attr("y2",b(this._yScale,a,this._yScale.ticks())).classed("betweenline",
a).classed("zeroline",function(a){return 0===a});c.exit().remove()}};return c}(d(4).Component);c.Gridlines=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(5),g=d(23),h=d(8),l=d(0);a=function(a){function c(b){var c=a.call(this)||this;c._textPadding=5;if(null==b)throw Error("InterpolatedColorLegend requires a interpolatedColorScale");
c._scale=b;c._redrawCallback=function(){return c.redraw()};c._scale.onUpdate(c._redrawCallback);c._formatter=h.general();c._orientation="horizontal";c._expands=!1;c.addClass("legend");c.addClass("interpolated-color-legend");return c}b(c,a);c.prototype.destroy=function(){a.prototype.destroy.call(this);this._scale.offUpdate(this._redrawCallback)};c.prototype.formatter=function(a){if(void 0===a)return this._formatter;this._formatter=a;this.redraw();return this};c.prototype.expands=function(){return this._expands};
c._ensureOrientation=function(a){a=a.toLowerCase();if("horizontal"===a||"left"===a||"right"===a)return a;throw Error('"'+a+'" is not a valid orientation for InterpolatedColorLegend');};c.prototype.orientation=function(a){if(null==a)return this._orientation;this._orientation=c._ensureOrientation(a);this.redraw();return this};c.prototype.fixedWidth=function(){return!this.expands()||this._isVertical()};c.prototype.fixedHeight=function(){return!this.expands()||!this._isVertical()};c.prototype._generateTicks=
function(a){void 0===a&&(a=c._DEFAULT_NUM_SWATCHES);var b=this._scale.domain();if(1===a)return[b[0]];for(var d=(b[1]-b[0])/(a-1),e=[],f=0;f<a;f++)e.push(b[0]+d*f);return e};c.prototype._setup=function(){a.prototype._setup.call(this);this._swatchContainer=this.content().append("g").classed("swatch-container",!0);this._swatchBoundingBox=this.content().append("rect").classed("swatch-bounding-box",!0);this._lowerLabel=this.content().append("g").classed(c.LEGEND_LABEL_CLASS,!0);this._upperLabel=this.content().append("g").classed(c.LEGEND_LABEL_CLASS,
!0);var b=new f.SvgContext(this.content().node());this._measurer=new f.Measurer(b);this._wrapper=new f.Wrapper;this._writer=new f.Writer(this._measurer,b,this._wrapper)};c.prototype.requestedSpace=function(){var a=this,b=this._measurer.measure().height,d=this._scale.domain().map(function(b){return a._measurer.measure(a._formatter(b)).width}),e=c._DEFAULT_NUM_SWATCHES;if(this._isVertical()){var f=l.Math.max(d,0);d=b+b+this._textPadding+f+this._textPadding;f=e*b}else f=b+b+b,d=this._textPadding+d[0]+
e*b+d[1]+this._textPadding;return{minWidth:d,minHeight:f}};c.prototype._isVertical=function(){return"horizontal"!==this._orientation};c.prototype.renderImmediately=function(){var b=this;a.prototype.renderImmediately.call(this);var c=this._scale.domain(),d=this._formatter(c[0]),e=this._measurer.measure(d).width,f=this._formatter(c[1]);c=this._measurer.measure(f).width;var h=this._measurer.measure().height,l=this._textPadding,m=0,n=0,B=0,H=0,E={xAlign:"center",yAlign:"center",textRotation:0},I={xAlign:"center",
yAlign:"center",textRotation:0},D={x:0,y:0,width:0,height:0};if(this._isVertical()){var C=Math.floor(this.height());var F=Math.max(e,c);var J=(this.width()-F-2*this._textPadding)/2;c=Math.max(this.width()-J-2*l-F,0);h=1;var K=function(a,c){return b.height()-(c+1)};I.yAlign="top";n=0;E.yAlign="bottom";H=0;if("left"===this._orientation){var S=function(){return l+F+l};I.xAlign="right";m=-(J+c+l);E.xAlign="right";B=-(J+c+l)}else S=function(){return J},I.xAlign="left",m=J+c+l,E.xAlign="left",B=J+c+l;D.width=
c;D.height=C*h}else J=Math.max(l,(this.height()-h)/2),C=Math.max(Math.floor(this.width()-4*l-e-c),0),c=1,h=Math.max(this.height()-2*J,0),S=function(a,b){return Math.floor(e+2*l)+b},K=function(){return J},I.xAlign="right",m=-l,E.xAlign="left",B=l,D.y=J,D.width=C*c,D.height=h;D.x=S(null,0);this._upperLabel.text("");this._writer.write(f,this.width(),this.height(),I,this._upperLabel.node());this._upperLabel.attr("transform","translate("+m+", "+n+")");this._lowerLabel.text("");this._writer.write(d,this.width(),
this.height(),E,this._lowerLabel.node());this._lowerLabel.attr("transform","translate("+B+", "+H+")");this._swatchBoundingBox.attrs(D);d=this._generateTicks(C);d=this._swatchContainer.selectAll("rect.swatch").data(d);f=d.enter().append("rect").classed("swatch",!0);m=d.merge(f);d.exit().remove();m.attrs({fill:function(a){return b._scale.scale(a)},width:c,height:h,x:S,y:K,"shape-rendering":"crispEdges"});g.ADD_TITLE_ELEMENTS&&f.append("title").text(function(a){return b._formatter(a)});return this};
return c}(d(4).Component);a._DEFAULT_NUM_SWATCHES=11;a.LEGEND_LABEL_CLASS="legend-label";c.InterpolatedColorLegend=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(5);a=function(a){function c(b,c){void 0===b&&(b="");void 0===c&&(c=0);var d=a.call(this)||this;d.addClass("label");d.text(b);d.angle(c);d.xAlignment("center").yAlignment("center");
d._padding=0;return d}b(c,a);c.prototype.requestedSpace=function(){var a=this._measurer.measure(this._text),b=(0===this.angle()?a.width:a.height)+2*this.padding();a=(0===this.angle()?a.height:a.width)+2*this.padding();return{minWidth:b,minHeight:a}};c.prototype._setup=function(){a.prototype._setup.call(this);this._textContainer=this.content().append("g");var b=new f.SvgContext(this._textContainer.node());this._measurer=new f.CacheMeasurer(b);this._wrapper=new f.Wrapper;this._writer=new f.Writer(this._measurer,
b,this._wrapper);this.text(this._text)};c.prototype.text=function(a){if(null==a)return this._text;if("string"!==typeof a)throw Error("Label.text() only takes strings as input");this._text=a;this.redraw();return this};c.prototype.angle=function(a){if(null==a)return this._angle;a%=360;180<a?a-=360:-180>a&&(a+=360);if(-90===a||0===a||90===a)this._angle=a;else throw Error(a+" is not a valid angle for Label");this.redraw();return this};c.prototype.padding=function(a){if(null==a)return this._padding;a=
+a;if(0>a)throw Error(a+" is not a valid padding value. Cannot be less than 0.");this._padding=a;this.redraw();return this};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._textContainer.selectAll("g").remove();var b=this._measurer.measure(this._text),c=Math.max(Math.min((this.height()-b.height)/2,this.padding()),0);b=Math.max(Math.min((this.width()-b.width)/2,this.padding()),
0);this._textContainer.attr("transform","translate("+b+","+c+")");b=this.width()-2*b;c=this.height()-2*c;var d={xAlign:this.xAlignment(),yAlign:this.yAlignment(),textRotation:this.angle()};this._writer.write(this._text,b,c,d);return this};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(d(4).Component);c.Label=a;d=function(a){function c(b,d){b=a.call(this,b,d)||this;b.addClass(c.TITLE_LABEL_CLASS);return b}b(c,a);return c}(a);d.TITLE_LABEL_CLASS=
"title-label";c.TitleLabel=d;a=function(a){function c(b,d){b=a.call(this,b,d)||this;b.addClass(c.AXIS_LABEL_CLASS);return b}b(c,a);return c}(a);a.AXIS_LABEL_CLASS="axis-label";c.AxisLabel=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),h=d(23),l=d(8),m=d(31),n=d(0);a=d(4);var q=function(){function a(a,b,c){void 0===a&&(a=
[]);void 0===b&&(b=0);void 0===c&&(c=Infinity);this.columns=a;this.bottomPadding=b;this.maxWidth=c}a.prototype.addColumn=function(a){var b=a.width,c=this.getWidthAvailable();a.width=Math.min(c,b);this.columns.push(a)};a.prototype.getBounds=function(a){for(var b=this.columns[a],c=0,d=0;d<a;d++)c+=this.columns[d].width;return{topLeft:{x:c,y:0},bottomRight:{x:c+b.width,y:b.height}}};a.prototype.getHeight=function(){return n.Math.max(this.columns.map(function(a){return a.height}),0)+this.bottomPadding};
a.prototype.getWidth=function(){return Math.min(this.columns.reduce(function(a,b){return a+b.width},0),this.maxWidth)};a.prototype.getWidthAvailable=function(){var a=this.getWidth();return Math.max(this.maxWidth-a,0)};return a}(),p=function(){function a(a,b,c,d){void 0===a&&(a=Infinity);void 0===b&&(b=Infinity);void 0===c&&(c=0);void 0===d&&(d=[]);this.maxWidth=a;this.maxHeight=b;this.padding=c;this.rows=d}a.prototype.addRow=function(a){a.maxWidth=this.maxWidth-2*this.padding;this.rows.push(a)};a.prototype.getColumnBounds=
function(a,b){var c=this.getRowBounds(a);a=this.rows[a].getBounds(b);a.topLeft.x+=c.topLeft.x;a.bottomRight.x+=c.topLeft.x;a.topLeft.y+=c.topLeft.y;a.bottomRight.y+=c.topLeft.y;return a};a.prototype.getRowBounds=function(a){for(var b=this.padding,c=this.padding,d=0;d<a;d++)c+=this.rows[d].getHeight();return{topLeft:{x:b,y:c},bottomRight:{x:b+this.rows[a].getWidth(),y:c+this.rows[a].getHeight()}}};a.prototype.getHeight=function(){return Math.min(this.rows.reduce(function(a,b){return a+b.getHeight()},
0)+2*this.padding,this.maxHeight)};a.prototype.getWidth=function(){return Math.min(n.Math.max(this.rows.map(function(a){return a.getWidth()}),0)+2*this.padding,this.maxWidth)};return a}();a=function(a){function c(b){var c=a.call(this)||this;c._padding=5;c._rowBottomPadding=3;c.addClass("legend");c.maxEntriesPerRow(1);if(null==b)throw Error("Legend requires a colorScale");c._colorScale=b;c._redrawCallback=function(){return c.redraw()};c._colorScale.onUpdate(c._redrawCallback);c._formatter=l.identity();
c.maxLinesPerEntry(1);c.xAlignment("right").yAlignment("top");c.comparator(function(a,b){var d=c._colorScale.domain().slice().map(function(a){return c._formatter(a)});return d.indexOf(a)-d.indexOf(b)});c._symbolFactoryAccessor=function(){return m.circle()};c._symbolOpacityAccessor=function(){return 1};return c}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);var b=this.content().append("g").classed(c.LEGEND_ROW_CLASS,!0);b.append("g").classed(c.LEGEND_ENTRY_CLASS,!0).append("text");
b=new g.SvgContext(b.node(),null,h.ADD_TITLE_ELEMENTS);this._measurer=new g.CacheMeasurer(b);this._wrapper=(new g.Wrapper).maxLines(this.maxLinesPerEntry());this._writer=new g.Writer(this._measurer,b,this._wrapper)};c.prototype.formatter=function(a){if(null==a)return this._formatter;this._formatter=a;this.redraw();return this};c.prototype.maxEntriesPerRow=function(a){if(null==a)return this._maxEntriesPerRow;this._maxEntriesPerRow=a;this.redraw();return this};c.prototype.maxLinesPerEntry=function(a){if(null==
a)return this._maxLinesPerEntry;this._maxLinesPerEntry=a;this.redraw();return this};c.prototype.maxWidth=function(a){if(null==a)return this._maxWidth;this._maxWidth=a;this.redraw();return this};c.prototype.comparator=function(a){null!=a&&(this._comparator=a,this.redraw())};c.prototype.colorScale=function(a){return null!=a?(this._colorScale.offUpdate(this._redrawCallback),this._colorScale=a,this._colorScale.onUpdate(this._redrawCallback),this.redraw(),this):this._colorScale};c.prototype.destroy=function(){a.prototype.destroy.call(this);
this._colorScale.offUpdate(this._redrawCallback)};c.prototype._buildLegendTable=function(a,b){var c=this,d=this._measurer.measure().height,e=new p(a,b,this._padding);a=this._colorScale.domain().slice().sort(function(a,b){return c._comparator(c._formatter(a),c._formatter(b))});var f=new q;e.addRow(f);f.bottomPadding=this._rowBottomPadding;a.forEach(function(a){f.columns.length/2===c.maxEntriesPerRow()&&(f=new q,f.bottomPadding=c._rowBottomPadding,e.addRow(f));var b=f.getWidthAvailable(),g=c._formatter(a),
h=c._measurer.measure(g).width;0>b-d-h&&1<f.columns.length&&(f=new q,f.bottomPadding=c._rowBottomPadding,e.addRow(f));f.addColumn({width:d,height:d,data:{name:a,type:"symbol"}});b=f.getWidthAvailable();b=Math.min(b,h);c._wrapper.maxLines(c.maxLinesPerEntry());g=c._wrapper.wrap(g,c._measurer,b).noLines*d;f.addColumn({width:b,height:g,data:{name:a,type:"text"}})});return e};c.prototype.requestedSpace=function(a,b){a=this._buildLegendTable(n.Math.min([this.maxWidth(),a],a),b);return{minHeight:a.getHeight(),
minWidth:a.getWidth()}};c.prototype.entitiesAt=function(a){var b=this;if(!this._isSetup)return[];var d=this._buildLegendTable(this.width(),this.height());return d.rows.reduce(function(e,g,h){if(0!==e.length)return e;var l=d.getRowBounds(h);return n.Math.within(a,l)?g.columns.reduce(function(e,g,l){var m=d.getColumnBounds(h,l);if(n.Math.within(a,m)){e=b.content().selectAll("."+c.LEGEND_ROW_CLASS).nodes()[h];l=f.select(e).selectAll("."+c.LEGEND_ENTRY_CLASS).nodes()[Math.floor(l/2)];var q=f.select(l).select("."+
c.LEGEND_SYMBOL_CLASS);m=n.DOM.getTranslateValues(f.select(e));q=n.DOM.getTranslateValues(q);return[{bounds:n.DOM.elementBBox(f.select(e)),datum:g.data.name,position:{x:m[0]+q[0],y:m[1]+q[1]},selection:f.select(l),component:b}]}return e},e):e},[])};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);var b=this._buildLegendTable(this.width(),this.height());this.content().selectAll("*").remove();var d=this.content().selectAll("g."+c.LEGEND_ROW_CLASS).data(b.rows),e=d.enter().append("g").classed(c.LEGEND_ROW_CLASS,
!0).merge(d);d.exit().remove();e.attr("transform",function(a,c){a=b.getRowBounds(c);return"translate("+a.topLeft.x+", "+a.topLeft.y+")"});var g=this;e.each(function(a,d){for(var e=[],h=0;h<a.columns.length;h+=2)e.push([a.columns[h],a.columns[h+1]]);a=f.select(this).selectAll("g."+c.LEGEND_ENTRY_CLASS).data(e);e=a.enter().append("g").classed(c.LEGEND_ENTRY_CLASS,!0).merge(a);e.append("path").attr("d",function(a){a=a[0];return g.symbol()(a.data.name,d)(.6*a.height)(null)}).attr("transform",function(a){a=
a[0];return"translate("+(b.getColumnBounds(d,b.rows[d].columns.indexOf(a)).topLeft.x+a.width/2)+", "+a.height/2+")"}).attr("fill",function(a){return g._colorScale.scale(a[0].data.name)}).attr("opacity",function(a){return g.symbolOpacity()(a[0].data.name,d)}).classed(c.LEGEND_SYMBOL_CLASS,!0);e.append("g").classed("text-container",!0).attr("transform",function(a){return"translate("+b.getColumnBounds(d,b.rows[d].columns.indexOf(a[1])).topLeft.x+", 0)"}).each(function(a){var b=f.select(this);a=a[1];
g._writer.write(g._formatter(a.data.name),a.width,g.height(),{xAlign:"left",yAlign:"top",textRotation:0},b.node())});a.exit().remove()});return this};c.prototype.symbol=function(a){if(null==a)return this._symbolFactoryAccessor;this._symbolFactoryAccessor=a;this.render();return this};c.prototype.symbolOpacity=function(){return this._symbolOpacityAccessor};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.invalidateCache=function(){this._measurer.reset()};
return c}(a.Component);a.LEGEND_ROW_CLASS="legend-row";a.LEGEND_ENTRY_CLASS="legend-entry";a.LEGEND_SYMBOL_CLASS="legend-symbol";c.Legend=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(2),g=d(0);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b(c,a);c.prototype.entityNearest=function(a){var b,c=Infinity;this.components().forEach(function(d){d=
d.entityNearest(a);if(null!=d){var e=g.Math.distanceSquared(d.position,a);e<=c&&(c=e,b=d)}});return b};c.prototype.append=function(b){if(null!=b&&!(b instanceof f.Plot))throw Error("Plot Group only accepts plots");a.prototype.append.call(this,b);return this};return c}(d(41).Group);c.PlotGroup=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},
f=d(1),g=d(0);a=function(a){function c(b){void 0===b&&(b=[]);var c=a.call(this)||this;c._rowPadding=0;c._columnPadding=0;c._rows=[];c._rowWeights=[];c._columnWeights=[];c._nRows=0;c._nCols=0;c._calculatedLayout=null;c.addClass("table");b.forEach(function(a,b){a.forEach(function(a,d){null!=a&&c.add(a,b,d)})});return c}b(c,a);c.prototype._forEach=function(a){for(var b=0;b<this._nRows;b++)for(var c=0;c<this._nCols;c++)null!=this._rows[b][c]&&a(this._rows[b][c])};c.prototype.has=function(a){for(var b=
0;b<this._nRows;b++)for(var c=0;c<this._nCols;c++)if(this._rows[b][c]===a)return!0;return!1};c.prototype.componentAt=function(a){return 0>=this._nRows||0>a||a>=this._nCols?null:this._rows[0][a]};c.prototype.add=function(a,b,c){if(null==a)throw Error("Cannot add null to a table cell");if(!this.has(a)){if(null!=(this._rows[b]&&this._rows[b][c]))throw Error("cell is occupied");a.detach();this._nRows=Math.max(b+1,this._nRows);this._nCols=Math.max(c+1,this._nCols);this._padTableToSize(this._nRows,this._nCols);
this._rows[b][c]=a;this._adoptAndAnchor(a);this.redraw()}return this};c.prototype._remove=function(a){for(var b=0;b<this._nRows;b++)for(var c=0;c<this._nCols;c++)if(this._rows[b][c]===a){this._rows[b][c]=null;return}};c.prototype._iterateLayout=function(a,b,d){void 0===d&&(d=!1);var e=this._rows,h=f.transpose(this._rows);a-=this._columnPadding*(this._nCols-1);b-=this._rowPadding*(this._nRows-1);e=c._calcComponentWeights(this._rowWeights,e,function(a){return null==a||a.fixedHeight()});h=c._calcComponentWeights(this._columnWeights,
h,function(a){return null==a||a.fixedWidth()});var l=h.map(function(a){return 0===a?.5:a}),m=e.map(function(a){return 0===a?.5:a});l=c._calcProportionalSpace(l,a);var n=c._calcProportionalSpace(m,b),q=g.Array.createFilledArray(0,this._nCols),x=g.Array.createFilledArray(0,this._nRows);m=0;for(var A,B,H;;){x=g.Array.add(x,n);l=g.Array.add(q,l);A=this._determineGuarantees(l,x,d);q=A.guaranteedWidths;x=A.guaranteedHeights;B=A.wantsWidthArr.some(function(a){return a});H=A.wantsHeightArr.some(function(a){return a});
var E=D,I=C;var D=a-f.sum(A.guaranteedWidths);var C=b-f.sum(A.guaranteedHeights);l=void 0;B?(l=A.wantsWidthArr.map(function(a){return a?.1:0}),l=g.Array.add(l,h)):l=h;n=void 0;H?(n=A.wantsHeightArr.map(function(a){return a?.1:0}),n=g.Array.add(n,e)):n=e;l=c._calcProportionalSpace(l,D);n=c._calcProportionalSpace(n,C);m++;I=0<C&&C!==I;if(!(0<D&&D!==E||I))break;if(5<m)break}D=a-f.sum(A.guaranteedWidths);C=b-f.sum(A.guaranteedHeights);l=c._calcProportionalSpace(h,D);n=c._calcProportionalSpace(e,C);return{colProportionalSpace:l,
rowProportionalSpace:n,guaranteedWidths:A.guaranteedWidths,guaranteedHeights:A.guaranteedHeights,wantsWidth:B,wantsHeight:H}};c.prototype._determineGuarantees=function(a,b,c){void 0===c&&(c=!1);var d=g.Array.createFilledArray(0,this._nCols),e=g.Array.createFilledArray(0,this._nRows),f=g.Array.createFilledArray(!1,this._nCols),h=g.Array.createFilledArray(!1,this._nRows);this._rows.forEach(function(g,l){g.forEach(function(g,m){g=null!=g?g.requestedSpace(a[m],b[l]):{minWidth:0,minHeight:0};d[m]=Math.max(d[m],
c?Math.min(g.minWidth,a[m]):g.minWidth);e[l]=Math.max(e[l],c?Math.min(g.minHeight,b[l]):g.minHeight);var n=g.minWidth>a[m];f[m]=f[m]||n;m=g.minHeight>b[l];h[l]=h[l]||m})});return{guaranteedWidths:d,guaranteedHeights:e,wantsWidthArr:f,wantsHeightArr:h}};c.prototype.requestedSpace=function(a,b){this._calculatedLayout=this._iterateLayout(a,b);return{minWidth:f.sum(this._calculatedLayout.guaranteedWidths),minHeight:f.sum(this._calculatedLayout.guaranteedHeights)}};c.prototype.computeLayout=function(b,
c,d){var e=this;a.prototype.computeLayout.call(this,b,c,d);b=f.sum(this._calculatedLayout.guaranteedHeights);c=this._calculatedLayout;if(f.sum(this._calculatedLayout.guaranteedWidths)>this.width()||b>this.height())c=this._iterateLayout(this.width(),this.height(),!0);var h=0,l=g.Array.add(c.rowProportionalSpace,c.guaranteedHeights),m=g.Array.add(c.colProportionalSpace,c.guaranteedWidths);this._rows.forEach(function(a,b){var c=0;a.forEach(function(a,d){null!=a&&a.computeLayout({x:c,y:h},m[d],l[b]);
c+=m[d]+e._columnPadding});h+=l[b]+e._rowPadding});return this};c.prototype.rowPadding=function(a){if(null==a)return this._rowPadding;if(!g.Math.isValidNumber(a)||0>a)throw Error("rowPadding must be a non-negative finite value");this._rowPadding=a;this.redraw();return this};c.prototype.columnPadding=function(a){if(null!=a){if(!g.Math.isValidNumber(a)||0>a)throw Error("columnPadding must be a non-negative finite value");this._columnPadding=a;this.redraw()}};c.prototype.rowWeight=function(a,b){if(null==
b)return this._rowWeights[a];if(!g.Math.isValidNumber(b)||0>b)throw Error("rowWeight must be a non-negative finite value");this._rowWeights[a]=b;this.redraw();return this};c.prototype.columnWeight=function(a,b){if(null==b)return this._columnWeights[a];if(!g.Math.isValidNumber(b)||0>b)throw Error("columnWeight must be a non-negative finite value");this._columnWeights[a]=b;this.redraw();return this};c.prototype.fixedWidth=function(){var a=f.transpose(this._rows);return c._fixedSpace(a,function(a){return null==
a||a.fixedWidth()})};c.prototype.fixedHeight=function(){return c._fixedSpace(this._rows,function(a){return null==a||a.fixedHeight()})};c.prototype._padTableToSize=function(a,b){for(var c=0;c<a;c++){void 0===this._rows[c]&&(this._rows[c]=[],this._rowWeights[c]=null);for(var d=0;d<b;d++)void 0===this._rows[c][d]&&(this._rows[c][d]=null)}for(d=0;d<b;d++)void 0===this._columnWeights[d]&&(this._columnWeights[d]=null)};c._calcComponentWeights=function(a,b,c){return a.map(function(a,d){return null!=a?a:
b[d].map(c).reduce(function(a,b){return a&&b},!0)?0:1})};c._calcProportionalSpace=function(a,b){var c=f.sum(a);return 0===c?g.Array.createFilledArray(0,a.length):a.map(function(a){return b*a/c})};c._fixedSpace=function(a,b){function c(a){return a.reduce(function(a,b){return a&&b},!0)}return c(a.map(function(a){return c(a.map(b))}))};return c}(d(29).ComponentContainer);c.Table=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){var b=a.call(this)||this;b.addClass("x-drag-box-layer");b._hasCorners=!1;return b}b(c,a);c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this._setBounds(this.bounds());return this};c.prototype._setBounds=function(b){a.prototype._setBounds.call(this,{topLeft:{x:b.topLeft.x,y:0},bottomRight:{x:b.bottomRight.x,y:this.height()}})};c.prototype._setResizableClasses=
function(a){a&&this.enabled()?this.addClass("x-resizable"):this.removeClass("x-resizable")};c.prototype.yScale=function(b){if(null==b)return a.prototype.yScale.call(this);throw Error("yScales cannot be set on an XDragBoxLayer");};c.prototype.yExtent=function(){return a.prototype.yExtent.call(this);throw Error("XDragBoxLayer has no yExtent");};return c}(d(32).DragBoxLayer);c.XDragBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){var b=a.call(this)||this;b.addClass("y-drag-box-layer");b._hasCorners=!1;return b}b(c,a);c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this._setBounds(this.bounds());return this};c.prototype._setBounds=function(b){a.prototype._setBounds.call(this,{topLeft:{x:0,y:b.topLeft.y},bottomRight:{x:this.width(),y:b.bottomRight.y}})};c.prototype._setResizableClasses=
function(a){a&&this.enabled()?this.addClass("y-resizable"):this.removeClass("y-resizable")};c.prototype.xScale=function(b){if(null==b)return a.prototype.xScale.call(this);throw Error("xScales cannot be set on an YDragBoxLayer");};c.prototype.xExtent=function(){return a.prototype.xExtent.call(this);throw Error("YDragBoxLayer has no xExtent");};return c}(d(32).DragBoxLayer);c.YDragBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){var b=a.call(this)||this;b._eventToProcessingFunction[c._KEYDOWN_EVENT_NAME]=function(a){return b._processKeydown(a)};b._eventToProcessingFunction[c._KEYUP_EVENT_NAME]=function(a){return b._processKeyup(a)};return b}b(c,a);c.getDispatcher=function(){var a=document[c._DISPATCHER_KEY];null==a&&(a=new c,document[c._DISPATCHER_KEY]=a);return a};c.prototype._processKeydown=function(a){this._callCallbacksForEvent(c._KEYDOWN_EVENT_NAME,
a.keyCode,a)};c.prototype._processKeyup=function(a){this._callCallbacksForEvent(c._KEYUP_EVENT_NAME,a.keyCode,a)};c.prototype.onKeyDown=function(a){this._addCallbackForEvent(c._KEYDOWN_EVENT_NAME,a);return this};c.prototype.offKeyDown=function(a){this._removeCallbackForEvent(c._KEYDOWN_EVENT_NAME,a)};c.prototype.onKeyUp=function(a){this._addCallbackForEvent(c._KEYUP_EVENT_NAME,a);return this};c.prototype.offKeyUp=function(a){this._removeCallbackForEvent(c._KEYUP_EVENT_NAME,a)};return c}(d(24).Dispatcher);
a._DISPATCHER_KEY="__Plottable_Dispatcher_Key";a._KEYDOWN_EVENT_NAME="keydown";a._KEYUP_EVENT_NAME="keyup";c.Key=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=function(a){function c(b){function d(a){return e._measureAndDispatch(b,a,c._MOUSEMOVE_EVENT_NAME,"page")}var e=a.call(this)||this;e._lastMousePosition={x:-1,y:-1};e._translator=
f.getTranslator(b);e._eventToProcessingFunction[c._MOUSEOVER_EVENT_NAME]=d;e._eventToProcessingFunction[c._MOUSEMOVE_EVENT_NAME]=d;e._eventToProcessingFunction[c._MOUSEOUT_EVENT_NAME]=d;e._eventToProcessingFunction[c._MOUSEDOWN_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._MOUSEDOWN_EVENT_NAME)};e._eventToProcessingFunction[c._MOUSEUP_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._MOUSEUP_EVENT_NAME,"page")};e._eventToProcessingFunction[c._WHEEL_EVENT_NAME]=function(a){return e._measureAndDispatch(b,
a,c._WHEEL_EVENT_NAME)};e._eventToProcessingFunction[c._DBLCLICK_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._DBLCLICK_EVENT_NAME)};return e}b(c,a);c.getDispatcher=function(a){var b=a.root().rootElement(),d=b[c._DISPATCHER_KEY];null==d&&(d=new c(a),b[c._DISPATCHER_KEY]=d);return d};c.prototype.onMouseMove=function(a){this._addCallbackForEvent(c._MOUSEMOVE_EVENT_NAME,a);return this};c.prototype.offMouseMove=function(a){this._removeCallbackForEvent(c._MOUSEMOVE_EVENT_NAME,a)};c.prototype.onMouseDown=
function(a){this._addCallbackForEvent(c._MOUSEDOWN_EVENT_NAME,a);return this};c.prototype.offMouseDown=function(a){this._removeCallbackForEvent(c._MOUSEDOWN_EVENT_NAME,a)};c.prototype.onMouseUp=function(a){this._addCallbackForEvent(c._MOUSEUP_EVENT_NAME,a);return this};c.prototype.offMouseUp=function(a){this._removeCallbackForEvent(c._MOUSEUP_EVENT_NAME,a)};c.prototype.onWheel=function(a){this._addCallbackForEvent(c._WHEEL_EVENT_NAME,a)};c.prototype.offWheel=function(a){this._removeCallbackForEvent(c._WHEEL_EVENT_NAME,
a)};c.prototype.onDblClick=function(a){this._addCallbackForEvent(c._DBLCLICK_EVENT_NAME,a)};c.prototype.offDblClick=function(a){this._removeCallbackForEvent(c._DBLCLICK_EVENT_NAME,a)};c.prototype._measureAndDispatch=function(a,b,c,d){void 0===d&&(d="element");if("page"!==d&&"element"!==d)throw Error("Invalid scope '"+d+"', must be 'element' or 'page'");if("page"===d||this.eventInside(a,b))this._lastMousePosition=this._translator.computePosition(b.clientX,b.clientY),this._callCallbacksForEvent(c,this.lastMousePosition(),
b)};c.prototype.eventInside=function(a,b){return f.Translator.isEventInside(a,b)};c.prototype.lastMousePosition=function(){return this._lastMousePosition};return c}(d(24).Dispatcher);a._DISPATCHER_KEY="__Plottable_Dispatcher_Mouse";a._MOUSEOVER_EVENT_NAME="mouseover";a._MOUSEMOVE_EVENT_NAME="mousemove";a._MOUSEOUT_EVENT_NAME="mouseout";a._MOUSEDOWN_EVENT_NAME="mousedown";a._MOUSEUP_EVENT_NAME="mouseup";a._WHEEL_EVENT_NAME="wheel";a._DBLCLICK_EVENT_NAME="dblclick";c.Mouse=a},function(a,c,d){var b=
this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=function(a){function c(b){var d=a.call(this)||this;d._translator=f.getTranslator(b);d._eventToProcessingFunction[c._TOUCHSTART_EVENT_NAME]=function(a){return d._measureAndDispatch(b,a,c._TOUCHSTART_EVENT_NAME,"page")};d._eventToProcessingFunction[c._TOUCHMOVE_EVENT_NAME]=function(a){return d._measureAndDispatch(b,
a,c._TOUCHMOVE_EVENT_NAME,"page")};d._eventToProcessingFunction[c._TOUCHEND_EVENT_NAME]=function(a){return d._measureAndDispatch(b,a,c._TOUCHEND_EVENT_NAME,"page")};d._eventToProcessingFunction[c._TOUCHCANCEL_EVENT_NAME]=function(a){return d._measureAndDispatch(b,a,c._TOUCHCANCEL_EVENT_NAME,"page")};return d}b(c,a);c.getDispatcher=function(a){var b=a.root().rootElement(),d=b[c._DISPATCHER_KEY];null==d&&(d=new c(a),b[c._DISPATCHER_KEY]=d);return d};c.prototype.onTouchStart=function(a){this._addCallbackForEvent(c._TOUCHSTART_EVENT_NAME,
a)};c.prototype.offTouchStart=function(a){this._removeCallbackForEvent(c._TOUCHSTART_EVENT_NAME,a)};c.prototype.onTouchMove=function(a){this._addCallbackForEvent(c._TOUCHMOVE_EVENT_NAME,a)};c.prototype.offTouchMove=function(a){this._removeCallbackForEvent(c._TOUCHMOVE_EVENT_NAME,a)};c.prototype.onTouchEnd=function(a){this._addCallbackForEvent(c._TOUCHEND_EVENT_NAME,a)};c.prototype.offTouchEnd=function(a){this._removeCallbackForEvent(c._TOUCHEND_EVENT_NAME,a)};c.prototype.onTouchCancel=function(a){this._addCallbackForEvent(c._TOUCHCANCEL_EVENT_NAME,
a)};c.prototype.offTouchCancel=function(a){this._removeCallbackForEvent(c._TOUCHCANCEL_EVENT_NAME,a)};c.prototype._measureAndDispatch=function(a,b,c,d){void 0===d&&(d="element");if("page"!==d&&"element"!==d)throw Error("Invalid scope '"+d+"', must be 'element' or 'page'");if("element"!==d||this.eventInside(a,b)){a=b.changedTouches;d={};for(var e=[],f=0;f<a.length;f++){var g=a[f],h=g.identifier;g=this._translator.computePosition(g.clientX,g.clientY);null!=g&&(d[h]=g,e.push(h))}0<e.length&&this._callCallbacksForEvent(c,
e,d,b)}};c.prototype.eventInside=function(a,b){return f.Translator.isEventInside(a,b)};return c}(d(24).Dispatcher);a._DISPATCHER_KEY="__Plottable_Dispatcher_Touch";a._TOUCHSTART_EVENT_NAME="touchstart";a._TOUCHMOVE_EVENT_NAME="touchmove";a._TOUCHEND_EVENT_NAME="touchend";a._TOUCHCANCEL_EVENT_NAME="touchcancel";c.Touch=a},function(a,c){a=function(){function a(b,c,d){void 0===d&&(d=window.devicePixelRatio);this.screenWidth=b;this.screenHeight=c;this.devicePixelRatio=d;this.pixelWidth=b*d;this.pixelHeight=
c*d;this.canvas=document.createElement("canvas");this.ctx=this.canvas.getContext("2d");a.sizePixels(this.ctx,b,c,d)}a.sizePixels=function(a,b,c,d){var e=a.canvas;e.width=b*d;e.height=c*d;e.style.width=b+"px";e.style.height=c+"px";a.setTransform(1,0,0,1,0,0);a.scale(d,d)};a.prototype.blit=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);a.drawImage(this.canvas,b,c,this.screenWidth,this.screenHeight)};a.prototype.blitCenter=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);this.blit(a,Math.floor(b-
this.screenWidth/2),Math.floor(c-this.screenHeight/2))};a.prototype.resize=function(b,c,d){void 0===d&&(d=!1);var e=this.devicePixelRatio;this.screenWidth=b;this.screenHeight=c;this.pixelWidth=b*e;this.pixelHeight=c*e;a.sizePixels(this.ctx,b,c,e);d&&this.ctx.translate(b/2,b/2);return this};a.prototype.clear=function(a){var b=this.pixelWidth,c=this.pixelHeight,d=this.ctx;d.save();d.setTransform(1,0,0,1,0,0);null==a?d.clearRect(0,0,b,c):(d.fillStyle=a,d.fillRect(0,0,b,c));d.restore();return this};a.prototype.getImageData=
function(){return this.ctx.getImageData(0,0,this.pixelWidth,this.pixelHeight)};return a}();c.CanvasBuffer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._clickedDown=!1;b._doubleClicking=!1;b._onClickCallbacks=new g.CallbackSet;b._onDoubleClickCallbacks=
new g.CallbackSet;b._mouseDownCallback=function(a){return b._handleClickDown(a)};b._mouseUpCallback=function(a,c){return b._handleClickUp(a,c)};b._dblClickCallback=function(a,c){return b._handleDblClick(a,c)};b._touchStartCallback=function(a,c){return b._handleClickDown(c[a[0]])};b._touchEndCallback=function(a,c,d){return b._handleClickUp(c[a[0]],d)};b._touchCancelCallback=function(){return b._clickedDown=!1};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._mouseDispatcher=
f.Mouse.getDispatcher(b);this._mouseDispatcher.onMouseDown(this._mouseDownCallback);this._mouseDispatcher.onMouseUp(this._mouseUpCallback);this._mouseDispatcher.onDblClick(this._dblClickCallback);this._touchDispatcher=f.Touch.getDispatcher(b);this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback);this._touchDispatcher.onTouchCancel(this._touchCancelCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offMouseDown(this._mouseDownCallback);
this._mouseDispatcher.offMouseUp(this._mouseUpCallback);this._mouseDispatcher.offDblClick(this._dblClickCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher.offTouchCancel(this._touchCancelCallback);this._touchDispatcher=null};c.prototype._handleClickDown=function(a){a=this._translateToComponentSpace(a);this._isInsideComponent(a)&&(this._clickedDown=!0,this._clickedPoint=a)};
c.prototype._handleClickUp=function(a,b){var d=this,e=this._translateToComponentSpace(a);this._clickedDown&&c._pointsEqual(e,this._clickedPoint)&&setTimeout(function(){d._doubleClicking||d._onClickCallbacks.callCallbacks(e,b)},0);this._clickedDown=!1};c.prototype._handleDblClick=function(a,b){var c=this;a=this._translateToComponentSpace(a);this._doubleClicking=!0;this._onDoubleClickCallbacks.callCallbacks(a,b);setTimeout(function(){return c._doubleClicking=!1},0)};c._pointsEqual=function(a,b){return a.x===
b.x&&a.y===b.y};c.prototype.onClick=function(a){this._onClickCallbacks.add(a);return this};c.prototype.offClick=function(a){this._onClickCallbacks.delete(a)};c.prototype.onDoubleClick=function(a){this._onDoubleClickCallbacks.add(a)};c.prototype.offDoubleClick=function(a){this._onDoubleClickCallbacks.delete(a);return this};return c}(d(15).Interaction);c.Click=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);
a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._dragging=!1;b._constrainedToComponent=!0;b._mouseFilter=c._DEFAULT_MOUSE_FILTER;b._dragStartCallbacks=new g.CallbackSet;b._dragCallbacks=new g.CallbackSet;b._dragEndCallbacks=new g.CallbackSet;b._mouseDownCallback=function(a,c){return b._startDrag(a,c)};b._mouseMoveCallback=function(a){return b._doDrag(a)};b._mouseUpCallback=function(a,c){return b._endDrag(a,
c)};b._touchStartCallback=function(a,c,d){return b._startDrag(c[a[0]],d)};b._touchMoveCallback=function(a,c){return b._doDrag(c[a[0]])};b._touchEndCallback=function(a,c,d){return b._endDrag(c[a[0]],d)};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._mouseDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onMouseDown(this._mouseDownCallback);this._mouseDispatcher.onMouseMove(this._mouseMoveCallback);this._mouseDispatcher.onMouseUp(this._mouseUpCallback);
this._touchDispatcher=f.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchMove(this._touchMoveCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offMouseDown(this._mouseDownCallback);this._mouseDispatcher.offMouseMove(this._mouseMoveCallback);this._mouseDispatcher.offMouseUp(this._mouseUpCallback);this._mouseDispatcher=
null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchMove(this._touchMoveCallback);this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher=null};c.prototype._translateAndConstrain=function(a){a=this._translateToComponentSpace(a);return this._constrainedToComponent?{x:g.Math.clamp(a.x,0,this._componentAttachedTo.width()),y:g.Math.clamp(a.y,0,this._componentAttachedTo.height())}:a};c.prototype._startDrag=function(a,b){b instanceof MouseEvent&&
!this._mouseFilter(b)||(a=this._translateToComponentSpace(a),this._isInsideComponent(a)&&(b.preventDefault(),this._dragging=!0,this._dragOrigin=a,this._dragStartCallbacks.callCallbacks(this._dragOrigin)))};c.prototype._doDrag=function(a){this._dragging&&this._dragCallbacks.callCallbacks(this._dragOrigin,this._translateAndConstrain(a))};c.prototype._endDrag=function(a,b){b instanceof MouseEvent&&0!==b.button||!this._dragging||(this._dragging=!1,this._dragEndCallbacks.callCallbacks(this._dragOrigin,
this._translateAndConstrain(a)))};c.prototype.constrainedToComponent=function(){this._constrainedToComponent=!1};c.prototype.mouseFilter=function(a){0!==arguments.length&&(this._mouseFilter=a)};c.prototype.onDragStart=function(a){this._dragStartCallbacks.add(a)};c.prototype.offDragStart=function(a){this._dragStartCallbacks.delete(a)};c.prototype.onDrag=function(a){this._dragCallbacks.add(a)};c.prototype.offDrag=function(a){this._dragCallbacks.delete(a)};c.prototype.onDragEnd=function(a){this._dragEndCallbacks.add(a)};
c.prototype.offDragEnd=function(a){this._dragEndCallbacks.delete(a)};return c}(d(15).Interaction);a._DEFAULT_MOUSE_FILTER=function(a){return 0===a.button};c.Drag=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(13),h=d(3),l=d(0),m=d(25);a=d(15);var n=d(26);d=function(a){function c(b,c){var d=a.call(this)||this;d._wheelFilter=
function(){return!0};d._wheelCallback=function(a,b){return d._handleWheelEvent(a,b)};d._touchStartCallback=function(a,b){return d._handleTouchStart(a,b)};d._touchMoveCallback=function(a,b){return d._handlePinch(a,b)};d._touchEndCallback=function(a){return d._handleTouchEnd(a)};d._touchCancelCallback=function(a){return d._handleTouchEnd(a)};d._panEndCallbacks=new l.CallbackSet;d._zoomEndCallbacks=new l.CallbackSet;d._panZoomUpdateCallbacks=new l.CallbackSet;d._xScales=new l.Set;d._yScales=new l.Set;
d._dragInteraction=new m.Drag;d._setupDragInteraction();d._touchIds=f.map();d._minDomainExtents=new l.Map;d._maxDomainExtents=new l.Map;d._minDomainValues=new l.Map;d._maxDomainValues=new l.Map;null!=b&&d.addXScale(b);null!=c&&d.addYScale(c);return d}b(c,a);c.prototype.dragInteraction=function(){return this._dragInteraction};c.prototype.wheelFilter=function(a){if(0===arguments.length)return this._wheelFilter;this._wheelFilter=a;return this};c.prototype.pan=function(a){var b=this;this.xScales().forEach(function(c){c.pan(b._constrainedTranslation(c,
a.x))});this.yScales().forEach(function(c){c.pan(b._constrainedTranslation(c,a.y))});this._panZoomUpdateCallbacks.callCallbacks()};c.prototype.zoom=function(a,b,c){var d=this;void 0===c&&(c=!0);if(null!=b){var e=b.x;var f=b.y;c&&(this.xScales().forEach(function(b){b=d._constrainedZoom(b,a,e);e=b.centerPoint;a=b.zoomAmount}),this.yScales().forEach(function(b){b=d._constrainedZoom(b,a,f);f=b.centerPoint;a=b.zoomAmount}))}this.xScales().forEach(function(b){var c=b.range();b.zoom(a,null==e?(c[1]+c[0])/
2:e)});this.yScales().forEach(function(b){var c=b.range();b.zoom(a,null==f?(c[1]+c[0])/2:f)});this._panZoomUpdateCallbacks.callCallbacks();return{zoomAmount:a,centerValue:{centerX:e,centerY:f}}};c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._dragInteraction.attachTo(b);this._mouseDispatcher=g.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onWheel(this._wheelCallback);this._touchDispatcher=g.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback);
this._touchDispatcher.onTouchMove(this._touchMoveCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback);this._touchDispatcher.onTouchCancel(this._touchCancelCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offWheel(this._wheelCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchMove(this._touchMoveCallback);this._touchDispatcher.offTouchEnd(this._touchEndCallback);
this._touchDispatcher.offTouchCancel(this._touchCancelCallback);this._touchDispatcher=null;this._dragInteraction.detach()};c.prototype._handleTouchStart=function(a,b){for(var c=0;c<a.length&&2>this._touchIds.size();c++){var d=a[c];this._touchIds.set(d.toString(),this._translateToComponentSpace(b[d]))}};c.prototype._handlePinch=function(a,b){var d=this;if(!(2>this._touchIds.size())){var e=this._touchIds.values();if(this._isInsideComponent(this._translateToComponentSpace(e[0]))&&this._isInsideComponent(this._translateToComponentSpace(e[1]))){var f=
c._pointDistance(e[0],e[1]);if(0!==f){a.forEach(function(a){d._touchIds.has(a.toString())&&d._touchIds.set(a.toString(),d._translateToComponentSpace(b[a]))});a=this._touchIds.values();var g=c._pointDistance(a[0],a[1]);if(0!==g){var h=f/g,l=a.map(function(a,b){return{x:(a.x-e[b].x)/h,y:(a.y-e[b].y)/h}});f=c.centerPoint(e[0],e[1]);f=this.zoom(h,f);a=f.centerValue;var m=f.zoomAmount;f=a.centerX;a=a.centerY;g=e.map(function(a,b){return{x:l[b].x*m+a.x,y:l[b].y*m+a.y}});this.pan({x:f-(g[0].x+g[1].x)/2,
y:a-(g[0].y+g[1].y)/2})}}}}};c.centerPoint=function(a,b){return{x:(Math.min(a.x,b.x)+Math.max(a.x,b.x))/2,y:(Math.max(a.y,b.y)+Math.min(a.y,b.y))/2}};c._pointDistance=function(a,b){return Math.sqrt(Math.pow(Math.max(a.x,b.x)-Math.min(a.x,b.x),2)+Math.pow(Math.max(a.y,b.y)-Math.min(a.y,b.y),2))};c.prototype._handleTouchEnd=function(a){var b=this;a.forEach(function(a){b._touchIds.remove(a.toString())});0<this._touchIds.size()&&this._zoomEndCallbacks.callCallbacks()};c.prototype._handleWheelEvent=function(a,
b){this._wheelFilter(b)&&(a=this._translateToComponentSpace(a),this._isInsideComponent(a)&&(b.preventDefault(),this.zoom(Math.pow(2,(0!==b.deltaY?b.deltaY:b.deltaX)*(b.deltaMode?c._PIXELS_PER_LINE:1)*.002),a),this._zoomEndCallbacks.callCallbacks()))};c.prototype._constrainedZoom=function(a,b,c){return n.constrainedZoom(a,b,c,this.minDomainExtent(a),this.maxDomainExtent(a),this.minDomainValue(a),this.maxDomainValue(a))};c.prototype._constrainedTranslation=function(a,b){return n.constrainedTranslation(a,
b,this.minDomainValue(a),this.maxDomainValue(a))};c.prototype._setupDragInteraction=function(){var a=this;this._dragInteraction.constrainedToComponent();var b;this._dragInteraction.onDragStart(function(){return b=null});this._dragInteraction.onDrag(function(c,d){2<=a._touchIds.size()||(a.pan({x:(null==b?c.x:b.x)-d.x,y:(null==b?c.y:b.y)-d.y}),b=d)});this._dragInteraction.onDragEnd(function(){return a._panEndCallbacks.callCallbacks()})};c.prototype._nonLinearScaleWithExtents=function(a){return null!=
this.minDomainExtent(a)&&null!=this.maxDomainExtent(a)&&!(a instanceof h.Linear)&&!(a instanceof h.Time)};c.prototype.xScales=function(){var a=[];this._xScales.forEach(function(b){a.push(b)});return a};c.prototype.yScales=function(){var a=[];this._yScales.forEach(function(b){a.push(b)});return a};c.prototype.addXScale=function(a){this._xScales.add(a)};c.prototype.removeXScale=function(a){this._xScales.delete(a);this._minDomainExtents.delete(a);this._maxDomainExtents.delete(a);this._minDomainValues.delete(a);
this._maxDomainValues.delete(a);return this};c.prototype.addYScale=function(a){this._yScales.add(a)};c.prototype.removeYScale=function(a){this._yScales.delete(a);this._minDomainExtents.delete(a);this._maxDomainExtents.delete(a);this._minDomainValues.delete(a);this._maxDomainValues.delete(a);return this};c.prototype.minDomainExtent=function(a){return this._minDomainExtents.get(a)};c.prototype.maxDomainExtent=function(a){return this._maxDomainExtents.get(a)};c.prototype.minDomainValue=function(a,b){if(null==
b)return this._minDomainValues.get(a);this._minDomainValues.set(a,b);return this};c.prototype.maxDomainValue=function(a,b){if(null==b)return this._maxDomainValues.get(a);this._maxDomainValues.set(a,b);return this};c.prototype.setMinMaxDomainValuesTo=function(a){this._minDomainValues.delete(a);this._maxDomainValues.delete(a);var b=a.getTransformationDomain(),c=b[1];this.minDomainValue(a,b[0]);this.maxDomainValue(a,c);return this};c.prototype.onPanEnd=function(a){this._panEndCallbacks.add(a)};c.prototype.offPanEnd=
function(a){this._panEndCallbacks.delete(a);return this};c.prototype.onZoomEnd=function(a){this._zoomEndCallbacks.add(a)};c.prototype.offZoomEnd=function(a){this._zoomEndCallbacks.delete(a);return this};c.prototype.onPanZoomUpdate=function(a){this._panZoomUpdateCallbacks.add(a);return this};c.prototype.offPanZoomUpdate=function(a){this._panZoomUpdateCallbacks.delete(a);return this};return c}(a.Interaction);d._PIXELS_PER_LINE=120;c.PanZoom=d},function(a,c,d){var b=this&&this.__extends||function(a,
b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._overComponent=!1;b._pointerEnterCallbacks=new g.CallbackSet;b._pointerMoveCallbacks=new g.CallbackSet;b._pointerExitCallbacks=new g.CallbackSet;b._mouseMoveCallback=function(a,c){return b._handleMouseEvent(a,c)};b._touchStartCallback=function(a,c,d){return b._handleTouchEvent(c[a[0]],
d)};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._mouseDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onMouseMove(this._mouseMoveCallback);this._touchDispatcher=f.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offMouseMove(this._mouseMoveCallback);this._mouseDispatcher=null;
this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher=null};c.prototype._handleMouseEvent=function(a,b){b=this._mouseDispatcher.eventInside(this._componentAttachedTo,b);this._handlePointerEvent(a,b)};c.prototype._handleTouchEvent=function(a,b){b=this._touchDispatcher.eventInside(this._componentAttachedTo,b);this._handlePointerEvent(a,b)};c.prototype._handlePointerEvent=function(a,b){a=this._translateToComponentSpace(a);var c=this._isInsideComponent(a);c&&b?(this._overComponent||
this._pointerEnterCallbacks.callCallbacks(a),this._pointerMoveCallbacks.callCallbacks(a)):this._overComponent&&this._pointerExitCallbacks.callCallbacks(a);this._overComponent=c&&b};c.prototype.onPointerEnter=function(a){this._pointerEnterCallbacks.add(a);return this};c.prototype.offPointerEnter=function(a){this._pointerEnterCallbacks.delete(a);return this};c.prototype.onPointerMove=function(a){this._pointerMoveCallbacks.add(a)};c.prototype.offPointerMove=function(a){this._pointerMoveCallbacks.delete(a)};
c.prototype.onPointerExit=function(a){this._pointerExitCallbacks.add(a)};c.prototype.offPointerExit=function(a){this._pointerExitCallbacks.delete(a);return this};return c}(d(15).Interaction);c.Pointer=a},function(a,c,d){var b=d(20);c.memThunk=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var d=a.slice(0,-1),e=b.memoize(a[a.length-1]);return function(){var a=this,b=d.map(function(b){return b.apply(a)});return e.apply(void 0,b)}}},function(a,c,d){var b=d(49);c.memoize=function(a){function c(){for(var c=
[],g=0;g<arguments.length;g++)c[g]=arguments[g];if(f)return e;g=b.signArray(c);void 0===d||d.isDifferent(g)?(n&&console.log("cache miss! computing"),d=g,e=a.apply(this,c)):n&&console.log("cache hit!");return e}var d=void 0,e,f=!1,n=!1;c.doLocked=function(a){if(f)throw Error("Locking an already locked memoize function!");f=!0;a=a.apply(this);f=!1;return a};c.logPerformance=function(a){void 0===a&&(a=!0);n=a;return this};return c}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(3),g=d(0),h=d(27),l=d(2);a=function(a){function c(b){void 0===b&&(b="vertical");b=a.call(this,b)||this;b._clusterOffsets=new g.Map;return b}b(c,a);c.prototype._generateAttrToProjector=function(){function b(){return e.rangeBand()}var c=this,d=a.prototype._generateAttrToProjector.call(this),e=this._makeInnerScale();d.width=this._isVertical?b:d.width;d.height=this._isVertical?
d.height:b;var f=d.x,g=d.y;d.x=this._isVertical?function(a,b,d){return f(a,b,d)+c._clusterOffsets.get(d)}:function(a,b,c){return f(a,b,c)};d.y=this._isVertical?function(a,b,c){return g(a,b,c)}:function(a,b,d){return g(a,b,d)+c._clusterOffsets.get(d)};return d};c.prototype._updateClusterPosition=function(){var a=this,b=this._makeInnerScale();this.datasets().forEach(function(c,d){return a._clusterOffsets.set(c,b.scale(String(d))-b.rangeBand()/2)})};c.prototype._makeInnerScale=function(){var a=new f.Category;
a.domain(this.datasets().map(function(a,b){return String(b)}));var b=l.Plot._scaledAccessor(this.attr(h.Bar._BAR_THICKNESS_KEY));a.range([0,b(null,0,null)]);return a};c.prototype._getDataToDraw=function(){this._updateClusterPosition();return a.prototype._getDataToDraw.call(this)};return c}(h.Bar);c.ClusteredBar=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)},f=d(1),g=d(5),h=d(7),l=d(8),m=d(3),n=d(0),q=d(44),p=d(45),t=d(6),r=d(35),w=d(2);a=function(a){function c(){var b=a.call(this)||this;b._startAngle=0;b._endAngle=2*Math.PI;b._labelFormatter=l.identity();b._labelsEnabled=!1;b.innerRadius(0);b.outerRadius(function(){var a=b._pieCenter();return Math.min(Math.max(b.width()-a.x,a.x),Math.max(b.height()-a.y,a.y))});b.addClass("pie-plot");b.attr("fill",function(a,b){return String(b)},new m.Color);b._strokeDrawers=new n.Map;return b}b(c,
a);c.prototype._setup=function(){var b=this;a.prototype._setup.call(this);this._strokeDrawers.forEach(function(a){return a.attachTo(b._renderArea)})};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);b=this._pieCenter();this._renderArea.attr("transform","translate("+b.x+","+b.y+")");b=Math.min(Math.max(this.width()-b.x,b.x),Math.max(this.height()-b.y,b.y));null!=this.innerRadius().scale&&this.innerRadius().scale.range([0,b]);null!=this.outerRadius().scale&&this.outerRadius().scale.range([0,
b]);return this};c.prototype.addDataset=function(b){a.prototype.addDataset.call(this,b);return this};c.prototype._addDataset=function(b){if(1===this.datasets().length)return n.Window.warn("Only one dataset is supported in Pie plots"),this;this._updatePieAngles();var c=new p.ArcOutlineSVGDrawer;this._isSetup&&c.attachTo(this._renderArea);this._strokeDrawers.set(b,c);a.prototype._addDataset.call(this,b);return this};c.prototype.removeDataset=function(b){a.prototype.removeDataset.call(this,b)};c.prototype._removeDatasetNodes=
function(b){a.prototype._removeDatasetNodes.call(this,b);this._strokeDrawers.get(b).remove()};c.prototype._removeDataset=function(b){a.prototype._removeDataset.call(this,b);this._startAngles=[];this._endAngles=[];return this};c.prototype.selections=function(b){var c=this;void 0===b&&(b=this.datasets());var d=a.prototype.selections.call(this,b).nodes();b.forEach(function(a){a=c._strokeDrawers.get(a);null!=a&&d.push.apply(d,a.getVisualPrimitives())});return f.selectAll(d)};c.prototype._onDatasetUpdate=
function(){a.prototype._onDatasetUpdate.call(this);this._updatePieAngles();this.render()};c.prototype._createDrawer=function(){return new t.ProxyDrawer(function(){return new q.ArcSVGDrawer},function(){r.warn("canvas renderer is not supported on Pie Plot!");return null})};c.prototype.entities=function(b){var c=this;void 0===b&&(b=this.datasets());return a.prototype.entities.call(this,b).map(function(a){a.position.x+=c.width()/2;a.position.y+=c.height()/2;var b=f.select(c._strokeDrawers.get(a.dataset).getVisualPrimitiveAtIndex(a.index));
a.strokeSelection=b;return a})};c.prototype.sectorValue=function(a){if(null==a)return this._propertyBindings.get(c._SECTOR_VALUE_KEY);this._bindProperty(c._SECTOR_VALUE_KEY,a,void 0);this._updatePieAngles();this.render();return this};c.prototype.innerRadius=function(a,b){if(null==a)return this._propertyBindings.get(c._INNER_RADIUS_KEY);this._bindProperty(c._INNER_RADIUS_KEY,a,b);this.render();return this};c.prototype.outerRadius=function(a,b){if(null==a)return this._propertyBindings.get(c._OUTER_RADIUS_KEY);
this._bindProperty(c._OUTER_RADIUS_KEY,a,b);this.render();return this};c.prototype.startAngle=function(a){if(null==a)return this._startAngle;this._startAngle=a;this._updatePieAngles();this.render();return this};c.prototype.endAngle=function(a){if(null==a)return this._endAngle;this._endAngle=a;this._updatePieAngles();this.render();return this};c.prototype.labelsEnabled=function(a){if(null==a)return this._labelsEnabled;this._labelsEnabled=a;this.render();return this};c.prototype.labelFormatter=function(a){if(null==
a)return this._labelFormatter;this._labelFormatter=a;this.render();return this};c.prototype.entitiesAt=function(a){var b=this.width()/2,c=this.height()/2;a=this._sliceIndexForPoint({x:a.x-b,y:a.y-c});return null==a?[]:[this.entities()[a]]};c.prototype._propertyProjectors=function(){var b=this,c=a.prototype._propertyProjectors.call(this),d=w.Plot._scaledAccessor(this.innerRadius()),e=w.Plot._scaledAccessor(this.outerRadius());c.d=function(a,c,g){return f.arc().innerRadius(d(a,c,g)).outerRadius(e(a,
c,g)).startAngle(b._startAngles[c]).endAngle(b._endAngles[c])(a,c)};return c};c.prototype._updatePieAngles=function(){if(null!=this.sectorValue()&&0!==this.datasets().length){var a=w.Plot._scaledAccessor(this.sectorValue()),b=this.datasets()[0],c=this._getDataToDraw().get(b);c=f.pie().sort(null).startAngle(this._startAngle).endAngle(this._endAngle).value(function(c,d){return a(c,d,b)})(c);this._startAngles=c.map(function(a){return a.startAngle});this._endAngles=c.map(function(a){return a.endAngle})}};
c.prototype._pieCenter=function(){var a=this._startAngle<this._endAngle?this._startAngle:this._endAngle,b=this._startAngle<this._endAngle?this._endAngle:this._startAngle,c=Math.sin(a);a=Math.cos(a);var d=Math.sin(b);b=Math.cos(b);var e;if(0<=c&&0<=d)if(0<=a&&0<=b){var f=a;var g=e=0;var h=d}else 0>a&&0>b?(f=0,e=-b,g=0,h=c):0<=a&&0>b?(f=a,e=-b,g=0,h=c):0>a&&0<=b&&(g=e=f=1,h=Math.max(c,d));else 0<=c&&0>d?0<=a&&0<=b?(f=Math.max(a,b),h=g=e=1):0>a&&0>b?(f=0,e=1,g=-d,h=c):0<=a&&0>b?(f=a,e=1,g=-d,h=1):0>
a&&0<=b&&(f=b,g=e=1,h=c):0>c&&0<=d?0<=a&&0<=b?(f=1,e=0,g=-c,h=d):0>a&&0>b?(f=1,e=Math.max(-a,-b),h=g=1):0<=a&&0>b?(f=1,e=-b,g=-c,h=1):0>a&&0<=b&&(f=1,e=-a,g=1,h=d):0>c&&0>d&&(0<=a&&0<=b?(f=b,e=0,g=-c,h=0):0>a&&0>b?(f=0,e=-a,g=-d,h=0):0<=a&&0>b?(e=f=1,g=Math.max(a,-b),h=1):0>a&&0<=b&&(f=b,e=-a,g=1,h=0));return{x:0==g+h?0:g/(g+h)*this.width(),y:0==f+e?0:f/(f+e)*this.height()}};c.prototype._getDataToDraw=function(){var b=a.prototype._getDataToDraw.call(this);if(0===this.datasets().length)return b;var d=
w.Plot._scaledAccessor(this.sectorValue()),e=this.datasets()[0],f=b.get(e).filter(function(a,b){return c._isValidData(d(a,b,e))});b.set(e,f);return b};c._isValidData=function(a){return n.Math.isValidNumber(a)&&0<=a};c.prototype._pixelPoint=function(a,b,d){var e=w.Plot._scaledAccessor(this.sectorValue());if(!c._isValidData(e(a,b,d)))return{x:NaN,y:NaN};var g=w.Plot._scaledAccessor(this.innerRadius())(a,b,d);a=w.Plot._scaledAccessor(this.outerRadius())(a,b,d);g=(g+a)/2;a=f.pie().sort(null).value(function(a,
b){a=e(a,b,d);return c._isValidData(a)?a:0}).startAngle(this._startAngle).endAngle(this._endAngle)(d.data());b=(a[b].startAngle+a[b].endAngle)/2;return{x:g*Math.sin(b),y:-g*Math.cos(b)}};c.prototype._additionalPaint=function(a){var b=this;this._renderArea.select(".label-area").remove();this._labelsEnabled&&n.Window.setTimeout(function(){return b._drawLabels()},a);var c=this._generateStrokeDrawSteps(),d=this._getDataToDraw();this.datasets().forEach(function(a){var e=w.Plot.applyDrawSteps(c,a);b._strokeDrawers.get(a).draw(d.get(a),
e)})};c.prototype._generateStrokeDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:new h.Null}]};c.prototype._sliceIndexForPoint=function(a){var b=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2)),c=Math.acos(-a.y/b);0>a.x&&(c=2*Math.PI-c);for(a=0;a<this._startAngles.length;a++)if(this._startAngles[a]<c&&this._endAngles[a]>c){var d=a;break}if(void 0!==d){a=this.datasets()[0];var e=a.data()[d];c=this.innerRadius().accessor(e,d,a);a=this.outerRadius().accessor(e,d,a);if(b>c&&
b<a)return d}return null};c.prototype._drawLabels=function(){var a=this,b=this._getAttrToProjector(),c=this._renderArea.append("g").classed("label-area",!0),d=new g.SvgContext(c.node()),e=new g.CacheMeasurer(d),f=new g.Writer(e,d),h=this.datasets()[0];this._getDataToDraw().get(h).forEach(function(d,g){var l=a.sectorValue().accessor(d,g,h);if(n.Math.isValidNumber(l)){l=a._labelFormatter(l,d,g,h);var m=e.measure(l),q=(a._endAngles[g]+a._startAngles[g])/2,p=a.outerRadius().accessor(d,g,h);a.outerRadius().scale&&
(p=a.outerRadius().scale.scale(p));var r=a.innerRadius().accessor(d,g,h);a.innerRadius().scale&&(r=a.innerRadius().scale.scale(r));r=(p+r)/2;p=Math.sin(q)*r-m.width/2;r=-Math.cos(q)*r-m.height/2;var t=[{x:p,y:r},{x:p,y:r+m.height},{x:p+m.width,y:r},{x:p+m.width,y:r+m.height}];(q=t.every(function(b){return Math.abs(b.x)<=a.width()/2&&Math.abs(b.y)<=a.height()/2}))&&(q=t.map(function(b){return a._sliceIndexForPoint(b)}).every(function(a){return a===g}));d=b.fill(d,g,h);d=1.6*n.Color.contrast("white",
d)<n.Color.contrast("black",d);p=c.append("g").attr("transform","translate("+p+","+r+")");p.classed(d?"dark-label":"light-label",!0);p.style("visibility",q?"inherit":"hidden");f.write(l,m.width,m.height,{xAlign:"center",yAlign:"center"},p.node())}})};return c}(w.Plot);a._INNER_RADIUS_KEY="inner-radius";a._OUTER_RADIUS_KEY="outer-radius";a._SECTOR_VALUE_KEY="sector-value";c.Pie=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),h=d(7),l=d(14),m=d(6),n=d(34),q=d(3),p=d(0),t=d(2);a=function(a){function c(){var b=a.call(this)||this;b._labelsEnabled=!1;b._label=null;b.animator("rectangles",new h.Null);b.addClass("rectangle-plot");b.attr("fill",(new q.Color).range()[0]);return b}b(c,a);c.prototype._createDrawer=function(){return new m.ProxyDrawer(function(){return new n.RectangleSVGDrawer},function(a){return new l.RectangleCanvasDrawer(a)})};
c.prototype._generateAttrToProjector=function(){var b=this,d=a.prototype._generateAttrToProjector.call(this),e=t.Plot._scaledAccessor(this.x()),f=d[c._X2_KEY],g=t.Plot._scaledAccessor(this.y()),h=d[c._Y2_KEY],l=this.x().scale,m=this.y().scale;null!=f?(d.width=function(a,b,c){return Math.abs(f(a,b,c)-e(a,b,c))},d.x=function(a,b,c){return Math.min(f(a,b,c),e(a,b,c))}):(d.width=function(){return b._rectangleWidth(l)},d.x=function(a,b,c){return e(a,b,c)-.5*d.width(a,b,c)});null!=h?(d.height=function(a,
b,c){return Math.abs(h(a,b,c)-g(a,b,c))},d.y=function(a,b,c){return Math.max(h(a,b,c),g(a,b,c))-d.height(a,b,c)}):(d.height=function(){return b._rectangleWidth(m)},d.y=function(a,b,c){return g(a,b,c)-.5*d.height(a,b,c)});delete d[c._X2_KEY];delete d[c._Y2_KEY];return d};c.prototype._generateDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:this._getAnimator("rectangles")}]};c.prototype._filterForProperty=function(b){return"x2"===b?a.prototype._filterForProperty.call(this,
"x"):"y2"===b?a.prototype._filterForProperty.call(this,"y"):a.prototype._filterForProperty.call(this,b)};c.prototype.x=function(b,d,e){if(null==b)return a.prototype.x.call(this);null==d?a.prototype.x.call(this,b):a.prototype.x.call(this,b,d,e);null!=d&&(e=(b=this.x2())&&b.accessor,null!=e&&this._bindProperty(c._X2_KEY,e,d,b.postScale));d instanceof q.Category&&d.innerPadding(0).outerPadding(0);return this};c.prototype.x2=function(a){if(null==a)return this._propertyBindings.get(c._X2_KEY);var b=this.x();
this._bindProperty(c._X2_KEY,a,b&&b.scale,void 0);this.render();return this};c.prototype.y=function(b,d,e){if(null==b)return a.prototype.y.call(this);null==d?a.prototype.y.call(this,b):a.prototype.y.call(this,b,d,e);null!=d&&(e=(b=this.y2())&&b.accessor,null!=e&&this._bindProperty(c._Y2_KEY,e,d,b.postScale));d instanceof q.Category&&d.innerPadding(0).outerPadding(0);return this};c.prototype.y2=function(a){if(null==a)return this._propertyBindings.get(c._Y2_KEY);var b=this.y();this._bindProperty(c._Y2_KEY,
a,b&&b.scale,void 0);this.render();return this};c.prototype.entitiesAt=function(a){var b=this._getAttrToProjector();return this.entities().filter(function(c){var d=c.datum,e=c.index,f=c.dataset;c=b.x(d,e,f);var g=b.y(d,e,f),h=b.width(d,e,f);d=b.height(d,e,f);return c<=a.x&&a.x<=c+h&&g<=a.y&&a.y<=g+d})};c.prototype._entityBounds=function(a){return this._entityBBox(a.datum,a.index,a.dataset,this._getAttrToProjector())};c.prototype._entityBBox=function(a,b,c,d){return{x:d.x(a,b,c),y:d.y(a,b,c),width:d.width(a,
b,c),height:d.height(a,b,c)}};c.prototype.label=function(a){if(null==a)return this._label;this._label=a;this.render();return this};c.prototype.labelsEnabled=function(a){if(null==a)return this._labelsEnabled;this._labelsEnabled=a;this.render();return this};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);null!=this.x2()&&(b.x2=t.Plot._scaledAccessor(this.x2()));null!=this.y2()&&(b.y2=t.Plot._scaledAccessor(this.y2()));return b};c.prototype._pixelPoint=function(a,
b,c){var d=this._getAttrToProjector(),e=d.x(a,b,c),f=d.y(a,b,c),g=d.width(a,b,c);a=d.height(a,b,c);return{x:e+g/2,y:f+a/2}};c.prototype._rectangleWidth=function(a){if(a instanceof q.Category)return a.rangeBand();var b=a===this.x().scale?this.x().accessor:this.y().accessor,c=f.set(p.Array.flatten(this.datasets().map(function(a){return a.data().map(function(c,d){return b(c,d,a).valueOf()})}))).values().map(function(a){return+a}),d=p.Math.min(c,0);c=p.Math.max(c,0);var e=a.scale(d);return(a.scale(c)-
e)/Math.abs(c-d)};c.prototype._getDataToDraw=function(){var a=new p.Map,b=this._getAttrToProjector();this.datasets().forEach(function(c){var d=c.data().map(function(a,d){return p.Math.isValidNumber(b.x(a,d,c))&&p.Math.isValidNumber(b.y(a,d,c))&&p.Math.isValidNumber(b.width(a,d,c))&&p.Math.isValidNumber(b.height(a,d,c))?a:null});a.set(c,d)});return a};c.prototype._additionalPaint=function(a){var b=this;this._renderArea.selectAll(".label-area").remove();this._labelsEnabled&&null!=this.label()&&p.Window.setTimeout(function(){return b._drawLabels()},
a)};c.prototype._drawLabels=function(){var a=this,b=this._getDataToDraw();this.datasets().forEach(function(c,d){return a._drawLabel(b,c,d)})};c.prototype._drawLabel=function(a,b,c){var d=this,e=this._getAttrToProjector(),f=this._renderArea.append("g").classed("label-area",!0),h=new g.SvgContext(f.node()),l=new g.CacheMeasurer(h),m=new g.Writer(l,h);h=this.x().scale.range();var n=this.y().scale.range(),q=Math.min.apply(null,h),r=Math.max.apply(null,h),t=Math.min.apply(null,n),w=Math.max.apply(null,
n);a.get(b).forEach(function(g,h){if(null!=g){var n=""+d.label()(g,h,b),v=l.measure(n),y=e.x(g,h,b),x=e.y(g,h,b),A=e.width(g,h,b),E=e.height(g,h,b);v.height<=E&&v.width<=A&&(E=(E-v.height)/2,y+=(A-v.width)/2,x+=E,A={min:y,max:y+v.width},E={min:x,max:x+v.height},A.min<q||A.max>r||E.min<t||E.max>w||d._overlayLabel(A,E,h,c,a)||(g=e.fill(g,h,b),g=1.6*p.Color.contrast("white",g)<p.Color.contrast("black",g),y=f.append("g").attr("transform","translate("+y+","+x+")"),y.classed(g?"dark-label":"light-label",
!0),m.write(n,v.width,v.height,{xAlign:"center",yAlign:"center"},y.node())))}})};c.prototype._overlayLabel=function(a,b,c,d,e){for(var f=this._getAttrToProjector(),g=this.datasets(),h=d;h<g.length;h++)for(var l=g[h],m=e.get(l),n=h===d?c+1:0;n<m.length;n++)if(p.DOM.intersectsBBox(a,b,this._entityBBox(m[n],n,l,f)))return!0;return!1};return c}(d(16).XYPlot);a._X2_KEY="x2";a._Y2_KEY="y2";c.Rectangle=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(31),g=d(6),h=d(48),l=d(7),m=d(14),n=d(3),q=d(0),p=d(19),t=d(2);a=function(a){function c(){var b=a.call(this)||this;b.addClass("scatter-plot");var c=new l.Easing;c.startDelay(5);c.stepDuration(250);c.maxTotalDuration(t.Plot._ANIMATION_MAX_DURATION);b.animator(p.Animator.MAIN,c);b.attr("opacity",.6);b.attr("fill",(new n.Color).range()[0]);b.size(6);var d=f.circle();b.symbol(function(){return d});return b}b(c,a);c.prototype._buildLightweightPlotEntities=
function(b){var c=this;return a.prototype._buildLightweightPlotEntities.call(this,b).map(function(a){var b=t.Plot._scaledAccessor(c.size())(a.datum,a.index,a.dataset);a.diameter=b;return a})};c.prototype._createDrawer=function(a){var b=this;return new g.ProxyDrawer(function(){return new h.SymbolSVGDrawer},function(c){return new m.CanvasDrawer(c,h.makeSymbolCanvasDrawStep(a,function(){return t.Plot._scaledAccessor(b.symbol())},function(){return t.Plot._scaledAccessor(b.size())}))})};c.prototype.size=
function(a,b){if(null==a)return this._propertyBindings.get(c._SIZE_KEY);this._bindProperty(c._SIZE_KEY,a,b);this.render();return this};c.prototype.symbol=function(a){if(null==a)return this._propertyBindings.get(c._SYMBOL_KEY);this._propertyBindings.set(c._SYMBOL_KEY,{accessor:a});this.render();return this};c.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._getAttrToProjector(),c=t.Plot._scaledAccessor(this.symbol());b.d=function(a,b,d){return c(a,b,d)(0)(null)};
a.push({attrToProjector:b,animator:this._getAnimator(p.Animator.RESET)})}a.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(p.Animator.MAIN)});return a};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this),c=t.Plot._scaledAccessor(this.x()),d=t.Plot._scaledAccessor(this.y());b.x=c;b.y=d;b.transform=function(a,b,e){return"translate("+c(a,b,e)+","+d(a,b,e)+")"};b.d=this._constructSymbolGenerator();return b};c.prototype._constructSymbolGenerator=
function(){var a=t.Plot._scaledAccessor(this.symbol()),b=t.Plot._scaledAccessor(this.size());return function(c,d,e){return a(c,d,e)(b(c,d,e))(null)}};c.prototype._entityBounds=function(a){return{x:a.position.x-a.diameter/2,y:a.position.y-a.diameter/2,width:a.diameter,height:a.diameter}};c.prototype._entityVisibleOnPlot=function(a,b){var c={min:b.topLeft.x,max:b.bottomRight.x};b={min:b.topLeft.y,max:b.bottomRight.y};a=this._entityBounds(a);return q.DOM.intersectsBBox(c,b,a)};c.prototype.entitiesAt=
function(a){var b=t.Plot._scaledAccessor(this.x()),c=t.Plot._scaledAccessor(this.y()),d=t.Plot._scaledAccessor(this.size());return this.entities().filter(function(e){var f=e.datum,g=e.index,h=e.dataset;e=b(f,g,h);var l=c(f,g,h);f=d(f,g,h);return e-f/2<=a.x&&a.x<=e+f/2&&l-f/2<=a.y&&a.y<=l+f/2})};return c}(d(16).XYPlot);a._SIZE_KEY="size";a._SYMBOL_KEY="symbol";c.Scatter=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(7),g=d(6),h=d(47),l=d(3),m=d(35),n=d(2);a=function(a){function c(){var b=a.call(this)||this;b.addClass("segment-plot");b.attr("stroke",(new l.Color).range()[0]);b.attr("stroke-width","2px");return b}b(c,a);c.prototype._createDrawer=function(){return new g.ProxyDrawer(function(){return new h.SegmentSVGDrawer},function(){m.warn("canvas renderer is not supported on Segment Plot!");return null})};c.prototype._generateDrawSteps=
function(){return[{attrToProjector:this._getAttrToProjector(),animator:new f.Null}]};c.prototype._filterForProperty=function(b){return"x2"===b?a.prototype._filterForProperty.call(this,"x"):"y2"===b?a.prototype._filterForProperty.call(this,"y"):a.prototype._filterForProperty.call(this,b)};c.prototype.x=function(b,d){if(null==b)return a.prototype.x.call(this);null==d?a.prototype.x.call(this,b):(a.prototype.x.call(this,b,d),b=(b=this.x2())&&b.accessor,null!=b&&this._bindProperty(c._X2_KEY,b,d));return this};
c.prototype.x2=function(a){if(null==a)return this._propertyBindings.get(c._X2_KEY);var b=this.x();this._bindProperty(c._X2_KEY,a,b&&b.scale);this.render();return this};c.prototype.y=function(b,d){if(null==b)return a.prototype.y.call(this);null==d?a.prototype.y.call(this,b):(a.prototype.y.call(this,b,d),b=(b=this.y2())&&b.accessor,null!=b&&this._bindProperty(c._Y2_KEY,b,d));return this};c.prototype.y2=function(a){if(null==a)return this._propertyBindings.get(c._Y2_KEY);var b=this.y();this._bindProperty(c._Y2_KEY,
a,b&&b.scale);this.render();return this};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);b.x1=n.Plot._scaledAccessor(this.x());b.x2=null==this.x2()?n.Plot._scaledAccessor(this.x()):n.Plot._scaledAccessor(this.x2());b.y1=n.Plot._scaledAccessor(this.y());b.y2=null==this.y2()?n.Plot._scaledAccessor(this.y()):n.Plot._scaledAccessor(this.y2());return b};c.prototype.entitiesAt=function(a){a=this.entityNearest(a);return null!=a?[a]:[]};c.prototype.entitiesIn=function(a,
b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};a={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,a=b;return this._entitiesIntersecting(c,a)};c.prototype._entitiesIntersecting=function(a,b){var c=this,d=[],e=this._getAttrToProjector();this.entities().forEach(function(f){c._lineIntersectsBox(f,a,b,e)&&d.push(f)});return d};c.prototype._lineIntersectsBox=function(a,b,c,d){var e=this,f=d.x1(a.datum,a.index,a.dataset),g=d.x2(a.datum,a.index,a.dataset),h=d.y1(a.datum,a.index,a.dataset);a=d.y2(a.datum,
a.index,a.dataset);if(b.min<=f&&f<=b.max&&c.min<=h&&h<=c.max||b.min<=g&&g<=b.max&&c.min<=a&&a<=c.max)return!0;var l={x:f,y:h},m={x:g,y:a},n=[{x:b.min,y:c.min},{x:b.min,y:c.max},{x:b.max,y:c.max},{x:b.max,y:c.min}];return 0<n.filter(function(a,b){return 0!==b?e._lineIntersectsSegment(l,m,a,n[b-1])&&e._lineIntersectsSegment(a,n[b-1],l,m):!1}).length};c.prototype._lineIntersectsSegment=function(a,b,c,d){return 0>((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x))*((b.x-a.x)*(d.y-b.y)-(b.y-a.y)*(d.x-b.x))};return c}(d(16).XYPlot);
a._X2_KEY="x2";a._Y2_KEY="y2";c.Segment=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(7),h=d(20),l=d(0);a=d(50);var m=d(2);d=function(a){function c(){var b=a.call(this)||this;b._stackingResult=h.memThunk(function(){return b.datasets()},function(){return b.x().accessor},function(){return b.y().accessor},function(){return b._stackingOrder},
function(a,b,c,d){return l.Stacking.stack(a,b,c,d)});b._stackedExtent=h.memThunk(b._stackingResult,function(){return b.x().accessor},function(){return b._filterForProperty("y")},function(a,b,c){return l.Stacking.stackedExtent(a,b,c)});b._baselineValue=0;b._stackingOrder="bottomup";b.addClass("stacked-area-plot");b.attr("fill-opacity",1);b._baselineValueProvider=function(){return[b._baselineValue]};b.croppedRenderingEnabled(!1);return b}b(c,a);c.prototype.croppedRenderingEnabled=function(b){return null==
b?a.prototype.croppedRenderingEnabled.call(this):b?(l.Window.warn("Warning: Stacked Area Plot does not support cropped rendering."),this):a.prototype.croppedRenderingEnabled.call(this,b)};c.prototype._getAnimator=function(){return new g.Null};c.prototype._setup=function(){a.prototype._setup.call(this);this._baseline=this._renderArea.append("line").classed("baseline",!0)};c.prototype.x=function(b,c){if(null==b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):a.prototype.x.call(this,
b,c);this._checkSameDomain();return this};c.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);null==c?a.prototype.y.call(this,b):a.prototype.y.call(this,b,c);this._checkSameDomain();return this};c.prototype.stackingOrder=function(a){if(null==a)return this._stackingOrder;this._stackingOrder=a;this._onDatasetUpdate();return this};c.prototype.downsamplingEnabled=function(){return a.prototype.downsamplingEnabled.call(this)};c.prototype._additionalPaint=function(){var a=this.y().scale.scale(this._baselineValue);
a={x1:0,y1:a,x2:this.width(),y2:a};this._getAnimator("baseline").animate(this._baseline,a)};c.prototype._updateYScale=function(){var a=this.y();a=a&&a.scale;null!=a&&(a.addPaddingExceptionsProvider(this._baselineValueProvider),a.addIncludedValuesProvider(this._baselineValueProvider))};c.prototype._onDatasetUpdate=function(){this._checkSameDomain();a.prototype._onDatasetUpdate.call(this);return this};c.prototype.getExtentsForProperty=function(b){return"y"===b?[this._stackedExtent()]:a.prototype.getExtentsForProperty.call(this,
b)};c.prototype._checkSameDomain=function(){if(this._projectorsReady()){var a=this.datasets(),b=this.x().accessor,d=a.map(function(a){return f.set(a.data().map(function(c,d){return b(c,d,a).toString()})).values()}),e=c._domainKeys(a,b);d.some(function(a){return a.length!==e.length})&&l.Window.warn("the domains across the datasets are not the same. Plot may produce unintended behavior.")}};c._domainKeys=function(a,b){var c=f.set();a.forEach(function(a){a.data().forEach(function(d,e){c.add(b(d,e,a))})});
return c.values()};c.prototype._propertyProjectors=function(){var b=this,c=a.prototype._propertyProjectors.call(this),d=this.y().accessor,e=this.x().accessor,f=this._stackingResult();c.d=this._constructAreaProjector(m.Plot._scaledAccessor(this.x()),function(a,c,g){return b.y().scale.scale(+d(a,c,g)+f.get(g).get(l.Stacking.normalizeKey(e(a,c,g))).offset)},function(a,c,d){return b.y().scale.scale(f.get(d).get(l.Stacking.normalizeKey(e(a,c,d))).offset)});return c};c.prototype._pixelPoint=function(b,
c,d){var e=a.prototype._pixelPoint.call(this,b,c,d),f=this.x().accessor(b,c,d);b=this.y().accessor(b,c,d);d=this.y().scale.scale(+b+this._stackingResult().get(d).get(l.Stacking.normalizeKey(f)).offset);return{x:e.x,y:d}};return c}(a.Area);c.StackedArea=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(5),g=d(8),h=d(20),l=d(0),m=d(27),
n=d(2);a=function(a){function c(b){void 0===b&&(b="vertical");var c=a.call(this,b)||this;c._extremaFormatter=g.identity();c._stackingResult=h.memThunk(function(){return c.datasets()},function(){return c.position().accessor},function(){return c.length().accessor},function(){return c._stackingOrder},function(a,b,c,d){return l.Stacking.stack(a,b,c,d)});c._stackedExtent=h.memThunk(c._stackingResult,function(){return c.position().accessor},function(){return c._filterForProperty(c._isVertical?"y":"x")},
function(a,b,c){return l.Stacking.stackedExtent(a,b,c)});c.addClass("stacked-bar-plot");c._stackingOrder="bottomup";return c}b(c,a);c.prototype.stackingOrder=function(a){if(null==a)return this._stackingOrder;this._stackingOrder=a;this._onDatasetUpdate();return this};c.prototype.extremaFormatter=function(a){if(0===arguments.length)return this._extremaFormatter;this._extremaFormatter=a;this.render();return this};c.prototype._setup=function(){a.prototype._setup.call(this);this._labelArea=this._renderArea.append("g").classed(m.Bar._LABEL_AREA_CLASS,
!0);var b=new f.SvgContext(this._labelArea.node());this._measurer=new f.CacheMeasurer(b);this._writer=new f.Writer(this._measurer,b)};c.prototype._drawLabels=function(){function b(a,b){var c=d._generateAttrToProjector(),h=d.width(),l=d.height();a.forEach(function(a){if(a.extent!==e){var q=d.extremaFormatter()(a.extent),r=d._measurer.measure(q),t=a.stackedDatum,w=t.originalDatum,v=t.originalIndex;t=t.originalDataset;if(d._isDatumOnScreen(c,h,l,w,v,t)){w=n.Plot._scaledAccessor(d.attr(m.Bar._BAR_THICKNESS_KEY))(w,
v,t);v=g.scale(a.extent);a=d._getPositionAttr(f.scale(a.axisValue),w)+w/2;var y=b(d._isVertical?{x:a,y:v}:{x:v,y:a},r,w);v=y.x;t=y.y;a=y.x+r.width-y.x;r=y.y+r.height-y.y;w=d._isVertical?a>w:r>w;w||(v=d._labelArea.append("g").attr("transform","translate("+v+", "+t+")"),v.classed("stacked-bar-label",!0),d._writer.write(q,a,r,{xAlign:"center",yAlign:"center"},v.node()));p.push(w)}}})}var d=this;a.prototype._drawLabels.call(this);this._labelArea.selectAll("g").remove();var e=+this.baselineValue(),f=this.position().scale,
g=this.length().scale,h=l.Stacking.stackedExtents(this._stackingResult()),q=h.minimumExtents,p=[];b(h.maximumExtents,function(a,b){var e=d._isVertical?b.width:b.height;b=d._isVertical?b.height:b.width;return{x:d._isVertical?a.x-e/2:a.x+c._EXTREMA_LABEL_MARGIN_FROM_BAR,y:d._isVertical?a.y-b:a.y-e/2}});b(q,function(a,b){var e=d._isVertical?b.width:b.height;b=d._isVertical?b.height:b.width;return{x:d._isVertical?a.x-e/2:a.x-b,y:d._isVertical?a.y+c._EXTREMA_LABEL_MARGIN_FROM_BAR:a.y-e/2}});p.some(function(a){return a})&&
this._labelArea.selectAll("g").remove()};c.prototype._generateAttrToProjector=function(){function b(a,b,c){return 0>+n(a,b,c)?e(a,b,c):d(a,b,c)}function c(a,b,c){return Math.abs(d(a,b,c)-e(a,b,c))}function d(a,b,c){return m.scale(+n(a,b,c)+p.get(c).get(l.Stacking.normalizeKey(q(a,b,c))).offset)}function e(a,b,c){return m.scale(p.get(c).get(l.Stacking.normalizeKey(q(a,b,c))).offset)}var f=this,g=a.prototype._generateAttrToProjector.call(this),h=this._isVertical?"y":"x",m=this.length().scale,n=this.length().accessor,
q=this.position().accessor,p=this._stackingResult();g[this._isVertical?"height":"width"]=c;g[h]=function(a,d,e){return f._isVertical?b(a,d,e):b(a,d,e)-c(a,d,e)};return g};c.prototype.getExtentsForProperty=function(b){return b===(this._isVertical?"y":"x")?[this._stackedExtent()]:a.prototype.getExtentsForProperty.call(this,b)};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(m.Bar);a._EXTREMA_LABEL_MARGIN_FROM_BAR=5;c.StackedBar=a},function(a,
c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=d(27);var g=d(2);d=function(a){function c(){var b=a.call(this)||this;b._connectorsEnabled=!1;b.addClass("waterfall-plot");return b}b(c,a);c.prototype.connectorsEnabled=function(a){if(null==a)return this._connectorsEnabled;this._connectorsEnabled=a;return this};c.prototype.total=function(a){if(null==
a)return this._propertyBindings.get(c._TOTAL_KEY);this._bindProperty(c._TOTAL_KEY,a,null);return this};c.prototype._additionalPaint=function(a){var b=this;this._connectorArea.selectAll("line").remove();this._connectorsEnabled&&f.Window.setTimeout(function(){return b._drawConnectors()},a)};c.prototype._createNodesForDataset=function(b){b=a.prototype._createNodesForDataset.call(this,b);this._connectorArea=this._renderArea.append("g").classed(c._CONNECTOR_AREA_CLASS,!0);return b};c.prototype.getExtentsForProperty=
function(b){return"y"===b?[this._extent]:a.prototype.getExtentsForProperty.call(this,b)};c.prototype._generateAttrToProjector=function(){var b=this,d=a.prototype._generateAttrToProjector.call(this),e=this.y().scale,f=g.Plot._scaledAccessor(this.total());null==this.attr("y")&&(d.y=function(a,c,d){var g=b.y().accessor(a,c,d);if(f(a,c,d))return Math.min(e.scale(g),e.scale(0));a=b._subtotals[c];if(0===c)return 0>g?e.scale(a-g):e.scale(a);c=b._subtotals[c-1];return a>c?e.scale(a):e.scale(c)});null==this.attr("height")&&
(d.height=function(a,c,d){var g=f(a,c,d);a=b.y().accessor(a,c,d);if(g)return Math.abs(e.scale(a)-e.scale(0));g=b._subtotals[c];if(0===c)return Math.abs(e.scale(g)-e.scale(g-a));c=b._subtotals[c-1];return Math.abs(e.scale(g)-e.scale(c))});d["class"]=function(a,d,e){var g="";null!=b.attr("class")&&(g=b.attr("class").accessor(a,d,e)+" ");if(f(a,d,e))return g+c._BAR_TOTAL_CLASS;a=b.y().accessor(a,d,e);return g+(0<a?c._BAR_GROWTH_CLASS:c._BAR_DECLINE_CLASS)};return d};c.prototype._onDatasetUpdate=function(){this._updateSubtotals();
a.prototype._onDatasetUpdate.call(this);return this};c.prototype._calculateSubtotalsAndExtent=function(a){var b=this,c=Number.MAX_VALUE,d=Number.MIN_VALUE,e=0,f=!1;a.data().forEach(function(g,h){var l=b.y().accessor(g,h,a);(g=b.total().accessor(g,h,a))&&0!==h||(e+=l);b._subtotals.push(e);e<c&&(c=e);e>d&&(d=e);g&&(l<c&&(c=l),l>d&&(d=l));if(!f&&g){h=l-e;for(l=0;l<b._subtotals.length;l++)b._subtotals[l]+=h;f=!0;e+=h;c+=h;d+=h}});this._extent=[c,d]};c.prototype._drawConnectors=function(){for(var a=this._getAttrToProjector(),
b=this.datasets()[0],d=1;d<b.data().length;d++){var e=d-1,f=b.data()[d],g=b.data()[e];g=a.x(g,e,b);var h=a.x(f,d,b)+a.width(f,d,b),l=a.y(f,d,b);if(0<this._subtotals[d]&&this._subtotals[d]>this._subtotals[e]||0>this._subtotals[d]&&this._subtotals[d]>=this._subtotals[e])l=a.y(f,d,b)+a.height(f,d,b);this._connectorArea.append("line").classed(c._CONNECTOR_CLASS,!0).attr("x1",g).attr("x2",h).attr("y1",l).attr("y2",l)}};c.prototype._updateSubtotals=function(){var a=this.datasets();0<a.length&&(a=a[a.length-
1],this._subtotals=[],this._calculateSubtotalsAndExtent(a))};return c}(a.Bar);d._BAR_DECLINE_CLASS="waterfall-decline";d._BAR_GROWTH_CLASS="waterfall-growth";d._BAR_TOTAL_CLASS="waterfall-total";d._CONNECTOR_CLASS="connector";d._CONNECTOR_AREA_CLASS="connector-area";d._TOTAL_KEY="total";c.Waterfall=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)},f=d(1),g=d(0);a=function(a){function c(b){var d=a.call(this)||this;switch(b){case null:case void 0:null==c._plottableColorCache&&(c._plottableColorCache=c._getPlottableColors());b=f.scaleOrdinal().range(c._plottableColorCache);break;case "Category10":case "category10":case "10":b=f.scaleOrdinal(f.schemeCategory10);break;case "Category20":case "category20":case "20":b=f.scaleOrdinal(f.schemeCategory20);break;case "Category20b":case "category20b":case "20b":b=f.scaleOrdinal(f.schemeCategory20b);
break;case "Category20c":case "category20c":case "20c":b=f.scaleOrdinal(f.schemeCategory20c);break;default:throw Error("Unsupported ColorScale type");}d._d3Scale=b;return d}b(c,a);c.prototype.extentOfValues=function(a){return g.Array.uniq(a)};c.prototype._getExtent=function(){return g.Array.uniq(this._getAllIncludedValues())};c.invalidateColorCache=function(){c._plottableColorCache=null};c._getPlottableColors=function(){for(var a=[],b=f.select("body").append("plottable-color-tester"),c=g.Color.colorTest(b,
""),d=0,e=g.Color.colorTest(b,"plottable-colors-0");null!=e&&d<this._MAXIMUM_COLORS_FROM_CSS&&(e!==c||e!==a[a.length-1]);)a.push(e),d++,e=g.Color.colorTest(b,"plottable-colors-"+d);b.remove();return a};c.prototype.scale=function(a){var b=this._d3Scale(a);a=this.domain().indexOf(a);a=Math.floor(a/this.range().length);return g.Color.lightenColor(b,Math.log(a*c._LOOP_LIGHTEN_FACTOR+1))};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==
a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};return c}(d(17).Scale);a._LOOP_LIGHTEN_FACTOR=1.6;a._MAXIMUM_COLORS_FROM_CSS=256;c.Color=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(0);
a=function(a){function c(b){void 0===b&&(b="linear");var d=a.call(this)||this;switch(b){case "linear":d._colorScale=f.scaleLinear();break;case "log":d._colorScale=f.scaleLog();break;case "sqrt":d._colorScale=f.scaleSqrt();break;case "pow":d._colorScale=f.scalePow()}if(null==d._colorScale)throw Error("unknown QuantitativeScale scale type "+b);d.range(c.REDS);return d}b(c,a);c.prototype.extentOfValues=function(a){a=f.extent(a);return null==a[0]||null==a[1]?[]:a};c.prototype._d3InterpolatedScale=function(){return this._colorScale.range([0,
1]).interpolate(this._interpolateColors())};c.prototype._interpolateColors=function(){var a=this._colorRange;if(2>a.length)throw Error("Color scale arrays must have at least two elements.");return function(){return function(b){b=Math.max(0,Math.min(1,b));b*=a.length-1;var c=Math.floor(b),d=b-c;return f.interpolateLab(a[c],a[Math.ceil(b)])(d)}}};c.prototype._resetScale=function(){this._d3Scale=this._d3InterpolatedScale();this._autoDomainIfAutomaticMode();this._dispatchUpdate()};c.prototype.autoDomain=
function(){var a=this._getAllIncludedValues();0<a.length&&this._setDomain([g.Math.min(a,0),g.Math.max(a,0)])};c.prototype.scale=function(a){return this._d3Scale(a)};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._colorRange};c.prototype._setRange=function(a){this._colorRange=a;this._resetScale()};return c}(d(17).Scale);
a.REDS="#FFFFFF #FFF6E1 #FEF4C0 #FED976 #FEB24C #FD8D3C #FC4E2A #E31A1C #B10026".split(" ");a.BLUES="#FFFFFF #CCFFFF #A5FFFD #85F7FB #6ED3EF #55A7E0 #417FD0 #2545D3 #0B02E1".split(" ");a.POSNEG="#0B02E1 #2545D3 #417FD0 #55A7E0 #6ED3EF #85F7FB #A5FFFD #CCFFFF #FFFFFF #FFF6E1 #FEF4C0 #FED976 #FEB24C #FD8D3C #FC4E2A #E31A1C #B10026".split(" ");c.InterpolatedColor=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);
a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1);a=function(a){function c(){var b=a.call(this)||this;b._d3Scale=f.scaleLinear();return b}b(c,a);c.prototype._defaultExtent=function(){return[0,1]};c.prototype._expandSingleValueDomain=function(a){return a[0]===a[1]?[a[0]-1,a[1]+1]:a};c.prototype.scale=function(a){return this._d3Scale(a)};c.prototype.scaleTransformation=function(a){return this.scale(a)};c.prototype.invertedTransformation=function(a){return this.invert(a)};
c.prototype.getTransformationExtent=function(){return this._getUnboundedExtent(!0)};c.prototype.getTransformationDomain=function(){return this.domain()};c.prototype.setTransformationDomain=function(a){this.domain(a)};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};
c.prototype.invert=function(a){return this._d3Scale.invert(a)};c.prototype.defaultTicks=function(){return this._d3Scale.ticks()};c.prototype._niceDomain=function(a){return this._d3Scale.copy().domain(a).nice(void 0).domain()};return c}(d(11).QuantitativeScale);c.Linear=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(0),h=d(3);
a=function(a){function c(b){void 0===b&&(b=10);var c=a.call(this)||this;c._d3Scale=f.scaleLinear();c._base=b;c._pivot=c._base;c._setDomain(c._defaultExtent());if(1>=b)throw Error("ModifiedLogScale: The base must be \x3e 1");return c}b(c,a);c.prototype._adjustedLog=function(a){var b=0>a?-1:1;a*=b;a<this._pivot&&(a+=(this._pivot-a)/this._pivot);a=Math.log(a)/Math.log(this._base);return a*b};c.prototype._invertedAdjustedLog=function(a){var b=0>a?-1:1;a=Math.pow(this._base,a*b);a<this._pivot&&(a=this._pivot*
(a-1)/(this._pivot-1));return a*b};c.prototype.scale=function(a){return this._d3Scale(this._adjustedLog(a))};c.prototype.invert=function(a){return this._invertedAdjustedLog(this._d3Scale.invert(a))};c.prototype.scaleTransformation=function(a){return this.scale(a)};c.prototype.invertedTransformation=function(a){return this.invert(a)};c.prototype.getTransformationExtent=function(){return this._getUnboundedExtent(!0)};c.prototype.getTransformationDomain=function(){return this.domain()};c.prototype.setTransformationDomain=
function(a){this.domain(a)};c.prototype._getDomain=function(){return this._untransformedDomain};c.prototype._setDomain=function(b){this._untransformedDomain=b;a.prototype._setDomain.call(this,[this._adjustedLog(b[0]),this._adjustedLog(b[1])])};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype.ticks=function(){function a(a,b,c){return[a,b,c].sort(function(a,b){return a-b})[1]}var b=g.Math.min(this._untransformedDomain,
0),c=g.Math.max(this._untransformedDomain,0),d=a(b,c,-this._pivot),e=a(b,c,this._pivot);d=this._logTicks(-d,-b).map(function(a){return-a}).reverse();e=this._logTicks(e,c);var h=Math.max(b,-this._pivot),l=Math.min(c,this._pivot);h=f.scaleLinear().domain([h,l]).ticks(this._howManyTicks(h,l));d=d.concat(h).concat(e);1>=d.length&&(d=f.scaleLinear().domain([b,c]).ticks());return d};c.prototype._logTicks=function(a,b){var c=this,d=this._howManyTicks(a,b);if(0===d)return[];var e=Math.floor(Math.log(a)/Math.log(this._base)),
h=Math.ceil(Math.log(b)/Math.log(this._base));d=f.range(h,e,-Math.ceil((h-e)/d));e=f.range(this._base,1,-(this._base-1)).map(Math.floor);var l=g.Array.uniq(e);d=d.map(function(a){return l.map(function(b){return Math.pow(c._base,a-1)*b})});return g.Array.flatten(d).filter(function(c){return a<=c&&c<=b}).sort(function(a,b){return a-b})};c.prototype._howManyTicks=function(a,b){var c=this._adjustedLog(g.Math.min(this._untransformedDomain,0)),d=this._adjustedLog(g.Math.max(this._untransformedDomain,0));
return Math.ceil((this._adjustedLog(b)-this._adjustedLog(a))/(d-c)*h.ModifiedLog._DEFAULT_NUM_TICKS)};c.prototype._niceDomain=function(a){return a};c.prototype._defaultExtent=function(){return[0,this._base]};c.prototype._expandSingleValueDomain=function(a){return a[0]===a[1]?(a=a[0],0<a?[a/this._base,a*this._base]:0===a?[-this._base,this._base]:[a*this._base,a/this._base]):a};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};c.prototype.defaultTicks=
function(){return this._d3Scale.ticks()};return c}(d(11).QuantitativeScale);c.ModifiedLog=a},function(a,c,d){var b=d(0);c.intervalTickGenerator=function(a){if(0>=a)throw Error("interval must be positive number");return function(c){c=c.domain();var d=Math.min(c[0],c[1]);c=Math.max(c[0],c[1]);var e=Math.ceil(d/a)*a;d=0===d%a?[]:[d];var f=b.Math.range(0,Math.floor((c-e)/a)+1).map(function(b){return e+b*a});return d.concat(f).concat(0===c%a?[]:[c])}};c.integerTickGenerator=function(){return function(a){var b=
a.defaultTicks();return b.filter(function(a,c){return 0===a%1||0===c||c===b.length-1})}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(28);a=function(a){function c(){var b=a.call(this)||this;b._d3Scale=f.scaleTime();b.autoDomain();return b}b(c,a);c.prototype.tickInterval=function(a,b){void 0===b&&(b=1);var d=f.scaleTime();c.timeIntervalToD3Time(a).every(b);
d.domain(this.domain());d.range(this.range());return d.ticks()};c.prototype._setDomain=function(b){if(b[1]<b[0])throw Error("Scale.Time domain values must be in chronological order");return a.prototype._setDomain.call(this,b)};c.prototype._defaultExtent=function(){return[new Date("1970-01-01"),new Date("1970-01-02")]};c.prototype._expandSingleValueDomain=function(a){var b=a[0].getTime(),c=a[1].getTime();return b===c?(a=new Date(b),a.setDate(a.getDate()-1),c=new Date(c),c.setDate(c.getDate()+1),[a,
c]):a};c.prototype.scale=function(a){return this._d3Scale(a)};c.prototype.scaleTransformation=function(a){return this.scale(new Date(a))};c.prototype.invertedTransformation=function(a){return this.invert(a).getTime()};c.prototype.getTransformationExtent=function(){var a=this._getUnboundedExtent(!0);return[a[0].valueOf(),a[1].valueOf()]};c.prototype.getTransformationDomain=function(){var a=this.domain();return[a[0].valueOf(),a[1].valueOf()]};c.prototype.setTransformationDomain=function(a){this.domain([new Date(a[0]),
new Date(a[1])])};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};c.prototype.invert=function(a){return this._d3Scale.invert(a)};c.prototype.defaultTicks=function(){return this._d3Scale.ticks()};c.prototype._niceDomain=function(a){return this._d3Scale.copy().domain(a).nice().domain()};
c.timeIntervalToD3Time=function(a){switch(a){case g.TimeInterval.second:return f.timeSecond;case g.TimeInterval.minute:return f.timeMinute;case g.TimeInterval.hour:return f.timeHour;case g.TimeInterval.day:return f.timeDay;case g.TimeInterval.week:return f.timeWeek;case g.TimeInterval.month:return f.timeMonth;case g.TimeInterval.year:return f.timeYear;default:throw Error("TimeInterval specified does not exist: "+a);}};return c}(d(11).QuantitativeScale);c.Time=a},function(a,c,d){var b=d(1),f=Array;
c.add=function(a,b){if(a.length!==b.length)throw Error("attempted to add arrays of unequal length");return a.map(function(c,d){return a[d]+b[d]})};c.uniq=function(a){var c=b.set(),d=[];a.forEach(function(a){c.has(String(a))||(c.add(String(a)),d.push(a))});return d};c.flatten=function(a){return f.prototype.concat.apply([],a)};c.createFilledArray=function(a,b){for(var c=[],d=0;d<b;d++)c[d]="function"===typeof a?a(d):a;return c}},function(a,c){a=function(){function a(a,b,c){this.maxIndex=this.minIndex=
this.exitIndex=this.entryIndex=a;this.bucketValue=b;this.maxValue=this.minValue=c}a.prototype.isInBucket=function(a){return a==this.bucketValue};a.prototype.addToBucket=function(a,b){a<this.minValue&&(this.minValue=a,this.minIndex=b);a>this.maxValue&&(this.maxValue=a,this.maxIndex=b);this.exitIndex=b};a.prototype.getUniqueIndices=function(){var a=[this.entryIndex,this.maxIndex,this.minIndex,this.exitIndex];return a.filter(function(b,c){return 0==c||b!=a[c-1]})};return a}();c.Bucket=a},function(a,
c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b(c,a);c.prototype.callCallbacks=function(){for(var a=this,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];this.forEach(function(c){c.apply(a,b)});return this};return c}(d(58).Set);c.CallbackSet=a},function(a,c,d){function b(a){function b(a){a/=
255;return.03928>=a?a/12.92:g.pow((a+.055)/1.055,2.4)}a=f.rgb(a);return.2126*b(a.r)+.7152*b(a.g)+.0722*b(a.b)}var f=d(1),g=Math;c.contrast=function(a,c){a=b(a)+.05;c=b(c)+.05;return a>c?a/c:c/a};c.lightenColor=function(a,b){return f.color(a).brighter(b).rgb().toString()};c.colorTest=function(a,b){a.classed(b,!0);var c=a.style("background-color");if("transparent"===c)return null;c=/\((.+)\)/.exec(c);if(!c)return null;c=c[1].split(",").map(function(a){a=+a;var b=a.toString(16);return 16>a?"0"+b:b});
if(4===c.length&&"00"===c[3])return null;c="#"+c.join("");a.classed(b,!1);return c}},function(a,c,d){var b=d(1),f=d(57);a=function(){function a(){this._entities=[];this._rtree=new f.RTree;this._tree=b.quadtree().x(function(a){return Math.floor(a.position.x)}).y(function(a){return Math.floor(a.position.y)})}a.prototype.addAll=function(a,b,c){(g=this._entities).push.apply(g,a);if(void 0!==c)for(c=f.RTreeBounds.bounds(c),g=0;g<a.length;g++){var d=a[g],e=f.RTreeBounds.entityBounds(b(d));f.RTreeBounds.isBoundsOverlapBounds(c,
e)&&(this._tree.add(d),this._rtree.insert(e,d))}else for(this._tree.addAll(a),g=0;g<a.length;g++)d=a[g],e=f.RTreeBounds.entityBounds(b(d)),this._rtree.insert(e,d);var g};a.prototype.entityNearest=function(a){return this._tree.find(a.x,a.y)};a.prototype.entitiesInBounds=function(a){return this._rtree.intersect(f.RTreeBounds.entityBounds(a))};a.prototype.entitiesInXBounds=function(a){return this._rtree.intersectX(f.RTreeBounds.entityBounds(a))};a.prototype.entitiesInYBounds=function(a){return this._rtree.intersectY(f.RTreeBounds.entityBounds(a))};
a.prototype.entities=function(){return this._entities};return a}();c.EntityStore=a},function(a,c,d){var b=d(56);a=function(){function a(){"function"===typeof window.Map?this._es6Map=new window.Map:this._keyValuePairs=[]}a.prototype.set=function(a,c){if(b.isNaN(a))throw Error("NaN may not be used as a key to the Map");if(null!=this._es6Map)return this._es6Map.set(a,c),this;for(var d=0;d<this._keyValuePairs.length;d++)if(this._keyValuePairs[d].key===a)return this._keyValuePairs[d].value=c,this;this._keyValuePairs.push({key:a,
value:c});return this};a.prototype.get=function(a){if(null!=this._es6Map)return this._es6Map.get(a);for(var b=0;b<this._keyValuePairs.length;b++)if(this._keyValuePairs[b].key===a)return this._keyValuePairs[b].value};a.prototype.has=function(a){if(null!=this._es6Map)return this._es6Map.has(a);for(var b=0;b<this._keyValuePairs.length;b++)if(this._keyValuePairs[b].key===a)return!0;return!1};a.prototype.forEach=function(a,b){var c=this;null!=this._es6Map?this._es6Map.forEach(function(d,e){return a.call(b,
d,e,c)},b):this._keyValuePairs.forEach(function(d){a.call(b,d.value,d.key,c)})};a.prototype.delete=function(a){if(null!=this._es6Map)return this._es6Map.delete(a);for(var b=0;b<this._keyValuePairs.length;b++)if(this._keyValuePairs[b].key===a)return this._keyValuePairs.splice(b,1),!0;return!1};return a}();c.Map=a},function(a,c){c.assign=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b={};for(var c=0;c<a.length;c++)for(var g=a[c],h=0,l=Object.keys(g);h<l.length;h++){var m=l[h];
b[m]=g[m]}return b}},function(a,c){a=function(){function a(){}a.prototype.split=function(a,b){for(var c=Math.ceil(a.length/2),d=0;d<c;d++)b[0].insert(a[d]);for(d=c;d<a.length;d++)b[1].insert(a[d])};return a}();c.SplitStrategyTrivial=a;a=function(){function a(){}a.prototype.split=function(a,b){a=a.slice();for(this.chooseFirstSplit(a,b);0<a.length;)this.addNext(a,b)};a.prototype.chooseFirstSplit=function(a,b){for(var c=0,d=0,e=a.length-1,f=a.length-1,n=1;n<a.length-1;n++){var q=a[n];q.bounds.xl>a[e].bounds.xl?
e=n:q.bounds.xh<a[c].bounds.xh&&(c=n);q.bounds.yl>a[f].bounds.yl?f=n:q.bounds.yh<a[d].bounds.yh&&(d=n)}d=Math.abs(a[c].bounds.xh-a[e].bounds.xl)>Math.abs(a[d].bounds.yh-a[f].bounds.yl)?[c,e]:[d,f];c=d[0];d=d[1];c===d&&(c=0,d=a.length-1);b[0].insert(a.splice(Math.max(c,d),1)[0]);b[1].insert(a.splice(Math.min(c,d),1)[0])};a.prototype.addNext=function(a,b){for(var c=null,d=null,e=null,f=0;f<a.length;f++){var n=a[f],q=b[0].unionAreaDifference(n.bounds);n=b[1].unionAreaDifference(n.bounds);if(q<d||null==
c)c=f,d=q,e=b[0];n<d&&(c=f,d=n,e=b[1])}e.insert(a.splice(c,1)[0])};return a}();c.SplitStrategyLinear=a},function(a,c,d){var b=d(1),f=d(0);a=d(10);c.IStackingOrder=a.makeEnum(["topdown","bottomup"]);var g=Math;c.stack=function(a,c,d,e){void 0===e&&(e="bottomup");var g=b.map(),h=b.map(),l=new f.Map;"topdown"===e&&(a=a.slice(),a.reverse());a.forEach(function(a){var b=new f.Map;a.data().forEach(function(e,f){var l=String(c(e,f,a)),m=+d(e,f,a),n=0<=m?g:h;if(n.has(l)){var q=n.get(l);n.set(l,q+m)}else q=
0,n.set(l,m);b.set(l,{offset:q,value:m,axisValue:c(e,f,a),originalDatum:e,originalDataset:a,originalIndex:f})});l.set(a,b)});return l};c.stackedExtents=function(a){var b=new f.Map,c=new f.Map;a.forEach(function(a){a.forEach(function(a,d){var e=f.Math.max([a.offset+a.value,a.offset],a.offset),g=f.Math.min([a.offset+a.value,a.offset],a.offset),h=a.axisValue;b.has(d)?b.get(d).extent<e&&b.set(d,{extent:e,axisValue:h,stackedDatum:a}):b.set(d,{extent:e,axisValue:h,stackedDatum:a});c.has(d)?c.get(d).extent>
g&&c.set(d,{extent:g,axisValue:h,stackedDatum:a}):c.set(d,{extent:g,axisValue:h,stackedDatum:a})})});return{maximumExtents:b,minimumExtents:c}};c.stackedExtent=function(a,b,c){var d=[];a.forEach(function(a,e){e.data().forEach(function(f,g){if(null==c||c(f,g,e))f=a.get(String(b(f,g,e))),d.push(f.value+f.offset)})});a=f.Math.max(d,0);var e=f.Math.min(d,0);return[g.min(e,0),g.max(0,a)]};c.normalizeKey=function(a){return String(a)}},function(a,c,d){var b=d(0);c.getTranslator=function(a){a=a.root().rootElement().node();
var b=a.__Plottable_ClientTranslator;null==b&&(b=new f(a),a.__Plottable_ClientTranslator=b);return b};var f=function(){function a(a){this._rootElement=a}a.prototype.computePosition=function(a,c){a={x:a,y:c};c=b.Math.getCumulativeTransform(this._rootElement);return null==c?a:b.Math.applyTransform(c,a)};a.isEventInside=function(a,c){return b.DOM.contains(a.root().rootElement().node(),c.target)};return a}();c.Translator=f},function(a,c,d){Object.defineProperty(c,"__esModule",{value:!0});var b=d(124);
d.d(c,"easeLinear",function(){return b.a});var f=d(126);d.d(c,"easeQuad",function(){return f.a});d.d(c,"easeQuadIn",function(){return f.b});d.d(c,"easeQuadOut",function(){return f.c});d.d(c,"easeQuadInOut",function(){return f.a});var g=d(121);d.d(c,"easeCubic",function(){return g.a});d.d(c,"easeCubicIn",function(){return g.b});d.d(c,"easeCubicOut",function(){return g.c});d.d(c,"easeCubicInOut",function(){return g.a});var h=d(125);d.d(c,"easePoly",function(){return h.a});d.d(c,"easePolyIn",function(){return h.b});
d.d(c,"easePolyOut",function(){return h.c});d.d(c,"easePolyInOut",function(){return h.a});var l=d(127);d.d(c,"easeSin",function(){return l.a});d.d(c,"easeSinIn",function(){return l.b});d.d(c,"easeSinOut",function(){return l.c});d.d(c,"easeSinInOut",function(){return l.a});var m=d(123);d.d(c,"easeExp",function(){return m.a});d.d(c,"easeExpIn",function(){return m.b});d.d(c,"easeExpOut",function(){return m.c});d.d(c,"easeExpInOut",function(){return m.a});var n=d(120);d.d(c,"easeCircle",function(){return n.a});
d.d(c,"easeCircleIn",function(){return n.b});d.d(c,"easeCircleOut",function(){return n.c});d.d(c,"easeCircleInOut",function(){return n.a});var q=d(119);d.d(c,"easeBounce",function(){return q.a});d.d(c,"easeBounceIn",function(){return q.b});d.d(c,"easeBounceOut",function(){return q.a});d.d(c,"easeBounceInOut",function(){return q.c});var p=d(118);d.d(c,"easeBack",function(){return p.a});d.d(c,"easeBackIn",function(){return p.b});d.d(c,"easeBackOut",function(){return p.c});d.d(c,"easeBackInOut",function(){return p.a});
var t=d(122);d.d(c,"easeElastic",function(){return t.a});d.d(c,"easeElasticIn",function(){return t.b});d.d(c,"easeElasticOut",function(){return t.a});d.d(c,"easeElasticInOut",function(){return t.c})},function(a,c,d){d.d(c,"b",function(){return b});d.d(c,"c",function(){return f});d.d(c,"a",function(){return g});var b=function m(a){function b(b){return b*b*((a+1)*b-a)}a=+a;b.overshoot=m;return b}(1.70158),f=function n(a){function b(b){return--b*b*((a+1)*b+a)+1}a=+a;b.overshoot=n;return b}(1.70158),
g=function q(a){function b(b){return(1>(b*=2)?b*b*((a+1)*b-a):(b-=2)*b*((a+1)*b+a)+2)/2}a=+a;b.overshoot=q;return b}(1.70158)},function(a,c){function b(a){return(a=+a)<e?t*a*a:a<g?t*(a-=f)*a+h:a<m?t*(a-=l)*a+n:t*(a-=q)*a+p}c.b=function(a){return 1-b(1-a)};c.a=b;c.c=function(a){return(1>=(a*=2)?1-b(1-a):b(a-1)+1)/2};var e=4/11,f=6/11,g=8/11,h=.75,l=9/11,m=10/11,n=.9375,q=21/22,p=.984375,t=1/e/e},function(a,c){c.b=function(a){return 1-Math.sqrt(1-a*a)};c.c=function(a){return Math.sqrt(1- --a*a)};c.a=
function(a){return(1>=(a*=2)?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}},function(a,c){c.b=function(a){return a*a*a};c.c=function(a){return--a*a*a+1};c.a=function(a){return(1>=(a*=2)?a*a*a:(a-=2)*a*a+2)/2}},function(a,c,d){d.d(c,"b",function(){return f});d.d(c,"a",function(){return g});d.d(c,"c",function(){return h});var b=2*Math.PI,f=function q(a,c){function d(b){return a*Math.pow(2,10*--b)*Math.sin((e-b)/c)}var e=Math.asin(1/(a=Math.max(1,a)))*(c/=b);d.amplitude=function(a){return q(a,c*b)};
d.period=function(b){return q(a,b)};return d}(1,.3),g=function p(a,c){function d(b){return 1-a*Math.pow(2,-10*(b=+b))*Math.sin((b+e)/c)}var e=Math.asin(1/(a=Math.max(1,a)))*(c/=b);d.amplitude=function(a){return p(a,c*b)};d.period=function(b){return p(a,b)};return d}(1,.3),h=function t(a,c){function d(b){return(0>(b=2*b-1)?a*Math.pow(2,10*b)*Math.sin((e-b)/c):2-a*Math.pow(2,-10*b)*Math.sin((e+b)/c))/2}var e=Math.asin(1/(a=Math.max(1,a)))*(c/=b);d.amplitude=function(a){return t(a,c*b)};d.period=function(b){return t(a,
b)};return d}(1,.3)},function(a,c){c.b=function(a){return Math.pow(2,10*a-10)};c.c=function(a){return 1-Math.pow(2,-10*a)};c.a=function(a){return(1>=(a*=2)?Math.pow(2,10*a-10):2-Math.pow(2,10-10*a))/2}},function(a,c){c.a=function(a){return+a}},function(a,c,d){d.d(c,"b",function(){return b});d.d(c,"c",function(){return f});d.d(c,"a",function(){return g});var b=function m(a){function b(b){return Math.pow(b,a)}a=+a;b.exponent=m;return b}(3),f=function n(a){function b(b){return 1-Math.pow(1-b,a)}a=+a;
b.exponent=n;return b}(3),g=function q(a){function b(b){return(1>=(b*=2)?Math.pow(b,a):2-Math.pow(2-b,a))/2}a=+a;b.exponent=q;return b}(3)},function(a,c){c.b=function(a){return a*a};c.c=function(a){return a*(2-a)};c.a=function(a){return(1>=(a*=2)?a*a:--a*(2-a)+1)/2}},function(a,c){c.b=function(a){return 1-Math.cos(a*e)};c.c=function(a){return Math.sin(a*e)};c.a=function(a){return(1-Math.cos(b*a))/2};var b=Math.PI,e=b/2},function(a,c,d){function b(a){return!0===f(a)&&"[object Object]"===Object.prototype.toString.call(a)}
var f=d(129);a.exports=function(a){if(!1===b(a))return!1;a=a.constructor;if("function"!==typeof a)return!1;a=a.prototype;return!1===b(a)||!1===a.hasOwnProperty("isPrototypeOf")?!1:!0}},function(a){a.exports=function(a){return null!=a&&"object"===typeof a&&!1===Array.isArray(a)}},function(a,c){a=function(){function a(a,b,c){void 0===b&&(b=10);void 0===c&&(c={});var d=this;this.ctx=a;this.lineHeight=b;this.style=c;this.createRuler=function(){return function(a){d.ctx.font=d.style.font;return{width:d.ctx.measureText(a).width,
height:d.lineHeight}}};this.createPen=function(a,b,c){null==c&&(c=d.ctx);c.save();c.translate(b.translate[0],b.translate[1]);c.rotate(b.rotate*Math.PI/180);return d.createCanvasPen(c)};void 0===this.style.fill&&(this.style.fill="#444")}a.prototype.createCanvasPen=function(a){var b=this;return{destroy:function(){a.restore()},write:function(c,d,e,f){a.textAlign=d;null!=b.style.font&&(a.font=b.style.font);null!=b.style.fill&&(a.fillStyle=b.style.fill,a.fillText(c,e,f));null!=b.style.stroke&&(a.strokeStyle=
b.style.fill,a.strokeText(c,e,f))}}};return a}();c.CanvasContext=a},function(a,c){var b=function(){function a(){}a.append=function(b,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];d=a.create.apply(a,[c].concat(d));b.appendChild(d);return d};a.create=function(b){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];d=document.createElementNS(a.SVG_NS,b);a.addClasses.apply(a,[d].concat(c));return d};a.addClasses=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];
b=b.filter(function(a){return null!=a});null!=a.classList?b.forEach(function(b){a.classList.add(b)}):a.setAttribute("class",b.join(" "))};a.getDimensions=function(a){if(a.getBBox)try{var b=a.getBBox();return{width:b.width,height:b.height}}catch(h){}return{height:0,width:0}};return a}();b.SVG_NS="http://www.w3.org/2000/svg";c.SvgUtils=b;a=function(){function a(a,c,d){void 0===d&&(d=!1);var e=this;this.element=a;this.className=c;this.addTitleElement=d;this.createRuler=function(){var a=e.getTextElements(e.element),
c=a.parentElement,d=a.containerElement,f=a.textElement;return function(a){c.appendChild(d);f.textContent=a;a=b.getDimensions(f);c.removeChild(d);return a}};this.createPen=function(a,c,d){null==d&&(d=e.element);d=b.append(d,"g","text-container",e.className);e.addTitleElement&&(b.append(d,"title").textContent=a,d.setAttribute("title",a));a=b.append(d,"g","text-area");a.setAttribute("transform","translate("+c.translate[0]+","+c.translate[1]+")"+("rotate("+c.rotate+")"));return e.createSvgLinePen(a)}}
a.prototype.setAddTitleElement=function(a){this.addTitleElement=a};a.prototype.createSvgLinePen=function(a){return{write:function(c,d,e,f){var g=b.append(a,"text","text-line");g.textContent=c;g.setAttribute("text-anchor",d);g.setAttribute("transform","translate("+e+","+f+")");g.setAttribute("y","-0.25em")}}};a.prototype.getTextElements=function(a){if("text"===a.tagName){var c=a.parentElement;null==c&&(c=a.parentNode);c.removeChild(a);return{containerElement:a,parentElement:c,textElement:a}}var d=
a.querySelector("text");if(null!=d)return c=a.parentElement,null==c&&(c=a.parentNode),c.removeChild(a),{containerElement:a,parentElement:c,textElement:d};c=b.create("text",this.className);return{containerElement:c,parentElement:a,textElement:c}};return a}();c.SvgContext=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(21),g=d(36);a=
function(a){function c(b){var c=a.call(this,b)||this;c.dimCache=new f.Cache(function(a){return c._measureNotFromCache(a)});return c}b(c,a);c.prototype._measureNotFromCache=function(b){return a.prototype.measure.call(this,b)};c.prototype.measure=function(a){void 0===a&&(a=g.AbstractMeasurer.HEIGHT_TEXT);return this.dimCache.get(a)};c.prototype.reset=function(){this.dimCache.clear();a.prototype.reset.call(this)};return c}(d(60).CacheCharacterMeasurer);c.CacheMeasurer=a},function(a,c,d){var b=d(59),
f=d(62),g=d(64),h=d(66);a=function(){function a(a){this.context=a;this.measurer=new f.CacheMeasurer(this.context);this.wrapper=new g.Wrapper;this.writer=new h.Writer(this.measurer,this.context,this.wrapper)}a.svg=function(c,d,e){return new a(new b.SvgContext(c,d,e))};a.canvas=function(c,d,e){return new a(new b.CanvasContext(c,d,e))};a.prototype.write=function(a,b,c,d,e){this.writer.write(a,b,c,d,e)};a.prototype.clearMeasurerCache=function(){this.measurer.reset()};return a}();c.Typesetter=a},function(a,
c){a=function(){function a(a){this.cache={};this.compute=a}a.prototype.get=function(a){this.cache.hasOwnProperty(a)||(this.cache[a]=this.compute(a));return this.cache[a]};a.prototype.clear=function(){this.cache={};return this};return a}();c.Cache=a},function(a,c){c.Methods=function(){function a(){}a.arrayEq=function(a,b){if(null==a||null==b)return a===b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.objEq=function(b,c){if(null==b||null==c)return b===
c;var d=Object.keys(b).sort(),e=Object.keys(c).sort(),f=d.map(function(a){return b[a]}),m=e.map(function(a){return c[a]});return a.arrayEq(d,e)&&a.arrayEq(f,m)};a.strictEq=function(a,b){return a===b};a.defaults=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(null==a)throw new TypeError("Cannot convert undefined or null to object");var d=Object(a);b.forEach(function(a){if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])});return d};return a}()},
function(a,c){c.StringMethods=function(){function a(){}a.combineWhitespace=function(a){return a.replace(/[ \t]+/g," ")};a.isNotEmptyString=function(a){return a&&""!==a.trim()};a.trimStart=function(b,c){if(!b)return b;b=b.split("");var d=c?function(b){return b.split(c).some(a.isNotEmptyString)}:a.isNotEmptyString;return b.reduce(function(a,b){return d(a+b)?a+b:a},"")};a.trimEnd=function(b,c){if(!b)return b;b=b.split("");b.reverse();b=a.trimStart(b.join(""),c).split("");b.reverse();return b.join("")};
return a}()},function(a,c){a=function(){function a(){this.WordDividerRegExp=/\W/;this.WhitespaceRegExp=/\s/}a.prototype.tokenize=function(a){var b=this;return a.split("").reduce(function(a,c){return a.slice(0,-1).concat(b.shouldCreateNewToken(a[a.length-1],c))},[""])};a.prototype.shouldCreateNewToken=function(a,b){if(!a)return[b];var c=a[a.length-1];return this.WhitespaceRegExp.test(c)&&this.WhitespaceRegExp.test(b)?[a+b]:this.WhitespaceRegExp.test(c)||this.WhitespaceRegExp.test(b)?[a,b]:this.WordDividerRegExp.test(c)||
this.WordDividerRegExp.test(b)?c===b?[a+b]:[a,b]:[a+b]};return a}();c.Tokenizer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.apply(this,arguments)||this}b(c,a);c.prototype.wrap=function(b,d,e,f){void 0===f&&(f=Infinity);if(1<b.split("\n").length)throw Error("SingleLineWrapper is designed to work only on single line");
var g=a.prototype.wrap.call(this,b,d,e,f);if(2>g.noLines)return g;for(var h=0,l=0;l<c.NO_WRAP_ITERATIONS&&e>h;++l){var m=(e+h)/2,n=a.prototype.wrap.call(this,b,d,m,f);this.areSameResults(g,n)?(e=m,g=n):h=m}return g};c.prototype.areSameResults=function(a,b){return a.noLines===b.noLines&&a.truncatedText===b.truncatedText};return c}(d(65).Wrapper);a.NO_WRAP_ITERATIONS=5;c.SingleLineWrapper=a},function(a,c,d){var b=d(21),f={textRotation:0,textShear:0,xAlign:"left",yAlign:"top"};a=function(){function a(a,
b,c){this._measurer=a;this._penFactory=b;this._wrapper=c}a.prototype.measurer=function(a){this._measurer=a;return this};a.prototype.wrapper=function(a){this._wrapper=a;return this};a.prototype.penFactory=function(a){this._penFactory=a;return this};a.prototype.write=function(c,d,e,g,q){void 0===g&&(g={});g=b.Methods.defaults({},f,g);if(-1===a.SupportedRotation.indexOf(g.textRotation))throw Error("unsupported rotation - "+g.textRotation+". Supported rotations are "+a.SupportedRotation.join(", "));if(null!=
g.textShear&&-80>g.textShear||80<g.textShear)throw Error("unsupported shear angle - "+g.textShear+". Must be between -80 and 80");var h=45<Math.abs(Math.abs(g.textRotation)-90),l=h?d:e,m=h?e:d,n=g.textShear,v=n*Math.PI/180;h=this._measurer.measure().height;var y=h*Math.tan(v);l=l/Math.cos(v)-Math.abs(y);var x=m*Math.cos(v);m=b.StringMethods.combineWhitespace(c);m=(this._wrapper?this._wrapper.wrap(m,this._measurer,l,x).wrappedText:m).split("\n");v=a.XOffsetFactor[g.xAlign]*l*Math.sin(v)-a.YOffsetFactor[g.yAlign]*
(x-m.length*h);n=g.textRotation+n;switch(g.textRotation){case 90:d=[d+v,0];break;case -90:d=[-v,e];break;case 180:d=[d,e+v];break;default:d=[0,-v]}c=this._penFactory.createPen(c,{translate:d,rotate:n},q);this.writeLines(m,c,l,h,y,g.xAlign);null!=c.destroy&&c.destroy()};a.prototype.writeLines=function(b,c,d,e,f,g){b.forEach(function(b,h){c.write(b,a.AnchorConverter[g],(0<f?(h+1)*f:h*f)+d*a.XOffsetFactor[g],(h+1)*e)})};return a}();a.SupportedRotation=[-90,0,180,90];a.AnchorConverter={center:"middle",
left:"start",right:"end"};a.XOffsetFactor={center:.5,left:0,right:1};a.YOffsetFactor={bottom:1,center:.5,top:0};c.Writer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}d(69);a=d(7);c.Animators=a;a=d(67);c.Axes=a;a=d(37);c.Components=a;a=d(23);c.Configs=a;a=d(8);c.Formatters=a;a=d(30);c.RenderController=a;a=d(39);c.RenderPolicies=a;a=d(31);c.SymbolFactories=a;a=d(13);c.Dispatchers=a;a=d(14);c.Drawers=a;a=d(25);c.Interactions=a;a=d(19);c.Plots=a;a=d(3);c.Scales=a;a=
d(0);c.Utils=a;b(d(22));a=d(28);c.TimeInterval=a.TimeInterval;b(d(4));b(d(29));b(d(38));a=d(68);c.version=a.version;b(d(24));b(d(6));b(d(15));b(d(40));b(d(16));b(d(2));b(d(11));b(d(17))}])}"object"===typeof exports&&"object"===typeof module?module.exports=cb(require("d3")):"function"===typeof define&&define.amd?define(["d3"],cb):"object"===typeof exports?exports.Plottable=cb(require("d3")):this.Plottable=cb(this.d3);
</script>
<style>
.plottable-colors-0 {
  background-color: #5279c7; /* INDIGO */
}

.plottable-colors-1 {
  background-color: #fd373e; /* CORAL_RED */
}

.plottable-colors-2 {
  background-color: #63c261; /* FERN */
}

.plottable-colors-3 {
  background-color: #fad419; /* BRIGHT_SUN */
}

.plottable-colors-4 {
  background-color: #2c2b6f; /* JACARTA */
}

.plottable-colors-5 {
  background-color: #ff7939; /* BURNING_ORANGE */
}

.plottable-colors-6 {
  background-color: #db2e65; /* CERISE_RED */
}

.plottable-colors-7 {
  background-color: #99ce50; /* CONIFER */
}

.plottable-colors-8 {
  background-color: #962565; /* ROYAL_HEATH */
}

.plottable-colors-9 {
  background-color: #06cccc; /* ROBINS_EGG_BLUE */
}

/**
 * User-supplied renderTo element.
 */
.plottable {
  display: block; /* must be block elements for width/height calculations to work in Firefox. */
  pointer-events: visibleFill;
  position: relative;
  /**
   * Pre 3.0, users could set the dimension of the root element in two ways: either using CSS
   * (inline or through a stylesheet), or using the SVG width/height attributes. By default, we
   * set the SVG width/height attributes to 100%.
   *
   * Post 3.0 the root element is always a normal div and the only way to set the dimensions is
   * to use CSS. To replicate the "100%-by-default" behavior, we apply width/height 100%.
   */
  width: 100%;
  height: 100%;
}

/**
 * The _element that roots each Component's DOM.
 */
.plottable .component {
  /* Allow components to be positioned with explicit left/top/width/height styles */
  position: absolute;
}

.plottable .background-container,
.plottable .content,
.plottable .foreground-container {
  position: absolute;
  width: 100%;
  height: 100%;
}

/**
 * Don't allow svg elements above the content to steal events
 */
.plottable .foreground-container {
  pointer-events: none;
}

.plottable .component-overflow-hidden {
  overflow: hidden;
}

.plottable .component-overflow-visible {
  overflow: visible;
}

.plottable .plot-canvas-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.plottable .plot-canvas {
  width: 100%;
  height: 100%;
  /**
   * Play well with deferred rendering.
   */
  transform-origin: 0px 0px 0px;
}

.plottable text {
  text-rendering: geometricPrecision;
}

.plottable .label text {
  font-family: "Helvetica Neue", sans-serif;
  fill: #32313F;
}

.plottable .bar-label-text-area text {
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
}

.plottable .label-area text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 14px;
}

.plottable .light-label text {
  fill: white;
}

.plottable .dark-label text {
  fill: #32313F;
}

.plottable .off-bar-label text {
  fill: #32313F;
}

.plottable .stacked-bar-label text {
  fill: #32313F;
  font-style: normal;
}

.plottable .stacked-bar-plot .off-bar-label {
  /* HACKHACK #2795: correct off-bar label logic to be implemented on StackedBar */
  visibility: hidden !important;
}

.plottable .axis-label text {
  font-size: 10px;
  font-weight: bold;
  letter-spacing: 1px;
  line-height: normal;
  text-transform: uppercase;
}

.plottable .title-label text {
  font-size: 20px;
  font-weight: bold;
}

.plottable .axis line.baseline {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis line.tick-mark {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
  font-weight: 200;
  line-height: normal;
}

.plottable .axis .annotation-circle {
  fill: white;
  stroke-width: 1px;
  stroke: #CCC;
}

.plottable .axis .annotation-line {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis .annotation-rect {
  stroke: #CCC;
  stroke-width: 1px;
  fill: white;
}

.plottable .bar-plot .baseline {
  stroke: #999;
}

.plottable .gridlines line {
  stroke: #3C3C3C; /* hackhack: gridlines should be solid; see #820 */
  opacity: 0.25;
  stroke-width: 1px;
}

.plottable .selection-box-layer .selection-area {
  fill: black;
  fill-opacity: 0.03;
  stroke: #CCC;
}
/* DragBoxLayer */
.plottable .drag-box-layer.x-resizable .drag-edge-lr {
  cursor: ew-resize;
}
.plottable .drag-box-layer.y-resizable .drag-edge-tb {
  cursor: ns-resize;
}

.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-tl {
  cursor: nwse-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-tr {
  cursor: nesw-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-bl {
  cursor: nesw-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-br {
  cursor: nwse-resize;
}

.plottable .drag-box-layer.movable .selection-area {
  cursor: move; /* IE fallback */
  cursor: -moz-grab;
  cursor: -webkit-grab;
  cursor: grab;
}

.plottable .drag-box-layer.movable .selection-area:active {
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  cursor: grabbing;
}
/* /DragBoxLayer */

.plottable .guide-line-layer line.guide-line {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .drag-line-layer.enabled.vertical line.drag-edge {
  cursor: ew-resize;
}

.plottable .drag-line-layer.enabled.horizontal line.drag-edge {
  cursor: ns-resize;
}

.plottable .legend text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
  font-weight: bold;
  line-height: normal;
}

.plottable .interpolated-color-legend rect.swatch-bounding-box {
  fill: none;
  stroke: #CCC;
  stroke-width: 1px;
  pointer-events: none;
}

.plottable .waterfall-plot line.connector {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .pie-plot .arc.outline {
  stroke-linejoin: round;
}
</style>






<script>//~~WEBPATH~~/vz-chart-helpers/vz-chart-helpers.js
var L;
(function(a){function b(){var b=new Plottable.Scales.Linear;b.tickGenerator();var c=new Plottable.Axes.Numeric(b,"bottom");c.formatter(a.stepFormatter);return{scale:b,axis:c,accessor:function(a){return a.step}}}function c(){var a=new Plottable.Scales.Time;return{scale:a,axis:new Plottable.Axes.Time(a,"bottom"),accessor:function(a){return a.wall_time}}}function d(){var b=new Plottable.Scales.Linear;return{scale:b,axis:new Plottable.Axes.Numeric(b,"bottom"),accessor:a.relativeAccessor}}a.SYMBOLS_LIST=[{character:"\u25fc",
method:Plottable.SymbolFactories.square},{character:"\u25c6",method:Plottable.SymbolFactories.diamond},{character:"\u25b2",method:Plottable.SymbolFactories.triangle},{character:"\u2605",method:Plottable.SymbolFactories.star},{character:"\u271a",method:Plottable.SymbolFactories.cross}];var e;(function(a){a.STEP="step";a.RELATIVE="relative";a.WALL_TIME="wall_time"})(e=a.XType||(a.XType={}));a.Y_TOOLTIP_FORMATTER_PRECISION=4;a.STEP_FORMATTER_PRECISION=4;a.Y_AXIS_FORMATTER_PRECISION=3;a.TOOLTIP_Y_PIXEL_OFFSET=
20;a.TOOLTIP_CIRCLE_SIZE=4;a.NAN_SYMBOL_SIZE=6;a.multiscaleFormatter=function(a){return function(b){var c=Math.abs(b);1E-15>c&&(c=0);return(1E4<=c?d3.format("."+a+"e"):0<c&&.01>c?d3.format("."+a+"e"):d3.format("."+a+"g"))(b)}};a.computeDomain=function(a,b){a=a.filter(function(a){return isFinite(a)});if(0===a.length)return[-.1,1.1];b?(a=_.sortBy(a),b=d3.quantile(a,.05),a=d3.quantile(a,.95)):(b=d3.min(a),a=d3.max(a));var c=a-b;var d=0===c?1.1*Math.abs(b)+1.1:.2*c;b=[0<=b&&b<c?-.1*a:b-d,a+d];return b=
d3.scaleLinear().domain(b).nice().domain()};a.accessorize=function(a){return function(b){return b[a]}};a.stepFormatter=Plottable.Formatters.siSuffix(a.STEP_FORMATTER_PRECISION);a.stepX=b;a.timeFormatter=Plottable.Formatters.time("%a %b %e, %H:%M:%S");a.wallX=c;a.relativeAccessor=function(a,b,c){if(null!=a.relative)return a.relative;b=c.data();return(+a.wall_time-(0<b.length?+b[0].wall_time:0))/36E5};a.relativeFormatter=function(a){var b="",c=Math.floor(a/24);a-=24*c;c&&(b+=c+"d ");var d=Math.floor(a);
a=60*(a-d);if(d||c)b+=d+"h ";var e=Math.floor(a);a=60*(a-e);if(e||d||c)b+=e+"m ";return b+Math.floor(a)+"s"};a.relativeX=d;a.getXComponents=function(a){switch(a){case e.STEP:return b();case e.WALL_TIME:return c();case e.RELATIVE:return d();default:throw Error("invalid xType: "+a);}}})(L||(L={}));
</script>





<dom-module id="vz-chart-tooltip">
  <template>
    <template id="template" class="style-scope vz-chart-tooltip"></template>
    
  </template>
  <script>//~~WEBPATH~~/vz-chart-helpers/vz-chart-tooltip.js
var db;
(function(a){var b;(function(a){a.AUTO="auto";a.BOTTOM="bottom";a.RIGHT="right"})(b=a.TooltipPosition||(a.TooltipPosition={}));Polymer({is:"vz-chart-tooltip",properties:{position:{type:String,value:b.AUTO},minDistFromEdge:{type:Number,value:15}},ready:function(){this._tunnel=this._raf=this._styleCache=null},attached:function(){this._tunnel=this._createTunnel()},detached:function(){this.hide();this._removeTunnel(this._tunnel);this._tunnel=null},hide:function(){window.cancelAnimationFrame(this._raf);this._styleCache=
null;this.content().style.opacity=0},content:function(){return this._tunnel.firstElementChild},updateAndPosition:function(a,b){var c=this;b.forEach(function(a){return c.scopeSubtree(a)});window.cancelAnimationFrame(this._raf);this._raf=window.requestAnimationFrame(function(){c.isAttached&&c._repositionImpl(a)})},_repositionImpl:function(a){var c=this.content();a=a.getBoundingClientRect();var e=c.getBoundingClientRect(),f=window.innerHeight,g=document.body.clientWidth,h=a.top,l=h+a.height,m=e.height+
L.TOOLTIP_Y_PIXEL_OFFSET,n=null,q=Math.max(this.minDistFromEdge,a.left),p=null,t=h;this.position==b.RIGHT?q=a.right:(t=l+L.TOOLTIP_Y_PIXEL_OFFSET,g<q+e.width+this.minDistFromEdge&&(q=null,p=this.minDistFromEdge));this.position==b.AUTO&&0<a.top-m&&f<a.top+a.height+m&&(t=null,n=f-h+L.TOOLTIP_Y_PIXEL_OFFSET);a={opacity:1,left:q?q+"px":null,right:p?p+"px":null,top:t?t+"px":null,bottom:n?n+"px":null};_.isEqual(this._styleCache,a)||(Object.assign(c.style,a),this._styleCache=a)},_createTunnel:function(){var a=
document.createElement("div");a.classList.add(this.is+"-tunnel");var b=this.instanceTemplate(this.$.template);this.scopeSubtree(b);a.appendChild(b);document.body.appendChild(a);return a},_removeTunnel:function(a){document.body.removeChild(a)}})})(db||(db={}));
</script>
</dom-module>






<script>//~~WEBPATH~~/vz-line-chart/dragZoomInteraction.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();var fb;
(function(a){var b=function(a){function b(b,c,d){var e=a.call(this)||this;e.easeFn=d3.easeCubicInOut;e._animationTime=750;e.xScale(b);e.yScale(c);e._dragInteraction=new Plottable.Interactions.Drag;e._doubleClickInteraction=new Plottable.Interactions.Click;e.setupCallbacks();e.unzoomMethod=d;e.onDetach(function(){e._doubleClickInteraction.detachFrom();e._dragInteraction.detachFrom()});e.onAnchor(function(){e._doubleClickInteraction.attachTo(e);e._dragInteraction.attachTo(e)});return e}Oa(b,a);b.prototype.interactionStart=
function(a){this.onStart=a};b.prototype.interactionEnd=function(a){this.onEnd=a};b.prototype.dragInteraction=function(){return this._dragInteraction};b.prototype.setupCallbacks=function(){var a=this,b=!1;this._dragInteraction.onDragStart(function(b){a.bounds({topLeft:b,bottomRight:b});a.onStart()});this._dragInteraction.onDrag(function(c,d){a.bounds({topLeft:c,bottomRight:d});a.boxVisible(!0);b=!0});this._dragInteraction.onDragEnd(function(c,d){a.boxVisible(!1);a.bounds({topLeft:c,bottomRight:d});
if(b)a.zoom();else a.onEnd();b=!1});this._doubleClickInteraction.onDoubleClick(this.unzoom.bind(this))};b.prototype.animationTime=function(a){if(null==a)return this._animationTime;if(0>a)throw Error("animationTime cannot be negative");this._animationTime=a;return this};b.prototype.ease=function(a){if("function"!==typeof a)throw Error("ease function must be a function");0===a(0)&&1===a(1)||Plottable.Utils.Window.warn("Easing function does not maintain invariant f(0)\x3d\x3d0 \x26\x26 f(1)\x3d\x3d1. Bad behavior may result.");
this.easeFn=a;return this};b.prototype.zoom=function(){var a=this.xExtent()[0].valueOf(),b=this.xExtent()[1].valueOf(),c=this.yExtent()[1].valueOf(),d=this.yExtent()[0].valueOf();a!==b&&c!==d&&this.interpolateZoom(a,b,c,d)};b.prototype.unzoom=function(){var a=this.xScale();a._domainMin=null;a._domainMax=null;a=a._getExtent();this.xScale().domain(a);this.unzoomMethod()};b.prototype.isZooming=function(a){this._dragInteraction.enabled(!a);this._doubleClickInteraction.enabled(!a)};b.prototype.interpolateZoom=
function(a,b,c,d){function e(){var l=Date.now()-v;l=0===g._animationTime?1:Math.min(1,l/g._animationTime);var m=f(h,a,l),n=f(p,b,l),q=f(t,c,l),w=f(r,d,l);g.xScale().domain([m,n]);g.yScale().domain([q,w]);1>l?Plottable.Utils.DOM.requestAnimationFramePolyfill(e):(g.onEnd(),g.isZooming(!1))}function f(a,b,c){return d3.interpolateNumber(a,b)(w(c))}var g=this,h=this.xScale().domain()[0].valueOf(),p=this.xScale().domain()[1].valueOf(),t=this.yScale().domain()[0].valueOf(),r=this.yScale().domain()[1].valueOf(),
w=this.easeFn;this.isZooming(!0);var v=Date.now();e()};return b}(Plottable.Components.SelectionBoxLayer);a.DragZoomLayer=b})(fb||(fb={}));
</script>


<script>//~~WEBPATH~~/vz-line-chart2/panZoomDragLayer.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();var gb;
(function(a){var b;(function(a){a[a.NONE=0]="NONE";a[a.DRAG_ZOOMING=1]="DRAG_ZOOMING";a[a.PANNING=2]="PANNING"})(b||(b={}));var c=function(a){function c(d,e,h){var f=a.call(this)||this;f.state=b.NONE;f.panStartCallback=new Plottable.Utils.CallbackSet;f.panEndCallback=new Plottable.Utils.CallbackSet;f.panZoom=new Plottable.Interactions.PanZoom(d,e);f.panZoom.dragInteraction().mouseFilter(function(a){return c.isPanKey(a)&&0===a.button});f.panZoom.attachTo(f);f.dragZoomLayer=new fb.DragZoomLayer(d,e,
h);f.dragZoomLayer.dragInteraction().mouseFilter(function(a){return!c.isPanKey(a)&&0===a.button});f.append(f.dragZoomLayer);f.onAnchor(function(){f.panZoom.attachTo(f)});f.onDetach(function(){f.panZoom.detachFrom()});f.panZoom.dragInteraction().onDragStart(function(){f.state==b.NONE&&f.setState(b.PANNING)});f.panZoom.dragInteraction().onDragEnd(function(){f.state==b.PANNING&&f.setState(b.NONE)});f.dragZoomLayer.dragInteraction().onDragStart(function(){f.state==b.NONE&&f.setState(b.DRAG_ZOOMING)});
f.dragZoomLayer.dragInteraction().onDragEnd(function(){f.state==b.DRAG_ZOOMING&&f.setState(b.NONE)});return f}Oa(c,a);c.isPanKey=function(a){return!!a.shiftKey};c.prototype.setState=function(a){if(this.state!=a){var c=this.state;this.state=a;this.root().removeClass(this.stateClassName(c));this.root().addClass(this.stateClassName(a));c==b.PANNING&&this.panEndCallback.callCallbacks();a==b.PANNING&&this.panStartCallback.callCallbacks()}};c.prototype.stateClassName=function(a){switch(a){case b.PANNING:return"panning";
case b.DRAG_ZOOMING:return"drag-zooming";default:return""}};c.prototype.onPanStart=function(a){this.panStartCallback.add(a)};c.prototype.onPanEnd=function(a){this.panEndCallback.add(a)};c.prototype.onScrollZoom=function(a){this.panZoom.onZoomEnd(a)};c.prototype.onDragZoomStart=function(a){this.dragZoomLayer.interactionStart(a)};c.prototype.onDragZoomEnd=function(a){this.dragZoomLayer.interactionEnd(a)};return c}(Plottable.Components.Group);a.PanZoomDragLayer=c})(gb||(gb={}));
</script>



<dom-module id="vz-line-chart2">
  <template>
    <div id="chartdiv" class="style-scope vz-line-chart2"></div>
    <vz-chart-tooltip id="tooltip" class="style-scope vz-line-chart2">
    </vz-chart-tooltip>
    
  </template>
  <script>//~~WEBPATH~~/vz-line-chart2/line-chart.js
(function(a){var b;(function(a){a[a.TEXT=0]="TEXT";a[a.DOM=1]="DOM"})(b||(b={}));var c=function(){function c(a,b,c,d,l,m,n,q,p,t,r){this.seriesNames=[];this.name2datasets={};this.colorScale=d;this.tooltip=l;this.datasets=[];this._ignoreYOutliers=!1;this.lastPointsDataset=new Plottable.Dataset;this.nanDataset=new Plottable.Dataset;this.yValueAccessor=b;this.symbolFunction=t;this.onDatasetChanged=this._onDatasetChanged.bind(this);this._defaultXRange=q;this._defaultYRange=p;this.tooltipColumns=m;this.buildChart(a,
b,c,n,r)}c.prototype.buildChart=function(b,d,g,h,l){var e=this;this.destroy();b=b();this.xAccessor=b.accessor;this.xScale=b.scale;this.xAxis=b.axis;this.xAxis.margin(0).tickLabelPadding(3);l&&this.xAxis.formatter(l);this.yScale=c.getYScaleFromType(g);this.yAxis=new Plottable.Axes.Numeric(this.yScale,"left");g=L.multiscaleFormatter(L.Y_AXIS_FORMATTER_PRECISION);this.yAxis.margin(0).tickLabelPadding(5).formatter(g);this.yAxis.usesTextWidthApproximation();this.fillArea=h;g=new a.PanZoomDragLayer(this.xScale,
this.yScale,function(){return e.resetDomain()});this.tooltipInteraction=this.createTooltipInteraction(g);this.tooltipPointsComponent=new Plottable.Component;h=this.buildPlot(this.xScale,this.yScale,h);this.gridlines=new Plottable.Components.Gridlines(this.xScale,this.yScale);l=new Plottable.Components.GuideLineLayer("horizontal");l.scale(this.yScale).value(0);b=new Plottable.Components.GuideLineLayer("vertical");b.scale(this.xScale).value(0);this.center=new Plottable.Components.Group([this.gridlines,
l,b,h,g,this.tooltipPointsComponent]);this.center.addClass("main");this.outer=new Plottable.Components.Table([[this.yAxis,this.center],[null,this.xAxis]])};c.prototype.buildPlot=function(a,b,c){var d=this;c&&(this.marginAreaPlot=new Plottable.Plots.Area,this.marginAreaPlot.x(this.xAccessor,a),this.marginAreaPlot.y(c.higherAccessor,b),this.marginAreaPlot.y0(c.lowerAccessor),this.marginAreaPlot.attr("fill",function(a,b,c){return d.colorScale.scale(c.metadata().name)}),this.marginAreaPlot.attr("fill-opacity",
.3),this.marginAreaPlot.attr("stroke-width",0));this.smoothedAccessor=function(a){return a.smoothed};c=new Plottable.Plots.Line;c.x(this.xAccessor,a);c.y(this.yValueAccessor,b);c.attr("stroke",function(a,b,c){return d.colorScale.scale(c.metadata().name)});this.linePlot=c;this.setupTooltips(c);var e=new Plottable.Plots.Line;e.x(this.xAccessor,a);e.y(this.smoothedAccessor,b);e.attr("stroke",function(a,b,c){return d.colorScale.scale(c.metadata().name)});this.smoothLinePlot=e;if(this.symbolFunction){var f=
new Plottable.Plots.Scatter;f.x(this.xAccessor,a);f.y(this.yValueAccessor,b);f.attr("fill",function(a,b,c){return d.colorScale.scale(c.metadata().name)});f.attr("opacity",1);f.size(2*L.TOOLTIP_CIRCLE_SIZE);f.symbol(function(a,b,c){return d.symbolFunction(c.metadata().name)});this.markersScatterPlot=f}f=new Plottable.Plots.Scatter;f.x(this.xAccessor,a);f.y(this.yValueAccessor,b);f.attr("fill",function(a){return d.colorScale.scale(a.name)});f.attr("opacity",1);f.size(2*L.TOOLTIP_CIRCLE_SIZE);f.datasets([this.lastPointsDataset]);
this.scatterPlot=f;var g=new Plottable.Plots.Scatter;g.x(this.xAccessor,a);g.y(function(a){return a.displayY},b);g.attr("fill",function(a){return d.colorScale.scale(a.name)});g.attr("opacity",1);g.size(2*L.NAN_SYMBOL_SIZE);g.datasets([this.nanDataset]);g.symbol(Plottable.SymbolFactories.triangle);this.nanDisplay=g;a=[g,f,e,c];this.marginAreaPlot&&a.push(this.marginAreaPlot);this.markersScatterPlot&&a.push(this.markersScatterPlot);return new Plottable.Components.Group(a)};c.prototype._onDatasetChanged=
function(a){this.smoothingEnabled&&this.resmoothDataset(a);this.updateSpecialDatasets()};c.prototype.ignoreYOutliers=function(a){a!==this._ignoreYOutliers&&(this._ignoreYOutliers=a,this.updateSpecialDatasets(),this.resetYDomain())};c.prototype.updateSpecialDatasets=function(){var a=this.getYAxisAccessor(),b=this.datasets.map(function(b){var c=null,d=b.data().filter(function(c){return!isNaN(a(c,-1,b))});0<d.length&&(c=d[d.length-1],c.name=b.metadata().name,c.relative=L.relativeAccessor(c,-1,b));return c}).filter(function(a){return null!=
a});this.lastPointsDataset.data(b);this.markersScatterPlot&&this.markersScatterPlot.datasets(this.datasets.map(this.createSampledDatasetForMarkers));b=_.flatten(this.datasets.map(function(b){for(var c=null,d=b.data(),e=0;e<d.length&&null==c;)isNaN(a(d[e],-1,b))||(c=a(d[e],-1,b)),e++;null==c&&(c=0);var f=[];for(e=0;e<d.length;e++)isNaN(a(d[e],-1,b))?(d[e].name=b.metadata().name,d[e].displayY=c,d[e].relative=L.relativeAccessor(d[e],-1,b),f.push(d[e])):c=a(d[e],-1,b);return f}));this.nanDataset.data(b)};
c.prototype.resetDomain=function(){this.resetXDomain();this.resetYDomain()};c.prototype.resetXDomain=function(){if(null!=this._defaultXRange)var a=this._defaultXRange;else a=this.xScale,a._domainMin=null,a._domainMax=null,a=a._getExtent();this.xScale.domain(a)};c.prototype.resetYDomain=function(){if(null!=this._defaultYRange)var a=this._defaultYRange;else{var b=this.getAccessorsForComputingYRange();a=_.flattenDeep(this.datasets.map(function(a){return b.map(function(b){return a.data().map(function(c){return b(c,
-1,a)})})})).filter(isFinite);a=L.computeDomain(a,this._ignoreYOutliers)}this.yScale.domain(a)};c.prototype.getAccessorsForComputingYRange=function(){var a=[this.getYAxisAccessor()];this.fillArea&&a.push(this.fillArea.lowerAccessor,this.fillArea.higherAccessor);return a};c.prototype.getYAxisAccessor=function(){return this.smoothingEnabled?this.smoothedAccessor:this.yValueAccessor};c.prototype.createTooltipInteraction=function(a){function b(){return e.enabled(!0)}function c(){e.enabled(!1);d.hideTooltips()}
var d=this,e=new Plottable.Interactions.Pointer;a.onPanStart(c);a.onDragZoomStart(c);a.onPanEnd(b);a.onDragZoomEnd(b);a.onScrollZoom(function(){return d.updateTooltipContent(d._lastMousePosition)});e.onPointerMove(function(a){d._lastMousePosition=a;d.updateTooltipContent(a)});e.onPointerExit(function(){return d.hideTooltips()});return e};c.prototype.updateTooltipContent=function(a){var b=this;this.linePlot&&(window.cancelAnimationFrame(this._tooltipUpdateAnimationFrame),this._tooltipUpdateAnimationFrame=
window.requestAnimationFrame(function(){var c={x:a.x,y:a.y,datum:null,dataset:null},d=b.gridlines.content().node().getBBox(),e=b.linePlot.datasets().map(function(a){return b.findClosestPoint(c,a)}).filter(Boolean),f=Plottable.Utils.DOM.intersectsBBox,n=e.filter(function(a){return f(a.x,a.y,d)||isNaN(b.yValueAccessor(a.datum,0,a.dataset))}),q=n.filter(function(a){return!isNaN(b.yValueAccessor(a.datum,0,a.dataset))});0!==e.length?(b.scatterPlot.attr("display","none"),e=b.tooltipPointsComponent.content().selectAll(".point").data(q,
function(a){return a.dataset.metadata().name}),e.enter().append("circle").classed("point",!0),e.attr("r",L.TOOLTIP_CIRCLE_SIZE).attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}).style("stroke","none").attr("fill",function(a){return b.colorScale.scale(a.dataset.metadata().name)}),e.exit().remove(),b.drawTooltips(n,c,b.tooltipColumns)):b.hideTooltips()}))};c.prototype.hideTooltips=function(){window.cancelAnimationFrame(this._tooltipUpdateAnimationFrame);this.tooltip.hide();this.scatterPlot.attr("display",
"block");this.tooltipPointsComponent.content().selectAll(".point").remove()};c.prototype.setupTooltips=function(a){var b=this;a.onDetach(function(){b.tooltipInteraction.detachFrom();b.tooltipInteraction.enabled(!1)});a.onAnchor(function(){b.tooltipInteraction.attachTo(a);b.tooltipInteraction.enabled(!0)})};c.prototype.drawTooltips=function(a,c,d){var e=this;if(a.length){var f=this.colorScale;d=[{title:"",static:!1,evalType:b.DOM,evaluate:function(a){d3.select(this).select("span").style("background-color",
function(){return f.scale(a.dataset.metadata().name)});return""},enter:function(a){d3.select(this).append("span").classed("swatch",!0).style("background-color",function(){return f.scale(a.dataset.metadata().name)})}}].concat(d);var g=function(a){return Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2)},n=_.min(a.map(g)),q=this.smoothingEnabled?this.smoothedAccessor:this.yValueAccessor;a="ascending"===this.tooltipSortingMethod?_.sortBy(a,function(a){return q(a.datum,-1,a.dataset)}):"descending"===this.tooltipSortingMethod?
_.sortBy(a,function(a){return q(a.datum,-1,a.dataset)}).reverse():"nearest"===this.tooltipSortingMethod?_.sortBy(a,g):a.slice(0).reverse();var p=this,t=d3.select(this.tooltip.content()).select("table"),r=t.select("thead").selectAll("th").data(d,function(a){return a.title}),w=r.enter().append("th").text(function(a){return a.title}).nodes();r.exit().remove();a=t.select("tbody").selectAll("tr").data(a,function(a){return a.dataset.metadata().name});a.classed("distant",function(a){var b=a.dataset.data()[0],
d=_.last(a.dataset.data());b=e.xScale.scale(e.xAccessor(b,0,a.dataset));d=e.xScale.scale(e.xAccessor(d,0,a.dataset));a=e.smoothingEnabled?a.datum.smoothed:e.yValueAccessor(a.datum,0,a.dataset);return c.x<b||c.x>d||isNaN(a)}).classed("closest",function(a){return g(a)===n}).each(function(a){p.drawTooltipRow(this,d,a)}).order();a.exit().remove();a=a.enter().append("tr").each(function(a){p.drawTooltipRow(this,d,a)}).nodes();w=w.concat(a);this.tooltip.updateAndPosition(this.targetSVG.node(),w)}else this.tooltip.hide()};
c.prototype.drawTooltipRow=function(a,b,c){var d=this;a=d3.select(a).selectAll("td").data(b);a.each(function(a){a.static||d.drawTooltipColumn.call(d,this,a,c)});a.enter().append("td").each(function(a){a.enter&&a.enter.call(this,c);d.drawTooltipColumn.call(d,this,a,c)})};c.prototype.drawTooltipColumn=function(a,c,d){var e=this.smoothingEnabled;c.evalType==b.DOM?c.evaluate.call(a,d,{smoothingEnabled:e}):d3.select(a).text(c.evaluate.call(a,d,{smoothingEnabled:e}))};c.prototype.findClosestPoint=function(a,
b){var c=this,d=b.data().map(function(a,d){return c.xScale.scale(c.xAccessor(a,d,b))}),e=_.sortedIndex(d,a.x);if(0==d.length)return null;e===d.length?--e:0!==e&&(e=Math.abs(d[e-1]-a.x)<Math.abs(d[e]-a.x)?e-1:e);a=b.data()[e];var f=this.smoothingEnabled?this.smoothedAccessor(a,e,b):this.yValueAccessor(a,e,b);return{x:d[e],y:this.yScale.scale(f),datum:a,dataset:b}};c.prototype.resmoothDataset=function(a){var b=this,c=a.data(),d=this.smoothingWeight,e=0<c.length?0:NaN,m=0;c.forEach(function(c,f){f=b.yValueAccessor(c,
f,a);_.isFinite(f)?(e=e*d+(1-d)*f,m++,f=1,1!==d&&(f=1-Math.pow(d,m)),c.smoothed=e/f):c.smoothed=f})};c.prototype.getDataset=function(a){void 0===this.name2datasets[a]&&(this.name2datasets[a]=new Plottable.Dataset([],{name:a,meta:null}));return this.name2datasets[a]};c.getYScaleFromType=function(a){if("log"===a)return new Plottable.Scales.ModifiedLog;if("linear"===a)return new Plottable.Scales.Linear;throw Error("Unrecognized yScale type "+a);};c.prototype.setVisibleSeries=function(a){var b=this;this.seriesNames=
a=a.sort();a.reverse();this.datasets.forEach(function(a){return a.offUpdate(b.onDatasetChanged)});this.datasets=a.map(function(a){return b.getDataset(a)});this.datasets.forEach(function(a){return a.onUpdate(b.onDatasetChanged)});this.linePlot.datasets(this.datasets);this.smoothingEnabled&&this.smoothLinePlot.datasets(this.datasets);this.marginAreaPlot&&this.marginAreaPlot.datasets(this.datasets);this.updateSpecialDatasets()};c.prototype.createSampledDatasetForMarkers=function(a){var b=a.data();if(20>=
b.length)return a;for(var c=Math.ceil(b.length/20),d=Array(Math.floor(b.length/c)),e=0,m=0;e<d.length;e++,m+=c)d[e]=b[m];return new Plottable.Dataset(d,a.metadata())};c.prototype.setSeriesData=function(a,b){this.getDataset(a).data(b)};c.prototype.setSeriesMetadata=function(a,b){b=Object.assign({},this.getDataset(a).metadata(),{meta:b});this.getDataset(a).metadata(b)};c.prototype.smoothingUpdate=function(a){var b=this;this.smoothingWeight=a;this.datasets.forEach(function(a){return b.resmoothDataset(a)});
this.smoothingEnabled||(this.linePlot.addClass("ghost"),this.scatterPlot.y(this.smoothedAccessor,this.yScale),this.smoothingEnabled=!0,this.smoothLinePlot.datasets(this.datasets));this.markersScatterPlot&&this.markersScatterPlot.y(this.getYAxisAccessor(),this.yScale);this.updateSpecialDatasets()};c.prototype.smoothingDisable=function(){this.smoothingEnabled&&(this.linePlot.removeClass("ghost"),this.scatterPlot.y(this.yValueAccessor,this.yScale),this.smoothLinePlot.datasets([]),this.smoothingEnabled=
!1,this.updateSpecialDatasets());this.markersScatterPlot&&this.markersScatterPlot.y(this.getYAxisAccessor(),this.yScale)};c.prototype.setTooltipSortingMethod=function(a){this.tooltipSortingMethod=a};c.prototype.renderTo=function(a){this.targetSVG=a;this.outer.renderTo(a);null!=this._defaultXRange&&this.resetXDomain();null!=this._defaultYRange&&this.resetYDomain()};c.prototype.redraw=function(a){void 0===a&&(a=!1);a&&this.outer.invalidateCache();this.outer.redraw()};c.prototype.destroy=function(){this.outer&&
this.outer.destroy()};c.prototype.onAnchor=function(a){if(this.outer)this.outer.onAnchor(a)};return c}();a.LineChart=c})(gb||(gb={}));
</script>
  <script>//~~WEBPATH~~/vz-line-chart2/vz-line-chart2.js
(function(a){function b(a){return isNaN(a)?"NaN":c(a)}var c=L.multiscaleFormatter(L.Y_TOOLTIP_FORMATTER_PRECISION);a.DEFAULT_TOOLTIP_COLUMNS=[{title:"Name",evaluate:function(a){return a.dataset.metadata().name}},{title:"Smoothed",evaluate:function(a,c){return b(c.smoothingEnabled?a.datum.smoothed:a.datum.scalar)}},{title:"Value",evaluate:function(a){return b(a.datum.scalar)}},{title:"Step",evaluate:function(a){return L.stepFormatter(a.datum.step)}},{title:"Time",evaluate:function(a){return L.timeFormatter(a.datum.wall_time)}},
{title:"Relative",evaluate:function(a){return L.relativeFormatter(L.relativeAccessor(a.datum,-1,a.dataset))}}];Polymer({is:"vz-line-chart2",properties:{colorScale:{type:Object,value:function(){return(new Plottable.Scales.Color).range(d3.schemeCategory10)}},symbolFunction:Object,smoothingEnabled:{type:Boolean,notify:!0,value:!1},smoothingWeight:{type:Number,value:.6},xType:{type:String,value:""},xComponentsCreationMethod:{type:Object,value:""},xAxisFormatter:Object,yValueAccessor:{type:Object,value:function(){return function(a){return a.scalar}}},
tooltipColumns:{type:Array,value:function(){return a.DEFAULT_TOOLTIP_COLUMNS}},fillArea:Object,defaultXRange:Array,defaultYRange:Array,yScaleType:{type:String,value:"linear"},ignoreYOutliers:{type:Boolean,value:!1},tooltipSortingMethod:{type:String,value:"default"},tooltipPosition:{type:String,value:db.TooltipPosition.BOTTOM},_chart:Object,_visibleSeriesCache:{type:Array,value:function(){return[]}},_seriesDataCache:{type:Object,value:function(){return{}}},_seriesMetadataCache:{type:Object,value:function(){return{}}},
_makeChartAsyncCallbackId:{type:Number,value:null}},observers:["_makeChart(xComponentsCreationMethod, xType, yValueAccessor, yScaleType, tooltipColumns, colorScale, isAttached)","_reloadFromCache(_chart)","_smoothingChanged(smoothingEnabled, smoothingWeight, _chart)","_tooltipSortingMethodChanged(tooltipSortingMethod, _chart)","_outliersChanged(ignoreYOutliers, _chart)"],ready:function(){this.scopeSubtree(this.$.chartdiv,!0)},attached:function(){var a={capture:!0,passive:!0};this._listen(this,"mousedown",
this._onMouseDown.bind(this),a);this._listen(this,"mouseup",this._onMouseUp.bind(this),a);this._listen(window,"keydown",this._onKeyDown.bind(this),a);this._listen(window,"keyup",this._onKeyUp.bind(this),a)},detached:function(){this.cancelAsync(this._makeChartAsyncCallbackId);this._chart&&this._chart.destroy();this._listeners&&(this._listeners.forEach(function(a){a.node.removeEventListener(a.eventName,a.func,a.option)}),this._listeners.clear())},_listen:function(a,b,c,g){void 0===g&&(g={});this._listeners||
(this._listeners=new Set);this._listeners.add({node:a,eventName:b,func:c,option:g});a.addEventListener(b,c,g)},_onKeyDown:function(b){this.toggleClass("pankey",a.PanZoomDragLayer.isPanKey(b))},_onKeyUp:function(b){this.toggleClass("pankey",a.PanZoomDragLayer.isPanKey(b))},_onMouseDown:function(){this.toggleClass("mousedown",!0)},_onMouseUp:function(){this.toggleClass("mousedown",!1)},setVisibleSeries:function(a){_.isEqual(this._visibleSeriesCache,a)||(this._visibleSeriesCache=a,this._chart&&(this._chart.setVisibleSeries(a),
this.redraw()))},setSeriesData:function(a,b){this._seriesDataCache[a]=b;this._chart&&this._chart.setSeriesData(a,b)},setSeriesMetadata:function(a,b){this._seriesMetadataCache[a]=b;this._chart&&this._chart.setSeriesMetadata(a,b)},resetDomain:function(){this._chart&&this._chart.resetDomain()},redraw:function(a){this._chart&&this._chart.redraw(a)},_makeChart:function(b,c,f,g,h,l){c||b?c&&(b=function(){return L.getXComponents(c)}):b=L.stepX;null!==this._makeChartAsyncCallbackId&&(this.cancelAsync(this._makeChartAsyncCallbackId),
this._makeChartAsyncCallbackId=null);this._makeChartAsyncCallbackId=this.async(function(){var c=this;this._makeChartAsyncCallbackId=null;if(b&&this.yValueAccessor&&this.tooltipColumns){var d=new a.LineChart(b,this.yValueAccessor,g,l,this.$.tooltip,this.tooltipColumns,this.fillArea,this.defaultXRange,this.defaultYRange,this.symbolFunction,this.xAxisFormatter),e=d3.select(this.$.chartdiv);d.renderTo(e);this._chart&&this._chart.destroy();this._chart=d;this._chart.onAnchor(function(){return c.fire("chart-attached")})}},
350)},_reloadFromCache:function(){var a=this;this._chart&&(this._visibleSeriesCache.forEach(function(b){a._chart.setSeriesData(b,a._seriesDataCache[b]||[])}),this._visibleSeriesCache.filter(function(b){return a._seriesMetadataCache[b]}).forEach(function(b){a._chart.setSeriesMetadata(b,a._seriesMetadataCache[b])}),this._chart.setVisibleSeries(this._visibleSeriesCache))},_smoothingChanged:function(){this._chart&&(this.smoothingEnabled?this._chart.smoothingUpdate(this.smoothingWeight):this._chart.smoothingDisable())},
_outliersChanged:function(){this._chart&&this._chart.ignoreYOutliers(this.ignoreYOutliers)},_tooltipSortingMethodChanged:function(){this._chart&&this._chart.setTooltipSortingMethod(this.tooltipSortingMethod)}})})(gb||(gb={}));
</script>
</dom-module>

<script>//~~WEBPATH~~/tf-line-chart-data-loader/data-loader-behavior.js
var hb;
(function(a){a.DataLoaderBehavior={properties:{loadKey:String,dataToLoad:{type:Array,value:function(){return[]}},getDataLoadName:{type:Function,value:function(){return function(a){return String(a)}}},loadDataCallback:Function,getDataLoadUrl:Function,dataLoading:{type:Boolean,readOnly:!0,value:!1},_loadedData:{type:Object,value:function(){return new Set}},_canceller:{type:Object,value:function(){return new u.Canceller}}},observers:["_loadKeyChanged(loadKey)","_dataToLoadChanged(isAttached, dataToLoad.*)"],onLoadFinish:function(){},
reload:function(){this._loadedData.clear();this._loadData()},_loadKeyChanged:function(){this._canceller.cancelAll();this._loadedData.clear()},_dataToLoadChanged:function(){this.isAttached&&this._loadData()},created:function(){this._loadData=_.debounce(this._loadDataImpl,100,{leading:!0,trailing:!0})},detached:function(){this._canceller.cancelAll();this.cancelAsync(this._loadDataAsync)},_loadDataImpl:function(){var a=this;this.cancelAsync(this._loadDataAsync);this.isAttached&&(this._loadDataAsync=
this.async(function(){a.dataLoading=!0;a._canceller.cancelAll();var b=a.dataToLoad.filter(function(b){b=a.getDataLoadName(b);return!a._loadedData.has(b)}).map(function(b){var c=a.getDataLoadName(b),d=a.getDataLoadUrl(b),g=a._canceller.cancellable(function(d){d.cancelled||(a._loadedData.add(c),a.loadDataCallback(a,b,d.value))});return a.requestManager.request(d).then(g)});return Promise.all(b).then(a._canceller.cancellable(function(b){a.dataLoading=!1;if(!b.cancelled)a.onLoadFinish()}))}))}}})(hb||
(hb={}));
</script>


<dom-module id="tf-line-chart-data-loader">
  <template>
    <div id="chart-and-spinner-container" class="style-scope tf-line-chart-data-loader">
      <vz-line-chart2 id="chart" class="style-scope tf-line-chart-data-loader"></vz-line-chart2>
      <template is="dom-if" class="style-scope tf-line-chart-data-loader"></template>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-line-chart-data-loader/tf-line-chart-data-loader.html.js
(function(){var a=[],b=function(){return _.throttle(function d(){if(0!=a.length){var b=a.shift();b.active&&(b.redraw(!0),b._maybeRenderedInBadState=!1);window.cancelAnimationFrame(0);window.requestAnimationFrame(d)}},100)}();Polymer({is:"tf-line-chart-data-loader",properties:{active:{type:Boolean,observer:"_fixBadStateWhenActive"},dataSeries:Array,requestManager:Object,logScaleActive:{type:Boolean,observer:"_logScaleChanged"},xComponentsCreationMethod:Object,xType:String,yValueAccessor:Object,fillArea:Object,
smoothingEnabled:Boolean,smoothingWeight:Number,tooltipColumns:Array,tooltipSortingMethod:String,tooltipPosition:String,ignoreYOutliers:Boolean,defaultXRange:Array,defaultYRange:Array,symbolFunction:Object,colorScale:{type:Object,value:function(){return{scale:Ta.runsColorScale}}},_resetDomainOnNextLoad:{type:Boolean,value:!0},_maybeRenderedInBadState:{type:Boolean,value:!1,reflectToAttribute:!0}},behaviors:[hb.DataLoaderBehavior],observers:["_dataSeriesChanged(dataSeries.*)","_loadKeyChanged(loadKey)"],
onLoadFinish:function(){0<this.dataToLoad.length&&this._resetDomainOnNextLoad&&(this._resetDomainOnNextLoad=!1,this.$.chart.resetDomain());this.redraw()},detached:function(){cancelAnimationFrame(this._redrawRaf)},resetDomain:function(){this.$.chart.resetDomain()},setSeriesData:function(a,b){this._resetDomainOnNextLoad=!0;this.$.chart.setSeriesData(a,b)},setSeriesMetadata:function(a,b){this.$.chart.setSeriesMetadata(a,b)},redraw:function(a){var b=this;cancelAnimationFrame(this._redrawRaf);this._redrawRaf=
window.requestAnimationFrame(function(){b.active?b.$.chart.redraw(a):b._maybeRenderedInBadState=!0})},_loadKeyChanged:function(){this._resetDomainOnNextLoad=!0},_dataSeriesChanged:function(){this.$.chart.setVisibleSeries(this.dataSeries)},_logScaleChanged:function(a){this.$.chart.yScaleType=a?"log":"linear";this.redraw()},_computeLineChartStyle:function(a){return a?"opacity: 0.3;":""},_fixBadStateWhenActive:function(){this.active&&this._maybeRenderedInBadState&&(a.push(this),b())},_onChartAttached:function(){this.active||
(this._maybeRenderedInBadState=!0)}})})();
</script>
</dom-module>










<dom-module id="paper-dialog-scrollable">

  <template>
    

    <div id="scrollable" class="scrollable style-scope paper-dialog-scrollable">
      <content class="style-scope paper-dialog-scrollable"></content>
    </div>
  </template>

</dom-module>

<script>//~~WEBPATH~~/paper-dialog-scrollable/paper-dialog-scrollable.html.js
Polymer({is:"paper-dialog-scrollable",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget();this.classList.add("no-padding")},attached:function(){this._ensureTarget();requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function(){this.toggleClass("is-scrolled",0<this.scrollTarget.scrollTop);this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight);this.toggleClass("scrolled-to-bottom",
this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){(this.dialogElement=this.dialogElement||this.parentElement)&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)?(this.dialogElement.sizingTarget=this.scrollTarget,this.scrollTarget.classList.remove("fit")):this.dialogElement&&this.scrollTarget.classList.add("fit")}});
</script>





<dom-module id="tf-markdown-view">
  <template>
    <div id="markdown" class="style-scope tf-markdown-view"></div>
    
  </template>
  <script>//~~WEBPATH~~/tf-markdown-view/tf-markdown-view.html.js
Polymer({is:"tf-markdown-view",properties:{html:{type:String,value:""}},attached:function(){var a=this;window.requestAnimationFrame(function(){a.scopeSubtree(a.$.markdown,!0)})}});
</script>
</dom-module>

<dom-module id="tf-card-heading-style">
  <template>
    
  </template>
</dom-module>

<script>//~~WEBPATH~~/tf-card-heading/util.js
var ib;(function(a){a.formatDate=function(a){return a?a.toString().replace(/GMT-\d+ \(([^)]+)\)/,"$1"):""};a.pickTextColor=function(a){var b;if(a)if(b=a.match(/^#([0-9a-f]{1,2})([0-9a-f]{1,2})([0-9a-f]{1,2})$/)){if(4==a.length)for(a=1;3>=a;a++)b[a]+=b[a];b=[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]}else b=null;else b=null;return b?125<Math.round((299*b[0]+587*b[1]+114*b[2])/1E3)?"inherit":"#eee":"inherit"}})(ib||(ib={}));
</script>



<dom-module id="tf-card-heading">
  <template>
    <div class="container style-scope tf-card-heading">
      <figcaption class="content style-scope tf-card-heading">
        <div class="heading-row style-scope tf-card-heading">
          <template is="dom-if" class="style-scope tf-card-heading"></template>
          <template is="dom-if" class="style-scope tf-card-heading"></template>
        </div>
        <template is="dom-if" class="style-scope tf-card-heading"></template>
        <content class="style-scope tf-card-heading"></content>
      </figcaption>
      <template is="dom-if" class="style-scope tf-card-heading"></template>
      <paper-dialog id="descriptionDialog" no-overlap="" horizontal-align="auto" vertical-align="auto" class="style-scope tf-card-heading">
        <paper-dialog-scrollable class="style-scope tf-card-heading">
          <tf-markdown-view class="style-scope tf-card-heading"></tf-markdown-view>
        </paper-dialog-scrollable>
      </paper-dialog>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-card-heading/tf-card-heading.html.js
Polymer({is:"tf-card-heading",properties:{displayName:{type:String,value:null},tag:{type:String,value:null},run:{type:String,value:null},description:{type:String,value:null},color:{type:String,value:null},_runBackground:{type:String,computed:"_computeRunBackground(color)",readOnly:!0},_runColor:{type:String,computed:"_computeRunColor(color)",readOnly:!0},_nameLabel:{type:String,computed:"_computeNameLabel(displayName, tag)"},_tagLabel:{type:String,computed:"_computeTagLabel(displayName, tag)"}},_computeRunBackground:function(a){return a||
"none"},_computeRunColor:function(a){return ib.pickTextColor(a)},_computeNameLabel:function(a,b){return a||b||""},_computeTagLabel:function(a,b){return b&&b!==a?b:""},_toggleDescriptionDialog:function(a){this.$.descriptionDialog.positionTarget=a.target;this.$.descriptionDialog.toggle()}});
</script>
</dom-module>



<dom-module id="tf-scalar-card">
<template>
  <tf-card-heading class="style-scope tf-scalar-card"></tf-card-heading>
  <div id="tf-line-chart-data-loader-container" class="style-scope tf-scalar-card">
    <tf-line-chart-data-loader tooltip-position="auto" class="style-scope tf-scalar-card">
    </tf-line-chart-data-loader>
  </div>
  <div id="buttons" class="style-scope tf-scalar-card">
    <paper-icon-button icon="fullscreen" class="style-scope tf-scalar-card"></paper-icon-button>
    <paper-icon-button icon="line-weight" title="Toggle y-axis log scale" class="style-scope tf-scalar-card"></paper-icon-button>
    <paper-icon-button icon="settings-overscan" title="Fit domain to data" class="style-scope tf-scalar-card"></paper-icon-button>
    <span style="flex-grow: 1" class="style-scope tf-scalar-card"></span>
    <template is="dom-if" class="style-scope tf-scalar-card"></template></div>
    </template>
  
  

<script>//~~WEBPATH~~/tf-scalar-dashboard/tf-scalar-card.html.js
Polymer({is:"tf-scalar-card",properties:{tag:String,dataToLoad:Array,xType:String,multiExperiments:Boolean,active:Boolean,ignoreYOutliers:Boolean,requestManager:Object,showDownLinks:Boolean,smoothingEnabled:Boolean,smoothingWeight:Number,tagMetadata:Object,tooltipSortingMethod:String,_loadDataCallback:{type:Object,value:function(){var a=this;return function(b,c,d){d=d.map(function(a){return{wall_time:new Date(1E3*a[0]),step:a[1],scalar:a[2]}});var e=a._getSeriesNameFromDatum(c);b.setSeriesMetadata(e,
c);b.setSeriesData(e,d)}},readOnly:!0},getDataLoadUrl:{type:Function,value:function(){return function(a){var b=a.experiment;return u.addParams(u.getRouter().pluginRoute("scalars","/scalars"),{tag:a.tag,run:a.run,experiment:b?b.id:""})}}},_getDataLoadName:{type:Function,value:function(){var a=this;return function(b){return a._getSeriesNameFromDatum(b)}}},_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},_logScaleActive:Boolean,_tooltipColumns:{type:Array,value:function(){var a=this,b=gb.DEFAULT_TOOLTIP_COLUMNS.slice(),
c=b.findIndex(function(a){return"Name"==a.title});b.splice(c,1,{title:"Name",evaluate:function(b){b=b.dataset.metadata().meta;return a._getSeriesDisplayNameFromDatum(b)}});return b}}},reload:function(){this.$$("tf-line-chart-data-loader").reload()},redraw:function(){this.$$("tf-line-chart-data-loader").redraw()},_toggleExpanded:function(){this.set("_expanded",!this._expanded);this.redraw()},_toggleLogScale:function(){this.set("_logScaleActive",!this._logScaleActive)},_resetDomain:function(){var a=
this.$$("tf-line-chart-data-loader");a&&a.resetDomain()},_csvUrl:function(a,b){return u.addParams(this.getDataLoadUrl({tag:a,run:b}),{format:"csv"})},_jsonUrl:function(a,b){return this.getDataLoadUrl({tag:a,run:b})},_getDataSeries:function(){var a=this;return this.dataToLoad.map(function(b){return a._getSeriesNameFromDatum(b)})},_getSeriesNameFromDatum:function(a){return(void 0===a.experiment?{name:"_default"}:a.experiment).name+"/"+a.run},_getSeriesDisplayNameFromDatum:function(a){return this.multiExperiments?
a.experiment.name+"/"+a.run:a.run},_getColorScale:function(){var a=this;return{scale:function(b){var c=b.indexOf("/"),d=b.slice(0,c);b=b.slice(c+1);return a.multiExperiments?Ta.experimentsColorScale(d):Ta.runsColorScale(b)}}}});
</script>
</dom-module>









<script>//~~WEBPATH~~/iron-range-behavior/iron-range-behavior.html.js
Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(a){return(this._clampValue(a)-this.min)/(this.max-this.min)},_clampValue:function(a){return Math.min(this.max,Math.max(this.min,this._calcStep(a)))},_calcStep:function(a){a=parseFloat(a);
if(!this.step)return a;a=Math.round((a-this.min)/this.step);return 1>this.step?a/(1/this.step)+this.min:a*this.step+this.min},_validateValue:function(){var a=this._clampValue(this.value);this.value=this.oldValue=isNaN(a)?this.oldValue:a;return this.value!==a},_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};
</script>










<dom-module id="paper-progress">
  <template>
    

    <div id="progressContainer" class="style-scope paper-progress">
      <div id="secondaryProgress" class="style-scope paper-progress"></div>
      <div id="primaryProgress" class="style-scope paper-progress"></div>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-progress/paper-progress.html.js
Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(a){this.toggleClass("indeterminate",
a,this.$.primaryProgress)},_transformProgress:function(a,b){a.style.transform=a.style.webkitTransform="scaleX("+b/100+")"},_mainRatioChanged:function(a){this._transformProgress(this.$.primaryProgress,a)},_progressChanged:function(a,b,c,d,e){a=this._clampValue(a);b=this._clampValue(b);var f=100*this._calcRatio(a),g=100*this._calcRatio(b);this._setSecondaryRatio(f);this._transformProgress(this.$.secondaryProgress,f);this._transformProgress(this.$.primaryProgress,g);this.secondaryProgress=a;e?this.removeAttribute("aria-valuenow"):
this.setAttribute("aria-valuenow",b);this.setAttribute("aria-valuemin",c);this.setAttribute("aria-valuemax",d)},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false")},_hideSecondaryProgress:function(a){return 0===a}});
</script>





<dom-module id="paper-slider">
  <template strip-whitespace=""><div id="sliderContainer" class="style-scope paper-slider"><div class="bar-container style-scope paper-slider"><paper-progress id="sliderBar" aria-hidden="true" class="style-scope paper-slider"></paper-progress></div><template is="dom-if" class="style-scope paper-slider"></template><div id="sliderKnob" class="slider-knob style-scope paper-slider"><div class="slider-knob-inner style-scope paper-slider"></div></div></div><template is="dom-if" class="style-scope paper-slider"></template></template>

  <script>//~~WEBPATH~~/paper-slider/paper-slider.html.js
Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,value:!1,readOnly:!0},
ignoreBarTouch:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function(){return[]}}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{left:"_leftKey",right:"_rightKey","down pagedown home":"_decrementKey","up pageup end":"_incrementKey"},
ready:function(){this.ignoreBarTouch&&Polymer.Gestures.setTouchAction(this.$.sliderBar,"auto")},increment:function(){this.value=this._clampValue(this.value+this.step)},decrement:function(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function(a,b,c){this.setAttribute("aria-valuemin",b);this.setAttribute("aria-valuemax",c);this.setAttribute("aria-valuenow",a);this._positionKnob(100*this._calcRatio(a))},_valueChanged:function(){this.fire("value-change",{composed:!0})},_immediateValueChanged:function(){this.dragging?
this.fire("immediate-value-change",{composed:!0}):this.value=this.immediateValue},_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},_expandKnob:function(){this._setExpand(!0)},_resetKnob:function(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},_positionKnob:function(a){this._setImmediateValue(this._calcStep(this._calcKnobPosition(a)));this._setRatio(100*this._calcRatio(this.immediateValue));this.$.sliderKnob.style.left=this.ratio+"%";this.dragging&&
(this._knobstartx=this.ratio*this._w/100,this.translate3d(0,0,0,this.$.sliderKnob))},_calcKnobPosition:function(a){return(this.max-this.min)*a/100+this.min},_onTrack:function(a){a.stopPropagation();switch(a.detail.state){case "start":this._trackStart(a);break;case "track":this._trackX(a);break;case "end":this._trackEnd()}},_trackStart:function(){this._setTransiting(!1);this._w=this.$.sliderBar.offsetWidth;this._knobstartx=this._startx=this._x=this.ratio*this._w/100;this._minx=-this._startx;this._maxx=
this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},_trackX:function(a){this.dragging||this._trackStart(a);this._x=this._startx+Math.min(this._maxx,Math.max(this._minx,a.detail.dx*(this._isRTL?-1:1)));this._setImmediateValue(this._calcStep(this._calcKnobPosition(this._x/this._w*100)));this.translate3d(this._calcRatio(this.immediateValue)*this._w-this._knobstartx+"px",0,0,this.$.sliderKnob)},_trackEnd:function(){var a=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");
this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;a.transform=a.webkitTransform="";this.fire("change",{composed:!0})},_knobdown:function(a){this._expandKnob();a.preventDefault();this.focus()},_bartrack:function(a){this._allowBarEvent(a)&&this._onTrack(a)},_barclick:function(a){this._w=this.$.sliderBar.offsetWidth;var b=this.$.sliderBar.getBoundingClientRect();b=(a.detail.x-b.left)/this._w*100;this._isRTL&&(b=100-b);var c=this.ratio;this._setTransiting(!0);this._positionKnob(b);
c===this.ratio&&this._setTransiting(!1);this.async(function(){this.fire("change",{composed:!0})});a.preventDefault();this.focus()},_bardown:function(a){this._allowBarEvent(a)&&(this.debounce("expandKnob",this._expandKnob,60),this._barclick(a))},_knobTransitionEnd:function(a){a.target===this.$.sliderKnob&&this._setTransiting(!1)},_updateMarkers:function(a,b,c,d){d||this._setMarkers([]);b=Math.round((c-b)/this.step);b>a&&(b=a);if(0>b||!isFinite(b))b=0;this._setMarkers(Array(b))},_mergeClasses:function(a){return Object.keys(a).filter(function(b){return a[b]}).join(" ")},
_getClassNames:function(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},_allowBarEvent:function(a){return!this.ignoreBarTouch||a.detail.sourceEvent instanceof MouseEvent},get _isRTL(){void 0===this.__isRTL&&(this.__isRTL="rtl"===window.getComputedStyle(this).direction);return this.__isRTL},_leftKey:function(a){this._isRTL?this._incrementKey(a):
this._decrementKey(a)},_rightKey:function(a){this._isRTL?this._decrementKey(a):this._incrementKey(a)},_incrementKey:function(a){this.disabled||("end"===a.detail.key?this.value=this.max:this.increment(),this.fire("change"),a.preventDefault())},_decrementKey:function(a){this.disabled||("home"===a.detail.key?this.value=this.min:this.decrement(),this.fire("change"),a.preventDefault())},_changeValue:function(a){this.value=a.target.value;this.fire("change",{composed:!0})},_inputKeyDown:function(a){a.stopPropagation()},
_createRipple:function(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.style.display=a?"":"none",this._ripple.holdDown=a)}});
</script>
</dom-module>





<dom-module id="tf-smoothing-input">
  <template>
    <h3 class="title style-scope tf-smoothing-input">Smoothing</h3>
    <div class="smoothing-block style-scope tf-smoothing-input">
      <paper-slider id="slider" pin="" type="number" class="style-scope tf-smoothing-input"></paper-slider>
      <paper-input id="input" label="weight" no-label-float="" type="number" class="style-scope tf-smoothing-input"></paper-input>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-scalar-dashboard/tf-smoothing-input.html.js
Polymer({is:"tf-smoothing-input",properties:{step:Number,max:Number,min:Number,weight:{type:Number,value:.6,notify:!0},_immediateWeightNumberForPaperSlider:{type:Number,notify:!0,observer:"_immediateWeightNumberForPaperSliderChanged"},_inputWeightStringForPaperInput:{type:String,notify:!0,observer:"_inputWeightStringForPaperInputChanged"}},_updateWeight:_.debounce(function(a){this.weight=a},250),_immediateWeightNumberForPaperSliderChanged:function(){this._inputWeightStringForPaperInput=this._immediateWeightNumberForPaperSlider.toString();
this._updateWeight.call(this,this._immediateWeightNumberForPaperSlider)},_inputWeightStringForPaperInputChanged:function(){0>+this._inputWeightStringForPaperInput?this._inputWeightStringForPaperInput="0":1<+this._inputWeightStringForPaperInput&&(this._inputWeightStringForPaperInput="1");var a=+this._inputWeightStringForPaperInput;isNaN(a)||this._updateWeight.call(this,a)}});
</script>
</dom-module>



<dom-module id="tf-scalar-dashboard">
  <template>
    <tf-dashboard-layout class="style-scope tf-scalar-dashboard">
      <div class="sidebar style-scope tf-scalar-dashboard">
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <div class="line-item style-scope tf-scalar-dashboard">
            <paper-checkbox class="style-scope tf-scalar-dashboard">Show data download links</paper-checkbox>
          </div>
          <div class="line-item style-scope tf-scalar-dashboard">
            <paper-checkbox class="style-scope tf-scalar-dashboard">Ignore outliers in chart scaling</paper-checkbox>
          </div>
          <div id="tooltip-sorting" class="style-scope tf-scalar-dashboard">
            <div class="style-scope tf-scalar-dashboard">Tooltip sorting method:</div>
            <paper-dropdown-menu no-label-float="" class="style-scope tf-scalar-dashboard">
              <paper-menu class="dropdown-content style-scope tf-scalar-dashboard" selected="0" slot="dropdown-content">
                <paper-item class="style-scope tf-scalar-dashboard">default</paper-item>
                <paper-item class="style-scope tf-scalar-dashboard">descending</paper-item>
                <paper-item class="style-scope tf-scalar-dashboard">ascending</paper-item>
                <paper-item class="style-scope tf-scalar-dashboard">nearest</paper-item>
              </paper-menu>
            </paper-dropdown-menu>
          </div>
        </div>
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <tf-smoothing-input step="0.001" min="0" max="1" class="style-scope tf-scalar-dashboard"></tf-smoothing-input>
        </div>
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <tf-option-selector id="x-type-selector" name="Horizontal Axis" class="style-scope tf-scalar-dashboard">
            <paper-button id="step" class="style-scope tf-scalar-dashboard">step</paper-button><paper-button id="relative" class="style-scope tf-scalar-dashboard">relative</paper-button><paper-button id="wall_time" class="style-scope tf-scalar-dashboard">wall</paper-button>
          </tf-option-selector>
        </div>
        <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
      </div>
      <div class="center style-scope tf-scalar-dashboard">
        <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
        <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
      </div>
    </tf-dashboard-layout>

    
    
  </template>

  <script>//~~WEBPATH~~/tf-scalar-dashboard/tf-scalar-dashboard.html.js
var jb=Qa.getEnableDataSelector(),kb=Wa.Type;
Polymer({is:"tf-scalar-dashboard",properties:{dataSelection:{type:Object,value:function(){return null}},_showDownloadLinks:{type:Boolean,notify:!0,value:G.getBooleanInitializer("_showDownloadLinks",{defaultValue:!1,useLocalStorage:!0}),observer:"_showDownloadLinksObserver"},_smoothingWeight:{type:Number,notify:!0,value:G.getNumberInitializer("_smoothingWeight",{defaultValue:.6}),observer:"_smoothingWeightObserver"},_smoothingEnabled:{type:Boolean,computed:"_computeSmoothingEnabled(_smoothingWeight)"},_ignoreYOutliers:{type:Boolean,
value:G.getBooleanInitializer("_ignoreYOutliers",{defaultValue:!0,useLocalStorage:!0}),observer:"_ignoreYOutliersObserver"},_paneOpened:{type:Object,value:function(){return{}}},_xType:{type:String,value:L.XType.STEP},_selectedRuns:{type:Array,value:function(){return[]}},_runToTagInfo:Object,_dataNotFound:Boolean,_tagFilter:{type:String,value:""},_categoriesDomReady:Boolean,_categories:{type:Array,value:function(){return[]}},_requestManager:{type:Object,value:function(){return new u.RequestManager(50)}},
useDataSelector:{type:Boolean,value:jb}},behaviors:[Sa.ArrayUpdateHelper],observers:["_updateCategories(_runToTagInfo, _selectedRuns, _tagFilter, _categoriesDomReady, dataSelection)","_updatePaneOpened(_categories.*)"],_showDownloadLinksObserver:G.getBooleanObserver("_showDownloadLinks",{defaultValue:!1,useLocalStorage:!0}),_smoothingWeightObserver:G.getNumberObserver("_smoothingWeight",{defaultValue:.6}),_ignoreYOutliersObserver:G.getBooleanObserver("_ignoreYOutliers",{defaultValue:!0,useLocalStorage:!0}),
_computeSmoothingEnabled:function(a){return 0<a},_getCategoryKey:function(a){return a.metadata.type==Pa.CategoryType.SEARCH_RESULTS?"":a.name},_updatePaneOpened:function(){var a=this._paneOpened,b={};this._categories.map(this._getCategoryKey).filter(function(b){return null!=a[b]}).forEach(function(c){return b[c]=a[c]});0==Object.keys(b).length&&this._categories.slice(0,3).map(this._getCategoryKey).forEach(function(a){b[a]=!0});this._paneOpened=b},_getPaneOpened:function(a){return this._paneOpened[this._getCategoryKey(a)]},
_onPaneOpenChanged:function(a){this.isAttached&&a.target.isAttached&&(this._paneOpened[this._getCategoryKey(a.target.category)]=a.detail.value)},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadCharts()})},_fetchTags:function(){var a=this;return this._requestManager.request(u.getRouter().pluginRoute("scalars","/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return Object.keys(a)});c=u.getTags(c);a.set("_dataNotFound",
0===c.length);a.set("_runToTagInfo",b);a.async(function(){a.set("_categoriesDomReady",!0)})}})},_reloadCharts:function(){this.querySelectorAll("tf-scalar-card").forEach(function(a){a.reload()})},_updateCategories:function(a,b,c){var d=this.useDataSelector&&this.dataSelection;d&&0==this.dataSelection.selections.length?a=[]:d&&this.dataSelection.type!=kb.WITHOUT_EXPERIMENT?a=Pa.categorizeSelection(this.dataSelection.selections):(d&&(c=this.dataSelection.selections[0]||{},b=void 0===c.runs?[]:c.runs,
c=void 0===c.tagRegex?"":c.tagRegex,b=b.map(function(a){return a.name})),a=_.mapValues(a,function(a){return Object.keys(a)}),a=Pa.categorizeTags(a,b,c),a.forEach(function(a){a.items=a.items.map(function(a){return{tag:a.tag,series:a.runs.map(function(b){return{run:b,tag:a.tag}})}})}));this.updateArrayProp("_categories",a,this._getCategoryKey)},_tagMetadata:function(a,b,c){var d=c.tag,e={};c.series.forEach(function(a){a=a.run;e[a]=b[a][d]});c=d.replace(/\/scalar_summary$/,"");var f=ab.aggregateTagInfo(e,
c);c=f.description;f=f.displayName;a.metadata.type==Pa.CategoryType.PREFIX_GROUP&&f.startsWith(a.name+"/")&&(f=f.slice(a.name.length+1));return{description:c,displayName:f}},_getMultiExperiments:function(){return!!this.dataSelection&&this.dataSelection.type==kb.COMPARISON}});$a.registerDashboard({plugin:"scalars",elementName:"tf-scalar-dashboard",useDataSelector:jb});
</script>
</dom-module>































<dom-module id="tf-custom-scalar-card-style">
  <template>
    
  </template>
</dom-module>

<script>//~~WEBPATH~~/tf-custom-scalar-dashboard/tf-custom-scalar-helpers.js
var lb;
(function(a){var b=function(){function a(a,b,c,g,h){this.run=a;this.tag=b;this.name=c;this.scalarData=g;this.symbol=h}a.prototype.getName=function(){return this.name};a.prototype.setData=function(a){this.scalarData=a};a.prototype.getData=function(){return this.scalarData};a.prototype.getRun=function(){return this.run};a.prototype.getTag=function(){return this.tag};a.prototype.getSymbol=function(){return this.symbol};return a}();a.DataSeries=b;a.generateDataSeriesName=function(a,b){return b+" ("+a+
")"};b=function(){function a(a){this.runBasedColorScale=a}a.prototype.scale=function(a){return this.runBasedColorScale.scale(this.parseRunName(a))};a.prototype.parseRunName=function(a){return(a=a.match(/\((.*)\)$/))?a[1]:""};return a}();a.DataSeriesColorScale=b})(lb||(lb={}));
</script>



<dom-module id="tf-custom-scalar-margin-chart-card">
<template>
  <tf-card-heading class="style-scope tf-custom-scalar-margin-chart-card"></tf-card-heading>
  <div id="tf-line-chart-data-loader-container" class="style-scope tf-custom-scalar-margin-chart-card">
    <tf-line-chart-data-loader id="loader" class="style-scope tf-custom-scalar-margin-chart-card">
    </tf-line-chart-data-loader>
  </div>
  <div id="buttons" class="style-scope tf-custom-scalar-margin-chart-card">
    <paper-icon-button icon="fullscreen" class="style-scope tf-custom-scalar-margin-chart-card"></paper-icon-button>
    <paper-icon-button icon="line-weight" title="Toggle y-axis log scale" class="style-scope tf-custom-scalar-margin-chart-card"></paper-icon-button>
    <paper-icon-button icon="settings-overscan" title="Fit domain to data" class="style-scope tf-custom-scalar-margin-chart-card"></paper-icon-button>
    <span style="flex-grow: 1" class="style-scope tf-custom-scalar-margin-chart-card"></span>
    <template is="dom-if" class="style-scope tf-custom-scalar-margin-chart-card"></template>
  </div>

  
  <template is="dom-if" class="style-scope tf-custom-scalar-margin-chart-card"></template>

  <template is="dom-if" class="style-scope tf-custom-scalar-margin-chart-card"></template>

  <template is="dom-if" class="style-scope tf-custom-scalar-margin-chart-card"></template>

  <div id="matches-container" class="style-scope tf-custom-scalar-margin-chart-card">
    <div class="collapsible-list-title style-scope tf-custom-scalar-margin-chart-card">
      <template is="dom-if" class="style-scope tf-custom-scalar-margin-chart-card"></template>

      <span class="collapsible-title-text style-scope tf-custom-scalar-margin-chart-card">
        Matches ()
      </span>
    </div>
    <template is="dom-if" class="style-scope tf-custom-scalar-margin-chart-card"></template>
  </div>

  
  
  
</template>
<script>//~~WEBPATH~~/tf-custom-scalar-dashboard/tf-custom-scalar-margin-chart-card.html.js
Polymer({is:"tf-custom-scalar-margin-chart-card",properties:{runs:Array,xType:String,active:{type:Boolean,value:!0,readOnly:!0},title:String,marginChartSeries:Array,ignoreYOutliers:Boolean,requestManager:Object,showDownloadLinks:Boolean,tagMetadata:Object,tooltipSortingMethod:String,_colorScale:{type:Object,value:new lb.DataSeriesColorScale({scale:Ta.runsColorScale}),readOnly:!0},_tagFilter:{type:String,computed:"_computeTagFilter(marginChartSeries)"},_tagFilterInvalid:Boolean,_nameToDataSeries:{type:Object,
value:function(){return{}}},_seriesNames:{type:Object,computed:"_computeSeriesNames(_nameToDataSeries, runs)"},_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},_logScaleActive:Boolean,_dataUrl:{type:Function,value:function(){var a=this;return function(b){return u.addParams(u.getRouter().pluginRoute("custom_scalars","/scalars"),{tag:a._tagFilter,run:b})}}},_runToNextAvailableSymbolIndex:{type:Object,value:{}},_matchesListOpened:{type:Boolean,value:!1},_titleDisplayString:{type:String,computed:"_computeTitleDisplayString(title)"},
_fillArea:{type:Object,readOnly:!0,value:{lowerAccessor:function(a){return a.lower},higherAccessor:function(a){return a.upper}}},_tooltipColumns:{type:Array,value:function(){function a(a){return isNaN(a)?"NaN":b(a)}var b=L.multiscaleFormatter(L.Y_TOOLTIP_FORMATTER_PRECISION);return[{title:"Name",evaluate:function(a){return a.dataset.metadata().name}},{title:"Value",evaluate:function(b){return a(b.datum.scalar)}},{title:"Lower Margin",evaluate:function(b){return a(b.datum.lower)}},{title:"Upper Margin",
evaluate:function(b){return a(b.datum.upper)}},{title:"Step",evaluate:function(a){return L.stepFormatter(a.datum.step)}},{title:"Time",evaluate:function(a){return L.timeFormatter(a.datum.wall_time)}},{title:"Relative",evaluate:function(a){return L.relativeFormatter(L.relativeAccessor(a.datum,-1,a.dataset))}}]}},_missingTags:{type:Array,value:[]},_missingTagsCollapsibleOpened:{type:Boolean,value:!1},_stepsMismatch:Object},observers:["_updateChart(_nameToDataSeries)","_refreshDataSeries(_tagFilter)"],
reload:function(){this.$.loader.reload()},redraw:function(){this.$.loader.redraw()},_toggleExpanded:function(){this.set("_expanded",!this._expanded);this.redraw()},_toggleLogScale:function(){this.set("_logScaleActive",!this._logScaleActive)},_resetDomain:function(){var a=this.$.loader;a&&a.resetDomain()},_csvUrl:function(a,b){if(!b)return"";a=this._downloadDataUrl(a,b);return u.addParams(a,{format:"csv"})},_jsonUrl:function(a,b){if(!b)return"";a=this._downloadDataUrl(a,b);return u.addParams(a,{format:"json"})},
_downloadDataUrl:function(a,b){a=a[b];return u.addParams(u.getRouter().pluginRoute("custom_scalars","/download_data"),{tag:a.getTag(),run:a.getRun()})},_createProcessDataFunction:function(a){var b=this;return function(c,d,e){if(e.regex_valid){var f=_.clone(b._nameToDataSeries),g=[];_.forEach(a,function(a){var c=!1,h=e.tag_to_events[a.value],l=e.tag_to_events[a.lower],p=e.tag_to_events[a.upper];_.isUndefined(h)&&(g.push(a.value),c=!0);_.isUndefined(l)&&(g.push(a.lower),c=!0);_.isUndefined(p)&&(g.push(a.upper),
c=!0);if(!c)if(c=function(a){return a[1]},c=b._findStepMismatch(a,h.map(c),l.map(c),p.map(c)))b.set("_stepsMismatch",c);else{c=h.map(function(a,b){return{wall_time:new Date(1E3*a[0]),step:a[1],scalar:a[2],lower:l[b][2],upper:p[b][2]}});h=lb.generateDataSeriesName(d,a.value);var t=f[h];t?t.setData(c):(a=b._createNewDataSeries(d,a.value,h,c),f[h]=a)}});b.set("_nameToDataSeries",f);c=_.findIndex(b._missingTags,function(a){return a.run===d});if(g.length&&3!=g.length){var h={run:d,tags:g};0<=c?b.splice("_missingTags",
c,1,h):b.push("_missingTags",h)}else 0<=c&&b.splice("_missingTags",c,1)}else b.set("_tagFilterInvalid",!0)}},_findStepMismatch:function(a,b,c,d){return _.isEqual(c,b)&&_.isEqual(d,b)?null:{seriesObject:a,valueSteps:b,lowerSteps:c,upperSteps:d}},_createNewDataSeries:function(a,b,c,d){this._runToNextAvailableSymbolIndex[a]|=0;b=new lb.DataSeries(a,b,c,d,L.SYMBOLS_LIST[this._runToNextAvailableSymbolIndex[a]]);this._runToNextAvailableSymbolIndex[a]=(this._runToNextAvailableSymbolIndex[a]+1)%L.SYMBOLS_LIST.length;
return b},_updateChart:function(a){var b=this;_.forOwn(a,function(a){b.$.loader.setSeriesData(a.getName(),a.getData())})},_computeSeriesNames:function(){var a=new Set(this.runs);return Object.entries(this._nameToDataSeries).filter(function(b){b=ma(b);b.next();b=b.next().value;return a.has(b.run)}).map(function(a){return ma(a).next().value})},_determineColor:function(a,b){return a.scale(b)},_refreshDataSeries:function(){this.set("_nameToDataSeries",{})},_createSymbolFunction:function(){var a=this;
return function(b){return a._nameToDataSeries[b].getSymbol().method()}},_determineSymbol:function(a,b){return a[b].getSymbol().character},_computeTagFilter:function(a){var b=this;return _.flatten(a.map(function(a){return[a.value,a.lower,a.upper]})).map(function(a){return"("+b._escapeRegexCharacters(a)+")"}).join("|")},_escapeRegexCharacters:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")},_getToggleCollapsibleIcon:function(a){return a?"expand-less":"expand-more"},_toggleMatchesOpen:function(){this.set("_matchesListOpened",
!this._matchesListOpened)},_computeTitleDisplayString:function(a){return a||"untitled"},_separateWithCommas:function(a){return a.join(", ")},_toggleMissingTagsCollapsibleOpen:function(){this.set("_missingTagsCollapsibleOpened",!this._missingTagsCollapsibleOpened)}});
</script>
</dom-module>


















<dom-module id="tf-custom-scalar-multi-line-chart-card">
<template>
  <tf-card-heading class="style-scope tf-custom-scalar-multi-line-chart-card"></tf-card-heading>
  <div id="tf-line-chart-data-loader-container" class="style-scope tf-custom-scalar-multi-line-chart-card">
    <tf-line-chart-data-loader id="loader" class="style-scope tf-custom-scalar-multi-line-chart-card">
    </tf-line-chart-data-loader>
  </div>
  <div id="buttons" class="style-scope tf-custom-scalar-multi-line-chart-card">
    <paper-icon-button icon="fullscreen" class="style-scope tf-custom-scalar-multi-line-chart-card"></paper-icon-button>
    <paper-icon-button icon="line-weight" title="Toggle y-axis log scale" class="style-scope tf-custom-scalar-multi-line-chart-card"></paper-icon-button>
    <paper-icon-button icon="settings-overscan" title="Fit domain to data" class="style-scope tf-custom-scalar-multi-line-chart-card"></paper-icon-button>
    <span style="flex-grow: 1" class="style-scope tf-custom-scalar-multi-line-chart-card"></span>
    <template is="dom-if" class="style-scope tf-custom-scalar-multi-line-chart-card"></template>
  </div>
  <div id="matches-container" class="style-scope tf-custom-scalar-multi-line-chart-card">
    <div id="matches-list-title" class="style-scope tf-custom-scalar-multi-line-chart-card">
      <template is="dom-if" class="style-scope tf-custom-scalar-multi-line-chart-card"></template>

      <span class="matches-text style-scope tf-custom-scalar-multi-line-chart-card">
        Matches ()
      </span>
    </div>
    <template is="dom-if" class="style-scope tf-custom-scalar-multi-line-chart-card"></template>
  </div>

  
  
  
</template>
<script>//~~WEBPATH~~/tf-custom-scalar-dashboard/tf-custom-scalar-multi-line-chart-card.html.js
Polymer({is:"tf-custom-scalar-multi-line-chart-card",properties:{runs:Array,xType:String,active:{type:Boolean,value:!0,readOnly:!0},title:String,tagRegexes:Array,ignoreYOutliers:Boolean,requestManager:Object,showDownloadLinks:Boolean,smoothingEnabled:Boolean,smoothingWeight:Number,tagMetadata:Object,tooltipSortingMethod:String,_colorScale:{type:Object,value:new lb.DataSeriesColorScale({scale:Ta.runsColorScale}),readOnly:!0},_tagFilter:{type:String,computed:"_computeTagFilter(tagRegexes)"},_nameToDataSeries:{type:Object,
value:function(){return{}}},_seriesNames:{type:Object,computed:"_computeSeriesNames(_nameToDataSeries, runs)"},_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},_logScaleActive:Boolean,_dataUrl:{type:Function,value:function(){var a=this;return function(b){return u.addParams(u.getRouter().pluginRoute("custom_scalars","/scalars"),{tag:a._tagFilter,run:b})}}},_runToNextAvailableSymbolIndex:{type:Object,value:{}},_matchesListOpened:{type:Boolean,value:!1},_titleDisplayString:{type:String,computed:"_computeTitleDisplayString(title)"}},
observers:["_updateChart(_nameToDataSeries)","_refreshDataSeries(_tagFilter)"],reload:function(){this.$.loader.reload()},redraw:function(){this.$.loader.redraw()},_toggleExpanded:function(){this.set("_expanded",!this._expanded);this.redraw()},_toggleLogScale:function(){this.set("_logScaleActive",!this._logScaleActive)},_resetDomain:function(){var a=this.$.loader;a&&a.resetDomain()},_csvUrl:function(a,b){if(!b)return"";a=this._downloadDataUrl(a,b);return u.addParams(a,{format:"csv"})},_jsonUrl:function(a,
b){if(!b)return"";a=this._downloadDataUrl(a,b);return u.addParams(a,{format:"json"})},_downloadDataUrl:function(a,b){a=a[b];return u.addParams(u.getRouter().pluginRoute("custom_scalars","/download_data"),{tag:a.getTag(),run:a.getRun()})},_createProcessDataFunction:function(){var a=this;return function(b,c,d){if(d.regex_valid){var e=_.clone(a._nameToDataSeries);_.forOwn(d.tag_to_events,function(b,d){var f=b.map(function(a){return{wall_time:new Date(1E3*a[0]),step:a[1],scalar:a[2]}});b=lb.generateDataSeriesName(c,
d);var g=e[b];g?g.setData(f):(_.isUndefined(a._runToNextAvailableSymbolIndex[c])&&(a._runToNextAvailableSymbolIndex[c]=0),d=new lb.DataSeries(c,d,b,f,L.SYMBOLS_LIST[a._runToNextAvailableSymbolIndex[c]]),e[b]=d,a._runToNextAvailableSymbolIndex[c]=(a._runToNextAvailableSymbolIndex[c]+1)%L.SYMBOLS_LIST.length)});a.set("_nameToDataSeries",e)}}},_updateChart:function(a){var b=this;Object.entries(a).forEach(function(a){var c=ma(a);a=c.next().value;c=c.next().value;b.$.loader.setSeriesData(a,c.getData())})},
_computeSelectedRunsSet:function(a){var b={};_.forEach(a,function(a){b[a]=1});return b},_computeSeriesNames:function(){var a=new Set(this.runs);return Object.entries(this._nameToDataSeries).filter(function(b){b=ma(b);b.next();b=b.next().value;return a.has(b.run)}).map(function(a){return ma(a).next().value})},_determineColor:function(a,b){return a.scale(b)},_refreshDataSeries:function(){this.set("_nameToDataSeries",{})},_createSymbolFunction:function(){var a=this;return function(b){return a._nameToDataSeries[b].getSymbol().method()}},
_determineSymbol:function(a,b){return a[b].getSymbol().character},_computeTagFilter:function(a){return 1===a.length?a[0]:a.map(function(a){return"("+a+")"}).join("|")},_getToggleMatchesIcon:function(a){return a?"expand-less":"expand-more"},_toggleMatchesOpen:function(){this.set("_matchesListOpened",!this._matchesListOpened)},_computeTitleDisplayString:function(a){return a||"untitled"}});
</script>
</dom-module>



<dom-module id="tf-custom-scalar-dashboard">
  <template>
    <tf-dashboard-layout class="style-scope tf-custom-scalar-dashboard">
      <div class="sidebar style-scope tf-custom-scalar-dashboard">
        <div class="sidebar-section style-scope tf-custom-scalar-dashboard">
          <div class="line-item style-scope tf-custom-scalar-dashboard">
            <paper-checkbox class="style-scope tf-custom-scalar-dashboard">Show data download links</paper-checkbox>
          </div>
          <div class="line-item style-scope tf-custom-scalar-dashboard">
            <paper-checkbox class="style-scope tf-custom-scalar-dashboard">Ignore outliers in chart scaling</paper-checkbox>
          </div>
          <div id="tooltip-sorting" class="style-scope tf-custom-scalar-dashboard">
            <div id="tooltip-sorting-label" class="style-scope tf-custom-scalar-dashboard">Tooltip sorting method:</div>
            <paper-dropdown-menu no-label-float="" class="style-scope tf-custom-scalar-dashboard">
              <paper-menu class="dropdown-content style-scope tf-custom-scalar-dashboard" selected="0" slot="dropdown-content">
                <paper-item class="style-scope tf-custom-scalar-dashboard">default</paper-item>
                <paper-item class="style-scope tf-custom-scalar-dashboard">descending</paper-item>
                <paper-item class="style-scope tf-custom-scalar-dashboard">ascending</paper-item>
                <paper-item class="style-scope tf-custom-scalar-dashboard">nearest</paper-item>
              </paper-menu>
            </paper-dropdown-menu>
          </div>
        </div>
        <div class="sidebar-section style-scope tf-custom-scalar-dashboard">
          <tf-smoothing-input step="0.001" min="0" max="1" class="style-scope tf-custom-scalar-dashboard"></tf-smoothing-input>
        </div>
        <div class="sidebar-section style-scope tf-custom-scalar-dashboard">
          <tf-option-selector id="x-type-selector" name="Horizontal Axis" class="style-scope tf-custom-scalar-dashboard">
            <paper-button id="step" class="style-scope tf-custom-scalar-dashboard">step</paper-button><paper-button id="relative" class="style-scope tf-custom-scalar-dashboard">relative</paper-button><paper-button id="wall_time" class="style-scope tf-custom-scalar-dashboard">wall</paper-button>
          </tf-option-selector>
        </div>
        <div class="sidebar-section style-scope tf-custom-scalar-dashboard">
          <tf-runs-selector class="style-scope tf-custom-scalar-dashboard">
          </tf-runs-selector>
        </div>
      </div>
      <div class="center style-scope tf-custom-scalar-dashboard" id="categories-container">
        <template is="dom-if" class="style-scope tf-custom-scalar-dashboard"></template>
        <template is="dom-if" class="style-scope tf-custom-scalar-dashboard"></template>
      </div>
    </tf-dashboard-layout>

    
    
  </template>

  <script>//~~WEBPATH~~/tf-custom-scalar-dashboard/tf-custom-scalar-dashboard.html.js
Polymer({is:"tf-custom-scalar-dashboard",properties:{_requestManager:{type:Object,value:function(){return new u.RequestManager(50)}},_canceller:{type:Object,value:function(){return new u.Canceller}},_selectedRuns:Array,_showDownloadLinks:{type:Boolean,notify:!0,value:G.getBooleanInitializer("_showDownloadLinks",{defaultValue:!1,useLocalStorage:!0}),observer:"_showDownloadLinksObserver"},_smoothingEnabled:{type:Boolean,computed:"_computeSmoothingEnabled(_smoothingWeight)"},_smoothingWeight:{type:Number,
notify:!0,value:G.getNumberInitializer("_smoothingWeight",{defaultValue:.6}),observer:"_smoothingWeightObserver"},_ignoreYOutliers:{type:Boolean,value:G.getBooleanInitializer("_ignoreYOutliers",{defaultValue:!0,useLocalStorage:!0}),observer:"_ignoreYOutliersObserver"},_xType:{type:String,value:"step"},_layout:Object,_dataNotFound:Boolean,_categories:{type:Array,computed:"_makeCategories(_layout)"},_openedCategories:{type:Object},_active:{type:Boolean,value:!0,readOnly:!0}},ready:function(){this.reload()},
reload:function(){var a=this,b=this._canceller.cancellable(function(b){b.cancelled||(a.set("_dataNotFound",!b.value.custom_scalars),a._dataNotFound||a._retrieveLayoutAndData())});this._requestManager.request(u.getRouter().pluginsListing()).then(b)},_reloadCharts:function(){this.querySelectorAll("tf-custom-scalar-card").forEach(function(a){a.reload()})},_retrieveLayoutAndData:function(){var a=this,b=this._canceller.cancellable(function(b){b.cancelled||(a.set("_layout",b.value),a._dataNotFound||a._reloadCharts())});
this._requestManager.request(u.getRouter().pluginRoute("custom_scalars","/layout")).then(b)},_showDownloadLinksObserver:G.getBooleanObserver("_showDownloadLinks",{defaultValue:!1,useLocalStorage:!0}),_smoothingWeightObserver:G.getNumberObserver("_smoothingWeight",{defaultValue:.6}),_ignoreYOutliersObserver:G.getBooleanObserver("_ignoreYOutliers",{defaultValue:!0,useLocalStorage:!0}),_computeSmoothingEnabled:function(a){return 0<a},_makeCategories:function(a){var b=this;if(!a.category)return[];var c=
!1;this._openedCategories||(c=!0,this._openedCategories={});return a.category.map(function(a){c&&!a.closed&&(b._openedCategories[a.title]=!0);return{name:a.title,items:a.chart,metadata:{opened:!!b._openedCategories[a.title]}}})},_categoryOpenedToggled:function(a){a=a.target;a.opened?this._openedCategories[a.category.name]=!0:delete this._openedCategories[a.category.name]}});$a.registerDashboard({plugin:"custom_scalars",elementName:"tf-custom-scalar-dashboard",tabName:"Custom Scalars"});
</script>
</dom-module>























<dom-module id="paper-toggle-button">
  <template strip-whitespace=""><div class="toggle-container style-scope paper-toggle-button"><div id="toggleBar" class="toggle-bar style-scope paper-toggle-button"></div><div id="toggleButton" class="toggle-button style-scope paper-toggle-button"></div></div><div class="toggle-label style-scope paper-toggle-button"><content class="style-scope paper-toggle-button"></content></div></template>

  <script>//~~WEBPATH~~/paper-toggle-button/paper-toggle-button.html.js
Polymer({is:"paper-toggle-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"button","aria-pressed":"false",tabindex:0},properties:{},listeners:{track:"_ontrack"},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this.setScrollDirection("y")})},_ontrack:function(a){a=a.detail;"start"===a.state?this._trackStart(a):"track"===a.state?this._trackMove(a):"end"===a.state&&this._trackEnd(a)},_trackStart:function(){this._width=this.$.toggleBar.offsetWidth/
2;this._trackChecked=this.checked;this.$.toggleButton.classList.add("dragging")},_trackMove:function(a){a=a.dx;this._x=Math.min(this._width,Math.max(0,this._trackChecked?this._width+a:a));this.translate3d(this._x+"px",0,0,this.$.toggleButton);this._userActivate(this._x>this._width/2)},_trackEnd:function(){this.$.toggleButton.classList.remove("dragging");this.transform("",this.$.toggleButton)},_createRipple:function(){this._rippleContainer=this.$.toggleButton;var a=Polymer.PaperRippleBehavior._createRipple();
a.id="ink";a.setAttribute("recenters","");a.classList.add("circle","toggle-ink");return a}});
</script>
</dom-module>





<dom-module id="tf-regex-group">
  <template>
    <div class="regex-list style-scope tf-regex-group">
      <template is="dom-repeat" class="style-scope tf-regex-group"></template>
    </div>
  </template>
  <script>//~~WEBPATH~~/tf-dashboard-common/tf-regex-group.js
Sa||(Sa={});
Polymer({is:"tf-regex-group",properties:{rawRegexes:{type:Array,value:G.getObjectInitializer("rawRegexes",{defaultValue:[{regex:"",valid:!0}]})},regexes:{type:Array,computed:"usableRegexes(rawRegexes.*)",notify:!0}},observers:["addNewRegexIfNeeded(rawRegexes.*)","checkValidity(rawRegexes.*)","_uriStoreRegexes(rawRegexes.*)"],_uriStoreRegexes:G.getObjectObserver("rawRegexes",{defaultValue:[{regex:"",valid:!0}]}),checkValidity:function(a){var b=a.path.match(/rawRegexes\.(\d+)\.regex/);b&&this.set("rawRegexes."+
b[1]+".valid",this.isValid(a.value))},isValid:function(a){try{return new RegExp(a),!0}catch(b){return!1}},usableRegexes:function(a){var b=this.isValid;return a.base.filter(function(a){return""!==a.regex&&b(a.regex)}).map(function(a){return a.regex})},addNewRegexIfNeeded:function(){""!==this.rawRegexes[this.rawRegexes.length-1].regex&&this.push("rawRegexes",{regex:"",valid:!0})},deleteRegex:function(a){1<this.rawRegexes.length&&this.splice("rawRegexes",a.model.index,1)},moveFocus:function(a){if(13===
a.keyCode){a=a.model.index;var b=Polymer.dom(this.root).querySelectorAll(".regex-input");a<this.rawRegexes.length-1?b[a+1].$.input.focus():document.activeElement.blur()}}});
</script>
</dom-module>


















<dom-module id="tf-image-loader">
  <template>
    <tf-card-heading class="style-scope tf-image-loader">
      <template is="dom-if" class="style-scope tf-image-loader"></template>
      <template is="dom-if" class="style-scope tf-image-loader"></template>
      <template is="dom-if" class="style-scope tf-image-loader"></template>
    </tf-card-heading>

    <button aria-label="Toggle actual size" id="main-image-container" class="style-scope tf-image-loader"></button>

    
  </template>
  <script>//~~WEBPATH~~/tf-image-dashboard/tf-image-loader.html.js
Polymer({is:"tf-image-loader",properties:{run:String,tag:String,sample:Number,ofSamples:Number,tagMetadata:Object,_runColor:{type:String,computed:"_computeRunColor(run)"},actualSize:{type:Boolean,value:!1,reflectToAttribute:!0},brightnessAdjustment:{type:Number,value:.5},contrastPercentage:{type:Number,value:0},requestManager:Object,_metadataCanceller:{type:Object,value:function(){return new u.Canceller}},_imageCanceller:{type:Object,value:function(){return new u.Canceller}},_steps:{type:Array,value:[],
notify:!0},_stepIndex:{type:Number,notify:!0},_hasAtLeastOneStep:{type:Boolean,computed:"_computeHasAtLeastOneStep(_steps)"},_hasMultipleSteps:{type:Boolean,computed:"_computeHasMultipleSteps(_steps)"},_stepValue:{type:Number,computed:"_computeStepValue(_steps, _stepIndex)"},_currentWallTime:{type:Number,computed:"_computeCurrentWallTime(_steps, _stepIndex)"},_maxStepIndex:{type:Number,computed:"_computeMaxStepIndex(_steps)"},_sampleText:{type:String,computed:"_computeSampleText(sample)"},_hasMultipleSamples:{type:Boolean,
computed:"_computeHasMultipleSamples(ofSamples)"},_isImageLoading:{type:Boolean,value:!1}},observers:["reload(run, tag)","_updateImageUrl(_steps, _stepIndex, brightnessAdjustment, contrastPercentage)"],_computeRunColor:function(a){return Ta.runsColorScale(a)},_computeHasAtLeastOneStep:function(a){return!!a&&0<a.length},_computeHasMultipleSteps:function(a){return!!a&&1<a.length},_computeStepValue:function(a,b){return a[b].step},_computeCurrentWallTime:function(a,b){return ib.formatDate(a[b].wall_time)},
_computeMaxStepIndex:function(a){return a.length-1},_computeSampleText:function(a){return""+(a+1)},_computeHasMultipleSamples:function(a){return 1<a},attached:function(){this._attached=!0;this.reload()},reload:function(){var a=this;if(this._attached){this._metadataCanceller.cancelAll();var b=u.addParams(u.getRouter().pluginRoute("images","/images"),{tag:this.tag,run:this.run,sample:this.sample}),c=this._metadataCanceller.cancellable(function(b){b.cancelled||(b=b.value.map(a._createStepDatum.bind(a)),
a.set("_steps",b),a.set("_stepIndex",b.length-1))});this.requestManager.request(b).then(c)}},_createStepDatum:function(a){var b=u.getRouter().pluginRoute("images","/individualImage");b=u.addParams(b,{ts:a.wall_time});b+="\x26"+a.query;return{width:a.width,height:a.height,wall_time:new Date(1E3*a.wall_time),step:a.step,url:b}},_updateImageUrl:function(a,b,c,d){var e=this;if(a.length){var f=new Image;this._imageCanceller.cancelAll();f.onload=f.onerror=this._imageCanceller.cancellable(function(a){a.cancelled||
(a=e.$$("#main-image-container"),a.innerHTML="",Polymer.dom(a).appendChild(f),e.set("_isImageLoading",!1))}).bind(this);f.style.filter="contrast("+d+"%) ";f.style.filter+="brightness("+c+")";this.set("_isImageLoading",!0);f.src=a[b].url}},_handleTap:function(){this.set("actualSize",!this.actualSize)},_toLocaleString:function(a){return a.toLocaleString()}});
</script>
</dom-module>



<dom-module id="tf-image-dashboard">
  <template>
    <tf-dashboard-layout class="style-scope tf-image-dashboard">
      <div class="sidebar style-scope tf-image-dashboard">
        <div class="sidebar-section style-scope tf-image-dashboard">
          <div class="line-item style-scope tf-image-dashboard">
            <paper-checkbox class="style-scope tf-image-dashboard">Show actual image size</paper-checkbox>
          </div>
        </div>
        <div class="sidebar-section style-scope tf-image-dashboard">
          <h3 class="tooltip-container style-scope tf-image-dashboard">Brightness adjustment</h3>
          <div class="resettable-slider-container style-scope tf-image-dashboard">
            <paper-slider min="0" max="2" snaps="" pin="" step="0.01" class="style-scope tf-image-dashboard"></paper-slider>
            <paper-button class="x-button style-scope tf-image-dashboard">Reset</paper-button>
          </div>
        </div>
        <div class="sidebar-section style-scope tf-image-dashboard">
        <h3 class="tooltip-container style-scope tf-image-dashboard">Contrast adjustment</h3>
          <div class="resettable-slider-container style-scope tf-image-dashboard">
            <paper-slider min="0" max="500" snaps="" pin="" step="1" class="style-scope tf-image-dashboard"></paper-slider>
            <paper-button class="x-button style-scope tf-image-dashboard">Reset</paper-button>
          </div>
        </div>
        <div class="sidebar-section style-scope tf-image-dashboard">
          <tf-runs-selector id="runs-selector" class="style-scope tf-image-dashboard"></tf-runs-selector>
        </div>
      </div>
      <div class="center style-scope tf-image-dashboard">
        <template is="dom-if" class="style-scope tf-image-dashboard"></template>
        <template is="dom-if" class="style-scope tf-image-dashboard"></template>
      </div>
    </tf-dashboard-layout>
    
    
  </template>
  <script>//~~WEBPATH~~/tf-image-dashboard/tf-image-dashboard.html.js
Polymer({is:"tf-image-dashboard",properties:{_selectedRuns:Array,_runToTagInfo:Object,_dataNotFound:Boolean,_actualSize:Boolean,_defaultBrightnessAdjustment:{type:Number,value:1,readOnly:!0},_defaultContrastPercentage:{type:Number,value:100,readOnly:!0},_brightnessAdjustment:{type:Number,value:1},_contrastPercentage:{type:Number,value:100},_tagFilter:String,_brightnessIsDefault:{type:Boolean,computed:"_computeBrightnessIsDefault(_brightnessAdjustment)"},_contrastIsDefault:{type:Boolean,computed:"_computeContrastIsDefault(_contrastPercentage)"},
_categoriesDomReady:Boolean,_categories:{type:Array,computed:"_makeCategories(_runToTagInfo, _selectedRuns, _tagFilter, _categoriesDomReady)"},_requestManager:{type:Object,value:function(){return new u.RequestManager}}},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadImages()})},_fetchTags:function(){var a=this;return this._requestManager.request(u.getRouter().pluginRoute("images","/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=
_.mapValues(b,function(a){return Object.keys(a)});c=u.getTags(c);a.set("_dataNotFound",0===c.length);a.set("_runToTagInfo",b);a.async(function(){a.set("_categoriesDomReady",!0)})}})},_reloadImages:function(){this.querySelectorAll("tf-image-loader").forEach(function(a){a.reload()})},_shouldOpen:function(a){return 2>=a},_resetBrightness:function(){this._brightnessAdjustment=this._defaultBrightnessAdjustment},_resetContrast:function(){this._contrastPercentage=this._defaultContrastPercentage},_computeBrightnessIsDefault:function(a){return a===
this._defaultBrightnessAdjustment},_computeContrastIsDefault:function(a){return a===this._defaultContrastPercentage},_makeCategories:function(a,b,c){function d(b){var c=a[b.run][b.tag].samples;return _.range(c).map(function(a){return Object.assign({},b,{sample:a,ofSamples:c})})}var e=_.mapValues(a,function(a){return Object.keys(a)});return Pa.categorizeRunTagCombinations(e,b,c).map(function(a){return Object.assign({},a,{items:[].concat.apply([],a.items.map(d))})})},_tagMetadata:function(a,b,c){return a[b][c]}});
$a.registerDashboard({plugin:"images",elementName:"tf-image-dashboard"});
</script>
</dom-module>

























<dom-module id="tf-audio-loader">
  <template>
    <tf-card-heading class="style-scope tf-audio-loader">
      <template is="dom-if" class="style-scope tf-audio-loader"></template>
      <template is="dom-if" class="style-scope tf-audio-loader"></template>
      <template is="dom-if" class="style-scope tf-audio-loader"></template>
    </tf-card-heading>
    <template is="dom-if" class="style-scope tf-audio-loader"></template>
    <div id="main-audio-container" class="style-scope tf-audio-loader">
    </div>

    
  </template>
  <script>//~~WEBPATH~~/tf-audio-dashboard/tf-audio-loader.html.js
Polymer({is:"tf-audio-loader",properties:{run:String,tag:String,sample:Number,totalSamples:Number,tagMetadata:Object,_runColor:{type:String,computed:"_computeRunColor(run)"},requestManager:Object,_metadataCanceller:{type:Object,value:function(){return new u.Canceller}},_steps:{type:Array,value:function(){return[]}},_stepIndex:Number,_hasAtLeastOneStep:{type:Boolean,computed:"_computeHasAtLeastOneStep(_steps)"},_hasMultipleSteps:{type:Boolean,computed:"_computeHasMultipleSteps(_steps)"},_currentDatum:{type:Object,
computed:"_computeCurrentDatum(_steps, _stepIndex)"},_maxStepIndex:{type:Number,computed:"_computeMaxStepIndex(_steps)"},_sampleText:{type:String,computed:"_computeSampleText(sample)"},_hasMultipleSamples:{type:Boolean,computed:"_computeHasMultipleSamples(totalSamples)"}},observers:["reload(run, tag)"],_computeRunColor:function(a){return Ta.runsColorScale(a)},_computeHasAtLeastOneStep:function(a){return!!a&&0<a.length},_computeHasMultipleSteps:function(a){return!!a&&1<a.length},_computeMaxStepIndex:function(a){return a.length-
1},_computeCurrentDatum:function(a,b){return a[b]},_computeSampleText:function(a){return""+(a+1)},_computeHasMultipleSamples:function(a){return 1<a},attached:function(){this._attached=!0;this.reload()},reload:function(){var a=this;if(this._attached){this._metadataCanceller.cancelAll();var b=u.addParams(u.getRouter().pluginRoute("audio","/audio"),{tag:this.tag,run:this.run,sample:this.sample}),c=this._metadataCanceller.cancellable(function(b){b.cancelled||(b=b.value.map(a._createStepDatum.bind(a)),
a.set("_steps",b),a.set("_stepIndex",b.length-1))});this.requestManager.request(b).then(c)}},_createStepDatum:function(a){var b=u.getRouter().pluginRoute("audio","/individualAudio");b=u.addParams(b,{ts:a.wall_time});b+="\x26"+a.query;return{wall_time:ib.formatDate(new Date(1E3*a.wall_time)),step:a.step,label:a.label,contentType:a.contentType,url:b}}});
</script>
</dom-module>



<dom-module id="tf-audio-dashboard">
  <template>
    <tf-dashboard-layout class="style-scope tf-audio-dashboard">
      <div class="sidebar style-scope tf-audio-dashboard">
        <div class="sidebar-section style-scope tf-audio-dashboard">
          <tf-runs-selector id="runs-selector" class="style-scope tf-audio-dashboard"></tf-runs-selector>
        </div>
      </div>
      <div class="center style-scope tf-audio-dashboard">
        <template is="dom-if" class="style-scope tf-audio-dashboard"></template>
        <template is="dom-if" class="style-scope tf-audio-dashboard"></template>
      </div>
    </tf-dashboard-layout>
    
    
  </template>
  <script>//~~WEBPATH~~/tf-audio-dashboard/tf-audio-dashboard.html.js
Polymer({is:"tf-audio-dashboard",properties:{_selectedRuns:Array,_runToTagInfo:Object,_dataNotFound:Boolean,_tagFilter:{type:String,value:""},_categories:{type:Array,computed:"_makeCategories(_runToTagInfo, _selectedRuns, _tagFilter)"},_requestManager:{type:Object,value:function(){return new u.RequestManager}}},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadAudio()})},_fetchTags:function(){var a=this;return this._requestManager.request(u.getRouter().pluginRoute("audio",
"/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return Object.keys(a)});c=u.getTags(c);a.set("_dataNotFound",0===c.length);a.set("_runToTagInfo",b)}})},_reloadAudio:function(){this.querySelectorAll("tf-audio-loader").forEach(function(a){a.reload()})},_shouldOpen:function(a){return 2>=a},_makeCategories:function(a,b,c){function d(b){var c=a[b.run][b.tag].samples;return _.range(c).map(function(a){return Object.assign({},b,{sample:a,totalSamples:c})})}var e=
_.mapValues(a,function(a){return Object.keys(a)});return Pa.categorizeRunTagCombinations(e,b,c).map(function(a){return Object.assign({},a,{items:[].concat.apply([],a.items.map(d))})})},_tagMetadata:function(a,b,c){return a[b][c]}});$a.registerDashboard({plugin:"audio",elementName:"tf-audio-dashboard"});
</script>
</dom-module>













<dom-module id="iron-autogrow-textarea">
  <template>
    

    
    
    <div id="mirror" class="mirror-text style-scope iron-autogrow-textarea" aria-hidden="true">&nbsp;</div>

    
    <div class="textarea-container fit style-scope iron-autogrow-textarea">
      <textarea id="textarea" class="style-scope iron-autogrow-textarea"></textarea>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/iron-autogrow-textarea/iron-autogrow-textarea.html.js
Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{value:{observer:"_valueChanged",type:String,notify:!0},bindValue:{observer:"_bindValueChanged",type:String,notify:!0},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},
minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:"_onInput"},get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},attached:function(){navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&(this.$.textarea.style.marginLeft="-3px")},validate:function(){var a=this.$.textarea.validity.valid;
a&&(this.required&&""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_bindValueChanged:function(a){this.value=a},_valueChanged:function(a){var b=this.textarea;b&&(b.value!==a&&(b.value=a||0===a?a:""),this.bindValue=a,this.$.mirror.innerHTML=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},_onInput:function(a){var b=Polymer.dom(a).path;this.value=b?b[0].value:
a.target.value},_constrain:function(a){a=a||[""];for(a=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&a.length<this.rows;)a.push("");return a.join("\x3cbr/\x3e")+"\x26#160;"},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,"\x26amp;").replace(/"/gm,"\x26quot;").replace(/'/gm,"\x26#39;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=
this._constrain(this.tokens)}});
</script>









<dom-module id="paper-textarea">
  <template>
    

    <paper-input-container class="style-scope paper-textarea">

      <label aria-hidden="true" class="style-scope paper-textarea"> </label>

      <iron-autogrow-textarea class="input-element paper-input-input style-scope paper-textarea"></iron-autogrow-textarea>

      <template is="dom-if" class="style-scope paper-textarea"></template>

      <template is="dom-if" class="style-scope paper-textarea"></template>

    </paper-input-container>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-textarea.html.js
Polymer({is:"paper-textarea",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(a){this._focusableElement.setAttribute("aria-labelledby",a)},_ariaDescribedByChanged:function(a){this._focusableElement.setAttribute("aria-describedby",a)},get _focusableElement(){return this.inputElement.textarea}});
</script>











<dom-module id="paper-toast">
  <template>
    

    <span id="label" class="style-scope paper-toast"> </span>
    <content class="style-scope paper-toast"></content>
  </template>

  <script>//~~WEBPATH~~/paper-toast/paper-toast.html.js
(function(){var a=null;Polymer({is:"paper-toast",behaviors:[Polymer.IronOverlayBehavior],properties:{fitInto:{type:Object,value:window,observer:"_onFitIntoChanged"},horizontalAlign:{type:String,value:"left"},verticalAlign:{type:String,value:"bottom"},duration:{type:Number,value:3E3},text:{type:String,value:""},noCancelOnOutsideClick:{type:Boolean,value:!0},noAutoFocus:{type:Boolean,value:!0}},listeners:{transitionend:"__onTransitionEnd"},get visible(){Polymer.Base._warn("`visible` is deprecated, use `opened` instead");
return this.opened},get _canAutoClose(){return 0<this.duration&&Infinity!==this.duration},created:function(){this._autoClose=null;Polymer.IronA11yAnnouncer.requestAvailability()},show:function(a){"string"==typeof a&&(a={text:a});for(var b in a)0===b.indexOf("_")?Polymer.Base._warn('The property "'+b+'" is private and was not set.'):b in this?this[b]=a[b]:Polymer.Base._warn('The property "'+b+'" is not valid.');this.open()},hide:function(){this.close()},__onTransitionEnd:function(a){a&&a.target===
this&&"opacity"===a.propertyName&&(this.opened?this._finishRenderOpened():this._finishRenderClosed())},_openedChanged:function(){null!==this._autoClose&&(this.cancelAsync(this._autoClose),this._autoClose=null);this.opened?(a&&a!==this&&a.close(),a=this,this.fire("iron-announce",{text:this.text}),this._canAutoClose&&(this._autoClose=this.async(this.close,this.duration))):a===this&&(a=null);Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)},_renderOpened:function(){this.classList.add("paper-toast-open")},
_renderClosed:function(){this.classList.remove("paper-toast-open")},_onFitIntoChanged:function(a){this.positionTarget=a}})})();
</script>
</dom-module>























<script>//~~WEBPATH~~/tf-graph-common/colors.js
var tf;
(function(a){a.COLORS=[{name:"Google Blue",color:"#4184f3",active:"#3a53c5",disabled:"#cad8fc"},{name:"Google Red",color:"#db4437",active:"#8f2a0c",disabled:"#e8c6c1"},{name:"Google Yellow",color:"#f4b400",active:"#db9200",disabled:"#f7e8b0"},{name:"Google Green",color:"#0f9d58",active:"#488046",disabled:"#c2e1cc"},{name:"Purple",color:"#aa46bb",active:"#5c1398",disabled:"#d7bce6"},{name:"Teal",color:"#00abc0",active:"#47828e",disabled:"#c2eaf2"},{name:"Deep Orange",color:"#ff6f42",active:"#ca4a06",disabled:"#f2cbba"},
{name:"Lime",color:"#9d9c23",active:"#7f771d",disabled:"#f1f4c2"},{name:"Indigo",color:"#5b6abf",active:"#3e47a9",disabled:"#c5c8e8"},{name:"Pink",color:"#ef6191",active:"#ca1c60",disabled:"#e9b9ce"},{name:"Deep Teal",color:"#00786a",active:"#2b4f43",disabled:"#bededa"},{name:"Deep Pink",color:"#c1175a",active:"#75084f",disabled:"#de8cae"},{name:"Gray",color:"#9E9E9E",active:"#424242",disabled:"F5F5F5"}].reduce(function(a,c){a[c.name]=c;return a},{});a.OP_GROUP_COLORS=[{color:"Google Red",groups:"gen_legacy_ops legacy_ops legacy_flogs_input legacy_image_input legacy_input_example_input legacy_sequence_input legacy_seti_input_input".split(" ")},
{color:"Deep Orange",groups:["constant_ops"]},{color:"Indigo",groups:["state_ops"]},{color:"Purple",groups:["nn_ops","nn"]},{color:"Google Green",groups:["math_ops"]},{color:"Lime",groups:["array_ops"]},{color:"Teal",groups:["control_flow_ops","data_flow_ops"]},{color:"Pink",groups:["summary_ops"]},{color:"Deep Pink",groups:["io_ops"]}].reduce(function(a,c){c.groups.forEach(function(b){a[b]=c.color});return a},{})})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/common.js
</script>
<script>//~~WEBPATH~~/tf-graph-common/externs.js
</script>
<script>//~~WEBPATH~~/tf-graph-common/graph.js
(function(a){(function(b){function c(a,b,c,d,e){return(c?c+"/":"")+(a+("undefined"!==typeof d&&"undefined"!==typeof e?"["+d+"-"+e+"]":"#")+b)}function d(a){if(!a)return null;for(var b=0;b<a.length;b++){var c=a[b],d=c.value;if("_output_shapes"===c.key){if(!d.list.shape)break;c=d.list.shape.map(function(a){return a.unknown_rank?null:null==a.dim||1===a.dim.length&&null==a.dim[0].size?[]:a.dim.map(function(a){return a.size})});a.splice(b,1);return c}}return null}function e(a){var b=[];_.each(a,function(a){var c=
"^"===a[0];c&&(a=a.substring(1));var d=a,e="0",f=a.match(/(.*):(\w+:\d+)$/);if(f)d=f[1],e=f[2];else if(f=a.match(/(.*):(\d+)$/))d=f[1],e=f[2];0!==b.length&&d===b[b.length-1].name||b.push({name:d,outputTensorKey:e,isControlDependency:c})});return b}function f(a,b,c,d,e,f){b!==c.name&&a.edges.push({v:b,w:c.name,outputTensorKey:d.outputTensorKey,isControlDependency:d.isControlDependency,isReferenceEdge:!0===e.refEdges[c.op+" "+f]})}function g(a,b,c){c=c||{};var d=new graphlib.Graph(c);d.setGraph({name:a,
rankdir:c.rankdir||"BT",type:b});return d}function h(a){return function(b){for(var c=0;c<a.length;c++)if(b.op.match(new RegExp(a[c])))return!0;return!1}}function l(a){var c=a.split(b.NAMESPACE_DELIM);return a+b.NAMESPACE_DELIM+"("+c[c.length-1]+")"}function m(a,c){var d={},e={};a.sort();for(var f=0;f<a.length-1;++f){var g=a[f];_.each(q(g).slice(0,-1),function(a){e[a]=!0});for(var h=f+1;h<a.length;++h){var m=a[h];if(_.startsWith(m,g)){if(m.length>g.length&&m.charAt(g.length)===b.NAMESPACE_DELIM){d[g]=
l(g);break}}else break}}_.each(c,function(a){a in e&&(d[a]=l(a))});return d}function n(a){var b=a.nodes().map(function(b){return a.neighbors(b).length});b.sort();return b}function q(a,c){for(var d=[],e=a.indexOf(b.NAMESPACE_DELIM);0<=e;)d.push(a.substring(0,e)),e=a.indexOf(b.NAMESPACE_DELIM,e+1);c&&(c=c[a])&&d.push(c);d.push(a);return d}b.NAMESPACE_DELIM="/";b.ROOT_NAME="__root__";b.FUNCTION_LIBRARY_NODE_PREFIX="__function_library__";b.LARGE_ATTRS_KEY="_too_large_attrs";b.LIMIT_ATTR_SIZE=1024;b.EDGE_KEY_DELIM=
"--";var p;(function(a){a[a.FULL=0]="FULL";a[a.EMBEDDED=1]="EMBEDDED";a[a.META=2]="META";a[a.SERIES=3]="SERIES";a[a.CORE=4]="CORE";a[a.SHADOW=5]="SHADOW";a[a.BRIDGE=6]="BRIDGE";a[a.EDGE=7]="EDGE"})(p=b.GraphType||(b.GraphType={}));var t;(function(a){a[a.META=0]="META";a[a.OP=1]="OP";a[a.SERIES=2]="SERIES";a[a.BRIDGE=3]="BRIDGE";a[a.ELLIPSIS=4]="ELLIPSIS"})(t=b.NodeType||(b.NodeType={}));var r;(function(a){a[a.INCLUDE=0]="INCLUDE";a[a.EXCLUDE=1]="EXCLUDE";a[a.UNSPECIFIED=2]="UNSPECIFIED"})(r=b.InclusionType||
(b.InclusionType={}));(function(a){a[a.GROUP=0]="GROUP";a[a.UNGROUP=1]="UNGROUP"})(b.SeriesGroupingType||(b.SeriesGroupingType={}));var w=function(){return function(){this.nodes={};this.edges=[]}}();b.SlimGraph=w;var v=function(){function a(a){this.type=t.ELLIPSIS;this.isGroupNode=!1;this.cardinality=1;this.stats=this.parentNode=null;this.setNumMoreNodes(a);this.include=r.UNSPECIFIED}a.prototype.setNumMoreNodes=function(a){this.numMoreNodes=a;this.name="... "+a+" more"};return a}();b.EllipsisNodeImpl=
v;var y=function(){return function(a){this.op=a.op;this.name=a.name;this.device=a.device;this.attr=a.attr;this.inputs=e(a.input);this.outputShapes=d(a.attr);a:{if(a=a.attr)for(var b=0;b<a.length;b++)if("_XlaCluster"===a[b].key){a=a[b].value.s||null;break a}a=null}this.xlaCluster=a;this.compatible=!1;this.type=t.OP;this.isGroupNode=!1;this.cardinality=1;this.inEmbeddings=[];this.outEmbeddings=[];this.parentNode=null;this.include=r.UNSPECIFIED;this.owningSeries=null}}();b.OpNodeImpl=y;b.createMetanode=
function(a,b){void 0===b&&(b={});return new A(a,b)};b.joinStatsInfoWithGraph=function(a,b,c){_.each(a.nodes,function(a){a.stats=null});_.each(b.dev_stats,function(b){c&&!c[b.device]||_.each(b.node_stats,function(c){var d=c.node_name in a.nodes?c.node_name:l(c.node_name);if(d in a.nodes){var e=0;c.memory&&_.each(c.memory,function(a){a.total_bytes&&(0<a.total_bytes?e+=Number(a.total_bytes):console.log("ignoring negative memory allocation for "+d))});var f=null;c.output&&(f=_.map(c.output,function(a){return _.map(a.tensor_description.shape.dim,
function(a){return Number(a.size)})}));a.nodes[d].device=b.device;null==a.nodes[d].stats&&(a.nodes[d].stats=new x(f));a.nodes[d].stats.addBytesAllocation(e);c.all_end_rel_micros&&(0<c.all_end_rel_micros?a.nodes[d].stats.addExecutionTime(c.all_start_micros,c.all_start_micros+c.all_end_rel_micros):console.log("ignoring negative runtime for "+d))}})})};var x=function(){function a(a){this.totalBytes=0;this.outputSize=a}a.prototype.addExecutionTime=function(a,b){this.startTime=null!=this.startTime?Math.min(this.startTime,
a):a;this.endTime=null!=this.endTime?Math.max(this.endTime,b):b};a.prototype.addBytesAllocation=function(a){this.totalBytes=null!=this.totalBytes?Math.max(this.totalBytes,a):a};a.prototype.combine=function(a){null!=a.totalBytes&&(this.totalBytes+=a.totalBytes);null!=a.getTotalMicros()&&this.addExecutionTime(a.startTime,a.endTime)};a.prototype.getTotalMicros=function(){return null==this.startTime||null==this.endTime?null:this.endTime-this.startTime};return a}();b.NodeStats=x;var A=function(){function a(a,
b){void 0===b&&(b={});this.name=a;this.type=t.META;this.depth=1;this.isGroupNode=!0;this.cardinality=0;this.metagraph=g(a,p.META,b);this.bridgegraph=null;this.opHistogram={};this.deviceHistogram={};this.xlaClusterHistogram={};this.compatibilityHistogram={compatible:0,incompatible:0};this.parentNode=this.templateId=null;this.hasNonControlEdges=!1;this.include=r.UNSPECIFIED;this.associatedFunction=""}a.prototype.getFirstChild=function(){return this.metagraph.node(this.metagraph.nodes()[0])};a.prototype.getRootOp=
function(){var a=this.name.split("/");return this.metagraph.node(this.name+"/("+a[a.length-1]+")")};a.prototype.leaves=function(){for(var a=[],b=[this],c;b.length;){var d=b.shift();d.isGroupNode?(c=d.metagraph,_.each(c.nodes(),function(a){return b.push(c.node(a))})):a.push(d.name)}return a};return a}();b.MetanodeImpl=A;b.createMetaedge=function(a,b){return new B(a,b)};var B=function(){function a(a,b){this.v=a;this.w=b;this.baseEdgeList=[];this.inbound=null;this.totalSize=this.numRefEdges=this.numControlEdges=
this.numRegularEdges=0}a.prototype.addBaseEdge=function(b,c){this.baseEdgeList.push(b);b.isControlDependency?this.numControlEdges+=1:this.numRegularEdges+=1;b.isReferenceEdge&&(this.numRefEdges+=1);this.totalSize+=a.computeSizeOfEdge(b,c);c.maxMetaEdgeSize=Math.max(c.maxMetaEdgeSize,this.totalSize)};a.computeSizeOfEdge=function(a,b){a=b.node(a.v);if(!a.outputShapes)return 1;b.hasShapeInfo=!0;return _(a.outputShapes).mapValues(function(a){return null==a?1:_(a).reduce(function(a,b){-1===b&&(b=1);return a*
b},1)}).sum()};return a}();b.MetaedgeImpl=B;b.createSeriesNode=function(a,b,c,d,e,f){return new H(a,b,c,d,e,f)};b.getSeriesNodeName=c;var H=function(){return function(a,b,d,e,f,h){this.name=f||c(a,b,d);this.type=t.SERIES;this.hasLoop=!1;this.prefix=a;this.suffix=b;this.clusterId=e;this.ids=[];this.parent=d;this.isGroupNode=!0;this.cardinality=0;this.metagraph=g(f,p.SERIES,h);this.parentNode=this.bridgegraph=null;this.deviceHistogram={};this.xlaClusterHistogram={};this.compatibilityHistogram={compatible:0,
incompatible:0};this.hasNonControlEdges=!1;this.include=r.UNSPECIFIED}}();b.build=function(c,d,e){var g={},l={},n={},q=h(d.inEmbeddingTypes),p=h(d.outEmbeddingTypes),r=[],t=c.node,v=Array(t.length);return a.graph.util.runAsyncTask("Normalizing names",30,function(){function a(a){var c=b.FUNCTION_LIBRARY_NODE_PREFIX+a.signature.name;d({name:c,input:[],device:"",op:"",attr:[]});if(a.signature.input_arg){var e=0,f=function(a){d({name:c+b.NAMESPACE_DELIM+a.name,input:[],device:"",op:"input_arg",attr:[{key:"T",
value:{type:a.type}}]}).functionInputIndex=e;e++};a.signature.input_arg.name?f(a.signature.input_arg):_.each(a.signature.input_arg,f)}var g=0,h={};a.signature.output_arg&&(f=function(a){h[c+b.NAMESPACE_DELIM+a.name]=g;g++},a.signature.output_arg.name?f(a.signature.output_arg):_.each(a.signature.output_arg,f));_.each(a.node_def,function(a){a.name=c+"/"+a.name;"string"===typeof a.input&&(a.input=[a.input]);var e=d(a);_.isNumber(h[a.name])&&(e.functionOutputIndex=h[a.name]);_.each(e.inputs,function(a){a.name=
c+b.NAMESPACE_DELIM+a.name})})}function d(a){var b=new y(a);if(q(b))return r.push(b.name),g[b.name]=b;if(p(b))return r.push(b.name),l[b.name]=b,_.each(b.inputs,function(a){a=a.name;n[a]=n[a]||[];n[a].push(b)}),b;e[f]=b;v[f]=b.name;f++;return b}var e=Array(t.length),f=0;_.each(t,d);c.library&&c.library.function&&_.each(c.library.function,a);e.splice(f);v.splice(f);return e},e).then(function(b){return a.graph.util.runAsyncTask("Building the data structure",70,function(){var a=m(v,r),c=new w;_.each(b,
function(b){var d=a[b.name]||b.name;c.nodes[d]=b;b.name in n&&(b.outEmbeddings=n[b.name],_.each(b.outEmbeddings,function(b){b.name=a[b.name]||b.name}));b.name=d});_.each(b,function(b){_.each(b.inputs,function(e,h){var m=e.name;if(m in g){m=g[m];b.inEmbeddings.push(m);e=0;for(var n=m.inputs;e<n.length;e++)m=n[e],f(c,a[m.name]||m.name,b,m,d,h)}else if(m in l){n=0;for(var q=l[m].inputs;n<q.length;n++)m=q[n],f(c,a[m.name]||m.name,b,e,d,h)}else f(c,a[m]||m,b,e,d,h)})});_.each(g,function(b){b.name=a[b.name]||
b.name});return c},e)})};b.createGraph=g;b.getStrictName=l;b.hasSimilarDegreeSequence=function(a,b){a=n(a);b=n(b);for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.getHierarchicalPath=q;b.getIncludeNodeButtonString=function(b){return b===a.graph.InclusionType.EXCLUDE?"Add to main graph":"Remove from main graph"};b.getGroupSeriesNodeButtonString=function(b){return b===a.graph.SeriesGroupingType.GROUP?"Ungroup this series of nodes":"Group this series of nodes"};b.toggleNodeSeriesGroup=
function(b,c){b[c]=c in b&&b[c]!==a.graph.SeriesGroupingType.GROUP?a.graph.SeriesGroupingType.GROUP:a.graph.SeriesGroupingType.UNGROUP}})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/hierarchy.js
(function(a){(function(b){(function(c){function d(a,b,c,d){b=c?a.inEdges(b.name):a.outEdges(b.name);_.each(b,function(b){b=a.edge(b);(b.numRegularEdges?d.regular:d.control).push(b)})}function e(c,d){var e={};_.each(d.nodes,function(d){var f=b.getHierarchicalPath(d.name),g=c.root;g.depth=Math.max(f.length,g.depth);e[d.op]||(e[d.op]=[]);e[d.op].push(d);for(var h=0;h<f.length;h++){g.depth=Math.max(g.depth,f.length-h);g.cardinality+=d.cardinality;g.opHistogram[d.op]=(g.opHistogram[d.op]||0)+1;null!=d.device&&
(g.deviceHistogram[d.device]=(g.deviceHistogram[d.device]||0)+1);null!=d.xlaCluster&&(g.xlaClusterHistogram[d.xlaCluster]=(g.xlaClusterHistogram[d.xlaCluster]||0)+1);d.compatible?g.compatibilityHistogram.compatible=(g.compatibilityHistogram.compatible||0)+1:g.compatibilityHistogram.incompatible=(g.compatibilityHistogram.incompatible||0)+1;_.each(d.inEmbeddings,function(a){a.compatible?g.compatibilityHistogram.compatible=(g.compatibilityHistogram.compatible||0)+1:g.compatibilityHistogram.incompatible=
(g.compatibilityHistogram.incompatible||0)+1});_.each(d.outEmbeddings,function(a){a.compatible?g.compatibilityHistogram.compatible=(g.compatibilityHistogram.compatible||0)+1:g.compatibilityHistogram.incompatible=(g.compatibilityHistogram.incompatible||0)+1});if(h===f.length-1)break;var l=f[h],m=c.node(l);m||(m=b.createMetanode(l,c.graphOptions),m.parentNode=g,c.setNode(l,m),g.metagraph.setNode(l,m),0===l.indexOf(a.graph.FUNCTION_LIBRARY_NODE_PREFIX)&&g.name===a.graph.ROOT_NAME&&(l=l.substring(a.graph.FUNCTION_LIBRARY_NODE_PREFIX.length),
e[l]||(e[l]=[]),c.libraryFunctions[l]={node:m,usages:e[l]},m.associatedFunction=l));g=m}c.setNode(d.name,d);d.parentNode=g;g.metagraph.setNode(d.name,d);_.each(d.inEmbeddings,function(a){c.setNode(a.name,a);a.parentNode=d});_.each(d.outEmbeddings,function(a){c.setNode(a.name,a);a.parentNode=d})})}function f(a,c){function d(a,b){for(var c=0;a;)b[c++]=a.name,a=a.parentNode;return c-1}var e=a.getNodeMap(),f=[],g=[];_.each(c.edges,function(h){var l=d(c.nodes[h.v],f),m=d(c.nodes[h.w],g);if(-1!==l&&-1!==
m){for(;f[l]===g[m];)if(l--,m--,0>l||0>m)throw Error("No difference found between ancestor paths.");var n=e[f[l+1]];l=f[l];m=g[m];var q=n.metagraph.edge(l,m);q||(q=b.createMetaedge(l,m),n.metagraph.setEdge(l,m,q));n.hasNonControlEdges||h.isControlDependency||(n.hasNonControlEdges=!0);q.addBaseEdge(h,a)}})}function g(b,c,d,e,f,n){var q=b.metagraph;_.each(q.nodes(),function(b){b=q.node(b);b.type===a.graph.NodeType.META&&g(b,c,d,e,f,n)});b=h(q);b=(n?m:l)(b,q,c.graphOptions);_.each(b,function(b,g){var h=
b.metagraph.nodes();_.each(h,function(a){a=q.node(a);a.owningSeries||(a.owningSeries=g)});h.length<e&&!(b.name in f)&&(f[b.name]=a.graph.SeriesGroupingType.UNGROUP);b.name in f&&f[b.name]===a.graph.SeriesGroupingType.UNGROUP||(c.setNode(g,b),q.setNode(g,b),_.each(h,function(a){var c=q.node(a);b.metagraph.setNode(a,c);b.parentNode=c.parentNode;b.cardinality++;null!=c.device&&(b.deviceHistogram[c.device]=(b.deviceHistogram[c.device]||0)+1);null!=c.xlaCluster&&(b.xlaClusterHistogram[c.xlaCluster]=(b.xlaClusterHistogram[c.xlaCluster]||
0)+1);c.compatible?b.compatibilityHistogram.compatible=(b.compatibilityHistogram.compatible||0)+1:b.compatibilityHistogram.incompatible=(b.compatibilityHistogram.incompatible||0)+1;_.each(c.inEmbeddings,function(a){a.compatible?b.compatibilityHistogram.compatible=(b.compatibilityHistogram.compatible||0)+1:b.compatibilityHistogram.incompatible=(b.compatibilityHistogram.incompatible||0)+1});_.each(c.outEmbeddings,function(a){a.compatible?b.compatibilityHistogram.compatible=(b.compatibilityHistogram.compatible||
0)+1:b.compatibilityHistogram.incompatible=(b.compatibilityHistogram.incompatible||0)+1});c.parentNode=b;d[a]=g;q.removeNode(a)}))})}function h(a){return _.reduce(a.nodes(),function(c,d){d=a.node(d);if(d.type===b.NodeType.META)return c;var e=d.op;e&&(c[e]=c[e]||[],c[e].push(d.name));return c},{})}function l(a,c,d){var e={};_.each(a,function(a,f){if(!(1>=a.length)){var g={};_.each(a,function(a){var c="*"===a.charAt(a.length-1),e=a.split("/"),f=e[e.length-1];e=e.slice(0,e.length-1).join("/");var h=
f.match(/^(\D*)_(\d+)$/),l="";h?(f=h[1],h=h[2]):(f=c?f.substr(0,f.length-1):f,h=0,l=c?"*":"");c=b.getSeriesNodeName(f,l,e);g[c]=g[c]||[];a=b.createSeriesNode(f,l,e,+h,a,d);g[c].push(a)});_.each(g,function(a){if(!(2>a.length)){a.sort(function(a,b){return+a.clusterId-+b.clusterId});for(var b=[a[0]],g=1;g<a.length;g++){var h=a[g];h.clusterId===b[b.length-1].clusterId+1?b.push(h):(n(b,e,+f,c,d),b=[h])}n(b,e,+f,c,d)}})}});return e}function m(a,c,d){var e={};_.each(a,function(a,f){if(!(1>=a.length)){var g=
{},h={};_.each(a,function(a){var c="*"===a.charAt(a.length-1),e=a.split("/"),f=e[e.length-1];e=e.slice(0,e.length-1).join("/");for(var l=/(\d+)/g,m,n,q,p,r=0;m=l.exec(f);)++r,n=f.slice(0,m.index),q=m[0],m=f.slice(m.index+m[0].length),p=b.getSeriesNodeName(n,m,e),g[p]=g[p],g[p]||(g[p]=b.createSeriesNode(n,m,e,+q,a,d)),g[p].ids.push(q),h[a]=h[a]||[],h[a].push([p,q]);1>r&&(n=c?f.substr(0,f.length-1):f,q=0,m=c?"*":"",p=b.getSeriesNodeName(n,m,e),g[p]=g[p],g[p]||(g[p]=b.createSeriesNode(n,m,e,+q,a,d)),
g[p].ids.push(q),h[a]=h[a]||[],h[a].push([p,q]))});var l={};_.each(h,function(a,c){a.sort(function(a,b){return g[b[0]].ids.length-g[a[0]].ids.length});var e=a[0][0];a=a[0][1];l[e]=l[e]||[];var f=c.split("/");c=b.createSeriesNode(g[e].prefix,g[e].suffix,f.slice(0,f.length-1).join("/"),+a,c,d);l[e].push(c)});_.each(l,function(a){if(!(2>a.length)){a.sort(function(a,b){return+a.clusterId-+b.clusterId});for(var b=[a[0]],g=1;g<a.length;g++){var h=a[g];h.clusterId===b[b.length-1].clusterId+1?b.push(h):(n(b,
e,+f,c,d),b=[h])}n(b,e,+f,c,d)}})}});return e}function n(a,c,d,e,f){if(1<a.length){var g=b.getSeriesNodeName(a[0].prefix,a[0].suffix,a[0].parent,a[0].clusterId,a[a.length-1].clusterId),h=b.createSeriesNode(a[0].prefix,a[0].suffix,a[0].parent,d,g,f);_.each(a,function(a){h.ids.push(a.clusterId);h.metagraph.setNode(a.name,e.node(a.name))});c[g]=h}}var q=function(){function a(a){this.hasShapeInfo=!1;this.maxMetaEdgeSize=1;this.graphOptions=a||{};this.graphOptions.compound=!0;this.root=b.createMetanode(b.ROOT_NAME,
this.graphOptions);this.libraryFunctions={};this.xlaClusters=this.devices=this.templates=null;this.index={};this.index[b.ROOT_NAME]=this.root;this.orderings={}}a.prototype.getNodeMap=function(){return this.index};a.prototype.node=function(a){return this.index[a]};a.prototype.setNode=function(a,b){this.index[a]=b};a.prototype.getBridgegraph=function(a){var c=this,d=this.index[a];if(!d)throw Error("Could not find node in hierarchy: "+a);if(!("metagraph"in d))return null;if(d.bridgegraph)return d.bridgegraph;
var e=d.bridgegraph=b.createGraph("BRIDGEGRAPH",b.GraphType.BRIDGE,this.graphOptions);if(!(d.parentNode&&"metagraph"in d.parentNode))return e;var f=d.parentNode;d=f.metagraph;f=this.getBridgegraph(f.name);_.each([d,f],function(d){d.edges().filter(function(b){return b.v===a||b.w===a}).forEach(function(f){var g=f.w===a,h=d.edge(f);_.each(h.baseEdgeList,function(d){var h=g?[d.w,f.v]:[d.v,f.w],l=h[1];h=c.getChildName(a,h[0]);l={v:g?l:h,w:g?h:l};h=e.edge(l);h||(h=b.createMetaedge(l.v,l.w),h.inbound=g,
e.setEdge(l.v,l.w,h));h.addBaseEdge(d,c)})})});return e};a.prototype.getChildName=function(a,b){for(var c=this.index[b];c;){if(c.parentNode&&c.parentNode.name===a)return c.name;c=c.parentNode}throw Error("Could not find immediate child for descendant: "+b);};a.prototype.getPredecessors=function(a){var c=this,d=this.index[a];if(!d)throw Error("Could not find node with name: "+a);var e=this.getOneWayEdges(d,!0);d.isGroupNode||_.each(d.inEmbeddings,function(f){_.each(d.inputs,function(d){if(d.name===
f.name){var g=new b.MetaedgeImpl(f.name,a);g.addBaseEdge({isControlDependency:d.isControlDependency,outputTensorKey:d.outputTensorKey,isReferenceEdge:!1,v:f.name,w:a},c);e.regular.push(g)}})});return e};a.prototype.getSuccessors=function(a){var c=this,d=this.index[a];if(!d)throw Error("Could not find node with name: "+a);var e=this.getOneWayEdges(d,!1);d.isGroupNode||_.each(d.outEmbeddings,function(d){_.each(d.inputs,function(f){if(f.name===a){var g=new b.MetaedgeImpl(a,d.name);g.addBaseEdge({isControlDependency:f.isControlDependency,
outputTensorKey:f.outputTensorKey,isReferenceEdge:!1,v:a,w:d.name},c);e.regular.push(g)}})});return e};a.prototype.getOneWayEdges=function(a,b){var c={control:[],regular:[]};if(!a.parentNode||!a.parentNode.isGroupNode)return c;var e=a.parentNode,f=e.metagraph;e=this.getBridgegraph(e.name);d(f,a,b,c);d(e,a,b,c);return c};a.prototype.getTopologicalOrdering=function(a){var b=this.index[a];if(!b)throw Error("Could not find node with name: "+a);if(!b.isGroupNode)return null;if(a in this.orderings)return this.orderings[a];
var c={},d={},e=b.metagraph;_.each(e.edges(),function(a){e.edge(a).numRegularEdges&&(a.v in c||(c[a.v]=[]),c[a.v].push(a.w),d[a.w]=!0)});var f=_.difference(_.keys(c),_.keys(d));a=this.orderings[a]={};for(b=0;f.length;){var g=f.shift();a[g]=b++;_.each(c[g],function(a){return f.push(a)});delete c[g]}return a};a.prototype.getTemplateIndex=function(){var a=d3.keys(this.templates),b=d3.scaleOrdinal().domain(a).range(d3.range(0,a.length));return function(a){return b(a)}};return a}();c.build=function(c,
d,h){var l=new q({rankdir:d.rankDirection}),m={};return a.graph.util.runAsyncTask("Adding nodes",20,function(){var a={},b={};_.each(c.nodes,function(c){c.device&&(a[c.device]=!0);c.xlaCluster&&(b[c.xlaCluster]=!0)});l.devices=_.keys(a);l.xlaClusters=_.keys(b);e(l,c)},h).then(function(){return a.graph.util.runAsyncTask("Detect series",20,function(){0<d.seriesNodeMinSize&&g(l.root,l,m,d.seriesNodeMinSize,d.seriesMap,d.useGeneralizedSeriesPatterns)},h)}).then(function(){return a.graph.util.runAsyncTask("Adding edges",
30,function(){f(l,c,m)},h)}).then(function(){return a.graph.util.runAsyncTask("Finding similar subgraphs",30,function(){l.templates=b.template.detect(l,d.verifyTemplate)},h)}).then(function(){return l})};c.joinAndAggregateStats=function(a){var c={},d={};_.each(a.root.leaves(),function(b){b=a.node(b);null!=b.device&&(c[b.device]=!0);null!=b.xlaCluster&&(d[b.xlaCluster]=!0)});a.devices=_.keys(c);a.xlaClusters=_.keys(d);_.each(a.getNodeMap(),function(a){a.isGroupNode&&(a.stats=new b.NodeStats(null),
a.deviceHistogram={})});_.each(a.root.leaves(),function(b){for(var c=b=a.node(b);null!=c.parentNode;){if(null!=b.device){var d=c.parentNode.deviceHistogram;d[b.device]=(d[b.device]||0)+1}null!=b.xlaCluster&&(d=c.parentNode.xlaClusterHistogram,d[b.xlaCluster]=(d[b.xlaCluster]||0)+1);null!=b.stats&&c.parentNode.stats.combine(b.stats);c=c.parentNode}})};c.getIncompatibleOps=function(c,d){var e=[],f={};_.each(c.root.leaves(),function(g){g=c.node(g);if(g.type==b.NodeType.OP){if(!g.compatible)if(g.owningSeries)if(d&&
d.seriesMap[g.owningSeries]===a.graph.SeriesGroupingType.UNGROUP)e.push(g);else{if(!f[g.owningSeries]){var h=c.node(g.owningSeries);h&&(f[g.owningSeries]=h,e.push(h))}}else e.push(g);_.each(g.inEmbeddings,function(a){a.compatible||e.push(a)});_.each(g.outEmbeddings,function(a){a.compatible||e.push(a)})}});return e}})(b.hierarchy||(b.hierarchy={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/layout.js
(function(a){(function(a){(function(b){function c(b){b.node.isGroupNode&&e(b);b.node.type===a.NodeType.META?g(b):b.node.type===a.NodeType.SERIES&&h(b)}function e(d){var e=d.coreGraph.nodes().map(function(a){return d.coreGraph.node(a)}).concat(d.isolatedInExtract,d.isolatedOutExtract,d.libraryFunctionsExtract);_.each(e,function(d){switch(d.node.type){case a.NodeType.OP:_.extend(d,b.PARAMS.nodeSize.op);break;case a.NodeType.BRIDGE:_.extend(d,b.PARAMS.nodeSize.bridge);break;case a.NodeType.META:d.expanded?
c(d):(_.extend(d,b.PARAMS.nodeSize.meta),d.height=b.PARAMS.nodeSize.meta.height(d.node.cardinality));break;case a.NodeType.SERIES:d.expanded?(_.extend(d,b.PARAMS.nodeSize.series.expanded),c(d)):_.extend(d,d.node.hasNonControlEdges?b.PARAMS.nodeSize.series.vertical:b.PARAMS.nodeSize.series.horizontal);break;default:throw Error("Unrecognized node type: "+d.node.type);}d.expanded||(d.inboxWidth=0<d.inAnnotations.list.length?b.PARAMS.annotations.inboxWidth:0,d.outboxWidth=0<d.outAnnotations.list.length?
b.PARAMS.annotations.outboxWidth:0,d.coreBox.width=d.width,d.coreBox.height=d.height,d.width=Math.max(d.coreBox.width+d.inboxWidth+d.outboxWidth,3*d.displayName.length));l(d)})}function f(b,c){_.extend(b.graph(),{nodesep:c.nodeSep,ranksep:c.rankSep,edgesep:c.edgeSep});var d=[],e=[];_.each(b.nodes(),function(c){b.node(c).node.type===a.NodeType.BRIDGE?d.push(c):e.push(c)});if(!e.length)return{width:0,height:0};dagre.layout(b);var f=Infinity,g=Infinity,h=-Infinity,l=-Infinity;_.each(e,function(a){a=
b.node(a);var c=.5*a.width,d=a.x-c;c=a.x+c;f=d<f?d:f;h=c>h?c:h;c=.5*a.height;d=a.y-c;a=a.y+c;g=d<g?d:g;l=a>l?a:l});_.each(b.edges(),function(a){a=b.edge(a);if(!a.structural){var c=b.node(a.metaedge.v),d=b.node(a.metaedge.w);3===a.points.length&&p(a.points)&&(null!=c&&(a.points[0].x=c.expanded?c.x:n(c)),null!=d&&(a.points[2].x=d.expanded?d.x:n(d)),a.points=[a.points[0],a.points[1]]);var e=a.points[a.points.length-2];null!=d&&(a.points[a.points.length-1]=t(e,d));d=a.points[1];null!=c&&(a.points[0]=
t(d,c));_.each(a.points,function(a){f=a.x<f?a.x:f;h=a.x>h?a.x:h;g=a.y<g?a.y:g;l=a.y>l?a.y:l})}});_.each(b.nodes(),function(a){a=b.node(a);a.x-=f;a.y-=g});_.each(b.edges(),function(a){_.each(b.edge(a).points,function(a){a.x-=f;a.y-=g})});return{width:h-f,height:l-g}}function g(a){var c=b.PARAMS.subscene.meta;_.extend(a,c);_.extend(a.coreBox,f(a.coreGraph,b.PARAMS.graph.meta));var d=a.isolatedInExtract.length?_.max(a.isolatedInExtract,function(a){return a.width}).width:null;a.inExtractBox.width=null!=
d?d:0;a.inExtractBox.height=_.reduce(a.isolatedInExtract,function(a,b,d){d=0<d?c.extractYOffset:0;b.x=0;b.y=a+d+b.height/2;return a+d+b.height},0);d=a.isolatedOutExtract.length?_.max(a.isolatedOutExtract,function(a){return a.width}).width:null;a.outExtractBox.width=null!=d?d:0;a.outExtractBox.height=_.reduce(a.isolatedOutExtract,function(a,b,d){d=0<d?c.extractYOffset:0;b.x=0;b.y=a+d+b.height/2;return a+d+b.height},0);d=a.libraryFunctionsExtract.length?_.max(a.libraryFunctionsExtract,function(a){return a.width}).width:
null;a.libraryFunctionsBox.width=null!=d?d:0;a.libraryFunctionsBox.height=_.reduce(a.libraryFunctionsExtract,function(a,b,d){d=0<d?c.extractYOffset:0;b.x=0;b.y=a+d+b.height/2;return a+d+b.height},0);d=0;0<a.isolatedInExtract.length&&d++;0<a.isolatedOutExtract.length&&d++;0<a.libraryFunctionsExtract.length&&d++;0<a.coreGraph.nodeCount()&&d++;var e=b.PARAMS.subscene.meta.extractXOffset;d=1>=d?0:d*e;a.coreBox.width+=Math.max(b.MIN_AUX_WIDTH,a.inExtractBox.width+a.outExtractBox.width)+d+a.libraryFunctionsBox.width+
d;a.coreBox.height=c.labelHeight+Math.max(a.inExtractBox.height,a.coreBox.height,a.libraryFunctionsBox.height,a.outExtractBox.height);a.width=a.coreBox.width+c.paddingLeft+c.paddingRight;a.height=a.paddingTop+a.coreBox.height+a.paddingBottom}function h(a){var c=a.coreGraph,d=b.PARAMS.subscene.series;_.extend(a,d);_.extend(a.coreBox,f(a.coreGraph,b.PARAMS.graph.series));_.each(c.nodes(),function(a){c.node(a).excluded=!1});a.width=a.coreBox.width+d.paddingLeft+d.paddingRight;a.height=a.coreBox.height+
d.paddingTop+d.paddingBottom}function l(a){if(!a.expanded){var c=a.inAnnotations.list,d=a.outAnnotations.list;_.each(c,function(a){return m(a)});_.each(d,function(a){return m(a)});var e=b.PARAMS.annotations,f=_.reduce(c,function(b,c,d){d=0<d?e.yOffset:0;c.dx=-(a.coreBox.width+c.width)/2-e.xOffset;c.dy=b+d+c.height/2;return b+d+c.height},0);_.each(c,function(a){a.dy-=f/2;a.labelOffset=e.labelOffset});var g=_.reduce(d,function(b,c,d){d=0<d?e.yOffset:0;c.dx=(a.coreBox.width+c.width)/2+e.xOffset;c.dy=
b+d+c.height/2;return b+d+c.height},0);_.each(d,function(a){a.dy-=g/2;a.labelOffset=e.labelOffset});var h=Math.min(a.height/2-a.radius,f/2);h=0>h?0:h;var l=d3.scaleLinear().domain([0,c.length-1]).range([-h,h]);_.each(c,function(b,d){b.points=[{dx:b.dx+b.width/2,dy:b.dy},{dx:-a.coreBox.width/2,dy:1<c.length?l(d):0}]});h=Math.min(a.height/2-a.radius,g/2);h=0>h?0:h;var n=d3.scaleLinear().domain([0,d.length-1]).range([-h,h]);_.each(d,function(b,c){b.points=[{dx:a.coreBox.width/2,dy:1<d.length?n(c):0},
{dx:b.dx-b.width/2,dy:b.dy}]});a.height=Math.max(a.height,f,g)}}function m(c){switch(c.annotationType){case a.render.AnnotationType.CONSTANT:_.extend(c,b.PARAMS.constant.size);break;case a.render.AnnotationType.SHORTCUT:if(c.node.type===a.NodeType.OP)_.extend(c,b.PARAMS.shortcutSize.op);else if(c.node.type===a.NodeType.META)_.extend(c,b.PARAMS.shortcutSize.meta);else if(c.node.type===a.NodeType.SERIES)_.extend(c,b.PARAMS.shortcutSize.series);else throw Error("Invalid node type: "+c.node.type);break;
case a.render.AnnotationType.SUMMARY:_.extend(c,b.PARAMS.constant.size)}}function n(a){return a.expanded?a.x:a.x-a.width/2+(a.inAnnotations.list.length?a.inboxWidth:0)+a.coreBox.width/2}function q(a,b){return 180*Math.atan((b.y-a.y)/(b.x-a.x))/Math.PI}function p(a){for(var b=q(a[0],a[1]),c=1;c<a.length-1;c++){var d=q(a[c],a[c+1]);if(1<Math.abs(d-b))return!1;b=d}return!0}function t(a,b){var c=b.expanded?b.x:n(b),d=b.y,e=a.x-c;a=a.y-d;var f=b.expanded?b.width:b.coreBox.width,g=b.expanded?b.height:b.coreBox.height;
Math.abs(a)*f/2>Math.abs(e)*g/2?(0>a&&(g=-g),b=0===a?0:g/2*e/a,e=g/2):(0>e&&(f=-f),b=f/2,e=0===e?0:f/2*a/e);return{x:c+b,y:d+e}}b.PARAMS={animation:{duration:250},graph:{meta:{nodeSep:5,rankSep:25,edgeSep:5},series:{nodeSep:5,rankSep:25,edgeSep:5},padding:{paddingTop:40,paddingLeft:20}},subscene:{meta:{paddingTop:10,paddingBottom:10,paddingLeft:10,paddingRight:10,labelHeight:20,extractXOffset:15,extractYOffset:20},series:{paddingTop:10,paddingBottom:10,paddingLeft:10,paddingRight:10,labelHeight:10}},
nodeSize:{meta:{radius:5,width:60,maxLabelWidth:52,height:d3.scaleLinear().domain([1,200]).range([15,60]).clamp(!0),expandButtonRadius:3},op:{width:15,height:6,radius:3,labelOffset:-8,maxLabelWidth:30},series:{expanded:{radius:10,labelOffset:0},vertical:{width:16,height:13,labelOffset:-13},horizontal:{width:24,height:8,radius:10,labelOffset:-10}},bridge:{width:20,height:20,radius:2,labelOffset:0}},shortcutSize:{op:{width:10,height:4},meta:{width:12,height:4,radius:1},series:{width:14,height:4}},annotations:{inboxWidth:50,
outboxWidth:50,xOffset:10,yOffset:3,labelOffset:2,maxLabelWidth:120},constant:{size:{width:4,height:4}},series:{maxStackCount:3,parallelStackOffsetRatio:.2,towerStackOffsetRatio:.5},minimap:{size:150}};b.MIN_AUX_WIDTH=140;b.layoutScene=c;b.computeCXPositionOfNodeShape=n})(a.layout||(a.layout={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/op.js
(function(a){(function(a){(function(b){function c(a){return-1!=a.toLowerCase().search("cpu:")||-1!=a.toLowerCase().search("gpu:")?!0:-1==a.toLowerCase().search("tpu")}function e(d){return 0==d.name.search(a.FUNCTION_LIBRARY_NODE_PREFIX)||!d.op||d.device&&c(d.device)||d.device&&-1!=d.device.search("TPU_SYSTEM")?!0:-1!=b.WHITELIST.indexOf(d.op)}b.WHITELIST="Abs Acos Acosh Add AddN AdjustContrastv2 AdjustHue AdjustSaturation All Angle Any ApproximateEqual ArgMax ArgMin Asin Asinh Assert AssignAddVariableOp AssignSubVariableOp AssignVariableOp Atan Atan2 Atanh AvgPool AvgPool3D AvgPool3DGrad AvgPoolGrad BatchMatMul BatchToSpace BatchToSpaceND BiasAdd BiasAddGrad BiasAddV1 Bitcast BitwiseAnd BitwiseOr BitwiseXor BroadcastArgs BroadcastGradientArgs Bucketize Cast Ceil CheckNumerics Cholesky ClipByValue Complex ComplexAbs Concat ConcatOffset ConcatV2 Conj ConjugateTranspose Const ControlTrigger Conv2D Conv2DBackpropFilter Conv2DBackpropInput Conv3D Conv3DBackpropFilterV2 Conv3DBackpropInputV2 Cos Cosh Cross CrossReplicaSum Cumprod Cumsum DepthToSpace DepthwiseConv2dNative DepthwiseConv2dNativeBackpropFilter DepthwiseConv2dNativeBackpropInput Diag DiagPart Digamma Div DynamicStitch Elu EluGrad Empty Equal Erf Erfc Exp ExpandDims Expm1 ExtractImagePatches FFT FFT2D FFT3D FakeQuantWithMinMaxArgs FakeQuantWithMinMaxArgsGradient FakeQuantWithMinMaxVars FakeQuantWithMinMaxVarsGradient Fill Floor FloorDiv FloorMod FusedBatchNorm FusedBatchNormGrad FusedBatchNormGradV2 FusedBatchNormV2 Gather GatherNd GatherV2 GetItem Greater GreaterEqual HSVToRGB IFFT IFFT2D IFFT3D IRFFT IRFFT2D IRFFT3D Identity IdentityN If Imag InfeedDequeue InfeedDequeueTuple InplaceAdd InplaceUpdate Inv Invert InvertPermutation IsFinite IsInf IsNan L2Loss LRN LRNGrad LeftShift Less LessEqual Lgamma LinSpace ListDiff Log Log1p LogSoftmax LogicalAnd LogicalNot LogicalOr MatMul MatrixBandPart MatrixDiag MatrixDiagPart MatrixSetDiag MatrixTriangularSolve Max MaxPool MaxPool3D MaxPool3DGrad MaxPool3DGradGrad MaxPoolGrad MaxPoolGradGrad MaxPoolGradGradV2 MaxPoolGradV2 MaxPoolV2 Maximum Mean Min Minimum MirrorPad Mod Mul Multinomial Neg NoOp NonMaxSuppressionV4 NotEqual OneHot OnesLike OutfeedEnqueue OutfeedEnqueueTuple Pack Pad PadV2 ParallelDynamicStitch PlaceholderWithDefault Pow PreventGradient Prod Qr QuantizeAndDequantizeV2 QuantizeAndDequantizeV3 RFFT RFFT2D RFFT3D RGBToHSV RandomShuffle RandomStandardNormal RandomUniform RandomUniformInt Range Rank ReadVariableOp Real RealDiv Reciprocal ReciprocalGrad RecvTPUEmbeddingActivations Relu Relu6 Relu6Grad ReluGrad Reshape ResizeBilinear ResizeBilinearGrad ResourceApplyAdaMax ResourceApplyAdadelta ResourceApplyAdagrad ResourceApplyAdagradDA ResourceApplyAdam ResourceApplyAddSign ResourceApplyCenteredRMSProp ResourceApplyFtrl ResourceApplyFtrlV2 ResourceApplyGradientDescent ResourceApplyMomentum ResourceApplyPowerSign ResourceApplyProximalAdagrad ResourceApplyProximalGradientDescent ResourceApplyRMSProp ResourceGather ResourceScatterAdd ResourceScatterDiv ResourceScatterMax ResourceScatterMin ResourceScatterMul ResourceScatterNdAdd ResourceScatterNdUpdate ResourceScatterSub ResourceScatterUpdate ResourceStridedSliceAssign Reverse ReverseSequence ReverseV2 RightShift Rint Round Rsqrt RsqrtGrad ScatterNd Select Selu SeluGrad SendTPUEmbeddingGradients Shape ShapeN Sigmoid SigmoidGrad Sign Sin Sinh Size Slice Snapshot Softmax SoftmaxCrossEntropyWithLogits Softplus SoftplusGrad Softsign SoftsignGrad SpaceToBatch SpaceToBatchND SpaceToDepth SparseMatMul SparseSoftmaxCrossEntropyWithLogits SparseToDense Split SplitV Sqrt SqrtGrad Square SquaredDifference Squeeze StackCloseV2 StackPopV2 StackPushV2 StackV2 StatelessIf StatelessRandomNormal StatelessRandomUniform StatelessTruncatedNormal StatelessWhile StopGradient StridedSlice StridedSliceGrad Sub Sum SymbolicGradient TPUEmbeddingActivations Tan Tanh TanhGrad TensorArrayCloseV3 TensorArrayConcatV3 TensorArrayGatherV3 TensorArrayGradV3 TensorArrayReadV3 TensorArrayScatterV3 TensorArraySizeV3 TensorArraySplitV3 TensorArrayV3 TensorArrayWriteV3 Tile TopKV2 Transpose TruncateDiv TruncateMod TruncatedNormal Unpack UnsortedSegmentMax UnsortedSegmentMin UnsortedSegmentProd UnsortedSegmentSum VarIsInitializedOp VariableShape While XlaDynamicUpdateSlice XlaHostCompute XlaIf XlaRecv XlaReduceWindow XlaSend XlaSort XlaWhile ZerosLike Enter Exit LoopCond Merge NextIteration Switch _Arg _ParallelConcatUpdate _Retval _TPUCompile _TPUExecute TPUCompilationResult TPUReplicatedInput TPUReplicatedOutput TPUReplicateMetadata MergeV2Checkpoints RestoreV2 SaveV2 Abort Assert Assign Placeholder PlaceholderV2 ShardedFilename StringJoin Variable VariableV2 VarHandleOp AudioSummary AudioSummaryV2 DebugNumericSummary HistogramSummary ImageSummary MergeSummary ScalarSummary StatsAggregatorSummary".split(" ");
b.isNotTpuOp=c;b.opValid=e;b.checkOpsForCompatibility=function(a){_.each(a.nodes,function(a){a.compatible=e(a);_.each(a.inEmbeddings,function(a){a.compatible=e(a)});_.each(a.outEmbeddings,function(a){a.compatible=e(a)})})}})(a.op||(a.op={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/parser.js
(function(a){(function(b){(function(b){function c(a){if("true"===a)return!0;if("false"===a)return!1;if('"'===a[0])return a.substring(1,a.length-1);var b=parseFloat(a);return isNaN(b)?a:b}function e(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.responseType="arraybuffer";d.onerror=function(){return c(d.status)};d.onload=function(){return b(d.response)};d.send(null)})}function f(a,b,c,d){void 0===c&&(c=1E6);void 0===d&&(d="\n");return new Promise(function(e){function f(m,
n){m=new Blob([a.slice(m,m+n)]);n=new FileReader;n.onload=function(a){a=a.target.result;g+=c;a=a.split(d);var m=l+a[0];if(1===a.length)l=m,f(g,c);else{l=a[a.length-1];b(m);for(m=1;m<a.length-1;m++)b(a[m]);g>=h?(l&&b(l),e(!0)):f(g,c)}};n.readAsText(m)}var g=0,h=a.byteLength-1,l="";f(g,c)})}function g(a){return l(a,m)}function h(a){return l(a,n).then(function(a){return a.step_stats})}function l(a,b){function d(a,c,d,e){var f=a[c];null==f?a[c]=e.join(".")in b?[d]:d:Array.isArray(f)?f.push(d):a[c]=[f,
d]}var e={},g=[],h=[],l=e;return f(a,function(a){if(a)switch(a=a.trim(),a[a.length-1]){case "{":a=a.substring(0,a.length-2).trim();var b={};g.push(l);h.push(a);d(l,a,b,h);l=b;break;case "}":l=g.pop();h.pop();break;default:b=a;var e=b.indexOf(":");a=b.substring(0,e).trim();b=c(b.substring(e+2).trim());d(l,a,b,h.concat(a))}}).then(function(){return e})}b.fetchPbTxt=e;b.fetchAndParseMetadata=function(b,c){return a.graph.util.runTask("Reading metadata pbtxt",40,function(){return null==b?Promise.resolve(null):
e(b)},c).then(function(b){return a.graph.util.runAsyncPromiseTask(function(){return null!=b?h(b):Promise.resolve(null)},c)})};b.fetchAndParseGraphData=function(b,c,d){return a.graph.util.runTask("Reading graph pbtxt",40,function(){return c?new Promise(function(a,b){var d=new FileReader;d.onload=function(){return a(d.result)};d.onerror=function(){return b(d.error)};d.readAsArrayBuffer(c)}):e(b)},d).then(function(b){return a.graph.util.runTask("Parsing graph.pbtxt",60,function(){return g(b)},d)})};
b.streamParse=f;var m={"library.function":!0,"library.function.node_def":!0,"library.function.signature.input_arg":!0,"library.function.signature.output_arg":!0,"library.versions":!0,node:!0,"node.input":!0,"node.attr":!0,"node.attr.value.list.type":!0,"node.attr.value.shape.dim":!0,"node.attr.value.tensor.string_val":!0,"node.attr.value.tensor.tensor_shape.dim":!0,"node.attr.value.list.shape":!0,"node.attr.value.list.shape.dim":!0,"node.attr.value.list.s":!0},n={"step_stats.dev_stats":!0,"step_stats.dev_stats.node_stats":!0,
"step_stats.dev_stats.node_stats.output":!0,"step_stats.dev_stats.node_stats.memory":!0,"step_stats.dev_stats.node_stats.output.tensor_description.shape.dim":!0};b.parseGraphPbTxt=g;b.parseStatsPbTxt=h})(b.parser||(b.parser={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/proto.js
var mb=tf||(tf={}),nb=mb.graph||(mb.graph={});nb.proto||(nb.proto={});
</script>
<script>//~~WEBPATH~~/tf-graph-common/render.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){(function(b){(function(c){function d(a,c){_.each(a.nodes(),function(e){e=a.node(e);e.expanded=1<c;if(0<c)switch(e.node.type){case b.NodeType.META:case b.NodeType.SERIES:e.coreGraph&&d(e.coreGraph,c-1)}})}function e(a,c,d){var e=a.node(c),f=a.node(d),g=a.edge(c,d);if(e.node.include!==b.InclusionType.INCLUDE&&f.node.include!==b.InclusionType.INCLUDE||e.node.include===b.InclusionType.EXCLUDE||f.node.include===b.InclusionType.EXCLUDE){var h=new y(f.node,f,g,x.SHORTCUT,!1);e.outAnnotations.push(h);
e=new y(e.node,e,g,x.SHORTCUT,!0);f.inAnnotations.push(e);a.removeEdge(c,d)}}function f(a,c,d){var f=a.coreGraph,g=f.node(c);g.isOutExtract=!0;_.each(f.predecessors(c),function(a){e(f,a,c)});(r.detachAllEdgesForHighDegree||d)&&_.each(f.successors(c),function(a){e(f,c,a)});0===f.neighbors(c).length&&(g.node.include=b.InclusionType.EXCLUDE,a.isolatedOutExtract.push(g),f.removeNode(c))}function g(a,c,d){var f=a.coreGraph,g=f.node(c);g.isInExtract=!0;_.each(f.successors(c),function(a){e(f,c,a)});(r.detachAllEdgesForHighDegree||
d)&&_.each(f.predecessors(c),function(a){e(f,a,c)});0===f.neighbors(c).length&&(g.node.include=b.InclusionType.EXCLUDE,a.isolatedInExtract.push(g),f.removeNode(c))}function h(a,c){if(a.type===b.NodeType.OP)for(var d=0;d<c.length;d++){if(a.op===c[d])return!0}else if(a.type===b.NodeType.META&&(a=a.getRootOp()))for(d=0;d<c.length;d++)if(a.op===c[d])return!0;return!1}function l(c){var d=c.coreGraph;_.each(d.nodes(),function(e){d.node(e).node.include!==b.InclusionType.EXCLUDE||e.startsWith(a.graph.FUNCTION_LIBRARY_NODE_PREFIX)||
(c.coreGraph.outEdges(e).length>c.coreGraph.inEdges(e).length?f(c,e,!0):g(c,e,!0))})}function m(a){var c=a.coreGraph;_.each(c.nodes(),function(d){var e=c.node(d);e.node.include===b.InclusionType.UNSPECIFIED&&h(e.node,r.outExtractTypes)&&f(a,d)})}function n(a){var c=a.coreGraph;_.each(c.nodes(),function(d){var e=c.node(d);e.node.include===b.InclusionType.UNSPECIFIED&&h(e.node,r.inExtractTypes)&&g(a,d)})}function q(a){var c=a.coreGraph,d={},e={},h=0;_.each(c.nodes(),function(a){if(c.node(a).node.include===
b.InclusionType.UNSPECIFIED){var f=_.reduce(c.predecessors(a),function(b,d){d=c.edge(d,a).metaedge;return b+(d.numRegularEdges?1:0)},0);0===f&&0<c.predecessors(a).length&&(f=c.predecessors(a).length);var g=_.reduce(c.successors(a),function(b,d){d=c.edge(a,d).metaedge;return b+(d.numRegularEdges?1:0)},0);0===g&&0<c.successors(a).length&&(g=c.successors(a).length);d[a]=f;e[a]=g;h++}});if(!(h<r.minNodeCountForExtraction)){var l=r.minDegreeForExtraction-1,m=Math.round(.75*h),n=Math.round(.25*h),q=Object.keys(d).sort(function(a,
b){return d[a]-d[b]}),p=d[q[m]],t=p+p-d[q[n]];t=Math.max(t,l);for(p=h-1;d[q[p]]>t;p--)g(a,q[p]);q=Object.keys(e).sort(function(a,b){return e[a]-e[b]});p=e[q[m]];n=p+4*(p-e[q[n]]);n=Math.max(n,l);for(p=h-1;e[q[p]]>n;p--)(l=c.node(q[p]))&&!l.isInExtract&&f(a,q[p])}}function p(a){var b=a.coreGraph,c={};_.each(b.edges(),function(a){b.edge(a).metaedge.numRegularEdges||((c[a.v]=c[a.v]||[]).push(a),(c[a.w]=c[a.w]||[]).push(a))});_.each(c,function(a){a.length>r.maxControlDegree&&_.each(a,function(a){return e(b,
a.v,a.w)})})}function t(a){l(a);r.outExtractTypes&&m(a);r.inExtractTypes&&n(a);q(a);r.maxControlDegree&&p(a);var c=a.coreGraph;_.each(c.nodes(),function(d){var e=c.node(d),f=c.neighbors(d).length;if(e.node.include===b.InclusionType.UNSPECIFIED&&0===f){f=0<e.outAnnotations.list.length;var g=0<e.inAnnotations.list.length;e.isInExtract?(a.isolatedInExtract.push(e),e.node.include=b.InclusionType.EXCLUDE,c.removeNode(d)):e.isOutExtract?(a.isolatedOutExtract.push(e),e.node.include=b.InclusionType.EXCLUDE,
c.removeNode(d)):r.extractIsolatedNodesWithAnnotationsOnOneSide&&(f&&!g?(e.isInExtract=!0,a.isolatedInExtract.push(e),e.node.include=b.InclusionType.EXCLUDE,c.removeNode(d)):g&&!f&&(e.isOutExtract=!0,a.isolatedOutExtract.push(e),e.node.include=b.InclusionType.EXCLUDE,c.removeNode(d)))}})}c.OpNodeColors={DEFAULT_FILL:"#ffffff",DEFAULT_STROKE:"#b2b2b2",COMPATIBLE:"#0f9d58",INCOMPATIBLE:"#db4437"};c.MetanodeColors={DEFAULT_FILL:"#d9d9d9",DEFAULT_STROKE:"#a6a6a6",SATURATION:.6,LIGHTNESS:.85,EXPANDED_COLOR:"#f0f0f0",
HUES:[220,100,180,40,20,340,260,300,140,60],STRUCTURE_PALETTE:function(a,b){var d=c.MetanodeColors.HUES;a=d[a%d.length];d=Math.sin(a*Math.PI/360);return d3.hsl(a,.01*(b?30:90-60*d),.01*(b?95:80)).toString()},DEVICE_PALETTE:function(a){return c.MetanodeColors.STRUCTURE_PALETTE(a)},XLA_CLUSTER_PALETTE:function(a){return c.MetanodeColors.STRUCTURE_PALETTE(a)},UNKNOWN:"#eee",GRADIENT_OUTLINE:"#888"};c.SeriesNodeColors={DEFAULT_FILL:"white",DEFAULT_STROKE:"#b2b2b2"};var r={enableExtraction:!0,minNodeCountForExtraction:15,
minDegreeForExtraction:5,maxControlDegree:4,maxBridgePathDegree:4,outExtractTypes:["NoOp"],inExtractTypes:[],detachAllEdgesForHighDegree:!0,extractIsolatedNodesWithAnnotationsOnOneSide:!0,enableBridgegraph:!0,minMaxColors:["#fff5f0","#fb6a4a"],maxAnnotations:5},w=new RegExp("^(?:"+a.graph.FUNCTION_LIBRARY_NODE_PREFIX+")?(\\w+)_[a-z0-9]{8}(?:_\\d+)?$"),v=function(){function e(a,b){this.hierarchy=a;this.displayingStats=b;this.index={};this.renderedOpNames=[];this.computeScales();this.hasSubhierarchy=
{};this.root=new E(a.root,a.graphOptions);this.index[a.root.name]=this.root;this.renderedOpNames.push(a.root.name);this.buildSubhierarchy(a.root.name);this.root.expanded=!0;this.traceInputs=!1}e.prototype.computeScales=function(){this.deviceColorMap=d3.scaleOrdinal().domain(this.hierarchy.devices).range(_.map(d3.range(this.hierarchy.devices.length),c.MetanodeColors.DEVICE_PALETTE));this.xlaClusterColorMap=d3.scaleOrdinal().domain(this.hierarchy.xlaClusters).range(_.map(d3.range(this.hierarchy.xlaClusters.length),
c.MetanodeColors.XLA_CLUSTER_PALETTE));var a=this.hierarchy.root.metagraph,d=d3.max(a.nodes(),function(b){b=a.node(b);if(null!=b.stats)return b.stats.totalBytes});this.memoryUsageScale=d3.scaleLinear().domain([0,d]).range(r.minMaxColors);d=d3.max(a.nodes(),function(b){b=a.node(b);if(null!=b.stats)return b.stats.getTotalMicros()});this.computeTimeScale=d3.scaleLinear().domain([0,d]).range(r.minMaxColors);this.edgeWidthSizedBasedScale=this.hierarchy.hasShapeInfo?b.scene.edge.EDGE_WIDTH_SIZE_BASED_SCALE:
d3.scaleLinear().domain([1,this.hierarchy.maxMetaEdgeSize]).range([b.scene.edge.MIN_EDGE_WIDTH,b.scene.edge.MAX_EDGE_WIDTH])};e.prototype.getRenderNodeByName=function(a){return this.index[a]};e.prototype.getNodeByName=function(a){return this.hierarchy.node(a)};e.prototype.colorHistogram=function(a,b){if(0<Object.keys(a).length){var c=_.sum(Object.keys(a).map(function(b){return a[b]}));return Object.keys(a).map(function(d){return{color:b(d),proportion:a[d]/c}})}console.info("no pairs found!");return null};
e.prototype.getOrCreateRenderNodeByName=function(c){if(!c)return null;if(c in this.index)return this.index[c];var d=this.hierarchy.node(c);if(!d)return null;var e=d.isGroupNode?new E(d,this.hierarchy.graphOptions):new B(d);this.index[c]=e;this.renderedOpNames.push(c);d.stats&&(e.memoryColor=this.memoryUsageScale(d.stats.totalBytes),e.computeTimeColor=this.computeTimeScale(d.stats.getTotalMicros()));e.isFadedOut=this.displayingStats&&!a.graph.util.hasDisplayableNodeStats(d.stats);var f=null,g=null,
h=null;if(d.isGroupNode){f=d.deviceHistogram;g=d.xlaClusterHistogram;var l=d.compatibilityHistogram.compatible;var m=d.compatibilityHistogram.incompatible;if(0!=l||0!=m)h=l/(l+m)}else(d=e.node.device)&&(f=(m={},m[d]=1,m)),(m=e.node.xlaCluster)&&(g=(l={},l[m]=1,l)),e.node.type===b.NodeType.OP&&(h=e.node.compatible?1:0);f&&(e.deviceColors=this.colorHistogram(f,this.deviceColorMap));g&&(e.xlaClusterColors=this.colorHistogram(g,this.xlaClusterColorMap));null!=h&&(e.compatibilityColors=[{color:a.graph.render.OpNodeColors.COMPATIBLE,
proportion:h},{color:a.graph.render.OpNodeColors.INCOMPATIBLE,proportion:1-h}]);return this.index[c]};e.prototype.getNearestVisibleAncestor=function(a){for(var c=b.getHierarchicalPath(a),d=0,e=null;d<c.length&&(a=c[d],e=this.getRenderNodeByName(a),e.expanded);d++);return d==c.length-2&&(c=c[d+1],e.inAnnotations.nodeNames[c]||e.outAnnotations.nodeNames[c])?c:a};e.prototype.setDepth=function(a){var b=this.root;b.coreGraph&&d(b.coreGraph,+a)};e.prototype.isNodeAuxiliary=function(a){var b=this.getRenderNodeByName(a.node.parentNode.name),
c=_.find(b.isolatedInExtract,function(b){return b.node.name===a.node.name});if(c)return!0;c=_.find(b.isolatedOutExtract,function(b){return b.node.name===a.node.name});return!!c};e.prototype.getNamesOfRenderedOps=function(){return this.renderedOpNames};e.prototype.cloneAndAddFunctionOpNode=function(a,c,d,e){function f(b){return g.cloneAndAddFunctionOpNode(a,c,b,e)}var g=this,h=d.name.replace(c,e),l=a.metagraph.node(h);if(l)return l;l=new b.OpNodeImpl({name:h,input:[],device:d.device,op:d.op,attr:_.cloneDeep(d.attr)});
l.cardinality=d.cardinality;l.include=d.include;l.outputShapes=_.cloneDeep(d.outputShapes);l.xlaCluster=d.xlaCluster;l.functionInputIndex=d.functionInputIndex;l.functionOutputIndex=d.functionOutputIndex;l.inputs=d.inputs.map(function(a){var b=_.clone(a);b.name=a.name.replace(c,e);return b});l.parentNode=a;a.metagraph.setNode(l.name,l);this.hierarchy.setNode(l.name,l);l.inEmbeddings=d.inEmbeddings.map(f);l.outEmbeddings=d.outEmbeddings.map(f);return l};e.prototype.cloneFunctionLibraryMetanode=function(a,
b,c,d,e){var f={};a=this.cloneFunctionLibraryMetanodeHelper(a,b,c,d,e,f);_.isEmpty(f)||this.patchEdgesFromFunctionOutputs(b,f);return a};e.prototype.cloneFunctionLibraryMetanodeHelper=function(c,d,e,f,g,h){var l=this,m=a.graph.createMetanode(e.name.replace(f,g));m.depth=e.depth;m.cardinality=e.cardinality;m.templateId=e.templateId;m.opHistogram=_.clone(e.opHistogram);m.deviceHistogram=_.clone(e.deviceHistogram);m.xlaClusterHistogram=_.clone(e.xlaClusterHistogram);m.hasNonControlEdges=e.hasNonControlEdges;
m.include=e.include;m.nodeAttributes=_.clone(e.nodeAttributes);m.associatedFunction=e.associatedFunction;_.each(e.metagraph.nodes(),function(a){a=e.metagraph.node(a);switch(a.type){case b.NodeType.META:a=l.cloneFunctionLibraryMetanodeHelper(c,d,a,f,g,h);a.parentNode=m;m.metagraph.setNode(a.name,a);l.hierarchy.setNode(a.name,a);break;case b.NodeType.OP:a=l.cloneAndAddFunctionOpNode(m,f,a,g);_.isNumber(a.functionInputIndex)&&l.patchEdgesIntoFunctionInputs(d,a);_.isNumber(a.functionOutputIndex)&&(h[a.functionOutputIndex]=
a);break;default:console.warn(a.name+" is oddly neither a metanode nor an opnode.")}});this.cloneLibraryMetanodeEdges(e,m,f,g);return m};e.prototype.cloneLibraryMetanodeEdges=function(a,c,d,e){_.each(a.metagraph.edges(),function(f){f=a.metagraph.edge(f);var g=f.v.replace(d,e),h=f.w.replace(d,e),l=new b.MetaedgeImpl(g,h);l.inbound=f.inbound;l.numRegularEdges=f.numRegularEdges;l.numControlEdges=f.numControlEdges;l.numRefEdges=f.numRefEdges;l.totalSize=f.totalSize;f.baseEdgeList&&(l.baseEdgeList=f.baseEdgeList.map(function(a){var b=
_.clone(a);b.v=a.v.replace(d,e);b.w=a.w.replace(d,e);return b}));c.metagraph.node(h)?c.metagraph.setEdge(g,h,l):c.metagraph.setEdge(h,g,l)})};e.prototype.patchEdgesIntoFunctionInputs=function(a,b){for(var c=Math.min(b.functionInputIndex,a.inputs.length-1),d=_.clone(a.inputs[c]);d.isControlDependency;)c++,d=a.inputs[c];b.inputs.push(d);d=this.hierarchy.getPredecessors(a.name);var e,f=0;_.each(d.regular,function(a){f+=a.numRegularEdges;if(f>c)return e=a,!1});_.each(e.baseEdgeList,function(c){c.w===
a.name&&(c.w=b.name);c.v===a.name&&(c.v=b.name)})};e.prototype.patchEdgesFromFunctionOutputs=function(a,b){var c=this,d=this.hierarchy.getSuccessors(a.name);_.each(d.regular,function(d){_.each(d.baseEdgeList,function(d){var e=c.hierarchy.node(d.w);_.each(e.inputs,function(c){c.name===a.name&&(c.name=b[c.outputTensorKey].name,c.outputTensorKey=d.outputTensorKey)})});_.each(d.baseEdgeList,function(a){a.v=b[a.outputTensorKey].name;a.outputTensorKey="0"})})};e.prototype.buildSubhierarchy=function(c){var d=
this;if(!(c in this.hasSubhierarchy)){this.hasSubhierarchy[c]=!0;var e=this.index[c];if(e.node.type===b.NodeType.META||e.node.type===b.NodeType.SERIES){var f=e.node.metagraph,g=e.coreGraph,h=[],l=[];_.isEmpty(this.hierarchy.libraryFunctions)||(_.each(f.nodes(),function(b){var c=f.node(b),e=d.hierarchy.libraryFunctions[c.op];e&&0!==b.indexOf(a.graph.FUNCTION_LIBRARY_NODE_PREFIX)&&(b=d.cloneFunctionLibraryMetanode(f,c,e.node,e.node.name,c.name),h.push(c),l.push(b))}),_.each(l,function(a,b){b=h[b];a.parentNode=
b.parentNode;f.setNode(b.name,a);d.hierarchy.setNode(b.name,a)}));_.each(f.nodes(),function(a){var b=d.getOrCreateRenderNodeByName(a),c=b.node;g.setNode(a,b);c.isGroupNode||(_.each(c.inEmbeddings,function(a){var c=new H(null),e=new B(a);c=new y(a,e,c,x.CONSTANT,!0);b.inAnnotations.push(c);d.index[a.name]=e}),_.each(c.outEmbeddings,function(a){var c=new H(null),e=new B(a);c=new y(a,e,c,x.SUMMARY,!1);b.outAnnotations.push(c);d.index[a.name]=e}))});_.each(f.edges(),function(a){var b=f.edge(a);b=new H(b);
b.isFadedOut=d.index[a.v].isFadedOut||d.index[a.w].isFadedOut;g.setEdge(a.v,a.w,b)});r.enableExtraction&&e.node.type===b.NodeType.META&&t(e);_.isEmpty(this.hierarchy.libraryFunctions)||this.buildSubhierarchiesForNeededFunctions(f);c===a.graph.ROOT_NAME&&_.forOwn(this.hierarchy.libraryFunctions,function(a){a=a.node;var c=d.getOrCreateRenderNodeByName(a.name);e.libraryFunctionsExtract.push(c);c.node.include=b.InclusionType.EXCLUDE;g.removeNode(a.name)});var m=e.node.parentNode;if(m){var n=this.index[m.name],
q=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return b.concat([a?"IN":"OUT"]).join("~~")},p=this.hierarchy.getBridgegraph(c),w={},v={},A={};_.each(p.edges(),function(a){var b=!!f.node(a.w),c=b?a.v:a.w;p.edge(a).numRegularEdges?b?v[c]=(v[c]||0)+1:w[c]=(w[c]||0)+1:A[c]=(A[c]||0)+1});var E=this.hierarchy.getNodeMap();_.each(p.edges(),function(a){var h=p.edge(a),l=!!f.node(a.w),t=l?[a.w,a.v]:[a.v,a.w];a=t[0];var M=t[1],J=d.index[a],K=d.index[M],I=K?K.node:E[M],O=!h.numRegularEdges&&
A[M]>r.maxControlDegree,D=(l?[e.inAnnotations,J.inAnnotations]:[e.outAnnotations,J.outAnnotations])[1],N=(l?v:w)[M]>r.maxBridgePathDegree;t=null;var C=!1;r.enableBridgegraph&&!N&&!O&&J.isInCore()&&(C=function(a){return n.coreGraph.edge(l?{v:a,w:c}:{v:c,w:a})},(t=C(M))||(t=C(q(l,M,m.name))),C=!!t);J=!1;if(t&&!h.numRegularEdges){J=t;for(O=n.node;J.adjoiningMetaedge;)J=J.adjoiningMetaedge,O=O.parentNode;O=d.hierarchy.getTopologicalOrdering(O.name);J=J.metaedge;J=O[J.v]>O[J.w]}C&&!J?(K=q(l,c),M=q(l,M,
c),I=g.node(M),I||(D=g.node(K),D||(D=new B({name:K,type:b.NodeType.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,stats:null,include:b.InclusionType.UNSPECIFIED,inbound:l,nodeAttributes:{}}),d.index[K]=D,g.setNode(K,D)),I=new B({name:M,type:b.NodeType.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,stats:null,include:b.InclusionType.UNSPECIFIED,inbound:l,nodeAttributes:{}}),d.index[M]=I,g.setNode(M,I),g.setParent(M,K),D.node.cardinality++),h=new H(h),h.adjoiningMetaedge=t,l?g.setEdge(M,a,
h):g.setEdge(a,M,h)):D.push(new y(I,K,new H(h),x.SHORTCUT,l))});_.each([!0,!1],function(a){var e=q(a,c),f=g.node(e);f&&_.each(g.nodes(),function(h){if(g.node(h).node.type!==b.NodeType.BRIDGE&&(a?!g.predecessors(h).length:!g.successors(h).length)){var l=q(a,c,"STRUCTURAL_TARGET"),m=g.node(l);m||(m=new B({name:l,type:b.NodeType.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,stats:null,include:b.InclusionType.UNSPECIFIED,inbound:a,nodeAttributes:{}}),m.structural=!0,d.index[l]=m,g.setNode(l,m),
f.node.cardinality++,g.setParent(l,e));m=new H(null);m.structural=!0;m.weight--;a?g.setEdge(l,h,m):g.setEdge(h,l,m)}})})}}}};e.prototype.buildSubhierarchiesForNeededFunctions=function(c){var d=this;_.each(c.edges(),function(e){e=c.edge(e);e=new H(e);_.forEach(e.metaedge.baseEdgeList,function(c){for(var e=c.v.split(a.graph.NAMESPACE_DELIM),f=e.length;0<=f;f--){c=e.slice(0,f);var g=d.hierarchy.node(c.join(a.graph.NAMESPACE_DELIM));if(g){if(g.type===b.NodeType.OP&&d.hierarchy.libraryFunctions[g.op])for(e=
1;e<c.length;e++)(f=c.slice(0,e).join(a.graph.NAMESPACE_DELIM))&&d.buildSubhierarchy(f);break}}})})};return e}();c.RenderGraphInfo=v;var y=function(){return function(a,b,c,d,e){this.node=a;this.renderNodeInfo=b;this.renderMetaedgeInfo=c;this.annotationType=d;this.height=this.width=this.dy=this.dx=0;c&&c.metaedge&&(this.v=c.metaedge.v,this.w=c.metaedge.w);this.isIn=e;this.points=[]}}();c.Annotation=y;var x;(function(a){a[a.SHORTCUT=0]="SHORTCUT";a[a.CONSTANT=1]="CONSTANT";a[a.SUMMARY=2]="SUMMARY";
a[a.ELLIPSIS=3]="ELLIPSIS"})(x=c.AnnotationType||(c.AnnotationType={}));var A=function(){function b(){this.list=[];this.nodeNames={}}b.prototype.push=function(b){if(!(b.node.name in this.nodeNames))if(this.nodeNames[b.node.name]=!0,this.list.length<r.maxAnnotations)this.list.push(b);else{var c=this.list[this.list.length-1];c.annotationType===x.ELLIPSIS?(b=c.node,b.setNumMoreNodes(++b.numMoreNodes)):(c=new a.graph.EllipsisNodeImpl(1),this.list.push(new y(c,new B(c),null,x.ELLIPSIS,b.isIn)))}};return b}();
c.AnnotationList=A;var B=function(){function c(c){this.node=c;this.expanded=!1;this.inAnnotations=new A;this.outAnnotations=new A;this.outboxWidth=this.inboxWidth=this.height=this.width=this.y=this.x=0;this.structural=this.excluded=!1;this.paddingBottom=this.paddingRight=this.paddingLeft=this.paddingTop=this.labelHeight=this.radius=this.labelOffset=0;this.isOutExtract=this.isInExtract=!1;this.coreBox={width:0,height:0};this.isFadedOut=!1;this.displayName=c.name.substring(c.name.lastIndexOf(a.graph.NAMESPACE_DELIM)+
1);c.type===b.NodeType.META&&c.associatedFunction&&((c=this.displayName.match(w))?this.displayName=c[1]:_.startsWith(this.displayName,a.graph.FUNCTION_LIBRARY_NODE_PREFIX)&&(this.displayName=this.displayName.substring(a.graph.FUNCTION_LIBRARY_NODE_PREFIX.length)))}c.prototype.isInCore=function(){return!this.isInExtract&&!this.isOutExtract&&!this.isLibraryFunction};return c}();c.RenderNodeInfo=B;var H=function(){return function(a){this.metaedge=a;this.adjoiningMetaedge=null;this.structural=!1;this.weight=
1;this.isFadedOut=!1}}();c.RenderMetaedgeInfo=H;var E=function(a){function c(c,d){var e=a.call(this,c)||this;c=c.metagraph.graph();d.compound=!0;e.coreGraph=b.createGraph(c.name,b.GraphType.CORE,d);e.inExtractBox={width:0,height:0};e.outExtractBox={width:0,height:0};e.libraryFunctionsBox={width:0,height:0};e.isolatedInExtract=[];e.isolatedOutExtract=[];e.libraryFunctionsExtract=[];return e}Oa(c,a);return c}(B);c.RenderGroupNodeInfo=E;c.makeInExtract=g;c.mapIndexToHue=function(a){return 1+579.2561679725*
a%358};c.expandUntilNodeIsShown=function(b,c){var d=document.getElementById("scene");c=c.split("/");var e=c[c.length-1].match(/(.*):\w+/);2===e.length&&(c[c.length-1]=e[1]);e=c[0];for(var f=b.getRenderNodeByName(e),g=1;g<c.length&&f.node.type!==a.graph.NodeType.OP;g++)b.buildSubhierarchy(e),f.expanded=!0,d.setNodeExpanded(f),e+="/"+c[g],f=b.getRenderNodeByName(e);return f.node.name}})(b.render||(b.render={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/annotation.js
(function(a){(function(b){(function(c){(function(d){function e(b,d,e,f){var g=c.Class.Annotation.LABEL;f&&(g+=" "+f);b=b.append("text").attr("class",g).attr("dy",".35em").attr("text-anchor",e.isIn?"end":"start").text(d);return a.graph.scene.node.enforceLabelWidth(b,-1)}function f(a,d,e,f){a.on("mouseover",function(a){f.fire("annotation-highlight",{name:a.node.name,hostName:d.node.name})}).on("mouseout",function(a){f.fire("annotation-unhighlight",{name:a.node.name,hostName:d.node.name})}).on("click",
function(a){d3.event.stopPropagation();f.fire("annotation-select",{name:a.node.name,hostName:d.node.name})});if(e.annotationType!==b.render.AnnotationType.SUMMARY&&e.annotationType!==b.render.AnnotationType.CONSTANT)a.on("contextmenu",c.contextmenu.getMenu(f,c.node.getContextMenu(e.node,f)))}function g(a,d,e,f){var g=b.layout.computeCXPositionOfNodeShape(d);e.renderNodeInfo&&e.annotationType!==b.render.AnnotationType.ELLIPSIS&&c.node.stylize(a,e.renderNodeInfo,f,c.Class.Annotation.NODE);e.annotationType===
b.render.AnnotationType.SUMMARY&&(e.width+=10);a.select("text."+c.Class.Annotation.LABEL).transition().attr("x",g+e.dx+(e.isIn?-1:1)*(e.width/2+e.labelOffset)).attr("y",d.y+e.dy);a.select("use.summary").transition().attr("x",g+e.dx-3).attr("y",d.y+e.dy-6);c.positionEllipse(a.select("."+c.Class.Annotation.NODE+" ellipse"),g+e.dx,d.y+e.dy,e.width,e.height);c.positionRect(a.select("."+c.Class.Annotation.NODE+" rect"),g+e.dx,d.y+e.dy,e.width,e.height);c.positionRect(a.select("."+c.Class.Annotation.NODE+
" use"),g+e.dx,d.y+e.dy,e.width,e.height);a.select("path."+c.Class.Annotation.EDGE).transition().attr("d",function(a){a=a.points.map(function(a){return{x:a.dx+g,y:a.dy+d.y}});return c.edge.interpolate(a)})}d.buildGroup=function(a,d,m,n){a=a.selectAll(function(){return this.childNodes}).data(d.list,function(a){return a.node.name});a.enter().append("g").attr("data-name",function(a){return a.node.name}).each(function(a){var d=d3.select(this);n.addAnnotationGroup(a,m,d);var f=c.Class.Annotation.EDGE,
g=a.renderMetaedgeInfo&&a.renderMetaedgeInfo.metaedge;g&&!g.numRegularEdges&&(f+=" "+c.Class.Annotation.CONTROL_EDGE);g&&g.numRefEdges&&(f+=" "+c.Class.Edge.REF_LINE);c.edge.appendEdge(d,a,n,f);a.annotationType!==b.render.AnnotationType.ELLIPSIS?(f=a.node.name.split("/"),e(d,f[f.length-1],a,null),a.annotationType===b.render.AnnotationType.SUMMARY?c.selectOrCreateChild(d,"use").attr("class","summary").attr("xlink:href","#summary-icon").attr("cursor","pointer"):(d=c.node.buildShape(d,a,c.Class.Annotation.NODE),
c.selectOrCreateChild(d,"title").text(a.node.name))):e(d,a.node.name,a,c.Class.Annotation.ELLIPSIS)}).merge(a).attr("class",function(a){return c.Class.Annotation.GROUP+" "+((b.render.AnnotationType[a.annotationType]||"").toLowerCase()||null)+" "+c.node.nodeClass(a)}).each(function(a){var c=d3.select(this);g(c,m,a,n);a.annotationType!==b.render.AnnotationType.ELLIPSIS&&f(c,m,a,n)});a.exit().each(function(a){var b=d3.select(this);n.removeAnnotationGroup(a,m,b)}).remove()}})(c.annotation||(c.annotation=
{}))})(b.scene||(b.scene={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/contextmenu.js
(function(a){(function(a){(function(a){(function(a){function b(a){for(var b=0,c=0;a&&0<=a.offsetLeft&&0<=a.offsetTop;)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{left:b,top:c}}a.getMenu=function(a,c){var d=d3.select(".context-menu");d3.select("body").on("click.context",function(){d.style("display","none")});return function(e,f){var g=this,h=d3.event,l=b(a);d.style("display","block").style("left",h.clientX-l.left+1+"px").style("top",h.clientY-l.top+1+"px");h.preventDefault();
h.stopPropagation();d.html("");d.append("ul").selectAll("li").data(c).enter().append("li").html(function(a){return a.title(e)}).on("click",function(a){a.action(g,e,f);d.style("display","none")})}}})(a.contextmenu||(a.contextmenu={}))})(a.scene||(a.scene={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/edge.js
(function(a){(function(b){(function(c){(function(d){function e(a){return a.v+b.EDGE_KEY_DELIM+a.w}function f(a,b){b=b.getNodeByName(a.v);if(null==b.outputShapes||_.isEmpty(b.outputShapes))return null;a=b.outputShapes[a.outputTensorKey];return null==a?null:0===a.length?"scalar":a.map(function(a){return-1===a?"?":a}).join("\u00d7")}function g(a,b){return b.edgeLabelFunction?b.edgeLabelFunction(a,b):1<a.baseEdgeList.length?a.baseEdgeList.length+" tensors":f(a.baseEdgeList[0],b)}function h(b,c,d){for(var e=
document.createElementNS(a.graph.scene.SVG_NAMESPACE,"path"),f=1;f<b.length;f++)if(e.setAttribute("d",d(b.slice(0,f))),e.getTotalLength()>c)return f-1;return b.length-1}function l(a,b,c){var d=d3.line().x(function(a){return a.x}).y(function(a){return a.y}),e=d3.select(document.createElementNS("http://www.w3.org/2000/svg","path")).attr("d",d(a)),f=+b.attr("markerWidth"),g=b.attr("viewBox").split(" ").map(Number);g=g[2]-g[0];b=+b.attr("refX");e=e.node();if(c)return c=f*(1-b/g),f=e.getPointAtLength(c),
d=h(a,c,d),a[d-1]={x:f.x,y:f.y},a.slice(d-1);c=1-b/g;c=e.getTotalLength()-f*c;f=e.getPointAtLength(c);d=h(a,c,d);a[d]={x:f.x,y:f.y};return a.slice(0,d+1)}function m(a,b,d,f){f=f||c.Class.Edge.LINE;b.label&&b.label.structural&&(f+=" "+c.Class.Edge.STRUCTURAL);b.label&&b.label.metaedge&&b.label.metaedge.numRefEdges&&(f+=" "+c.Class.Edge.REFERENCE_EDGE);d.handleEdgeSelected&&(f+=" "+c.Class.Edge.SELECTABLE);var h="path_"+e(b);if(d.renderHierarchy.edgeWidthFunction)var l=d.renderHierarchy.edgeWidthFunction(b,
f);else l=1,null!=b.label&&null!=b.label.metaedge&&(l=b.label.metaedge.totalSize),l=d.renderHierarchy.edgeWidthSizedBasedScale(l);f=a.append("path").attr("id",h).attr("class",f).style("stroke-width",l+"px");b.label&&b.label.metaedge&&(b.label.metaedge.numRefEdges?(l="reference-arrowhead-"+p(l),f.style("marker-start","url(#"+l+")"),b.label.startMarkerId=l):(l="dataflow-arrowhead-"+p(l),f.style("marker-end","url(#"+l+")"),b.label.endMarkerId=l));null!=b.label&&null!=b.label.metaedge&&(b=g(b.label.metaedge,
d.renderHierarchy),null!=b&&a.append("text").append("textPath").attr("xlink:href","#"+h).attr("startOffset","50%").attr("text-anchor","middle").attr("dominant-baseline","central").text(b))}function n(a,b,c){b=a.label;var e=b.adjoiningMetaedge,f=b.points;a.label.startMarkerId&&(f=l(f,d3.select("#"+a.label.startMarkerId),!0));a.label.endMarkerId&&(f=l(f,d3.select("#"+a.label.endMarkerId),!1));if(!e)return d3.interpolate(c,d.interpolate(f));var g=this,h=e.edgeGroup.node().firstChild,m=b.metaedge.inbound;
return function(){var a=h.getPointAtLength(m?h.getTotalLength():0).matrixTransform(h.getCTM()).matrixTransform(g.getCTM().inverse()),b=m?0:f.length-1;f[b].x=a.x;f[b].y=a.y;return d.interpolate(f)}}function q(){d3.select(this).select("path."+c.Class.Edge.LINE).transition().attrTween("d",n)}d.MIN_EDGE_WIDTH=.75;d.MAX_EDGE_WIDTH=12;d.EDGE_WIDTH_SIZE_BASED_SCALE=d3.scalePow().exponent(.3).domain([1,5E6]).range([d.MIN_EDGE_WIDTH,d.MAX_EDGE_WIDTH]).clamp(!0);var p=d3.scaleQuantize().domain([d.MIN_EDGE_WIDTH,
d.MAX_EDGE_WIDTH]).range(["small","medium","large","xlarge"]);d.getEdgeKey=e;d.buildGroup=function(a,b,d){var f=[];f=_.reduce(b.edges(),function(a,c){var d=b.edge(c);a.push({v:c.v,w:c.w,label:d});return a},f);a=c.selectOrCreateChild(a,"g",c.Class.Edge.CONTAINER).selectAll(function(){return this.childNodes}).data(f,e);a.enter().append("g").attr("class",c.Class.Edge.GROUP).attr("data-edge",e).each(function(a){var b=d3.select(this);a.label.edgeGroup=b;d._edgeGroupIndex[e(a)]=b;if(d.handleEdgeSelected)b.on("click",
function(a){d3.event.stopPropagation();d.fire("edge-select",{edgeData:a,edgeGroup:b})});m(b,a,d)}).merge(a).each(q).each(function(a){var b=d3.select(this);b.classed("faded",a.label.isFadedOut);a=a.label.metaedge;b.select("path."+c.Class.Edge.LINE).classed("control-dep",a&&!a.numRegularEdges)});a.exit().each(function(a){delete d._edgeGroupIndex[e(a)]}).remove()};d.getLabelForBaseEdge=f;d.getLabelForEdge=g;d.appendEdge=m;d.interpolate=d3.line().curve(d3.curveBasis).x(function(a){return a.x}).y(function(a){return a.y})})(c.edge||
(c.edge={}))})(b.scene||(b.scene={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/node.js
(function(a){(function(b){(function(c){(function(d){function e(a,b){var d=b.x-b.width/2+b.paddingLeft;b=b.y-b.height/2+b.paddingTop;a=c.selectChild(a,"g",c.Class.Subscene.GROUP);c.translate(a,d,b)}function f(a,b,d){a=c.selectOrCreateChild(a,"g",c.Class.Node.BUTTON_CONTAINER);c.selectOrCreateChild(a,"circle",c.Class.Node.BUTTON_CIRCLE);c.selectOrCreateChild(a,"path",c.Class.Node.EXPAND_BUTTON).attr("d","M0,-2.2 V2.2 M-2.2,0 H2.2");c.selectOrCreateChild(a,"path",c.Class.Node.COLLAPSE_BUTTON).attr("d",
"M-2.2,0 H2.2");a.on("click",function(a){d3.event.stopPropagation();d.fire("node-toggle-expand",{name:a.node.name})});c.positionButton(a,b)}function g(a,b,d,e){if(e)a.attr("pointer-events","none");else{var f=c.contextmenu.getMenu(d,h(b.node,d));a.on("dblclick",function(a){d.fire("node-toggle-expand",{name:a.node.name})}).on("mouseover",function(a){d.isNodeExpanded(a)||d.fire("node-highlight",{name:a.node.name})}).on("mouseout",function(a){d.isNodeExpanded(a)||d.fire("node-unhighlight",{name:a.node.name})}).on("click",
function(a){d3.event.stopPropagation();d.fire("node-select",{name:a.node.name})}).on("contextmenu",function(a,b){d.fire("node-select",{name:a.node.name});f.call(a,b)})}}function h(a,c){var d=[{title:function(){return b.getIncludeNodeButtonString(a.include)},action:function(){c.fire("node-toggle-extract",{name:a.name})}}];c.nodeContextMenuItems&&(d=d.concat(c.nodeContextMenuItems));l(a)&&d.push({title:function(){return n(a)},action:function(){c.fire("node-toggle-seriesgroup",{name:m(a)})}});return d}
function l(a){return null!==m(a)}function m(a){return a?a.type===b.NodeType.SERIES?a.name:a.type===b.NodeType.OP?a.owningSeries:null:null}function n(c){var d=null;c?(c.type===b.NodeType.SERIES?d=c:c.parentNode&&c.parentNode.type===b.NodeType.SERIES&&(d=c.parentNode),c=d):c=null;return a.graph.getGroupSeriesNodeButtonString(null!==c?a.graph.SeriesGroupingType.GROUP:a.graph.SeriesGroupingType.UNGROUP)}function q(a,c,d){var e=a.node(),f=e.getComputedTextLength(),g=e.textContent,h=null;switch(c){case b.NodeType.META:d&&
!d.expanded&&(h=b.layout.PARAMS.nodeSize.meta.maxLabelWidth);break;case b.NodeType.OP:h=b.layout.PARAMS.nodeSize.op.maxLabelWidth;break;case -1:h=b.layout.PARAMS.annotations.maxLabelWidth}if(!(null===h||f<=h)){for(f=1;e.getSubStringLength(0,f)<h;)f++;c=e.textContent.substr(0,f);do c=c.substr(0,c.length-1),e.textContent=c+"...",f=e.getComputedTextLength();while(f>h&&0<c.length);return a.append("title").text(g)}}function p(a,b,d,e){c.selectChild(a,"text",c.Class.Node.LABEL).transition().attr("x",b).attr("y",
d+e)}function t(a,d,e){a=c.selectOrCreateChild(a,"g",e);switch(d.node.type){case b.NodeType.OP:d=d.node;if(_.isNumber(d.functionInputIndex)||_.isNumber(d.functionOutputIndex)){c.selectOrCreateChild(a,"polygon",c.Class.Node.COLOR_TARGET);break}c.selectOrCreateChild(a,"ellipse",c.Class.Node.COLOR_TARGET);break;case b.NodeType.SERIES:e="annotation";d.coreGraph&&(e=d.node.hasNonControlEdges?"vertical":"horizontal");var f=[c.Class.Node.COLOR_TARGET];d.isFadedOut&&f.push("faded-ellipse");c.selectOrCreateChild(a,
"use",f).attr("xlink:href","#op-series-"+e+"-stamp");c.selectOrCreateChild(a,"rect",c.Class.Node.COLOR_TARGET).attr("rx",d.radius).attr("ry",d.radius);break;case b.NodeType.BRIDGE:c.selectOrCreateChild(a,"rect",c.Class.Node.COLOR_TARGET).attr("rx",d.radius).attr("ry",d.radius);break;case b.NodeType.META:c.selectOrCreateChild(a,"rect",c.Class.Node.COLOR_TARGET).attr("rx",d.radius).attr("ry",d.radius);break;default:throw Error("Unrecognized node type: "+d.node.type);}return a}function r(a){switch(a.node.type){case b.NodeType.OP:return c.Class.OPNODE;
case b.NodeType.META:return c.Class.METANODE;case b.NodeType.SERIES:return c.Class.SERIESNODE;case b.NodeType.BRIDGE:return c.Class.BRIDGENODE;case b.NodeType.ELLIPSIS:return c.Class.ELLIPSISNODE}throw Error("Unrecognized node type: "+a.node.type);}function w(b,c){var d=a.graph.util.escapeQuerySelector(b),e=d3.select("svg#svg defs #linearGradients"),f=e.select("linearGradient#"+d);if(0===f.size()){f=e.append("linearGradient").attr("id",b);f.selectAll("*").remove();var g=0;_.each(c,function(a){var b=
a.color;f.append("stop").attr("offset",g).attr("stop-color",b);f.append("stop").attr("offset",g+a.proportion).attr("stop-color",b);g+=a.proportion})}return"url(#"+d+")"}function v(a,c,d,e){var f=b.render.MetanodeColors;switch(c){case F.STRUCTURE:return d.node.type===b.NodeType.META?(c=d.node.templateId,null===c?f.UNKNOWN:f.STRUCTURE_PALETTE(a(c),e)):d.node.type===b.NodeType.SERIES?e?f.EXPANDED_COLOR:"white":d.node.type===b.NodeType.BRIDGE?d.structural?"#f0e":d.node.inbound?"#0ef":"#fe0":_.isNumber(d.node.functionInputIndex)?
"#795548":_.isNumber(d.node.functionOutputIndex)?"#009688":"white";case F.DEVICE:return null==d.deviceColors?f.UNKNOWN:e?f.EXPANDED_COLOR:w("device-"+d.node.name,d.deviceColors);case F.XLA_CLUSTER:return null==d.xlaClusterColors?f.UNKNOWN:e?f.EXPANDED_COLOR:w("xla-"+d.node.name,d.xlaClusterColors);case F.COMPUTE_TIME:return e?f.EXPANDED_COLOR:d.computeTimeColor||f.UNKNOWN;case F.MEMORY:return e?f.EXPANDED_COLOR:d.memoryColor||f.UNKNOWN;case F.OP_COMPATIBILITY:return null==d.compatibilityColors?f.UNKNOWN:
e?f.EXPANDED_COLOR:w("op-compat-"+d.node.name,d.compatibilityColors);default:throw Error("Unknown case to color nodes by");}}function y(a,b,d,e){e=e||c.Class.Node.SHAPE;var f=d.isNodeSelected(b.node.name),g=b.isInExtract||b.isOutExtract||b.isLibraryFunction,h=b.expanded&&e!==c.Class.Annotation.NODE,l=b.isFadedOut;a.classed("highlighted",d.isNodeHighlighted(b.node.name));a.classed("selected",f);a.classed("extract",g);a.classed("expanded",h);a.classed("faded",l);a=a.select("."+e+" ."+c.Class.Node.COLOR_TARGET);
b=v(d.templateIndex,F[d.colorBy.toUpperCase()],b,h);a.style("fill",b);a.style("stroke",f?null:x(b))}function x(a){return"url"===a.substring(0,3)?b.render.MetanodeColors.GRADIENT_OUTLINE:d3.rgb(a).darker().toString()}function A(b,c){var d=[];b=c.getNodeByName(b);if(b instanceof a.graph.OpNodeImpl)return[b].concat(b.inEmbeddings);b=b.metagraph.nodes();_.each(b,function(a){d=d.concat(A(a,c))});return d}function B(c,d,e){if(e[d.name])return e;e[d.name]=!0;var f=d.inputs,g=D(c,d);d3.select('.node[data-name\x3d"'+
g.name+'"]').classed("input-highlight",!0);var h={};_.each(f,function(d){d=c.getNodeByName(d.name);if(void 0!==d){d instanceof b.MetanodeImpl&&(d=a.graph.getStrictName(d.name),d=c.getNodeByName(d));var e=D(c,d),f=h[e.name];f?f.opNodes.push(d):h[e.name]={visibleParent:e,opNodes:[d]}}});var l={},m=[g];l[g.name]={traced:!1,index:0,connectionEndpoints:[]};d=g;for(f=1;d.name!==a.graph.ROOT_NAME;f++)d=d.parentNode,l[d.name]={traced:!1,index:f,connectionEndpoints:[]},m[f]=d;_.forOwn(h,function(a){var b=
a.visibleParent;_.each(a.opNodes,function(a){e=B(c,a,e)});b.name!==g.name&&H(b,l,m)});return e}function H(a,b,c){for(var d=a,e=[];!b[d.name];)a.name!==d.name&&e.push([a,d]),a=d,d=d.parentNode;b=b[d.name].index;var f=c[Math.max(b-1,0)].name;d=a.name;d3.selectAll('[data-edge\x3d"'+a.name+"--"+f+'"]').classed("input-edge-highlight",!0);_.each(e,function(a){d3.selectAll('[data-edge\x3d"'+a[0].name+"--"+f+("~~"+a[1].name+'~~OUT"]')).classed("input-edge-highlight",!0)});for(a=1;a<b;a++)d3.selectAll('[data-edge\x3d"'+
d+"~~"+c[a].name+("~~IN--"+c[a-1].name+'"]')).classed("input-edge-highlight",!0)}function E(a,b){var c={};_.each(b,function(b){b=a.getNodeByName(b);b=D(a,b);c[b.name]=b});return c}function I(b){_.forOwn(b,function(b){for(;b.name!==a.graph.ROOT_NAME;){var c=d3.select('.node[data-name\x3d"'+b.name+'"]');!c.nodes().length||c.classed("input-highlight")||c.classed("selected")||c.classed("op")||c.classed("input-parent",!0);b=b.parentNode}})}function D(a,c){for(var d=!1,e=c;!d;)if(c=e,e=c.parentNode,void 0===
e)d=!0;else{var f=a.getRenderNodeByName(e.name);f&&(f.expanded||e instanceof b.OpNodeImpl)&&(d=!0)}return c}d.buildGroup=function(a,d,h){a=c.selectOrCreateChild(a,"g",c.Class.Node.CONTAINER).selectAll(function(){return this.childNodes}).data(d,function(a){return a.node.name+":"+a.node.type});a.enter().append("g").attr("data-name",function(a){return a.node.name}).each(function(a){var b=d3.select(this);h.addNodeGroup(a.node.name,b)}).merge(a).attr("class",function(a){return c.Class.Node.GROUP+" "+r(a)}).each(function(a){var d=
d3.select(this),l=c.selectOrCreateChild(d,"g",c.Class.Annotation.INBOX);c.annotation.buildGroup(l,a.inAnnotations,a,h);l=c.selectOrCreateChild(d,"g",c.Class.Annotation.OUTBOX);c.annotation.buildGroup(l,a.outAnnotations,a,h);l=t(d,a,c.Class.Node.SHAPE);a.node.isGroupNode&&f(l,a,h);g(l,a,h);a.node.isGroupNode&&(a.expanded?c.buildGroup(d,a,h,c.Class.Subscene.GROUP):c.selectChild(d,"g",c.Class.Subscene.GROUP).remove());var m=a.displayName,n=a.node.type===b.NodeType.META&&!a.expanded;l=c.selectOrCreateChild(d,
"text",c.Class.Node.LABEL);var r=l.node();r.parentNode.appendChild(r);l.attr("dy",".35em").attr("text-anchor","middle");n&&(m.length>h.maxMetanodeLabelLength&&(m=m.substr(0,h.maxMetanodeLabelLength-2)+"..."),C||(C=d3.scaleLinear().domain([h.maxMetanodeLabelLengthLargeFont,h.maxMetanodeLabelLength]).range([h.maxMetanodeLabelLengthFontSize,h.minMetanodeLabelLengthFontSize]).clamp(!0)),l.attr("font-size",C(m.length)+"px"));m=l.text(m);q(m,a.node.type,a);g(l,a,h,a.node.type===b.NodeType.META);y(d,a,h);
m=c.selectChild(d,"g",c.Class.Node.SHAPE);l=b.layout.computeCXPositionOfNodeShape(a);switch(a.node.type){case b.NodeType.OP:n=a.node;_.isNumber(n.functionInputIndex)||_.isNumber(n.functionOutputIndex)?(m=c.selectChild(m,"polygon"),c.positionTriangle(m,a.x,a.y,a.coreBox.width,a.coreBox.height)):(m=c.selectChild(m,"ellipse"),c.positionEllipse(m,l,a.y,a.coreBox.width,a.coreBox.height));p(d,l,a.y,a.labelOffset);break;case b.NodeType.META:m=m.selectAll("rect");a.expanded?(c.positionRect(m,a.x,a.y,a.width,
a.height),e(d,a),p(d,l,a.y,-a.height/2+a.labelHeight/2)):(c.positionRect(m,l,a.y,a.coreBox.width,a.coreBox.height),p(d,l,a.y,0));break;case b.NodeType.SERIES:m=c.selectChild(m,"use");a.expanded?(c.positionRect(m,a.x,a.y,a.width,a.height),e(d,a),p(d,l,a.y,-a.height/2+a.labelHeight/2)):(c.positionRect(m,l,a.y,a.coreBox.width,a.coreBox.height),p(d,l,a.y,a.labelOffset));break;case b.NodeType.BRIDGE:m=c.selectChild(m,"rect");c.positionRect(m,a.x,a.y,a.width,a.height);break;default:throw Error("Unrecognized node type: "+
a.node.type);}});a.exit().each(function(a){h.removeNodeGroup(a.node.name);var b=d3.select(this);0<a.inAnnotations.list.length&&b.select("."+c.Class.Annotation.INBOX).selectAll("."+c.Class.Annotation.GROUP).each(function(b){h.removeAnnotationGroup(b,a)});0<a.outAnnotations.list.length&&b.select("."+c.Class.Annotation.OUTBOX).selectAll("."+c.Class.Annotation.GROUP).each(function(b){h.removeAnnotationGroup(b,a)})}).remove()};d.getContextMenu=h;d.canBeInSeries=l;d.getSeriesName=m;d.getGroupSettingLabel=
n;d.enforceLabelWidth=q;var C=null;d.buildShape=t;d.nodeClass=r;var F;(function(a){a[a.STRUCTURE=0]="STRUCTURE";a[a.DEVICE=1]="DEVICE";a[a.XLA_CLUSTER=2]="XLA_CLUSTER";a[a.COMPUTE_TIME=3]="COMPUTE_TIME";a[a.MEMORY=4]="MEMORY";a[a.OP_COMPATIBILITY=5]="OP_COMPATIBILITY"})(F=d.ColorBy||(d.ColorBy={}));d.getFillForNode=v;d.stylize=y;d.getStrokeForFill=x;d.traceInputs=function(a){d3.selectAll(".input-highlight").classed("input-highlight",!1);d3.selectAll(".non-input").classed("non-input",!1);d3.selectAll(".input-parent").classed("input-parent",
!1);d3.selectAll(".input-child").classed("input-child",!1);d3.selectAll(".input-edge-highlight").classed("input-edge-highlight",!1);d3.selectAll(".non-input-edge-highlight").classed("non-input-edge-highlight",!1);d3.selectAll(".input-highlight-selected").classed("input-highlight-selected",!1);var b=d3.select("g.node.selected,g.op.selected"),c=void 0;if(a&&a.traceInputs&&b.nodes().length){c=b.nodes()[0];b=c.getAttribute("data-name");b=A(b,a);var d={};_.each(b,function(b){d=B(a,b,d)});d3.selectAll("g.node.selected,g.op.selected").classed("input-highlight",
!1).classed("input-highlight-selected",!0);b=Object.keys(d);b=E(a,b);I(b);d3.selectAll("g.node:not(.selected):not(.input-highlight):not(.input-parent):not(.input-children)").classed("non-input",!0).each(function(a){d3.selectAll('[data-name\x3d"'+a.node.name+'"]').classed("non-input",!0)});d3.selectAll("g.edge:not(.input-edge-highlight)").classed("non-input-edge-highlight",!0)}};d._getAllContainedOpNodes=A;d.traceAllInputsOfOpNode=B;d.getVisibleParent=D})(c.node||(c.node={}))})(b.scene||(b.scene={}))})(a.graph||
(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/scene.js
(function(a){(function(b){(function(c){function d(a,b,c,d){var f=e(a,b,c);if(!f.empty())return f;b=document.createElementNS("http://www.w3.org/2000/svg",b);if(c instanceof Array)for(f=0;f<c.length;f++)b.classList.add(c[f]);else b.classList.add(c);d?a.node().insertBefore(b,d):a.node().appendChild(b);return d3.select(b).datum(a.datum())}function e(a,b,c){a=a.node().childNodes;for(var d=0;d<a.length;d++){var e=a[d];if(e.tagName===b)if(c instanceof Array){for(var f=!0,g=0;g<c.length;g++)f=f&&e.classList.contains(c[g]);
if(f)return d3.select(e)}else if(!c||e.classList.contains(c))return d3.select(e)}return d3.select(null)}function f(a,d){var f=d.node.type===b.NodeType.SERIES?0:b.layout.PARAMS.subscene.meta.labelHeight;g(e(a,"g",c.Class.Scene.CORE),0,f);var h=0<d.isolatedInExtract.length,l=0<d.isolatedOutExtract.length,m=0<d.libraryFunctionsExtract.length,n=b.layout.PARAMS.subscene.meta.extractXOffset,v=0;h&&(v+=d.outExtractBox.width);l&&(v+=d.outExtractBox.width);h&&(h=d.coreBox.width,h=v<b.layout.MIN_AUX_WIDTH?
h-b.layout.MIN_AUX_WIDTH+d.inExtractBox.width/2:h-d.inExtractBox.width/2-d.outExtractBox.width-(l?n:0),h=h-d.libraryFunctionsBox.width-(m?n:0),g(e(a,"g",c.Class.Scene.INEXTRACT),h,f));l&&(l=d.coreBox.width,l=v<b.layout.MIN_AUX_WIDTH?l-b.layout.MIN_AUX_WIDTH+d.outExtractBox.width/2:l-d.outExtractBox.width/2,l=l-d.libraryFunctionsBox.width-(m?n:0),g(e(a,"g",c.Class.Scene.OUTEXTRACT),l,f));m&&(d=d.coreBox.width-d.libraryFunctionsBox.width/2,g(e(a,"g",c.Class.Scene.FUNCTION_LIBRARY),d,f))}function g(a,
b,c){null!=a.attr("transform")&&(a=a.transition("position"));a.attr("transform","translate("+b+","+c+")")}function h(a,b){return b?a.toFixed(0):1<=Math.abs(a)?a.toFixed(1):a.toExponential(1)}function l(b,d,e,f,g,l,w,v){void 0===g&&(g=60);void 0===l&&(l=10);void 0===w&&(w=0);d3.select(b.parentNode).selectAll(".health-pill").remove();if(d){var m=d.value,n=m.slice(2,8),q=n[0],p=n[1],t=n[5],r=m[1],I=m[8],D=m[9],C=m[10],F=Math.sqrt(m[11]);null==g&&(g=60);null==l&&(l=10);null==w&&(w=0);null!=e&&e.node.type===
a.graph.NodeType.OP&&(g/=2,l/=2);m=document.createElementNS(c.SVG_NAMESPACE,"g");m.classList.add("health-pill");var J=document.createElementNS(c.SVG_NAMESPACE,"defs");m.appendChild(J);var K=document.createElementNS(c.SVG_NAMESPACE,"linearGradient"),S="health-pill-gradient-"+f;K.setAttribute("id",S);var O=0,M="0%";for(f=0;f<n.length;f++)if(n[f]){O+=n[f];var P=document.createElementNS(c.SVG_NAMESPACE,"stop");P.setAttribute("offset",M);P.setAttribute("stop-color",c.healthPillEntries[f].background_color);
K.appendChild(P);M=document.createElementNS(c.SVG_NAMESPACE,"stop");P=100*O/r+"%";M.setAttribute("offset",P);M.setAttribute("stop-color",c.healthPillEntries[f].background_color);K.appendChild(M);M=P}J.appendChild(K);f=document.createElementNS(c.SVG_NAMESPACE,"rect");f.setAttribute("fill","url(#"+S+")");f.setAttribute("width",String(g));f.setAttribute("height",String(l));f.setAttribute("y",String(w));m.appendChild(f);f=document.createElementNS(c.SVG_NAMESPACE,"title");J="Device: "+d.device_name+"\n";
J+="dtype: "+d.dtype+"\n";K="(scalar)";0<d.shape.length&&(K="("+d.shape.join(",")+")");J=J+("\nshape: "+K+"\n\n")+("#(elements): "+r+"\n");d=[];for(K=0;K<n.length;K++)0<n[K]&&d.push("#("+c.healthPillEntries[K].label+"): "+n[K]);J+=d.join(", ")+"\n\n";D>=I&&(J=J+("min: "+I+", max: "+D+"\n")+("mean: "+C+", stddev: "+F));f.textContent=J;m.appendChild(f);C=!1;if(null!=e&&(F=e.x-g/2,l=e.y-l-e.height/2-2,0>e.labelOffset&&(l+=e.labelOffset),m.setAttribute("transform","translate("+F+", "+l+")"),(n[2]||n[3]||
n[4])&&(e=e.node.attr)&&e.length))for(f=0;f<e.length;f++)if("T"===e[f].key){C=(e=e[f].value.type)&&/^DT_(BOOL|INT|UINT)/.test(e);break}e=document.createElementNS(c.SVG_NAMESPACE,"text");if(Number.isFinite(I)&&Number.isFinite(D)){if(I=h(I,C),D=h(D,C),e.textContent=1<r?I+" ~ "+D:I,0<q||0<p||0<t)e.textContent+=" (",r=[],0<q&&r.push("NaN\u00d7"+q),0<p&&r.push("-\u221e\u00d7"+p),0<t&&r.push("+\u221e\u00d7"+t),e.textContent+=r.join("; ")+")"}else e.textContent="(No finite elements)";e.classList.add("health-pill-stats");
null==v&&(v=g/2);e.setAttribute("x",String(v));e.setAttribute("y",String(w-2));m.appendChild(e);Polymer.dom(b.parentNode).appendChild(m)}}c.SVG_NAMESPACE="http://www.w3.org/2000/svg";c.Class={Node:{CONTAINER:"nodes",GROUP:"node",SHAPE:"nodeshape",COLOR_TARGET:"nodecolortarget",LABEL:"nodelabel",BUTTON_CONTAINER:"buttoncontainer",BUTTON_CIRCLE:"buttoncircle",EXPAND_BUTTON:"expandbutton",COLLAPSE_BUTTON:"collapsebutton"},Edge:{CONTAINER:"edges",GROUP:"edge",LINE:"edgeline",REFERENCE_EDGE:"referenceedge",
REF_LINE:"refline",SELECTABLE:"selectableedge",SELECTED:"selectededge",STRUCTURAL:"structural"},Annotation:{OUTBOX:"out-annotations",INBOX:"in-annotations",GROUP:"annotation",NODE:"annotation-node",EDGE:"annotation-edge",CONTROL_EDGE:"annotation-control-edge",LABEL:"annotation-label",ELLIPSIS:"annotation-ellipsis"},Scene:{GROUP:"scene",CORE:"core",FUNCTION_LIBRARY:"function-library",INEXTRACT:"in-extract",OUTEXTRACT:"out-extract"},Subscene:{GROUP:"subscene"},OPNODE:"op",METANODE:"meta",SERIESNODE:"series",
BRIDGENODE:"bridge",ELLIPSISNODE:"ellipsis"};c.healthPillEntries=[{background_color:"#CC2F2C",label:"NaN"},{background_color:"#FF8D00",label:"-\u221e"},{background_color:"#EAEAEA",label:"-"},{background_color:"#A5A5A5",label:"0"},{background_color:"#262626",label:"+"},{background_color:"#003ED4",label:"+\u221e"}];c.fit=function(a,c,d,e){var f=a.getBoundingClientRect(),g=null;try{if(g=c.getBBox(),0===g.width)return}catch(w){return}c=b.layout.PARAMS.graph;f=d3.zoomIdentity.scale(.9*Math.min(f.width/
g.width,f.height/g.height,2)).translate(c.padding.paddingLeft,c.padding.paddingTop);d3.select(a).transition().duration(500).call(d.transform,f).on("end.fitted",function(){d.on("end.fitted",null);e()})};c.panToNode=function(a,b,d,e){a=d3.select('[data-name\x3d"'+a+'"].'+c.Class.Node.GROUP).node();if(!a)return!1;var f=a.getBBox(),g=a.getScreenCTM();a=b.createSVGPoint();d=b.createSVGPoint();a.x=f.x;a.y=f.y;d.x=f.x+f.width;d.y=f.y+f.height;a=a.matrixTransform(g);d=d.matrixTransform(g);g=b.getBoundingClientRect();
f=g.top+g.height-150;return a.x>g.left&&d.x<g.left+g.width-320&&a.y>g.top&&d.y<f?!1:(f=g.left+g.width/2-(a.x+d.x)/2,a=g.top+g.height/2-(a.y+d.y)/2,d=d3.zoomTransform(b),d3.select(b).transition().duration(500).call(e.translateBy,f/d.k,a/d.k),!0)};c.selectOrCreateChild=d;c.selectChild=e;c.buildGroup=function(a,g,h,l){l=l||c.Class.Scene.GROUP;var m=e(a,"g",l).empty();a=d(a,"g",l);l=d(a,"g",c.Class.Scene.CORE);var n=_.reduce(g.coreGraph.nodes(),function(a,b){b=g.coreGraph.node(b);b.excluded||a.push(b);
return a},[]);g.node.type===b.NodeType.SERIES&&n.reverse();c.edge.buildGroup(l,g.coreGraph,h);c.node.buildGroup(l,n,h);0<g.isolatedInExtract.length?(l=d(a,"g",c.Class.Scene.INEXTRACT),c.node.buildGroup(l,g.isolatedInExtract,h)):e(a,"g",c.Class.Scene.INEXTRACT).remove();0<g.isolatedOutExtract.length?(l=d(a,"g",c.Class.Scene.OUTEXTRACT),c.node.buildGroup(l,g.isolatedOutExtract,h)):e(a,"g",c.Class.Scene.OUTEXTRACT).remove();0<g.libraryFunctionsExtract.length?(l=d(a,"g",c.Class.Scene.FUNCTION_LIBRARY),
c.node.buildGroup(l,g.libraryFunctionsExtract,h)):e(a,"g",c.Class.Scene.FUNCTION_LIBRARY).remove();f(a,g);m&&a.attr("opacity",0).transition().attr("opacity",1)};c.addGraphClickListener=function(a,b){d3.select(a).on("click",function(){b.fire("graph-select")})};c.translate=g;c.positionRect=function(a,b,c,d,e){a.transition().attr("x",b-d/2).attr("y",c-e/2).attr("width",d).attr("height",e)};c.positionTriangle=function(a,b,c,d,e){e/=2;d/=2;b=[[b,c-e],[b+d,c+e],[b-d,c+e]];a.transition().attr("points",b.map(function(a){return a.join(",")}).join(" "))};
c.positionButton=function(a,c){var d=b.layout.computeCXPositionOfNodeShape(c)+(c.expanded?c.width:c.coreBox.width)/2-6,e=c.y-(c.expanded?c.height:c.coreBox.height)/2+6;c.node.type!==b.NodeType.SERIES||c.expanded||(d+=10,e-=2);c="translate("+d+","+e+")";a.selectAll("path").transition().attr("transform",c);a.select("circle").transition().attr({cx:d,cy:e,r:b.layout.PARAMS.nodeSize.meta.expandButtonRadius})};c.positionEllipse=function(a,b,c,d,e){a.transition().attr("cx",b).attr("cy",c).attr("rx",d/2).attr("ry",
e/2)};c.humanizeHealthPillStat=h;c.addHealthPill=l;c.addHealthPills=function(a,b,c){if(b){var d=1;d3.select(a).selectAll("g.nodeshape").each(function(a){var e=b[a.node.name];l(this,e?e[c]:null,a,d++)})}}})(b.scene||(b.scene={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/template.js
(function(a){(function(b){(function(c){function d(a){var b=_.map({depth:a.depth,"|V|":a.metagraph.nodes().length,"|E|":a.metagraph.edges().length},function(a,b){return b+"\x3d"+a}).join(" ");a=_.map(a.opHistogram,function(a,b){return b+"\x3d"+a}).join(",");return b+" [ops] "+a}function e(a){var c=_(a.getNodeMap()).reduce(function(a,c,e){if(c.type!==b.NodeType.META)return a;e=e.split("/").length-1;var f=d(c),g=a[f]||{nodes:[],level:e};a[f]=g;g.nodes.push(c);g.level>e&&(g.level=e);return a},{});return Object.keys(c).map(function(a){return[a,
c[a]]}).filter(function(a){a=a[1].nodes;if(1<a.length)return!0;a=a[0];return a.type===b.NodeType.META&&a.associatedFunction}).sort(function(a){return a[1].nodes[0].depth})}function f(a,b){return _.reduce(a,function(a,c){var d=c[0],e=[];c[1].nodes.forEach(function(a){for(var c=0;c<e.length;c++)if(!b||h(e[c].metanode.metagraph,a.metagraph)){a.templateId=e[c].metanode.templateId;e[c].members.push(a.name);return}a.templateId=d+"["+e.length+"]";e.push({metanode:a,members:[a.name]})});e.forEach(function(b){a[b.metanode.templateId]=
{level:c[1].level,nodes:b.members}});return a},{})}function g(a,b,c){return _.sortBy(a,[function(a){return b.node(a).op},function(a){return b.node(a).templateId},function(a){return b.neighbors(a).length},function(a){return b.predecessors(a).length},function(a){return b.successors(a).length},function(a){return a.substr(c.length)}])}function h(b,c){function d(a,b){var c=a.substr(e.length),d=b.substr(f.length);if(h[c]^m[d])return console.warn("different visit pattern","["+e+"]",c,"["+f+"]",d),!0;h[c]||
(h[c]=m[d]=!0,n.push({n1:a,n2:b}));return!1}if(!a.graph.hasSimilarDegreeSequence(b,c))return!1;var e=b.graph().name,f=c.graph().name,h={},m={},n=[],y=b.sources(),x=c.sources();if(y.length!==x.length)return console.log("different source length"),!1;y=g(y,b,e);x=g(x,c,f);for(var A=0;A<y.length;A++){var B=d(y[A],x[A]);if(B)return!1}for(;0<n.length;){B=n.pop();if(!l(b.node(B.n1),c.node(B.n2)))return!1;y=b.successors(B.n1);x=c.successors(B.n2);if(y.length!==x.length)return console.log("# of successors mismatch",
y,x),!1;y=g(y,b,e);x=g(x,c,f);for(A=0;A<y.length;A++)if(B=d(y[A],x[A]))return!1}return!0}function l(a,c){if(a.type===b.NodeType.META)return a.templateId&&c.templateId&&a.templateId===c.templateId;if(a.type===b.NodeType.OP&&c.type===b.NodeType.OP)return a.op===c.op;if(a.type===b.NodeType.SERIES&&c.type===b.NodeType.SERIES){var d=a.metagraph.nodeCount();return d===c.metagraph.nodeCount()&&(0===d||a.metagraph.node(a.metagraph.nodes()[0]).op===c.metagraph.node(c.metagraph.nodes()[0]).op)}return!1}c.detect=
function(a,b){a=e(a);var c=f(a,b);return Object.keys(c).sort(function(a){return c[a].level}).reduce(function(a,b){a[b]=c[b];return a},{})}})(b.template||(b.template={}))})(a.graph||(a.graph={}))})(tf||(tf={}));
</script>
<script>//~~WEBPATH~~/tf-graph-common/util.js
(function(a){(function(b){(function(b){b.time=function(a,b){var c=Date.now();b=b();console.log(a,":",Date.now()-c,"ms");return b};b.getTracker=function(a){return{setMessage:function(b){a.set("progress",{value:a.progress.value,msg:b})},updateProgress:function(b){a.set("progress",{value:a.progress.value+b,msg:a.progress.msg})},reportError:function(b,c){console.error(c.stack);a.set("progress",{value:a.progress.value,msg:b,error:!0})}}};b.getSubtaskTracker=function(a,b,c){return{setMessage:function(b){a.setMessage(c+
": "+b)},updateProgress:function(c){a.updateProgress(c*b/100)},reportError:function(b,d){a.reportError(c+": "+b,d)}}};b.runTask=function(b,c,f,g){g.setMessage(b);try{var d=a.graph.util.time(b,f);g.updateProgress(c);return d}catch(l){g.reportError("Failed "+b,l)}};b.runAsyncTask=function(b,c,f,g){return new Promise(function(d){g.setMessage(b);setTimeout(function(){try{var e=a.graph.util.time(b,f);g.updateProgress(c);d(e)}catch(m){g.reportError("Failed "+b,m)}},20)})};b.runAsyncPromiseTask=function(a,
b){return new Promise(function(c,d){function e(a){b.reportError("Failed Parsing metadata.pbtxt",a);d(a)}b.setMessage("Parsing metadata.pbtxt");setTimeout(function(){try{var d=Date.now();a().then(function(a){console.log("Parsing metadata.pbtxt",":",Date.now()-d,"ms");b.updateProgress(60);c(a)}).catch(e)}catch(m){e(m)}},20)})};b.escapeQuerySelector=function(a){return a.replace(/([:.\[\],/\\\(\)])/g,"\\$1")};b.MEMORY_UNITS=[{symbol:"B"},{symbol:"KB",numUnits:1024},{symbol:"MB",numUnits:1024},{symbol:"GB",
numUnits:1024},{symbol:"TB",numUnits:1024},{symbol:"PB",numUnits:1024}];b.TIME_UNITS=[{symbol:"\u00b5s"},{symbol:"ms",numUnits:1E3},{symbol:"s",numUnits:1E3},{symbol:"min",numUnits:60},{symbol:"hr",numUnits:60},{symbol:"days",numUnits:24}];b.convertUnitsToHumanReadable=function(b,c,f){f=null==f?0:f;return f+1<c.length&&b>=c[f+1].numUnits?a.graph.util.convertUnitsToHumanReadable(b/c[f+1].numUnits,c,f+1):b.toPrecision(3)-0+" "+c[f].symbol};b.hasDisplayableNodeStats=function(a){return a&&(0<a.totalBytes||
0<a.getTotalMicros()||a.outputSize)?!0:!1};b.removeCommonPrefix=function(a){function b(){c++;var b=_.map(a,function(a){return a.substring(0,c)});if(b.every(function(a,c){return 0===c?!0:a===b[c-1]})){if(c>=h)return{value:a};d=c}else return"break"}if(2>a.length)return a;for(var c=0,d=0,h=_.min(_.map(a,function(a){return a.length}));;){var l=b();if("object"===typeof l)return l.value;if("break"===l)break}return _.map(a,function(a){return a.substring(d)})};b.getQueryParams=function(a){"?"===a.charAt(0)&&
(a=a.slice(1));a=_.chain(a.split("\x26")).map(function(a){if(a)return a.split("\x3d")}).compact().value();return _.object(a)};b.computeHumanFriendlyTime=function(a){a=+new Date-+new Date(a/1E3);return 3E4>a?"just now":6E4>a?Math.floor(a/1E3)+" seconds ago":12E4>a?"a minute ago":36E5>a?Math.floor(a/6E4)+" minutes ago":1==Math.floor(a/36E5)?"an hour ago":864E5>a?Math.floor(a/36E5)+" hours ago":1728E5>a?"yesterday":Math.floor(a/864E5)+" days ago"}})(b.util||(b.util={}))})(a.graph||(a.graph={}))})(tf||
(tf={}));
</script>






<script>//~~WEBPATH~~/tf-graph-common/minimap.js
(function(a){(function(a){var b=function(){function a(a,b,c,d,l,m){var e=this;this.svg=a;this.labelPadding=m;this.zoomG=b;this.mainZoom=c;this.maxWandH=l;a=d3.select(d);var f=a.select("svg"),g=f.select("rect");this.viewpointCoord={x:0,y:0};b=d3.drag().subject(Object).on("drag",function(){e.viewpointCoord.x=d3.event.x;e.viewpointCoord.y=d3.event.y;e.updateViewpoint()});g.datum(this.viewpointCoord).call(b);f.on("click",function(){if(!d3.event.defaultPrevented){var a=Number(g.attr("width")),b=Number(g.attr("height")),
c=d3.mouse(f.node());e.viewpointCoord.x=c[0]-a/2;e.viewpointCoord.y=c[1]-b/2;e.updateViewpoint()}});this.viewpoint=g.node();this.minimapSvg=f.node();this.minimap=d;this.canvas=a.select("canvas.first").node();this.canvasBuffer=a.select("canvas.second").node();this.downloadCanvas=a.select("canvas.download").node();d3.select(this.downloadCanvas).style("display","none");this.update()}a.prototype.updateViewpoint=function(){d3.select(this.viewpoint).attr("x",this.viewpointCoord.x).attr("y",this.viewpointCoord.y);
var a=-this.viewpointCoord.x*this.scaleMain/this.scaleMinimap,b=-this.viewpointCoord.y*this.scaleMain/this.scaleMinimap;d3.select(this.svg).call(this.mainZoom.transform,d3.zoomIdentity.translate(a,b).scale(this.scaleMain))};a.prototype.update=function(){var a=this,b=null;try{if(b=this.zoomG.getBBox(),0===b.width)return}catch(t){return}var c=d3.select("#graphdownload");this.download=c.node();c.on("click",function(){a.download.href=a.downloadCanvas.toDataURL("image/png")});c=d3.select(this.svg);for(var d=
"",l=0;l<document.styleSheets.length;l++)try{var m=document.styleSheets[l].cssRules||document.styleSheets[l].rules;if(null!=m)for(var n=0;n<m.length;n++)d+=m[n].cssText.replace(/ ?tf-[\w-]+ ?/g,"")+"\n"}catch(t){if("SecurityError"!==t.name)throw t;}m=c.append("style");m.text(d);d=d3.select(this.zoomG);l=d.attr("transform");d.attr("transform",null);b.height+=2*this.labelPadding;b.width+=2*this.labelPadding;c.attr("width",b.width).attr("height",b.height);this.scaleMinimap=this.maxWandH/Math.max(b.width,
b.height);this.minimapSize={width:b.width*this.scaleMinimap,height:b.height*this.scaleMinimap};d3.select(this.minimapSvg).attr(this.minimapSize);d3.select(this.canvasBuffer).attr(this.minimapSize);n=d3.select(this.downloadCanvas);n.style("width",b.width);n.style("height",b.height);n.attr("width",3*b.width);n.attr("height",3*b.height);null!=this.translate&&null!=this.zoom&&requestAnimationFrame(function(){return a.zoom()});var q=(new XMLSerializer).serializeToString(this.svg);m.remove();c.attr("width",
null).attr("height",null);d.attr("transform",l);var p=new Image;p.onload=function(){var b=a.canvasBuffer.getContext("2d");b.clearRect(0,0,a.canvasBuffer.width,a.canvasBuffer.height);b.drawImage(p,0,0,a.minimapSize.width,a.minimapSize.height);requestAnimationFrame(function(){d3.select(a.canvasBuffer).style("display",null);d3.select(a.canvas).style("display","none");var b=[a.canvasBuffer,a.canvas];a.canvas=b[0];a.canvasBuffer=b[1]});b=a.downloadCanvas.getContext("2d");b.clearRect(0,0,a.downloadCanvas.width,
a.downloadCanvas.height);b.drawImage(p,0,0,a.downloadCanvas.width,a.downloadCanvas.height)};p.onerror=function(){p.src=URL.createObjectURL(new Blob([q],{type:"image/svg+xml;charset\x3dutf-8"}))};p.src="data:image/svg+xml;charset\x3dutf-8,"+encodeURIComponent(q)};a.prototype.zoom=function(a){if(null!=this.scaleMinimap){a&&(this.translate=[a.x,a.y],this.scaleMain=a.k);var b=this.svg.getBoundingClientRect(),c=d3.select(this.viewpoint);this.viewpointCoord.x=-this.translate[0]*this.scaleMinimap/this.scaleMain;
this.viewpointCoord.y=-this.translate[1]*this.scaleMinimap/this.scaleMain;a=b.width*this.scaleMinimap/this.scaleMain;b=b.height*this.scaleMinimap/this.scaleMain;c.attr("x",this.viewpointCoord.x).attr("y",this.viewpointCoord.y).attr("width",a).attr("height",b);c=this.minimapSize.width;var d=this.minimapSize.height,e=this.viewpointCoord.x,m=this.viewpointCoord.y;.8>(Math.min(Math.max(0,e+a),c)-Math.min(Math.max(0,e),c))*(Math.min(Math.max(0,m+b),d)-Math.min(Math.max(0,m),d))/(c*d)?this.minimap.classList.remove("hidden"):
this.minimap.classList.add("hidden")}};return a}();a.Minimap=b})(a.scene||(a.scene={}))})(tf||(tf={}));
</script>

<dom-module id="tf-graph-minimap">
<template>

<svg class="style-scope tf-graph-minimap">
  <defs class="style-scope tf-graph-minimap">
    <filter id="minimapDropShadow" x="-20%" y="-20%" width="150%" height="150%" class="style-scope tf-graph-minimap">
      <feOffset result="offOut" in="SourceGraphic" dx="1" dy="1" class="style-scope tf-graph-minimap"></feOffset>
      <feColorMatrix result="matrixOut" in="offOut" type="matrix" values="0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.5 0" class="style-scope tf-graph-minimap"></feColorMatrix>
      <feGaussianBlur result="blurOut" in="matrixOut" stdDeviation="2" class="style-scope tf-graph-minimap"></feGaussianBlur>
      <feBlend in="SourceGraphic" in2="blurOut" mode="normal" class="style-scope tf-graph-minimap"></feBlend>
    </filter>
  </defs>
  <rect class="style-scope tf-graph-minimap"></rect>
</svg>
<canvas class="first style-scope tf-graph-minimap"></canvas>

<canvas class="second style-scope tf-graph-minimap"></canvas>
<canvas class="download style-scope tf-graph-minimap"></canvas>
</template>
<script>//~~WEBPATH~~/tf-graph/tf-graph-minimap.html.js
Polymer({is:"tf-graph-minimap",init:function(a,b,c,d,e){return new tf.scene.Minimap(a,b,c,this,d,e)}});
</script>
</dom-module>



<dom-module id="tf-graph-scene">
<template>

<div class="titleContainer style-scope tf-graph-scene">
  <div id="title" class="title style-scope tf-graph-scene">Main Graph</div>
  <div id="auxTitle" class="auxTitle style-scope tf-graph-scene">Auxiliary Nodes</div>
  <div id="functionLibraryTitle" class="functionLibraryTitle style-scope tf-graph-scene">Functions</div>
</div>
<svg id="svg" class="style-scope tf-graph-scene">
  <defs class="style-scope tf-graph-scene">

    
    <path id="reference-arrowhead-path" d="M 0,0 L 10,5 L 0,10 C 3,7 3,3 0,0" class="style-scope tf-graph-scene"></path>
    <marker class="reference-arrowhead style-scope tf-graph-scene" id="reference-arrowhead-small" viewBox="0 0 10 10" markerWidth="5" markerHeight="5" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#reference-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="reference-arrowhead style-scope tf-graph-scene" id="reference-arrowhead-medium" viewBox="0 0 10 10" markerWidth="13" markerHeight="13" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#reference-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="reference-arrowhead style-scope tf-graph-scene" id="reference-arrowhead-large" viewBox="0 0 10 10" markerWidth="16" markerHeight="16" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#reference-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="reference-arrowhead style-scope tf-graph-scene" id="reference-arrowhead-xlarge" viewBox="0 0 10 10" markerWidth="20" markerHeight="20" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#reference-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>

    
    <path id="dataflow-arrowhead-path" d="M 0,0 L 10,5 L 0,10 C 3,7 3,3 0,0" class="style-scope tf-graph-scene"></path>
    <marker class="dataflow-arrowhead style-scope tf-graph-scene" id="dataflow-arrowhead-small" viewBox="0 0 10 10" markerWidth="5" markerHeight="5" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#dataflow-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="dataflow-arrowhead style-scope tf-graph-scene" id="dataflow-arrowhead-medium" viewBox="0 0 10 10" markerWidth="13" markerHeight="13" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#dataflow-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="dataflow-arrowhead style-scope tf-graph-scene" id="dataflow-arrowhead-large" viewBox="0 0 10 10" markerWidth="16" markerHeight="16" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#dataflow-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="dataflow-arrowhead style-scope tf-graph-scene" id="dataflow-arrowhead-xlarge" viewBox="0 0 10 10" markerWidth="20" markerHeight="20" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#dataflow-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>

    
    <marker id="annotation-arrowhead" markerWidth="5" markerHeight="5" refX="5" refY="2.5" orient="auto" class="style-scope tf-graph-scene">
      <path d="M 0,0 L 5,2.5 L 0,5 L 0,0" class="style-scope tf-graph-scene"></path>
    </marker>
    <marker id="annotation-arrowhead-faded" markerWidth="5" markerHeight="5" refX="5" refY="2.5" orient="auto" class="style-scope tf-graph-scene">
      <path d="M 0,0 L 5,2.5 L 0,5 L 0,0" class="style-scope tf-graph-scene"></path>
    </marker>
    <marker id="ref-annotation-arrowhead" markerWidth="5" markerHeight="5" refX="0" refY="2.5" orient="auto" class="style-scope tf-graph-scene">
      <path d="M 5,0 L 0,2.5 L 5,5 L 5,0" class="style-scope tf-graph-scene"></path>
    </marker>
    <marker id="ref-annotation-arrowhead-faded" markerWidth="5" markerHeight="5" refX="0" refY="2.5" orient="auto" class="style-scope tf-graph-scene">
      <path d="M 5,0 L 0,2.5 L 5,5 L 5,0" class="style-scope tf-graph-scene"></path>
    </marker>
    
    <ellipse id="op-node-stamp" rx="7.5" ry="3" stroke="inherit" fill="inherit" class="style-scope tf-graph-scene"></ellipse>
    
    <ellipse id="op-node-annotation-stamp" rx="5" ry="2" stroke="inherit" fill="inherit" class="style-scope tf-graph-scene"></ellipse>
    
    <g id="op-series-vertical-stamp" class="style-scope tf-graph-scene">
      <use xlink:href="#op-node-stamp" x="8" y="9" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-stamp" x="8" y="6" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-stamp" x="8" y="3" class="style-scope tf-graph-scene"></use>
    </g>
    
    <g id="op-series-horizontal-stamp" class="style-scope tf-graph-scene">
      <use xlink:href="#op-node-stamp" x="16" y="4" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-stamp" x="12" y="4" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-stamp" x="8" y="4" class="style-scope tf-graph-scene"></use>
    </g>
    
    <g id="op-series-annotation-stamp" class="style-scope tf-graph-scene">
      <use xlink:href="#op-node-annotation-stamp" x="9" y="2" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-annotation-stamp" x="7" y="2" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-annotation-stamp" x="5" y="2" class="style-scope tf-graph-scene"></use>
    </g>
    <svg id="summary-icon" fill="#848484" height="12" viewBox="0 0 24 24" width="12" class="style-scope tf-graph-scene">
      <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" class="style-scope tf-graph-scene"></path>
    </svg>
    
    <g id="linearGradients" class="style-scope tf-graph-scene"></g>

    
    <pattern id="rectHatch" patternTransform="rotate(45 0 0)" width="5" height="5" patternUnits="userSpaceOnUse" class="style-scope tf-graph-scene">
      <line x1="0" y1="0" x2="0" y2="5" style="stroke-width: 1" class="style-scope tf-graph-scene"></line>
    </pattern>
    <pattern id="ellipseHatch" patternTransform="rotate(45 0 0)" width="2" height="2" patternUnits="userSpaceOnUse" class="style-scope tf-graph-scene">
      <line x1="0" y1="0" x2="0" y2="2" style="stroke-width: 1" class="style-scope tf-graph-scene"></line>
    </pattern>

    
    <filter id="health-pill-shadow" x="-40%" y="-40%" width="180%" height="180%" class="style-scope tf-graph-scene">
      <feGaussianBlur in="SourceAlpha" stdDeviation="0.8" class="style-scope tf-graph-scene"></feGaussianBlur>
      <feOffset dx="0" dy="0" result="offsetblur" class="style-scope tf-graph-scene"></feOffset>
      <feFlood flood-color="#000000" class="style-scope tf-graph-scene"></feFlood>
      <feComposite in2="offsetblur" operator="in" class="style-scope tf-graph-scene"></feComposite>
      <feMerge class="style-scope tf-graph-scene">
        <feMergeNode class="style-scope tf-graph-scene"></feMergeNode>
        <feMergeNode in="SourceGraphic" class="style-scope tf-graph-scene"></feMergeNode>
      </feMerge>
    </filter>
  </defs>
  
  <rect fill="white" width="10000" height="10000" class="style-scope tf-graph-scene"></rect>
  <g id="root" class="style-scope tf-graph-scene"></g>
</svg>
<tf-graph-minimap id="minimap" class="style-scope tf-graph-scene"></tf-graph-minimap>
</template>
<script>//~~WEBPATH~~/tf-graph/tf-graph-scene.html.js
Polymer({is:"tf-graph-scene",properties:{renderHierarchy:Object,name:String,colorBy:String,_hasRenderHierarchyBeenFitOnce:Boolean,_isAttached:Boolean,_zoom:Object,highlightedNode:{type:String,observer:"_highlightedNodeChanged"},selectedNode:{type:String,observer:"_selectedNodeChanged"},handleEdgeSelected:Object,_zoomed:{type:Boolean,observer:"_onZoomChanged",value:!1},_zoomStartCoords:{type:Object,value:null},_zoomTransform:{type:Object,value:null},_maxZoomDistanceForClick:{type:Number,value:20},
templateIndex:Function,minimap:Object,_nodeGroupIndex:{type:Object,value:function(){return{}}},_annotationGroupIndex:{type:Object,value:function(){return{}}},_edgeGroupIndex:{type:Object,value:function(){return{}}},maxMetanodeLabelLengthFontSize:{type:Number,value:9},minMetanodeLabelLengthFontSize:{type:Number,value:6},maxMetanodeLabelLengthLargeFont:{type:Number,value:11},maxMetanodeLabelLength:{type:Number,value:18},progress:Object,nodeContextMenuItems:Array,nodeNamesToHealthPills:Object,healthPillStepIndex:Number},
observers:["_colorByChanged(colorBy)","_renderHierarchyChanged(renderHierarchy)","_animateAndFit(_isAttached, renderHierarchy)","_updateHealthPills(nodeNamesToHealthPills, healthPillStepIndex)"],getNode:function(a){return this.renderHierarchy.getRenderNodeByName(a)},isNodeExpanded:function(a){return a.expanded},setNodeExpanded:function(){this._build(this.renderHierarchy);this._updateLabels(!this._zoomed)},panToNode:function(a){tf.graph.scene.panToNode(a,this.$.svg,this.$.root,this._zoom)&&(this._zoomed=
!0)},_resetState:function(){this._nodeGroupIndex={};this._annotationGroupIndex={};this._edgeGroupIndex={};this._updateLabels(!1);d3.select(this.$.svg).select("#root").selectAll("*").remove();d3.select(this.$.svg).select("defs #linearGradients").selectAll("*").remove()},_build:function(a){this.templateIndex=a.hierarchy.getTemplateIndex();tf.graph.util.time("tf-graph-scene (layout):",function(){tf.graph.layout.layoutScene(a.root,this)}.bind(this));tf.graph.util.time("tf-graph-scene (build scene):",
function(){tf.graph.scene.buildGroup(d3.select(this.$.root),a.root,this);tf.graph.scene.addGraphClickListener(this.$.svg,this);tf.graph.scene.node.traceInputs(a)}.bind(this));setTimeout(function(){this._updateHealthPills(this.nodeNamesToHealthPills,this.healthPillStepIndex);this.minimap.update()}.bind(this),tf.graph.layout.PARAMS.animation.duration)},ready:function(){this._zoom=d3.zoom().on("end",function(){this._zoomStartCoords&&(Math.sqrt(Math.pow(this._zoomStartCoords.x-this._zoomTransform.x,2)+
Math.pow(this._zoomStartCoords.y-this._zoomTransform.y,2))<this._maxZoomDistanceForClick?this._fireEnableClick():setTimeout(this._fireEnableClick.bind(this),50));this._zoomStartCoords=null}.bind(this)).on("zoom",function(){this._zoomTransform=d3.event.transform;this._zoomStartCoords||(this._zoomStartCoords=this._zoomTransform,this.fire("disable-click"));this._zoomed=!0;d3.select(this.$.root).attr("transform",d3.event.transform);this.minimap.zoom(d3.event.transform)}.bind(this));d3.select(this.$.svg).call(this._zoom).on("dblclick.zoom",
null);d3.select(window).on("resize",function(){this.minimap.zoom()}.bind(this));this.minimap=this.$.minimap.init(this.$.svg,this.$.root,this._zoom,tf.graph.layout.PARAMS.minimap.size,tf.graph.layout.PARAMS.subscene.meta.labelHeight)},attached:function(){this.set("_isAttached",!0)},detached:function(){this.set("_isAttached",!1)},_renderHierarchyChanged:function(a){this._hasRenderHierarchyBeenFitOnce=!1;this._resetState();this._build(a)},_animateAndFit:function(a){!this._hasRenderHierarchyBeenFitOnce&&
a&&setTimeout(this.fit.bind(this),tf.graph.layout.PARAMS.animation.duration)},_updateLabels:function(a){var b=this.getElementsByClassName("title")[0],c=b.style,d=this.getElementsByClassName("auxTitle")[0],e=d.style,f=this.getElementsByClassName("functionLibraryTitle")[0].style,g=d3.select("."+tf.graph.scene.Class.Scene.GROUP+"\x3e."+tf.graph.scene.Class.Scene.CORE).node();if(a&&g&&this.progress&&100===this.progress.value){a=d3.select("."+tf.graph.scene.Class.Scene.GROUP+"\x3e."+tf.graph.scene.Class.Scene.INEXTRACT).node()||
d3.select("."+tf.graph.scene.Class.Scene.GROUP+"\x3e."+tf.graph.scene.Class.Scene.OUTEXTRACT).node();var h=g.getCTM().e;g=a?a.getCTM().e:null;c.display="inline";c.left=h+"px";null!==g&&g!==h?(e.display="inline",g=Math.max(h+b.getBoundingClientRect().width,g),e.left=g+"px"):e.display="none";b=(b=d3.select("."+tf.graph.scene.Class.Scene.GROUP+"\x3e."+tf.graph.scene.Class.Scene.FUNCTION_LIBRARY).node())?b.getCTM().e:null;null!==b&&b!==g?(f.display="inline",b=Math.max(g+d.getBoundingClientRect().width,
b),f.left=b+"px"):f.display="none"}else c.display="none",e.display="none",f.display="none"},_colorByChanged:function(){var a=this;null!=this.renderHierarchy&&(_.each(this._nodeGroupIndex,function(b,c){a._updateNodeState(c)}),this.minimap.update())},fit:function(){this._hasRenderHierarchyBeenFitOnce=!0;tf.graph.scene.fit(this.$.svg,this.$.root,this._zoom,function(){this._zoomed=!1}.bind(this))},isNodeSelected:function(a){return a===this.selectedNode},isNodeHighlighted:function(a){return a===this.highlightedNode},
addAnnotationGroup:function(a,b,c){a=a.node.name;this._annotationGroupIndex[a]=this._annotationGroupIndex[a]||{};this._annotationGroupIndex[a][b.node.name]=c},getAnnotationGroupsIndex:function(a){return this._annotationGroupIndex[a]},removeAnnotationGroup:function(a,b){delete this._annotationGroupIndex[a.node.name][b.node.name]},addNodeGroup:function(a,b){this._nodeGroupIndex[a]=b},getNodeGroup:function(a){return this._nodeGroupIndex[a]},removeNodeGroup:function(a){delete this._nodeGroupIndex[a]},
addEdgeGroup:function(a,b){this._edgeGroupIndex[a]=b},getEdgeGroup:function(a){return this._edgeGroupIndex[a]},_updateHealthPills:function(a,b){tf.graph.scene.addHealthPills(this.$.svg,a,b)},_updateNodeState:function(a){var b=this,c=this.getNode(a),d=this.getNodeGroup(a);d&&tf.graph.scene.node.stylize(d,c,this);c.node.type===tf.graph.NodeType.META&&c.node.associatedFunction&&!c.isLibraryFunction&&(d=d3.select("."+tf.graph.scene.Class.Scene.GROUP+"\x3e."+tf.graph.scene.Class.Scene.FUNCTION_LIBRARY+
' g[data-name\x3d"'+(tf.graph.FUNCTION_LIBRARY_NODE_PREFIX+c.node.associatedFunction)+'"]'),tf.graph.scene.node.stylize(d,c,this));_.each(this.getAnnotationGroupsIndex(a),function(a){tf.graph.scene.node.stylize(a,c,b,tf.graph.scene.Class.Annotation.NODE)})},_selectedNodeChanged:function(a,b){var c=this;if(a!==b&&(b&&this._updateNodeState(b),tf.graph.scene.node.traceInputs(this.renderHierarchy),a)){this.minimap.update();b=this.renderHierarchy.hierarchy.node(a);for(var d=[];null!=b.parentNode&&b.parentNode.name!=
tf.graph.ROOT_NAME;)b=b.parentNode,d.push(b.name);var e;_.forEachRight(d,function(a){c.renderHierarchy.buildSubhierarchy(a);a=c.renderHierarchy.getRenderNodeByName(a);a.node.isGroupNode&&!a.expanded&&(a.expanded=!0,e||(e=a))});e&&(this.setNodeExpanded(e),this._zoomed=!0);a&&this._updateNodeState(a);setTimeout(function(){c.panToNode(a)},tf.graph.layout.PARAMS.animation.duration)}},_highlightedNodeChanged:function(a,b){a!==b&&(a&&this._updateNodeState(a),b&&this._updateNodeState(b))},_onZoomChanged:function(){this._updateLabels(!this._zoomed)},
_fireEnableClick:function(){this.fire("enable-click")}});
</script>
</dom-module>


<dom-module id="tf-graph">
<template>

<div class="container style-scope tf-graph">
  <div class="vertical style-scope tf-graph">
    <template is="dom-if" class="style-scope tf-graph"></template>
    <tf-graph-scene id="scene" class="auto style-scope tf-graph"></tf-graph-scene>
  </div>
</div>
</template>
</dom-module>

<script>//~~WEBPATH~~/tf-graph/tf-graph.html.js
Polymer({is:"tf-graph",properties:{graphHierarchy:{type:Object,notify:!0,observer:"_graphChanged"},basicGraph:Object,stats:Object,devicesForStats:Object,hierarchyParams:Object,progress:{type:Object,notify:!0},title:String,selectedNode:{type:String,notify:!0},selectedEdge:{type:Object,notify:!0},_lastSelectedEdgeGroup:Object,highlightedNode:{type:String,notify:!0},colorBy:String,colorByParams:{type:Object,notify:!0,readOnly:!0},renderHierarchy:{type:Object,readOnly:!0,notify:!0},nodeContextMenuItems:Array,
_renderDepth:{type:Number,value:1},_allowGraphSelect:{type:Boolean,value:!0},nodeNamesToHealthPills:Object,healthPillStepIndex:Number,edgeWidthFunction:{type:Object,value:""},handleNodeSelected:{type:Object,value:""},edgeLabelFunction:{type:Object,value:""},handleEdgeSelected:{type:Object,value:""}},observers:["_statsChanged(stats, devicesForStats)","_buildNewRenderHierarchy(graphHierarchy, edgeWidthFunction, handleNodeSelected, edgeLabelFunction, handleEdgeSelected)","_selectedNodeChanged(selectedNode)",
"_selectedEdgeChanged(selectedEdge)"],panToNode:function(a){this.$$("tf-graph-scene").panToNode(a)},_buildNewRenderHierarchy:function(a){this._buildRenderHierarchy(a)},_statsChanged:function(a,b){this.graphHierarchy&&(a&&b&&(tf.graph.joinStatsInfoWithGraph(this.basicGraph,a,b),tf.graph.hierarchy.joinAndAggregateStats(this.graphHierarchy)),this._buildRenderHierarchy(this.graphHierarchy))},_buildRenderHierarchy:function(a){tf.graph.util.time("new tf.graph.render.Hierarchy",function(){function b(a){return{minValue:a.domain()[0],
maxValue:a.domain()[1],startColor:a.range()[0],endColor:a.range()[1]}}if(a.root.type===tf.graph.NodeType.META){var c=new tf.graph.render.RenderGraphInfo(a,!!this.stats);c.edgeLabelFunction=this.edgeLabelFunction;c.edgeWidthFunction=this.edgeWidthFunction;this._setColorByParams({compute_time:b(c.computeTimeScale),memory:b(c.memoryUsageScale),device:_.map(c.deviceColorMap.domain(),function(a){return{device:a,color:c.deviceColorMap(a)}}),xla_cluster:_.map(c.xlaClusterColorMap.domain(),function(a){return{xla_cluster:a,
color:c.xlaClusterColorMap(a)}})});this._setRenderHierarchy(c);this.async(function(){this.fire("rendered")})}}.bind(this))},_getVisible:function(a){return a?this.renderHierarchy.getNearestVisibleAncestor(a):a},listeners:{"graph-select":"_graphSelected","disable-click":"_disableClick","enable-click":"_enableClick","node-toggle-expand":"_nodeToggleExpand","node-select":"_nodeSelected","node-highlight":"_nodeHighlighted","node-unhighlight":"_nodeUnhighlighted","node-toggle-extract":"_nodeToggleExtract",
"node-toggle-seriesgroup":"_nodeToggleSeriesGroup","edge-select":"_edgeSelected","annotation-select":"_nodeSelected","annotation-highlight":"_nodeHighlighted","annotation-unhighlight":"_nodeUnhighlighted"},_graphChanged:function(){this.fire("graph-select")},_graphSelected:function(){this._allowGraphSelect&&(this.set("selectedNode",null),this.set("selectedEdge",null));this._allowGraphSelect=!0},_disableClick:function(){this._allowGraphSelect=!1},_enableClick:function(){this._allowGraphSelect=!0},_selectedNodeChanged:function(a){this.handleNodeSelected&&
this.handleNodeSelected(a)},_selectedEdgeChanged:function(a){this._deselectPreviousEdge();a&&(this._lastSelectedEdgeGroup.classed(tf.graph.scene.Class.Edge.SELECTED,!0),this._updateMarkerOfSelectedEdge(a));this.handleEdgeSelected&&this.handleEdgeSelected(a)},_nodeSelected:function(a){this._allowGraphSelect&&this.set("selectedNode",a.detail.name);this._allowGraphSelect=!0},_edgeSelected:function(a){this._allowGraphSelect&&(this.set("_lastSelectedEdgeGroup",a.detail.edgeGroup),this.set("selectedEdge",
a.detail.edgeData));this._allowGraphSelect=!0},_nodeHighlighted:function(a){this.set("highlightedNode",a.detail.name)},_nodeUnhighlighted:function(){this.set("highlightedNode",null)},_nodeToggleExpand:function(a){this._nodeSelected(a);a=a.detail.name;var b=this.renderHierarchy.getRenderNodeByName(a);b.node.type!==tf.graph.NodeType.OP&&(this.renderHierarchy.buildSubhierarchy(a),b.expanded=!b.expanded,this.async(function(){this.querySelector("#scene").setNodeExpanded(b)},75))},_nodeToggleExtract:function(a){a=
this.renderHierarchy.getRenderNodeByName(a.detail.name);a.node.include=a.node.include==tf.graph.InclusionType.INCLUDE?tf.graph.InclusionType.EXCLUDE:a.node.include==tf.graph.InclusionType.EXCLUDE?tf.graph.InclusionType.INCLUDE:this.renderHierarchy.isNodeAuxiliary(a)?tf.graph.InclusionType.INCLUDE:tf.graph.InclusionType.EXCLUDE;this._buildRenderHierarchy(this.graphHierarchy)},_nodeToggleSeriesGroup:function(a){tf.graph.toggleNodeSeriesGroup(this.hierarchyParams.seriesMap,a.detail.name);this.set("progress",
{value:0,msg:""});tf.graph.hierarchy.build(this.basicGraph,this.hierarchyParams,tf.graph.util.getSubtaskTracker(tf.graph.util.getTracker(this),100,"Namespace hierarchy")).then(function(a){this.set("graphHierarchy",a);this._buildRenderHierarchy(this.graphHierarchy)}.bind(this))},_deselectPreviousEdge:function(){var a=this;d3.select("."+tf.graph.scene.Class.Edge.SELECTED).classed(tf.graph.scene.Class.Edge.SELECTED,!1).each(function(b){if(b.label){var c=d3.select(a).selectAll("path.edgeline");b.label.startMarkerId&&
c.style("marker-start","url(#"+b.label.startMarkerId+")");b.label.endMarkerId&&c.style("marker-end","url(#"+b.label.endMarkerId+")")}})},_updateMarkerOfSelectedEdge:function(a){if(a.label){var b=a.label.startMarkerId||a.label.endMarkerId;if(b){var c=b.replace("dataflow-","selected-"),d=this.$$("#"+c);d||(b=this.$$("tf-graph-scene").querySelector("#"+b),d=b.cloneNode(!0),d.setAttribute("id",c),d.classList.add("selected-arrowhead"),b.parentNode.appendChild(d));a=a.label.startMarkerId?"marker-start":
"marker-end";this._lastSelectedEdgeGroup.selectAll("path.edgeline").style(a,"url(#"+c+")")}}},not:function(a){return!a}});
</script>





<dom-module id="tf-graph-loader">
</dom-module>

<script>//~~WEBPATH~~/tf-graph-loader/tf-graph-loader.html.js
Polymer({is:"tf-graph-loader",properties:{progress:{type:Object,notify:!0},datasets:Array,selectedDataset:Number,selectedFile:Object,overridingHierarchyParams:{type:Object,value:function(){return{}}},outGraphHierarchy:{type:Object,readOnly:!0,notify:!0},outGraph:{type:Object,readOnly:!0,notify:!0},outHierarchyParams:{type:Object,readOnly:!0,notify:!0},outStats:{type:Object,readOnly:!0,notify:!0}},observers:["_selectedDatasetChanged(selectedDataset, datasets, overridingHierarchyParams)","_selectedFileChanged(selectedFile, overridingHierarchyParams)",
"_readAndParseMetadata(selectedMetadataTag, overridingHierarchyParams)"],_readAndParseMetadata:function(a){-1==a||null==this.datasets[this.selectedDataset]||null==this.datasets[this.selectedDataset].runMetadata||null==this.datasets[this.selectedDataset].runMetadata[a]?this._setOutStats(null):(a=this.datasets[this.selectedDataset].runMetadata[a].path,this.set("progress",{value:0,msg:""}),tf.graph.parser.fetchAndParseMetadata(a,tf.graph.util.getTracker(this)).then(function(a){this._setOutStats(a)}.bind(this)))},
_parseAndConstructHierarchicalGraph:function(a,b,c){this.set("progress",{value:0,msg:""});var d=tf.graph.util.getTracker(this),e={verifyTemplate:!0,seriesNodeMinSize:5,seriesMap:{}};_.forOwn(c,function(a,b){e[b]=a});this._setOutHierarchyParams(e);tf.graph.parser.fetchAndParseGraphData(a,b,tf.graph.util.getSubtaskTracker(d,30,"Data")).then(function(a){if(!a.node)throw"The graph is empty. Make sure that the graph is passed to the tf.summary.FileWriter after the graph is defined.";return tf.graph.build(a,
{enableEmbedding:!0,inEmbeddingTypes:["Const"],outEmbeddingTypes:["^[a-zA-Z]+Summary$"],refEdges:{"Assign 0":!0,"AssignAdd 0":!0,"AssignSub 0":!0,"assign 0":!0,"assign_add 0":!0,"assign_sub 0":!0,"count_up_to 0":!0,"ScatterAdd 0":!0,"ScatterSub 0":!0,"ScatterUpdate 0":!0,"scatter_add 0":!0,"scatter_sub 0":!0,"scatter_update 0":!0}},tf.graph.util.getSubtaskTracker(d,20,"Graph"))}).then(function(a){tf.graph.op.checkOpsForCompatibility(a);this._setOutGraph(a);return tf.graph.hierarchy.build(a,e,tf.graph.util.getSubtaskTracker(d,
50,"Namespace hierarchy"))}.bind(this)).then(function(a){this._setOutGraphHierarchy(a)}.bind(this)).catch(function(a){d.reportError("Graph visualization failed: "+a,a)})},_selectedDatasetChanged:function(a,b,c){this._parseAndConstructHierarchicalGraph(b[a].path,void 0,c)},_selectedFileChanged:function(a,b){if(a){var c=a.target.files[0];c&&(a.target.value="",this._parseAndConstructHierarchicalGraph(null,c,b))}}});
</script>




<script>//~~WEBPATH~~/tf-debugger-dashboard/health-pills.js
var ob;
(function(a){function b(a,b){if(null==a)throw Error("Missing refValue for condition ("+b+").");}var c={INF_OR_NAN:{description:"Contains +/-\u221e or NaN",predicate:function(a){return 0<a[2]||0<a[3]||0<a[7]}},INF:{description:"Contains +/-\u221e",predicate:function(a){return 0<a[3]||0<a[7]}},NAN:{description:"Contains NaN",predicate:function(a){return 0<a[2]}},MAX_GT:{description:"Max \x3e",predicate:function(a,c){b(c,"MAX_GT");return a[9]>c}},MAX_LT:{description:"Max \x3c",predicate:function(a,c){b(c,
"MAX_LT");return a[9]<c}},MIN_GT:{description:"Min \x3e",predicate:function(a,c){b(c,"MIN_GT");return a[8]>c}},MIN_LT:{description:"Min \x3c",predicate:function(a,c){b(c,"MIN_LT");return a[8]<c}},MEAN_GT:{description:"Mean \x3e",predicate:function(a,c){b(c,"MEAN_GT");return a[10]>c}},MEAN_LT:{description:"Mean \x3c",predicate:function(a,c){b(c,"MEAN_LT");return a[10]<c}},RANGE_GT:{description:"Max - Min \x3e",predicate:function(a,c){b(c,"RANGE_GT");return a[9]-a[8]>c}},RANGE_LT:{description:"Max - Min \x3c",
predicate:function(a,c){b(c,"RANGE_LT");return a[9]-a[8]<c}},STDDEV_GT:{description:"Standard deviation \x3e",predicate:function(a,c){b(c,"STDDEV_GT");return Math.sqrt(a[11])>c}},STDDEV_LT:{description:"Standard deviation \x3c",predicate:function(a,c){b(c,"STDDEV_LT");return Math.sqrt(a[11])<c}}};a.tensorConditionDescription2Key=function(a){for(var b in c)if(c.hasOwnProperty(b)&&c[b].description===a)return b;return null};a.checkHealthPillAgainstTensorConditionKey=function(a,b,f){if(null==b||0==b.length||
1!==b[0])return!1;a=c[a].predicate;return a(b,f)}})(ob||(ob={}));
</script>







<dom-module id="tf-debugger-continue-dialog">
  <template>
    <paper-button raised="" class="continue-button style-scope tf-debugger-continue-dialog">
      <span class="style-scope tf-debugger-continue-dialog"> </span>
    </paper-button>
    <paper-dialog with-backdrop="" id="continueDialog" class="style-scope tf-debugger-continue-dialog">
      <h2 class="style-scope tf-debugger-continue-dialog">Continue...</h2>
      <div class="continue-to-type style-scope tf-debugger-continue-dialog">
        <div class="continue-to-type-name style-scope tf-debugger-continue-dialog">
          Over Session Runs:
        </div>
        <paper-input id="continueNum" class="input-box style-scope tf-debugger-continue-dialog" label="Number of Session Runs (including the current one):" always-float-label="" type="number" min="1" step="1"></paper-input>
        <paper-icon-button class="go-button style-scope tf-debugger-continue-dialog" icon="arrow-forward" title="Session Runs Go">
        </paper-icon-button>
      </div>
      <div class="continue-to-type style-scope tf-debugger-continue-dialog">
        <div class="continue-to-type-name style-scope tf-debugger-continue-dialog">
          Till Condition Met by Watched Tensor
        </div>
        <paper-dropdown-menu id="tensorConditionDropdown" class="input-box style-scope tf-debugger-continue-dialog" no-label-float="true" label="Tensor Condition">
          
          <paper-menu id="tensorConditionMenu" class="dropdown-content style-scope tf-debugger-continue-dialog" slot="dropdown-content">
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Contains +/-∞ or NaN</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Contains +/-∞</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Contains NaN</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Max &gt;</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Max &lt;</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Min &gt;</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Min &lt;</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Max - Min &gt;</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Max - Min &lt;</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Mean &gt;</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Mean &lt;</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Standard deviation &gt;</paper-item>
            <paper-item no-label-float="true" class="style-scope tf-debugger-continue-dialog">Standard deviation &lt;</paper-item>
          </paper-menu>
        </paper-dropdown-menu>
        <paper-icon-button class="go-button style-scope tf-debugger-continue-dialog" icon="arrow-forward" title="Tensor Condition Go">
        </paper-icon-button>
        <paper-input id="ref-value" class="input-box style-scope tf-debugger-continue-dialog" label="Reference value to compare to" type="number">
        </paper-input>
      </div>
    </paper-dialog>
    
    
  </template>
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-debugger-continue-dialog.html.js
Polymer({is:"tf-debugger-continue-dialog",properties:{continueNum:{type:Number,value:5},sessionRunGo:Function,tensorConditionGo:Function,forceContinuationStop:Function,_continueButtonText:{type:String,value:"Continue..."},_continueButtonContinueText:{type:String,value:"Continue...",readonly:!0},_continueButtonStopText:{type:String,value:"Stop Continuation",readonly:!0},_selectedTensorCondition:String,_tensorConditionRefValue:{type:Number,value:0,notify:!0},_isRefValueInputHidden:{type:Boolean,value:!0,
notify:!0}},observers:["_onSelectedTensorConditionChanged(_selectedTensorCondition)"],notifyContinuationStop:function(){this.updateContinueButtonText(!1)},_openDialog:function(){this.$.continueDialog.open()},_closeDialog:function(){this.$.continueDialog.close()},_continueButtonCallback:function(){this._continueButtonText===this._continueButtonStopText?this.forceContinuationStop():this._openDialog()},updateContinueButtonText:function(a){this.set("_continueButtonText",a?this._continueButtonStopText:
this._continueButtonContinueText)},_sessionRunGoButtonCallback:function(){0<this.continueNum?(this.sessionRunGo(this.continueNum),this.updateContinueButtonText(!0),this._closeDialog()):this.set("continueNum",1)},_tensorContinueGoButtonCallback:function(){if(null!=this._selectedTensorCondition){var a=ob.tensorConditionDescription2Key(this._selectedTensorCondition);null==a&&console.error("Invalid Tensor Condition name:"+this._selectedTensorCondition);var b=Number(this._tensorConditionRefValue);_.isFinite(b)?
(this.tensorConditionGo(a,b),this.updateContinueButtonText(!0),this._closeDialog()):this.set("_tensorConditionRefValue",0)}},_onSelectedTensorConditionChanged:function(a){a=ob.tensorConditionDescription2Key(a);this.set("_isRefValueInputHidden",-1!==["INF_OR_NAN","INF","NAN"].indexOf(a))}});
</script>
</dom-module>





<dom-module id="tf-debugger-initial-dialog">
  <template>
    
    <template is="dom-if" class="style-scope tf-debugger-initial-dialog"></template>
    <paper-dialog id="dialog" modal="" class="style-scope tf-debugger-initial-dialog">
      <h2 id="dialog-title" class="style-scope tf-debugger-initial-dialog"> </h2>
      <template is="dom-if" class="style-scope tf-debugger-initial-dialog"></template>
      <template is="dom-if" class="style-scope tf-debugger-initial-dialog"></template>
    </paper-dialog>
  </template>
  
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-debugger-initial-dialog.html.js
Polymer({is:"tf-debugger-initial-dialog",properties:{_title:{type:String,value:null},_customMessage:{type:String,value:null},_hasCustomMessage:{type:Boolean,computed:"_computeHasCustomMessage(_customMessage)"},_host:{type:String,value:null},_port:{type:String,value:null},_open:{type:Boolean},_hidden:{type:Boolean,computed:"_computeHidden(_open)",reflectToAttribute:!0},_useNativeBackdrop:{type:Boolean,value:!1,readOnly:!0}},openDialog:function(a,b){this.set("_title","Debugger is waiting for Session.run() connections...");
this.set("_customMessage",null);this.$.dialog.open();null!=a&&null!=b&&(this.set("_host",a),this.set("_port",b))},closeDialog:function(){this.$.dialog.close()},openDisabledDialog:function(){this.set("_title","Debugger is not enabled in this TensorBoard instance");this.set("_customMessage","To enable the debugger in TensorBoard, use the flag: --debugger_port \x3cport_number\x3e");this.$.dialog.open()},_computeHidden:function(a){return!a},_computeHasCustomMessage:function(a){return!_.isEmpty(a)}});
</script>
</dom-module>





<dom-module id="tf-debugger-resizer">
  <template>
    <div class="bars style-scope tf-debugger-resizer">
      <div class="bars-rotator style-scope tf-debugger-resizer">
        <span class="bars-text style-scope tf-debugger-resizer">| |</span>
      </div>
    </div>
  </template>
  
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-debugger-resizer.html.js
Polymer({is:"tf-debugger-resizer",properties:{currentLength:{type:Number,notify:!0},minLength:Number,maxLength:Number,isHorizontal:{type:Boolean,value:!1,reflectToAttribute:!0},_resizerIdentifier:{type:Boolean,value:!0,readOnly:!0,reflectToAttribute:!0},_isVertical:{type:Boolean,computed:"_computeIsVertical(isHorizontal)",reflectToAttribute:!0,readOnly:!0},_dragStartPosition:Number,_dragStartLength:Number,_previousMouseMoveCallback:Object,_previousMouseUpCallback:Object},listeners:{mousedown:"_handleMouseDown"},
_handleMouseDown:function(a){var b=this;a.preventDefault();this._endDrag();this._previousMouseMoveCallback=function(a){a.preventDefault();a=b._dragStartLength+(b._getPositionRelativeToViewport(a)-b._dragStartPosition);a=Math.max(a,b.minLength);a=Math.min(a,b.maxLength);b.set("currentLength",a)};this._previousMouseUpCallback=function(a){a.preventDefault();b._endDrag()};this.set("_dragStartPosition",this._getPositionRelativeToViewport(a));this.set("_dragStartLength",this.currentLength);window.addEventListener("mouseup",
this._previousMouseUpCallback,!1);window.addEventListener("mousemove",this._previousMouseMoveCallback,!1)},_getPositionRelativeToViewport:function(a){return this.isHorizontal?a.clientY:a.clientX},_endDrag:function(){window.removeEventListener("mousemove",this._previousMouseMoveCallback,!1);this._previousMouseMoveCallback=null;window.removeEventListener("mouseup",this._previousMouseUpCallback,!1);this._previousMouseUpCallback=null},_computeIsVertical:function(a){return!a}});
</script>
</dom-module>











<dom-module id="tf-op-selector">
  <template>
    <div class="style-scope tf-op-selector">
      <paper-dropdown-menu id="filter-mode" no-label-float="true" label="Filter Mode" class="style-scope tf-op-selector">
        <paper-menu class="dropdown-content style-scope tf-op-selector" slot="dropdown-content">
          <paper-item no-label-float="true" class="style-scope tf-op-selector">Node Name</paper-item>
          <paper-item no-label-float="true" class="style-scope tf-op-selector">Op Type</paper-item>
        </paper-menu>
      </paper-dropdown-menu>
      <paper-input id="filter-input" label="Filter Regex" always-float-label="" class="style-scope tf-op-selector"></paper-input>
    </div>
    <paper-spinner-lite active="" class="spinner style-scope tf-op-selector" id="loading-spinner">
    </paper-spinner-lite>
    <div id="selector-hierarchy" class="style-scope tf-op-selector">
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-debugger-dashboard/selection-tree-node.js
(function(a){a.NODE_NAME_SEPARATOR="/";a.DEVICE_NAME_PATTERN=/^\/job:[A-Za-z0-9_]+\/replica:[0-9_]+\/task:[0-9]+\/device:[A-Za-z0-9_]+:[0-9]+/;var b;(function(a){a[a.EMPTY=0]="EMPTY";a[a.CHECKED=1]="CHECKED";a[a.PARTIAL=2]="PARTIAL"})(b=a.CheckboxState||(a.CheckboxState={}));a.splitNodeName=function(b){var c=[],d=b.match(a.DEVICE_NAME_PATTERN);null!=d&&(c.push(d[0]),"/"!==b[d[0].length]&&console.error('No slash ("/") after device name in node name:',b),b=b.slice(d[0].length+1));return c.concat(b.split(a.NODE_NAME_SEPARATOR))};
a.getCleanNodeName=function(b){var c=b,d=b.match(a.DEVICE_NAME_PATTERN);null!=d?(c.length>d[0].length&&"/"!=c[d[0].length]&&console.error('No slash ("/") after device name in node name:',b),c=c.slice(d[0].length+1)):"/"===c[0]&&(c=c.slice(1));c.indexOf(")")===c.length-1&&(c=c.slice(0,c.indexOf("/(")));return c};a.sortAndBaseExpandDebugWatches=function(a){a.sort(function(a,b){return a.node_name<b.node_name?-1:a.node_name>b.node_name?1:a.output_slot-b.output_slot});for(var b=0;b<a.length;++b){for(var c=
a[b].node_name+"/",d=!1,e=b+1;e<a.length;++e)if(0===a[e].node_name.indexOf(c)){d=!0;break}d&&(c=a[b].node_name.split("/"),a[b].node_name+="/("+c[c.length-1]+")")}};a.removeNodeNameBaseExpansion=function(a){return a.endsWith(")")?a.slice(0,a.lastIndexOf("/(")):a};a.assembleDeviceAndNodeNames=function(b){var c=[null,null];if(b[0].match(a.DEVICE_NAME_PATTERN)){var d=b[0];"/"===d[d.length-1]&&(d=d.slice(0,d.length-1));c[0]=d;c[1]=b.slice(1).join("/")}else c[1]=b.join("/");return c};var c;(function(a){a[a.NodeName=
0]="NodeName";a[a.OpType=1]="OpType"})(c=a.DebugWatchFilterMode||(a.DebugWatchFilterMode={}));a.filterDebugWatches=function(a,b,d){if(b===c.NodeName)return a.filter(function(a){return a.node_name.match(d)});if(b===c.OpType)return a.filter(function(a){return a.op_type.match(d)})};var d=function(){function a(a,c,d,e){var f=this;this.debugWatchChange=c;this.debugWatch=e;this.name=a;this.debugWatch=e;this.checkboxState=b.EMPTY;this.parent=d;this.children={};this.checkbox=document.createElement("paper-checkbox");
this.checkbox.addEventListener("change",function(){f._handleChange()},!1)}a.prototype._handleChange=function(){if(this.avoidPropagation)this.debugWatch&&this.debugWatchChange(this.debugWatch,this.isCheckboxChecked());else if(this.debugWatch)this.setCheckboxState(this.isCheckboxChecked()?b.CHECKED:b.EMPTY,!0),this.isCheckboxChecked()?this.setNodesAboveToChecked():this.setNodesAboveToEmpty(),this.debugWatchChange(this.debugWatch,this.isCheckboxChecked());else if(this.setCheckboxState(this.isCheckboxChecked()?
b.CHECKED:b.EMPTY,!0),this.isCheckboxChecked()){for(var a=_.values(this.children);a.length;){var c=a.pop();_.forEach(c.children,function(b){return a.push(b)});c.setCheckboxState(b.CHECKED,!0)}this.setNodesAboveToChecked()}else{for(var d=_.values(this.children);d.length;)c=d.pop(),_.forEach(c.children,function(a){return d.push(a)}),c.setCheckboxState(b.EMPTY,!0);this.setNodesAboveToEmpty()}};a.prototype.isLeaf=function(){return!!this.debugWatch};a.prototype.setToAllCheckedExternally=function(){this.setCheckboxState(b.CHECKED);
this._handleChange()};a.prototype.setCheckboxState=function(a,c){this.avoidPropagation=c;this.checkboxState=a;this.checkbox.classList.toggle("partial-checkbox",a===b.PARTIAL);a===b.CHECKED?this.checkbox.setAttribute("checked","checked"):this.checkbox.removeAttribute("checked");this.avoidPropagation=!1};a.prototype.isCheckboxChecked=function(){return this.checkbox.hasAttribute("checked")};a.prototype.setNodesAboveToChecked=function(){for(var a=this.parent,c=!1;a;)c?a.setCheckboxState(b.PARTIAL,!0):
(c=-1!==_.findIndex(_.values(a.children),function(a){return a.checkboxState!==b.CHECKED}),a.setCheckboxState(c?b.PARTIAL:b.CHECKED,!0)),a=a.parent};a.prototype.setNodesAboveToEmpty=function(){for(var a=this.parent,c=!1;a;)c?a.setCheckboxState(b.PARTIAL,!0):(c=-1!==_.findIndex(_.values(a.children),function(a){return a.checkboxState!==b.EMPTY}),a.setCheckboxState(c?b.PARTIAL:b.EMPTY,!0)),a=a.parent};a.prototype.setLevelDom=function(a){this.levelDom=a};return a}();a.SelectionTreeNode=d})(ob||(ob={}));
</script>
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-op-selector.html.js
Polymer({is:"tf-op-selector",properties:{debugWatches:Array,debugWatchChange:Object,nodeClicked:Function,forceExpandAndCheckNodeName:{type:String,value:null},forceExpandNodeName:{type:String,value:null},_selectedDebugWatchMapping:{type:Object,value:function(){return{}}},_levelName2Container:{type:Object,value:null},_levelName2Node:{type:Object,value:null},_watchHierarchy:{type:Object,computed:"_computeWatchHierarchy(debugWatches, debugWatchChange, _filterMode, _filterInput)"},_filterMode:{type:String,
value:"Node Name",notify:!0},_filterInput:{type:String,value:"",notify:!0},_isLoading:{type:Boolean,value:!1},_highlightedLevelDom:{type:Object,value:null}},observers:["_renderHierarchyWithTimeout(_watchHierarchy, debugWatchChange)","_handleForceNodeExpandAndCheck(forceExpandAndCheckNodeName)","_handleForceNodeExpand(forceExpandNodeName)"],_computeWatchHierarchy:function(a,b,c,d){d=d.trim();var e=a;null!=c&&0<d.length&&(e=ob.filterDebugWatches(a,ob.DebugWatchFilterMode[c.replace(/\s/g,"")],new RegExp(d)));
var f=new ob.SelectionTreeNode("",b);f.isRoot=!0;_.forEach(e,function(a){var c=ob.splitNodeName(a.device_name+"/"+a.node_name),d=f;_.forEach(c,function(e,f){f===c.length-1?(f=new ob.SelectionTreeNode(e,b,d,a),d.children[e]=f):(d.children[e]||(d.children[e]=new ob.SelectionTreeNode(e,b,d)),d=d.children[e])})});return f},_clearSelectorHierarchy:function(){for(var a=this.$$("#selector-hierarchy");a.firstChild;)a.removeChild(a.firstChild)},_renderHierarchyWithTimeout:function(a,b,c,d){var e=this;this._isLoading||
(this.set("_isLoading",!0),this._clearSelectorHierarchy(),setTimeout(function(){e._renderHierarchy(a,b,c,d)},10))},_renderHierarchy:function(a,b){this.set("_levelName2Container",{});this.set("_levelName2Node",{});a=this._renderLevel(null,null,a,b);Polymer.dom(this.$$("#selector-hierarchy")).appendChild(a);this.set("_isLoading",!1)},_renderLevel:function(a,b,c,d){function e(a){Polymer.dom(l).appendChild(a)}var f=this,g=document.createElement("div");null!=a&&g.setAttribute("level-name",a);var h=null==
b?a:b+"/"+a;Polymer.dom(g).classList.add("level-container");var l=document.createElement("iron-collapse");if(a){this._levelName2Container[h]=l;l.removeAttribute("opened");Polymer.dom(g).classList.add("indented-level-container");b=document.createElement("div");Polymer.dom(b).classList.add("level-title");var m=document.createElement("paper-icon-button");Polymer.dom(m).classList.add("node-expand-button");var n=function(){m.setAttribute("icon",l.hasAttribute("opened")?"expand-less":"expand-more")};m.addEventListener("click",
function(){l.hasAttribute("opened")?l.removeAttribute("opened"):l.setAttribute("opened",!0);n()},!1);n();Polymer.dom(b).appendChild(m);Polymer.dom(b).appendChild(c.checkbox);c.setLevelDom(b);var q=document.createElement("span");Polymer.dom(q).classList.add("level-title-text");q.textContent=a;Polymer.dom(b).appendChild(q);Polymer.dom(g).appendChild(b);(a.match(ob.DEVICE_NAME_PATTERN)||1===Object.keys(c.children).length)&&l.setAttribute("opened",!0)}else l.setAttribute("opened",!0);var p=[],t=[];Polymer.dom(l).classList.add("content-container");
_.forEach(c.children,function(a,b){var c=a.debugWatch,e=h;null==h&&(e="");e+="/"+b;f._levelName2Node[e]=a;null!=f._selectedDebugWatchMapping[e]&&(a.setCheckboxState(ob.CheckboxState.CHECKED),a.setNodesAboveToChecked());if(c){e=document.createElement("div");Polymer.dom(e).classList.add("op-description");a.checkbox.addEventListener("change",function(a){f._handleLeafNodeSelected(d,c,a.target.checked)},!1);Polymer.dom(e).appendChild(a.checkbox);a.setLevelDom(e);var l=document.createElement("span");l.textContent=
"["+c.op_type+"]";l.setAttribute("class","op-type");Polymer.dom(e).appendChild(l);l=document.createElement("span");l.textContent=b;l.setAttribute("class","op-title-leaf");l.addEventListener("click",function(){var a=f._getDeviceAndNodeNames(b,g);f.nodeClicked(a[0],a[1])},!1);Polymer.dom(e).appendChild(l);t.push(e)}else a.checkbox.addEventListener("change",function(b){f._handleMetaNodeChange(a,d,b.target.checked)}),p.push(f._renderLevel(b,h,a,d))});_.forEach(t,e);_.forEach(p,e);Polymer.dom(g).appendChild(l);
return g},_getLeafDebugWatches:function(a,b){var c=this;a.debugWatch?b.push(a.debugWatch):_.forEach(a.children,function(a){c._getLeafDebugWatches(a,b)})},_getDeviceAndNodeNames:function(a,b){for(a=[a];;){var c=b.getAttribute("level-name");if(null==c)break;else a.push(c);b=Polymer.dom(b).parentNode.parentNode}a.reverse();return ob.assembleDeviceAndNodeNames(a)},_handleMetaNodeChange:function(a,b,c){var d=this,e=[];this._getLeafDebugWatches(a,e);_.forEach(e,function(a){d._handleLeafNodeSelected(b,a,
c)})},_handleLeafNodeSelected:function(a,b,c){var d=b.device_name+"/"+b.node_name;c?this._selectedDebugWatchMapping[d]=b:delete this._selectedDebugWatchMapping[d];a(b,c)},_handleForceNode:function(a,b){var c=this;this.set("_filterInput","");setTimeout(function(){if(null!=a&&null!=c._levelName2Container)for(var d=ob.splitNodeName(a),e=1;e<=d.length;++e){var f=d.slice(0,e).join("/"),g=c._levelName2Node[f];null!=g&&null!=g.levelDom&&g.levelDom.scrollIntoView({block:"center",behaviour:"smooth"});e<d.length?
null!=c._levelName2Container[f]&&c._levelName2Container[f].setAttribute("opened",!0):(g.debugWatch||c._handleMetaNodeChange(g,g.debugWatchChange,!0),b&&(g.setToAllCheckedExternally(),(f=g.debugWatch)&&null==c._selectedDebugWatchMapping[f.node_name]&&(c._selectedDebugWatchMapping[a]=f)),null!=c._highlightedLevelDom&&c._highlightedLevelDom.classList.remove("highlighted"),g.levelDom.classList.add("highlighted"),c.set("_highlightedLevelDom",g.levelDom))}},20)},_handleForceNodeExpandAndCheck:function(a){this._handleForceNode(a,
!0)},_handleForceNodeExpand:function(a){this._handleForceNode(a,!1)}});
</script>
</dom-module>





<dom-module id="tf-session-runs-view">
  <template>
    <div class="session-runs-div style-scope tf-session-runs-view">
      <div class="section-title style-scope tf-session-runs-view">Session Runs</div>
      <table id="session-runs-table" class="session-runs-table style-scope tf-session-runs-view" align="left">
        <tbody class="style-scope tf-session-runs-view"><tr class="style-scope tf-session-runs-view" align="left">
          <th class="style-scope tf-session-runs-view">Feeds</th>
          <th class="style-scope tf-session-runs-view">Fetches</th>
          <th class="style-scope tf-session-runs-view">Targets</th>
          <th class="style-scope tf-session-runs-view">#(Devices)</th>
          <th class="style-scope tf-session-runs-view">Count</th>
        </tr>
      </tbody></table>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-session-runs-view.html.js
Polymer({is:"tf-session-runs-view",properties:{latestSessionRun:Object,sessionRunKeyToDeviceNames:Object,soleActive:Boolean,nodeOrTensorClicked:Function,_runKey2Count:{type:Object,value:{}},_runKey2NumDevices:{type:Object,value:{}},_activeRunKey:Object},observers:["renderLatest(latestSessionRun)","setSoleActiveStatus(soleActive)"],renderLatest:function(a){a=JSON.stringify(a);this._runKey2Count[a]=void 0===this._runKey2Count[a]?1:this._runKey2Count[a]+1;void 0===this._runKey2NumDevices[a]&&(this._runKey2NumDevices[a]=
0);this.set("_activeRunKey",a);this._renderSessionRunTable()},updateNumDevices:function(a){null!=this._activeRunKey&&(this._runKey2NumDevices[this._activeRunKey]=a,this._renderSessionRunTable())},setSoleActiveStatus:function(){this._renderSessionRunTable()},_renderSessionRunTable:function(){this._clearTable();this._renderHeader();var a,b;for(b in this._runKey2Count)if(this._runKey2Count.hasOwnProperty(b)){var c=JSON.parse(b);(c=this._renderRow(c,this._runKey2NumDevices[b],this._runKey2Count[b],this._activeRunKey===
b,this.soleActive))&&(a=c)}a&&(Polymer.dom(this.$$("#session-runs-table")).parentNode.parentNode.scrollTop=a.offsetTop)},_clearTable:function(){for(var a=this.$$("#session-runs-table");a.firstChild;)a.removeChild(a.firstChild)},_renderHeader:function(){var a=document.createElement("tr"),b=document.createElement("th");b.textContent="Feeds";var c=document.createElement("th");c.textContent="Fetches";var d=document.createElement("th");d.textContent="Targets";var e=document.createElement("th");e.textContent=
"#(Devices)";var f=document.createElement("th");f.textContent="Count";a.appendChild(b);a.appendChild(c);a.appendChild(d);a.appendChild(e);a.appendChild(f);Polymer.dom(this.$$("#session-runs-table")).appendChild(a)},_renderRow:function(a,b,c,d,e){var f=document.createElement("tr"),g=this._renderGraphElements(a.feeds),h=this._renderGraphElements(a.fetches);a=this._renderGraphElements(a.targets);var l=document.createElement("td");l.textContent=b;b=document.createElement("td");b.textContent=c;f.appendChild(g);
f.appendChild(h);f.appendChild(a);f.appendChild(l);f.appendChild(b);d&&(e?f.setAttribute("class","sole-active-session-run"):f.setAttribute("class","active-session-run"));Polymer.dom(this.$$("#session-runs-table")).appendChild(f);if(d)return f},_renderGraphElements:function(a){var b=this,c=document.createElement("td");_.forEach(a,function(a){var d=document.createElement("div");d.textContent=a;d.setAttribute("class","node-or-tensor-element");d.addEventListener("click",function(){b.nodeOrTensorClicked(a)});
c.appendChild(d)});return c}});
</script>
</dom-module>





<dom-module id="tf-source-code-view">
  <template>
    <div id="fullStackDialog" class="style-scope tf-source-code-view">
      <div id="full-stack-title" class="style-scope tf-source-code-view">
        <paper-icon-button icon="filter-list" disabled="true" class="style-scope tf-source-code-view">
        </paper-icon-button>
        Full Stack Trace of Node:
        <div id="full-stack-node-name" class="style-scope tf-source-code-view">""</div>
        <paper-icon-button icon="close" id="close-full-stack-button" title="Close Full Stack" class="style-scope tf-source-code-view">
        </paper-icon-button>
      </div>
      <ul id="full-stack-content" class="style-scope tf-source-code-view"></ul>
    </div>
    <paper-tabs id="source-files-tabs" class="style-scope tf-source-code-view">
      <template is="dom-repeat" class="style-scope tf-source-code-view"></template>
    </paper-tabs>
    <div id="source-file-content" class="source-content style-scope tf-source-code-view">
      <template is="dom-repeat" class="style-scope tf-source-code-view"></template>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-source-code-view.html.js
Polymer({is:"tf-source-code-view",properties:{requestManager:{type:Object,value:null},focusNodeName:{type:String,value:null},_oldFocusNodeName:{type:String,value:null},debugWatches:{type:Array,value:[]},nodeClicked:{type:Function,value:null},continueToNode:{type:Function,value:null},_highlightedElements:{type:Array,value:[]},_filePathSelected:String,_fullFilePaths:{type:Array,value:null},_shortFilePaths:{type:Array,value:null},_fileLines:{type:Array,value:null},_nodeName2DeviceName:{type:Object,value:null},
_nodeName2BaseExpandedNodeName:{type:Object,value:null},_nodeName2NodeElements:{type:Object,value:null},_nodeName2StackTopNodeElement:{type:Object,value:null},_setHightlightOriginNodeElement:{type:Object,value:null},_fullStackShown:{type:Boolean,value:!1},_fullStackNodeName:{type:String,value:null},_renderDelayMillis:{type:Number,value:50,readonly:!0}},observers:["_renderFile(_filePathSelected)","_focusOnNode(focusNodeName)"],render:function(a){var b=this;null!=a&&this.set("_debugWatches",a);this._querySourceCodeEndPoint({mode:"paths"}).then(function(a){b.set("_fullFilePaths",
a.paths);var c=a.paths.map(function(c){return{id:c,name:b._shortenPath(c,a.paths)}});b.set("_shortFilePaths",c);0<c.length&&(b.set("_filePathSelected",null),b.set("_filePathSelected",0))})},_shortenPath:function(a){a=a.replace(/\\/g,"/");a=a.split("/");return a[a.length-1]},_renderFile:function(a){var b=this;if(null!=a){var c=this._shortFilePaths[a].id;this._querySourceCodeEndPoint({mode:"content",file_path:c}).then(function(a){var d=[],f=a.content[c],g=a.lineno_to_op_name_and_stack_pos;a={};for(var h in g)g.hasOwnProperty(h)&&
(a[h]=g[h].length);b._filterFileTracebacksByDebugWatches(g);for(h=0;h<f.length;++h){var l=h+1;d.push({lineno:l,numNodes:null!=g[l]?String(g[l].length)+"/"+String(a[l])+" \u25bc":"",text:b._htmlEscape(f[h])})}b.set("_fileLines",d);setTimeout(function(){var a={},c={},d={},e;for(e in g){d.lineno$16=e;if(g.hasOwnProperty(d.lineno$16)){for(var f=b.$$("#source-line-nodes-"+d.lineno$16);f.firstChild;)f.removeChild(f.firstChild);var h=g[d.lineno$16];h.sort(function(a,b){return a[0]<b[0]?-1:a[0]>b[0]?1:0});
for(var l={},v=0;v<h.length;l={nodeName:l.nodeName,nodeElement:l.nodeElement},++v){l.nodeName=h[v][0];var y=h[v][1],x=document.createElement("div");l.nodeElement=document.createElement("span");l.nodeElement.setAttribute("class","source-line-node-enttry");l.nodeElement.setAttribute("sourceLineno",d.lineno$16);l.nodeElement.textContent=l.nodeName;l.nodeElement.addEventListener("tap",function(a){return function(){b.nodeClicked(b._nodeName2DeviceName[a.nodeName],b._nodeName2BaseExpandedNodeName[a.nodeName],
!0)}}(l));var A=document.createElement("paper-icon-button");A.setAttribute("icon","filter-list");A.setAttribute("title","Show stack");A.addEventListener("tap",function(a,c){return function(){b._highlightNodeElements(a.nodeName);b.set("_fullStackNodeName",a.nodeName);b.set("_fullStackShown",!0);b._populateFullStack(a.nodeName,b._fullFilePaths[b._filePathSelected],Number(c.lineno$16))}}(l,d));var B=document.createElement("paper-icon-button");B.setAttribute("icon","forward");B.setAttribute("title","Continue to");
B.addEventListener("tap",function(a){return function(){b.nodeClicked(b._nodeName2DeviceName[a.nodeName],b._nodeName2BaseExpandedNodeName[a.nodeName],!0);var c=b._nodeName2DeviceName[a.nodeName],d=b._nodeName2BaseExpandedNodeName[a.nodeName];b.set("_setHightlightOriginNodeElement",a.nodeElement);b.continueToNode(c,d)}}(l));x.appendChild(A);x.appendChild(B);x.appendChild(l.nodeElement);f.appendChild(x);a.hasOwnProperty(l.nodeName)||(a[l.nodeName]=[]);a[l.nodeName].push(l.nodeElement);c.hasOwnProperty(l.nodeName)||
(c[l.nodeName]=[l.nodeElement,y]);y>c[l.nodeName][1]&&(c[l.nodeName]=[l.nodeElement,y])}f.setAttribute("hidden",!0);f=b.$$("#source-line-node-toggle-"+d.lineno$16);null==f.getAttribute("tapCallbackSet")&&(f.addEventListener("tap",function(a){return function(){b._toggleLineNodes(a.lineno$16)}}(d)),f.setAttribute("tapCallbackSet",!0))}d={lineno$16:d.lineno$16}}b.set("_nodeName2NodeElements",a);for(var H in c)c.hasOwnProperty(H)&&(c[H]=c[H][0]);b.set("_nodeName2StackTopNodeElement",c)},b._renderDelayMillis)})}},
_toggleLineNodes:function(a,b){a=this.$$("#source-line-nodes-"+a);null==a.getAttribute("hidden")&&!0!==b?a.setAttribute("hidden",!0):a.removeAttribute("hidden")},_filterFileTracebacksByDebugWatches:function(a){for(var b=this.debugWatches.map(function(a){return ob.removeNodeNameBaseExpansion(a.node_name)}),c={},d={},e=ma(this.debugWatches),f=e.next();!f.done;f=e.next()){f=f.value;var g=ob.removeNodeNameBaseExpansion(f.node_name);c[g]=f.device_name;d[g]=f.node_name}this.set("_nodeName2DeviceName",c);
this.set("_nodeName2BaseExpandedNodeName",d);for(var h in a)a.hasOwnProperty(h)&&(a[h]=a[h].filter(function(a){return _.contains(b,a[0])}))},_querySourceCodeEndPoint:function(a){a=u.addParams(u.getRouter().pluginRoute("debugger","/source_code"),a);return this.requestManager.request(a)},_htmlEscape:function(a){return a.replace(/ /g,"\u00a0")},_focusOnNode:function(a){var b=this;if(null!=a){var c=this._shortFilePaths[this._filePathSelected].id,d=this;this._querySourceCodeEndPoint({mode:"op_traceback",
op_name:a}).then(function(e){var f=e.op_traceback[a];e=[];for(var g=0;g<f.length;++g){var h=f[g][1];f[g][0]===c&&e.push(h)}f=ma(d._highlightedElements);for(g=f.next();!g.done;g=f.next())g.value.classList.remove("highlighted-source-line");f=[];e=ma(e);for(g=e.next();!g.done;g=e.next())g=g.value,h=b.$$("#source-line-"+g),f.push(h),h.classList.add("highlighted-source-line"),d._toggleLineNodes(g,!0);d.set("_highlightedElements",f);b._highlightNodeElements(a)})}},_highlightNodeElements:function(a){if(null!=
this._oldFocusNodeName)for(var b=ma(this._nodeName2NodeElements[this._oldFocusNodeName]),c=b.next();!c.done;c=b.next())c.value.style["font-weight"]="normal";b=ma(this._nodeName2NodeElements[a]);for(c=b.next();!c.done;c=b.next())c.value.style["font-weight"]="bold";null==this._setHightlightOriginNodeElement?this._nodeName2StackTopNodeElement[a].scrollIntoView({block:"center",behaviour:"smooth"}):this.set("_setHightlightOriginNodeElement",null);this.set("_oldFocusNodeName",a)},_populateFullStack:function(a,
b,c){var d=this;this._querySourceCodeEndPoint({mode:"op_traceback",op_name:a}).then(function(e){for(var f=d.$$("#full-stack-content");f.firstChild;)f.removeChild(f.firstChild);var g={};e=ma(e.op_traceback[a]);for(var h=e.next();!h.done;g={fullFilePath:g.fullFilePath,lineno:g.lineno,frameElement:g.frameElement},h=e.next())h=h.value,g.frameElement=document.createElement("li"),g.fullFilePath=h[0],g.lineno=Number(h[1]),g.frameElement.textContent=g.fullFilePath+": "+String(g.lineno),_.contains(d._fullFilePaths,
g.fullFilePath)?(g.frameElement.classList.add("stack-frame-clickable"),g.frameElement.style.color="blue",g.frameElement.style["text-decoration"]="underline",g.frameElement.style.cursor="pointer",g.fullFilePath===b&&g.lineno===c&&(g.frameElement.style["font-weight"]="bold"),g.frameElement.addEventListener("tap",function(e){return function(){d.set("_filePathSelected",d._fullFilePaths.indexOf(e.fullFilePath));setTimeout(function(){d._toggleLineNodes(e.lineno,!0);for(var f=ma(d._nodeName2NodeElements[a]),
g=f.next();!g.done;g=f.next())g=g.value,Number(g.getAttribute("sourceLineno"))===Number(e.lineno)&&(g.scrollIntoView({block:"center",behaviour:"smooth"}),d.set("_setHightlightOriginNodeElement",e.frameElement),d._highlightNodeElements(a),b===e.fullFilePath&&c===e.lineno||d._populateFullStack(a,e.fullFilePath,e.lineno))},2*d._renderDelayMillis)}}(g))):(g.frameElement.classList.add("stack-frame-nonclickable"),g.frameElement.style.color="#555"),f.appendChild(g.frameElement)})},_closeFullStackDialog:function(){this.set("_fullStackShown",
!1)}});
</script>
</dom-module>





<dom-module id="tf-tensor-data-summary">
  <template>
    <span class="section-title style-scope tf-tensor-data-summary">Tensor Value Overview</span>
    <div id="tensor-data-div" class="tensor-data-div style-scope tf-tensor-data-summary">
      <table id="tensor-data-table" class="tensor-data-table style-scope tf-tensor-data-summary" align="left">
        <thead class="style-scope tf-tensor-data-summary">
          <tr class="style-scope tf-tensor-data-summary" align="left">
            <th class="style-scope tf-tensor-data-summary">Tensor</th>
            <th class="style-scope tf-tensor-data-summary">Count</th>
            <th class="style-scope tf-tensor-data-summary">DType</th>
            <th class="style-scope tf-tensor-data-summary">Shape</th>
            <th class="style-scope tf-tensor-data-summary" width="25%">Value</th>
            <th class="style-scope tf-tensor-data-summary" width="25%">
              Health Pill
              <paper-toggle-button id="show-health-pills" class="style-scope tf-tensor-data-summary">
              </paper-toggle-button>
              <paper-card class="style-scope tf-tensor-data-summary">
                <div class="health-pill-legend style-scope tf-tensor-data-summary" id="health-pill-legend"></div>
              </paper-card>
            </th>
            <th class="style-scope tf-tensor-data-summary" width="5%"></th>
          </tr>
        </thead>
        <tbody class="style-scope tf-tensor-data-summary">
        </tbody>
      </table>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-tensor-data-summary.html.js
Polymer({is:"tf-tensor-data-summary",properties:{latestTensorData:Object,expandHandler:Object,continueToCallback:Object,highlightedNodeName:{type:String,value:null},tensorNameClicked:{type:Function,value:null},getHealthPill:Function,_healthPillsEnabled:{type:Boolean,value:!0,notify:!0},_watchKeys:{type:Array,value:[]},_watchKey2Data:{type:Object,value:{}},_watchKey2Count:{type:Object,value:{}},_watchKey2ExpandHandler:{type:Object,value:{}},_watchKey2ValueShort:{type:Object,value:{}},_watchKey2Row:{type:Object,
value:{}},_activeWatchKey:String,_healthPillWidth:{type:Number,value:200,readonly:!0},_healthPillHeight:{type:Number,value:32,readonly:!0}},observers:["_renderLatest(latestTensorData, expandHandler)","_highlight(highlightedNodeName)"],listeners:{"show-health-pills.change":"_showHealthPillsChanged"},ready:function(){this._renderHealthPillLegend()},enableHealthPills:function(){this.set("_healthPillsEnabled",!0);this._renderHealthPillLegend()},_showHealthPillsChanged:function(){this._healthPillsEnabled?
this._renderHealthPillLegend():this._clearHealthPillLegend();this._renderAll()},_renderAll:function(){this._clearTensorDataTable();for(var a=ma(this._watchKeys),b=a.next();!b.done;b=a.next())b=b.value,this._renderLatest(this._watchKey2Data[b],this._watchKey2ExpandHandler[b])},_tensorData2WatchKey:function(a){return a.deviceName+"/"+a.tensorName+":"+a.debugOp},_renderLatest:function(a,b){var c=this._tensorData2WatchKey(a),d=null;"Uninitialized"!==a.dtype&&"Unsupported"!==a.dtype&&(d=function(){return b(a)});
var e=null!=a.value?JSON.stringify(a.value,function(a,b){return b.toFixed?Number(b.toFixed(3)):b}):"(Click to view)";this._watchKey2Data[c]=a;-1===this._watchKeys.indexOf(c)?(this._watchKeys.push(c),this._watchKey2Count[c]=1):this._watchKey2Count[c]+=1;this._watchKey2ExpandHandler[c]=d;this._watchKey2ValueShort[c]=e;this._activeWatchKey=c;this._removeActiveStatusFromAllRows();this._renderRow(c)},_clearTensorDataTable:function(){for(var a in this._watchKey2Row)this._watchKey2Row.hasOwnProperty(a)&&
(this._watchKey2Row[a].remove(),delete this._watchKey2Row[a])},_clearTensorDataRow:function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},_clearHealthPillLegend:function(){for(var a=this.$$("#health-pill-legend");a.firstChild;)a.removeChild(a.firstChild)},_renderHealthPillLegend:function(){this._clearHealthPillLegend();var a=this.$$("#health-pill-legend"),b=document.createElement("div");b.textContent="Legend:";a.appendChild(b);b.style["margin-right"]="0.5em";b.style.display="inline-block";for(b=
0;b<tf.graph.scene.healthPillEntries.length;++b){var c=tf.graph.scene.healthPillEntries[b],d=document.createElement("div");d.style.display="inline-block";d.style["margin-right"]="0.25em";var e=document.createElement("span");e.textContent="\u25a0";e.style.color=c.background_color;var f=document.createElement("span");f.textContent=c.label;f.style.color=c.background_color;d.appendChild(e);d.appendChild(f);a.appendChild(d)}},_removeActiveStatusFromAllRows:function(){for(var a in this._watchKey2Row)if(this._watchKey2Row.hasOwnProperty(a)){var b=
this._watchKey2Row[a];Polymer.dom(b).classList.remove("active-tensor");Polymer.dom(b).classList.remove("highlighted")}},_renderRow:function(a){var b=this,c=!1;if(null!=this._watchKey2Row[a]){var d=this._watchKey2Row[a];this._clearTensorDataRow(d);c=!1}else d=document.createElement("tr"),c=!0;var e=this._watchKey2Data[a].deviceName,f=this._watchKey2Data[a].maybeBaseExpandedNodeName,g=e+"/"+f,h=this._watchKey2Count[a],l=this._watchKey2Data[a].tensorName,m=this._watchKey2Data[a].debugOp,n=this._watchKey2ValueShort[a],
q=this._watchKey2ExpandHandler[a],p=a===this._activeWatchKey,t=document.createElement("td");Polymer.dom(t).classList.add("tensor-name");t.style["text-decoration"]="underline";t.style.cursor="pointer";t.textContent=l;t.addEventListener("tap",function(){null!=b.tensorNameClicked&&b.tensorNameClicked(e,f)});var r=document.createElement("td");r.textContent=h;var w=this._watchKey2Data[a].dtype;h=document.createElement("td");var v=this._watchKey2Data[a].shape;h.textContent=w;var y=document.createElement("td");
y.textContent=JSON.stringify(v);var x=document.createElement("td");x.textContent=n;Polymer.dom(x).classList.add("value-expansion-link");null!=q&&(x.addEventListener("tap",q,!1),x.style["text-decoration"]="underline",x.style.cursor="pointer");n=null;n=this._healthPillsEnabled?this._renderHealthPill(l+":"+m,{device_name:e,node_name:f,dtype:w,shape:v,value:null},q):document.createElement("td");l=document.createElement("td");m=document.createElement("paper-icon-button");m.setAttribute("icon","forward");
m.setAttribute("title","Continue to");m.addEventListener("click",function(){b.continueToCallback(e,f)});l.appendChild(m);d.appendChild(t);d.appendChild(r);d.appendChild(h);d.appendChild(y);d.appendChild(x);d.appendChild(n);d.appendChild(l);d.setAttribute("nodeNameWithDevice",g);p&&(Polymer.dom(d).classList.add("active-tensor"),Polymer.dom(d).classList.add("highlighted"));this._watchKey2Row[a]=d;c&&Polymer.dom(this.$$("#tensor-data-table tbody")).appendChild(d);d.scrollIntoView({block:"end",inline:"nearest",
behaviour:"smooth"})},_renderHealthPill:function(a,b,c){var d=this,e=document.createElement("td");Polymer.dom(e).classList.add("health-pill");null!=c&&e.addEventListener("tap",c,!1);c=document.createElementNS(tf.graph.scene.SVG_NAMESPACE,"svg");c.setAttribute("width",this._healthPillWidth);c.setAttribute("height",this._healthPillHeight);var f=document.createElementNS(tf.graph.scene.SVG_NAMESPACE,"g");c.appendChild(f);e.appendChild(c);var g="tdp/"+a;this.getHealthPill(a,b.device_name,b.node_name,function(a){null==
a?(e.textContent="N/A",e.style.color="gray"):(b.value=a,tf.graph.scene.addHealthPill(f,b,null,g,d._healthPillWidth,d._healthPillHeight/2,d._healthPillHeight/2,0))});return e},_highlight:function(a){Polymer.dom(this.$$("#tensor-data-table"));var b=[],c;for(c in this._watchKey2Row)if(this._watchKey2Row.hasOwnProperty(c)){var d=this._watchKey2Row[c];null!=d.getAttribute&&(d.getAttribute("nodeNameWithDevice")===a?b.push(d):Polymer.dom(d).classList.remove("highlighted"))}if(null!=a)for(a=0;a<b.length;++a)Polymer.dom(b[a]).classList.add("highlighted"),
b[a].scrollIntoView({block:"end",inline:"nearest",behaviour:"smooth"})}});
</script>
</dom-module>















<dom-module id="vz-line-chart">
  <template>
    <div id="tooltip" class="style-scope vz-line-chart">
      <table class="style-scope vz-line-chart">
        <thead class="style-scope vz-line-chart">
          
          <tr id="tooltip-table-header-row" class="style-scope vz-line-chart"></tr>
        </thead>
        <tbody class="style-scope vz-line-chart">
        </tbody>
      </table>
    </div>
    <div id="chartdiv" class="style-scope vz-line-chart"></div>
    
  </template>
  <script>//~~WEBPATH~~/vz-line-chart/vz-line-chart.js
(function(a){function b(a,b,c){b=c(b);for(var d=0,e=a.length;d<e;){var f=Math.floor((d+e)/2);c(a[f])<b?d=f+1:e=f}return e}Polymer({is:"vz-line-chart",properties:{colorScale:{type:Object,value:function(){return(new Plottable.Scales.Color).range(d3.schemeCategory10)}},symbolFunction:Object,smoothingEnabled:{type:Boolean,notify:!0,value:!1},smoothingWeight:{type:Number,value:.6},xType:{type:String,value:""},xComponentsCreationMethod:{type:Object,value:""},xAxisFormatter:Object,yAxisFormatter:Object,
yValueAccessor:{type:Object,value:function(){return function(a){return a.scalar}}},tooltipColumns:{type:Array,value:function(){function a(a){return isNaN(a)?"NaN":b(a)}var b=L.multiscaleFormatter(L.Y_TOOLTIP_FORMATTER_PRECISION);return[{title:"Name",evaluate:function(a){return a.dataset.metadata().name}},{title:"Smoothed",evaluate:function(b,c){return a(c&&c.smoothingEnabled?b.datum.smoothed:b.datum.scalar)}},{title:"Value",evaluate:function(b){return a(b.datum.scalar)}},{title:"Step",evaluate:function(a){return L.stepFormatter(a.datum.step)}},
{title:"Time",evaluate:function(a){return L.timeFormatter(a.datum.wall_time)}},{title:"Relative",evaluate:function(a){return L.relativeFormatter(L.relativeAccessor(a.datum,-1,a.dataset))}}]}},fillArea:Object,defaultXRange:Array,defaultYRange:Array,_tooltipTableHeaderHtml:{type:String,computed:"_computeTooltipTableHeaderHtml(tooltipColumns)"},yScaleType:{type:String,value:"linear"},ignoreYOutliers:{type:Boolean,value:!1},tooltipSortingMethod:{type:String,value:"default"},tooltipPosition:{type:String,
value:"bottom"},_attached:Boolean,_chart:Object,_visibleSeriesCache:{type:Array,value:function(){return[]}},_seriesDataCache:{type:Object,value:function(){return{}}},_makeChartAsyncCallbackId:{type:Number,value:null}},observers:"_makeChart(xComponentsCreationMethod, xType, yValueAccessor, yScaleType, tooltipColumns, colorScale, _attached);_reloadFromCache(_chart);_smoothingChanged(smoothingEnabled, smoothingWeight, _chart);_tooltipSortingMethodChanged(tooltipSortingMethod, _chart);_tooltipPositionChanged(tooltipPosition, _chart);_outliersChanged(ignoreYOutliers, _chart)".split(";"),
setVisibleSeries:function(a){this._visibleSeriesCache=a;this._chart&&(this._chart.setVisibleSeries(a),this.redraw())},setSeriesData:function(a,b){this._seriesDataCache[a]=b;this._chart&&this._chart.setSeriesData(a,b)},resetDomain:function(){this._chart&&this._chart.resetDomain()},redraw:function(){this._chart&&this._chart.redraw()},attached:function(){this._attached=!0},detached:function(){this._chart&&this._chart.destroy();this._attached=!1},ready:function(){this.scopeSubtree(this.$.tooltip,!0);
this.scopeSubtree(this.$.chartdiv,!0)},_makeChart:function(a,b,f,g,h,l){b||a?b&&(a=function(){return L.getXComponents(b)}):a=L.stepX;null!==this._makeChartAsyncCallbackId&&(this.cancelAsync(this._makeChartAsyncCallbackId),this._makeChartAsyncCallbackId=null);this._makeChartAsyncCallbackId=this.async(function(){this._makeChartAsyncCallbackId=null;if(this._attached&&a&&this.yValueAccessor&&this.tooltipColumns){var b=d3.select(this.$.tooltip);b=new c(a,this.yValueAccessor,g,l,b,this.tooltipColumns,this.fillArea,
this.defaultXRange,this.defaultYRange,this.symbolFunction,this.xAxisFormatter,this.yAxisFormatter);var d=d3.select(this.$.chartdiv);b.renderTo(d);this._chart&&this._chart.destroy();this._chart=b}},350)},_reloadFromCache:function(){this._chart&&(this._chart.setVisibleSeries(this._visibleSeriesCache),this._visibleSeriesCache.forEach(function(a){this._chart.setSeriesData(a,this._seriesDataCache[a]||[])}.bind(this)))},_smoothingChanged:function(){this._chart&&(this.smoothingEnabled?this._chart.smoothingUpdate(this.smoothingWeight):
this._chart.smoothingDisable())},_outliersChanged:function(){this._chart&&this._chart.ignoreYOutliers(this.ignoreYOutliers)},_tooltipSortingMethodChanged:function(){this._chart&&this._chart.setTooltipSortingMethod(this.tooltipSortingMethod)},_tooltipPositionChanged:function(){this._chart&&this._chart.setTooltipPosition(this.tooltipPosition)},_computeTooltipTableHeaderHtml:function(a){var b=this;return[""].concat(_.map(a,"title")).map(function(a){return"\x3cth\x3e"+b._sanitize(a)+"\x3c/th\x3e"}).join("")},
_sanitize:function(a){return a.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/&/g,"\x26amp;")}});var c=function(){function c(a,b,c,d,l,m,n,q,p,t,r,w){this.seriesNames=[];this.name2datasets={};this.colorScale=d;this.tooltip=l;this.datasets=[];this._ignoreYOutliers=!1;this.lastPointsDataset=new Plottable.Dataset;this.nanDataset=new Plottable.Dataset;this.yValueAccessor=b;this.symbolFunction=t;this.onDatasetChanged=this._onDatasetChanged.bind(this);this._defaultXRange=q;this._defaultYRange=
p;this.tooltipColumns=m;this.buildChart(a,b,c,n,r,w)}c.prototype.buildChart=function(b,d,g,h,l,m){this.outer&&this.outer.destroy();b=b();this.xAccessor=b.accessor;this.xScale=b.scale;this.xAxis=b.axis;this.xAxis.margin(0).tickLabelPadding(3);l&&this.xAxis.formatter(l);this.yScale=c.getYScaleFromType(g);this.yAxis=new Plottable.Axes.Numeric(this.yScale,"left");this.yAxis.margin(0).tickLabelPadding(5);this.yAxis.formatter(m?m:L.multiscaleFormatter(L.Y_AXIS_FORMATTER_PRECISION));this.yAxis.usesTextWidthApproximation();
this.fillArea=h;this.dzl=new a.DragZoomLayer(this.xScale,this.yScale,this.resetYDomain.bind(this));this.tooltipInteraction=this.createTooltipInteraction(this.dzl);this.tooltipPointsComponent=new Plottable.Component;g=this.buildPlot(this.xScale,this.yScale,h);this.gridlines=new Plottable.Components.Gridlines(this.xScale,this.yScale);h=new Plottable.Components.GuideLineLayer("horizontal");h.scale(this.yScale).value(0);l=new Plottable.Components.GuideLineLayer("vertical");l.scale(this.xScale).value(0);
this.center=new Plottable.Components.Group([this.gridlines,h,l,g,this.dzl,this.tooltipPointsComponent]);this.outer=new Plottable.Components.Table([[this.yAxis,this.center],[null,this.xAxis]])};c.prototype.buildPlot=function(a,b,c){var d=this;c&&(this.marginAreaPlot=new Plottable.Plots.Area,this.marginAreaPlot.x(this.xAccessor,a),this.marginAreaPlot.y(c.higherAccessor,b),this.marginAreaPlot.y0(c.lowerAccessor),this.marginAreaPlot.attr("fill",function(a,b,c){return d.colorScale.scale(c.metadata().name)}),
this.marginAreaPlot.attr("fill-opacity",.3),this.marginAreaPlot.attr("stroke-width",0));this.smoothedAccessor=function(a){return a.smoothed};c=new Plottable.Plots.Line;c.x(this.xAccessor,a);c.y(this.yValueAccessor,b);c.attr("stroke",function(a,b,c){return d.colorScale.scale(c.metadata().name)});this.linePlot=c;this.setupTooltips(c);var e=new Plottable.Plots.Line;e.x(this.xAccessor,a);e.y(this.smoothedAccessor,b);e.attr("stroke",function(a,b,c){return d.colorScale.scale(c.metadata().name)});this.smoothLinePlot=
e;if(this.symbolFunction){var f=new Plottable.Plots.Scatter;f.x(this.xAccessor,a);f.y(this.yValueAccessor,b);f.attr("fill",function(a,b,c){return d.colorScale.scale(c.metadata().name)});f.attr("opacity",1);f.size(2*L.TOOLTIP_CIRCLE_SIZE);f.symbol(function(a,b,c){return d.symbolFunction(c.metadata().name)});this.markersScatterPlot=f}f=new Plottable.Plots.Scatter;f.x(this.xAccessor,a);f.y(this.yValueAccessor,b);f.attr("fill",function(a){return d.colorScale.scale(a.name)});f.attr("opacity",1);f.size(2*
L.TOOLTIP_CIRCLE_SIZE);f.datasets([this.lastPointsDataset]);this.scatterPlot=f;var g=new Plottable.Plots.Scatter;g.x(this.xAccessor,a);g.y(function(a){return a.displayY},b);g.attr("fill",function(a){return d.colorScale.scale(a.name)});g.attr("opacity",1);g.size(2*L.NAN_SYMBOL_SIZE);g.datasets([this.nanDataset]);g.symbol(Plottable.SymbolFactories.triangle);this.nanDisplay=g;a=[g,f,e,c];this.marginAreaPlot&&a.push(this.marginAreaPlot);this.markersScatterPlot&&a.push(this.markersScatterPlot);return new Plottable.Components.Group(a)};
c.prototype._onDatasetChanged=function(a){this.smoothingEnabled&&this.resmoothDataset(a);this.updateSpecialDatasets()};c.prototype.ignoreYOutliers=function(a){a!==this._ignoreYOutliers&&(this._ignoreYOutliers=a,this.updateSpecialDatasets(),this.resetYDomain())};c.prototype.updateSpecialDatasets=function(){var a=this.getYAxisAccessor(),b=this.datasets.map(function(b){var c=null,d=b.data().filter(function(c){return!isNaN(a(c,-1,b))});0<d.length&&(c=d[d.length-1],c.name=b.metadata().name,c.relative=
L.relativeAccessor(c,-1,b));return c}).filter(function(a){return null!=a});this.lastPointsDataset.data(b);this.markersScatterPlot&&this.markersScatterPlot.datasets(this.datasets.map(this.createSampledDatasetForMarkers));b=_.flatten(this.datasets.map(function(b){for(var c=null,d=b.data(),e=0;e<d.length&&null==c;)isNaN(a(d[e],-1,b))||(c=a(d[e],-1,b)),e++;null==c&&(c=0);var f=[];for(e=0;e<d.length;e++)isNaN(a(d[e],-1,b))?(d[e].name=b.metadata().name,d[e].displayY=c,d[e].relative=L.relativeAccessor(d[e],
-1,b),f.push(d[e])):c=a(d[e],-1,b);return f}));this.nanDataset.data(b)};c.prototype.resetDomain=function(){this.resetXDomain();this.resetYDomain()};c.prototype.resetXDomain=function(){if(null!=this._defaultXRange)var a=this._defaultXRange;else a=this.xScale,a._domainMin=null,a._domainMax=null,a=a._getExtent();this.xScale.domain(a)};c.prototype.resetYDomain=function(){if(null!=this._defaultYRange)var a=this._defaultYRange;else{var b=this.getAccessorsForComputingYRange();a=_.flattenDeep(this.datasets.map(function(a){return b.map(function(b){return a.data().map(function(c){return b(c,
-1,a)})})})).filter(isFinite);a=L.computeDomain(a,this._ignoreYOutliers)}this.yScale.domain(a)};c.prototype.getAccessorsForComputingYRange=function(){var a=[this.getYAxisAccessor()];this.fillArea&&a.push(this.fillArea.lowerAccessor,this.fillArea.higherAccessor);return a};c.prototype.getYAxisAccessor=function(){return this.smoothingEnabled?this.smoothedAccessor:this.yValueAccessor};c.prototype.createTooltipInteraction=function(a){var b=this,c=new Plottable.Interactions.Pointer;a.interactionStart(function(){c.enabled(!1);
b.hideTooltips()});a.interactionEnd(function(){return c.enabled(!0)});c.onPointerMove(function(a){if(b.linePlot){var c={x:a.x,y:a.y,datum:null,dataset:null},d=b.gridlines.content().node().getBBox();a=b.linePlot.datasets().map(function(a){return b.findClosestPoint(c,a)}).filter(Boolean);var e=Plottable.Utils.DOM.intersectsBBox,f=a.filter(function(a){return e(a.x,a.y,d)||isNaN(b.yValueAccessor(a.datum,0,a.dataset))}),g=f.filter(function(a){return!isNaN(b.yValueAccessor(a.datum,0,a.dataset))});g=b.tooltipPointsComponent.content().selectAll(".point").data(g,
function(a){return a.dataset.metadata().name});0!==a.length?(g.enter().append("circle").classed("point",!0),g.attr("r",L.TOOLTIP_CIRCLE_SIZE).attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}).style("stroke","none").attr("fill",function(a){return b.colorScale.scale(a.dataset.metadata().name)}),g.exit().remove(),b.drawTooltips(f,c,b.tooltipColumns)):b.hideTooltips()}});c.onPointerExit(function(){return b.hideTooltips()});return c};c.prototype.hideTooltips=function(){this.tooltip.style("opacity",
0);this.scatterPlot.attr("opacity",1);this.tooltipPointsComponent.content().selectAll(".point").remove()};c.prototype.setupTooltips=function(a){var b=this;a.onDetach(function(){b.tooltipInteraction.detachFrom();b.tooltipInteraction.enabled(!1)});a.onAnchor(function(){b.tooltipInteraction.attachTo(a);b.tooltipInteraction.enabled(!0)})};c.prototype.drawTooltips=function(a,b,c){function d(a){return Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)}var e=this;this.scatterPlot.attr("opacity",0);var f=_.min(a.map(d)),
g=this.yValueAccessor;this.smoothingEnabled&&(g=this.smoothedAccessor);a="ascending"===this.tooltipSortingMethod?_.sortBy(a,function(a){return g(a.datum,-1,a.dataset)}):"descending"===this.tooltipSortingMethod?_.sortBy(a,function(a){return g(a.datum,-1,a.dataset)}).reverse():"nearest"===this.tooltipSortingMethod?_.sortBy(a,d):a.slice(0).reverse();var q=this.tooltip.select("tbody").html("").selectAll("tr").data(a).enter().append("tr");q.classed("distant",function(a){var c=a.dataset.data()[0],d=_.last(a.dataset.data());
c=e.xScale.scale(e.xAccessor(c,0,a.dataset));d=e.xScale.scale(e.xAccessor(d,0,a.dataset));a=e.smoothingEnabled?a.datum.smoothed:e.yValueAccessor(a.datum,0,a.dataset);return b.x<c||b.x>d||isNaN(a)});q.classed("closest",function(a){return d(a)===f});q.style("white-space","nowrap");q.append("td").append("span").classed("swatch",!0).style("background-color",function(a){return e.colorScale.scale(a.dataset.metadata().name)});_.each(c,function(a){q.append("td").text(function(b){return a.evaluate(b,{smoothingEnabled:e.smoothingEnabled})})});
c=document.body.clientWidth;var p=this.tooltip.node();a=p.parentElement.getBoundingClientRect();p=p.getBoundingClientRect();c=c-a.left-p.width-60;p=0;"right"===this.tooltipPosition?c=Math.min(a.width,c):(c=Math.min(0,c),p=a.height+L.TOOLTIP_Y_PIXEL_OFFSET);this.tooltip.style("transform","translate("+c+"px,"+p+"px)");this.tooltip.style("opacity",1)};c.prototype.findClosestPoint=function(a,c){var d=this,e=c.data().map(function(a,b){var e=d.xAccessor(a,b,c);b=d.smoothingEnabled?d.smoothedAccessor(a,
b,c):d.yValueAccessor(a,b,c);return{x:d.xScale.scale(e),y:d.yScale.scale(b),datum:a,dataset:c}}),f=b(e,a,function(a){return a.x});if(f===e.length)return e[e.length-1];if(0===f)return e[0];var m=e[f-1];e=e[f];return Math.abs(m.x-a.x)<Math.abs(e.x-a.x)?m:e};c.prototype.resmoothDataset=function(a){var b=this,c=a.data(),d=this.smoothingWeight,e=0<c.length?0:NaN,m=0;c.forEach(function(c,f){f=b.yValueAccessor(c,f,a);_.isFinite(f)?(e=e*d+(1-d)*f,m++,f=1,1!==d&&(f=1-Math.pow(d,m)),c.smoothed=e/f):c.smoothed=
f})};c.prototype.getDataset=function(a){void 0===this.name2datasets[a]&&(this.name2datasets[a]=new Plottable.Dataset([],{name:a}));return this.name2datasets[a]};c.getYScaleFromType=function(a){if("log"===a)return new Plottable.Scales.ModifiedLog;if("linear"===a)return new Plottable.Scales.Linear;throw Error("Unrecognized yScale type "+a);};c.prototype.setVisibleSeries=function(a){var b=this;this.seriesNames=a=a.sort();a.reverse();this.datasets.forEach(function(a){return a.offUpdate(b.onDatasetChanged)});
this.datasets=a.map(function(a){return b.getDataset(a)});this.datasets.forEach(function(a){return a.onUpdate(b.onDatasetChanged)});this.linePlot.datasets(this.datasets);this.smoothingEnabled&&this.smoothLinePlot.datasets(this.datasets);this.marginAreaPlot&&this.marginAreaPlot.datasets(this.datasets);this.updateSpecialDatasets()};c.prototype.createSampledDatasetForMarkers=function(a){var b=a.data();if(20>=b.length)return a;for(var c=Math.ceil(b.length/20),d=Array(Math.floor(b.length/c)),e=0,m=0;e<
d.length;e++,m+=c)d[e]=b[m];return new Plottable.Dataset(d,a.metadata())};c.prototype.setSeriesData=function(a,b){this.getDataset(a).data(b)};c.prototype.smoothingUpdate=function(a){var b=this;this.smoothingWeight=a;this.datasets.forEach(function(a){return b.resmoothDataset(a)});this.smoothingEnabled||(this.linePlot.addClass("ghost"),this.scatterPlot.y(this.smoothedAccessor,this.yScale),this.smoothingEnabled=!0,this.smoothLinePlot.datasets(this.datasets));this.markersScatterPlot&&this.markersScatterPlot.y(this.getYAxisAccessor(),
this.yScale);this.updateSpecialDatasets()};c.prototype.smoothingDisable=function(){this.smoothingEnabled&&(this.linePlot.removeClass("ghost"),this.scatterPlot.y(this.yValueAccessor,this.yScale),this.smoothLinePlot.datasets([]),this.smoothingEnabled=!1,this.updateSpecialDatasets());this.markersScatterPlot&&this.markersScatterPlot.y(this.getYAxisAccessor(),this.yScale)};c.prototype.setTooltipSortingMethod=function(a){this.tooltipSortingMethod=a};c.prototype.setTooltipPosition=function(a){this.tooltipPosition=
a};c.prototype.renderTo=function(a){this.targetSVG=a;this.outer.renderTo(a);null!=this._defaultXRange&&this.resetXDomain();null!=this._defaultYRange&&this.resetYDomain()};c.prototype.redraw=function(){this.outer.redraw()};c.prototype.destroy=function(){this.outer&&this.outer.destroy()};return c}()})(fb||(fb={}));
</script>
</dom-module>


<dom-module id="tf-debugger-line-chart">
  <template>
    <vz-line-chart class="style-scope tf-debugger-line-chart"></vz-line-chart>
    
  </template>

  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-debugger-line-chart.html.js
Polymer({is:"tf-debugger-line-chart",properties:{data:{type:Object,value:null},_defaultSeriesName:{type:String,value:"__debugger_data__",readonly:!0},_lineChartXComponentsCreationMethod:{type:Object,readOnly:!0,value:function(){return function(){var a=new Plottable.Scales.Linear;return{scale:a,axis:new Plottable.Axes.Numeric(a,"bottom"),accessor:function(a){return a.step}}}}},_lineChartYValueAccessor:{type:Object,readOnly:!0,value:function(){return function(a){return a.scalar}}},_lineChartTooltipColumns:{type:Array,
readOnly:!0,value:function(){return[{title:"Name",evaluate:function(a){return"step\x3d"+a.datum.step+"; scalar\x3d "+a.datum.scalar}}]}},_lineChartSmoothingEnabled:{type:Boolean,value:!1,readOnly:!0}},observers:["render(data)"],render:function(a){if(null!=a){this.$$("vz-line-chart").setVisibleSeries([this._defaultSeriesName]);var b=[],c=a.x;a=a.y;for(var d=0;d<c.length;++d)b.push({step:c[d],scalar:a[d]});this.$$("vz-line-chart").setSeriesData(this._defaultSeriesName,b)}}});
</script>

</dom-module>



<dom-module id="tf-tensor-value-view">
  <template>
    <paper-toast id="tensorValueToast" text="" always-on-top="" class="style-scope tf-tensor-value-view"></paper-toast>
    <table class="tensor-value-view-table style-scope tf-tensor-value-view">
      <tbody class="style-scope tf-tensor-value-view"><tr class="style-scope tf-tensor-value-view">
        <td colspan="2" class="style-scope tf-tensor-value-view">
          <div class="style-scope tf-tensor-value-view">
            <paper-item id="tensor-name" class="style-scope tf-tensor-value-view">
            </paper-item>
            <paper-icon-button icon="close" class="value-view-icon-button style-scope tf-tensor-value-view" id="value-view-icon-button" title="Close"></paper-icon-button>
            <paper-icon-button icon="forward" class="value-view-icon-button style-scope tf-tensor-value-view" id="value-view-icon-button" title="Continue to"></paper-icon-button>
          </div>
        </td>
      </tr>
      <tr class="style-scope tf-tensor-value-view">
        <td class="style-scope tf-tensor-value-view">
          <div class="style-scope tf-tensor-value-view">
            <paper-item id="debug-op" class="style-scope tf-tensor-value-view"></paper-item>
            <paper-input class="inline value-card-input style-scope tf-tensor-value-view" label="Slicing" id="slicing">
            </paper-input>
          </div>
          <div class="style-scope tf-tensor-value-view">
            <paper-input class="inline value-card-input style-scope tf-tensor-value-view" label="Time Indices" id="time-indices">
            </paper-input>
            <paper-button raised="" id="time-indices-toggle-button" class="tensor-value-buttons style-scope tf-tensor-value-view">Full History</paper-button>
          </div>
        </td>
        <td class="tensor-value-view-td style-scope tf-tensor-value-view">
          <template is="dom-if" class="style-scope tf-tensor-value-view"></template>
          <template is="dom-if" class="style-scope tf-tensor-value-view"></template>
          <template is="dom-if" class="style-scope tf-tensor-value-view"></template>
        </td>
      </tr>
    </tbody></table>
  </template>
  
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-tensor-value-view.html.js
Polymer({is:"tf-tensor-value-view",properties:{viewId:String,tensorName:String,debugOp:String,slicing:String,timeIndices:String,continueToButtonCallback:Object,closeButtonCallback:Object,tensorNameCallback:Object,_isTensorValueScalar:{type:Boolean,value:!1},_isTensorValueLineChart:{type:Boolean,value:!1},_isTensorValueImage:{type:Boolean,value:!1},_dataScalar:{type:Number,value:null},_lineChartData:{type:Array,value:null},_dataImageSrc:{type:String,value:null},_requestManager:{type:Object,value:function(){return new u.RequestManager(10)}}},
observers:["_updateTimeIndicesToggle(timeIndices)"],ready:function(){this.renderTensorValue()},renderTensorValue:function(){var a=this;if(this.tensorName){this.$$("#debug-op").textContent=this._calculateDebugOpToDisplay();var b=this._rankFromSlicing(this.slicing.trim()),c=this._isTimeIndicesSingleStep(this.timeIndices),d=b;if(!c){if(1<b){this._showToast("History for tensors \x3e 1D is not yet supported.");return}d+=1}b=u.addParams(u.getRouter().pluginRoute("debugger","/tensor_data"),{watch_key:this.tensorName+
":"+this.debugOp,slicing:this.slicing,time_indices:this.timeIndices,mapping:2<=d?"image/png":"none"});this._requestManager.request(b).then(function(b){if(null!=b.error)a._showToast(b.error.type+": "+b.error.message);else if(b=c?b.tensor_data[0]:b.tensor_data,0===d)a._setVisualizationType("scalar"),a.set("_dataScalar",b);else if(1===d){a._setVisualizationType("lineChart");for(var e={x:[],y:b},g=0;g<b.length;++g)e.x.push(g+1);a.set("_lineChartData",e)}else 2<=d?(a._setVisualizationType("image"),a.set("_dataImageSrc",
"data:image/png;base64,"+b)):a._showToast("Visualization of rank-"+d+" tensors is not yet supported.")})}},refresh:function(){this.tensorName.trim()&&this.renderTensorValue()},_rankFromSlicing:function(a){a.startsWith("[")&&(a=a.slice(1,a.length-1));if(0===a.length)return 0;var b=a.split(",");a=b.length;b=ma(b);for(var c=b.next();!c.done;c=b.next())isNaN(Number(c.value))||a--;return a},_setVisualizationType:function(a){"scalar"===a?(this.set("_isValueScalar",!0),this.set("_isValueLineChart",!1),this.set("_isValueImage",
!1)):"lineChart"===a?(this.set("_isValueScalar",!1),this.set("_isValueLineChart",!0),this.set("_isValueImage",!1)):"image"===a?(this.set("_isValueScalar",!1),this.set("_isValueLineChart",!1),this.set("_isValueImage",!0)):console.error("Invalid visualizationType:",a)},_timeIndicesToggleButtonCallback:function(){"full history"===Polymer.dom(this.$$("#time-indices-toggle-button")).textContent.toLowerCase()?this.set("timeIndices",":"):this.set("timeIndices","-1");this.renderTensorValue()},_updateTimeIndicesToggle:function(a){this._isTimeIndicesSingleStep(a)?
Polymer.dom(this.$$("#time-indices-toggle-button")).textContent="Full History":Polymer.dom(this.$$("#time-indices-toggle-button")).textContent="Latest Time Point"},_isTimeIndicesSingleStep:function(a){a.startsWith("[")&&(a=a.slice(1,a.length-1));return!isNaN(Number(a))},_calculateDebugOpToDisplay:function(){return"DebugIdentity"===this.debugOp?"":this.debugOp},_showToast:function(a){this.$.tensorValueToast.setAttribute("text",a);this.$.tensorValueToast.open()}});
</script>
</dom-module>


<dom-module id="tf-tensor-value-multi-view">
  <template>
    <div id="multiView" class="style-scope tf-tensor-value-multi-view">
      <div class="section-title style-scope tf-tensor-value-multi-view">Tensor Values</div>
      <div id="multi-tensor-view-container" class="style-scope tf-tensor-value-multi-view">
      </div>
    </div>
  </template>
  
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-tensor-value-multi-view.html.js
Polymer({is:"tf-tensor-value-multi-view",properties:{continueToCallback:Object,tensorNameClicked:Object,_tensorViewCounter:{type:Number,value:0}},addView:function(a){var b=this,c=this.$$("#multi-tensor-view-container"),d=document.createElement("tf-tensor-value-view");d.setAttribute("class","debugger-tensor-view");d.viewId=a.viewId;d.tensorName=a.tensorName;d.debugOp=a.debugOp;d.slicing=a.slicing;d.timeIndices=a.timeIndices;d.closeButtonCallback=this._createCloseButtonCallback(a.viewId);d.continueToButtonCallback=
function(){b.continueToCallback(a.deviceName,a.maybeBaseExpandedNodeName)};d.tensorNameCallback=function(){b.tensorNameClicked(a.deviceName,a.maybeBaseExpandedNodeName)};c.appendChild(d);d.refresh()},getViews:function(){var a=this.querySelectorAll(".debugger-tensor-view"),b=[];_.forEach(a,function(a){b.push({viewId:a.viewId,tensorName:a.tensorName,debugOp:a.debugOp,slicing:a.slicing,timeIndices:a.timeIndices})});return b},renderTensorValues:function(){var a=this.querySelectorAll(".debugger-tensor-view");
_.forEach(a,function(a){a.renderTensorValue()})},_redrawViews:function(a){var b=this,c=this.$$("#multi-tensor-view-container"),d=this.querySelectorAll(".debugger-tensor-view");_.forEach(d,function(a){c.removeChild(a)});_.forEach(a,function(a){b.addView(a)})},_createCloseButtonCallback:function(a){var b=this;return function(){for(var c=[],d=b.querySelectorAll(".debugger-tensor-view"),e=0;e<d.length;++e){var f=d[e];f.viewId!==a&&c.push({viewId:f.viewId,tensorName:f.tensorName,debugOp:f.debugOp,slicing:f.slicing,
timeIndices:f.timeIndices})}b._redrawViews(c)}}});
</script>
</dom-module>


<dom-module id="tf-debugger-dashboard">
  <template>
    <paper-toast id="toast" text="" always-on-top="" class="style-scope tf-debugger-dashboard"></paper-toast>
    <tf-debugger-initial-dialog id="initialDialog" class="style-scope tf-debugger-dashboard"></tf-debugger-initial-dialog>
    
    <tf-dashboard-layout class="style-scope tf-debugger-dashboard">
      <div class="sidebar style-scope tf-debugger-dashboard" id="left-pane">
        <div id="node-entries" class="node-entries style-scope tf-debugger-dashboard">
          <div class="debugger-section-title style-scope tf-debugger-dashboard">Runtime Node List</div>
          <div class="toggle-source-code style-scope tf-debugger-dashboard">
            Show Code:
            <paper-toggle-button class="toggle-source-code style-scope tf-debugger-dashboard" id="show-source-code">
            </paper-toggle-button>
          </div>
          <tf-op-selector class="style-scope tf-debugger-dashboard">
          </tf-op-selector>
        </div>
        <div id="source-code-view-div" class="source-code-view-div style-scope tf-debugger-dashboard">
          <div class="debugger-section-title style-scope tf-debugger-dashboard">Source Code</div>
          <tf-source-code-view id="sourceCodeView" class="style-scope tf-debugger-dashboard"></tf-source-code-view>
        </div>
        <tf-debugger-resizer class="style-scope tf-debugger-dashboard">
        </tf-debugger-resizer>
        <div class="style-scope tf-debugger-dashboard">
          <tf-session-runs-view id="sessionRunsView" class="style-scope tf-debugger-dashboard">
          </tf-session-runs-view>
        </div>
        <div class="buttons-container style-scope tf-debugger-dashboard">
          <paper-button raised="" class="continue-button style-scope tf-debugger-dashboard">
              <span class="style-scope tf-debugger-dashboard"> </span>
          </paper-button>
          <tf-debugger-continue-dialog id="continueDialog" class="style-scope tf-debugger-dashboard">
          </tf-debugger-continue-dialog>
        </div>
        <div class="container style-scope tf-debugger-dashboard">
          <tf-graph-loader id="loader" class="style-scope tf-debugger-dashboard"></tf-graph-loader>
        </div>
      </div>
      <div class="center style-scope tf-debugger-dashboard" id="center-content">
        <div id="top-right-quadrant" class="style-scope tf-debugger-dashboard">
          <paper-tabs class="style-scope tf-debugger-dashboard">
            <template is="dom-repeat" class="style-scope tf-debugger-dashboard"></template>
          </paper-tabs>
          <span id="runtime-graph-device-name" class="style-scope tf-debugger-dashboard">
          </span>
          <paper-dropdown-menu id="active-runtime-graph-device-name" no-label-float="true" label="Device name" class="style-scope tf-debugger-dashboard">
            <paper-menu class="dropdown-content style-scope tf-debugger-dashboard" slot="dropdown-content">
              <template is="dom-repeat" class="style-scope tf-debugger-dashboard"></template>
            </paper-menu>
          </paper-dropdown-menu>
          <paper-spinner-lite class="spinner style-scope tf-debugger-dashboard" id="top-right-spinner">
          </paper-spinner-lite>
          <paper-progress id="top-right-progress-bar" value="0" class="style-scope tf-debugger-dashboard"></paper-progress>
          <template is="dom-if" class="style-scope tf-debugger-dashboard"></template>
          <template is="dom-if" class="style-scope tf-debugger-dashboard"></template>
        </div>

        <tf-debugger-resizer is-horizontal="true" class="style-scope tf-debugger-dashboard">
        </tf-debugger-resizer>

        <div id="tensor-data" class="tensor-data style-scope tf-debugger-dashboard">
          <tf-tensor-data-summary id="tensorDataSummary" class="style-scope tf-debugger-dashboard">
          </tf-tensor-data-summary>
        </div>
      </div>
    </tf-dashboard-layout>

    
    
  </template>
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tensor-shape-helper.js
(function(a){function b(a,b){return a<=b?"::":"::"+Math.ceil(a/b)}a.getDefaultSlicing=function(a){if(0===a.length)return"";if(1===a.length)return"["+b(a[0],1E3)+"]";if(2===a.length)return"["+b(a[0],250)+", "+b(a[1],250)+"]";if(3===a.length)return"[0, "+b(a[1],250)+", "+b(a[2],250)+"]";if(4===a.length)return"[0, "+b(a[1],250)+", "+b(a[2],250)+", 0]";for(var c="[",e=0;e<a.length;++e)c=e<a.length-2?c+"0":c+b(a[e],250),e<a.length-1&&(c+=", ");return c+"]"};a.rankFromSlicing=function(a){a.startsWith("[")&&
(a=a.slice(1,a.length-1));if(0===a.length)return 0;a=a.split(",");for(var b=a.length,c=0;c<a.length;c++)isNaN(Number(a[c]))||b--;return b}})(ob||(ob={}));
</script>
  <script>//~~WEBPATH~~/tf-debugger-dashboard/tf-debugger-dashboard.html.js
var qb=((window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-70)/2;
Polymer({is:"tf-debugger-dashboard",properties:{_topRightTabs:{type:Array,value:[{id:"tab-runtime-graphs",name:"Runtime Graphs"},{id:"tab-tensor-values",name:"Tensor Values"}],readonly:!0},_isTopRightRuntimeGraphsActive:{type:Boolean,value:!0},_isTopRightTensorValuesActive:{type:Boolean,value:!1},_topRightSelected:{type:String,value:"0",observer:"_topRightSelectedChanged"},_longPollCount:{type:Number,value:0},_stepButtonText:{type:String,value:"Step"},_continueButtonText:{type:String,value:"Continue..."},
_tensorViewIdCounter:{type:Number,value:0},isReloadDisabled:{type:Boolean,value:!0,readOnly:!0},alreadyStarted:{type:Boolean,value:!1},_currentSessionRunInfo:{type:String,value:null},_sessionRunTotalCounter:{type:Number,value:0},_sessionRunCounters:{type:Object,value:{}},_sessionRunKey2DeviceNames:{type:Object,value:{}},_activeSessionRunKey:{type:String,value:null},_activeSessionRunDevices:{type:Array,value:[]},_activeSessionRunNumDevices:{type:Number,value:-1},_activeRuntimeGraphDeviceName:{type:String,
value:null,notify:!0},_highlightNodeName:{type:String,value:null},_continueToType:{type:String,value:""},_continueToCounter:{type:Number,value:0},_continueStop:{type:Boolean,value:!1},_continueToTarget:{type:String,value:""},_continueToCounterTarget:{type:Number,value:-1},_forceExpandAndCheckNodeName:String,_forceExpandNodeName:String,_sourceFocusNodeName:String,_sourceCodeShown:{type:Boolean,value:!1},_graphProgress:{type:Object},_requestManager:{type:Object,value:function(){return new u.RequestManager(50)}},
_busy:{type:Boolean,value:!1},_leftPaneWidth:{type:Number,value:G.getNumberInitializer("_leftPaneWidth",{defaultValue:450}),observer:"_leftPaneWidthObserver"},_minleftPaneWidth:{type:Number,value:450,readOnly:!0},_maxleftPaneWidth:{type:Number,computed:"_computeMaxleftPaneWidth(_windowWidth, _maxMainContentWidth, _resizerWidth)"},_maxMainContentWidth:{type:Number,value:350,readOnly:!0},_topRightQuadrantHeight:{type:Number,value:G.getNumberInitializer("_topRightQuadrantHeight",{defaultValue:qb}),observer:"_topRightQuadrantHeightObserver"},
_minTopRightQuadrantHeight:{type:Number,value:200,readOnly:!0},_maxTopRightQuadrantHeight:{type:Number,computed:"_computeMaxTopRightQuadrantHeight(_windowHeight, _resizerWidth)"},_resizerWidth:{type:Number,value:30,readOnly:!0},_windowWidth:Number,_windowHeight:Number},observers:["_onActiveRuntimeGraphDeviceNameChange(_activeRuntimeGraphDeviceName)","_sizeDashboardRegions(_leftPaneWidth, _topRightQuadrantHeight, _windowWidth)","_graphProgressUpdated(_graphProgress)"],listeners:{"show-source-code.change":"_showSourceCodeChanged"},
ready:function(){var a=this;this._handleWindowResize();window.addEventListener("resize",function(){a._handleWindowResize()},!1);this.reload()},long_poll:function(){var a=this,b={pos:++this._longPollCount},c=u.getRouter().pluginRoute("debugger","/comm");c=u.addParams(c,b);this._requestManager.request(c).then(function(b){var c=b.type;b=b.data;if("meta"===c){var d=b.run_key,g=d[0].split(","),h=d[1].split(","),l=d[2].split(","),m=a._activeSessionRunKey;a.set("_activeSessionRunKey",d);a.set("_latestSessionRun",
{feeds:g,fetches:h,targets:l});a.set("_sessionRunSoleActive",!0);void 0===a._sessionRunKey2DeviceNames[d]?(a._sessionRunKey2DeviceNames[d]=[],a.set("_activeSessionRunDevices",[])):a.set("_activeSessionRunDevices",a._sessionRunKey2DeviceNames[d]);g="Feeds: "+g+"; Fetches: "+h+"; Targets: "+l;a._currentSessionRunInfo=g;a._sessionRunCounters.hasOwnProperty(g)?a._sessionRunCounters[g]+=1:a._sessionRunCounters[g]=1;a._sessionRunTotalCounter++;a.$.initialDialog.closeDialog();a._continueToType&&_.isEqual(m,
d)||(a._processGatedGrpcDebugOps(d,!1),a._announceNewSessionRun())}else"tensor"===c?(d=b.device_name,m=b.node_name,g=b.maybe_base_expanded_node_name,a._activeRuntimeGraphDeviceName!=d?a.set("_activeRuntimeGraphDeviceName",d):!a._continueToType&&a._isTopRightRuntimeGraphsActive&&(a._focusOnGraphNode(d,g),a.set("_forceExpandNodeName",d+"/"+g)),a.set("_sessionRunSoleActive",!1),h=m+":"+b.output_slot,a.set("_latestTensorData",{deviceName:d,tensorName:h,nodeName:m,maybeBaseExpandedNodeName:g,debugOp:b.debug_op,
dtype:b.dtype,shape:b.shape,value:b.values}),a._maybeUpdateTensorValueViews(h,b.debug_op),a.set("_busy",!1)):console.error("Invalid long-polling response type: ",c);null!=a._continueToType&&a._processContinueTo(c,b);a.long_poll()})},_processContinueTo:function(a,b){this._continueStop?this._clearContinueTo():"SessionRun"===this._continueToType?this._processContinueToSessionRun("meta"===a):"TensorCondition"===this._continueToType?this._step():"op"===this._continueToType?this._processContinueToOp("meta"===
a,b):null!=this._continueToType&&""!==this._continueToType&&console.error("Invalid _continueToType:",this._continueToType)},_processContinueToSessionRun:function(a){a&&this.set("_continueToCounter",this._continueToCounter+1);this._continueToCounter<this._continueToCounterTarget?this._step():this._clearContinueTo()},_processContinueToOp:function(a,b){a&&this._announceNewSessionRun();a=b.device_name;b=b.maybe_base_expanded_node_name;var c=null==b?null:ob.removeNodeNameBaseExpansion(b);a+"/"+b===this._continueToTarget||
a+"/"+c===this._continueToTarget?(this._clearContinueTo(),this._sourceCodeShown&&this.set("_sourceFocusNodeName",c)):this._step()},_maybeUpdateTensorValueViews:function(a,b){var c=this.$$("#tensorValueMultiView");if(null!=c){var d=!1;_.forEach(c.getViews(),function(c){if(c.tensorName===a&&c.debugOp===b)return d=!0,!1});d&&c.renderTensorValues()}},reload:function(){var a=this;this.alreadyStarted||(this.set("alreadyStarted",!0),this._requestManager.request(u.getRouter().pluginRoute("debugger","/debugger_grpc_host_port")).then(function(b){a.$.initialDialog.openDialog(b.host,
b.port)}).catch(function(){a.$.initialDialog.openDisabledDialog()}).then(function(){a.long_poll()}))},_showSourceCodeChanged:function(a){this.set("_sourceCodeShown",a.target.active);this._sourceCodeShown?(this.$$("#node-entries").style.height="40%",this.$.sourceCodeView.render()):this.$$("#node-entries").style.height="80%"},_showToast:function(a){this.$.toast.setAttribute("text",a);this.$.toast.open()},_announceNewSessionRun:function(){this._showToast("Session.run() #"+this._sessionRunTotalCounter+
" is starting.")},_displayGraph:function(a,b){a={run_key:JSON.stringify(a),device_name:b};a=u.addParams("/data/plugin/debugger/debugger_graph",a);this.$.loader.datasets=[{name:"/debugger_graph",path:a}];this.$.loader.set("selectedDataset",0)},_processGatedGrpcDebugOps:function(a,b){var c=this;b?console.log("Polling for first GraphDef for run key:",a):this.set("_activeRuntimeGraphDeviceName",null);var d={mode:"retrieve_all",run_key:JSON.stringify(a)};d=u.addParams(u.getRouter().pluginRoute("debugger",
"/gated_grpc"),d);var e=[];this._requestManager.request(d).then(function(d){if(0==d.device_names.length)b||c._step(),c._processGatedGrpcDebugOps(a,!0);else{var f=null,h;for(h in d.gated_grpc_tensors)if(d.gated_grpc_tensors.hasOwnProperty(h)){-1===c._sessionRunKey2DeviceNames[a].indexOf(h)&&(c._sessionRunKey2DeviceNames[a].push(h),c.$.sessionRunsView.updateNumDevices(c._sessionRunKey2DeviceNames[a].length));c.set("_activeSessionRunDevices",c._sessionRunKey2DeviceNames[a].slice());f=c._activeSessionRunDevices[c._activeSessionRunDevices.length-
1];for(var l=d.gated_grpc_tensors[h],m=0;m<l.length;++m)e.push({device_name:h,node_name:l[m][0],op_type:l[m][1],output_slot:l[m][2],debug_op:l[m][3]})}null!=f&&(c.set("_activeRuntimeGraphDeviceName",f),d=Polymer.dom(c.$$("#active-runtime-graph-device-name")),null!=d&&d.setAttribute("selected",f));ob.sortAndBaseExpandDebugWatches(e);c.set("_debugWatches",e);c.$.sourceCodeView.render(e)}})},_createDebugWatchChangeHandler:function(){var a=this;return function(b,c){c=c?"break":"disable";a._requestBreakpointStateChange(ob.getCleanNodeName(b.device_name+
"/"+b.node_name),b.output_slot,b.debug_op,c)}},_focusOnGraphNode:function(a,b){null!=a&&this._activeRuntimeGraphDeviceName!==a&&this.set("_activeRuntimeGraphDeviceName",a);this._setTopRightRuntimeGraphsToActive();var c=this.$$("#graph");if(c.selectedNode===b)c.panToNode(b);else{var d=c.get("renderHierarchy").hierarchy.getNodeMap();null==d[b]&&(b=ob.removeNodeNameBaseExpansion(b));null!=d[b]&&c.set("selectedNode",b)}this.set("_highlightNodeName",a+"/"+b)},_createNodeClickedHandler:function(){var a=
this;return function(b,c,d){a._sourceCodeShown&&!0!==d&&a.set("_sourceFocusNodeName",ob.removeNodeNameBaseExpansion(c));a._focusOnGraphNode(b,c);a.set("_forceExpandNodeName",b+"/"+c)}},_createFeedFetchTargetClickedHandler:function(){var a=this;return function(b){var c=b;-1!==c.indexOf(":")&&(c=c.slice(0,c.indexOf(":")));b=_.find(a._debugWatches,function(a){return a.node_name===c||0===a.node_name.indexOf(c)&&"("===a.node_name[c.length]});null==b?a._showToast("Node '"+c+"' is not in the runtime graph of the current Session.run or does not have a debug op attached."):
a._focusOnGraphNode(b.device_name,c)}},_createTensorDataExpandHandler:function(){var a=this;return function(b){a._setTopRightTensorValuesToActive();setTimeout(function(){a.$$("#tensorValueMultiView").addView({viewId:a._createTensorViewId(),deviceName:b.deviceName,tensorName:b.tensorName,nodeName:b.nodeName,maybeBaseExpandedNodeName:b.maybeBaseExpandedNodeName,debugOp:b.debugOp,slicing:ob.getDefaultSlicing(b.shape),timeIndices:"-1"})},10)}},_createTensorViewId:function(){var a="debugger-tensor-view-"+
this._tensorViewIdCounter;this._tensorViewIdCounter++;return a},_createNodeContextMenuItems:function(){var a=this;return[{title:function(){return"Expand and highlight"},action:function(b){var c=ob.getCleanNodeName(b.node.name);b=a._activeRuntimeGraphDeviceName+"/"+b.node.name;a.set("_forceExpandNodeName",b);a.set("_highlightNodeName",b);a._sourceCodeShown&&a.set("_sourceFocusNodeName",ob.removeNodeNameBaseExpansion(c))}},{title:function(){return"Add breakpoint"},action:function(b){var c=ob.getCleanNodeName(b.node.name);
a.set("_forceExpandAndCheckNodeName",a._activeRuntimeGraphDeviceName+"/"+b.node.name);a._sourceCodeShown&&a.set("_sourceFocusNodeName",ob.removeNodeNameBaseExpansion(c))}},{title:function(){return"Continue to"},action:function(b){-1!==["_Arg","_Retval"].indexOf(b.node.op)?a._showToast('Cannot continue to node "'+b.node.name+'", due to op type "'+b.node.op+'".'):a._continueToNode(a._activeRuntimeGraphDeviceName,b.node.name)}}]},_createGetHealthPill:function(){var a=this;return function(b,c,d,e){var f=
u.addParams(u.getRouter().pluginRoute("debugger","/tensor_data"),{watch_key:b,time_indices:"-1",mapping:"health-pill"});a._requestManager.request(f).then(function(f){f=f.tensor_data[0];e(f);a._conditionalHealthPillStop(b,c,d,f)})}},_conditionalHealthPillStop:function(a,b,c,d){var e=this;if("TensorCondition"===this._continueToType&&ob.checkHealthPillAgainstTensorConditionKey(this._continueToTarget,d,this._continueToCounterTarget)){this.set("_continueStop",!0);d=ob.removeNodeNameBaseExpansion(c);this._sourceCodeShown&&
this.set("_sourceFocusNodeName",d);this._focusOnGraphNode(b,c);var f=b+"/"+c;this.set("_forceExpandNodeName",f);setTimeout(function(){e.set("_highlightNodeName",null);e.set("_highlightNodeName",f)},100);this._showToast('Tensor condition "'+this._continueToTarget+'" is met by watch key: "'+a+'".\nStopping continuation.')}},_continueToNode:function(a,b){var c=ob.getCleanNodeName(b);a=a+"/"+b;this._requestBreakpointStateChange(c,0,"DebugIdentity","break");this.set("_forceExpandAndCheckNodeName",a);this._sourceCodeShown&&
this.set("_sourceFocusNodeName",ob.removeNodeNameBaseExpansion(c));this._setContinueTo("op",a);this.$.continueDialog.updateContinueButtonText(!0);this._step()},_createContinueToNodeHandler:function(){var a=this;return function(b,c){a._continueToNode(b,c)}},_onActiveRuntimeGraphDeviceNameChange:function(a){var b=Polymer.dom(this.$$("#runtime-graph-device-name"));if(0<this._activeSessionRunDevices.length){var c=a+(" (device "+(this._activeSessionRunDevices.indexOf(a)+1)+" of "+this._activeSessionRunDevices.length+
")");this._isTopRightRuntimeGraphsActive&&null!=b&&(b.textContent=c)}else this._isTopRightRuntimeGraphsActive&&null!=b&&(b.textContent="Waiting for device...");null!=a&&this._displayGraph(this._activeSessionRunKey,a)},_step:function(){var a=this;if(null!=this._activeSessionRunKey){this.set("_busy",!0);var b={mode:"retrieve_device_names",run_key:JSON.stringify(this._activeSessionRunKey)};b=u.addParams(u.getRouter().pluginRoute("debugger","/gated_grpc"),b);this._requestManager.request(b).then(function(b){for(var c=
!1,e=0;e<b.device_names.length;++e)if(-1===a._activeSessionRunDevices.indexOf(b.device_names[e])){c=!0;break}a._requestManager.request(u.getRouter().pluginRoute("debugger","/ack")).then(function(){c&&a._processGatedGrpcDebugOps(a._activeSessionRunKey,!1)})})}},_createSessionRunGo:function(){var a=this;return function(b){a._setContinueTo("SessionRun",a._currentSessionRunInfo,b);a._step()}},_createTensorConditionGo:function(){var a=this;return function(b,c){a._setContinueTo("TensorCondition",b,c);a.$.tensorDataSummary.enableHealthPills();
a._step()}},_createForceContinuationStop:function(){var a=this;return function(){a._showToast('Continuation of type "'+a._continueToType+'" was interrupted by user.');a.set("_continueStop",!0)}},_setContinueTo:function(a,b,c){this._continueToType=a;this._continueToTarget=b;this._continueToCounterTarget=c;this._continueToCounter=0;this._continueStop=!1},_clearContinueTo:function(){this.$.continueDialog.notifyContinuationStop();this._continueToTarget=this._continueToType="";this._continueToCounterTarget=
-1;this._continueToCounter=0;this._continueStop=!1;this.set("_busy",!1)},_createContinueToCallback:function(){var a=this;return function(b,c){a._setContinueTo("op",b+"/"+c);a._step();a._isTopRightRuntimeGraphsActive&&a._focusOnGraphNode(b,c);a.set("_forceExpandNodeName",b+"/"+c)}},_topRightSelectedChanged:function(a){a=this._topRightTabs[a].id;this.set("_isTopRightRuntimeGraphsActive","tab-runtime-graphs"===a);this.set("_isTopRightTensorValuesActive","tab-tensor-values"===a)},_setTopRightRuntimeGraphsToActive:function(){this.set("_topRightSelected",
"0");this.set("_isTopRightRuntimeGraphsActive",!0);this.set("_isTopRightTensorValuesActive",!1)},_setTopRightTensorValuesToActive:function(){this.set("_topRightSelected","1");this.set("_isTopRightRuntimeGraphsActive",!1);this.set("_isTopRightTensorValuesActive",!0)},_requestBreakpointStateChange:function(a,b,c,d){var e=this;a=u.addParams(u.getRouter().pluginRoute("debugger","/gated_grpc"),{mode:"set_state",node_name:a,output_slot:b,debug_op:c,state:d});this.set("_busy",!0);this._requestManager.request(a).then(function(a){e.set("_busy",
!1);console.log("Breakpoint set_state response: ",a)})},_graphProgressUpdated:function(a){var b=this.$$("#top-right-progress-bar");null==this._latestSessionRun?(b.setAttribute("value",0),this.set("_busy",!1)):(b.setAttribute("value",a.value),this.set("_busy",100>a.value))},_handleWindowResize:function(){this.set("_windowWidth",window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth);this.set("_windowHeight",window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight);
this._sizeDashboardRegions(this._leftPaneWidth,this._topRightQuadrantHeight,this._windowWidth)},_computeMaxleftPaneWidth:function(a,b,c){return a-b-c},_computeMaxTopRightQuadrantHeight:function(a,b){return a-b-70},_sizeDashboardRegions:function(a,b,c){this.$$("#left-pane").style.width=a+"px";a=c-a-this._resizerWidth-8;this.$$("#center-content").style.width=a+"px";a=b-this._resizerWidth;this.$$("#top-right-quadrant").style.height=a+"px";this.$$("#tensor-data").style.top=b+"px"},_leftPaneWidthObserver:G.getNumberObserver("_leftPaneWidth",
{defaultValue:450}),_topRightQuadrantHeightObserver:G.getNumberObserver("_topRightQuadrantHeight",{defaultValue:qb})});$a.registerDashboard({plugin:"debugger",elementName:"tf-debugger-dashboard"});
</script>
</dom-module>











<dom-module id="paper-material-shared-styles">
  <template>
    
  </template>
</dom-module>




<dom-module id="paper-material">
  <template>
    
    

    <content class="style-scope paper-material"></content>
  </template>
</dom-module>
<script>//~~WEBPATH~~/paper-material/paper-material.html.js
Polymer({is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}});
</script>












<dom-module id="tf-graph-debugger-data-card">
<template>

<paper-material elevation="1" class="card health-pill-legend style-scope tf-graph-debugger-data-card">
  <div class="title style-scope tf-graph-debugger-data-card">
    Enable all (not just sampled) steps. Requires slow disk read.
  </div>
  <paper-toggle-button id="enableAllStepsModeToggle" class="style-scope tf-graph-debugger-data-card">
  </paper-toggle-button>
  <h2 class="style-scope tf-graph-debugger-data-card">
    Step of Health Pills:
    <template is="dom-if" class="style-scope tf-graph-debugger-data-card"></template>
    <template is="dom-if" class="style-scope tf-graph-debugger-data-card"></template>
    <paper-spinner-lite active="" id="health-pills-loading-spinner" class="style-scope tf-graph-debugger-data-card"></paper-spinner-lite>
  </h2>
  <template is="dom-if" class="style-scope tf-graph-debugger-data-card"></template>
  <template is="dom-if" class="style-scope tf-graph-debugger-data-card"></template>
  <h2 class="style-scope tf-graph-debugger-data-card">
    Health Pill
    <template is="dom-if" class="style-scope tf-graph-debugger-data-card"></template>
    <template is="dom-if" class="style-scope tf-graph-debugger-data-card"></template>
  </h2>
  <template is="dom-repeat" class="style-scope tf-graph-debugger-data-card"></template>
  <div class="style-scope tf-graph-debugger-data-card">
    <h2 id="numeric-alerts-header" class="style-scope tf-graph-debugger-data-card">Numeric Alerts</h2>
    <p class="style-scope tf-graph-debugger-data-card">
      Alerts are sorted from top to bottom by increasing timestamp.
    
    </p><div id="numeric-alerts-table-container" class="style-scope tf-graph-debugger-data-card">
      <table id="numeric-alerts-table" class="style-scope tf-graph-debugger-data-card">
        <thead class="style-scope tf-graph-debugger-data-card">
          <tr class="style-scope tf-graph-debugger-data-card">
            <th class="style-scope tf-graph-debugger-data-card">First Offense</th>
            <th class="style-scope tf-graph-debugger-data-card">Tensor (Device)</th>
            <th id="event-counts-th" class="style-scope tf-graph-debugger-data-card">Event Counts</th>
          </tr>
        </thead>
        <tbody id="numeric-alerts-body" class="style-scope tf-graph-debugger-data-card">
        </tbody>
      </table>
    </div>
  </div>
  <template is="dom-if" class="style-scope tf-graph-debugger-data-card"></template>
</paper-material>
</template>
<script>//~~WEBPATH~~/tf-graph-debugger-data-card/tf-graph-debugger-data-card.html.js
Polymer({is:"tf-graph-debugger-data-card",properties:{renderHierarchy:Object,debuggerNumericAlerts:{type:Array,notify:!0},nodeNamesToHealthPills:Object,healthPillStepIndex:{type:Number,notify:!0},specificHealthPillStep:{type:Number,value:0,notify:!0},selectedNode:{type:String,notify:!0},highlightedNode:{type:String,notify:!0},selectedNodeInclude:{type:Number,notify:!0},areHealthPillsLoading:Boolean,healthPillEntries:{type:Array,value:tf.graph.scene.healthPillEntries,readOnly:!0},healthPillValuesForSelectedNode:{type:Array,
computed:"_computeHealthPillForNode(nodeNamesToHealthPills, healthPillStepIndex, selectedNode, allStepsModeEnabled, areHealthPillsLoading)"},allStepsModeEnabled:{type:Boolean,notify:!0},_biggestStepEverSeen:{type:Number,computed:"_computeBiggestStepEverSeen(nodeNamesToHealthPills)"},_maxStepIndex:{type:Number,computed:"_computeMaxStepIndex(nodeNamesToHealthPills)"},_currentStepDisplayValue:{type:String,computed:"_computeCurrentStepDisplayValue(nodeNamesToHealthPills, healthPillStepIndex, allStepsModeEnabled, specificHealthPillStep, areHealthPillsLoading)"}},
observers:["_updateAlertsList(debuggerNumericAlerts)"],ready:function(){var a=document.getElementById("mainContainer"),b=document.querySelector("tf-dashboard-layout .scrollbar");a&&b&&(a.style.overflow="hidden",b.style.overflow="hidden")},_healthPillsAvailable:function(a,b){return a&&b},_computeTensorCountString:function(a,b){return a?a[b].toFixed(0):""},_computeHealthPillForNode:function(a,b,c,d,e){if(e||!c)return null;a=a[c];return a?(b=a[d?0:b])?b.value.slice(2,8):null:null},_computeCurrentStepDisplayValue:function(a,
b,c,d,e){if(c)return d.toFixed(0);if(e)return 0;for(var f in a)return a[f][b].step.toFixed(0);return 0},_computeBiggestStepEverSeen:function(a){for(var b in a)return a=a[b],Math.max(this._biggestStepEverSeen,a[a.length-1].step);return this._biggestStepEverSeen||0},_computeMaxStepIndex:function(a){for(var b in a)return a[b].length-1;return 0},_hasDebuggerNumericAlerts:function(a){return a&&a.length},_updateAlertsList:function(a){var b=this.$$("#numeric-alerts-body");if(b){b.innerHTML="";for(var c=
0;c<a.length;c++){var d=a[c],e=document.createElement("tr"),f=document.createElement("td");f.innerHTML=tf.graph.util.computeHumanFriendlyTime(d.first_timestamp);f.classList.add("first-offense-td");e.appendChild(f);f=document.createElement("td");f.classList.add("tensor-device-td");var g=document.createElement("div");g.classList.add("tensor-section-within-table");g.innerHTML=d.tensor_name;this._addOpExpansionListener(g,d.tensor_name);f.appendChild(g);g=document.createElement("div");g.classList.add("device-section-within-table");
g.innerHTML="("+d.device_name+")";f.appendChild(g);e.appendChild(f);f=document.createElement("div");f.classList.add("mini-health-pill");g=document.createElement("td");g.classList.add("mini-health-pill-td");g.appendChild(f);e.appendChild(g);d.neg_inf_event_count&&(g=document.createElement("div"),g.classList.add("negative-inf-mini-health-pill-section"),g.innerHTML=d.neg_inf_event_count,g.setAttribute("title",d.neg_inf_event_count+" events with -\u221e"),f.appendChild(g));d.pos_inf_event_count&&(g=document.createElement("div"),
g.classList.add("positive-inf-mini-health-pill-section"),g.innerHTML=d.pos_inf_event_count,g.setAttribute("title",d.pos_inf_event_count+" events with +\u221e"),f.appendChild(g));d.nan_event_count&&(g=document.createElement("div"),g.classList.add("nan-mini-health-pill-section"),g.innerHTML=d.nan_event_count,g.setAttribute("title",d.nan_event_count+" events with NaN"),f.appendChild(g));Polymer.dom(b).appendChild(e)}}},_addOpExpansionListener:function(a,b){var c=this;a.addEventListener("click",function(){function a(){g.scrollTop=
g.scrollHeight-f}var e=tf.graph.render.expandUntilNodeIsShown(c.renderHierarchy,b),f,g=document.querySelector("tf-graph-info#graph-info");g&&(f=g.scrollHeight-g.scrollTop);var h=c.selectedNode;c.set("selectedNode",e);g&&(h?a():window.setTimeout(a,20))})}});
</script>
</dom-module>







<script>//~~WEBPATH~~/iron-scroll-target-behavior/iron-scroll-target-behavior.html.js
Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(a,b){this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null);b&&("document"===a?this.scrollTarget=this._doc:"string"===typeof a?this.scrollTarget=(b=this.domHost)&&b.$?b.$[a]:Polymer.dom(this.ownerDocument).querySelector("#"+
a):this._isValidScrollTarget()&&(this._oldScrollTarget=a,this._toggleScrollListener(this._shouldHaveListener,a)))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:
0},set _scrollTop(a){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,a):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=a)},set _scrollLeft(a){this.scrollTarget===this._doc?window.scrollTo(a,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a)},scroll:function(a,b){this.scrollTarget===this._doc?window.scrollTo(a,b):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a,this.scrollTarget.scrollTop=b)},get _scrollTargetWidth(){return this._isValidScrollTarget()?
this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(a,b){b=b===this._doc?window:b;a?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),b.addEventListener("scroll",this._boundScrollHandler)):
this._boundScrollHandler&&(b.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(a){this._shouldHaveListener=a;this._toggleScrollListener(a,this.scrollTarget)}};
</script>




<dom-module id="iron-list">
  <template>
    

    <array-selector id="selector" class="style-scope iron-list"></array-selector>

    <div id="items" class="style-scope iron-list">
      <content class="style-scope iron-list"></content>
    </div>

  </template>
</dom-module>

<script>//~~WEBPATH~~/iron-list/iron-list.html.js
(function(){var a=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),b=a&&8<=a[1],c=null!=Polymer.flush,d=c?Polymer.Async.animationFrame:0,e=c?Polymer.Async.idlePeriod:1,f=c?Polymer.Async.microTask:2;Polymer.OptionalMutableDataBehavior||(Polymer.OptionalMutableDataBehavior={});Polymer({is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,
observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[Polymer.Templatizer,Polymer.IronResizableBehavior,Polymer.IronScrollTargetBehavior,Polymer.OptionalMutableDataBehavior],
_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_collection:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,
_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _itemsParent(){return Polymer.dom(Polymer.dom(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},
get _maxVirtualStart(){var a=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,a-this._physicalCount)},set _virtualStart(a){a=this._clamp(a,0,this._maxVirtualStart);this.grid&&(a-=a%this._itemsPerRow);this._virtualStartVal=a},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(a){a%=this._physicalCount;0>a&&(a=this._physicalCount+a);this.grid&&(a-=a%this._itemsPerRow);this._physicalStartVal=a},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+
this._physicalCount-1)%this._physicalCount},set _physicalCount(a){this._physicalCountVal=a},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?Infinity:this._viewportHeight*this._maxPages},get _isVisible(){return!(!this.offsetWidth&&!this.offsetHeight)},get firstVisibleIndex(){var a=this._firstVisibleIndexVal;if(null==a){var b=this._physicalTop+this._scrollOffset;this._firstVisibleIndexVal=a=this._iterateItems(function(a,c){b+=this._getPhysicalSizeIncrement(a);
if(b>this._scrollPosition)return this.grid?c-c%this._itemsPerRow:c;if(this.grid&&this._virtualCount-1===c)return c-c%this._itemsPerRow})||0}return a},get lastVisibleIndex(){var a=this._lastVisibleIndexVal;if(null==a){if(this.grid)a=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var b=this._physicalTop+this._scrollOffset;this._iterateItems(function(c,d){b<this._scrollBottom&&(a=d);b+=this._getPhysicalSizeIncrement(c)})}this._lastVisibleIndexVal=a}return a},
get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this._debounce("_render",this._render,d);this.listen(this,"iron-resize",
"_resizeHandler");this.listen(this,"keydown","_keydownHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler");this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function(a){this.style.webkitOverflowScrolling=a===this?"touch":"";this.style.overflowY=a===this?"auto":"";this._firstVisibleIndexVal=this._lastVisibleIndexVal=null;this._debounce("_render",this._render,d)},updateViewportBoundaries:function(){var a=window.getComputedStyle(this);this._scrollerPaddingTop=
this.scrollTarget===this?0:parseInt(a["padding-top"],10);this._isRTL="rtl"===a.direction;this._viewportWidth=this.$.items.offsetWidth;this._viewportHeight=this._scrollTargetHeight;this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var a=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),b=a-this._scrollPosition,c=0<=b;this._scrollPosition=a;this._lastVisibleIndexVal=this._firstVisibleIndexVal=null;Math.abs(b)>this._physicalSize&&0<this._physicalSize?(b-=this._scrollOffset,c=Math.round(b/
this._physicalAverage)*this._itemsPerRow,this._virtualStart+=c,this._physicalStart+=c,this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._update()):0<this._physicalCount&&(a=this._getReusables(c),c?(this._physicalTop=a.physicalTop,this._virtualStart+=a.indexes.length,this._physicalStart+=a.indexes.length):(this._virtualStart-=a.indexes.length,this._physicalStart-=a.indexes.length),this._update(a.indexes,c?null:a.indexes),this._debounce("_increasePoolIfNeeded",
this._increasePoolIfNeeded.bind(this,0),f))},_getReusables:function(a){var b=[],c=this._hiddenContentSize*this._ratio,d=this._virtualStart,e=this._virtualEnd,f=this._physicalCount,g=this._physicalTop+this._scrollOffset;var t=this._physicalBottom+this._scrollOffset;var r=this._scrollTop,w=this._scrollBottom;if(a){var v=this._physicalStart;t=r-g}else v=this._physicalEnd,t-=w;for(;;){var y=this._getPhysicalSizeIncrement(v);t-=y;if(b.length>=f||t<=c)break;if(a){if(e+b.length+1>=this._virtualCount)break;
if(g+y>=r-this._scrollOffset)break;b.push(v);g+=y;v=(v+1)%f}else{if(0>=d-b.length)break;if(g+this._physicalSize-y<=w)break;b.push(v);g-=y;v=0===v?f-1:v-1}}return{indexes:b,physicalTop:g-this._scrollOffset}},_update:function(a,b){if(!(a&&0===a.length||0===this._physicalCount)){this._manageFocus();this._assignModels(a);this._updateMetrics(a);if(b)for(;b.length;)a=b.pop(),this._physicalTop-=this._getPhysicalSizeIncrement(a);this._positionItems();this._updateScrollerSize()}},_createPool:function(a){this._ensureTemplatized();
var b,c=Array(a);for(b=0;b<a;b++){var d=this.stamp(null);c[b]=d.root.querySelector("*");this._itemsParent.appendChild(d.root)}return c},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(a){a=this._clamp(this._physicalCount+a,3,this._virtualCount-this._virtualStart);a=this._convertIndexToCompleteRow(a);if(this.grid){var b=a%this._itemsPerRow;b&&a-b<=this._physicalCount&&(a+=this._itemsPerRow);
a-=b}a-=this._physicalCount;b=Math.round(.5*this._physicalCount);if(!(0>a)){if(0<a){b=window.performance.now();[].push.apply(this._physicalItems,this._createPool(a));for(var c=0;c<a;c++)this._physicalSizes.push(0);this._physicalCount+=a;this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart+=a);this._update();this._templateCost=(window.performance.now()-b)/a;b=Math.round(.5*
this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===b||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,b)),e):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,b),f))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var a=this._getReusables(!0);this._physicalTop=a.physicalTop;this._virtualStart+=
a.indexes.length;this._physicalStart+=a.indexes.length;this._update(a.indexes);this._update();this._increasePoolIfNeeded(0)}else 0<this._virtualCount&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_ensureTemplatized:function(){if(!this.ctor){(this._userTemplate=this.queryEffectiveChildren("template"))||console.warn("iron-list requires a template to be provided in light-dom");var a={__key__:!0};a[this.as]=!0;a[this.indexAs]=!0;a[this.selectedAs]=!0;a.tabIndex=!0;this._instanceProps=
a;this.templatize(this._userTemplate,this.mutableData)}},_gridChanged:function(a,b){"undefined"!==typeof b&&(this.notifyResize(),Polymer.flush?Polymer.flush():Polymer.dom.flush(),a&&this._updateGridMetrics())},_itemsChanged:function(a){if("items"===a.path)this._physicalTop=this._virtualStart=0,this._virtualCount=this.items?this.items.length:0,this._collection=this.items&&Polymer.Collection?Polymer.Collection.get(this.items):null,this._physicalIndexForKey={},this._lastVisibleIndexVal=this._firstVisibleIndexVal=
null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounce("_render",this._render,d);else if("items.splices"===a.path){this._adjustVirtualIndex(a.value.indexSplices);this._virtualCount=this.items?this.items.length:0;var b=this._getActiveElement();this.contains(b)&&b.blur();a=a.value.indexSplices.some(function(a){return a.index+
a.addedCount>=this._virtualStart&&a.index<=this._virtualEnd},this);this._isClientFull()&&!a||this._debounce("_render",this._render,d)}else"items.length"!==a.path&&this._forwardItemPath(a.path,a.value)},_forwardItemPath:function(a,b){a=a.slice(6);var d=a.indexOf(".");-1===d&&(d=a.length);var e,f=this.modelForElement(this._offscreenFocusedItem);if(c){var g=parseInt(a.substring(0,d),10);if(e=this._isIndexRendered(g)){var h=this._getPhysicalIndex(g);var t=this.modelForElement(this._physicalItems[h])}else f&&
(t=f);if(!t||t[this.indexAs]!==g)return}else if(g=a.substring(0,d),f&&f.__key__===g)t=f;else if(h=this._physicalIndexForKey[g],t=this.modelForElement(this._physicalItems[h]),!t||t.__key__!==g)return;a=a.substring(d+1);a=this.as+(a?"."+a:"");c?t._setPendingPropertyOrPath(a,b,!1,!0):t.notifyPath(a,b,!0);t._flushProperties&&t._flushProperties(!0);e&&(this._updateMetrics([h]),this._positionItems(),this._updateScrollerSize())},_adjustVirtualIndex:function(a){a.forEach(function(a){a.removed.forEach(this._removeItem,
this);a.index<this._virtualStart&&(a=Math.max(a.addedCount-a.removed.length,a.index-this._virtualStart),this._virtualStart+=a,0<=this._focusedVirtualIndex&&(this._focusedVirtualIndex+=a))},this)},_removeItem:function(a){this.$.selector.deselect(a);this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===a&&this._removeFocusedItem()},_iterateItems:function(a,b){var c,d;if(2===arguments.length&&b)for(d=0;d<b.length;d++){var e=b[d];var f=this._computeVidx(e);if(null!=(c=a.call(this,e,f)))return c}else{e=
this._physicalStart;for(f=this._virtualStart;e<this._physicalCount;e++,f++)if(null!=(c=a.call(this,e,f)))return c;for(e=0;e<this._physicalStart;e++,f++)if(null!=(c=a.call(this,e,f)))return c}},_computeVidx:function(a){return a>=this._physicalStart?this._virtualStart+(a-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+a},_assignModels:function(a){this._iterateItems(function(a,b){var c=this._physicalItems[a],d=this.items&&this.items[b];if(null!=d){var e=this.modelForElement(c);
e.__key__=this._collection?this._collection.getKey(d):null;this._forwardProperty(e,this.as,d);this._forwardProperty(e,this.selectedAs,this.$.selector.isSelected(d));this._forwardProperty(e,this.indexAs,b);this._forwardProperty(e,"tabIndex",this._focusedVirtualIndex===b?0:-1);this._physicalIndexForKey[e.__key__]=a;e._flushProperties&&e._flushProperties(!0);c.removeAttribute("hidden")}else c.setAttribute("hidden","")},a)},_updateMetrics:function(a){Polymer.flush?Polymer.flush():Polymer.dom.flush();
var b=0,c=0,d=this._physicalAverageCount,e=this._physicalAverage;this._iterateItems(function(a){c+=this._physicalSizes[a];this._physicalSizes[a]=this._physicalItems[a].offsetHeight;b+=this._physicalSizes[a];this._physicalAverageCount+=this._physicalSizes[a]?1:0},a);this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):(c=1===this._itemsPerRow?c:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+
b-c,this._itemsPerRow=1);this._physicalAverageCount!==d&&(this._physicalAverage=Math.round((e*d+b)/this._physicalAverageCount))},_updateGridMetrics:function(){this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200;this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:200;this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var a=this._physicalTop;
if(this.grid){var b=(this._viewportWidth-this._itemsPerRow*this._itemWidth)/2;this._iterateItems(function(c,d){var e=Math.floor(d%this._itemsPerRow*this._itemWidth+b);this._isRTL&&(e*=-1);this.translate3d(e+"px",a+"px",0,this._physicalItems[c]);this._shouldRenderNextRow(d)&&(a+=this._rowHeight)})}else this._iterateItems(function(b){this.translate3d(0,a+"px",0,this._physicalItems[b]);a+=this._physicalSizes[b]})},_getPhysicalSizeIncrement:function(a){return this.grid?this._computeVidx(a)%this._itemsPerRow!==
this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[a]},_shouldRenderNextRow:function(a){return a%this._itemsPerRow===this._itemsPerRow-1},_adjustScrollPosition:function(){var a=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==a){this._physicalTop-=a;var c=this._scrollTop;!b&&0<c&&this._resetScrollPosition(c-a)}},_resetScrollPosition:function(a){this.scrollTarget&&0<=a&&(this._scrollPosition=this._scrollTop=a)},_updateScrollerSize:function(a){this._estScrollHeight=
this.grid?this._virtualRowCount*this._rowHeight:this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage;if((a=(a=(a=a||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<this._estScrollHeight)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight},scrollToItem:function(a){return this.scrollToIndex(this.items.indexOf(a))},
scrollToIndex:function(a){if(!("number"!==typeof a||0>a||a>this.items.length-1)&&(Polymer.flush?Polymer.flush():Polymer.dom.flush(),0!==this._physicalCount)){a=this._clamp(a,0,this._virtualCount-1);if(!this._isIndexRendered(a)||a>=this._maxVirtualStart)this._virtualStart=this.grid?a-2*this._itemsPerRow:a-1;this._manageFocus();this._assignModels();this._updateMetrics();this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var b=this._physicalStart,c=this._virtualStart,
d=0,e=this._hiddenContentSize;c<a&&d<=e;)d+=this._getPhysicalSizeIncrement(b),b=(b+1)%this._physicalCount,c++;this._updateScrollerSize(!0);this._positionItems();this._resetScrollPosition(this._physicalTop+this._scrollOffset+d);this._increasePoolIfNeeded(0);this._lastVisibleIndexVal=this._firstVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverageCount=this._physicalAverage=0},_resizeHandler:function(){this._debounce("_render",function(){this._lastVisibleIndexVal=this._firstVisibleIndexVal=
null;this.updateViewportBoundaries();this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},d)},selectItem:function(a){return this.selectIndex(this.items.indexOf(a))},selectIndex:function(a){if(!(0>a||a>=this._virtualCount)){!this.multiSelection&&this.selectedItem&&this.clearSelection();if(this._isIndexRendered(a)){var b=this.modelForElement(this._physicalItems[this._getPhysicalIndex(a)]);b&&(b[this.selectedAs]=!0);this.updateSizeForIndex(a)}this.$.selector.selectIndex?
this.$.selector.selectIndex(a):this.$.selector.select(this.items[a])}},deselectItem:function(a){return this.deselectIndex(this.items.indexOf(a))},deselectIndex:function(a){0>a||a>=this._virtualCount||(this._isIndexRendered(a)&&(this.modelForElement(this._physicalItems[this._getPhysicalIndex(a)])[this.selectedAs]=!1,this.updateSizeForIndex(a)),this.$.selector.deselectIndex?this.$.selector.deselectIndex(a):this.$.selector.deselect(this.items[a]))},toggleSelectionForItem:function(a){return this.toggleSelectionForIndex(this.items.indexOf(a))},
toggleSelectionForIndex:function(a){(this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(a):this.$.selector.isSelected(this.items[a]))?this.deselectIndex(a):this.selectIndex(a)},clearSelection:function(){this._iterateItems(function(a){this.modelForElement(this._physicalItems[a])[this.selectedAs]=!1});this.$.selector.clearSelection()},_selectionEnabledChanged:function(a){(a?this.listen:this.unlisten).call(this,this,"tap","_selectionHandler")},_selectionHandler:function(a){var b=this.modelForElement(a.target);
if(b){var c=Polymer.dom(a).path[0];a=this._getActiveElement();var d=this._physicalItems[this._getPhysicalIndex(b[this.indexAs])];if("input"!==c.localName&&"button"!==c.localName&&"select"!==c.localName){c=b.tabIndex;b.tabIndex=-100;var e=a?a.tabIndex:-1;b.tabIndex=c;a&&d!==a&&d.contains(a)&&-100!==e||this.toggleSelectionForItem(b[this.as])}}},_multiSelectionChanged:function(a){this.clearSelection();this.$.selector.multi=a},updateSizeForItem:function(a){return this.updateSizeForIndex(this.items.indexOf(a))},
updateSizeForIndex:function(a){if(!this._isIndexRendered(a))return null;this._updateMetrics([this._getPhysicalIndex(a)]);this._positionItems();return null},_manageFocus:function(){var a=this._focusedVirtualIndex;0<=a&&a<this._virtualCount?this._isIndexRendered(a)?this._restoreFocusedItem():this._createFocusBackfillItem():0<this._virtualCount&&0<this._physicalCount&&(this._focusedPhysicalIndex=this._physicalStart,this._focusedVirtualIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},
_convertIndexToCompleteRow:function(a){this._itemsPerRow=this._itemsPerRow||1;return this.grid?Math.ceil(a/this._itemsPerRow)*this._itemsPerRow:a},_isIndexRendered:function(a){return a>=this._virtualStart&&a<=this._virtualEnd},_isIndexVisible:function(a){return a>=this.firstVisibleIndex&&a<=this.lastVisibleIndex},_getPhysicalIndex:function(a){return c?(this._physicalStart+(a-this._virtualStart))%this._physicalCount:this._physicalIndexForKey[this._collection.getKey(this.items[a])]},focusItem:function(a){this._focusPhysicalItem(a)},
_focusPhysicalItem:function(a){if(!(0>a||a>=this._virtualCount)){this._restoreFocusedItem();this._isIndexRendered(a)||this.scrollToIndex(a);var b=this._physicalItems[this._getPhysicalIndex(a)],c=this.modelForElement(b),d;c.tabIndex=-100;-100===b.tabIndex&&(d=b);d||(d=Polymer.dom(b).querySelector('[tabindex\x3d"-100"]'));c.tabIndex=0;this._focusedVirtualIndex=a;d&&d.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&this._itemsParent.removeChild(this._offscreenFocusedItem);this._focusedItem=
this._focusBackfillItem=this._offscreenFocusedItem=null;this._focusedPhysicalIndex=this._focusedVirtualIndex=-1},_createFocusBackfillItem:function(){var a=this._focusedPhysicalIndex;if(!(this._offscreenFocusedItem||0>this._focusedVirtualIndex)){if(!this._focusBackfillItem){var b=this.stamp(null);this._focusBackfillItem=b.root.querySelector("*");this._itemsParent.appendChild(b.root)}this._offscreenFocusedItem=this._physicalItems[a];this.modelForElement(this._offscreenFocusedItem).tabIndex=0;this._physicalItems[a]=
this._focusBackfillItem;this._focusedPhysicalIndex=a;this.translate3d(0,"-10000px",0,this._offscreenFocusedItem)}},_restoreFocusedItem:function(){if(this._offscreenFocusedItem&&!(0>this._focusedVirtualIndex)){this._assignModels();var a=this._focusedPhysicalIndex,b=this._physicalItems[a];if(b){var c=this.modelForElement(b),d=this.modelForElement(this._offscreenFocusedItem);c[this.as]===d[this.as]?(this._focusBackfillItem=b,c.tabIndex=-1,this._physicalItems[a]=this._offscreenFocusedItem,this.translate3d(0,
"-10000px",0,this._focusBackfillItem)):(this._removeFocusedItem(),this._focusBackfillItem=null);this._offscreenFocusedItem=null}}},_didFocus:function(a){a=this.modelForElement(a.target);var b=this.modelForElement(this._focusedItem),c=null!==this._offscreenFocusedItem,d=this._focusedVirtualIndex;a&&(b===a?this._isIndexVisible(d)||this.scrollToIndex(d):(this._restoreFocusedItem(),b&&(b.tabIndex=-1),a.tabIndex=0,this._focusedVirtualIndex=d=a[this.indexAs],this._focusedPhysicalIndex=this._getPhysicalIndex(d),
this._focusedItem=this._physicalItems[this._focusedPhysicalIndex],c&&!this._offscreenFocusedItem&&this._update()))},_keydownHandler:function(a){switch(a.keyCode){case 40:a.preventDefault();this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+
(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex),this._selectionHandler(a)}},_clamp:function(a,b,c){return Math.min(c,Math.max(b,a))},_debounce:function(a,b,d){c?(this._debouncers=this._debouncers||{},this._debouncers[a]=Polymer.Debouncer.debounce(this._debouncers[a],d,b.bind(this)),Polymer.enqueueDebouncer(this._debouncers[a])):Polymer.dom.addDebouncer(this.debounce(a,b))},_forwardProperty:function(a,b,d){c?a._setPendingProperty(b,d):a[b]=d},_forwardHostPropV2:function(a,
b){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(c){c&&this.modelForElement(c).forwardHostProp(a,b)},this)},_notifyInstancePropV2:function(a,b,c){Polymer.Path.matches(this.as,b)&&(a=a[this.indexAs],b==this.as&&(this.items[a]=c),this.notifyPath(Polymer.Path.translate(this.as,"items."+a,b),c))},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(a,b,c){0===b.indexOf(this.as+".")&&this.notifyPath("items."+
a.__key__+"."+b.slice(this.as.length+1),c)},_forwardParentPath:function(a,b){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(c){c&&this.modelForElement(c).notifyPath(a,b,!0)},this)},_forwardParentProp:function(a,b){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(c){c&&(this.modelForElement(c)[a]=b)},this)},_getActiveElement:function(){var a=this._itemsParent.node.domHost;return Polymer.dom(a?
a.root:document).activeElement}})})();
</script>











<dom-module id="paper-item-body">
  <template>
    

    <content class="style-scope paper-item-body"></content>
  </template>

  <script>//~~WEBPATH~~/paper-item/paper-item-body.html.js
Polymer({is:"paper-item-body"});
</script>
</dom-module>







<dom-module id="tf-graph-icon">
  
  <template>
    <template is="dom-if" class="style-scope tf-graph-icon"></template>
    <template is="dom-if" class="style-scope tf-graph-icon"></template>
    <template is="dom-if" class="style-scope tf-graph-icon"></template>
  </template>

  <script>//~~WEBPATH~~/tf-graph-info/tf-graph-icon.html.js
Polymer({is:"tf-graph-icon",properties:{node:{type:Object,value:null},renderInfo:{type:Object,value:null},colorBy:{type:Object,value:"structural"},templateIndex:{type:Function,value:null},type:{type:String,value:null},vertical:{type:Boolean,value:!1},const:{type:Boolean,value:!1},summary:{type:Boolean,value:!1},fill:{type:String,value:null},height:{type:Number,value:20},_computedFill:{type:String,computed:"_getComputedFill(node, renderInfo, colorBy, templateIndex, fill)"}},_getComputedFill:function(a,
b,c,d,e){return a&&b&&c&&d?(a=tf.graph.scene.node,a.getFillForNode(d,a.ColorBy[c.toUpperCase()],b,!1)):e},_getFill:function(a,b){return a||{OP:tf.graph.render.OpNodeColors.DEFAULT_FILL,META:tf.graph.render.MetanodeColors.DEFAULT_FILL,SERIES:tf.graph.render.SeriesNodeColors.DEFAULT_FILL}[b]},_getStroke:function(a,b){return a?tf.graph.scene.node.getStrokeForFill(a):{OP:tf.graph.render.OpNodeColors.DEFAULT_STROKE,META:tf.graph.render.MetanodeColors.DEFAULT_STROKE,SERIES:tf.graph.render.SeriesNodeColors.DEFAULT_STROKE}[b]},
_isType:function(a,b,c){return a?tf.graph.NodeType[a.type]===c:b===c},_isVertical:function(a,b){return a?a.hasNonControlEdges:!!b},_isConst:function(a,b){return a?"Const"===a.op:!!b},_isSummary:function(a,b){return a?this._isType(a,null,"OP")&&"Summary"===a.op.substr(-7):!!b},_isRegularOp:function(a,b,c){return!this._isConst(a,b)&&!this._isSummary(a,c)},_fadedClass:function(a,b){return a&&a.isFadedOut?"faded-"+b:""}});
</script>
</dom-module>


<dom-module id="tf-graph-op-compat-list-item">
<template>


<div id="list-item" class="style-scope tf-graph-op-compat-list-item">
  <div class="style-scope tf-graph-op-compat-list-item">
    <tf-graph-icon class="node-icon style-scope tf-graph-op-compat-list-item" height="12">
    </tf-graph-icon>
    <span class="style-scope tf-graph-op-compat-list-item"> </span>
  </div>
</div>
</template>

<script>//~~WEBPATH~~/tf-graph-op-compat-card/tf-graph-op-compat-list-item.html.js
Polymer({is:"tf-graph-op-compat-list-item",properties:{cardNode:Object,itemNode:Object,edgeLabel:String,itemRenderInfo:Object,name:String,itemType:{type:String,observer:"_itemTypeChanged"},colorBy:String,colorByParams:Object,templateIndex:Function},_itemTypeChanged:function(){"subnode"!==this.itemType?this.$["list-item"].classList.add("clickable"):this.$["list-item"].classList.remove("clickable")},_nodeListener:function(a){this.fire("node-list-item-"+a.type,{nodeName:this.name,type:this.itemType})},
_fadedClass:function(a){return a&&a.isFadedOut?"faded":""}});
</script>
</dom-module>


<dom-module id="tf-graph-op-compat-card">
<template>


<paper-item class="style-scope tf-graph-op-compat-card">
  <paper-item-body two-line="" class="style-scope tf-graph-op-compat-card">
    <div class="style-scope tf-graph-op-compat-card">
      <paper-icon-button class="toggle-button style-scope tf-graph-op-compat-card">
      </paper-icon-button>
      <div class="node-name style-scope tf-graph-op-compat-card" id="nodetitle">TPU Compatibility</div>
    </div>
    <div secondary="" class="style-scope tf-graph-op-compat-card">
      <div class="subtitle style-scope tf-graph-op-compat-card">
        <div class="op-compat-display style-scope tf-graph-op-compat-card">
          <svg class="op-compat style-scope tf-graph-op-compat-card" preserveAspectRatio="xMinYMid meet" viewBox="0 0 250 25">
            <defs class="style-scope tf-graph-op-compat-card">
              <linearGradient id="op-compat-fill" class="style-scope tf-graph-op-compat-card">
                <stop offset="0" class="style-scope tf-graph-op-compat-card"></stop>
                <stop class="style-scope tf-graph-op-compat-card"></stop>
                <stop class="style-scope tf-graph-op-compat-card"></stop>
                <stop offset="1" class="style-scope tf-graph-op-compat-card"></stop>
              </linearGradient>
            </defs>
            <rect height="25" width="250" rx="5" ry="5" style="fill: url('#op-compat-fill');" class="style-scope tf-graph-op-compat-card"></rect>
          </svg>
          <div class="op-compat-value style-scope tf-graph-op-compat-card"> </div>
        </div>
      </div>
    </div>
  </paper-item-body>
</paper-item>

<iron-collapse class="style-scope tf-graph-op-compat-card">
<template is="dom-if" restamp="true" class="style-scope tf-graph-op-compat-card"></template>
</iron-collapse>

</template>

<script>//~~WEBPATH~~/tf-graph-op-compat-card/tf-graph-op-compat-card.html.js
Polymer({is:"tf-graph-op-compat-card",properties:{graphHierarchy:Object,hierarchyParams:Object,renderHierarchy:Object,_templateIndex:{type:Function,computed:"_getTemplateIndex(graphHierarchy)"},_incompatibleOpNodes:{type:Object,computed:"_getIncompatibleOpNodes(graphHierarchy, hierarchyParams)"},_expanded:{type:Boolean,value:!0},_opCompatScore:{type:Number,computed:"_computeOpCompatScore(graphHierarchy)"},_opCompatScoreLabel:{type:String,computed:"_getOpCompatScoreLabel(_opCompatScore)"},_opCompatColor:{type:String,
value:tf.graph.render.OpNodeColors.COMPATIBLE},_opIncompatColor:{type:String,value:tf.graph.render.OpNodeColors.INCOMPATIBLE},_totalIncompatOps:{type:Number,computed:"_getTotalIncompatibleOps(graphHierarchy)"}},_getTemplateIndex:function(a){return a.getTemplateIndex()},_getNode:function(a,b){return b.node(a)},_getPrintableHTMLNodeName:function(a){return(a||"").replace(/\//g,"\x3cwbr\x3e/")},_getRenderInfo:function(a){return this.renderHierarchy.getOrCreateRenderNodeByName(a)},_toggleExpanded:function(){this._expanded=
!this._expanded},_getToggleIcon:function(a){return a?"expand-less":"expand-more"},_resizeList:function(a){(a=document.querySelector(a))&&a.fire("iron-resize")},_getIncompatibleOpNodes:function(a,b){if(a&&a.root)return this.async(this._resizeList.bind(this,"#incompatibleOpsList")),tf.graph.hierarchy.getIncompatibleOps(a,b)},_computeOpCompatScore:function(a){if(a&&a.root){var b=a.root;a=b.compatibilityHistogram.compatible;b=b.compatibilityHistogram.incompatible;return 0==a&&0==b?0:Math.floor(100*a/
(a+b))/100}return 0},_getOpCompatScoreLabel:function(a){return d3.format(".0%")(a)},_getTotalIncompatibleOps:function(a){return a&&a.root?a.root.compatibilityHistogram.incompatible:0}});
</script>
</dom-module>














<dom-module id="tf-node-list-item">
  
  <template>
    <div id="list-item" class="style-scope tf-node-list-item">
      <div class="style-scope tf-node-list-item">
        <tf-graph-icon class="node-icon style-scope tf-node-list-item" height="12"></tf-graph-icon>
        <span class="style-scope tf-node-list-item"> </span>
        <span class="edge-label style-scope tf-node-list-item"> </span>
      </div>
    </div>
  </template>

  <script>//~~WEBPATH~~/tf-graph-info/tf-node-list-item.html.js
Polymer({is:"tf-node-list-item",properties:{cardNode:Object,itemNode:Object,edgeLabel:String,itemRenderInfo:Object,name:String,itemType:{type:String,observer:"_itemTypeChanged"},colorBy:String,colorByParams:Object,templateIndex:Function},_itemTypeChanged:function(){"subnode"!==this.itemType?this.$["list-item"].classList.add("clickable"):this.$["list-item"].classList.remove("clickable")},_nodeListener:function(a){this.fire("node-list-item-"+a.type,{cardNode:this.cardNode.name,nodeName:this.name,type:this.itemType})},
_fadedClass:function(a){return a&&a.isFadedOut?"faded":""}});
</script>
</dom-module>


<dom-module id="tf-node-info">
  
  <template>
    <paper-item class="style-scope tf-node-info">
      <paper-item-body two-line="" class="style-scope tf-node-info">
        <div class="style-scope tf-node-info">
          <paper-icon-button class="toggle-button style-scope tf-node-info">
          </paper-icon-button>
          <div class="node-name style-scope tf-node-info" id="nodetitle"></div>
        </div>
        <div secondary="" class="style-scope tf-node-info">
          <tf-graph-icon class="node-icon style-scope tf-node-info"></tf-graph-icon>
          <template is="dom-if" class="style-scope tf-node-info"></template>
          <template is="dom-if" class="style-scope tf-node-info"></template>
        </div>
      </paper-item-body>
    </paper-item>
    <iron-collapse class="style-scope tf-node-info">
    <template is="dom-if" restamp="true" class="style-scope tf-node-info"></template>
    </iron-collapse>
  </template>

  <script>//~~WEBPATH~~/tf-graph-info/tf-node-info.html.js
Polymer({is:"tf-node-info",properties:{nodeName:String,graphHierarchy:Object,renderHierarchy:Object,colorBy:String,_templateIndex:{type:Function,computed:"_getTemplateIndex(graphHierarchy)"},_node:{type:Object,computed:"_getNode(nodeName, graphHierarchy)",observer:"_resetState"},_nodeStats:{type:Object,computed:"_getNodeStats(nodeName, graphHierarchy)",observer:"_resetState"},_hasDisplayableNodeStats:{type:Object,computed:"_getHasDisplayableNodeStats(_nodeStats)"},_nodeStatsFormattedBytes:{type:String,
computed:"_getNodeStatsFormattedBytes(_nodeStats)"},_nodeStatsFormattedComputeTime:{type:String,computed:"_getNodeStatsFormattedComputeTime(_nodeStats)"},_nodeStatsFormattedOutputSizes:{type:Array,computed:"_getNodeStatsFormattedOutputSizes(_nodeStats)"},nodeInclude:{type:Number,observer:"_nodeIncludeStateChanged"},_attributes:{type:Array,computed:"_getAttributes(_node)"},_device:{type:String,computed:"_getDevice(_node)"},_successors:{type:Object,computed:"_getSuccessors(_node, graphHierarchy)"},
_predecessors:{type:Object,computed:"_getPredecessors(_node, graphHierarchy)"},_functionUsages:{type:Array,computed:"_getFunctionUsages(_node, graphHierarchy)"},_subnodes:{type:Array,computed:"_getSubnodes(_node)"},_expanded:{type:Boolean,value:!0},_totalPredecessors:{type:Number,computed:"_getTotalPred(_predecessors)"},_totalSuccessors:{type:Number,computed:"_getTotalSucc(_successors)"},_openedControlPred:{type:Boolean,value:!1},_openedControlSucc:{type:Boolean,value:!1},_auxButtonText:String,_groupButtonText:String},
expandNode:function(){this.fire("_node.expand",this.node)},_getTemplateIndex:function(a){return a.getTemplateIndex()},_getNode:function(a,b){return b.node(a)},_getNodeStats:function(a,b){return(a=this._getNode(a,b))?a.stats:null},_getTotalMicros:function(a){return a.getTotalMicros()},_getHasDisplayableNodeStats:function(a){return tf.graph.util.hasDisplayableNodeStats(a)},_getNodeStatsFormattedBytes:function(a){if(a&&a.totalBytes)return tf.graph.util.convertUnitsToHumanReadable(a.totalBytes,tf.graph.util.MEMORY_UNITS)},
_getNodeStatsFormattedComputeTime:function(a){if(a&&a.getTotalMicros())return tf.graph.util.convertUnitsToHumanReadable(a.getTotalMicros(),tf.graph.util.TIME_UNITS)},_getNodeStatsFormattedOutputSizes:function(a){if(a&&a.outputSize&&a.outputSize.length)return _.map(a.outputSize,function(a){return 0===a.length?"scalar":"["+a.join(", ")+"]"})},_getPrintableHTMLNodeName:function(a){return(a||"").replace(/\//g,"\x3cwbr\x3e/")},_getRenderInfo:function(a){return this.renderHierarchy.getOrCreateRenderNodeByName(a)},
_getAttributes:function(a){this.async(this._resizeList.bind(this,"#attributesList"));if(!a||!a.attr)return[];var b=[];_.each(a.attr,function(a){a.key===tf.graph.LARGE_ATTRS_KEY?b=b.concat(a.value.list.s.map(function(a){return{key:a,value:"Too large to show..."}})):b.push({key:a.key,value:JSON.stringify(a.value)})});return b},_getDevice:function(a){return a?a.device:null},_getSuccessors:function(a,b){this._refreshNodeItemList("inputsList");return a?this._convertEdgeListToEdgeInfoList(b.getSuccessors(a.name),
!1,a.isGroupNode):{regular:[],control:[]}},_getPredecessors:function(a,b){this._refreshNodeItemList("outputsList");return a?this._convertEdgeListToEdgeInfoList(b.getPredecessors(a.name),!0,a.isGroupNode):{regular:[],control:[]}},_getFunctionUsages:function(a,b){this._refreshNodeItemList("functionUsagesList");return a&&a.type===tf.graph.NodeType.META?(a=b.libraryFunctions[a.associatedFunction])?a.usages:[]:[]},_refreshNodeItemList:function(a){this.async(this._resizeList.bind(this,"#"+a))},_convertEdgeListToEdgeInfoList:function(a,
b,c){function d(a){return _.map(a.baseEdgeList,function(a){var c=b?a.v:a.w;return{name:c,node:e._getNode(c,e.graphHierarchy),edgeLabel:tf.graph.scene.edge.getLabelForBaseEdge(a,e.renderHierarchy),renderInfo:e._getRenderInfo(c,e.renderHierarchy)}})}var e=this,f=function(a){var e=this,f=[];_.each(a,function(a){var g=b?a.v:a.w;c&&1!=a.baseEdgeList.length?f.push({name:g,node:e._getNode(g,e.graphHierarchy),edgeLabel:tf.graph.scene.edge.getLabelForEdge(a,e.renderHierarchy),renderInfo:e._getRenderInfo(g,
e.renderHierarchy)}):f=f.concat(d(a))});return f}.bind(this);return{regular:f(a.regular),control:f(a.control)}},_getSubnodes:function(a){return a&&a.metagraph?a.metagraph.nodes():null},_getTotalPred:function(a){return a.regular.length+a.control.length},_getTotalSucc:function(a){return a.regular.length+a.control.length},_toggleControlPred:function(){this._openedControlPred=!this._openedControlPred},_toggleControlSucc:function(){this._openedControlSucc=!this._openedControlSucc},_toggleExpanded:function(){this._expanded=
!this._expanded},_getToggleIcon:function(a){return a?"expand-less":"expand-more"},_resetState:function(){this._openedControlSucc=this._openedControlPred=!1;this.set("_groupButtonText",tf.graph.scene.node.getGroupSettingLabel(this._node));this._node&&(Polymer.dom(this.$.nodetitle).innerHTML=this._getPrintableHTMLNodeName(this._node.name))},_resizeList:function(a){(a=document.querySelector(a))&&a.fire("iron-resize")},_toggleInclude:function(){document.querySelector("#graph").fire("node-toggle-extract",
{name:this.nodeName});document.querySelector("#graphboard").fire("node-toggle-extract")},_nodeIncludeStateChanged:function(a){this.set("_auxButtonText",tf.graph.getIncludeNodeButtonString(a))},_toggleGroup:function(){var a=document.querySelector("#graph"),b=tf.graph.scene.node.getSeriesName(this._node);a.fire("node-toggle-seriesgroup",{name:b})},_isLibraryFunction:function(a){return a&&a.name.startsWith(tf.graph.FUNCTION_LIBRARY_NODE_PREFIX)},_isInSeries:function(a){return tf.graph.scene.node.canBeInSeries(a)}});
</script>
</dom-module>


<dom-module id="tf-graph-info">
<template>

<template is="dom-if" class="style-scope tf-graph-info"></template>
<template is="dom-if" class="style-scope tf-graph-info"></template>
<template is="dom-if" class="style-scope tf-graph-info"></template>
</template>
<script>//~~WEBPATH~~/tf-graph-info/tf-graph-info.html.js
Polymer({is:"tf-graph-info",properties:{title:String,graphHierarchy:Object,graph:Object,renderHierarchy:Object,nodeNamesToHealthPills:Object,healthPillStepIndex:{type:Number,notify:!0},colorBy:String,selectedNode:{type:String,notify:!0},highlightedNode:{type:String,notify:!0},selectedNodeInclude:{type:Number,notify:!0},debuggerDataEnabled:Boolean},listeners:{"node-list-item-click":"_nodeListItemClicked","node-list-item-mouseover":"_nodeListItemMouseover","node-list-item-mouseout":"_nodeListItemMouseout"},
_nodeListItemClicked:function(a){this.selectedNode=a.detail.nodeName},_nodeListItemMouseover:function(a){this.highlightedNode=a.detail.nodeName},_nodeListItemMouseout:function(){this.highlightedNode=null},_healthPillsAvailable:function(a,b){return a&&b},_equals:function(a,b){return a===b}});
</script>
</dom-module>




<dom-module id="tf-graph-board">
<template>

<template is="dom-if" class="style-scope tf-graph-board"></template>
<div class="style-scope tf-graph-board">
  <div id="main" class="style-scope tf-graph-board">
    <tf-graph id="graph" class="style-scope tf-graph-board"></tf-graph>
  </div>
  <div id="info" class="style-scope tf-graph-board">
    <tf-graph-info id="graph-info" title="selected" class="style-scope tf-graph-board"></tf-graph-info>
  </div>
  <div class="context-menu style-scope tf-graph-board"></div>
</div>
</template>
</dom-module>

<script>//~~WEBPATH~~/tf-graph-board/tf-graph-board.html.js
Polymer({is:"tf-graph-board",properties:{graphHierarchy:Object,graph:Object,stats:Object,progress:Object,colorBy:String,colorByParams:{type:Object,notify:!0},renderHierarchy:{type:Object,notify:!0},debuggerDataEnabled:Boolean,areHealthPillsLoading:Boolean,debuggerNumericAlerts:{type:Array,notify:!0},nodeNamesToHealthPills:Object,allStepsModeEnabled:{type:Boolean,notify:!0,value:!1},specificHealthPillStep:{type:Number,notify:!0,value:0},healthPillStepIndex:Number,selectedNode:{type:String,notify:!0},
edgeWidthFunction:Object,_selectedNodeInclude:Number,_highlightedNode:String,handleNodeSelected:Object,edgeLabelFunction:Object,handleEdgeSelected:Object},listeners:{"node-toggle-extract":"_nodeToggleExtract"},observers:["_updateNodeInclude(selectedNode)"],_isNotComplete:function(a){return 100>a.value},_getContainerClass:function(a){var b="container";a.error&&(b+=" error");this._isNotComplete(a)&&(b+=" loading");return b},_updateNodeInclude:function(a){a=this.graphHierarchy.node(a);this.set("_selectedNodeInclude",
a?a.include:tf.graph.InclusionType.UNSPECIFIED)},_nodeToggleExtract:function(){this._updateNodeInclude(this.selectedNode)}});
</script>











<script>//~~WEBPATH~~/iron-menu-behavior/iron-menubar-behavior.html.js
Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this.focusedItem.click();a.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(a){this._isRTL?this._focusNext():this._focusPrevious();a.detail.keyboardEvent.preventDefault()},_onRightKey:function(a){this._isRTL?
this._focusPrevious():this._focusNext();a.detail.keyboardEvent.preventDefault()},_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down left right esc")||this._focusWithKeyboardEvent(a)}};Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl];
</script>








<dom-module id="paper-radio-button">
  <template strip-whitespace=""><div id="radioContainer" class="style-scope paper-radio-button"><div id="offRadio" class="style-scope paper-radio-button"></div><div id="onRadio" class="style-scope paper-radio-button"></div></div><div id="radioLabel" class="style-scope paper-radio-button"><content class="style-scope paper-radio-button"></content></div></template>

  <script>//~~WEBPATH~~/paper-radio-button/paper-radio-button.html.js
Polymer({is:"paper-radio-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function(){this._rippleContainer=this.$.radioContainer},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-radio-button-ink-size").trim()){var a=parseFloat(this.getComputedStyleValue("--calculated-paper-radio-button-size").trim()),
b=Math.floor(3*a);b%2!==a%2&&b++;this.updateStyles({"--paper-radio-button-ink-size":b+"px"})}})}});
</script>
</dom-module>




<dom-module id="paper-radio-group">
  <template>
    

    <content class="style-scope paper-radio-group"></content>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-radio-group/paper-radio-group.html.js
Polymer({is:"paper-radio-group",behaviors:[Polymer.IronMenubarBehavior],hostAttributes:{role:"radiogroup"},properties:{attrForSelected:{type:String,value:"name"},selectedAttribute:{type:String,value:"checked"},selectable:{type:String,value:"paper-radio-button"},allowEmptySelection:{type:Boolean,value:!1}},select:function(a){var b=this._valueToItem(a);if(!b||!b.hasAttribute("disabled")){if(this.selected){b=this._valueToItem(this.selected);if(this.selected==a)if(this.allowEmptySelection)a="";else{b&&
(b.checked=!0);return}b&&(b.checked=!1)}Polymer.IronSelectableBehavior.select.apply(this,[a]);this.fire("paper-radio-group-changed")}},_activateFocusedItem:function(){this._itemActivate(this._valueForItem(this.focusedItem),this.focusedItem)},_onUpKey:function(a){this._focusPrevious();a.preventDefault();this._activateFocusedItem()},_onDownKey:function(a){this._focusNext();a.preventDefault();this._activateFocusedItem()},_onLeftKey:function(a){Polymer.IronMenubarBehaviorImpl._onLeftKey.apply(this,arguments);
this._activateFocusedItem()},_onRightKey:function(a){Polymer.IronMenubarBehaviorImpl._onRightKey.apply(this,arguments);this._activateFocusedItem()}});
</script>







<dom-module id="paper-tooltip">
  <template>
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      <content class="style-scope paper-tooltip"></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-tooltip/paper-tooltip.html.js
Polymer({is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},properties:{for:{type:String,observer:"_findTarget"},manualMode:{type:Boolean,value:!1,observer:"_manualModeChanged"},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500,observer:"_delayChange"},animationEntry:{type:String,value:""},animationExit:{type:String,value:""},animationConfig:{type:Object,
value:function(){return{entry:[{name:"fade-in-animation",node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{webkitAnimationEnd:"_onAnimationEnd"},get target(){var a=Polymer.dom(this).parentNode,b=Polymer.dom(this).getOwnerRoot();return this.for?Polymer.dom(b).querySelector("#"+this.for):a.nodeType==Node.DOCUMENT_FRAGMENT_NODE?b.host:a},attached:function(){this._findTarget()},detached:function(){this.manualMode||this._removeListeners()},
playAnimation:function(a){"entry"===a?this.show():"exit"===a&&this.hide()},cancelAnimation:function(){this.$.tooltip.classList.add("cancel-animation")},show:function(){if(!this._showing){if(""===Polymer.dom(this).textContent.trim()){for(var a=!0,b=Polymer.dom(this).getEffectiveChildNodes(),c=0;c<b.length;c++)if(""!==b[c].textContent.trim()){a=!1;break}if(a)return}this._showing=!0;this.$.tooltip.classList.remove("hidden");this.$.tooltip.classList.remove("cancel-animation");this.$.tooltip.classList.remove(this._getAnimationType("exit"));
this.updatePosition();this._animationPlaying=!0;this.$.tooltip.classList.add(this._getAnimationType("entry"))}},hide:function(){this._showing&&(this._animationPlaying?(this._showing=!1,this._cancelAnimation()):(this._onAnimationFinish(),this._showing=!1,this._animationPlaying=!0))},updatePosition:function(){if(this._target&&this.offsetParent){var a=this.offset;14!=this.marginTop&&14==this.offset&&(a=this.marginTop);var b=this.offsetParent.getBoundingClientRect(),c=this._target.getBoundingClientRect(),
d=this.getBoundingClientRect(),e=(c.width-d.width)/2,f=(c.height-d.height)/2,g=c.left-b.left,h=c.top-b.top;switch(this.position){case "top":var l=g+e;var m=h-d.height-a;break;case "bottom":l=g+e;m=h+c.height+a;break;case "left":l=g-d.width-a;m=h+f;break;case "right":l=g+c.width+a,m=h+f}this.fitToVisibleBounds?(b.left+l+d.width>window.innerWidth?(this.style.right="0px",this.style.left="auto"):(this.style.left=Math.max(0,l)+"px",this.style.right="auto"),b.top+m+d.height>window.innerHeight?(this.style.bottom=
b.height+"px",this.style.top="auto"):(this.style.top=Math.max(-b.top,m)+"px",this.style.bottom="auto")):(this.style.left=l+"px",this.style.top=m+"px")}},_addListeners:function(){this._target&&(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide"));this.listen(this.$.tooltip,"animationend","_onAnimationEnd");this.listen(this,"mouseenter","hide")},
_findTarget:function(){this.manualMode||this._removeListeners();this._target=this.target;this.manualMode||this._addListeners()},_delayChange:function(a){500!==a&&this.updateStyles({"--paper-tooltip-delay-in":a+"ms"})},_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},_cancelAnimation:function(){this.$.tooltip.classList.remove(this._getAnimationType("entry"));this.$.tooltip.classList.remove(this._getAnimationType("exit"));this.$.tooltip.classList.remove("cancel-animation");
this.$.tooltip.classList.add("hidden")},_onAnimationFinish:function(){this._showing&&(this.$.tooltip.classList.remove(this._getAnimationType("entry")),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.add(this._getAnimationType("exit")))},_onAnimationEnd:function(){this._animationPlaying=!1;this._showing||(this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.$.tooltip.classList.add("hidden"))},_getAnimationType:function(a){if("entry"===a&&""!==this.animationEntry)return this.animationEntry;
if("exit"===a&&""!==this.animationExit)return this.animationExit;if(this.animationConfig[a]&&"string"===typeof this.animationConfig[a][0].name){if(this.animationConfig[a][0].timing&&this.animationConfig[a][0].timing.delay&&0!==this.animationConfig[a][0].timing.delay){var b=this.animationConfig[a][0].timing.delay;"entry"===a?this.updateStyles({"--paper-tooltip-delay-in":b+"ms"}):"exit"===a&&this.updateStyles({"--paper-tooltip-delay-out":b+"ms"})}return this.animationConfig[a][0].name}},_removeListeners:function(){this._target&&
(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide"));this.unlisten(this.$.tooltip,"animationend","_onAnimationEnd");this.unlisten(this,"mouseenter","hide")}});
</script>
</dom-module>









<dom-module id="tf-graph-node-search">
<template>
<div id="search-container" class="style-scope tf-graph-node-search">
  <paper-input id="runs-regex" label="Search nodes. Regexes supported." class="style-scope tf-graph-node-search">
  </paper-input>
  <div id="search-results-anchor" class="style-scope tf-graph-node-search">
    <div id="search-results" class="style-scope tf-graph-node-search">
      <template is="dom-repeat" class="style-scope tf-graph-node-search"></template>
    </div>
  </div>
</div>

</template>
<script>//~~WEBPATH~~/tf-graph-node-search/tf-graph-node-search.html.js
Polymer({is:"tf-graph-node-search",properties:{renderHierarchy:Object,selectedNode:{type:String,notify:!0},_rawRegexInput:{type:String,value:""},_regexInput:{type:String,computed:"_computeRegexInput(renderHierarchy, _rawRegexInput)"},_previousRegexInput:{type:String,value:""},_searchTimeoutDelay:{type:Number,value:150,readOnly:!0},_searchPending:Boolean,_maxRegexResults:{type:Number,value:42},_regexMatches:Array},observers:["_regexInputChanged(_regexInput)"],_computeRegexInput:function(a,b){return b.trim()},
_regexInputChanged:function(){this._requestSearch()},_clearSearchResults:function(){this.set("_regexMatches",[])},_requestSearch:function(){var a=this;this._searchPending||(this._regexInput===this._previousRegexInput?this._searchPending=!1:(this._searchPending=!0,this._executeSearch(),this.async(function(){a._searchPending=!1;a._requestSearch()},this._searchTimeoutDelay)))},_executeSearch:function(){var a=this;if(this._previousRegexInput=this._regexInput){try{var b=new RegExp(this._regexInput)}catch(d){this._clearSearchResults();
return}var c=[];_.each(this.renderHierarchy.hierarchy.getNodeMap(),function(d,e){if(c.length>=a._maxRegexResults)return!1;b.test(e)&&c.push(e)});this.set("_regexMatches",c)}else this._clearSearchResults()},_matchClicked:function(a){this.set("selectedNode",a.model.item)}});
</script>
</dom-module>


<dom-module id="tf-graph-controls">
<template>

<svg width="0" height="0" class="style-scope tf-graph-controls">
  <defs class="style-scope tf-graph-controls">
    <g id="legend-rect" class="style-scope tf-graph-controls">
      <rect x="1" y="1" stroke-width="2px" height="14" width="35" rx="5" ry="5" class="style-scope tf-graph-controls"></rect>
    </g>
    <g id="grey-rect" class="style-scope tf-graph-controls">
       <use xlink="http://www.w3.org/1999/xlink" xlink:href="#legend-rect" class="style-scope tf-graph-controls"></use>
     </g>
     <g id="faded-rect" class="style-scope tf-graph-controls">
       <use xlink="http://www.w3.org/1999/xlink" xlink:href="#legend-rect" class="style-scope tf-graph-controls"></use>
     </g>
     <g id="unfilled-rect" class="style-scope tf-graph-controls">
       <use xlink="http://www.w3.org/1999/xlink" xlink:href="#legend-rect" class="style-scope tf-graph-controls"></use>
     </g>
  </defs>
</svg>
<div class="allcontrols style-scope tf-graph-controls">
  <div class="control-holder style-scope tf-graph-controls">
    <tf-graph-node-search class="style-scope tf-graph-controls"></tf-graph-node-search>
  </div>
  <div class="control-holder style-scope tf-graph-controls">
    <paper-icon-button icon="aspect-ratio" class="iconbutton style-scope tf-graph-controls" alt="Fit to screen">
    </paper-icon-button>
    <paper-button class="button-text style-scope tf-graph-controls">Fit to screen
    </paper-button>
  </div>
  <div class="control-holder style-scope tf-graph-controls">
    <paper-icon-button icon="file-download" class="iconbutton style-scope tf-graph-controls" alt="Download PNG">
    </paper-icon-button>
    <paper-button class="button-text style-scope tf-graph-controls">Download PNG
    </paper-button>
    <a href="#" id="graphdownload" class="title style-scope tf-graph-controls" download="graph.png">
    </a>
  </div>
  <div class="control-holder runs style-scope tf-graph-controls">
    <div class="title style-scope tf-graph-controls">Run <span class="counter style-scope tf-graph-controls">()</span></div>
    <paper-dropdown-menu no-label-float="" no-animations="" noink="" class="run-dropdown style-scope tf-graph-controls">
      <paper-menu id="select" class="dropdown-content style-scope tf-graph-controls" slot="dropdown-content">
        <template is="dom-repeat" class="style-scope tf-graph-controls"></template>
      </paper-menu>
    </paper-dropdown-menu>
  </div>
  <template is="dom-if" class="style-scope tf-graph-controls"></template>
  <template is="dom-if" class="style-scope tf-graph-controls"></template>
  <div class="control-holder style-scope tf-graph-controls">
    <paper-toggle-button id="trace-inputs" class="style-scope tf-graph-controls"></paper-toggle-button>
    <div class="title style-scope tf-graph-controls">Trace inputs</div>
  </div>
  <template is="dom-if" class="style-scope tf-graph-controls"></template>
  <div class="control-holder style-scope tf-graph-controls">
    <div class="title style-scope tf-graph-controls">Color</div>
    <paper-radio-group id="color-by-radio-group" class="style-scope tf-graph-controls">
      <paper-radio-button name="structure" class="style-scope tf-graph-controls">Structure</paper-radio-button>

      <paper-radio-button name="device" class="style-scope tf-graph-controls">Device</paper-radio-button>

      <paper-radio-button id="xla-cluster-radio-button" name="xla_cluster" class="style-scope tf-graph-controls">
        XLA Cluster
      </paper-radio-button>
      <paper-tooltip animation-delay="0" for="xla-cluster-radio-button" position="right" class="style-scope tf-graph-controls">
        Coloring by XLA cluster is only enabled if at least 1 op specifies an XLA cluster.
      </paper-tooltip>

      <paper-radio-button id="compute-time-radio-button" name="compute_time" class="style-scope tf-graph-controls">
        Compute time
      </paper-radio-button>
      <paper-tooltip animation-delay="0" for="compute-time-radio-button" position="right" class="style-scope tf-graph-controls">
        Coloring by compute time is only enabled if the RunMetadata proto is passed to the
        FileWriter when a specific session is run.
      </paper-tooltip>

      <paper-radio-button id="memory-radio-button" name="memory" class="style-scope tf-graph-controls">
        Memory
      </paper-radio-button>
      <paper-tooltip animation-delay="0" for="memory-radio-button" position="right" class="style-scope tf-graph-controls">
        Coloring by memory is only enabled if the RunMetadata proto is passed to the
        FileWriter when a specific session is run.
      </paper-tooltip>

      <paper-radio-button id="tpu-compatibility-radio-button" name="op_compatibility" class="style-scope tf-graph-controls">
        TPU Compatibility
      </paper-radio-button>
      <paper-tooltip animation-delay="0" for="tpu-compatibility-radio-button" position="right" class="style-scope tf-graph-controls">
        Coloring by whether an operation is compatible for the TPU device.
      </paper-tooltip>

    </paper-radio-group>
  </div>
  <div class="style-scope tf-graph-controls">
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
  </div>

  <div class="legend-holder style-scope tf-graph-controls">
    <paper-icon-button class="toggle-legend-button style-scope tf-graph-controls">
    </paper-icon-button>
    <span class="toggle-legend-text style-scope tf-graph-controls">
      
    </span>
    <iron-collapse class="style-scope tf-graph-controls">
      <div class="style-scope tf-graph-controls">
        <table class="style-scope tf-graph-controls">
          <tbody class="style-scope tf-graph-controls"><tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls"><div class="title style-scope tf-graph-controls">Graph</div></td>
            <td class="style-scope tf-graph-controls">(* = expandable)</td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls">
                <rect transform="translate(3, 1)" height="14" width="35" rx="5" ry="5" class="style-scope tf-graph-controls"></rect>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Namespace<span class="gray style-scope tf-graph-controls">*</span>
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls">
                  Encapsulates a set of nodes. Namespace is hierarchical and based on scope.
                </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" preserveAspectRatio="xMinYMid meet" viewBox="0 0 10 10">
                <use xlink:href="#op-node-stamp" fill="white" stroke="#ccc" x="9.5" y="6" class="style-scope tf-graph-controls"></use>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              OpNode
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls">
                  Node that performs an operation. These nodes cannot expand.
                </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 12 12">
                <use xlink:href="#op-series-horizontal-stamp" fill="white" stroke="#ccc" x="2" y="2" class="style-scope tf-graph-controls"></use>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Unconnected series<span class="gray style-scope tf-graph-controls">*</span>
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls">
                  Sequence of numbered nodes that are not connected to each other.
                </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 15 15">
                <use xlink:href="#op-series-vertical-stamp" fill="white" stroke="#ccc" x="2" y="2" class="style-scope tf-graph-controls"></use>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Connected series<span class="gray style-scope tf-graph-controls">*</span>
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls">
                  Sequence of numbered nodes that are connected to each other.
                </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls">
                <circle fill="white" stroke="#848484" cx="10" cy="10" r="5" class="style-scope tf-graph-controls"></circle>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Constant
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls">
                  Node that outputs a constant value.
                </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="image-icon style-scope tf-graph-controls" viewBox="0 0 12 12" width="24" height="24">
                <use x="0" y="0" class="image-icon style-scope tf-graph-controls" xlink:href="#summary-icon"></use>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Summary
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls">
                  Node that collects data for visualization within TensorBoard.
                </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 15 15">
                <defs class="style-scope tf-graph-controls">
                  <marker id="dataflow-arrowhead-legend" fill="#bbb" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto-start-reverse" class="style-scope tf-graph-controls">
                    <path d="M 0,0 L 10,5 L 0,10 C 3,7 3,3 0,0" class="style-scope tf-graph-controls"></path>
                  </marker>
                </defs>
                <path marker-end="url(#dataflow-arrowhead-legend)" stroke="#bbb" d="M2 9 l 29 0" stroke-linecap="round" class="style-scope tf-graph-controls"></path>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Dataflow edge
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls">
                  Edge showing the data flow between operations. Edges flow upwards unless arrowheads specify otherwise.
                </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 15 15">
                <path stroke="#bbb" d="M2 9 l 29 0" stroke-linecap="round" stroke-dasharray="2, 2" class="style-scope tf-graph-controls"></path>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Control dependency edge
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls">
                  Edge showing the control dependency between operations.
                </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 15 15">
                <defs class="style-scope tf-graph-controls">
                  <marker id="reference-arrowhead-legend" fill="#FFB74D" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto-start-reverse" class="style-scope tf-graph-controls">
                    <path d="M 0,0 L 10,5 L 0,10 C 3,7 3,3 0,0" class="style-scope tf-graph-controls"></path>
                  </marker>
                </defs>
                <path marker-end="url(#reference-arrowhead-legend)" stroke="#FFB74D" d="M2 9 l 29 0" stroke-linecap="round" class="style-scope tf-graph-controls"></path>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Reference edge
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls">
                  Edge showing that the outgoing operation node can mutate the incoming tensor.
                </paper-tooltip>
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    </iron-collapse>
  </div>
</div>
</template>
</dom-module>

<script>//~~WEBPATH~~/tf-graph-controls/tf-graph-controls.html.js
(function(){var a=[{regex:/device:[^:]+:[0-9]+$/}],b=[];Polymer({is:"tf-graph-controls",properties:{stats:{value:null,type:Object,observer:"_statsChanged"},devicesForStats:{value:null,type:Object,notify:!0,readonly:!0},colorBy:{type:String,value:"structure",notify:!0,readonly:!0},colorByParams:{type:Object,notify:!0,readonly:!0},datasets:{type:Array,observer:"_datasetsChanged"},renderHierarchy:{type:Object,notify:!0},metadataTags:{type:Array,computed:"_getMetadataTags(selectedDataset, datasets)"},
selectedDataset:{type:Number,notify:!0,value:0,observer:"_selectedDatasetChanged"},selectedFile:{type:Object,notify:!0},selectedMetadataTag:{type:Number,notify:!0,value:-1},selectedNode:{type:String,notify:!0},_currentDevices:{type:Array,computed:"_getCurrentDevices(devicesForStats)"},_currentDeviceParams:{type:Array,computed:"_getCurrentDeviceParams(colorByParams)"},_currentXlaClusterParams:{type:Array,computed:"_getCurrentXlaClusterParams(colorByParams)"},_currentGradientParams:{type:Object,computed:"_getCurrentGradientParams(colorByParams, colorBy)"},
showSessionRunsDropdown:{type:Boolean,value:!0},showUploadButton:{type:Boolean,value:!0},healthPillsFeatureEnabled:Boolean,healthPillsToggledOn:{type:Boolean,notify:!0},_legendOpened:{type:Boolean,value:!0}},listeners:{"trace-inputs.change":"_traceInputToggleChanged"},_traceInputToggleChanged:function(a){this.renderHierarchy.traceInputs=a.target.active;tf.graph.scene.node.traceInputs(this.renderHierarchy)},_xlaClustersProvided:function(a){return a&&a.hierarchy&&0<a.hierarchy.xlaClusters.length},_statsChanged:function(c){if(null!=
c){var d={};_.each(c.dev_stats,function(c){var e=_.some(a,function(a){return a.regex.test(c.device)}),g=_.some(b,function(a){return a.regex.test(c.device)});e&&!g&&(d[c.device]=!0)});this.set("devicesForStats",d)}},_getCurrentDevices:function(c){var d=_.map(this.stats&&this.stats.dev_stats,function(a){return a.device});d=_.filter(d,function(b){return _.some(a,function(a){return a.regex.test(b)})});var e=tf.graph.util.removeCommonPrefix(d);if(1==e.length){var f=e[0].match(/device:([^:]+:[0-9]+)$/);
f&&(e[0]=f[1])}return _.map(d,function(a,d){var f=null;_.each(b,function(b){b.regex.test(a)&&(f=b.msg)});return{device:a,suffix:e[d],used:c[a],ignoredMsg:f}})},_deviceCheckboxClicked:function(a){var b=_.extend({},this.devicesForStats),c=a.target.value;a.target.checked?b[c]=!0:delete b[c];this.set("devicesForStats",b)},_numSessionRuns:function(a){return null!=a?a.length:0},_getBackgroundColor:function(a){return"background-color:"+a},fit:function(){document.querySelector("#scene").fit()},_isGradientColoring:function(a,
b){return-1!==["compute_time","memory"].indexOf(b)&&null!=a},_equals:function(a,b){return a===b},_getCurrentDeviceParams:function(b){b=_.filter(b.device,function(b){return _.some(a,function(a){return a.regex.test(b.device)})});var c=tf.graph.util.removeCommonPrefix(_.map(b,function(a){return a.device}));if(1==c.length){var e=c[0].match(/device:([^:]+:[0-9]+)$/);e&&(c[0]=e[1])}return _.map(b,function(a,b){return{device:c[b],color:a.color}})},_getCurrentXlaClusterParams:function(a){return a.xla_cluster},
_getCurrentGradientParams:function(a,b){if(this._isGradientColoring(this.stats,b)){a=a[b];var c=a.minValue,d=a.maxValue;"memory"===b?(c=tf.graph.util.convertUnitsToHumanReadable(c,tf.graph.util.MEMORY_UNITS),d=tf.graph.util.convertUnitsToHumanReadable(d,tf.graph.util.MEMORY_UNITS)):"compute_time"===b&&(c=tf.graph.util.convertUnitsToHumanReadable(c,tf.graph.util.TIME_UNITS),d=tf.graph.util.convertUnitsToHumanReadable(d,tf.graph.util.TIME_UNITS));return{minValue:c,maxValue:d,startColor:a.startColor,
endColor:a.endColor}}},download:function(){this.$.graphdownload.click()},_updateFileInput:function(a){var b=a.target.files[0];b&&(this._setDownloadFilename(b.name),this.set("selectedFile",a))},_datasetsChanged:function(a,b){if(null!=b||null==this.selected)this.set("selectedDataset",0),this._setDownloadFilename(this.datasets[this.selectedDataset].path)},_getMetadataTags:function(a){return this.datasets[a].runMetadata},_selectedDatasetChanged:function(a){this.datasets&&(this.set("selectedMetadataTag",
-1),this.set("colorBy","structure"),this.$["trace-inputs"].active=!1,this._setDownloadFilename(this.datasets[a].path))},_getFile:function(){this.$$("#file").click()},_setDownloadFilename:function(a){var b=a.lastIndexOf(".");b&&(a=a.substring(0,b));(b=a.lastIndexOf("/"))&&(a=a.substring(b+1));this.$.graphdownload.setAttribute("download",a+".png")},_statsNotNull:function(a){return null!==a},_toggleLegendOpen:function(){this.set("_legendOpened",!this._legendOpened)},_getToggleText:function(a){return a?
"Close legend.":"Expand legend."},_getToggleLegendIcon:function(a){return a?"expand-more":"expand-less"}})})();
</script>






<dom-module id="tf-graph-dashboard">
<template>
<paper-dialog id="error-dialog" with-backdrop="" class="style-scope tf-graph-dashboard"></paper-dialog>
<template is="dom-if" class="style-scope tf-graph-dashboard"></template>
<template is="dom-if" class="style-scope tf-graph-dashboard"></template>

</template>
</dom-module>

<script>//~~WEBPATH~~/tf-graph-dashboard/tf-graph-dashboard.html.js
Polymer({is:"tf-graph-dashboard",properties:{_datasets:Array,_renderHierarchy:{type:Object,observer:"_renderHierarchyChanged"},_requestManager:{type:Object,value:function(){return new u.RequestManager}},_canceller:{type:Object,value:function(){return new u.Canceller}},_debuggerDataEnabled:Boolean,allStepsModeEnabled:Boolean,specificHealthPillStep:{type:Number,value:0},healthPillsToggledOn:{type:Boolean,value:!0,observer:"_healthPillsToggledOnChanged"},selectedNode:{type:String,notify:!0},_isAttached:Boolean,
_initialized:Boolean,_areHealthPillsLoading:Boolean,_debuggerNumericAlerts:{type:Array,value:[],notify:!0},_nodeNamesToHealthPills:{type:Object,value:{}},_healthPillStepIndex:Number,_healthPillRequestId:{type:Number,value:1},_healthPillStepRequestTimerId:Number,_healthPillStepRequestTimerDelay:{type:Number,value:500,readOnly:!0},runs:Array,run:{type:String,notify:!0,value:G.getStringInitializer("run",{defaultValue:"",useLocalStorage:!1}),observer:"_runObserver"},_selectedDataset:{type:Number,notify:!0}},
listeners:{"node-toggle-expand":"_handleNodeToggleExpand"},observers:["_maybeFetchHealthPills(_debuggerDataEnabled, allStepsModeEnabled, specificHealthPillStep, _selectedNode)","_maybeInitializeDashboard(_isAttached)","_determineSelectedDataset(_datasets, run)","_updateSelectedDatasetName(_datasets, _selectedDataset)"],attached:function(){this.set("_isAttached",!0)},detached:function(){this.set("_isAttached",!1)},reload:function(){var a=this;this._debuggerDataEnabled||this._requestManager.request(u.getRouter().pluginsListing()).then(this._canceller.cancellable(function(b){b.cancelled||
b.value["debugger"]&&a.set("_debuggerDataEnabled",!0)}));this._maybeFetchHealthPills()},_runObserver:G.getStringObserver("run",{defaultValue:"",polymerProperty:"run",useLocalStorage:!1}),_fetchGraphRuns:function(){return this._requestManager.request(u.getRouter().pluginRoute("graphs","/runs"))},_fetchRunMetadataTags:function(){return this._requestManager.request(u.getRouter().pluginRoute("graphs","/run_metadata_tags"))},_fetchHealthPills:function(a,b){a={node_names:JSON.stringify(a),run:"__debugger_data__"};
void 0!==b&&(a.step=b);return this._requestManager.request(u.getRouter().pluginRoute("debugger","/health_pills"),a)},_fetchDebuggerNumericsAlerts:function(){return this._requestManager.request(u.getRouter().pluginRoute("debugger","/numerics_alert_report"))},_graphUrl:function(a,b,c){var d=u.getRouter().isDemoMode(),e=d?".pbtxt":"";return u.addParams(u.getRouter().pluginRoute("graphs","/graph"),{run:a,limit_attr_size:(null!=b&&!d||void 0)&&b,large_attrs_key:(null!=c&&!d||void 0)&&c})+e},_shouldRequestHealthPills:function(){return this._debuggerDataEnabled&&
this.healthPillsToggledOn&&this._renderHierarchy&&!this._datasetsEmpty(this._datasets)},_maybeInitializeDashboard:function(a){var b=this;!this._initialized&&a&&(this._initialized=!0,Promise.all([this._fetchGraphRuns(),this._fetchRunMetadataTags()]).then(function(a){var c=a[0].sort(Na.compareTagNames),e=a[1];a=_.map(c,function(a){return{name:a,path:b._graphUrl(a,tf.graph.LIMIT_ATTR_SIZE,tf.graph.LARGE_ATTRS_KEY),runMetadata:_.map((e[a]||[]).sort(Na.compareTagNames),function(b){return{tag:b,path:u.addParams(u.getRouter().pluginRoute("graphs",
"/run_metadata"),{tag:b,run:a})}})}});b.set("_datasets",a)}))},_determineSelectedDataset:function(a,b){b?(a=a.findIndex(function(a){return a.name===b}),-1===a?(a=this.$$("#error-dialog"),a.textContent='No dataset named "'+b+'" could be found.',a.open()):this.set("_selectedDataset",a)):this.set("_selectedDataset",0)},_updateSelectedDatasetName:function(a,b){this.set("run",a[b].name)},_requestHealthPills:function(){this.set("_areHealthPillsLoading",!0);var a=++this._healthPillRequestId;null!==this._healthPillStepRequestTimerId&&
(window.clearTimeout(this._healthPillStepRequestTimerId),this._healthPillStepRequestTimerId=null);this.allStepsModeEnabled?this._healthPillStepRequestTimerId=setTimeout(function(){this._healthPillStepRequestTimerId=null;this._initiateNetworkRequestForHealthPills(a)}.bind(this),this._healthPillStepRequestTimerDelay):this._initiateNetworkRequestForHealthPills(a)},_initiateNetworkRequestForHealthPills:function(a){if(this._healthPillRequestId===a){var b=this._fetchHealthPills(this._renderHierarchy.getNamesOfRenderedOps(),
this.allStepsModeEnabled?this.specificHealthPillStep:void 0),c=this._fetchDebuggerNumericsAlerts();Promise.all([b,c]).then(function(b){var c=b[0];b=b[1];if(this.healthPillsToggledOn&&a===this._healthPillRequestId){for(var d in c){this.set("_healthPillStepIndex",c[d].length-1);break}this.set("_debuggerNumericAlerts",b);this.set("_nodeNamesToHealthPills",c);this.set("_areHealthPillsLoading",!1);this.set("_healthPillStepRequestTimerId",null)}}.bind(this))}},_datasetsEmpty:function(a){return!a||!a.length},
_renderHierarchyChanged:function(){this.reload()},_handleNodeToggleExpand:function(){this._maybeFetchHealthPills()},_healthPillsToggledOnChanged:function(a){a?this.reload():this.set("_nodeNamesToHealthPills",{})},_maybeFetchHealthPills:function(){this._shouldRequestHealthPills()&&this._requestHealthPills()}});$a.registerDashboard({plugin:"graphs",elementName:"tf-graph-dashboard",isReloadDisabled:!0});
</script>

























<dom-module id="vz-distribution-chart">
  <template>
    <div id="chartdiv" class="style-scope vz-distribution-chart"></div>
    
  </template>
  <script>//~~WEBPATH~~/vz-distribution-chart/vz-distribution-chart.js
var sb;
(function(a){var b=function(){function a(a,b){this.run2datasets={};this.colorScale=b;this.buildChart(a)}a.prototype.getDataset=function(a){void 0===this.run2datasets[a]&&(this.run2datasets[a]=new Plottable.Dataset([],{run:a}));return this.run2datasets[a]};a.prototype.buildChart=function(a){this.outer&&this.outer.destroy();a=L.getXComponents(a);this.xAccessor=a.accessor;this.xScale=a.scale;this.xAxis=a.axis;this.xAxis.margin(0).tickLabelPadding(3);this.yScale=new Plottable.Scales.Linear;this.yAxis=new Plottable.Axes.Numeric(this.yScale,
"left");a=L.multiscaleFormatter(L.Y_AXIS_FORMATTER_PRECISION);this.yAxis.margin(0).tickLabelPadding(5).formatter(a);this.yAxis.usesTextWidthApproximation();a=this.buildPlot(this.xAccessor,this.xScale,this.yScale);this.gridlines=new Plottable.Components.Gridlines(this.xScale,this.yScale);this.center=new Plottable.Components.Group([this.gridlines,a]);this.outer=new Plottable.Components.Table([[this.yAxis,this.center],[null,this.xAxis]])};a.prototype.buildPlot=function(a,b,c){var d=this,e=[0,228,1587,
3085,5E3,6915,8413,9772,1E4],f=_.range(e.length-1).map(function(a){return(e[a+1]-e[a])/2500}),m=e.map(function(a,b){return function(a){return a[b][1]}}),n=m[4],q=_.range(m.length-1).map(function(e){var g=new Plottable.Plots.Area;g.x(a,b);var h=4<e?m[e]:m[e+1];g.y(4<e?m[e+1]:m[e],c);g.y0(h);g.attr("fill",function(a,b,c){return d.colorScale.scale(c.metadata().run)});g.attr("stroke",function(a,b,c){return d.colorScale.scale(c.metadata().run)});g.attr("stroke-weight",function(){return"0.5px"});g.attr("stroke-opacity",
function(){return f[e]});g.attr("fill-opacity",function(){return f[e]});return g}),p=new Plottable.Plots.Line;p.x(a,b);p.y(n,c);p.attr("stroke",function(a,b,c){return d.colorScale.scale(c.run)});this.plots=q;return new Plottable.Components.Group(q)};a.prototype.setVisibleSeries=function(a){var b=this;this.runs=a;var c=a.map(function(a){return b.getDataset(a)});this.plots.forEach(function(a){return a.datasets(c)})};a.prototype.setSeriesData=function(a,b){this.getDataset(a).data(b)};a.prototype.renderTo=
function(a){this.targetSVG=a;this.outer.renderTo(a)};a.prototype.redraw=function(){this.outer.redraw()};a.prototype.destroy=function(){this.outer.destroy()};return a}();a.DistributionChart=b;Polymer({is:"vz-distribution-chart",properties:{colorScale:{type:Object,value:function(){return(new Plottable.Scales.Color).range(d3.schemeCategory10)}},xType:{type:String,value:"step"},_attached:Boolean,_chart:Object,_visibleSeriesCache:{type:Array,value:function(){return[]}},_seriesDataCache:{type:Object,value:function(){return{}}},
_makeChartAsyncCallbackId:{type:Number,value:null}},observers:["_makeChart(xType, colorScale, _attached)","_reloadFromCache(_chart)"],setVisibleSeries:function(a){this._visibleSeriesCache=a;this._chart&&(this._chart.setVisibleSeries(a),this.redraw())},setSeriesData:function(a,b){this._seriesDataCache[a]=b;this._chart&&this._chart.setSeriesData(a,b)},redraw:function(){this._chart.redraw()},ready:function(){this.scopeSubtree(this.$.chartdiv,!0)},_makeChart:function(a,d,e){null===this._makeChartAsyncCallbackId&&
this.cancelAsync(this._makeChartAsyncCallbackId);this._makeChartAsyncCallbackId=this.async(function(){this._makeChartAsyncCallbackId=null;if(e){this._chart&&this._chart.destroy();var c=new b(a,d),g=d3.select(this.$.chartdiv);c.renderTo(g);this._chart=c}},350)},_reloadFromCache:function(){this._chart&&(this._chart.setVisibleSeries(this._visibleSeriesCache),this._visibleSeriesCache.forEach(function(a){this._chart.setSeriesData(a,this._seriesDataCache[a]||[])}.bind(this)))},attached:function(){this._attached=
!0},detached:function(){this._attached=!1}})})(sb||(sb={}));
</script>
</dom-module>



<dom-module id="tf-distribution-loader">
  <template>
    <tf-card-heading class="style-scope tf-distribution-loader"></tf-card-heading>
    
    <vz-distribution-chart class="style-scope tf-distribution-loader"></vz-distribution-chart>
    <div style="display: flex; flex-direction: row;" class="style-scope tf-distribution-loader">
      <paper-icon-button icon="fullscreen" class="style-scope tf-distribution-loader"></paper-icon-button>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-distribution-dashboard/tf-distribution-loader.html.js
Polymer({is:"tf-distribution-loader",properties:{run:String,tag:String,tagMetadata:Object,xType:String,_colorScale:{type:Object,value:function(){return{scale:Ta.runsColorScale}},readOnly:!0},_runColor:{type:String,computed:"_computeRunColor(run)"},_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},requestManager:Object,_canceller:{type:Object,value:function(){return new u.Canceller}}},observers:["reload(run, tag)"],_computeRunColor:function(a){return this._colorScale.scale(a)},attached:function(){this._attached=
!0;this.reload()},reload:function(){var a=this;if(this._attached){this._canceller.cancelAll();var b=u.addParams(u.getRouter().pluginRoute("distributions","/distributions"),{tag:this.tag,run:this.run}),c=this._canceller.cancellable(function(b){b.cancelled||(b=b.value.map(function(a){var b=ma(a);a=b.next().value;var c=b.next().value;b=b.next().value;b.wall_time=new Date(1E3*a);b.step=c;return b}),a.$$("vz-distribution-chart").setVisibleSeries([a.run]),a.$$("vz-distribution-chart").setSeriesData(a.run,
b))});this.requestManager.request(b).then(c)}},redraw:function(){this.$$("vz-distribution-chart").redraw()},_toggleExpanded:function(){this.set("_expanded",!this._expanded);this.redraw()}});
</script>
</dom-module>



<dom-module id="tf-distribution-dashboard">
  <template>
    <tf-dashboard-layout class="style-scope tf-distribution-dashboard">
      <div class="sidebar style-scope tf-distribution-dashboard">
        <div class="sidebar-section style-scope tf-distribution-dashboard">
          <tf-option-selector id="xTypeSelector" name="Horizontal axis" class="style-scope tf-distribution-dashboard">
            <paper-button id="step" class="style-scope tf-distribution-dashboard">step</paper-button>
            <paper-button id="relative" class="style-scope tf-distribution-dashboard">relative</paper-button>
            <paper-button id="wall_time" class="style-scope tf-distribution-dashboard">wall</paper-button>
          </tf-option-selector>
        </div>
        <div class="sidebar-section style-scope tf-distribution-dashboard">
          <tf-runs-selector class="style-scope tf-distribution-dashboard">
          </tf-runs-selector>
        </div>
      </div>

      <div class="center style-scope tf-distribution-dashboard">
        <template is="dom-if" class="style-scope tf-distribution-dashboard"></template>
        <template is="dom-if" class="style-scope tf-distribution-dashboard"></template>
      </div>
    </tf-dashboard-layout>

    
    
  </template>

  <script>//~~WEBPATH~~/tf-distribution-dashboard/tf-distribution-dashboard.html.js
Polymer({is:"tf-distribution-dashboard",properties:{_xType:{type:String,value:"step"},_selectedRuns:Array,_runToTag:Object,_runToTagInfo:Object,_dataNotFound:Boolean,_tagFilter:String,_categoriesDomReady:Boolean,_categories:{type:Array,computed:"_makeCategories(_runToTag, _selectedRuns, _tagFilter, _categoriesDomReady)"},_requestManager:{type:Object,value:function(){return new u.RequestManager}}},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadDistributions()})},
_fetchTags:function(){var a=this;return this._requestManager.request(u.getRouter().pluginRoute("distributions","/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return Object.keys(a)}),d=u.getTags(c);a.set("_dataNotFound",0===d.length);a.set("_runToTag",c);a.set("_runToTagInfo",b);a.async(function(){a.set("_categoriesDomReady",!0)})}})},_reloadDistributions:function(){this.querySelectorAll("tf-distribution-loader").forEach(function(a){a.reload()})},_shouldOpen:function(a){return 2>=
a},_makeCategories:function(a,b,c){return Pa.categorizeRunTagCombinations(a,b,c)},_tagMetadata:function(a,b,c){return a[b][c]}});$a.registerDashboard({plugin:"distributions",elementName:"tf-distribution-dashboard"});
</script>
</dom-module>

























<dom-module id="vz-histogram-timeseries">
    <template>
      <div id="tooltip" class="style-scope vz-histogram-timeseries"><span class="style-scope vz-histogram-timeseries"></span></div>
      <svg id="svg" class="style-scope vz-histogram-timeseries">
        <g class="style-scope vz-histogram-timeseries">
          <g class="axis x style-scope vz-histogram-timeseries"></g>
          <g class="axis y style-scope vz-histogram-timeseries"></g>
          <g class="axis y slice style-scope vz-histogram-timeseries"></g>
          <g class="stage style-scope vz-histogram-timeseries">
            <rect class="background style-scope vz-histogram-timeseries"></rect>
          </g>
          <g class="x-axis-hover style-scope vz-histogram-timeseries"></g>
          <g class="y-axis-hover style-scope vz-histogram-timeseries"></g>
          <g class="y-slice-axis-hover style-scope vz-histogram-timeseries"></g>
        </g>
      </svg>

      
    </template>

    <script>//~~WEBPATH~~/vz-histogram-timeseries/vz-histogram-timeseries.html.js
Polymer({is:"vz-histogram-timeseries",properties:{mode:{type:String,value:"offset"},timeProperty:{type:String,value:"step"},bins:{type:String,value:"bins"},x:{type:String,value:"x"},dx:{type:String,value:"dx"},y:{type:String,value:"y"},colorScale:{type:Object,value:function(){return d3.scaleOrdinal(d3.schemeCategory10)}},modeTransitionDuration:{type:Number,value:500},_attached:Boolean,_name:{type:String,value:null},_data:{type:Array,value:null}},observers:["redraw(timeProperty, _attached)","_modeRedraw(mode)"],
ready:function(){this.scopeSubtree(this.$.svg,!0)},attached:function(){this._attached=!0},detached:function(){this._attached=!1},setSeriesData:function(a,b){this._name=a;this._data=b;this.redraw()},redraw:function(){this._draw(0)},_modeRedraw:function(){this._draw(this.modeTransitionDuration)},_draw:function(a){if(this._attached&&this._data){if(void 0===a)throw Error("vz-histogram-timeseries _draw needs duration");if(0>=this._data.length)throw Error("Not enough steps in the data");if(!this._data[0].hasOwnProperty(this.bins))throw Error("No bins property of '"+
this.bins+"' in data");if(0>=this._data[0][this.bins].length)throw Error("Must have at least one bin in bins in data");if(!this._data[0][this.bins][0].hasOwnProperty(this.x))throw Error("No x property '"+this.x+"' on bins data");if(!this._data[0][this.bins][0].hasOwnProperty(this.dx))throw Error("No dx property '"+this.dx+"' on bins data");if(!this._data[0][this.bins][0].hasOwnProperty(this.y))throw Error("No y property '"+this.y+"' on bins data");var b=this.timeProperty,c=this.x,d=this.bins,e=this.dx,
f=this.y,g=this._data,h=this.mode,l=d3.hcl(this.colorScale(this._name)),m=d3.select(this.$.tooltip),n=function(a){return a[c]},q=function(a){return a[f]},p=function(a){return a[c]+a[e]},t=function(a){return a[b]};"relative"===b&&(t=function(a){return a.wall_time-g[0].wall_time});var r=this.$.svg.getBoundingClientRect(),w=r.width,v=r.height,y=5;if("offset"===h){var x=v/2.5;y=x+5}else x=v-y-20;var A=w-24-60,B=v-y-20;d3.min(g,n);d3.max(g,p);var H=d3.format(".3n");r=d3.format(".0f");"wall_time"===b?r=
d3.timeFormat("%m/%d %X"):"relative"===b&&(r=function(a){return d3.format(".1r")(a/36E5)+"h"});var E=g.map(function(a){return[d3.min(a[d],n),d3.max(a[d],p)]}),I=g.map(function(a){return d3.extent(a[d],q)}),D=d3.extent(g,t),C=("wall_time"===b?d3.scaleTime():d3.scaleLinear()).domain(D).range([0,"offset"===h?B:0]),F=d3.scaleLinear().domain([0,d3.max(g,function(a,b){return I[b][1]})]).range([x,0]),J=d3.scaleLinear().domain(F.domain()).range([500,0]),K=d3.scaleLinear().domain([d3.min(g,function(a,b){return E[b][0]}),
d3.max(g,function(a,b){return E[b][1]})]).nice().range([0,A]),S=d3.scaleLinear().domain(K.domain()).range([0,500]),O=d3.scaleLinear().domain(d3.extent(g,t)).range([l.darker(),l.brighter()]).interpolate(d3.interpolateHcl);l=d3.axisBottom(K).ticks();var M=d3.axisRight(C).ticks().tickFormat(r),P=d3.axisRight(F).ticks().tickSize(A+5).tickFormat(H),Q=function(a){return a[c]+a[e]/2},N=d3.line().x(function(a){return S(Q(a))}).y(function(a){return J(a[f])}),U=this.$.svg;r=d3.select(U);a=r.transition().duration(a);
r=r.select("g").classed("small",function(){return 0<A&&150>=A}).classed("medium",function(){return 150<A&&300>=A}).classed("large",function(){return 300<A});a=a.select("g").attr("transform","translate(24,"+y+")");var T=d3.bisector(p).left;D=r.select(".stage").on("mouseover",function(){Da.style("opacity",1);da.style("opacity",1);Ea.style("opacity",1);bb.style("opacity",1);m.style("opacity",1)}).on("mouseout",function(){Da.style("opacity",0);da.style("opacity",0);Ea.style("opacity",0);bb.style("opacity",
0);Da.classed("hover-closest",!1);fa.classed("outline-hover",!1);m.style("opacity",0)}).on("mousemove",function(){function a(a){return Math.min(a[d].length-1,T(a[d],l))}var g=d3.mouse(this),l=K.invert(g[0]);C.invert(g[1]);var n,p=Infinity,q;Da.attr("transform",function(b){var l=a(b);q=b;var m=K(b[d][l][c]+b[d][l][e]/2);l=F(b[d][l][f]);var r="offset"===h?C(t(b))-(x-l):l;r=Math.abs(g[1]-r);r<p&&(p=r,n=b);return"translate("+m+","+l+")"});Da.select("text").text(function(b){var c=a(b);return b[d][c][f]});
Da.classed("hover-closest",function(a){return a===n});fa.classed("outline-hover",function(a){return a===n});var r=a(q);da.attr("transform",function(){return"translate("+K(q[d][r][c]+q[d][r][e]/2)+", "+B+")"}).select("text").text(function(){return H(q[d][r][c]+q[d][r][e]/2)});var w=M.tickFormat();Ea.attr("transform",function(){return"translate("+A+", "+("offset"===h?C(t(n)):0)+")"}).style("display","offset"===h?"":"none").select("text").text(function(){return w(t(n))});var v=P.tickFormat();bb.attr("transform",
function(){return"translate("+A+", "+("offset"===h?0:F(n[d][r][f]))+")"}).style("display","offset"===h?"none":"").select("text").text(function(){return v(n[d][r][f])});var y=d3.mouse(U);m.style("transform","translate("+(y[0]+15)+"px,"+(y[1]-15)+"px)").select("span").text("offset"===h?v(n[d][r][f]):("step"===b?"step ":"")+w(t(n)))});D.select(".background").attr("transform","translate(-24,"+-y+")").attr("width",w).attr("height",v);v=D.selectAll(".histogram").data(g);v.exit().remove();w=v.enter().append("g").attr("class",
"histogram");v=w.merge(v).sort(function(a,b){return t(a)-t(b)});y=a.selectAll(".histogram").attr("transform",function(a){return"translate(0, "+("offset"===h?C(t(a))-x:0)+")"});w.append("line").attr("class","baseline");y.select(".baseline").style("stroke-opacity",function(){return"offset"===h?.1:0}).attr("y1",x).attr("y2",x).attr("x2",A);w.append("path").attr("class","outline");var fa=v.select(".outline").attr("vector-effect","non-scaling-stroke").attr("d",function(a){a=a[d];return"M"+S(Q(a[0]))+","+
J(0)+"L"+N(a).slice(1)+"L"+S(Q(a[a.length-1]))+","+J(0)}).style("stroke-width",1);y.select(".outline").attr("transform","scale("+A/500+", "+x/500+")").style("stroke",function(a){return"offset"===h?"white":O(t(a))}).style("fill-opacity",function(){return"offset"===h?1:0}).style("fill",function(a){return O(t(a))});w=w.append("g").attr("class","hover").style("fill",function(a){return O(t(a))});var Da=v.select(".hover");w.append("circle").attr("r",2);w.append("text").style("display","none").attr("dx",
4);w=r.select(".x-axis-hover").selectAll(".label").data(["x"]);v=w.enter().append("g").attr("class","label");var da=w.merge(v);v.append("rect").attr("x",-20).attr("y",6).attr("width",40).attr("height",14);v.append("line").attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",6);v.append("text").attr("dy",18);w=r.select(".y-axis-hover").selectAll(".label").data(["y"]);v=w.enter().append("g").attr("class","label");var Ea=w.merge(v);v.append("rect").attr("x",8).attr("y",-6).attr("width",40).attr("height",
14);v.append("line").attr("x1",0).attr("x2",6).attr("y1",0).attr("y2",0);v.append("text").attr("dx",8).attr("dy",4);r=r.select(".y-slice-axis-hover").selectAll(".label").data(["y"]);w=r.enter().append("g").attr("class","label");var bb=r.merge(w);w.append("rect").attr("x",8).attr("y",-6).attr("width",40).attr("height",14);w.append("line").attr("x1",0).attr("x2",6).attr("y1",0).attr("y2",0);w.append("text").attr("dx",8).attr("dy",4);a.select(".y.axis.slice").style("opacity","offset"===h?0:1).attr("transform",
"translate(0, "+("offset"===h?-x:0)+")").call(P);a.select(".x.axis").attr("transform","translate(0, "+B+")").call(l);a.select(".y.axis").style("opacity","offset"===h?1:0).attr("transform","translate("+A+", "+("offset"===h?0:B)+")").call(M);a.selectAll(".tick text").attr("fill","#aaa");a.selectAll(".axis path.domain").attr("stroke","none")}}});
</script>

  </dom-module>



<script>//~~WEBPATH~~/tf-histogram-dashboard/histogramCore.js
var tb;
(function(a){function b(a){var b=a[2];return{wall_time:a[0],step:a[1],min:d3.min(b.map(function(a){return a[0]})),max:d3.max(b.map(function(a){return a[1]})),buckets:b.map(function(a){return{left:a[0],right:a[1],count:a[2]}})}}function c(a,b,c,g){void 0===g&&(g=30);c===b&&(c=1.1*b+1,b=b/1.1-1);var d=(c-b)/g,e=0;return d3.range(b,c,d).map(function(f){for(var g=f+d,h=0;e<a.buckets.length;){var l=Math.min(c,a.buckets[e].right),m=Math.max(b,a.buckets[e].left),r=Math.min(l,g)-Math.max(m,f);m=r/(l-m)*a.buckets[e].count;
h+=0<r?m:0;if(l>g)break;e++}return{x:f,dx:d,y:h}})}a.backendToIntermediate=b;a.intermediateToD3=c;a.backendToVz=function(a){a=a.map(b);var d=d3.min(a,function(a){return a.min}),f=d3.max(a,function(a){return a.max});return a.map(function(a){return{wall_time:a.wall_time,step:a.step,bins:c(a,d,f)}})}})(tb||(tb={}));
</script>



<dom-module id="tf-histogram-loader">
  <template>
    <tf-card-heading class="style-scope tf-histogram-loader"></tf-card-heading>
    
    <vz-histogram-timeseries class="style-scope tf-histogram-loader"></vz-histogram-timeseries>
    <div style="display: flex; flex-direction: row;" class="style-scope tf-histogram-loader">
      <paper-icon-button icon="fullscreen" class="style-scope tf-histogram-loader"></paper-icon-button>
    </div>
    
  </template>
  <script>//~~WEBPATH~~/tf-histogram-dashboard/tf-histogram-loader.html.js
Polymer({is:"tf-histogram-loader",properties:{run:String,tag:String,tagMetadata:Object,timeProperty:String,histogramMode:String,_colorScaleFunction:{type:Object,value:function(){return Ta.runsColorScale}},_runColor:{type:String,computed:"_computeRunColor(run)"},_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},requestManager:Object,_canceller:{type:Object,value:function(){return new u.Canceller}}},observers:["reload(run, tag)"],_computeRunColor:function(a){return this._colorScaleFunction(a)},
attached:function(){this._attached=!0;this.reload()},reload:function(){var a=this;if(this._attached){this._canceller.cancelAll();var b=u.addParams(u.getRouter().pluginRoute("histograms","/histograms"),{tag:this.tag,run:this.run}),c=this._canceller.cancellable(function(b){b.cancelled||(b=tb.backendToVz(b.value),a.$$("vz-histogram-timeseries").setSeriesData(a.run,b))});this.requestManager.request(b).then(c)}},redraw:function(){this.$$("vz-histogram-timeseries").redraw()},_toggleExpanded:function(){this.set("_expanded",
!this._expanded);this.redraw()}});
</script>
</dom-module>



<dom-module id="tf-histogram-dashboard">
  <template>
    <tf-dashboard-layout class="style-scope tf-histogram-dashboard">
      <div class="sidebar style-scope tf-histogram-dashboard">
        <div class="sidebar-section style-scope tf-histogram-dashboard">
          <tf-option-selector id="histogramModeSelector" name="Histogram mode" class="style-scope tf-histogram-dashboard">
            <paper-button id="overlay" class="style-scope tf-histogram-dashboard">overlay</paper-button>
            <paper-button id="offset" class="style-scope tf-histogram-dashboard">offset</paper-button>
          </tf-option-selector>
        </div>
        <div class="sidebar-section style-scope tf-histogram-dashboard">
          <tf-option-selector id="timePropertySelector" name="Offset time axis" class="style-scope tf-histogram-dashboard">
            <paper-button id="step" class="style-scope tf-histogram-dashboard">step</paper-button>
            <paper-button id="relative" class="style-scope tf-histogram-dashboard">relative</paper-button>
            <paper-button id="wall_time" class="style-scope tf-histogram-dashboard">wall</paper-button>
          </tf-option-selector>
        </div>
        <div class="sidebar-section style-scope tf-histogram-dashboard">
          <tf-runs-selector class="style-scope tf-histogram-dashboard">
          </tf-runs-selector>
        </div>
       </div>
      
      <div class="center style-scope tf-histogram-dashboard">
        <template is="dom-if" class="style-scope tf-histogram-dashboard"></template>
        <template is="dom-if" class="style-scope tf-histogram-dashboard"></template>
      </div>
    </tf-dashboard-layout>

    
    
  </template>

  <script>//~~WEBPATH~~/tf-histogram-dashboard/tf-histogram-dashboard.html.js
Polymer({is:"tf-histogram-dashboard",properties:{_histogramMode:{type:String,value:"offset"},_timeProperty:{type:String,value:"step"},_selectedRuns:Array,_runToTag:Object,_runToTagInfo:Object,_dataNotFound:Boolean,_tagFilter:String,_categoriesDomReady:Boolean,_categories:{type:Array,computed:"_makeCategories(_runToTag, _selectedRuns, _tagFilter, _categoriesDomReady)"},_requestManager:{type:Object,value:function(){return new u.RequestManager}}},ready:function(){this.reload()},reload:function(){var a=
this;this._fetchTags().then(function(){a._reloadHistograms()})},_fetchTags:function(){var a=this;return this._requestManager.request(u.getRouter().pluginRoute("histograms","/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,function(a){return Object.keys(a)}),d=u.getTags(c);a.set("_dataNotFound",0===d.length);a.set("_runToTag",c);a.set("_runToTagInfo",b);a.async(function(){a.set("_categoriesDomReady",!0)})}})},_reloadHistograms:function(){this.querySelectorAll("tf-histogram-loader").forEach(function(a){a.reload()})},
_shouldOpen:function(a){return 2>=a},_makeCategories:function(a,b,c){return Pa.categorizeRunTagCombinations(a,b,c)},_tagMetadata:function(a,b,c){return a[b][c]}});$a.registerDashboard({plugin:"histograms",elementName:"tf-histogram-dashboard"});
</script>
</dom-module>






<dom-module id="tf-no-data-warning">
  <template>
    <template is="dom-if" class="style-scope tf-no-data-warning"></template>
    
  </template>

  <script>//~~WEBPATH~~/tf-dashboard-common/tf-no-data-warning.html.js
Polymer({is:"tf-no-data-warning",properties:{dataType:String,showWarning:Boolean}});
</script>
</dom-module>





<iron-iconset-svg name="image" size="24" style="display: none;">
<svg><defs>
<g id="add-a-photo"><path d="M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"></path></g>
<g id="add-to-photos"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g>
<g id="adjust"><path d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"></path></g>
<g id="assistant"><path d="M19 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5.12 10.88L12 17l-1.88-4.12L6 11l4.12-1.88L12 5l1.88 4.12L18 11l-4.12 1.88z"></path></g>
<g id="assistant-photo"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"></path></g>
<g id="audiotrack"><path d="M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"></path></g>
<g id="blur-circular"><path d="M10 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM7 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-3-3c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm3-6c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-1.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm3 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-4c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm2-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-3.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path></g>
<g id="blur-linear"><path d="M5 17.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 13c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zM3 21h18v-2H3v2zM5 9.5c.83 0 1.5-.67 1.5-1.5S5.83 6.5 5 6.5 3.5 7.17 3.5 8 4.17 9.5 5 9.5zm0 4c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM9 17c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8-.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM3 3v2h18V3H3zm14 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm0 4c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM13 9c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"></path></g>
<g id="blur-off"><path d="M14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-.2 4.48l.2.02c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5l.02.2c.09.67.61 1.19 1.28 1.28zM14 3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-4 0c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm11 7c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm8 8c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-4c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-4 13.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM2.5 5.27l3.78 3.78L6 9c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l2.81 2.81c-.71.11-1.25.73-1.25 1.47 0 .83.67 1.5 1.5 1.5.74 0 1.36-.54 1.47-1.25l2.81 2.81c-.09-.03-.18-.06-.28-.06-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1c0-.1-.03-.19-.06-.28l3.78 3.78L20 20.23 3.77 4 2.5 5.27zM10 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM3 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 11c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3-3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5z"></path></g>
<g id="blur-on"><path d="M6 13c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm-3 .5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM6 5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm15 5.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM14 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0-3.5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zm-11 10c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm0-17c.28 0 .5-.22.5-.5s-.22-.5-.5-.5-.5.22-.5.5.22.5.5.5zM10 7c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm0 5.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm8 .5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-8c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm3 8.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM14 17c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm0 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-4-12c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0 8.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm4-4.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path></g>
<g id="brightness-1"><circle cx="12" cy="12" r="10"></circle></g>
<g id="brightness-2"><path d="M10 2c-1.82 0-3.53.5-5 1.35C7.99 5.08 10 8.3 10 12s-2.01 6.92-5 8.65C6.47 21.5 8.18 22 10 22c5.52 0 10-4.48 10-10S15.52 2 10 2z"></path></g>
<g id="brightness-3"><path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z"></path></g>
<g id="brightness-4"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"></path></g>
<g id="brightness-5"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"></path></g>
<g id="brightness-6"><path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18V6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"></path></g>
<g id="brightness-7"><path d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"></path></g>
<g id="broken-image"><path d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42l3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"></path></g>
<g id="brush"><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"></path></g>
<g id="burst-mode"><path d="M1 5h2v14H1zm4 0h2v14H5zm17 0H10c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM11 17l2.5-3.15L15.29 16l2.5-3.22L21 17H11z"></path></g>
<g id="camera"><path d="M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"></path></g>
<g id="camera-alt"><circle cx="12" cy="12" r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g>
<g id="camera-front"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zM12 8c1.1 0 2-.9 2-2s-.9-2-2-2-1.99.9-1.99 2S10.9 8 12 8zm5-8H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zM7 2h10v10.5c0-1.67-3.33-2.5-5-2.5s-5 .83-5 2.5V2z"></path></g>
<g id="camera-rear"><path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zm3-20H7C5.9 0 5 .9 5 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm-5 6c-1.11 0-2-.9-2-2s.89-2 1.99-2 2 .9 2 2C14 5.1 13.1 6 12 6z"></path></g>
<g id="camera-roll"><path d="M14 5c0-1.1-.9-2-2-2h-1V2c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1v1H4c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2h8V5h-8zm-2 13h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2zm4 9h-2v-2h2v2zm0-9h-2V7h2v2z"></path></g>
<g id="center-focus-strong"><path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"></path></g>
<g id="center-focus-weak"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>
<g id="collections"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"></path></g>
<g id="collections-bookmark"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 10l-2.5-1.5L15 12V4h5v8z"></path></g>
<g id="color-lens"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>
<g id="colorize"><path d="M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"></path></g>
<g id="compare"><path d="M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g>
<g id="control-point"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="control-point-duplicate"><path d="M16 8h-2v3h-3v2h3v3h2v-3h3v-2h-3zM2 12c0-2.79 1.64-5.2 4.01-6.32V3.52C2.52 4.76 0 8.09 0 12s2.52 7.24 6.01 8.48v-2.16C3.64 17.2 2 14.79 2 12zm13-9c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7z"></path></g>
<g id="crop"><path d="M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"></path></g>
<g id="crop-16-9"><path d="M19 6H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H5V8h14v8z"></path></g>
<g id="crop-3-2"><path d="M19 4H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H5V6h14v12z"></path></g>
<g id="crop-5-4"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"></path></g>
<g id="crop-7-5"><path d="M19 7H5c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm0 8H5V9h14v6z"></path></g>
<g id="crop-din"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g>
<g id="crop-free"><path d="M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z"></path></g>
<g id="crop-landscape"><path d="M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"></path></g>
<g id="crop-original"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"></path></g>
<g id="crop-portrait"><path d="M17 3H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7V5h10v14z"></path></g>
<g id="crop-rotate"><path d="M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"></path></g>
<g id="crop-square"><path d="M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"></path></g>
<g id="dehaze"><path d="M2 15.5v2h20v-2H2zm0-5v2h20v-2H2zm0-5v2h20v-2H2z"></path></g>
<g id="details"><path d="M3 4l9 16 9-16H3zm3.38 2h11.25L12 16 6.38 6z"></path></g>
<g id="edit"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g>
<g id="exposure"><path d="M15 17v2h2v-2h2v-2h-2v-2h-2v2h-2v2h2zm5-15H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM5 5h6v2H5V5zm15 15H4L20 4v16z"></path></g>
<g id="exposure-neg-1"><path d="M4 11v2h8v-2H4zm15 7h-2V7.38L14 8.4V6.7L18.7 5h.3v13z"></path></g>
<g id="exposure-neg-2"><path d="M15.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17s.19-.79.19-1.18c0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H21v-1.71h-5.95zM2 11v2h8v-2H2z"></path></g>
<g id="exposure-plus-1"><path d="M10 7H8v4H4v2h4v4h2v-4h4v-2h-4V7zm10 11h-2V7.38L15 8.4V6.7L19.7 5h.3v13z"></path></g>
<g id="exposure-plus-2"><path d="M16.05 16.29l2.86-3.07c.38-.39.72-.79 1.04-1.18.32-.39.59-.78.82-1.17.23-.39.41-.78.54-1.17.13-.39.19-.79.19-1.18 0-.53-.09-1.02-.27-1.46-.18-.44-.44-.81-.78-1.11-.34-.31-.77-.54-1.26-.71-.51-.16-1.08-.24-1.72-.24-.69 0-1.31.11-1.85.32-.54.21-1 .51-1.36.88-.37.37-.65.8-.84 1.3-.18.47-.27.97-.28 1.5h2.14c.01-.31.05-.6.13-.87.09-.29.23-.54.4-.75.18-.21.41-.37.68-.49.27-.12.6-.18.96-.18.31 0 .58.05.81.15.23.1.43.25.59.43.16.18.28.4.37.65.08.25.13.52.13.81 0 .22-.03.43-.08.65-.06.22-.15.45-.29.7-.14.25-.32.53-.56.83-.23.3-.52.65-.88 1.03l-4.17 4.55V18H22v-1.71h-5.95zM8 7H6v4H2v2h4v4h2v-4h4v-2H8V7z"></path></g>
<g id="exposure-zero"><path d="M16.14 12.5c0 1-.1 1.85-.3 2.55-.2.7-.48 1.27-.83 1.7-.36.44-.79.75-1.3.95-.51.2-1.07.3-1.7.3-.62 0-1.18-.1-1.69-.3-.51-.2-.95-.51-1.31-.95-.36-.44-.65-1.01-.85-1.7-.2-.7-.3-1.55-.3-2.55v-2.04c0-1 .1-1.85.3-2.55.2-.7.48-1.26.84-1.69.36-.43.8-.74 1.31-.93C10.81 5.1 11.38 5 12 5c.63 0 1.19.1 1.7.29.51.19.95.5 1.31.93.36.43.64.99.84 1.69.2.7.3 1.54.3 2.55v2.04zm-2.11-2.36c0-.64-.05-1.18-.13-1.62-.09-.44-.22-.79-.4-1.06-.17-.27-.39-.46-.64-.58-.25-.13-.54-.19-.86-.19-.32 0-.61.06-.86.18s-.47.31-.64.58c-.17.27-.31.62-.4 1.06s-.13.98-.13 1.62v2.67c0 .64.05 1.18.14 1.62.09.45.23.81.4 1.09s.39.48.64.61.54.19.87.19c.33 0 .62-.06.87-.19s.46-.33.63-.61c.17-.28.3-.64.39-1.09.09-.45.13-.99.13-1.62v-2.66z"></path></g>
<g id="filter"><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g>
<g id="filter-1"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g>
<g id="filter-2"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-4-4h-4v-2h2c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2h-4v2h4v2h-2c-1.1 0-2 .89-2 2v4h6v-2z"></path></g>
<g id="filter-3"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-4v2h4v2h-2v2h2v2h-4v2h4c1.1 0 2-.89 2-2z"></path></g>
<g id="filter-4"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm12 10h2V5h-2v4h-2V5h-2v6h4v4zm6-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g>
<g id="filter-5"><path d="M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm14 8v-2c0-1.11-.9-2-2-2h-2V7h4V5h-6v6h4v2h-4v2h4c1.1 0 2-.89 2-2z"></path></g>
<g id="filter-6"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-2c0-1.11-.9-2-2-2h-2V7h4V5h-4c-1.1 0-2 .89-2 2v6c0 1.11.9 2 2 2zm0-4h2v2h-2v-2z"></path></g>
<g id="filter-7"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2l4-8V5h-6v2h4l-4 8h2z"></path></g>
<g id="filter-8"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zm-8-2h2c1.1 0 2-.89 2-2v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.11-.9-2-2-2h-2c-1.1 0-2 .89-2 2v1.5c0 .83.67 1.5 1.5 1.5-.83 0-1.5.67-1.5 1.5V13c0 1.11.9 2 2 2zm0-8h2v2h-2V7zm0 4h2v2h-2v-2z"></path></g>
<g id="filter-9"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14zM15 5h-2c-1.1 0-2 .89-2 2v2c0 1.11.9 2 2 2h2v2h-4v2h4c1.1 0 2-.89 2-2V7c0-1.11-.9-2-2-2zm0 4h-2V7h2v2z"></path></g>
<g id="filter-9-plus"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 7V8c0-1.11-.9-2-2-2h-1c-1.1 0-2 .89-2 2v1c0 1.11.9 2 2 2h1v1H9v2h3c1.1 0 2-.89 2-2zm-3-3V8h1v1h-1zm10-8H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 8h-2V7h-2v2h-2v2h2v2h2v-2h2v6H7V3h14v6z"></path></g>
<g id="filter-b-and-w"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16l-7-8v8H5l7-8V5h7v14z"></path></g>
<g id="filter-center-focus"><path d="M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g>
<g id="filter-drama"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.61 5.64 5.36 8.04 2.35 8.36 0 10.9 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4h2c0-2.76-1.86-5.08-4.4-5.78C8.61 6.88 10.2 6 12 6c3.03 0 5.5 2.47 5.5 5.5v.5H19c1.65 0 3 1.35 3 3s-1.35 3-3 3z"></path></g>
<g id="filter-frames"><path d="M20 4h-4l-4-4-4 4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H4V6h4.52l3.52-3.5L15.52 6H20v14zM18 8H6v10h12"></path></g>
<g id="filter-hdr"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"></path></g>
<g id="filter-none"><path d="M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"></path></g>
<g id="filter-tilt-shift"><path d="M11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zm7.32.19C16.84 3.05 15.01 2.25 13 2.05v2.02c1.46.18 2.79.76 3.9 1.62l1.42-1.43zM19.93 11h2.02c-.2-2.01-1-3.84-2.21-5.32L18.31 7.1c.86 1.11 1.44 2.44 1.62 3.9zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zM15 12c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3zm3.31 4.9l1.43 1.43c1.21-1.48 2.01-3.32 2.21-5.32h-2.02c-.18 1.45-.76 2.78-1.62 3.89zM13 19.93v2.02c2.01-.2 3.84-1 5.32-2.21l-1.43-1.43c-1.1.86-2.43 1.44-3.89 1.62zm-7.32-.19C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43z"></path></g>
<g id="filter-vintage"><path d="M18.7 12.4c-.28-.16-.57-.29-.86-.4.29-.11.58-.24.86-.4 1.92-1.11 2.99-3.12 3-5.19-1.79-1.03-4.07-1.11-6 0-.28.16-.54.35-.78.54.05-.31.08-.63.08-.95 0-2.22-1.21-4.15-3-5.19C10.21 1.85 9 3.78 9 6c0 .32.03.64.08.95-.24-.2-.5-.39-.78-.55-1.92-1.11-4.2-1.03-6 0 0 2.07 1.07 4.08 3 5.19.28.16.57.29.86.4-.29.11-.58.24-.86.4-1.92 1.11-2.99 3.12-3 5.19 1.79 1.03 4.07 1.11 6 0 .28-.16.54-.35.78-.54-.05.32-.08.64-.08.96 0 2.22 1.21 4.15 3 5.19 1.79-1.04 3-2.97 3-5.19 0-.32-.03-.64-.08-.95.24.2.5.38.78.54 1.92 1.11 4.2 1.03 6 0-.01-2.07-1.08-4.08-3-5.19zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path></g>
<g id="flare"><path d="M7 11H1v2h6v-2zm2.17-3.24L7.05 5.64 5.64 7.05l2.12 2.12 1.41-1.41zM13 1h-2v6h2V1zm5.36 6.05l-1.41-1.41-2.12 2.12 1.41 1.41 2.12-2.12zM17 11v2h6v-2h-6zm-5-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm2.83 7.24l2.12 2.12 1.41-1.41-2.12-2.12-1.41 1.41zm-9.19.71l1.41 1.41 2.12-2.12-1.41-1.41-2.12 2.12zM11 23h2v-6h-2v6z"></path></g>
<g id="flash-auto"><path d="M3 2v12h3v9l7-12H9l4-9H3zm16 0h-2l-3.2 9h1.9l.7-2h3.2l.7 2h1.9L19 2zm-2.15 5.65L18 4l1.15 3.65h-2.3z"></path></g>
<g id="flash-off"><path d="M3.27 3L2 4.27l5 5V13h3v9l3.58-6.14L17.73 20 19 18.73 3.27 3zM17 10h-4l4-8H7v2.18l8.46 8.46L17 10z"></path></g>
<g id="flash-on"><path d="M7 2v11h3v9l7-12h-4l4-8z"></path></g>
<g id="flip"><path d="M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"></path></g>
<g id="gradient"><path d="M11 9h2v2h-2zm-2 2h2v2H9zm4 0h2v2h-2zm2-2h2v2h-2zM7 9h2v2H7zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"></path></g>
<g id="grain"><path d="M10 12c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-4 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-4-4c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="grid-off"><path d="M8 4v1.45l2 2V4h4v4h-3.45l2 2H14v1.45l2 2V10h4v4h-3.45l2 2H20v1.45l2 2V4c0-1.1-.9-2-2-2H4.55l2 2H8zm8 0h4v4h-4V4zM1.27 1.27L0 2.55l2 2V20c0 1.1.9 2 2 2h15.46l2 2 1.27-1.27L1.27 1.27zM10 12.55L11.45 14H10v-1.45zm-6-6L5.45 8H4V6.55zM8 20H4v-4h4v4zm0-6H4v-4h3.45l.55.55V14zm6 6h-4v-4h3.45l.55.54V20zm2 0v-1.46L17.46 20H16z"></path></g>
<g id="grid-on"><path d="M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"></path></g>
<g id="hdr-off"><path d="M17.5 15v-2h1.1l.9 2H21l-.9-2.1c.5-.2.9-.8.9-1.4v-1c0-.8-.7-1.5-1.5-1.5H16v4.9l1.1 1.1h.4zm0-4.5h2v1h-2v-1zm-4.5 0v.4l1.5 1.5v-1.9c0-.8-.7-1.5-1.5-1.5h-1.9l1.5 1.5h.4zm-3.5-1l-7-7-1.1 1L6.9 9h-.4v2h-2V9H3v6h1.5v-2.5h2V15H8v-4.9l1.5 1.5V15h3.4l7.6 7.6 1.1-1.1-12.1-12z"></path></g>
<g id="hdr-on"><path d="M21 11.5v-1c0-.8-.7-1.5-1.5-1.5H16v6h1.5v-2h1.1l.9 2H21l-.9-2.1c.5-.3.9-.8.9-1.4zm-1.5 0h-2v-1h2v1zm-13-.5h-2V9H3v6h1.5v-2.5h2V15H8V9H6.5v2zM13 9H9.5v6H13c.8 0 1.5-.7 1.5-1.5v-3c0-.8-.7-1.5-1.5-1.5zm0 4.5h-2v-3h2v3z"></path></g>
<g id="hdr-strong"><path d="M17 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zM5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>
<g id="hdr-weak"><path d="M5 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm12-2c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z"></path></g>
<g id="healing"><path d="M17.73 12.02l3.98-3.98c.39-.39.39-1.02 0-1.41l-4.34-4.34c-.39-.39-1.02-.39-1.41 0l-3.98 3.98L8 2.29C7.8 2.1 7.55 2 7.29 2c-.25 0-.51.1-.7.29L2.25 6.63c-.39.39-.39 1.02 0 1.41l3.98 3.98L2.25 16c-.39.39-.39 1.02 0 1.41l4.34 4.34c.39.39 1.02.39 1.41 0l3.98-3.98 3.98 3.98c.2.2.45.29.71.29.26 0 .51-.1.71-.29l4.34-4.34c.39-.39.39-1.02 0-1.41l-3.99-3.98zM12 9c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-4.71 1.96L3.66 7.34l3.63-3.63 3.62 3.62-3.62 3.63zM10 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2.66 9.34l-3.63-3.62 3.63-3.63 3.62 3.62-3.62 3.63z"></path></g>
<g id="image"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></g>
<g id="image-aspect-ratio"><path d="M16 10h-2v2h2v-2zm0 4h-2v2h2v-2zm-8-4H6v2h2v-2zm4 0h-2v2h2v-2zm8-6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12z"></path></g>
<g id="iso"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5.5 7.5h2v-2H9v2h2V9H9v2H7.5V9h-2V7.5zM19 19H5L19 5v14zm-2-2v-1.5h-5V17h5z"></path></g>
<g id="landscape"><path d="M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"></path></g>
<g id="leak-add"><path d="M6 3H3v3c1.66 0 3-1.34 3-3zm8 0h-2c0 4.97-4.03 9-9 9v2c6.08 0 11-4.93 11-11zm-4 0H8c0 2.76-2.24 5-5 5v2c3.87 0 7-3.13 7-7zm0 18h2c0-4.97 4.03-9 9-9v-2c-6.07 0-11 4.93-11 11zm8 0h3v-3c-1.66 0-3 1.34-3 3zm-4 0h2c0-2.76 2.24-5 5-5v-2c-3.87 0-7 3.13-7 7z"></path></g>
<g id="leak-remove"><path d="M10 3H8c0 .37-.04.72-.12 1.06l1.59 1.59C9.81 4.84 10 3.94 10 3zM3 4.27l2.84 2.84C5.03 7.67 4.06 8 3 8v2c1.61 0 3.09-.55 4.27-1.46L8.7 9.97C7.14 11.24 5.16 12 3 12v2c2.71 0 5.19-.99 7.11-2.62l2.5 2.5C10.99 15.81 10 18.29 10 21h2c0-2.16.76-4.14 2.03-5.69l1.43 1.43C14.55 17.91 14 19.39 14 21h2c0-1.06.33-2.03.89-2.84L19.73 21 21 19.73 4.27 3 3 4.27zM14 3h-2c0 1.5-.37 2.91-1.02 4.16l1.46 1.46C13.42 6.98 14 5.06 14 3zm5.94 13.12c.34-.08.69-.12 1.06-.12v-2c-.94 0-1.84.19-2.66.52l1.6 1.6zm-4.56-4.56l1.46 1.46C18.09 12.37 19.5 12 21 12v-2c-2.06 0-3.98.58-5.62 1.56z"></path></g>
<g id="lens"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path></g>
<g id="linked-camera"><circle cx="12" cy="14" r="3.2"></circle><path d="M16 3.33c2.58 0 4.67 2.09 4.67 4.67H22c0-3.31-2.69-6-6-6v1.33M16 6c1.11 0 2 .89 2 2h1.33c0-1.84-1.49-3.33-3.33-3.33V6"></path><path d="M17 9c0-1.11-.89-2-2-2V4H9L7.17 6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9h-5zm-5 10c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g>
<g id="looks"><path d="M12 10c-3.86 0-7 3.14-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.86-3.14-7-7-7zm0-4C5.93 6 1 10.93 1 17h2c0-4.96 4.04-9 9-9s9 4.04 9 9h2c0-6.07-4.93-11-11-11z"></path></g>
<g id="looks-3"><path d="M19.01 3h-14c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 7.5c0 .83-.67 1.5-1.5 1.5.83 0 1.5.67 1.5 1.5V15c0 1.11-.9 2-2 2h-4v-2h4v-2h-2v-2h2V9h-4V7h4c1.1 0 2 .89 2 2v1.5z"></path></g>
<g id="looks-4"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 14h-2v-4H9V7h2v4h2V7h2v10z"></path></g>
<g id="looks-5"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2H9v-2h4v-2H9V7h6v2z"></path></g>
<g id="looks-6"><path d="M11 15h2v-2h-2v2zm8-12H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h2c1.1 0 2 .89 2 2v2c0 1.11-.9 2-2 2h-2c-1.1 0-2-.89-2-2V9c0-1.11.9-2 2-2h4v2z"></path></g>
<g id="looks-one"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2V9h-2V7h4v10z"></path></g>
<g id="looks-two"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 8c0 1.11-.9 2-2 2h-2v2h4v2H9v-4c0-1.11.9-2 2-2h2V9H9V7h4c1.1 0 2 .89 2 2v2z"></path></g>
<g id="loupe"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.49 2 2 6.49 2 12s4.49 10 10 10h8c1.1 0 2-.9 2-2v-8c0-5.51-4.49-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="monochrome-photos"><path d="M20 5h-3.2L15 3H9L7.2 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14h-8v-1c-2.8 0-5-2.2-5-5s2.2-5 5-5V7h8v12zm-3-6c0-2.8-2.2-5-5-5v1.8c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2V18c2.8 0 5-2.2 5-5zm-8.2 0c0 1.8 1.4 3.2 3.2 3.2V9.8c-1.8 0-3.2 1.4-3.2 3.2z"></path></g>
<g id="movie-creation"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"></path></g>
<g id="movie-filter"><path d="M18 4l2 3h-3l-2-3h-2l2 3h-3l-2-3H8l2 3H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4zm-6.75 11.25L10 18l-1.25-2.75L6 14l2.75-1.25L10 10l1.25 2.75L14 14l-2.75 1.25zm5.69-3.31L16 14l-.94-2.06L13 11l2.06-.94L16 8l.94 2.06L19 11l-2.06.94z"></path></g>
<g id="music-note"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></g>
<g id="nature"><path d="M13 16.12c3.47-.41 6.17-3.36 6.17-6.95 0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H5v2h14v-2h-6v-3.88z"></path></g>
<g id="nature-people"><path d="M22.17 9.17c0-3.87-3.13-7-7-7s-7 3.13-7 7c0 3.47 2.52 6.34 5.83 6.89V20H6v-3h1v-4c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v4h1v5h16v-2h-3v-3.88c3.47-.41 6.17-3.36 6.17-6.95zM4.5 11c.83 0 1.5-.67 1.5-1.5S5.33 8 4.5 8 3 8.67 3 9.5 3.67 11 4.5 11z"></path></g>
<g id="navigate-before"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>
<g id="navigate-next"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>
<g id="palette"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></g>
<g id="panorama"><path d="M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"></path></g>
<g id="panorama-fish-eye"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="panorama-horizontal"><path d="M20 6.54v10.91c-2.6-.77-5.28-1.16-8-1.16-2.72 0-5.4.39-8 1.16V6.54c2.6.77 5.28 1.16 8 1.16 2.72.01 5.4-.38 8-1.16M21.43 4c-.1 0-.2.02-.31.06C18.18 5.16 15.09 5.7 12 5.7c-3.09 0-6.18-.55-9.12-1.64-.11-.04-.22-.06-.31-.06-.34 0-.57.23-.57.63v14.75c0 .39.23.62.57.62.1 0 .2-.02.31-.06 2.94-1.1 6.03-1.64 9.12-1.64 3.09 0 6.18.55 9.12 1.64.11.04.21.06.31.06.33 0 .57-.23.57-.63V4.63c0-.4-.24-.63-.57-.63z"></path></g>
<g id="panorama-vertical"><path d="M19.94 21.12c-1.1-2.94-1.64-6.03-1.64-9.12 0-3.09.55-6.18 1.64-9.12.04-.11.06-.22.06-.31 0-.34-.23-.57-.63-.57H4.63c-.4 0-.63.23-.63.57 0 .1.02.2.06.31C5.16 5.82 5.71 8.91 5.71 12c0 3.09-.55 6.18-1.64 9.12-.05.11-.07.22-.07.31 0 .33.23.57.63.57h14.75c.39 0 .63-.24.63-.57-.01-.1-.03-.2-.07-.31zM6.54 20c.77-2.6 1.16-5.28 1.16-8 0-2.72-.39-5.4-1.16-8h10.91c-.77 2.6-1.16 5.28-1.16 8 0 2.72.39 5.4 1.16 8H6.54z"></path></g>
<g id="panorama-wide-angle"><path d="M12 6c2.45 0 4.71.2 7.29.64.47 1.78.71 3.58.71 5.36 0 1.78-.24 3.58-.71 5.36-2.58.44-4.84.64-7.29.64s-4.71-.2-7.29-.64C4.24 15.58 4 13.78 4 12c0-1.78.24-3.58.71-5.36C7.29 6.2 9.55 6 12 6m0-2c-2.73 0-5.22.24-7.95.72l-.93.16-.25.9C2.29 7.85 2 9.93 2 12s.29 4.15.87 6.22l.25.89.93.16c2.73.49 5.22.73 7.95.73s5.22-.24 7.95-.72l.93-.16.25-.89c.58-2.08.87-4.16.87-6.23s-.29-4.15-.87-6.22l-.25-.89-.93-.16C17.22 4.24 14.73 4 12 4z"></path></g>
<g id="photo"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"></path></g>
<g id="photo-album"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4zm0 15l3-3.86 2.14 2.58 3-3.86L18 19H6z"></path></g>
<g id="photo-camera"><circle cx="12" cy="12" r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g>
<g id="photo-filter"><path d="M19.02 10v9H5V5h9V3H5.02c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2zM17 10l.94-2.06L20 7l-2.06-.94L17 4l-.94 2.06L14 7l2.06.94zm-3.75.75L12 8l-1.25 2.75L8 12l2.75 1.25L12 16l1.25-2.75L16 12z"></path></g>
<g id="photo-library"><path d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4l2.03 2.71L16 11l4 5H8l3-4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"></path></g>
<g id="photo-size-select-actual"><path d="M21 3H3C2 3 1 4 1 5v14c0 1.1.9 2 2 2h18c1 0 2-1 2-2V5c0-1-1-2-2-2zM5 17l3.5-4.5 2.5 3.01L14.5 11l4.5 6H5z"></path></g>
<g id="photo-size-select-large"><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"></path></g>
<g id="photo-size-select-small"><path d="M23 15h-2v2h2v-2zm0-4h-2v2h2v-2zm0 8h-2v2c1 0 2-1 2-2zM15 3h-2v2h2V3zm8 4h-2v2h2V7zm-2-4v2h2c0-1-1-2-2-2zM3 21h8v-6H1v4c0 1.1.9 2 2 2zM3 7H1v2h2V7zm12 12h-2v2h2v-2zm4-16h-2v2h2V3zm0 16h-2v2h2v-2zM3 3C2 3 1 4 1 5h2V3zm0 8H1v2h2v-2zm8-8H9v2h2V3zM7 3H5v2h2V3z"></path></g>
<g id="picture-as-pdf"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"></path></g>
<g id="portrait"><path d="M12 12.25c1.24 0 2.25-1.01 2.25-2.25S13.24 7.75 12 7.75 9.75 8.76 9.75 10s1.01 2.25 2.25 2.25zm4.5 4c0-1.5-3-2.25-4.5-2.25s-4.5.75-4.5 2.25V17h9v-.75zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g>
<g id="remove-red-eye"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></g>
<g id="rotate-90-degrees-ccw"><path d="M7.34 6.41L.86 12.9l6.49 6.48 6.49-6.48-6.5-6.49zM3.69 12.9l3.66-3.66L11 12.9l-3.66 3.66-3.65-3.66zm15.67-6.26C17.61 4.88 15.3 4 13 4V.76L8.76 5 13 9.24V6c1.79 0 3.58.68 4.95 2.05 2.73 2.73 2.73 7.17 0 9.9C16.58 19.32 14.79 20 13 20c-.97 0-1.94-.21-2.84-.61l-1.49 1.49C10.02 21.62 11.51 22 13 22c2.3 0 4.61-.88 6.36-2.64 3.52-3.51 3.52-9.21 0-12.72z"></path></g>
<g id="rotate-left"><path d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"></path></g>
<g id="rotate-right"><path d="M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"></path></g>
<g id="slideshow"><path d="M10 8v8l5-4-5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"></path></g>
<g id="straighten"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z"></path></g>
<g id="style"><path d="M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"></path></g>
<g id="switch-camera"><path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 11.5V13H9v2.5L5.5 12 9 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"></path></g>
<g id="switch-video"><path d="M18 9.5V6c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-3.5l4 4v-13l-4 4zm-5 6V13H7v2.5L3.5 12 7 8.5V11h6V8.5l3.5 3.5-3.5 3.5z"></path></g>
<g id="tag-faces"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g>
<g id="texture"><path d="M19.51 3.08L3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3L3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"></path></g>
<g id="timelapse"><path d="M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g>
<g id="timer"><path d="M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path></g>
<g id="timer-10"><path d="M0 7.72V9.4l3-1V18h2V6h-.25L0 7.72zm23.78 6.65c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39 0-.14.03-.28.09-.41.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59C21.49 9.07 21 9 20.46 9c-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.69.23.96c.15.28.36.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02zm-9.96-7.32c-.34-.4-.75-.7-1.23-.88-.47-.18-1.01-.27-1.59-.27-.58 0-1.11.09-1.59.27-.48.18-.89.47-1.23.88-.34.41-.6.93-.79 1.59-.18.65-.28 1.45-.28 2.39v1.92c0 .94.09 1.74.28 2.39.19.66.45 1.19.8 1.6.34.41.75.71 1.23.89.48.18 1.01.28 1.59.28.59 0 1.12-.09 1.59-.28.48-.18.88-.48 1.22-.89.34-.41.6-.94.78-1.6.18-.65.28-1.45.28-2.39v-1.92c0-.94-.09-1.74-.28-2.39-.18-.66-.44-1.19-.78-1.59zm-.92 6.17c0 .6-.04 1.11-.12 1.53-.08.42-.2.76-.36 1.02-.16.26-.36.45-.59.57-.23.12-.51.18-.82.18-.3 0-.58-.06-.82-.18s-.44-.31-.6-.57c-.16-.26-.29-.6-.38-1.02-.09-.42-.13-.93-.13-1.53v-2.5c0-.6.04-1.11.13-1.52.09-.41.21-.74.38-1 .16-.25.36-.43.6-.55.24-.11.51-.17.81-.17.31 0 .58.06.81.17.24.11.44.29.6.55.16.25.29.58.37.99.08.41.13.92.13 1.52v2.51z"></path></g>
<g id="timer-3"><path d="M11.61 12.97c-.16-.24-.36-.46-.62-.65-.25-.19-.56-.35-.93-.48.3-.14.57-.3.8-.5.23-.2.42-.41.57-.64.15-.23.27-.46.34-.71.08-.24.11-.49.11-.73 0-.55-.09-1.04-.28-1.46-.18-.42-.44-.77-.78-1.06-.33-.28-.73-.5-1.2-.64-.45-.13-.97-.2-1.53-.2-.55 0-1.06.08-1.52.24-.47.17-.87.4-1.2.69-.33.29-.6.63-.78 1.03-.2.39-.29.83-.29 1.29h1.98c0-.26.05-.49.14-.69.09-.2.22-.38.38-.52.17-.14.36-.25.58-.33.22-.08.46-.12.73-.12.61 0 1.06.16 1.36.47.3.31.44.75.44 1.32 0 .27-.04.52-.12.74-.08.22-.21.41-.38.57-.17.16-.38.28-.63.37-.25.09-.55.13-.89.13H6.72v1.57H7.9c.34 0 .64.04.91.11.27.08.5.19.69.35.19.16.34.36.44.61.1.24.16.54.16.87 0 .62-.18 1.09-.53 1.42-.35.33-.84.49-1.45.49-.29 0-.56-.04-.8-.13-.24-.08-.44-.2-.61-.36-.17-.16-.3-.34-.39-.56-.09-.22-.14-.46-.14-.72H4.19c0 .55.11 1.03.32 1.45.21.42.5.77.86 1.05s.77.49 1.24.63.96.21 1.48.21c.57 0 1.09-.08 1.58-.23.49-.15.91-.38 1.26-.68.36-.3.64-.66.84-1.1.2-.43.3-.93.3-1.48 0-.29-.04-.58-.11-.86-.08-.25-.19-.51-.35-.76zm9.26 1.4c-.14-.28-.35-.53-.63-.74-.28-.21-.61-.39-1.01-.53s-.85-.27-1.35-.38c-.35-.07-.64-.15-.87-.23-.23-.08-.41-.16-.55-.25-.14-.09-.23-.19-.28-.3-.05-.11-.08-.24-.08-.39s.03-.28.09-.41c.06-.13.15-.25.27-.34.12-.1.27-.18.45-.24s.4-.09.64-.09c.25 0 .47.04.66.11.19.07.35.17.48.29.13.12.22.26.29.42.06.16.1.32.1.49h1.95c0-.39-.08-.75-.24-1.09-.16-.34-.39-.63-.69-.88-.3-.25-.66-.44-1.09-.59-.43-.15-.92-.22-1.46-.22-.51 0-.98.07-1.39.21-.41.14-.77.33-1.06.57-.29.24-.51.52-.67.84-.16.32-.23.65-.23 1.01s.08.68.23.96c.15.28.37.52.64.73.27.21.6.38.98.53.38.14.81.26 1.27.36.39.08.71.17.95.26s.43.19.57.29c.13.1.22.22.27.34.05.12.07.25.07.39 0 .32-.13.57-.4.77-.27.2-.66.29-1.17.29-.22 0-.43-.02-.64-.08-.21-.05-.4-.13-.56-.24-.17-.11-.3-.26-.41-.44-.11-.18-.17-.41-.18-.67h-1.89c0 .36.08.71.24 1.05.16.34.39.65.7.93.31.27.69.49 1.15.66.46.17.98.25 1.58.25.53 0 1.01-.06 1.44-.19.43-.13.8-.31 1.11-.54.31-.23.54-.51.71-.83.17-.32.25-.67.25-1.06-.02-.4-.09-.74-.24-1.02z"></path></g>
<g id="timer-off"><path d="M19.04 4.55l-1.42 1.42C16.07 4.74 14.12 4 12 4c-1.83 0-3.53.55-4.95 1.48l1.46 1.46C9.53 6.35 10.73 6 12 6c3.87 0 7 3.13 7 7 0 1.27-.35 2.47-.94 3.49l1.45 1.45C20.45 16.53 21 14.83 21 13c0-2.12-.74-4.07-1.97-5.61l1.42-1.42-1.41-1.42zM15 1H9v2h6V1zm-4 8.44l2 2V8h-2v1.44zM3.02 4L1.75 5.27 4.5 8.03C3.55 9.45 3 11.16 3 13c0 4.97 4.02 9 9 9 1.84 0 3.55-.55 4.98-1.5l2.5 2.5 1.27-1.27-7.71-7.71L3.02 4zM12 20c-3.87 0-7-3.13-7-7 0-1.28.35-2.48.95-3.52l9.56 9.56c-1.03.61-2.23.96-3.51.96z"></path></g>
<g id="tonality"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93s3.05-7.44 7-7.93v15.86zm2-15.86c1.03.13 2 .45 2.87.93H13v-.93zM13 7h5.24c.25.31.48.65.68 1H13V7zm0 3h6.74c.08.33.15.66.19 1H13v-1zm0 9.93V19h2.87c-.87.48-1.84.8-2.87.93zM18.24 17H13v-1h5.92c-.2.35-.43.69-.68 1zm1.5-3H13v-1h6.93c-.04.34-.11.67-.19 1z"></path></g>
<g id="transform"><path d="M22 18v-2H8V4h2L7 1 4 4h2v2H2v2h4v8c0 1.1.9 2 2 2h8v2h-2l3 3 3-3h-2v-2h4zM10 8h6v6h2V8c0-1.1-.9-2-2-2h-6v2z"></path></g>
<g id="tune"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"></path></g>
<g id="view-comfy"><path d="M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"></path></g>
<g id="view-compact"><path d="M3 19h6v-7H3v7zm7 0h12v-7H10v7zM3 5v6h19V5H3z"></path></g>
<g id="vignette"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 15c-4.42 0-8-2.69-8-6s3.58-6 8-6 8 2.69 8 6-3.58 6-8 6z"></path></g>
<g id="wb-auto"><path d="M6.85 12.65h2.3L8 9l-1.15 3.65zM22 7l-1.2 6.29L19.3 7h-1.6l-1.49 6.29L15 7h-.76C12.77 5.17 10.53 4 8 4c-4.42 0-8 3.58-8 8s3.58 8 8 8c3.13 0 5.84-1.81 7.15-4.43l.1.43H17l1.5-6.1L20 16h1.75l2.05-9H22zm-11.7 9l-.7-2H6.4l-.7 2H3.8L7 7h2l3.2 9h-1.9z"></path></g>
<g id="wb-cloudy"><path d="M19.36 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.64-4.96z"></path></g>
<g id="wb-incandescent"><path d="M3.55 18.54l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"></path></g>
<g id="wb-iridescent"><path d="M5 14.5h14v-6H5v6zM11 .55V3.5h2V.55h-2zm8.04 2.5l-1.79 1.79 1.41 1.41 1.8-1.79-1.42-1.41zM13 22.45V19.5h-2v2.95h2zm7.45-3.91l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM3.55 4.46l1.79 1.79 1.41-1.41-1.79-1.79-1.41 1.41zm1.41 15.49l1.79-1.8-1.41-1.41-1.79 1.79 1.41 1.42z"></path></g>
<g id="wb-sunny"><path d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"></path></g>
</defs></svg>
</iron-iconset-svg>















<dom-module id="paper-listbox">
  <template>
    

    <content class="style-scope paper-listbox"></content>
  </template>

  <script>//~~WEBPATH~~/paper-listbox/paper-listbox.html.js
Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}});
</script>
</dom-module>







<script>//~~WEBPATH~~/tf-imports/three.js
var V={REVISION:"77"};"function"===typeof define&&define.amd?define("three",V):"undefined"!==typeof exports&&"undefined"!==typeof module&&(module.exports=V);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}});
void 0===Object.assign&&(Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b});
Object.assign(V,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,
MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,
CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,
ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:V.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,
RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3E3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,
RGBADepthPacking:3201});V.Color=function(a,b,c){void 0===b&&void 0===c?a=this.set(a):(this.r=a,this.g=b,this.b=c,a=this);return a};
V.Color.prototype={constructor:V.Color,r:1,g:1,b:1,set:function(a){a instanceof V.Color?this.copy(a):"number"===typeof a?ub(this,a):"string"===typeof a&&vb(this,a);return this},setScalar:function(a){this.b=this.g=this.r=a},setHSL:function(){function a(a,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(c-a)*d:.5>d?c:d<2/3?a+6*(c-a)*(2/3-d):a}return function(b,c,d){b=V.Math.euclideanModulo(b,1);c=V.Math.clamp(c,0,1);d=V.Math.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=
a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},convertGammaToLinear:function(){var a=
this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHexString:function(){return("000000"+wb(this).toString(16)).slice(-6)},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,b,c){var d=this.r,e=this.g,f=this.b,g=Math.max(d,e,f),h=Math.min(d,e,f),l,m=(h+g)/2;if(h===g)h=l=0;else{var n=g-h;h=.5>=m?n/
(g+h):n/(2-g-h);switch(g){case d:l=(e-f)/n+(e<f?6:0);break;case e:l=(f-d)/n+2;break;case f:l=(d-e)/n+4}l/=6}a=l+a;b=h+b;c=m+c;this.setHSL(a,b,c);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;return this},
lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}};function wb(a){return 255*a.r<<16^255*a.g<<8^255*a.b<<0}
function vb(a,b){function c(a){void 0!==a&&1>parseFloat(a)&&console.warn("THREE.Color: Alpha component of "+b+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var e=d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=Math.min(255,parseInt(d[1],10))/255;a.g=Math.min(255,parseInt(d[2],10))/255;a.b=Math.min(255,parseInt(d[3],10))/255;c(d[5]);return}if(d=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=
Math.min(100,parseInt(d[1],10))/100;a.g=Math.min(100,parseInt(d[2],10))/100;a.b=Math.min(100,parseInt(d[3],10))/100;c(d[5]);return}break;case "hsl":case "hsla":if(d=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){e=parseFloat(d[1])/360;var f=parseInt(d[2],10)/100,g=parseInt(d[3],10)/100;c(d[5]);a.setHSL(e,f,g);return}}}else if(d=/^#([A-Fa-f0-9]+)$/.exec(b)){d=d[1];e=d.length;if(3===e){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.g=parseInt(d.charAt(1)+d.charAt(1),
16)/255;a.b=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===e){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.g=parseInt(d.charAt(2)+d.charAt(3),16)/255;a.b=parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}b&&0<b.length&&(d=V.ColorKeywords[b],void 0!==d?ub(a,d):console.warn("THREE.Color: Unknown color "+b))}function ub(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.g=(b>>8&255)/255;a.b=(b&255)/255}
V.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,
tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V.Quaternion=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1};
V.Quaternion.prototype={constructor:V.Quaternion,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){this._x=
a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],l=b[6];b=b[10];var m=c+f+b;0<m?(c=.5/Math.sqrt(m+1),this._w=.25/c,this._x=(l-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(l-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(g+l)/c):(c=2*Math.sqrt(1+b-
c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+l)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(c,d){void 0===a&&(a=new V.Vector3);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):xb(a,c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;return this.normalize()}}(),inverse:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this.normalize()},dot:function(a){return this._x*
a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
yb(this,a,b)):yb(this,this,a)},premultiply:function(a){return yb(this,a,this)},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;a=Math.sqrt(1-g*g);if(.001>Math.abs(a))return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),
this;var h=Math.atan2(a,g);g=Math.sin((1-b)*h)/a;b=Math.sin(b*h)/a;this._w=f*g+this._w*b;this._x=c*g+this._x*b;this._y=d*g+this._y*b;this._z=e*g+this._z*b;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;
a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};function yb(a,b,c){var d=b._x,e=b._y,f=b._z;b=b._w;var g=c._x,h=c._y,l=c._z;c=c._w;a._x=d*c+b*g+e*l-f*h;a._y=e*c+b*h+f*g-d*l;a._z=f*c+b*l+d*h-e*g;a._w=b*c-d*g-e*h-f*l;a.onChangeCallback();return a}function zb(a,b,c){c/=2;var d=Math.sin(c);a._x=b.x*d;a._y=b.y*d;a._z=b.z*d;a._w=Math.cos(c);a.onChangeCallback();return a}
function Ab(a,b,c){if(!1===b instanceof V.Euler)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var d=Math.cos(b._x/2),e=Math.cos(b._y/2),f=Math.cos(b._z/2),g=Math.sin(b._x/2),h=Math.sin(b._y/2),l=Math.sin(b._z/2);b=b.order;"XYZ"===b?(a._x=g*e*f+d*h*l,a._y=d*h*f-g*e*l,a._z=d*e*l+g*h*f,a._w=d*e*f-g*h*l):"YXZ"===b?(a._x=g*e*f+d*h*l,a._y=d*h*f-g*e*l,a._z=d*e*l-g*h*f,a._w=d*e*f+g*h*l):"ZXY"===b?(a._x=g*e*f-d*h*l,a._y=d*h*f+g*e*l,a._z=d*e*
l+g*h*f,a._w=d*e*f-g*h*l):"ZYX"===b?(a._x=g*e*f-d*h*l,a._y=d*h*f+g*e*l,a._z=d*e*l-g*h*f,a._w=d*e*f+g*h*l):"YZX"===b?(a._x=g*e*f+d*h*l,a._y=d*h*f+g*e*l,a._z=d*e*l-g*h*f,a._w=d*e*f-g*h*l):"XZY"===b&&(a._x=g*e*f-d*h*l,a._y=d*h*f-g*e*l,a._z=d*e*l+g*h*f,a._w=d*e*f+g*h*l);if(!1!==c)a.onChangeCallback();return a}
Object.assign(V.Quaternion,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,e,f,g){var h=c[d+0],l=c[d+1],m=c[d+2];c=c[d+3];d=e[f+0];var n=e[f+1],q=e[f+2];e=e[f+3];if(c!==e||h!==d||l!==n||m!==q){f=1-g;var p=h*d+l*n+m*q+c*e,t=0<=p?1:-1,r=1-p*p;r>Number.EPSILON&&(r=Math.sqrt(r),p=Math.atan2(r,p*t),f=Math.sin(f*p)/r,g=Math.sin(g*p)/r);t*=g;h=h*f+d*t;l=l*f+n*t;m=m*f+q*t;c=c*f+e*t;f===1-g&&(g=1/Math.sqrt(h*h+l*l+m*m+c*c),h*=g,l*=g,m*=g,c*=g)}a[b]=h;a[b+1]=l;a[b+2]=m;a[b+
3]=c}});V.Vector2=function(a,b){this.x=a||0;this.y=b||0};
V.Vector2.prototype={constructor:V.Vector2,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},
addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,
this.y*=a):this.y=this.x=0;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(){var a,b;return function(c,d){void 0===
a&&(a=new V.Vector2,b=new V.Vector2);a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);
this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},
distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},
toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];return this},rotateAround:function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}};V.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};
V.Vector3.prototype={constructor:V.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;
case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,
b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},
multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},applyEuler:function(){var a;return function(b){!1===b instanceof V.Euler&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");
void 0===a&&(a=new V.Quaternion);return Bb(this,Ab(a,b))}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new V.Quaternion);return Bb(this,zb(a,b,c))}}(),applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12];this.y=a[1]*b+a[5]*c+a[9]*d+a[13];this.z=a[2]*b+a[6]*c+a[10]*d+a[14];return this},project:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);Cb(a,b.projectionMatrix,a.getInverse(b.matrixWorld));return Db(this,
a)}}(),unproject:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);Cb(a,b.matrixWorld,a.getInverse(b.projectionMatrix));return Db(this,a)}}(),divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},
clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new V.Vector3,b=new V.Vector3);a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);
return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),xb(this,a,b);b=this.x;var c=this.y,d=this.z;this.x=c*a.z-d*a.y;this.y=d*a.x-b*a.z;this.z=b*a.y-c*a.x;return this},projectOnVector:function(){var a,b;return function(c){void 0===a&&(a=new V.Vector3);a.copy(c).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;
return function(b){void 0===a&&(a=new V.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===a&&(a=new V.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(V.Math.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*
b+c*c+a*a},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];return this}};
function Eb(a,b,c){if("number"===typeof b){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var d=b;b=c;c=d}return a.fromArray(b.elements,4*c)}function Fb(a,b){return Eb(a,b,3)}function xb(a,b,c){var d=b.x,e=b.y;b=b.z;var f=c.x,g=c.y;c=c.z;a.x=e*c-b*g;a.y=b*f-d*c;a.z=d*g-e*f;return a}function Ib(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[4]*d+b[8]*e;a.y=b[1]*c+b[5]*d+b[9]*e;a.z=b[2]*c+b[6]*d+b[10]*e;a.normalize()}
function Bb(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,h=b.z;b=b.w;var l=b*c+g*e-h*d,m=b*d+h*c-f*e,n=b*e+f*d-g*c;c=-f*c-g*d-h*e;a.x=l*b+c*-f+m*-h-n*-g;a.y=m*b+c*-g+n*-f-l*-h;a.z=n*b+c*-h+l*-g-m*-f;return a}function Db(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;var f=1/(b[3]*c+b[7]*d+b[11]*e+b[15]);a.x=(b[0]*c+b[4]*d+b[8]*e+b[12])*f;a.y=(b[1]*c+b[5]*d+b[9]*e+b[13])*f;a.z=(b[2]*c+b[6]*d+b[10]*e+b[14])*f;return a}
function Jb(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[3]*d+b[6]*e;a.y=b[1]*c+b[4]*d+b[7]*e;a.z=b[2]*c+b[5]*d+b[8]*e;return a}V.Vector4=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};
V.Vector4.prototype={constructor:V.Vector4,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+
a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);
this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=
a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a,this.w*=a):this.w=this.z=this.y=this.x=0;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=
a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){a=a.elements;var b=a[0];var c=a[4];var d=a[8],e=a[1],f=a[5],g=a[9];var h=a[2];var l=a[6];var m=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-h)&&
.01>Math.abs(g-l)){if(.1>Math.abs(c+e)&&.1>Math.abs(d+h)&&.1>Math.abs(g+l)&&.1>Math.abs(b+f+m-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;f=(f+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+h)/4;g=(g+l)/4;b>f&&b>m?.01>b?(l=0,c=h=.707106781):(l=Math.sqrt(b),h=c/l,c=d/l):f>m?.01>f?(l=.707106781,h=0,c=.707106781):(h=Math.sqrt(f),l=c/h,c=g/h):.01>m?(h=l=.707106781,c=0):(c=Math.sqrt(m),l=d/c,h=g/c);this.set(l,h,c,a);return this}a=Math.sqrt((l-g)*(l-g)+(d-h)*(d-h)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(l-
g)/a;this.y=(d-h)/a;this.z=(e-c)/a;this.w=Math.acos((b+f+m-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));
this.w=Math.max(a.w,Math.min(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new V.Vector4,b=new V.Vector4);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);
this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];this.w=
a.array[b+3];return this}};V.Euler=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||V.Euler.DefaultOrder};V.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");V.Euler.DefaultOrder="XYZ";
V.Euler.prototype={constructor:V.Euler,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,
this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=V.Math.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],l=e[5],m=e[9],n=e[2],q=e[6];e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-m,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(q,l),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(m,-1,1)),.99999>Math.abs(m)?(this._y=
Math.atan2(g,e),this._z=Math.atan2(h,l)):(this._y=Math.atan2(-n,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(q,-1,1)),.99999>Math.abs(q)?(this._y=Math.atan2(-n,e),this._z=Math.atan2(-f,l)):(this._y=0,this._z=Math.atan2(h,a))):"ZYX"===b?(this._y=Math.asin(-d(n,-1,1)),.99999>Math.abs(n)?(this._x=Math.atan2(q,e),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-f,l))):"YZX"===b?(this._z=Math.asin(d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(-m,l),this._y=Math.atan2(-n,a)):(this._x=0,this._y=
Math.atan2(g,e))):"XZY"===b?(this._z=Math.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(q,l),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-m,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);Kb(a,b);return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,
a.z,b||this._order)},reorder:function(){var a=new V.Quaternion;return function(b){Ab(a,this);return this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?
a.set(this._x,this._y,this._z):new V.Vector3(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};V.Line3=function(a,b){this.start=void 0!==a?a:new V.Vector3;this.end=void 0!==b?b:new V.Vector3};
V.Line3.prototype={constructor:V.Line3,set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new V.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,b){return Lb(this,b||new V.Vector3).multiplyScalar(a).add(this.start)},
closestPointToPointParameter:function(){var a=new V.Vector3,b=new V.Vector3;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);c=b.dot(b);c=b.dot(a)/c;d&&(c=V.Math.clamp(c,0,1));return c}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);return Lb(this,c||new V.Vector3).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&
a.end.equals(this.end)}};function Lb(a,b){return(b||new V.Vector3).subVectors(a.end,a.start)}V.Box2=function(a,b){this.min=void 0!==a?a:new V.Vector2(Infinity,Infinity);this.max=void 0!==b?b:new V.Vector2(-Infinity,-Infinity)};
V.Box2.prototype={constructor:V.Box2,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new V.Vector2;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new V.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new V.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,b){return(b||new V.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?
!1:!0},clampPoint:function(a,b){return(b||new V.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new V.Vector2;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};
V.Box3=function(a,b){this.min=void 0!==a?a:new V.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new V.Vector3(-Infinity,-Infinity,-Infinity)};
V.Box3.prototype={constructor:V.Box3,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new V.Vector3;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),setFromObject:function(){var a=new V.Vector3;return function(b){var c=this;b.updateMatrixWorld(!0);this.makeEmpty();b.traverse(function(b){var d=
b.geometry;if(void 0!==d)if(d instanceof V.Geometry){var f=d.vertices;d=0;for(var g=f.length;d<g;d++)a.copy(f[d]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a)}else if(d instanceof V.BufferGeometry&&void 0!==d.attributes.position)for(f=d.attributes.position.array,d=0,g=f.length;d<g;d+=3)a.fromArray(f,d),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a)});return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new V.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new V.Vector3).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);
return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z?!0:!1},getParameter:function(a,b){return(b||new V.Vector3).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/
(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a;return function(b){void 0===a&&(a=new V.Vector3);this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function(a){if(0<a.normal.x){var b=a.normal.x*this.min.x;var c=a.normal.x*this.max.x}else b=
a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=a.constant&&c>=a.constant},clampPoint:function(a,b){return(b||new V.Vector3).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new V.Vector3;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),
getBoundingSphere:function(){var a=new V.Vector3;return function(b){b=b||new V.Sphere;b.center=this.center();b.radius=.5*this.size(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3,new V.Vector3];return function(b){if(this.isEmpty())return this;
a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),
translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};function Mb(a,b){for(var c=Infinity,d=Infinity,e=Infinity,f=-Infinity,g=-Infinity,h=-Infinity,l=0,m=b.length;l<m;l+=3){var n=b[l],q=b[l+1],p=b[l+2];n<c&&(c=n);q<d&&(d=q);p<e&&(e=p);n>f&&(f=n);q>g&&(g=q);p>h&&(h=p)}a.min.set(c,d,e);a.max.set(f,g,h)}V.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};
V.Matrix3.prototype={constructor:V.Matrix3,set:function(a,b,c,d,e,f,g,h,l){var m=this.elements;m[0]=a;m[1]=d;m[2]=g;m[3]=b;m[4]=e;m[5]=h;m[6]=c;m[7]=f;m[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Vector3);void 0===
c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),Jb(a,this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),Jb(a,this),b.setXYZ(a.x,a.y,a.z);return b}}(),multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=
this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],l=a[7];a=a[8];return b*f*a-b*g*l-c*e*a+c*g*h+d*e*l-d*f*h},getInverse:function(a,b){a instanceof V.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var c=a.elements;a=this.elements;var d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],l=c[5],m=c[6],n=c[7];c=c[8];var q=c*h-l*n,p=l*m-c*g,t=n*g-h*m,r=d*q+e*p+f*t;if(0===r){if(b)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/r;a[0]=q*b;a[1]=(f*n-c*e)*b;a[2]=(l*e-f*h)*b;a[3]=p*b;a[4]=(c*d-f*m)*b;a[5]=(f*g-l*d)*b;a[6]=t*b;a[7]=(e*m-n*d)*b;a[8]=(h*d-e*g)*b;return this},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},transposeIntoArray:function(a){var b=this.elements;
a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}};function Nb(a,b){b=b.elements;a.set(b[0],b[4],b[8],b[1],b[5],b[9],b[2],b[6],b[10]);return a.getInverse(a).transpose()}
V.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
V.Matrix4.prototype={constructor:V.Matrix4,set:function(a,b,c,d,e,f,g,h,l,m,n,q,p,t,r,w){var v=this.elements;v[0]=a;v[4]=b;v[8]=c;v[12]=d;v[1]=e;v[5]=f;v[9]=g;v[13]=h;v[2]=l;v[6]=m;v[10]=n;v[14]=q;v[3]=p;v[7]=t;v[11]=r;v[15]=w;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new V.Matrix4).fromArray(this.elements)},copy:function(a){this.elements.set(a.elements);return this},extractBasis:function(a,b,c){Eb(a,this,0);Eb(b,this,1);Eb(c,this,
2);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a;return function(b){void 0===a&&(a=new V.Vector3);var c=this.elements,d=b.elements,e=1/Eb(a,b,0).length(),f=1/Eb(a,b,1).length();b=1/Eb(a,b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;return this}}(),makeRotationFromEuler:function(a){!1===a instanceof V.Euler&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c);c=Math.sin(c);var g=Math.cos(d);d=Math.sin(d);var h=Math.cos(e);e=Math.sin(e);if("XYZ"===a.order){a=f*h;var l=f*e,m=c*h,n=c*e;b[0]=g*h;b[4]=-g*e;b[8]=d;b[1]=l+m*d;b[5]=a-n*d;b[9]=-c*g;b[2]=n-a*d;b[6]=m+l*d;b[10]=f*g}else"YXZ"===a.order?(a=g*h,l=g*e,m=d*h,n=d*e,b[0]=a+n*c,b[4]=m*c-l,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=l*c-m,b[6]=n+a*c,b[10]=f*g):"ZXY"===a.order?(a=g*h,l=g*e,m=d*h,n=d*e,b[0]=a-n*c,b[4]=-f*e,b[8]=m+l*c,b[1]=l+m*c,b[5]=f*h,b[9]=
n-a*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(a=f*h,l=f*e,m=c*h,n=c*e,b[0]=g*h,b[4]=m*d-l,b[8]=a*d+n,b[1]=g*e,b[5]=n*d+a,b[9]=l*d-m,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(a=f*g,l=f*d,m=c*g,n=c*d,b[0]=g*h,b[4]=n-a*e,b[8]=m*e+l,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=l*e+m,b[10]=a-n*e):"XZY"===a.order&&(a=f*g,l=f*d,m=c*g,n=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=a*e+n,b[5]=f*h,b[9]=l*e-m,b[2]=m*e-l,b[6]=c*h,b[10]=n*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a,
b,c;return function(d,e,f){void 0===a&&(a=new V.Vector3,b=new V.Vector3,c=new V.Vector3);var g=this.elements;c.subVectors(d,e).normalize();0===c.lengthSq()&&(c.z=1);xb(a,f,c).normalize();0===a.lengthSq()&&(c.z+=1E-4,xb(a,f,c).normalize());xb(b,c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
Cb(this,a,b)):Cb(this,this,a)},premultiply:function(a){return Cb(this,a,this)},multiplyToArray:function(a,b,c){var d=this.elements;Cb(this,a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;
b[15]*=a;return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),a.applyMatrix4(this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(a.x,a.y,a.z);return b}}(),
determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],l=a[13],m=a[2],n=a[6],q=a[10],p=a[14];return a[3]*(+e*h*n-d*l*n-e*g*q+c*l*q+d*g*p-c*h*p)+a[7]*(+b*h*p-b*l*q+e*f*q-d*f*p+d*l*m-e*h*m)+a[11]*(+b*l*n-b*g*p-e*f*n+c*f*p+e*g*m-c*l*m)+a[15]*(-d*g*m-b*h*n+b*g*q+d*f*n-c*f*q+c*h*m)},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];
a[14]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new V.Vector3);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return Eb(a,this,3)}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,
b){var c=this.elements,d=a.elements;a=d[0];var e=d[1],f=d[2],g=d[3],h=d[4],l=d[5],m=d[6],n=d[7],q=d[8],p=d[9],t=d[10],r=d[11],w=d[12],v=d[13],y=d[14];d=d[15];var x=p*y*n-v*t*n+v*m*r-l*y*r-p*m*d+l*t*d,A=w*t*n-q*y*n-w*m*r+h*y*r+q*m*d-h*t*d,B=q*v*n-w*p*n+w*l*r-h*v*r-q*l*d+h*p*d,H=w*p*m-q*v*m-w*l*t+h*v*t+q*l*y-h*p*y,E=a*x+e*A+f*B+g*H;if(0===E){if(b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/E;c[0]=x*b;c[1]=(v*t*g-p*y*g-v*f*r+e*y*r+p*f*d-e*t*d)*b;c[2]=(l*y*g-v*m*g+v*f*n-e*y*n-l*f*d+e*m*d)*b;c[3]=(p*m*g-l*t*g-p*f*n+e*t*n+l*f*r-e*m*r)*b;c[4]=A*b;c[5]=(q*y*g-w*t*g+w*f*r-a*y*r-q*f*d+a*t*d)*b;c[6]=(w*m*g-h*y*g-w*f*n+a*y*n+h*f*d-a*m*d)*b;c[7]=(h*t*g-q*m*g+q*f*n-a*t*n-h*f*r+a*m*r)*b;c[8]=B*b;c[9]=(w*p*g-q*v*g-w*e*r+a*v*r+q*e*d-a*p*d)*b;c[10]=(h*v*g-w*l*g+w*e*n-a*v*n-h*e*d+a*l*d)*b;c[11]=(q*l*g-h*p*g-q*e*n+a*p*n+h*e*r-a*l*r)*b;c[12]=H*b;c[13]=(q*v*f-w*p*f+w*e*t-a*v*
t-q*e*y+a*p*y)*b;c[14]=(w*l*f-h*v*f-w*e*m+a*v*m+h*e*y-a*l*y)*b;c[15]=(h*p*f-q*l*f+q*e*m-a*p*m-h*e*t+a*l*t)*b;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},decompose:function(){var a,b;return function(c,d,e){void 0===a&&(a=new V.Vector3,b=new V.Matrix4);var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),l=a.set(f[8],f[9],f[10]).length();
0>this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.elements.set(this.elements);c=1/g;f=1/h;var m=1/l;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=m;b.elements[9]*=m;b.elements[10]*=m;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=l;return this}}(),makePerspective:function(a,b,c,d){a=c*Math.tan(V.Math.DEG2RAD*a*.5);var e=-a;return Ob(this,e*b,a*b,e,a,c,d)},equals:function(a){var b=this.elements;a=a.elements;for(var c=0;16>
c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}};
function Ob(a,b,c,d,e,f,g){var h=a.elements;h[0]=2*f/(c-b);h[4]=0;h[8]=(c+b)/(c-b);h[12]=0;h[1]=0;h[5]=2*f/(e-d);h[9]=(e+d)/(e-d);h[13]=0;h[2]=0;h[6]=0;h[10]=-(g+f)/(g-f);h[14]=-2*g*f/(g-f);h[3]=0;h[7]=0;h[11]=-1;h[15]=0;return a}function Pb(a,b,c){var d=Math.cos(c);c=Math.sin(c);var e=1-d,f=b.x,g=b.y;b=b.z;var h=e*f,l=e*g;a.set(h*f+d,h*g-c*b,h*b+c*g,0,h*g+c*b,l*g+d,l*b-c*f,0,h*b-c*g,l*b+c*f,e*b*b+d,0,0,0,0,1);return a}
function Qb(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,-b,0,0,b,c,0,0,0,0,1,0,0,0,0,1)}function Rb(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,0,b,0,0,1,0,0,-b,0,c,0,0,0,0,1)}function Sb(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1)}
function Cb(a,b,c){var d=b.elements,e=c.elements;c=a.elements;b=d[0];var f=d[4],g=d[8],h=d[12],l=d[1],m=d[5],n=d[9],q=d[13],p=d[2],t=d[6],r=d[10],w=d[14],v=d[3],y=d[7],x=d[11];d=d[15];var A=e[0],B=e[4],H=e[8],E=e[12],I=e[1],D=e[5],C=e[9],F=e[13],J=e[2],K=e[6],S=e[10],O=e[14],M=e[3],P=e[7],Q=e[11];e=e[15];c[0]=b*A+f*I+g*J+h*M;c[4]=b*B+f*D+g*K+h*P;c[8]=b*H+f*C+g*S+h*Q;c[12]=b*E+f*F+g*O+h*e;c[1]=l*A+m*I+n*J+q*M;c[5]=l*B+m*D+n*K+q*P;c[9]=l*H+m*C+n*S+q*Q;c[13]=l*E+m*F+n*O+q*e;c[2]=p*A+t*I+r*J+w*M;c[6]=
p*B+t*D+r*K+w*P;c[10]=p*H+t*C+r*S+w*Q;c[14]=p*E+t*F+r*O+w*e;c[3]=v*A+y*I+x*J+d*M;c[7]=v*B+y*D+x*K+d*P;c[11]=v*H+y*C+x*S+d*Q;c[15]=v*E+y*F+x*O+d*e;return a}function Kb(a,b){var c=a.elements,d=b.x,e=b.y,f=b.z,g=b.w,h=d+d,l=e+e,m=f+f;b=d*h;var n=d*l;d*=m;var q=e*l;e*=m;f*=m;h*=g;l*=g;g*=m;c[0]=1-(q+f);c[4]=n-g;c[8]=d+l;c[1]=n+g;c[5]=1-(b+f);c[9]=e-h;c[2]=d-l;c[6]=e+h;c[10]=1-(b+q);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return a}
V.Ray=function(a,b){this.origin=void 0!==a?a:new V.Vector3;this.direction=void 0!==b?b:new V.Vector3};
V.Ray.prototype={constructor:V.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new V.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new V.Vector3;return function(b){this.origin.copy(this.at(b,
a));return this}}(),closestPointToPoint:function(a,b){b=b||new V.Vector3;b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new V.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);
return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Vector3;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var h=.5*d.distanceTo(e),l=-this.direction.dot(b),m=c.dot(this.direction),n=-c.dot(b),q=c.lengthSq(),p=Math.abs(1-l*l);if(0<p){d=l*n-m;e=l*m-n;var t=h*p;0<=d?e>=-t?e<=t?(h=1/p,d*=h,e*=h,l=d*(d+l*e+2*m)+e*(l*d+e+2*n)+q):(e=h,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q):
(e=-h,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q):e<=-t?(d=Math.max(0,-(-l*h+m)),e=0<d?-h:Math.min(Math.max(-h,-n),h),l=-d*d+e*(e+2*n)+q):e<=t?(d=0,e=Math.min(Math.max(-h,-n),h),l=e*(e+2*n)+q):(d=Math.max(0,-(l*h+m)),e=0<d?h:Math.min(Math.max(-h,-n),h),l=-d*d+e*(e+2*n)+q)}else e=0<l?-h:h,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q;f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return l}}(),intersectSphere:function(){var a=new V.Vector3;return function(b,
c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d;b=b.radius*b.radius;if(e>b)return null;b=Math.sqrt(b-e);e=d-b;d+=b;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},intersectPlane:function(a,b){var c=a.normal.dot(this.direction);0===c?a=0===a.distanceToPoint(this.origin)?0:null:(a=-(this.origin.dot(a.normal)+a.constant)/c,a=0<=a?a:null);return null===a?null:this.at(a,b)},intersectsPlane:function(a){var b=
a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectsBox:function(){var a=new V.Vector3;return function(b){var c=1/this.direction.x;var d=1/this.direction.y;var e=1/this.direction.z,f=this.origin;if(0<=c){var g=(b.min.x-f.x)*c;c*=b.max.x-f.x}else g=(b.max.x-f.x)*c,c*=b.min.x-f.x;if(0<=d){var h=(b.min.y-f.y)*d;d*=b.max.y-f.y}else h=(b.max.y-f.y)*d,d*=b.min.y-f.y;if(g>d||h>c)g=null;else{if(h>g||g!==g)g=h;if(d<c||c!==c)c=d;0<=e?(h=(b.min.z-f.z)*e,b=(b.max.z-
f.z)*e):(h=(b.max.z-f.z)*e,b=(b.min.z-f.z)*e);if(g>b||h>c)g=null;else{if(h>g||g!==g)g=h;if(b<c||c!==c)c=b;g=0>c?null:this.at(0<=g?g:c,a)}}return null!==g}}(),intersectTriangle:function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Vector3,d=new V.Vector3;return function(e,f,g,h,l){b.subVectors(f,e);c.subVectors(g,e);xb(d,b,c);f=this.direction.dot(d);if(0<f){if(h)return null;h=1}else if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(xb(c,a,c));if(0>e)return null;
g=h*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,l)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}};V.Sphere=function(a,b){this.center=void 0!==a?a:new V.Vector3;this.radius=void 0!==b?b:0};
V.Sphere.prototype={constructor:V.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new V.Box3;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).center(d);for(var e=c=0,f=b.length;e<f;e++)c=Math.max(c,d.distanceToSquared(b[e]));this.radius=Math.sqrt(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=
this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(this.center.dot(a.normal)-a.constant)<=this.radius},clampPoint:function(a,b){var c=this.center.distanceToSquared(a);
b=b||new V.Vector3;b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b},getBoundingBox:function(a){a=a||new V.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);a=a.elements;this.radius*=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]));return this},translate:function(a){this.center.add(a);
return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}};V.Frustum=function(a,b,c,d,e,f){this.planes=[void 0!==a?a:new V.Plane,void 0!==b?b:new V.Plane,void 0!==c?c:new V.Plane,void 0!==d?d:new V.Plane,void 0!==e?e:new V.Plane,void 0!==f?f:new V.Plane]};
V.Frustum.prototype={constructor:V.Frustum,set:function(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},intersectsObject:function(){var a=new V.Sphere;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);
return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new V.Sphere;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new V.Vector3,b=new V.Vector3;return function(c){for(var d=this.planes,e=0;6>e;e++){var f=d[e];a.x=0<f.normal.x?c.min.x:
c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;var g=f.distanceToPoint(a);f=f.distanceToPoint(b);if(0>g&&0>f)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}};
function Tb(a,b){a=a.planes;var c=b.elements;b=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],l=c[6],m=c[7],n=c[8],q=c[9],p=c[10],t=c[11],r=c[12],w=c[13],v=c[14];c=c[15];Ub(a[0],f-b,m-g,t-n,c-r).normalize();Ub(a[1],f+b,m+g,t+n,c+r).normalize();Ub(a[2],f+d,m+h,t+q,c+w).normalize();Ub(a[3],f-d,m-h,t-q,c-w).normalize();Ub(a[4],f-e,m-l,t-p,c-v).normalize();Ub(a[5],f+e,m+l,t+p,c+v).normalize()}V.Plane=function(a,b){this.normal=void 0!==a?a:new V.Vector3(1,0,0);this.constant=void 0!==b?b:0};
V.Plane.prototype={constructor:V.Plane,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setFromCoplanarPoints:function(){var a=new V.Vector3,b=new V.Vector3;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.normal.copy(d);this.constant=-c.dot(this.normal);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();
this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},intersectLine:function(){var a=new V.Vector3;return function(b,c){c=c||new V.Vector3;var d=Lb(b,a),e=this.normal.dot(d);if(0===e){if(0===this.distanceToPoint(b.start))return c.copy(b.start)}else if(e=-(b.start.dot(this.normal)+
this.constant)/e,!(0>e||1<e))return c.copy(d).multiplyScalar(e).add(b.start)}}(),intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},applyMatrix4:function(){var a=new V.Vector3,b=new V.Matrix3;return function(c,d){var e=(a||new V.Vector3).copy(this.normal).multiplyScalar(-this.constant).applyMatrix4(c);c=d||Nb(b,c);c=Jb(this.normal,c).normalize();this.constant=-e.dot(c);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);
return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}};function Ub(a,b,c,d,e){a.normal.set(b,c,d);a.constant=e;return a}V.Spherical=function(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this};
V.Spherical.prototype={constructor:V.Spherical,set:function(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius.copy(a.radius);this.phi.copy(a.phi);this.theta.copy(a.theta);return this},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(V.Math.clamp(a.y/this.radius,-1,1)));return this}};
V.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var e=0;36>e;e++)8===e||13===e||18===e||23===e?b[e]="-":14===e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19===e?d&3|8:d]);return b.join("")}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+
(a-b)*(e-d)/(c-b)},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},random16:function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*
(.5-Math.random())},degToRad:function(a){return a*V.Math.DEG2RAD},radToDeg:function(a){return a*V.Math.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nearestPowerOfTwo:function(a){return Math.pow(2,Math.round(Math.log(a)/Math.LN2))},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};
V.Spline=function(a){function b(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}this.points=a;var c=[],d={x:0,y:0,z:0},e,f,g,h,l,m,n,q,p;this.initFromArray=function(a){this.points=[];for(var b=0;b<a.length;b++)this.points[b]={x:a[b][0],y:a[b][1],z:a[b][2]}};this.getPoint=function(a){e=(this.points.length-1)*a;f=Math.floor(e);g=e-f;c[0]=0===f?f:f-1;c[1]=f;c[2]=f>this.points.length-2?this.points.length-1:f+1;c[3]=f>this.points.length-3?this.points.length-1:f+2;m=
this.points[c[0]];n=this.points[c[1]];q=this.points[c[2]];p=this.points[c[3]];h=g*g;l=g*h;d.x=b(m.x,n.x,q.x,p.x,g,h,l);d.y=b(m.y,n.y,q.y,p.y,g,h,l);d.z=b(m.z,n.z,q.z,p.z,g,h,l);return d};this.getControlPointsArray=function(){var a,b=this.points.length,c=[];for(a=0;a<b;a++){var d=this.points[a];c[a]=[d.x,d.y,d.z]}return c};this.getLength=function(a){var b=0,c=new V.Vector3,d=new V.Vector3,e=[],f=0;e[0]=0;a||(a=100);var g=this.points.length*a;c.copy(this.points[0]);for(a=1;a<g;a++){var h=a/g;var l=
this.getPoint(h);d.copy(l);f+=d.distanceTo(c);c.copy(l);h*=this.points.length-1;h=Math.floor(h);h!==b&&(e[h]=f,b=h)}e[e.length]=f;return{chunks:e,total:f}};this.reparametrizeByArcLength=function(a){var b,c=[],d=new V.Vector3,e=this.getLength();c.push(d.copy(this.points[0]).clone());for(b=1;b<this.points.length;b++){var f=e.chunks[b]-e.chunks[b-1];var g=Math.ceil(a*f/e.total);var h=(b-1)/(this.points.length-1);var l=b/(this.points.length-1);for(f=1;f<g-1;f++){var m=h+1/g*f*(l-h);m=this.getPoint(m);
c.push(d.copy(m).clone())}c.push(d.copy(this.points[b]).clone())}this.points=c}};V.Triangle=function(a,b,c){this.a=void 0!==a?a:new V.Vector3;this.b=void 0!==b?b:new V.Vector3;this.c=void 0!==c?c:new V.Vector3};V.Triangle.normal=function(){var a=new V.Vector3;return function(b,c,d,e){e=e||new V.Vector3;e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}();
V.Triangle.barycoordFromPoint=function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Vector3;return function(d,e,f,g,h){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var l=b.dot(b);g=b.dot(c);var m=d*l-e*e;h=h||new V.Vector3;if(0===m)return h.set(-2,-1,-1);m=1/m;l=(l*f-e*g)*m;d=(d*g-e*f)*m;return h.set(1-l-d,d,l)}}();
V.Triangle.containsPoint=function(){var a=new V.Vector3;return function(b,c,d,e){b=V.Triangle.barycoordFromPoint(b,c,d,e,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();
V.Triangle.prototype={constructor:V.Triangle,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new V.Vector3,b=new V.Vector3;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*
a.cross(b).length()}}(),midpoint:function(a){return(a||new V.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return V.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new V.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return V.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return V.Triangle.containsPoint(a,this.a,this.b,this.c)},closestPointToPoint:function(){var a,
b,c,d;return function(e,f){void 0===a&&(a=new V.Plane,b=[new V.Line3,new V.Line3,new V.Line3],c=new V.Vector3,d=new V.Vector3);f=f||new V.Vector3;var g=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);var h=a,l=c,m=h.distanceToPoint(e);(l||new V.Vector3).copy(h.normal).multiplyScalar(m).sub(e).negate();if(!0===this.containsPoint(c))f.copy(c);else for(b[0].set(this.a,this.b),b[1].set(this.b,this.c),b[2].set(this.c,this.a),e=0;e<b.length;e++)b[e].closestPointToPoint(c,!0,d),h=c.distanceToSquared(d),
h<g&&(g=h,f.copy(d));return f}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}};V.Interpolant=function(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c};
V.Interpolant.prototype={constructor:V.Interpolant,evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;
c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");
},intervalChanged_:function(){}};Object.assign(V.Interpolant.prototype,{beforeStart_:V.Interpolant.prototype.copySampleValue_,afterEnd_:V.Interpolant.prototype.copySampleValue_});V.CubicInterpolant=function(a,b,c,d){V.Interpolant.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0};
V.CubicInterpolant.prototype=Object.assign(Object.create(V.Interpolant.prototype),{constructor:V.CubicInterpolant,DefaultSettings_:{endingStart:V.ZeroCurvatureEnding,endingEnd:V.ZeroCurvatureEnding},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(void 0===g)switch((this.settings||this.DefaultSettings_).endingStart){case V.ZeroSlopeEnding:e=a;g=2*b-c;break;case V.WrapAroundEnding:e=d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c}if(void 0===h)switch((this.settings||
this.DefaultSettings_).endingEnd){case V.ZeroSlopeEnding:f=a;h=2*c-b;break;case V.WrapAroundEnding:f=1;h=c+d[1]-d[0];break;default:f=a-1,h=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=a/(h-c);this._offsetPrev=e*d;this._offsetNext=f*d},interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g,l=this._offsetPrev,m=this._offsetNext,n=this._weightPrev,q=this._weightNext,p=(c-b)/(d-b);c=p*p;d=c*p;b=-n*d+2*n*c-n*p;n=(1+n)*d+(-1.5-
2*n)*c+(-.5+n)*p+1;p=(-1-q)*d+(1.5+q)*c+.5*p;q=q*d-q*c;for(c=0;c!==g;++c)e[c]=b*f[l+c]+n*f[h+c]+p*f[a+c]+q*f[m+c];return e}});V.DiscreteInterpolant=function(a,b,c,d){V.Interpolant.call(this,a,b,c,d)};V.DiscreteInterpolant.prototype=Object.assign(Object.create(V.Interpolant.prototype),{constructor:V.DiscreteInterpolant,interpolate_:function(a){return this.copySampleValue_(a-1)}});V.LinearInterpolant=function(a,b,c,d){V.Interpolant.call(this,a,b,c,d)};
V.LinearInterpolant.prototype=Object.assign(Object.create(V.Interpolant.prototype),{constructor:V.LinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var h=a-g;b=(c-b)/(d-b);c=1-b;for(d=0;d!==g;++d)e[d]=f[h+d]*c+f[a+d]*b;return e}});V.QuaternionLinearInterpolant=function(a,b,c,d){V.Interpolant.call(this,a,b,c,d)};
V.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(V.Interpolant.prototype),{constructor:V.QuaternionLinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4)V.Quaternion.slerpFlat(e,0,f,a-g,f,a,b);return e}});V.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};
V.Clock.prototype={constructor:V.Clock,start:function(){this.oldTime=this.startTime=(performance||Date).now();this.running=!0},stop:function(){this.autoStart&&!this.running&&this.start();if(this.running){var a=(performance||Date).now();var b=(a-this.oldTime)/1E3;this.oldTime=a;this.elapsedTime+=b}this.running=!1}};V.EventDispatcher=function(){};
Object.assign(V.EventDispatcher.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==
this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;var c=[],d,e=b.length;for(d=0;d<e;d++)c[d]=b[d];for(d=0;d<e;d++)c[d].call(this,a)}}}});V.Layers=function(){this.mask=1};V.Layers.prototype={constructor:V.Layers,set:function(a){this.mask=1<<a},enable:function(a){this.mask|=1<<a},toggle:function(a){this.mask^=1<<a},disable:function(a){this.mask&=~(1<<a)},test:function(a){return 0!==(this.mask&a.mask)}};
(function(a){function b(a,b){return a.distance-b.distance}function c(a,b,f,g){if(!1!==a.visible&&(a.raycast(b,f),!0===g)){a=a.children;g=0;for(var d=a.length;g<d;g++)c(a[g],b,f,!0)}}a.Raycaster=function(b,c,f,g){this.ray=new a.Ray(b,c);this.near=f||0;this.far=g||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})};
a.Raycaster.prototype={constructor:a.Raycaster,linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(b,c){c instanceof a.PerspectiveCamera?(Fb(this.ray.origin,c.matrixWorld),this.ray.direction.set(b.x,b.y,.5).unproject(c).sub(this.ray.origin).normalize()):c instanceof a.OrthographicCamera?(this.ray.origin.set(b.x,b.y,-1).unproject(c),Ib(this.ray.direction.set(0,0,-1),c.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(a,e){var d=
[];c(a,this,d,e);d.sort(b);return d},intersectObjects:function(a,e){var d=[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),d;for(var g=0,h=a.length;g<h;g++)c(a[g],this,d,e);d.sort(b);return d}}})(V);
V.Object3D=function(){Object.defineProperty(this,"id",{value:V.Object3DIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=V.Object3D.DefaultUp.clone();var a=new V.Vector3,b=new V.Euler,c=new V.Quaternion,d=new V.Vector3(1,1,1);b.onChange(function(){Ab(c,b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:b},quaternion:{enumerable:!0,
value:c},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new V.Matrix4},normalMatrix:{value:new V.Matrix3}});this.matrix=new V.Matrix4;this.matrixWorld=new V.Matrix4;this.matrixAutoUpdate=V.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new V.Layers;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};V.Object3D.DefaultUp=new V.Vector3(0,1,0);V.Object3D.DefaultMatrixAutoUpdate=!0;
Object.assign(V.Object3D.prototype,V.EventDispatcher.prototype,{applyMatrix:function(a){Cb(this.matrix,a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){zb(this.quaternion,a,b)},setRotationFromEuler:function(a){Ab(this.quaternion,a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new V.Quaternion;return function(b,
c){zb(a,b,c);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new V.Vector3(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new V.Vector3(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new V.Vector3(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new V.Vector3;return function(b,c){Bb(a.copy(b),this.quaternion);this.position.add(a.multiplyScalar(c));return this}}(),
translateX:function(){var a=new V.Vector3(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new V.Vector3(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new V.Vector3(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new V.Matrix4;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),
lookAt:function(){var a=new V.Matrix4;return function(b){a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a instanceof V.Object3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",
a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,
b);if(void 0!==e)return e}},getWorldPosition:function(a){a=a||new V.Vector3;this.updateMatrixWorld(!0);return Fb(a,this.matrixWorld)},getWorldQuaternion:function(){var a=new V.Vector3,b=new V.Vector3;return function(c){c=c||new V.Quaternion;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new V.Quaternion;return function(b){b=b||new V.Euler;this.getWorldQuaternion(a);return b.setFromQuaternion(a,this.rotation.order,!1)}}(),getWorldScale:function(){var a=
new V.Vector3,b=new V.Quaternion;return function(c){c=c||new V.Vector3;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function(){var a=new V.Quaternion;return function(b){b=b||new V.Vector3;this.getWorldQuaternion(a);return Bb(b.set(0,0,1),a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<
d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){var a=this.matrix,b=this.position,c=this.scale;Kb(a,this.quaternion);a.scale(c);a.setPosition(b);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)null===this.parent?this.matrixWorld.copy(this.matrix):Cb(this.matrixWorld,this.parent.matrixWorld,this.matrix),
this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a||""===a,d={};c&&(a={geometries:{},materials:{},textures:{},images:{}},d.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var e={};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);"{}"!==JSON.stringify(this.userData)&&(e.userData=
this.userData);!0===this.castShadow&&(e.castShadow=!0);!0===this.receiveShadow&&(e.receiveShadow=!0);!1===this.visible&&(e.visible=!1);e.matrix=this.matrix.toArray();void 0!==this.geometry&&(void 0===a.geometries[this.geometry.uuid]&&(a.geometries[this.geometry.uuid]=this.geometry.toJSON(a)),e.geometry=this.geometry.uuid);void 0!==this.material&&(void 0===a.materials[this.material.uuid]&&(a.materials[this.material.uuid]=this.material.toJSON(a)),e.material=this.material.uuid);if(0<this.children.length){e.children=
[];for(var f=0;f<this.children.length;f++)e.children.push(this.children[f].toJSON(a).object)}if(c){c=b(a.geometries);f=b(a.materials);var g=b(a.textures);a=b(a.images);0<c.length&&(d.geometries=c);0<f.length&&(d.materials=f);0<g.length&&(d.textures=g);0<a.length&&(d.images=a)}d.object=e;return d},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);
this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});V.Object3DIdCount=0;
V.Face3=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d instanceof V.Vector3?d:new V.Vector3;this.vertexNormals=Array.isArray(d)?d:[];this.color=e instanceof V.Color?e:new V.Color;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==f?f:0};
V.Face3.prototype={constructor:V.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;for(c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}};
V.BufferAttribute=function(a,b,c){this.uuid=V.Math.generateUUID();this.array=a;this.itemSize=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=!0===c};
V.BufferAttribute.prototype={constructor:V.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,
b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,
b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},clone:function(){return(new this.constructor).copy(this)}};
function Vb(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",e),g=new V.Vector4);c[d++]=g.x;c[d++]=g.y;c[d++]=g.z;c[d++]=g.w}return a}function Wb(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",e),g=new V.Vector3);c[d++]=g.x;c[d++]=g.y;c[d++]=g.z}return a}
function Xb(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",e),g=new V.Vector2);c[d++]=g.x;c[d++]=g.y}return a}function Yb(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];c[d++]=g.a;c[d++]=g.b;c[d++]=g.c}return a}
function Zb(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",e),g=new V.Color);c[d++]=g.r;c[d++]=g.g;c[d++]=g.b}return a}function $b(a,b){a.array.set(b);return a}V.Int8Attribute=function(a,b){return new V.BufferAttribute(new Int8Array(a),b)};V.Uint8Attribute=function(a,b){return new V.BufferAttribute(new Uint8Array(a),b)};
V.Uint8ClampedAttribute=function(a,b){return new V.BufferAttribute(new Uint8ClampedArray(a),b)};V.Int16Attribute=function(a,b){return new V.BufferAttribute(new Int16Array(a),b)};V.Uint16Attribute=function(a,b){return new V.BufferAttribute(new Uint16Array(a),b)};V.Int32Attribute=function(a,b){return new V.BufferAttribute(new Int32Array(a),b)};V.Uint32Attribute=function(a,b){return new V.BufferAttribute(new Uint32Array(a),b)};
V.Float32Attribute=function(a,b){return new V.BufferAttribute(new Float32Array(a),b)};V.Float64Attribute=function(a,b){return new V.BufferAttribute(new Float64Array(a),b)};V.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new V.BufferAttribute(a,b)).setDynamic(!0)};V.InstancedBufferAttribute=function(a,b,c){V.BufferAttribute.call(this,a,b);this.meshPerAttribute=c||1};
V.InstancedBufferAttribute.prototype=Object.create(V.BufferAttribute.prototype);V.InstancedBufferAttribute.prototype.constructor=V.InstancedBufferAttribute;V.InstancedBufferAttribute.prototype.copy=function(a){V.BufferAttribute.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};V.InterleavedBuffer=function(a,b){this.uuid=V.Math.generateUUID();this.array=a;this.stride=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0};
V.InterleavedBuffer.prototype={constructor:V.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,
b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)}};V.InstancedInterleavedBuffer=function(a,b,c){V.InterleavedBuffer.call(this,a,b);this.meshPerAttribute=c||1};V.InstancedInterleavedBuffer.prototype=Object.create(V.InterleavedBuffer.prototype);V.InstancedInterleavedBuffer.prototype.constructor=V.InstancedInterleavedBuffer;
V.InstancedInterleavedBuffer.prototype.copy=function(a){V.InterleavedBuffer.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};V.InterleavedBufferAttribute=function(a,b,c){this.uuid=V.Math.generateUUID();this.data=a;this.itemSize=b;this.offset=c};
V.InterleavedBufferAttribute.prototype={constructor:V.InterleavedBufferAttribute,get length(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length},get count(){return this.data.count},setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,
b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,
d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}};
V.Geometry=function(){Object.defineProperty(this,"id",{value:V.GeometryIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=
this.verticesNeedUpdate=!1};
Object.assign(V.Geometry.prototype,V.EventDispatcher.prototype,{applyMatrix:function(a){for(var b=Nb(new V.Matrix3,a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];Jb(a.normal,b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)Jb(a.vertexNormals[e],b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=
!0;return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);Sb(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);Rb(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);Qb(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);
return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new V.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function b(a,b,d,e){var f=void 0!==g?[n[a].clone(),n[b].clone(),n[d].clone()]:[],r=void 0!==h?[c.colors[a].clone(),c.colors[b].clone(),c.colors[d].clone()]:[];e=new V.Face3(a,
b,d,f,r,e);c.faces.push(e);void 0!==l&&c.faceVertexUvs[0].push([q[a].clone(),q[b].clone(),q[d].clone()]);void 0!==m&&c.faceVertexUvs[1].push([p[a].clone(),p[b].clone(),p[d].clone()])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,f=e.position.array,g=void 0!==e.normal?e.normal.array:void 0,h=void 0!==e.color?e.color.array:void 0,l=void 0!==e.uv?e.uv.array:void 0,m=void 0!==e.uv2?e.uv2.array:void 0;void 0!==m&&(this.faceVertexUvs[1]=[]);for(var n=[],q=[],p=[],t=e=0;e<f.length;e+=3,
t+=2)c.vertices.push(new V.Vector3(f[e],f[e+1],f[e+2])),void 0!==g&&n.push(new V.Vector3(g[e],g[e+1],g[e+2])),void 0!==h&&c.colors.push(new V.Color(h[e],h[e+1],h[e+2])),void 0!==l&&q.push(new V.Vector2(l[t],l[t+1])),void 0!==m&&p.push(new V.Vector2(m[t],m[t+1]));if(void 0!==d)if(f=a.groups,0<f.length)for(e=0;e<f.length;e++){var r=f[e],w=r.start,v=r.count;t=w;for(w+=v;t<w;t+=3)b(d[t],d[t+1],d[t+2],r.materialIndex)}else for(e=0;e<d.length;e+=3)b(d[e],d[e+1],d[e+2]);else for(e=0;e<f.length/3;e+=3)b(e,
e+1,e+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius;b=0===b?1:1/b;var c=new V.Matrix4;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,
0,1);this.applyMatrix(c);return this},computeFaceNormals:function(){for(var a=new V.Vector3,b=new V.Vector3,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var b;var c=Array(this.vertices.length);var d=0;for(b=this.vertices.length;d<b;d++)c[d]=new V.Vector3;if(a){var e=new V.Vector3,f=new V.Vector3;a=0;for(d=
this.faces.length;a<d;a++){b=this.faces[a];var g=this.vertices[b.a];var h=this.vertices[b.b];var l=this.vertices[b.c];e.subVectors(l,h);f.subVectors(g,h);e.cross(f);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(a=0,d=this.faces.length;a<d;a++)b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),c[b.c].add(b.normal);d=0;for(b=this.vertices.length;d<b;d++)c[d].normalize();a=0;for(d=this.faces.length;a<d;a++)b=this.faces[a],g=b.vertexNormals,3===g.length?(g[0].copy(c[b.a]),g[1].copy(c[b.b]),
g[2].copy(c[b.c])):(g[0]=c[b.a].clone(),g[1]=c[b.b].clone(),g[2]=c[b.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b;var c=0;for(b=this.faces.length;c<b;c++){var d=this.faces[c];d.__originalFaceNormal?d.__originalFaceNormal.copy(d.normal):d.__originalFaceNormal=d.normal.clone();d.__originalVertexNormals||(d.__originalVertexNormals=[]);var e=0;for(a=d.vertexNormals.length;e<a;e++)d.__originalVertexNormals[e]?d.__originalVertexNormals[e].copy(d.vertexNormals[e]):
d.__originalVertexNormals[e]=d.vertexNormals[e].clone()}var f=new V.Geometry;f.faces=this.faces;e=0;for(a=this.morphTargets.length;e<a;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];d=this.morphNormals[e].faceNormals;var g=this.morphNormals[e].vertexNormals;c=0;for(b=this.faces.length;c<b;c++){var h=new V.Vector3;var l={a:new V.Vector3,b:new V.Vector3,c:new V.Vector3};d.push(h);g.push(l)}}g=this.morphNormals[e];f.vertices=
this.morphTargets[e].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],h=g.faceNormals[c],l=g.vertexNormals[c],h.copy(d.normal),l.a.copy(d.vertexNormals[0]),l.b.copy(d.vertexNormals[1]),l.c.copy(d.vertexNormals[2])}c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],d.normal=d.__originalFaceNormal,d.vertexNormals=d.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var a=
0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new V.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new V.Sphere);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(!1===a instanceof V.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a);else{var d,e=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,l=a.faces,m=this.faceVertexUvs[0];a=a.faceVertexUvs[0];void 0===c&&(c=0);void 0!==b&&(d=Nb(new V.Matrix3,b));for(var n=0,q=g.length;n<q;n++){var p=g[n].clone();void 0!==b&&p.applyMatrix4(b);f.push(p)}n=0;for(q=l.length;n<q;n++){g=l[n];var t=g.vertexNormals,r=g.vertexColors;p=new V.Face3(g.a+e,g.b+e,g.c+e);p.normal.copy(g.normal);void 0!==d&&Jb(p.normal,d).normalize();b=0;for(f=t.length;b<f;b++){var w=t[b].clone();void 0!==
d&&Jb(w,d).normalize();p.vertexNormals.push(w)}p.color.copy(g.color);b=0;for(f=r.length;b<f;b++)w=r[b],p.vertexColors.push(w.clone());p.materialIndex=g.materialIndex+c;h.push(p)}n=0;for(q=a.length;n<q;n++)if(c=a[n],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++)d.push(c[b].clone());m.push(d)}}},mergeMesh:function(a){!1===a instanceof V.Mesh?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a):(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a=
{},b=[],c=[],d=Math.pow(10,4),e;var f=0;for(e=this.vertices.length;f<e;f++){var g=this.vertices[f];g=Math.round(g.x*d)+"_"+Math.round(g.y*d)+"_"+Math.round(g.z*d);void 0===a[g]?(a[g]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[g]]}a=[];f=0;for(e=this.faces.length;f<e;f++)for(d=this.faces[f],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],g=0;3>g;g++)if(d[g]===d[(g+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(d=a[f],this.faces.splice(d,1),c=0,e=this.faceVertexUvs.length;c<e;c++)this.faceVertexUvs[c].splice(d,
1);f=this.vertices.length-b.length;this.vertices=b;return f},sortFacesByMaterialIndex:function(){for(var a=this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(a,b){return a.materialIndex-b.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var h=a[c]._id;f&&f.push(d[h]);g&&g.push(e[h])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}
function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==m[b])return m[b];m[b]=l.length/3;l.push(a.x,a.y,a.z);return m[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==q[b])return q[b];q[b]=n.length;n.push(wb(a));return q[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==t[b])return t[b];t[b]=p.length/2;p.push(a.x,a.y);return t[b]}var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;
""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f)void 0!==f[g]&&(e[g]=f[g]);return e}f=[];for(g=0;g<this.vertices.length;g++){var h=this.vertices[g];f.push(h.x,h.y,h.z)}h=[];var l=[],m={},n=[],q={},p=[],t={};for(g=0;g<this.faces.length;g++){var r=this.faces[g],w=void 0!==this.faceVertexUvs[0][g],v=0<r.normal.length(),y=0<r.vertexNormals.length,x=1!==r.color.r||1!==r.color.g||1!==r.color.b,A=0<r.vertexColors.length,B=0;B=a(B,0,0);B=a(B,1,!0);B=a(B,
2,!1);B=a(B,3,w);B=a(B,4,v);B=a(B,5,y);B=a(B,6,x);B=a(B,7,A);h.push(B);h.push(r.a,r.b,r.c);h.push(r.materialIndex);w&&(w=this.faceVertexUvs[0][g],h.push(d(w[0]),d(w[1]),d(w[2])));v&&h.push(b(r.normal));y&&(v=r.vertexNormals,h.push(b(v[0]),b(v[1]),b(v[2])));x&&h.push(c(r.color));A&&(r=r.vertexColors,h.push(c(r[0]),c(r[1]),c(r[2])))}e.data={};e.data.vertices=f;e.data.normals=l;0<n.length&&(e.data.colors=n);0<p.length&&(e.data.uvs=[p]);e.data.faces=h;return e},clone:function(){return(new V.Geometry).copy(this)},
copy:function(a){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];for(var b=a.vertices,c=0,d=b.length;c<d;c++)this.vertices.push(b[c].clone());b=a.faces;c=0;for(d=b.length;c<d;c++)this.faces.push(b[c].clone());c=0;for(d=a.faceVertexUvs.length;c<d;c++){b=a.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var e=0,f=b.length;e<f;e++){for(var g=b[e],h=[],l=0,m=g.length;l<m;l++)h.push(g[l].clone());this.faceVertexUvs[c].push(h)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
V.GeometryIdCount=0;V.DirectGeometry=function(){Object.defineProperty(this,"id",{value:V.GeometryIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="DirectGeometry";this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};
Object.assign(V.DirectGeometry.prototype,V.EventDispatcher.prototype,{computeBoundingBox:V.Geometry.prototype.computeBoundingBox,computeBoundingSphere:V.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(a){var b=[];a=a.faces;
for(var c=0;c<a.length;c++){var d=a[c];if(d.materialIndex!==e){var e=d.materialIndex;void 0!==f&&(f.count=3*c-f.start,b.push(f));var f={start:3*c,materialIndex:e}}}void 0!==f&&(f.count=3*c-f.start,b.push(f));this.groups=b},fromGeometry:function(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,f=d[1]&&0<d[1].length,g=a.morphTargets,h=g.length;if(0<h){var l=[];for(var m=0;m<h;m++)l[m]=[];this.morphTargets.position=l}var n=a.morphNormals,q=n.length;if(0<q){var p=[];for(m=0;m<q;m++)p[m]=
[];this.morphTargets.normal=p}var t=a.skinIndices,r=a.skinWeights,w=t.length===c.length,v=r.length===c.length;for(m=0;m<b.length;m++){var y=b[m];this.vertices.push(c[y.a],c[y.b],c[y.c]);var x=y.vertexNormals;3===x.length?this.normals.push(x[0],x[1],x[2]):(x=y.normal,this.normals.push(x,x,x));x=y.vertexColors;3===x.length?this.colors.push(x[0],x[1],x[2]):(x=y.color,this.colors.push(x,x,x));!0===e&&(x=d[0][m],void 0!==x?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",
m),this.uvs.push(new V.Vector2,new V.Vector2,new V.Vector2)));!0===f&&(x=d[1][m],void 0!==x?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new V.Vector2,new V.Vector2,new V.Vector2)));for(x=0;x<h;x++){var A=g[x].vertices;l[x].push(A[y.a],A[y.b],A[y.c])}for(x=0;x<q;x++)A=n[x].vertexNormals[m],p[x].push(A.a,A.b,A.c);w&&this.skinIndices.push(t[y.a],t[y.b],t[y.c]);v&&this.skinWeights.push(r[y.a],r[y.b],r[y.c])}this.computeGroups(a);
this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
V.BufferGeometry=function(){Object.defineProperty(this,"id",{value:V.GeometryIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}};
Object.assign(V.BufferGeometry.prototype,V.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(a){this.index=a},addAttribute:function(a,b,c){if(!1===b instanceof V.BufferAttribute&&!1===b instanceof V.InterleavedBufferAttribute)console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new V.BufferAttribute(b,c));else if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
this.setIndex(b);else return this.attributes[a]=b,this},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToVector3Array(b.array),b.needsUpdate=!0);b=this.attributes.normal;
void 0!==b&&(Nb(new V.Matrix3,a).applyToVector3Array(b.array),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);Sb(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);Rb(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new V.Matrix4);
Qb(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new V.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new V.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){this.computeBoundingBox();
var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var b=a.geometry;if(a instanceof V.Points||a instanceof V.Line){a=new V.Float32Attribute(3*b.vertices.length,3);var c=new V.Float32Attribute(3*b.colors.length,3);this.addAttribute("position",Wb(a,b.vertices));this.addAttribute("color",Zb(c,b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new V.Float32Attribute(b.lineDistances.length,1),this.addAttribute("lineDistance",
$b(a,b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a instanceof V.Mesh&&b instanceof V.Geometry&&this.fromGeometry(b);return this},updateFromObject:function(a){var b=a.geometry;if(a instanceof V.Mesh){var c=b.__directGeometry;if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;
c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(Wb(c,b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(Wb(c,b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(Zb(c,
b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(Xb(c,b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&($b(c,b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new V.DirectGeometry).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},
fromDirectGeometry:function(a){this.addAttribute("position",Wb(new V.BufferAttribute(new Float32Array(3*a.vertices.length),3),a.vertices));0<a.normals.length&&this.addAttribute("normal",Wb(new V.BufferAttribute(new Float32Array(3*a.normals.length),3),a.normals));0<a.colors.length&&this.addAttribute("color",Zb(new V.BufferAttribute(new Float32Array(3*a.colors.length),3),a.colors));0<a.uvs.length&&this.addAttribute("uv",Xb(new V.BufferAttribute(new Float32Array(2*a.uvs.length),2),a.uvs));0<a.uvs2.length&&
this.addAttribute("uv2",Xb(new V.BufferAttribute(new Float32Array(2*a.uvs2.length),2),a.uvs2));0<a.indices.length&&this.setIndex(Yb(new V.BufferAttribute(new (65535<a.vertices.length?Uint32Array:Uint16Array)(3*a.indices.length),1),a.indices));this.groups=a.groups;for(var b in a.morphTargets){for(var c=[],d=a.morphTargets[b],e=0,f=d.length;e<f;e++){var g=d[e],h=new V.Float32Attribute(3*g.length,3);c.push(Wb(h,g))}this.morphAttributes[b]=c}0<a.skinIndices.length&&(b=new V.Float32Attribute(4*a.skinIndices.length,
4),this.addAttribute("skinIndex",Vb(b,a.skinIndices)));0<a.skinWeights.length&&(b=new V.Float32Attribute(4*a.skinWeights.length,4),this.addAttribute("skinWeight",Vb(b,a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new V.Box3);var a=this.attributes.position.array;void 0!==a?Mb(this.boundingBox,a):this.boundingBox.makeEmpty();
(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var a=new V.Box3,b=new V.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new V.Sphere);var c=this.attributes.position.array;if(c){var d=this.boundingSphere.center;Mb(a,c);a.center(d);for(var e=
0,f=0,g=c.length;f<g;f+=3)b.fromArray(c,f),e=Math.max(e,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(e);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes,c=this.groups;if(b.position){var d=b.position.array;if(void 0===b.normal)this.addAttribute("normal",
new V.BufferAttribute(new Float32Array(d.length),3));else for(var e=b.normal.array,f=0,g=e.length;f<g;f++)e[f]=0;e=b.normal.array;var h=new V.Vector3,l=new V.Vector3,m=new V.Vector3,n=new V.Vector3,q=new V.Vector3;if(a){a=a.array;0===c.length&&this.addGroup(0,a.length);for(var p=0,t=c.length;p<t;++p){f=c[p];g=f.start;var r=f.count;f=g;for(g+=r;f<g;f+=3){r=3*a[f+0];var w=3*a[f+1];var v=3*a[f+2];h.fromArray(d,r);l.fromArray(d,w);m.fromArray(d,v);n.subVectors(m,l);q.subVectors(h,l);n.cross(q);e[r]+=
n.x;e[r+1]+=n.y;e[r+2]+=n.z;e[w]+=n.x;e[w+1]+=n.y;e[w+2]+=n.z;e[v]+=n.x;e[v+1]+=n.y;e[v+2]+=n.z}}}else for(f=0,g=d.length;f<g;f+=9)h.fromArray(d,f),l.fromArray(d,f+3),m.fromArray(d,f+6),n.subVectors(m,l),q.subVectors(h,l),n.cross(q),e[f]=n.x,e[f+1]=n.y,e[f+2]=n.z,e[f+3]=n.x,e[f+4]=n.y,e[f+5]=n.z,e[f+6]=n.x,e[f+7]=n.y,e[f+8]=n.z;this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function(a,b){if(!1===a instanceof V.BufferGeometry)console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
a);else{void 0===b&&(b=0);var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d]){var e=c[d].array,f=a.attributes[d],g=f.array,h=0;for(f=f.itemSize*b;h<g.length;h++,f++)e[f]=g[h]}return this}},normalizeNormals:function(){for(var a=this.attributes.normal.array,b,c,d,e=0,f=a.length;e<f;e+=3)b=a[e],c=a[e+1],d=a[e+2],b=1/Math.sqrt(b*b+c*c+d*d),a[e]*=b,a[e+1]*=b,a[e+2]*=b},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
this;var a=new V.BufferGeometry,b=this.index.array,c=this.attributes,d;for(d in c){var e=c[d],f=e.array;e=e.itemSize;for(var g=new f.constructor(b.length*e),h,l=0,m=0,n=b.length;m<n;m++){h=b[m]*e;for(var q=0;q<e;q++)g[l++]=f[h++]}a.addAttribute(d,new V.BufferAttribute(g,e))}return a},toJSON:function(){var a={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var b=this.parameters;
for(e in b)void 0!==b[e]&&(a[e]=b[e]);return a}a.data={attributes:{}};var c=this.index;null!==c&&(b=Array.prototype.slice.call(c.array),a.data.index={type:c.array.constructor.name,array:b});c=this.attributes;for(e in c){var d=c[e];b=Array.prototype.slice.call(d.array);a.data.attributes[e]={itemSize:d.itemSize,type:d.array.constructor.name,array:b,normalized:d.normalized}}var e=this.groups;0<e.length&&(a.data.groups=JSON.parse(JSON.stringify(e)));e=this.boundingSphere;null!==e&&(a.data.boundingSphere=
{center:e.center.toArray(),radius:e.radius});return a},clone:function(){return(new V.BufferGeometry).copy(this)},copy:function(a){var b=a.index;null!==b&&this.setIndex(b.clone());b=a.attributes;for(var c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});V.BufferGeometry.MaxIndex=65535;
V.InstancedBufferGeometry=function(){V.BufferGeometry.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0};V.InstancedBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.InstancedBufferGeometry.prototype.constructor=V.InstancedBufferGeometry;V.InstancedBufferGeometry.prototype.addGroup=function(a,b,c){this.groups.push({start:a,count:b,instances:c})};
V.InstancedBufferGeometry.prototype.copy=function(a){var b=a.index;null!==b&&this.setIndex(b.clone());b=a.attributes;for(var c in b)this.addAttribute(c,b[c].clone());a=a.groups;c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.instances)}return this};V.Uniform=function(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a;this.dynamic=!1};
V.Uniform.prototype={constructor:V.Uniform,onUpdate:function(a){this.dynamic=!0;this.onUpdateCallback=a;return this}};V.AnimationAction=function(){throw Error("THREE.AnimationAction: Use mixer.clipAction for construction.");};
V.AnimationAction._new=function(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:V.ZeroCurvatureEnding,endingEnd:V.ZeroCurvatureEnding},e=0;e!==b;++e){var f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=V.LoopRepeat;this._loopCount=-1;this._startTime=
null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};
V.AnimationAction._new.prototype={constructor:V.AnimationAction._new,play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return ac(bc(this))},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},
startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return bc(this)},getEffectiveWeight:function(){return this._effectiveWeight},crossFadeTo:function(a,b,c){cc(this,b,1,0);cc(a,b,0,1);if(c){c=a._clip.duration;var d=this._clip.duration,e=c/d;dc(this,1,d/c,b);dc(a,e,1,b)}return a},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=
this.paused?0:a;return ac(this)},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){this.timeScale=this._clip.duration/a;return ac(this)},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return ac(this)},halt:function(a){return dc(this,this._effectiveTimeScale,0,a)},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(a,b,c,d){var e=this._startTime;
if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}c=b;b=0;if(!this.paused&&(b=this.timeScale,e=this._timeScaleInterpolant,null!==e)){var f=e.evaluate(a)[0];b*=f;a>e.parameterPositions[1]&&(ac(this),0===b?this.paused=!0:this.timeScale=b)}this._effectiveTimeScale=b;a:if(f=c*b,c=this.time+f,0!==f){b=this._clip.duration;var g=this.loop;e=this._loopCount;if(g===V.LoopOnce)b:{if(-1===e&&(this.loopCount=0,ec(this,!0,!0,!1)),c>=b)c=b;else if(0>c)c=0;else break b;this.clampWhenFinished?
this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>f?-1:1})}else{g=g===V.LoopPingPong;-1===e&&(0<=f?(e=0,ec(this,!0,0===this.repetitions,g)):ec(this,0===this.repetitions,!0,g));if(c>=b||0>c){var h=Math.floor(c/b);c-=b*h;e+=Math.abs(h);var l=this.repetitions-e;0>l?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,c=0<f?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<f?1:-1})):(0===l?(f=0>f,ec(this,f,!f,g)):ec(this,!1,!1,g),
this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h}))}if(g&&1===(e&1)){this.time=c;c=b-c;break a}}this.time=c}a=this._updateWeight(a);if(0<a)for(b=this._interpolants,e=this._propertyBindings,f=0,g=b.length;f!==g;++f){b[f].evaluate(c);h=e[f];l=a;var m=h.buffer,n=h.valueSize,q=d*n+n,p=h.cumulativeWeight;if(0===p){for(p=0;p!==n;++p)m[q+p]=m[p];p=l}else p+=l,h._mixBufferRegion(m,q,0,l/p,n);h.cumulativeWeight=p}},_updateWeight:function(a){var b=0;if(this.enabled){b=this.weight;
var c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d;a>c.parameterPositions[1]&&(bc(this),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b}};function cc(a,b,c,d){var e=a._mixer,f=e.time,g=a._weightInterpolant;null===g&&(g=e._lendControlInterpolant(),a._weightInterpolant=g);a=g.parameterPositions;g=g.sampleValues;a[0]=f;g[0]=c;a[1]=f+b;g[1]=d}
function ec(a,b,c,d){var e=a._interpolantSettings;d?(e.endingStart=V.ZeroSlopeEnding,e.endingEnd=V.ZeroSlopeEnding):(e.endingStart=b?a.zeroSlopeAtStart?V.ZeroSlopeEnding:V.ZeroCurvatureEnding:V.WrapAroundEnding,e.endingEnd=c?a.zeroSlopeAtEnd?V.ZeroSlopeEnding:V.ZeroCurvatureEnding:V.WrapAroundEnding)}function ac(a){var b=a._timeScaleInterpolant;null!==b&&(a._timeScaleInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}
function dc(a,b,c,d){var e=a._mixer,f=e.time,g=a._timeScaleInterpolant,h=a.timeScale;null===g&&(g=e._lendControlInterpolant(),a._timeScaleInterpolant=g);e=g.parameterPositions;g=g.sampleValues;e[0]=f;e[1]=f+d;g[0]=b/h;g[1]=c/h;return a}function bc(a){var b=a._weightInterpolant;null!==b&&(a._weightInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}
V.AnimationClip=function(a,b,c){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.uuid=V.Math.generateUUID();if(0>this.duration){b=a=0;for(c=this.tracks.length;b!==c;++b){var d=this.tracks[b];a=Math.max(a,d.times[d.times.length-1])}this.duration=a}this.trim();this.optimize()};
V.AnimationClip.prototype={constructor:V.AnimationClip,trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}};
Object.assign(V.AnimationClip,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e)b.push(V.KeyframeTrack.parse(c[e]).scale(d));return new V.AnimationClip(a.name,a.duration,b)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b};for(var d=0,e=c.length;d!==e;++d)b.push(V.KeyframeTrack.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var h=[],l=[];h.push((g+e-1)%e,g,(g+1)%e);l.push(0,
1,0);var m=V.AnimationUtils.getKeyframeOrder(h);h=V.AnimationUtils.sortedArray(h,1,m);l=V.AnimationUtils.sortedArray(l,1,m);d||0!==h[0]||(h.push(e),l.push(l[0]));f.push((new V.NumberKeyframeTrack(".morphTargetInfluences["+b[g].name+"]",h,l)).scale(1/c))}return new V.AnimationClip(a,-1,f)},findByName:function(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,
b,c){for(var d={},e=/^([\w-]*?)([\d]+)$/,f=0,g=a.length;f<g;f++){var h=a[f],l=h.name.match(e);if(l&&1<l.length){var m=l[1];(l=d[m])||(d[m]=l=[]);l.push(h)}}a=[];for(m in d)a.push(V.AnimationClip.CreateFromMorphTargetSequence(m,d[m],b,c));return a},parseAnimation:function(a,b){function c(a,b,c,d,e){if(0!==c.length){var f=[],g=[];V.AnimationUtils.flattenJSON(c,f,g,d);0!==f.length&&e.push(new a(b,f,g))}}if(!a)return console.error("  no animation in JSONLoader data"),null;var d=[],e=a.name||"default",
f=a.length||-1,g=a.fps||30;a=a.hierarchy||[];for(var h=0;h<a.length;h++){var l=a[h].keys;if(l&&0!==l.length)if(l[0].morphTargets){f={};for(var m=0;m<l.length;m++)if(l[m].morphTargets)for(var n=0;n<l[m].morphTargets.length;n++)f[l[m].morphTargets[n]]=-1;for(var q in f){var p=[],t=[];for(n=0;n!==l[m].morphTargets.length;++n){var r=l[m];p.push(r.time);t.push(r.morphTarget===q?1:0)}d.push(new V.NumberKeyframeTrack(".morphTargetInfluence["+q+"]",p,t))}f=f.length*(g||1)}else m=".bones["+b[h].name+"]",c(V.VectorKeyframeTrack,
m+".position",l,"pos",d),c(V.QuaternionKeyframeTrack,m+".quaternion",l,"rot",d),c(V.VectorKeyframeTrack,m+".scale",l,"scl",d)}return 0===d.length?null:new V.AnimationClip(e,f,d)}});V.AnimationMixer=function(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1};
Object.assign(V.AnimationMixer.prototype,V.EventDispatcher.prototype,{clipAction:function(a,b){var c=b||this._root,d=c.uuid;c="string"===typeof a?V.AnimationClip.findByName(c,a):a;a=null!==c?c.uuid:a;var e=this._actionsByClip[a],f=null;if(void 0!==e){f=e.actionByRoot[d];if(void 0!==f)return f;f=e.knownActions[0];null===c&&(c=f._clip)}if(null===c)return null;b=new V.AnimationMixer._Action(this,c,b);this._bindAction(b,f);this._addInactiveAction(b,a,d);return b},existingAction:function(a,b){var c=b||
this._root;b=c.uuid;c="string"===typeof a?V.AnimationClip.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e)a[e].reset();for(e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),
f=this._accuIndex^=1,g=0;g!==c;++g){var h=b[g];h.enabled&&h._update(d,a,e,f)}a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){d=d.knownActions;for(var e=0,f=d.length;e!==f;++e){var g=d[e];this._deactivateAction(g);var h=g._cacheIndex,l=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;l._cacheIndex=h;b[h]=l;b.pop();
this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d)a=d[e],a.binding.setValue(a.buffer,3*a.valueSize),this._removeInactiveBinding(a)},uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});
V.AnimationMixer._Action=V.AnimationAction._new;
Object.assign(V.AnimationMixer.prototype,{_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings;a=a._interpolants;var g=c.uuid,h=this._bindingsByRootAndName,l=h[g];void 0===l&&(l={},h[g]=l);for(h=0;h!==e;++h){var m=d[h],n=m.name,q=l[n];if(void 0===q){q=f[h];if(void 0!==q){null===q._cacheIndex&&(++q.referenceCount,this._addInactiveBinding(q,g,n));continue}q=new V.PropertyMixer(V.PropertyBinding.create(c,n,b&&b._propertyBindings[h].binding.parsedPath),
m.ValueTypeName,fc(m));++q.referenceCount;this._addInactiveBinding(q,g,n)}f[h]=q;a[h].resultBuffer=q.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];if(0===e.useCount++){this._lendBinding(e);var f=e.buffer,g=e.valueSize,h=3*g;e.binding.getValue(f,
h);for(var l=g;l!==h;++l)f[l]=f[h+l%g];e.cumulativeWeight=0}}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.binding.setValue(e.buffer,3*e.valueSize),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=
[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){var d=this._actions,e=
this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);f.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;c=a._clip.uuid;d=this._actionsByClip;var e=d[c],f=e.knownActions,g=f[f.length-1],h=a._byClipCacheIndex;g._byClipCacheIndex=h;f[h]=g;f.pop();a._byClipCacheIndex=
null;delete e.actionByRoot[(b._localRoot||this._root).uuid];0===f.length&&delete d[c];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,d=
--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid;c=c.path;var e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var h in f)break a;delete e[d]}},_lendBinding:function(a){var b=
this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new V.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=
b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1)});
V.AnimationObjectGroup=function(a){this.uuid=V.Math.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var b={};this._indicesByUUID=b;for(var c=0,d=arguments.length;c!==d;++c)b[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}};
V.AnimationObjectGroup.prototype={constructor:V.AnimationObjectGroup,add:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,f=this._paths,g=this._parsedPaths,h=this._bindings,l=h.length,m=0,n=arguments.length;m!==n;++m){var q=arguments[m],p=q.uuid,t=e[p];if(void 0===t){t=c++;e[p]=t;b.push(q);p=0;for(var r=l;p!==r;++p)h[p].push(new V.PropertyBinding(q,f[p],g[p]))}else if(t<d){var w=b[t],v=--d;r=b[v];e[r.uuid]=t;b[t]=r;e[p]=v;b[v]=q;p=0;for(r=l;p!==r;++p){var y=
h[p],x=y[t];y[t]=y[v];void 0===x&&(x=new V.PropertyBinding(q,f[p],g[p]));y[v]=x}}else b[t]!==w&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=d},remove:function(a){for(var b=this._objects,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,h=arguments.length;g!==h;++g){var l=arguments[g],m=l.uuid,n=d[m];if(void 0!==n&&n>=c){var q=c++,p=b[q];d[p.uuid]=n;b[n]=p;d[m]=
q;b[q]=l;l=0;for(m=f;l!==m;++l){p=e[l];var t=p[n];p[n]=p[q];p[q]=t}}}this.nCachedObjects_=c},uncache:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,f=this._bindings,g=f.length,h=0,l=arguments.length;h!==l;++h){var m=arguments[h].uuid,n=e[m];if(void 0!==n)if(delete e[m],n<d){m=--d;var q=b[m],p=--c,t=b[p];e[q.uuid]=n;b[n]=q;e[t.uuid]=m;b[m]=t;b.pop();q=0;for(t=g;q!==t;++q){var r=f[q],w=r[p];r[n]=r[m];r[m]=w;r.pop()}}else for(p=--c,t=b[p],e[t.uuid]=n,b[n]=
t,b.pop(),q=0,t=g;q!==t;++q)r=f[q],r[n]=r[p],r.pop()}this.nCachedObjects_=d},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c;f[c]=h;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}};
V.AnimationUtils={arraySlice:function(a,b,c){return V.AnimationUtils.isTypedArray(a)?new a.constructor(a.subarray(b,c)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(b,c){return a[b]-a[c]});return c},sortedArray:function(a,
b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f)for(var h=c[f]*b,l=0;l!==b;++l)e[g++]=a[h+l];return e},flattenJSON:function(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];)f=a[e++];if(void 0!==f){var g=f[d];if(void 0!==g)if(Array.isArray(g)){do g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++];while(void 0!==f)}else if(void 0!==g.toArray){do g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++];while(void 0!==f)}else{do g=f[d],void 0!==g&&(b.push(f.time),
c.push(g)),f=a[e++];while(void 0!==f)}}}};V.KeyframeTrack=function(a,b,c,d){if(void 0===a)throw Error("track name is undefined");if(void 0===b||0===b.length)throw Error("no keyframes in track named "+a);this.name=a;this.times=V.AnimationUtils.convertArray(b,this.TimeBufferType);this.values=V.AnimationUtils.convertArray(c,this.ValueBufferType);gc(this,d||this.DefaultInterpolation);this.validate();this.optimize()};
V.KeyframeTrack.prototype={constructor:V.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:V.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(a){return new V.DiscreteInterpolant(this.times,this.values,fc(this),a)},InterpolantFactoryMethodLinear:function(a){return new V.LinearInterpolant(this.times,this.values,fc(this),a)},InterpolantFactoryMethodSmooth:function(a){return new V.CubicInterpolant(this.times,this.values,fc(this),a)},shift:function(a){if(0!==
a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]>b;)--f;++f;if(0!==e||f!==d)e>=f&&(f=Math.max(f,1),e=f-1),a=fc(this),this.times=V.AnimationUtils.arraySlice(c,e,f),this.values=V.AnimationUtils.arraySlice(this.values,e*a,f*a);return this},validate:function(){var a=!0,b=fc(this);0!==b-Math.floor(b)&&
(console.error("invalid value size in track",this),a=!1);var c=this.times;b=this.values;var d=c.length;0===d&&(console.error("track is empty",this),a=!1);for(var e=null,f=0;f!==d;f++){var g=c[f];if("number"===typeof g&&isNaN(g)){console.error("time is not a valid number",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("out of order keys",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&V.AnimationUtils.isTypedArray(b))for(f=0,c=b.length;f!==c;++f)if(d=b[f],isNaN(d)){console.error("value is not a valid number",
this,f,d);a=!1;break}return a},optimize:function(){for(var a=this.times,b=this.values,c=fc(this),d=1,e=1,f=a.length-1;e<=f;++e){var g=!1,h=a[e];if(h!==a[e+1]&&(1!==e||h!==h[0])){var l=e*c,m=l-c,n=l+c;for(h=0;h!==c;++h){var q=b[l+h];if(q!==b[m+h]||q!==b[n+h]){g=!0;break}}}if(g){if(e!==d)for(a[d]=a[e],g=e*c,l=d*c,h=0;h!==c;++h)b[l+h]=b[g+h];++d}}d!==a.length&&(this.times=V.AnimationUtils.arraySlice(a,0,d),this.values=V.AnimationUtils.arraySlice(b,0,d*c));return this}};
function fc(a){return a.values.length/a.times.length}
function gc(a,b){switch(b){case V.InterpolateDiscrete:var c=a.InterpolantFactoryMethodDiscrete;break;case V.InterpolateLinear:c=a.InterpolantFactoryMethodLinear;break;case V.InterpolateSmooth:c=a.InterpolantFactoryMethodSmooth}if(void 0===c){c="unsupported interpolation for "+a.ValueTypeName+" keyframe track named "+a.name;if(void 0===a.createInterpolant)if(b!==a.DefaultInterpolation)gc(a,a.DefaultInterpolation);else throw Error(c);console.warn(c)}else a.createInterpolant=c}
Object.assign(V.KeyframeTrack,{parse:function(a){if(void 0===a.type)throw Error("track type undefined, can not parse");var b=V.KeyframeTrack._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var c=[],d=[];V.AnimationUtils.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{b={name:a.name,times:V.AnimationUtils.convertArray(a.times,
Array),values:V.AnimationUtils.convertArray(a.values,Array)};a:{switch(a.createInterpolant){case a.InterpolantFactoryMethodDiscrete:var c=V.InterpolateDiscrete;break a;case a.InterpolantFactoryMethodLinear:c=V.InterpolateLinear;break a;case a.InterpolantFactoryMethodSmooth:c=V.InterpolateSmooth;break a}c=void 0}c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return V.NumberKeyframeTrack;
case "vector":case "vector2":case "vector3":case "vector4":return V.VectorKeyframeTrack;case "color":return V.ColorKeyframeTrack;case "quaternion":return V.QuaternionKeyframeTrack;case "bool":case "boolean":return V.BooleanKeyframeTrack;case "string":return V.StringKeyframeTrack}throw Error("Unsupported typeName: "+a);}});
V.PropertyBinding=function(a,b,c){this.path=b;this.parsedPath=c||V.PropertyBinding.parseTrackName(b);this.node=V.PropertyBinding.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a};
V.PropertyBinding.prototype={constructor:V.PropertyBinding,getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=V.PropertyBinding.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var f=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("  can not bind to material as node does not have a material",
this);return}if(!a.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===f){f=c;break}break;default:if(void 0===a[c]){console.error("  can not bind to objectName of node, undefined",this);return}a=a[c]}if(void 0!==f){if(void 0===
a[f]){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,a);return}a=a[f]}}if(f=a[d]){b=this.Versioning.None;void 0!==a.needsUpdate?(b=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",
this);return}if(!a.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===e){e=c;break}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else void 0!==f.fromArray&&void 0!==f.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=f):void 0!==f.length?(c=this.BindingType.EntireArray,this.resolvedProperty=
f):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}else console.error("  trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a)}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};
Object.assign(V.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:V.PropertyBinding.prototype.getValue,_setValue_unbound:V.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},
function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.node[this.propertyName]=a[b]},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,
d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,
b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]]});
V.PropertyBinding.Composite=function(a,b,c){c=c||V.PropertyBinding.parseTrackName(b);this._targetGroup=a;var d=a._bindingsIndicesByPath,e=d[b],f=a._bindings;if(void 0!==e)b=f[e];else{var g=a._paths,h=a._parsedPaths,l=a._objects,m=a.nCachedObjects_;a=Array(l.length);e=f.length;d[b]=e;g.push(b);h.push(c);f.push(a);d=m;for(e=l.length;d!==e;++d)a[d]=new V.PropertyBinding(l[d],b,c);b=a}this._bindings=b};
V.PropertyBinding.Composite.prototype={constructor:V.PropertyBinding.Composite,getValue:function(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,
c=a.length;b!==c;++b)a[b].unbind()}};V.PropertyBinding.create=function(a,b,c){return a instanceof V.AnimationObjectGroup?new V.PropertyBinding.Composite(a,b,c):new V.PropertyBinding(a,b,c)};
V.PropertyBinding.parseTrackName=function(a){var b=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]_. ]+)\])?)$/,c=b.exec(a);if(!c)throw Error("cannot parse trackName at all: "+a);c.index===b.lastIndex&&b.lastIndex++;b={nodeName:c[3],objectName:c[5],objectIndex:c[7],propertyName:c[9],propertyIndex:c[11]};if(null===b.propertyName||0===b.propertyName.length)throw Error("can not parse propertyName from trackName: "+a);return b};
V.PropertyBinding.findNode=function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=function(a){for(var c=0;c<a.bones.length;c++){var d=a.bones[c];if(d.name===b)return d}return null}(a.skeleton);if(c)return c}if(a.children){var d=function(a){for(var c=0;c<a.length;c++){var e=a[c];if(e.name===b||e.uuid===b)return e;if(e=d(e.children))return e}return null};if(a=d(a.children))return a}return null};
V.PropertyMixer=function(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case "quaternion":b=this._slerp;break;case "string":case "bool":a=Array;b=this._select;break;default:b=this._lerp}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0};
V.PropertyMixer.prototype={constructor:V.PropertyMixer,apply:function(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);d=b;for(var f=b+b;d!==f;++d)if(c[d]!==c[d+b]){e.setValue(c,a);break}},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){V.Quaternion.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var f=1-d,g=0;g!==e;++g){var h=b+g;a[h]=a[h]*
f+a[c+g]*d}}};V.BooleanKeyframeTrack=function(a,b,c){V.KeyframeTrack.call(this,a,b,c)};V.BooleanKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:V.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});V.ColorKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};
V.ColorKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.ColorKeyframeTrack,ValueTypeName:"color"});V.NumberKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};V.NumberKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.NumberKeyframeTrack,ValueTypeName:"number"});V.QuaternionKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};
V.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:V.InterpolateLinear,InterpolantFactoryMethodLinear:function(a){return new V.QuaternionLinearInterpolant(this.times,this.values,fc(this),a)},InterpolantFactoryMethodSmooth:void 0});V.StringKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};
V.StringKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:V.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});V.VectorKeyframeTrack=function(a,b,c,d){V.KeyframeTrack.call(this,a,b,c,d)};V.VectorKeyframeTrack.prototype=Object.assign(Object.create(V.KeyframeTrack.prototype),{constructor:V.VectorKeyframeTrack,ValueTypeName:"vector"});
V.Audio=function(a){V.Object3D.call(this);this.type="Audio";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]};
V.Audio.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Audio,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setBuffer:function(a){this.source.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.start(0,this.startTime);a.playbackRate.value=this.playbackRate;this.isPlaying=!0;this.source=a;return this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=this.context.currentTime,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.source.stop(),this.startTime=0,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);
this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.playbackRate=a,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(a){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):this.source.loop=a},getVolume:function(){return this.gain.gain.value},
setVolume:function(a){this.gain.gain.value=a;return this}});V.AudioAnalyser=function(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)};
Object.assign(V.AudioAnalyser.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=b[c];return a/b.length}});Object.defineProperty(V,"AudioContext",{get:function(){var a;return function(){void 0===a&&(a=new (window.AudioContext||window.webkitAudioContext));return a}}()});
V.PositionalAudio=function(a){V.Audio.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)};
V.PositionalAudio.prototype=Object.assign(Object.create(V.Audio.prototype),{constructor:V.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a},getMaxDistance:function(){return this.panner.maxDistance},
setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new V.Vector3;return function(b){V.Object3D.prototype.updateMatrixWorld.call(this,b);Fb(a,this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}()});V.AudioListener=function(){V.Object3D.call(this);this.type="AudioListener";this.context=V.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null};
V.AudioListener.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):
this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.value=a},updateMatrixWorld:function(){var a=new V.Vector3,b=new V.Quaternion,c=new V.Vector3,d=new V.Vector3;return function(e){V.Object3D.prototype.updateMatrixWorld.call(this,e);e=this.context.listener;var f=this.up;this.matrixWorld.decompose(a,b,c);Bb(d.set(0,
0,-1),b);e.setPosition(a.x,a.y,a.z);e.setOrientation(d.x,d.y,d.z,f.x,f.y,f.z)}}()});V.Camera=function(){V.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new V.Matrix4;this.projectionMatrix=new V.Matrix4};V.Camera.prototype=Object.create(V.Object3D.prototype);k=V.Camera.prototype;k.constructor=V.Camera;k.getWorldDirection=function(){var a=new V.Quaternion;return function(b){b=b||new V.Vector3;this.getWorldQuaternion(a);return Bb(b.set(0,0,-1),a)}}();
k.lookAt=function(){var a=new V.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();k.clone=function(){return(new this.constructor).copy(this)};k.copy=function(a){V.Object3D.prototype.copy.call(this,a);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this};
V.CubeCamera=function(a,b,c){V.Object3D.call(this);this.type="CubeCamera";var d=new V.PerspectiveCamera(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new V.Vector3(1,0,0));this.add(d);var e=new V.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new V.Vector3(-1,0,0));this.add(e);var f=new V.PerspectiveCamera(90,1,a,b);f.up.set(0,0,1);f.lookAt(new V.Vector3(0,1,0));this.add(f);var g=new V.PerspectiveCamera(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new V.Vector3(0,-1,0));this.add(g);var h=new V.PerspectiveCamera(90,
1,a,b);h.up.set(0,-1,0);h.lookAt(new V.Vector3(0,0,1));this.add(h);var l=new V.PerspectiveCamera(90,1,a,b);l.up.set(0,-1,0);l.lookAt(new V.Vector3(0,0,-1));this.add(l);this.renderTarget=new V.WebGLRenderTargetCube(c,c,{format:V.RGBFormat,magFilter:V.LinearFilter,minFilter:V.LinearFilter});this.updateCubeMap=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=this.renderTarget,m=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=
1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,h,c);c.texture.generateMipmaps=m;c.activeCubeFace=5;a.render(b,l,c);a.setRenderTarget(null)}};V.CubeCamera.prototype=Object.create(V.Object3D.prototype);V.CubeCamera.prototype.constructor=V.CubeCamera;
V.OrthographicCamera=function(a,b,c,d,e,f){V.Camera.call(this);this.type="OrthographicCamera";this.zoom=1;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()};
V.OrthographicCamera.prototype=Object.assign(Object.create(V.Camera.prototype),{constructor:V.OrthographicCamera,copy:function(a){V.Camera.prototype.copy.call(this,a);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;return this},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a;a=c+a;c=d+b;b=d-b;d=this.near;
var f=this.far,g=this.projectionMatrix.elements,h=1/(a-e),l=1/(c-b),m=1/(f-d);g[0]=2*h;g[4]=0;g[8]=0;g[12]=-((a+e)*h);g[1]=0;g[5]=2*l;g[9]=0;g[13]=-((c+b)*l);g[2]=0;g[6]=0;g[10]=-2*m;g[14]=-((f+d)*m);g[3]=0;g[7]=0;g[11]=0;g[15]=1},toJSON:function(a){a=V.Object3D.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;return a}});
V.PerspectiveCamera=function(a,b,c,d){V.Camera.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()};
V.PerspectiveCamera.prototype=Object.assign(Object.create(V.Camera.prototype),{constructor:V.PerspectiveCamera,copy:function(a){V.Camera.prototype.copy.call(this,a);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){this.fov=2*V.Math.RAD2DEG*Math.atan(.5*this.getFilmHeight()/a);this.updateProjectionMatrix()},
getFocalLength:function(){return.5*this.getFilmHeight()/Math.tan(.5*V.Math.DEG2RAD*this.fov)},getEffectiveFOV:function(){return 2*V.Math.RAD2DEG*Math.atan(Math.tan(.5*V.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,f){this.aspect=a/b;this.view={fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:e,height:f};this.updateProjectionMatrix()},
clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*V.Math.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==f){var g=f.fullWidth,h=f.fullHeight;e+=f.offsetX*d/g;b-=f.offsetY*c/h;d*=f.width/g;c*=f.height/h}f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());Ob(this.projectionMatrix,e,e+d,b-c,b,a,this.far)},toJSON:function(a){a=V.Object3D.prototype.toJSON.call(this,a);a.object.fov=
this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});
V.StereoCamera=function(){this.type="StereoCamera";this.aspect=1;this.cameraL=new V.PerspectiveCamera;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new V.PerspectiveCamera;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1};
Object.assign(V.StereoCamera.prototype,{update:function(){var a,b,c,d,e,f=new V.Matrix4,g=new V.Matrix4;return function(h){if(a!==h.focus||b!==h.fov||c!==h.aspect*this.aspect||d!==h.near||e!==h.far){a=h.focus;b=h.fov;c=h.aspect*this.aspect;d=h.near;e=h.far;var l=h.projectionMatrix.clone(),m=.032*d/a,n=d*Math.tan(V.Math.DEG2RAD*b*.5);g.elements[12]=-.032;f.elements[12]=.032;var q=-n*c+m;var p=n*c+m;l.elements[0]=2*d/(p-q);l.elements[8]=(p+q)/(p-q);this.cameraL.projectionMatrix.copy(l);q=-n*c-m;p=n*
c-m;l.elements[0]=2*d/(p-q);l.elements[8]=(p+q)/(p-q);this.cameraR.projectionMatrix.copy(l)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(g);this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(f)}}()});V.Light=function(a,b){V.Object3D.call(this);this.type="Light";this.color=new V.Color(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0};
V.Light.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Light,copy:function(a){V.Object3D.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=V.Object3D.prototype.toJSON.call(this,a);a.object.color=wb(this.color);a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=wb(this.groundColor));void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=
this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);return a}});V.LightShadow=function(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new V.Vector2(512,512);this.map=null;this.matrix=new V.Matrix4};Object.assign(V.LightShadow.prototype,{copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)}});
V.AmbientLight=function(a,b){V.Light.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0};V.AmbientLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.AmbientLight});V.DirectionalLight=function(a,b){V.Light.call(this,a,b);this.type="DirectionalLight";this.position.set(0,1,0);this.updateMatrix();this.target=new V.Object3D;this.shadow=new V.DirectionalLightShadow};
V.DirectionalLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.DirectionalLight,copy:function(a){V.Light.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});V.DirectionalLightShadow=function(){V.LightShadow.call(this,new V.OrthographicCamera(-5,5,5,-5,.5,500))};V.DirectionalLightShadow.prototype=Object.assign(Object.create(V.LightShadow.prototype),{constructor:V.DirectionalLightShadow});
V.HemisphereLight=function(a,b,c){V.Light.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new V.Color(b)};V.HemisphereLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.HemisphereLight,copy:function(a){V.Light.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});
V.PointLight=function(a,b,c,d){V.Light.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(a){this.intensity=a/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new V.LightShadow(new V.PerspectiveCamera(90,1,.5,500))};
V.PointLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.PointLight,copy:function(a){V.Light.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});
V.SpotLight=function(a,b,c,d,e,f){V.Light.call(this,a,b);this.type="SpotLight";this.position.set(0,1,0);this.updateMatrix();this.target=new V.Object3D;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new V.SpotLightShadow};
V.SpotLight.prototype=Object.assign(Object.create(V.Light.prototype),{constructor:V.SpotLight,copy:function(a){V.Light.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});V.SpotLightShadow=function(){V.LightShadow.call(this,new V.PerspectiveCamera(50,1,.5,500))};
V.SpotLightShadow.prototype=Object.assign(Object.create(V.LightShadow.prototype),{constructor:V.SpotLightShadow,update:function(a){var b=2*V.Math.RAD2DEG*a.angle,c=this.mapSize.width/this.mapSize.height;a=a.distance||500;var d=this.camera;if(b!==d.fov||c!==d.aspect||a!==d.far)d.fov=b,d.aspect=c,d.far=a,d.updateProjectionMatrix()}});V.AudioLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.AudioLoader.prototype={constructor:V.AudioLoader,load:function(a,b,c,d){var e=new V.XHRLoader(this.manager);hc(e);e.load(a,function(a){V.AudioContext.decodeAudioData(a,function(a){b(a)})},c,d)}};V.Cache={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
V.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};
V.Loader.prototype={constructor:V.Loader,crossOrigin:void 0,createMaterial:function(){var a,b,c;return function(d,e,f){function g(a,c,d,g,l){a=e+a;var m=V.Loader.Handlers.get(a);null!==m?a=m.load(a):(b.setCrossOrigin(f),a=b.load(a));void 0!==c&&(a.repeat.fromArray(c),1!==c[0]&&(a.wrapS=V.RepeatWrapping),1!==c[1]&&(a.wrapT=V.RepeatWrapping));void 0!==d&&a.offset.fromArray(d);void 0!==g&&("repeat"===g[0]&&(a.wrapS=V.RepeatWrapping),"mirror"===g[0]&&(a.wrapS=V.MirroredRepeatWrapping),"repeat"===g[1]&&
(a.wrapT=V.RepeatWrapping),"mirror"===g[1]&&(a.wrapT=V.MirroredRepeatWrapping));void 0!==l&&(a.anisotropy=l);c=V.Math.generateUUID();h[c]=a;return c}void 0===a&&(a=new V.Color);void 0===b&&(b=new V.TextureLoader);void 0===c&&(c=new V.MaterialLoader);var h={},l={uuid:V.Math.generateUUID(),type:"MeshLambertMaterial"},m;for(m in d){var n=d[m];switch(m){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;case "DbgName":l.name=n;break;case "blending":l.blending=V[n];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",
m,"is no longer supported.");break;case "colorDiffuse":l.color=wb(a.fromArray(n));break;case "colorSpecular":l.specular=wb(a.fromArray(n));break;case "colorEmissive":l.emissive=wb(a.fromArray(n));break;case "specularCoef":l.shininess=n;break;case "shading":"basic"===n.toLowerCase()&&(l.type="MeshBasicMaterial");"phong"===n.toLowerCase()&&(l.type="MeshPhongMaterial");break;case "mapDiffuse":l.map=g(n,d.mapDiffuseRepeat,d.mapDiffuseOffset,d.mapDiffuseWrap,d.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;
case "mapLight":l.lightMap=g(n,d.mapLightRepeat,d.mapLightOffset,d.mapLightWrap,d.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":l.aoMap=g(n,d.mapAORepeat,d.mapAOOffset,d.mapAOWrap,d.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":l.bumpMap=g(n,d.mapBumpRepeat,d.mapBumpOffset,d.mapBumpWrap,d.mapBumpAnisotropy);break;case "mapBumpScale":l.bumpScale=
n;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":l.normalMap=g(n,d.mapNormalRepeat,d.mapNormalOffset,d.mapNormalWrap,d.mapNormalAnisotropy);break;case "mapNormalFactor":l.normalScale=[n,n];break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":l.specularMap=g(n,d.mapSpecularRepeat,d.mapSpecularOffset,d.mapSpecularWrap,d.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;
case "mapAlpha":l.alphaMap=g(n,d.mapAlphaRepeat,d.mapAlphaOffset,d.mapAlphaWrap,d.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":l.side=V.BackSide;break;case "doubleSided":l.side=V.DoubleSide;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");l.opacity=n;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":l[m]=
n;break;case "vertexColors":!0===n&&(l.vertexColors=V.VertexColors);"face"===n&&(l.vertexColors=V.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",m,n)}}"MeshBasicMaterial"===l.type&&delete l.emissive;"MeshPhongMaterial"!==l.type&&delete l.specular;1>l.opacity&&(l.transparent=!0);c.textures=h;return c.parse(l)}}()};function ic(a,b,c){for(var d=V.Loader.prototype,e=[],f=0;f<a.length;++f)e[f]=d.createMaterial(a[f],b,c);return e}
function jc(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"}V.Loader.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c+1];if(b[c].test(a))return e}return null}};V.XHRLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.XHRLoader.prototype={constructor:V.XHRLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=V.Cache.get(a);if(void 0!==f)return b&&setTimeout(function(){b(f)},0),f;var g=new XMLHttpRequest;g.overrideMimeType("text/plain");g.open("GET",a,!0);g.addEventListener("load",function(c){var f=c.target.response;V.Cache.add(a,f);200===this.status?(b&&b(f),e.manager.itemEnd(a)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),b&&b(f),e.manager.itemEnd(a)):(d&&
d(c),e.manager.itemError(a))},!1);void 0!==c&&g.addEventListener("progress",function(a){c(a)},!1);g.addEventListener("error",function(b){d&&d(b);e.manager.itemError(a)},!1);void 0!==this.responseType&&(g.responseType=this.responseType);void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials);g.send(null);e.manager.itemStart(a);return g},setPath:function(a){this.path=a}};function hc(a){a.responseType="arraybuffer"}V.FontLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.FontLoader.prototype={constructor:V.FontLoader,load:function(a,b,c,d){var e=this;(new V.XHRLoader(this.manager)).load(a,function(a){try{var c=JSON.parse(a)}catch(h){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),c=JSON.parse(a.substring(65,a.length-2))}a=e.parse(c);b&&b(a)},c,d)},parse:function(a){return new V.Font(a)}};V.ImageLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.ImageLoader.prototype={constructor:V.ImageLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=V.Cache.get(a);if(void 0!==f)return e.manager.itemStart(a),b?setTimeout(function(){b(f);e.manager.itemEnd(a)},0):e.manager.itemEnd(a),f;var g=document.createElement("img");g.addEventListener("load",function(){V.Cache.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1);void 0!==c&&g.addEventListener("progress",function(a){c(a)},!1);g.addEventListener("error",function(b){d&&d(b);e.manager.itemError(a)},
!1);void 0!==this.crossOrigin&&(g.crossOrigin=this.crossOrigin);e.manager.itemStart(a);g.src=a;return g},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};V.JSONLoader=function(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),a=void 0);this.manager=void 0!==a?a:V.DefaultLoadingManager;this.withCredentials=!1};
V.JSONLoader.prototype={constructor:V.JSONLoader,get statusDomElement(){void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div"));console.warn("THREE.JSONLoader: .statusDomElement has been removed.");return this._statusDomElement},load:function(a,b,c,d){var e=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:jc(a),g=new V.XHRLoader(this.manager);g.withCredentials=this.withCredentials;g.load(a,function(c){c=JSON.parse(c);var d=c.metadata;if(void 0!==
d&&(d=d.type,void 0!==d)){if("object"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}c=e.parse(c,f);b(c.geometry,c.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(a,b){var c=new V.Geometry,d=void 0!==a.scale?1/a.scale:1;(function(b){var d,e,h,l=a.faces;var m=a.vertices;var n=
a.normals,q=a.colors,p=0;if(void 0!==a.uvs){for(d=0;d<a.uvs.length;d++)a.uvs[d].length&&p++;for(d=0;d<p;d++)c.faceVertexUvs[d]=[]}var t=0;for(h=m.length;t<h;)d=new V.Vector3,d.x=m[t++]*b,d.y=m[t++]*b,d.z=m[t++]*b,c.vertices.push(d);t=0;for(h=l.length;t<h;){b=l[t++];var r=b&1;var w=b&2;d=b&8;var v=b&16;var y=b&32;m=b&64;b&=128;if(r){r=new V.Face3;r.a=l[t];r.b=l[t+1];r.c=l[t+3];var x=new V.Face3;x.a=l[t+1];x.b=l[t+2];x.c=l[t+3];t+=4;w&&(w=l[t++],r.materialIndex=w,x.materialIndex=w);w=c.faces.length;
if(d)for(d=0;d<p;d++){var A=a.uvs[d];c.faceVertexUvs[d][w]=[];c.faceVertexUvs[d][w+1]=[];for(e=0;4>e;e++){var B=l[t++];var H=A[2*B];B=A[2*B+1];H=new V.Vector2(H,B);2!==e&&c.faceVertexUvs[d][w].push(H);0!==e&&c.faceVertexUvs[d][w+1].push(H)}}v&&(v=3*l[t++],r.normal.set(n[v++],n[v++],n[v]),x.normal.copy(r.normal));if(y)for(d=0;4>d;d++)v=3*l[t++],y=new V.Vector3(n[v++],n[v++],n[v]),2!==d&&r.vertexNormals.push(y),0!==d&&x.vertexNormals.push(y);m&&(m=l[t++],m=q[m],ub(r.color,m),ub(x.color,m));if(b)for(d=
0;4>d;d++)m=l[t++],m=q[m],2!==d&&r.vertexColors.push(new V.Color(m)),0!==d&&x.vertexColors.push(new V.Color(m));c.faces.push(r);c.faces.push(x)}else{r=new V.Face3;r.a=l[t++];r.b=l[t++];r.c=l[t++];w&&(w=l[t++],r.materialIndex=w);w=c.faces.length;if(d)for(d=0;d<p;d++)for(A=a.uvs[d],c.faceVertexUvs[d][w]=[],e=0;3>e;e++)B=l[t++],H=A[2*B],B=A[2*B+1],H=new V.Vector2(H,B),c.faceVertexUvs[d][w].push(H);v&&(v=3*l[t++],r.normal.set(n[v++],n[v++],n[v]));if(y)for(d=0;3>d;d++)v=3*l[t++],y=new V.Vector3(n[v++],
n[v++],n[v]),r.vertexNormals.push(y);m&&(m=l[t++],ub(r.color,q[m]));if(b)for(d=0;3>d;d++)m=l[t++],r.vertexColors.push(new V.Color(q[m]));c.faces.push(r)}}})(d);(function(){var b=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var d=0,g=a.skinWeights.length;d<g;d+=b)c.skinWeights.push(new V.Vector4(a.skinWeights[d],1<b?a.skinWeights[d+1]:0,2<b?a.skinWeights[d+2]:0,3<b?a.skinWeights[d+3]:0));if(a.skinIndices)for(d=0,g=a.skinIndices.length;d<g;d+=b)c.skinIndices.push(new V.Vector4(a.skinIndices[d],
1<b?a.skinIndices[d+1]:0,2<b?a.skinIndices[d+2]:0,3<b?a.skinIndices[d+3]:0));c.bones=a.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.")})();(function(b){if(void 0!==a.morphTargets)for(var d=0,e=a.morphTargets.length;d<e;d++){c.morphTargets[d]={};c.morphTargets[d].name=
a.morphTargets[d].name;c.morphTargets[d].vertices=[];for(var h=c.morphTargets[d].vertices,l=a.morphTargets[d].vertices,m=0,n=l.length;m<n;m+=3){var q=new V.Vector3;q.x=l[m]*b;q.y=l[m+1]*b;q.z=l[m+2]*b;h.push(q)}}if(void 0!==a.morphColors&&0<a.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),b=c.faces,h=a.morphColors[0].colors,d=0,e=b.length;d<e;d++)b[d].color.fromArray(h,3*d)})(d);(function(){var b=[],d=[];void 0!==a.animation&&
d.push(a.animation);void 0!==a.animations&&(a.animations.length?d=d.concat(a.animations):d.push(a.animations));for(var g=0;g<d.length;g++){var h=V.AnimationClip.parseAnimation(d[g],c.bones);h&&b.push(h)}c.morphTargets&&(d=V.AnimationClip.CreateClipsFromMorphTargetSequences(c.morphTargets,10),b=b.concat(d));0<b.length&&(c.animations=b)})();c.computeFaceNormals();c.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:c};b=ic(a.materials,b,this.crossOrigin);return{geometry:c,
materials:b}}};V.LoadingManager=function(a){var b=this,c=!1,d=0,e=0;this.onStart=void 0;this.onLoad=a;this.onError=this.onProgress=void 0;this.itemStart=function(a){e++;if(!1===c&&void 0!==b.onStart)b.onStart(a,d,e);c=!0};this.itemEnd=function(a){d++;if(void 0!==b.onProgress)b.onProgress(a,d,e);if(d===e&&(c=!1,void 0!==b.onLoad))b.onLoad()};this.itemError=function(a){if(void 0!==b.onError)b.onError(a)}};V.DefaultLoadingManager=new V.LoadingManager;
V.BufferGeometryLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.BufferGeometryLoader.prototype={constructor:V.BufferGeometryLoader,load:function(a,b,c,d){var e=this;(new V.XHRLoader(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=new V.BufferGeometry,c=a.data.index,d={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};void 0!==c&&(c=new d[c.type](c.array),
b.setIndex(new V.BufferAttribute(c,1)));var e=a.data.attributes;for(g in e){var f=e[g];c=new d[f.type](f.array);b.addAttribute(g,new V.BufferAttribute(c,f.itemSize,f.normalized))}d=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==d){var g=0;for(c=d.length;g!==c;++g)e=d[g],b.addGroup(e.start,e.count,e.materialIndex)}a=a.data.boundingSphere;void 0!==a&&(d=new V.Vector3,void 0!==a.center&&d.fromArray(a.center),b.boundingSphere=new V.Sphere(d,a.radius));return b}};
V.MaterialLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager;this.textures={}};
V.MaterialLoader.prototype={constructor:V.MaterialLoader,load:function(a,b,c,d){var e=this;(new V.XHRLoader(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=new V[a.type];void 0!==a.uuid&&(b.uuid=a.uuid);void 0!==a.name&&(b.name=a.name);void 0!==a.color&&ub(b.color,a.color);void 0!==a.roughness&&(b.roughness=a.roughness);void 0!==a.metalness&&(b.metalness=a.metalness);void 0!==a.emissive&&ub(b.emissive,a.emissive);void 0!==a.specular&&ub(b.specular,a.specular);
void 0!==a.shininess&&(b.shininess=a.shininess);void 0!==a.uniforms&&(b.uniforms=a.uniforms);void 0!==a.vertexShader&&(b.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(b.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(b.vertexColors=a.vertexColors);void 0!==a.shading&&(b.shading=a.shading);void 0!==a.blending&&(b.blending=a.blending);void 0!==a.side&&(b.side=a.side);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.transparent&&(b.transparent=a.transparent);void 0!==a.alphaTest&&
(b.alphaTest=a.alphaTest);void 0!==a.depthTest&&(b.depthTest=a.depthTest);void 0!==a.depthWrite&&(b.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(b.colorWrite=a.colorWrite);void 0!==a.wireframe&&(b.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(b.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.size&&(b.size=a.size);void 0!==a.sizeAttenuation&&(b.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(b.map=oc(this,a.map));void 0!==a.alphaMap&&(b.alphaMap=oc(this,a.alphaMap),b.transparent=
!0);void 0!==a.bumpMap&&(b.bumpMap=oc(this,a.bumpMap));void 0!==a.bumpScale&&(b.bumpScale=a.bumpScale);void 0!==a.normalMap&&(b.normalMap=oc(this,a.normalMap));if(void 0!==a.normalScale){var c=a.normalScale;!1===Array.isArray(c)&&(c=[c,c]);b.normalScale=(new V.Vector2).fromArray(c)}void 0!==a.displacementMap&&(b.displacementMap=oc(this,a.displacementMap));void 0!==a.displacementScale&&(b.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(b.displacementBias=a.displacementBias);void 0!==
a.roughnessMap&&(b.roughnessMap=oc(this,a.roughnessMap));void 0!==a.metalnessMap&&(b.metalnessMap=oc(this,a.metalnessMap));void 0!==a.emissiveMap&&(b.emissiveMap=oc(this,a.emissiveMap));void 0!==a.emissiveIntensity&&(b.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(b.specularMap=oc(this,a.specularMap));void 0!==a.envMap&&(b.envMap=oc(this,a.envMap),b.combine=V.MultiplyOperation);a.reflectivity&&(b.reflectivity=a.reflectivity);void 0!==a.lightMap&&(b.lightMap=oc(this,a.lightMap));
void 0!==a.lightMapIntensity&&(b.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(b.aoMap=oc(this,a.aoMap));void 0!==a.aoMapIntensity&&(b.aoMapIntensity=a.aoMapIntensity);if(void 0!==a.materials){c=0;for(var d=a.materials.length;c<d;c++)b.materials.push(this.parse(a.materials[c]))}return b}};function oc(a,b){a=a.textures;void 0===a[b]&&console.warn("THREE.MaterialLoader: Undefined texture",b);return a[b]}
V.ObjectLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager;this.texturePath=""};
V.ObjectLoader.prototype={constructor:V.ObjectLoader,load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;(new V.XHRLoader(e.manager)).load(a,function(a){e.parse(JSON.parse(a),b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=pc(this,a.geometries),d=qc(this,a.images,function(){void 0!==b&&b(e)});d=rc(a.textures,d);d=sc(a.materials,d);var e=this.parseObject(a.object,
c,d);a.animations&&(e.animations=tc(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseObject:function(){var a=new V.Matrix4;return function(b,c,d){function e(a){void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return c[a]}function f(a){if(void 0!==a)return void 0===d[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),d[a]}switch(b.type){case "Scene":var g=new V.Scene;break;case "PerspectiveCamera":g=new V.PerspectiveCamera(b.fov,
b.aspect,b.near,b.far);void 0!==b.focus&&(g.focus=b.focus);void 0!==b.zoom&&(g.zoom=b.zoom);void 0!==b.filmGauge&&(g.filmGauge=b.filmGauge);void 0!==b.filmOffset&&(g.filmOffset=b.filmOffset);void 0!==b.view&&(g.view=Object.assign({},b.view));break;case "OrthographicCamera":g=new V.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":g=new V.AmbientLight(b.color,b.intensity);break;case "DirectionalLight":g=new V.DirectionalLight(b.color,b.intensity);break;case "PointLight":g=
new V.PointLight(b.color,b.intensity,b.distance,b.decay);break;case "SpotLight":g=new V.SpotLight(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "HemisphereLight":g=new V.HemisphereLight(b.color,b.groundColor,b.intensity);break;case "Mesh":g=e(b.geometry);var h=f(b.material);g=g.bones&&0<g.bones.length?new V.SkinnedMesh(g,h):new V.Mesh(g,h);break;case "LOD":g=new V.LOD;break;case "Line":g=new V.Line(e(b.geometry),f(b.material),b.mode);break;case "PointCloud":case "Points":g=
new V.Points(e(b.geometry),f(b.material));break;case "Sprite":g=new V.Sprite(f(b.material));break;case "Group":g=new V.Group;break;default:g=new V.Object3D}g.uuid=b.uuid;void 0!==b.name&&(g.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(g.position,g.quaternion,g.scale)):(void 0!==b.position&&g.position.fromArray(b.position),void 0!==b.rotation&&g.rotation.fromArray(b.rotation),void 0!==b.scale&&g.scale.fromArray(b.scale));void 0!==b.castShadow&&(g.castShadow=b.castShadow);void 0!==
b.receiveShadow&&(g.receiveShadow=b.receiveShadow);void 0!==b.visible&&(g.visible=b.visible);void 0!==b.userData&&(g.userData=b.userData);if(void 0!==b.children)for(var l in b.children)g.add(this.parseObject(b.children[l],c,d));if("LOD"===b.type)for(b=b.levels,h=0;h<b.length;h++){var m=b[h];l=g.getObjectByProperty("uuid",m.object);void 0!==l&&g.addLevel(l,m.distance)}return g}}()};
function rc(a,b){function c(a){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a);return V[a]}var d={};if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var g=a[e];void 0===g.image&&console.warn('THREE.ObjectLoader: No "image" specified for',g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var h=new V.Texture(b[g.image]);h.needsUpdate=!0;h.uuid=g.uuid;void 0!==g.name&&(h.name=g.name);void 0!==g.mapping&&
(h.mapping=c(g.mapping));void 0!==g.offset&&(h.offset=new V.Vector2(g.offset[0],g.offset[1]));void 0!==g.repeat&&(h.repeat=new V.Vector2(g.repeat[0],g.repeat[1]));void 0!==g.minFilter&&(h.minFilter=c(g.minFilter));void 0!==g.magFilter&&(h.magFilter=c(g.magFilter));void 0!==g.anisotropy&&(h.anisotropy=g.anisotropy);Array.isArray(g.wrap)&&(h.wrapS=c(g.wrap[0]),h.wrapT=c(g.wrap[1]));d[g.uuid]=h}return d}
function qc(a,b,c){function d(a){e.manager.itemStart(a);return g.load(a,function(){e.manager.itemEnd(a)})}var e=a,f={};if(void 0!==b&&0<b.length){var g=new V.ImageLoader(new V.LoadingManager(c));g.setCrossOrigin(a.crossOrigin);a=0;for(c=b.length;a<c;a++){var h=b[a],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url)?h.url:e.texturePath+h.url;f[h.uuid]=d(l)}}return f}function tc(a){for(var b=[],c=0;c<a.length;c++){var d=V.AnimationClip.parse(a[c]);b.push(d)}return b}
function sc(a,b){var c={};if(void 0!==a){var d=new V.MaterialLoader;d.textures=b;b=0;for(var e=a.length;b<e;b++){var f=d.parse(a[b]);c[f.uuid]=f}}return c}
function pc(a,b){var c={};if(void 0!==b)for(var d=new V.JSONLoader,e=new V.BufferGeometryLoader,f=0,g=b.length;f<g;f++){var h=b[f];switch(h.type){case "PlaneGeometry":case "PlaneBufferGeometry":var l=new V[h.type](h.width,h.height,h.widthSegments,h.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":l=new V[h.type](h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":l=new V[h.type](h.radius,
h.segments,h.thetaStart,h.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":l=new V[h.type](h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":l=new V[h.type](h.radius,h.height,h.radialSegments,h.heightSegments,h.openEnded,h.thetaStart,h.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":l=new V[h.type](h.radius,h.widthSegments,h.heightSegments,h.phiStart,
h.phiLength,h.thetaStart,h.thetaLength);break;case "DodecahedronGeometry":case "IcosahedronGeometry":case "OctahedronGeometry":case "TetrahedronGeometry":l=new V[h.type](h.radius,h.detail);break;case "RingGeometry":case "RingBufferGeometry":l=new V[h.type](h.innerRadius,h.outerRadius,h.thetaSegments,h.phiSegments,h.thetaStart,h.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":l=new V[h.type](h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":l=
new V[h.type](h.radius,h.tube,h.tubularSegments,h.radialSegments,h.p,h.q);break;case "LatheGeometry":case "LatheBufferGeometry":l=new V[h.type](h.points,h.segments,h.phiStart,h.phiLength);break;case "BufferGeometry":l=e.parse(h);break;case "Geometry":l=d.parse(h.data,a.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+h.type+'"');continue}l.uuid=h.uuid;void 0!==h.name&&(l.name=h.name);c[h.uuid]=l}return c}
V.TextureLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};V.TextureLoader.prototype={constructor:V.TextureLoader,load:function(a,b,c,d){var e=new V.Texture,f=new V.ImageLoader(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);f.load(a,function(a){e.image=a;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};V.CubeTextureLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager};
V.CubeTextureLoader.prototype={constructor:V.CubeTextureLoader,load:function(a,b,c,d){function e(c){g.load(a[c],function(a){f.images[c]=a;h++;6===h&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new V.CubeTexture,g=new V.ImageLoader(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);var h=0;for(c=0;c<a.length;++c)e(c);return f},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};
V.DataTextureLoader=V.BinaryTextureLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager;this._parser=null};
V.BinaryTextureLoader.prototype={constructor:V.BinaryTextureLoader,load:function(a,b,c,d){var e=this,f=new V.DataTexture,g=new V.XHRLoader(this.manager);hc(g);g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:V.ClampToEdgeWrapping,f.wrapT=void 0!==a.wrapT?a.wrapT:V.ClampToEdgeWrapping,f.magFilter=void 0!==a.magFilter?a.magFilter:V.LinearFilter,f.minFilter=void 0!==
a.minFilter?a.minFilter:V.LinearMipMapLinearFilter,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=V.LinearFilter),f.needsUpdate=!0,b&&b(f,a)},c,d);return f}};V.CompressedTextureLoader=function(a){this.manager=void 0!==a?a:V.DefaultLoadingManager;this._parser=null};
V.CompressedTextureLoader.prototype={constructor:V.CompressedTextureLoader,load:function(a,b,c,d){function e(e){l.load(a[e],function(a){a=f._parser(a,!0);g[e]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};m+=1;6===m&&(1===a.mipmapCount&&(h.minFilter=V.LinearFilter),h.format=a.format,h.needsUpdate=!0,b&&b(h))},c,d)}var f=this,g=[],h=new V.CompressedTexture;h.image=g;var l=new V.XHRLoader(this.manager);l.setPath(this.path);hc(l);if(Array.isArray(a))for(var m=0,n=0,q=a.length;n<q;++n)e(n);
else l.load(a,function(a){a=f._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){g[d]={mipmaps:[]};for(var e=0;e<a.mipmapCount;e++)g[d].mipmaps.push(a.mipmaps[d*a.mipmapCount+e]),g[d].format=a.format,g[d].width=a.width,g[d].height=a.height}else h.image.width=a.width,h.image.height=a.height,h.mipmaps=a.mipmaps;1===a.mipmapCount&&(h.minFilter=V.LinearFilter);h.format=a.format;h.needsUpdate=!0;b&&b(h)},c,d);return h},setPath:function(a){this.path=a}};
V.Material=function(){Object.defineProperty(this,"id",{value:V.MaterialIdCount++});this.uuid=V.Math.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=V.NormalBlending;this.side=V.FrontSide;this.shading=V.SmoothShading;this.vertexColors=V.NoColors;this.opacity=1;this.transparent=!1;this.blendSrc=V.SrcAlphaFactor;this.blendDst=V.OneMinusSrcAlphaFactor;this.blendEquation=V.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=
V.LessEqualDepth;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.premultipliedAlpha=!1;this.overdraw=0;this._needsUpdate=this.visible=!0};
V.Material.prototype={constructor:V.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color instanceof V.Color&&(d.color=wb(this.color));
.5!==this.roughness&&(d.roughness=this.roughness);.5!==this.metalness&&(d.metalness=this.metalness);this.emissive instanceof V.Color&&(d.emissive=wb(this.emissive));this.specular instanceof V.Color&&(d.specular=wb(this.specular));void 0!==this.shininess&&(d.shininess=this.shininess);this.map instanceof V.Texture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap instanceof V.Texture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap instanceof V.Texture&&(d.lightMap=this.lightMap.toJSON(a).uuid);
this.bumpMap instanceof V.Texture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap instanceof V.Texture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap instanceof V.Texture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap instanceof V.Texture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap instanceof
V.Texture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap instanceof V.Texture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap instanceof V.Texture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap instanceof V.Texture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);this.blending!==V.NormalBlending&&(d.blending=this.blending);
this.shading!==V.SmoothShading&&(d.shading=this.shading);this.side!==V.FrontSide&&(d.side=this.side);this.vertexColors!==V.NoColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);
c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;
this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;a=a.clippingPlanes;var b=null;if(null!==
a){var c=a.length;b=Array(c);for(var d=0;d!==c;++d)b[d]=a[d].clone()}this.clippingPlanes=b;return this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};
function uc(a,b){if(void 0!==b)for(var c in b){var d=b[c];if(void 0===d)console.warn("THREE.Material: '"+c+"' parameter is undefined.");else{var e=a[c];void 0===e?console.warn("THREE."+a.type+": '"+c+"' is not a property of this material."):e instanceof V.Color?e.set(d):e instanceof V.Vector3&&d instanceof V.Vector3?e.copy(d):a[c]="overdraw"===c?Number(d):d}}}Object.assign(V.Material.prototype,V.EventDispatcher.prototype);V.MaterialIdCount=0;
V.LineBasicMaterial=function(a){V.Material.call(this);this.type="LineBasicMaterial";this.color=new V.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;uc(this,a)};V.LineBasicMaterial.prototype=Object.create(V.Material.prototype);V.LineBasicMaterial.prototype.constructor=V.LineBasicMaterial;
V.LineBasicMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};V.LineDashedMaterial=function(a){V.Material.call(this);this.type="LineDashedMaterial";this.color=new V.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;uc(this,a)};V.LineDashedMaterial.prototype=Object.create(V.Material.prototype);
V.LineDashedMaterial.prototype.constructor=V.LineDashedMaterial;V.LineDashedMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};
V.MeshBasicMaterial=function(a){V.Material.call(this);this.type="MeshBasicMaterial";this.color=new V.Color(16777215);this.aoMap=this.map=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=V.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;uc(this,a)};V.MeshBasicMaterial.prototype=Object.create(V.Material.prototype);
V.MeshBasicMaterial.prototype.constructor=V.MeshBasicMaterial;
V.MeshBasicMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};V.MeshDepthMaterial=function(a){V.Material.call(this);this.type="MeshDepthMaterial";this.depthPacking=V.BasicDepthPacking;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;uc(this,a)};V.MeshDepthMaterial.prototype=Object.create(V.Material.prototype);
V.MeshDepthMaterial.prototype.constructor=V.MeshDepthMaterial;V.MeshDepthMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
V.MeshLambertMaterial=function(a){V.Material.call(this);this.type="MeshLambertMaterial";this.color=new V.Color(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new V.Color(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=V.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";
this.morphNormals=this.morphTargets=this.skinning=!1;uc(this,a)};V.MeshLambertMaterial.prototype=Object.create(V.Material.prototype);V.MeshLambertMaterial.prototype.constructor=V.MeshLambertMaterial;
V.MeshLambertMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=
a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};V.MeshNormalMaterial=function(a){V.Material.call(this,a);this.type="MeshNormalMaterial";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=this.lights=this.fog=!1;uc(this,a)};V.MeshNormalMaterial.prototype=Object.create(V.Material.prototype);
V.MeshNormalMaterial.prototype.constructor=V.MeshNormalMaterial;V.MeshNormalMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
V.MeshPhongMaterial=function(a){V.Material.call(this);this.type="MeshPhongMaterial";this.color=new V.Color(16777215);this.specular=new V.Color(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new V.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new V.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=
this.alphaMap=this.specularMap=null;this.combine=V.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;uc(this,a)};V.MeshPhongMaterial.prototype=Object.create(V.Material.prototype);V.MeshPhongMaterial.prototype.constructor=V.MeshPhongMaterial;
V.MeshPhongMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;
this.morphNormals=a.morphNormals;return this};
V.MeshStandardMaterial=function(a){V.Material.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new V.Color(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new V.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new V.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=
0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;uc(this,a)};V.MeshStandardMaterial.prototype=Object.create(V.Material.prototype);V.MeshStandardMaterial.prototype.constructor=V.MeshStandardMaterial;
V.MeshStandardMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=
a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};V.MeshPhysicalMaterial=function(a){V.MeshStandardMaterial.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;uc(this,a)};V.MeshPhysicalMaterial.prototype=Object.create(V.MeshStandardMaterial.prototype);V.MeshPhysicalMaterial.prototype.constructor=V.MeshPhysicalMaterial;
V.MeshPhysicalMaterial.prototype.copy=function(a){V.MeshStandardMaterial.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;return this};V.MultiMaterial=function(a){this.uuid=V.Math.generateUUID();this.type="MultiMaterial";this.materials=a instanceof Array?a:[];this.visible=!0};
V.MultiMaterial.prototype={constructor:V.MultiMaterial,toJSON:function(a){for(var b={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},c=this.materials,d=0,e=c.length;d<e;d++){var f=c[d].toJSON(a);delete f.metadata;b.materials.push(f)}b.visible=this.visible;return b},clone:function(){for(var a=new this.constructor,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());a.visible=this.visible;return a}};
V.PointsMaterial=function(a){V.Material.call(this);this.type="PointsMaterial";this.color=new V.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;uc(this,a)};V.PointsMaterial.prototype=Object.create(V.Material.prototype);V.PointsMaterial.prototype.constructor=V.PointsMaterial;V.PointsMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};
V.ShaderMaterial=function(a){V.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,
drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),uc(this,a))};V.ShaderMaterial.prototype=Object.create(V.Material.prototype);V.ShaderMaterial.prototype.constructor=V.ShaderMaterial;
V.ShaderMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=V.UniformsUtils.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};
V.ShaderMaterial.prototype.toJSON=function(a){a=V.Material.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};V.RawShaderMaterial=function(a){V.ShaderMaterial.call(this,a);this.type="RawShaderMaterial"};V.RawShaderMaterial.prototype=Object.create(V.ShaderMaterial.prototype);V.RawShaderMaterial.prototype.constructor=V.RawShaderMaterial;
V.SpriteMaterial=function(a){V.Material.call(this);this.type="SpriteMaterial";this.color=new V.Color(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;uc(this,a)};V.SpriteMaterial.prototype=Object.create(V.Material.prototype);V.SpriteMaterial.prototype.constructor=V.SpriteMaterial;V.SpriteMaterial.prototype.copy=function(a){V.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return this};
V.ShadowMaterial=function(){V.ShaderMaterial.call(this,{uniforms:V.UniformsUtils.merge([V.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:V.ShaderChunk.shadow_vert,fragmentShader:V.ShaderChunk.shadow_frag});this.transparent=this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(a){this.uniforms.opacity.value=a}}})};V.ShadowMaterial.prototype=Object.create(V.ShaderMaterial.prototype);
V.ShadowMaterial.prototype.constructor=V.ShadowMaterial;
V.Texture=function(a,b,c,d,e,f,g,h,l,m){Object.defineProperty(this,"id",{value:V.TextureIdCount++});this.uuid=V.Math.generateUUID();this.sourceFile=this.name="";this.image=void 0!==a?a:V.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:V.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:V.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:V.ClampToEdgeWrapping;this.magFilter=void 0!==e?e:V.LinearFilter;this.minFilter=void 0!==f?f:V.LinearMipMapLinearFilter;this.anisotropy=void 0!==l?l:1;this.format=
void 0!==g?g:V.RGBAFormat;this.type=void 0!==h?h:V.UnsignedByteType;this.offset=new V.Vector2(0,0);this.repeat=new V.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:V.LinearEncoding;this.version=0;this.onUpdate=null};V.Texture.DEFAULT_IMAGE=void 0;V.Texture.DEFAULT_MAPPING=V.UVMapping;
V.Texture.prototype={constructor:V.Texture,set needsUpdate(a){!0===a&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=
a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){if(void 0!==a.textures[this.uuid])return a.textures[this.uuid];var b={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};
if(void 0!==this.image){var c=this.image;void 0===c.uuid&&(c.uuid=V.Math.generateUUID());if(void 0===a.images[c.uuid]){var d=a.images,e=c.uuid,f=c.uuid;if(void 0!==c.toDataURL)var g=c;else g=document.createElement("canvas"),g.width=c.width,g.height=c.height,g.getContext("2d").drawImage(c,0,0,c.width,c.height);g=2048<g.width||2048<g.height?g.toDataURL("image/jpeg",.6):g.toDataURL("image/png");d[e]={uuid:f,url:g}}b.image=c.uuid}return a.textures[this.uuid]=b},dispose:function(){this.dispatchEvent({type:"dispose"})},
transformUv:function(a){if(this.mapping===V.UVMapping){a.multiply(this.repeat);a.add(this.offset);if(0>a.x||1<a.x)switch(this.wrapS){case V.RepeatWrapping:a.x-=Math.floor(a.x);break;case V.ClampToEdgeWrapping:a.x=0>a.x?0:1;break;case V.MirroredRepeatWrapping:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case V.RepeatWrapping:a.y-=Math.floor(a.y);break;case V.ClampToEdgeWrapping:a.y=0>a.y?0:1;break;case V.MirroredRepeatWrapping:a.y=1===
Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}};Object.assign(V.Texture.prototype,V.EventDispatcher.prototype);V.TextureIdCount=0;V.DepthTexture=function(a,b,c,d,e,f,g,h,l){V.Texture.call(this,null,d,e,f,g,h,V.DepthFormat,c,l);this.image={width:a,height:b};this.type=void 0!==c?c:V.UnsignedShortType;this.magFilter=void 0!==g?g:V.NearestFilter;this.minFilter=void 0!==h?h:V.NearestFilter;this.generateMipmaps=this.flipY=!1};V.DepthTexture.prototype=Object.create(V.Texture.prototype);
V.DepthTexture.prototype.constructor=V.DepthTexture;V.CanvasTexture=function(a,b,c,d,e,f,g,h,l){V.Texture.call(this,a,b,c,d,e,f,g,h,l);this.needsUpdate=!0};V.CanvasTexture.prototype=Object.create(V.Texture.prototype);V.CanvasTexture.prototype.constructor=V.CanvasTexture;V.CubeTexture=function(a,b,c,d,e,f,g,h,l,m){a=void 0!==a?a:[];b=void 0!==b?b:V.CubeReflectionMapping;V.Texture.call(this,a,b,c,d,e,f,g,h,l,m);this.flipY=!1};V.CubeTexture.prototype=Object.create(V.Texture.prototype);
V.CubeTexture.prototype.constructor=V.CubeTexture;Object.defineProperty(V.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});V.CompressedTexture=function(a,b,c,d,e,f,g,h,l,m,n,q){V.Texture.call(this,null,f,g,h,l,m,d,e,n,q);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1};V.CompressedTexture.prototype=Object.create(V.Texture.prototype);V.CompressedTexture.prototype.constructor=V.CompressedTexture;
V.DataTexture=function(a,b,c,d,e,f,g,h,l,m,n,q){V.Texture.call(this,null,f,g,h,l,m,d,e,n,q);this.image={data:a,width:b,height:c};this.magFilter=void 0!==l?l:V.NearestFilter;this.minFilter=void 0!==m?m:V.NearestFilter;this.generateMipmaps=this.flipY=!1};V.DataTexture.prototype=Object.create(V.Texture.prototype);V.DataTexture.prototype.constructor=V.DataTexture;
V.VideoTexture=function(a,b,c,d,e,f,g,h,l){function m(){requestAnimationFrame(m);a.readyState>=a.HAVE_CURRENT_DATA&&(n.needsUpdate=!0)}V.Texture.call(this,a,b,c,d,e,f,g,h,l);this.generateMipmaps=!1;var n=this;m()};V.VideoTexture.prototype=Object.create(V.Texture.prototype);V.VideoTexture.prototype.constructor=V.VideoTexture;V.Group=function(){V.Object3D.call(this);this.type="Group"};V.Group.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Group});
V.Points=function(a,b){V.Object3D.call(this);this.type="Points";this.geometry=void 0!==a?a:new V.BufferGeometry;this.material=void 0!==b?b:new V.PointsMaterial({color:16777215*Math.random()})};
V.Points.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Points,raycast:function(){var a=new V.Matrix4,b=new V.Ray,c=new V.Sphere;return function(d,e){function f(a,c){var f=b.distanceSqToPoint(a);if(f<n){a=b.closestPointToPoint(a);a.applyMatrix4(l);var h=d.ray.origin.distanceTo(a);h<d.near||h>d.far||e.push({distance:h,distanceToRay:Math.sqrt(f),point:a.clone(),index:c,face:null,object:g})}}var g=this,h=this.geometry,l=this.matrixWorld,m=d.params.Points.threshold;null===
h.boundingSphere&&h.computeBoundingSphere();c.copy(h.boundingSphere);c.applyMatrix4(l);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(l);b.copy(d.ray).applyMatrix4(a);m/=(this.scale.x+this.scale.y+this.scale.z)/3;var n=m*m;m=new V.Vector3;if(h instanceof V.BufferGeometry){var q=h.index;h=h.attributes.position.array;if(null!==q){var p=q.array;q=0;for(var t=p.length;q<t;q++){var r=p[q];m.fromArray(h,3*r);f(m,r)}}else for(q=0,p=h.length/3;q<p;q++)m.fromArray(h,3*q),f(m,q)}else for(m=h.vertices,q=0,
p=m.length;q<p;q++)f(m[q],q)}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});V.Line=function(a,b,c){if(1===c)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new V.LineSegments(a,b);V.Object3D.call(this);this.type="Line";this.geometry=void 0!==a?a:new V.BufferGeometry;this.material=void 0!==b?b:new V.LineBasicMaterial({color:16777215*Math.random()})};
V.Line.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Line,raycast:function(){var a=new V.Matrix4,b=new V.Ray,c=new V.Sphere;return function(d,e){var f=d.linePrecision;f*=f;var g=this.geometry,h=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(h);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(h);b.copy(d.ray).applyMatrix4(a);var l=new V.Vector3,m=new V.Vector3;h=new V.Vector3;var n=new V.Vector3,q=this instanceof
V.LineSegments?2:1;if(g instanceof V.BufferGeometry){var p=g.index,t=g.attributes.position.array;if(null!==p){p=p.array;g=0;for(var r=p.length-1;g<r;g+=q){var w=p[g+1];l.fromArray(t,3*p[g]);m.fromArray(t,3*w);w=b.distanceSqToSegment(l,m,n,h);w>f||(n.applyMatrix4(this.matrixWorld),w=d.ray.origin.distanceTo(n),w<d.near||w>d.far||e.push({distance:w,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}else for(g=0,r=t.length/3-1;g<r;g+=q)l.fromArray(t,3*g),m.fromArray(t,
3*g+3),w=b.distanceSqToSegment(l,m,n,h),w>f||(n.applyMatrix4(this.matrixWorld),w=d.ray.origin.distanceTo(n),w<d.near||w>d.far||e.push({distance:w,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g instanceof V.Geometry)for(l=g.vertices,m=l.length,g=0;g<m-1;g+=q)w=b.distanceSqToSegment(l[g],l[g+1],n,h),w>f||(n.applyMatrix4(this.matrixWorld),w=d.ray.origin.distanceTo(n),w<d.near||w>d.far||e.push({distance:w,point:h.clone().applyMatrix4(this.matrixWorld),
index:g,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});V.LineSegments=function(a,b){V.Line.call(this,a,b);this.type="LineSegments"};V.LineSegments.prototype=Object.assign(Object.create(V.Line.prototype),{constructor:V.LineSegments});
V.Mesh=function(a,b){V.Object3D.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new V.BufferGeometry;this.material=void 0!==b?b:new V.MeshBasicMaterial({color:16777215*Math.random()});this.drawMode=V.TrianglesDrawMode;this.updateMorphTargets()};
V.Mesh.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Mesh,setDrawMode:function(a){this.drawMode=a},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}},getMorphTargetIndexByName:function(a){if(void 0!==
this.morphTargetDictionary[a])return this.morphTargetDictionary[a];console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0},raycast:function(){function a(a,b,c,d,e,f,g){V.Triangle.barycoordFromPoint(a,b,c,d,w);e.multiplyScalar(w.x);f.multiplyScalar(w.y);g.multiplyScalar(w.z);e.add(f).add(g);return e.clone()}function b(a,b,c,d,e,f,g){var h=a.material;if(null===(h.side===V.BackSide?c.intersectTriangle(f,e,d,!0,g):c.intersectTriangle(d,e,f,h.side!==
V.DoubleSide,g)))return null;y.copy(g);y.applyMatrix4(a.matrixWorld);c=b.ray.origin.distanceTo(y);return c<b.near||c>b.far?null:{distance:c,point:y.clone(),object:a}}function c(c,d,e,f,m,n,q,w){g.fromArray(f,3*n);h.fromArray(f,3*q);l.fromArray(f,3*w);if(c=b(c,d,e,g,h,l,v))m&&(p.fromArray(m,2*n),t.fromArray(m,2*q),r.fromArray(m,2*w),c.uv=a(v,g,h,l,p,t,r)),c.face=new V.Face3(n,q,w,V.Triangle.normal(g,h,l)),c.faceIndex=n;return c}var d=new V.Matrix4,e=new V.Ray,f=new V.Sphere,g=new V.Vector3,h=new V.Vector3,
l=new V.Vector3,m=new V.Vector3,n=new V.Vector3,q=new V.Vector3,p=new V.Vector2,t=new V.Vector2,r=new V.Vector2,w=new V.Vector3,v=new V.Vector3,y=new V.Vector3;return function(w,y){var x=this.geometry,A=this.material,E=this.matrixWorld;if(void 0!==A&&(null===x.boundingSphere&&x.computeBoundingSphere(),f.copy(x.boundingSphere),f.applyMatrix4(E),!1!==w.ray.intersectsSphere(f)&&(d.getInverse(E),e.copy(w.ray).applyMatrix4(d),null===x.boundingBox||!1!==e.intersectsBox(x.boundingBox)))){var I;if(x instanceof
V.BufferGeometry){A=x.index;E=x.attributes;x=E.position.array;if(void 0!==E.uv)var D=E.uv.array;if(null!==A){E=A.array;for(var C=0,F=E.length;C<F;C+=3){A=E[C];var J=E[C+1];var K=E[C+2];if(I=c(this,w,e,x,D,A,J,K))I.faceIndex=Math.floor(C/3),y.push(I)}}else for(C=0,F=x.length;C<F;C+=9)if(A=C/3,J=A+1,K=A+2,I=c(this,w,e,x,D,A,J,K))I.index=A,y.push(I)}else if(x instanceof V.Geometry){E=A instanceof V.MultiMaterial;C=!0===E?A.materials:null;F=x.vertices;J=x.faces;K=x.faceVertexUvs[0];0<K.length&&(D=K);
for(var S=0,O=J.length;S<O;S++){var M=J[S];I=!0===E?C[M.materialIndex]:A;if(void 0!==I){K=F[M.a];var P=F[M.b];var Q=F[M.c];if(!0===I.morphTargets){I=x.morphTargets;var N=this.morphTargetInfluences;g.set(0,0,0);h.set(0,0,0);l.set(0,0,0);for(var U=0,T=I.length;U<T;U++){var fa=N[U];if(0!==fa){var Da=I[U].vertices;g.addScaledVector(m.subVectors(Da[M.a],K),fa);h.addScaledVector(n.subVectors(Da[M.b],P),fa);l.addScaledVector(q.subVectors(Da[M.c],Q),fa)}}g.add(K);h.add(P);l.add(Q);K=g;P=h;Q=l}if(I=b(this,
w,e,K,P,Q,v))D&&(N=D[S],p.copy(N[0]),t.copy(N[1]),r.copy(N[2]),I.uv=a(v,K,P,Q,p,t,r)),I.face=M,I.faceIndex=S,y.push(I)}}}}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});V.Bone=function(a){V.Object3D.call(this);this.type="Bone";this.skin=a};V.Bone.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Bone,copy:function(a){V.Object3D.prototype.copy.call(this,a);this.skin=a.skin;return this}});
V.Skeleton=function(a,b,c){this.useVertexTexture=void 0!==c?c:!0;this.identityMatrix=new V.Matrix4;a=a||[];this.bones=a.slice(0);this.useVertexTexture?(a=Math.sqrt(4*this.bones.length),a=V.Math.nextPowerOfTwo(Math.ceil(a)),this.boneTextureHeight=this.boneTextureWidth=a=Math.max(a,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new V.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,V.RGBAFormat,V.FloatType)):this.boneMatrices=
new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],b=0,a=this.bones.length;b<a;b++)this.boneInverses.push(new V.Matrix4)};
Object.assign(V.Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new V.Matrix4;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){for(var a,b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),
a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){var a=new V.Matrix4;return function(){for(var b=0,c=this.bones.length;b<c;b++)Cb(a,this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix,this.boneInverses[b]),a.toArray(this.boneMatrices,16*b);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new V.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}});
V.SkinnedMesh=function(a,b,c){V.Mesh.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new V.Matrix4;this.bindMatrixInverse=new V.Matrix4;a=[];if(this.geometry&&void 0!==this.geometry.bones){for(var d,e=0,f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],b=new V.Bone(this),a.push(b),b.name=d.name,b.position.fromArray(d.pos),b.quaternion.fromArray(d.rotq),void 0!==d.scl&&b.scale.fromArray(d.scl);e=0;for(f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],
-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[e]):this.add(a[e])}this.normalizeSkinWeights();this.updateMatrixWorld(!0);this.bind(new V.Skeleton(a,void 0,c),this.matrixWorld)};
V.SkinnedMesh.prototype=Object.assign(Object.create(V.Mesh.prototype),{constructor:V.SkinnedMesh,bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof V.Geometry)for(var a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a],c=1/b.lengthManhattan();
Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0)}else if(this.geometry instanceof V.BufferGeometry){b=new V.Vector4;var d=this.geometry.attributes.skinWeight;for(a=0;a<d.count;a++)b.x=d.getX(a),b.y=d.getY(a),b.z=d.getZ(a),b.w=d.getW(a),c=1/b.lengthManhattan(),Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)}},updateMatrixWorld:function(){V.Mesh.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===
this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material,this.useVertexTexture)).copy(this)}});V.LOD=function(){V.Object3D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})};
V.LOD.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.LOD,copy:function(a){V.Object3D.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);
return b[c-1].object},raycast:function(){var a=new V.Vector3;return function(b,c){Fb(a,this.matrixWorld);this.getObjectForDistance(b.ray.origin.distanceTo(a)).raycast(b,c)}}(),update:function(){var a=new V.Vector3,b=new V.Vector3;return function(c){var d=this.levels;if(1<d.length){Fb(a,c.matrixWorld);Fb(b,this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,f=d.length;e<f;e++)if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;for(;e<f;e++)d[e].object.visible=
!1}}}(),toJSON:function(a){a=V.Object3D.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});V.Sprite=function(a){V.Object3D.call(this);this.type="Sprite";this.material=void 0!==a?a:new V.SpriteMaterial};
V.Sprite.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.Sprite,raycast:function(){var a=new V.Vector3;return function(b,c){Fb(a,this.matrixWorld);b=b.ray.distanceSqToPoint(a);b>this.scale.x*this.scale.y/4||c.push({distance:Math.sqrt(b),point:this.position,face:null,object:this})}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});
V.LensFlare=function(a,b,c,d,e){V.Object3D.call(this);this.lensFlares=[];this.positionScreen=new V.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)};
V.LensFlare.prototype=Object.assign(Object.create(V.Object3D.prototype),{constructor:V.LensFlare,copy:function(a){V.Object3D.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var b=0,c=a.lensFlares.length;b<c;b++)this.lensFlares.push(a.lensFlares[b]);return this},add:function(a,b,c,d,e,f){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===f&&(f=1);void 0===e&&(e=new V.Color(16777215));void 0===d&&(d=V.NormalBlending);c=Math.min(c,
Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:0,opacity:f,color:e,blending:d})},updateLensFlares:function(){var a,b=this.lensFlares.length,c=2*-this.positionScreen.x,d=2*-this.positionScreen.y;for(a=0;a<b;a++){var e=this.lensFlares[a];e.x=this.positionScreen.x+c*e.distance;e.y=this.positionScreen.y+d*e.distance;e.wantedRotation=e.x*Math.PI*.25;e.rotation+=.25*(e.wantedRotation-e.rotation)}}});
V.Scene=function(){V.Object3D.call(this);this.type="Scene";this.overrideMaterial=this.fog=null;this.autoUpdate=!0};V.Scene.prototype=Object.create(V.Object3D.prototype);V.Scene.prototype.constructor=V.Scene;V.Scene.prototype.copy=function(a,b){V.Object3D.prototype.copy.call(this,a,b);null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this};
V.Fog=function(a,b,c){this.name="";this.color=new V.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};V.Fog.prototype.clone=function(){return new V.Fog(wb(this.color),this.near,this.far)};V.FogExp2=function(a,b){this.name="";this.color=new V.Color(a);this.density=void 0!==b?b:2.5E-4};V.FogExp2.prototype.clone=function(){return new V.FogExp2(wb(this.color),this.density)};V.ShaderChunk={};V.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vUv ).g;\n#endif\n";
V.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";V.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a \x3c ALPHATEST ) discard;\n#endif\n";V.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\t\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";
V.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";V.ShaderChunk.begin_vertex="\nvec3 transformed \x3d vec3( position );\n";V.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal \x3d vec3( normal );\n";V.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance \x3d\x3d 0.0, lightDistance \x3c cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent \x3e 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor \x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel \x3d exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gl \x3d dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv \x3d dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL \x3d saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D \x3d D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB \x3d vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";
V.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vUv );\n\t\tvec2 dSTdy \x3d dFdy( vUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX \x3d dFdx( surf_pos );\n\t\tvec3 vSigmaY \x3d dFdy( surf_pos );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 );\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";
V.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane \x3d clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) \x3e plane.w ) discard;\n\t}\n#endif\n";V.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\t#if ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";
V.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";V.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n";V.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *\x3d vColor;\n#endif";V.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";
V.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";V.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz \x3d color.xyz;\n#endif";V.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance \x3d dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";
V.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection \x3d abs(direction);\n\tint face \x3d -1;\n\tif( absDirection.x \x3e absDirection.z ) {\n\t\tif(absDirection.x \x3e absDirection.y )\n\t\t\tface \x3d direction.x \x3e 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z \x3e absDirection.y )\n\t\t\tface \x3d direction.z \x3e 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale \x3d exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness \x3d dFdx(roughness);\n\tfloat dyRoughness \x3d dFdy(roughness);\n\tvec3 dx \x3d dFdx( vec * scale * dxRoughness );\n\tvec3 dy \x3d dFdy( vec * scale * dyRoughness );\n\tfloat d \x3d max( dot( dx, dx ), dot( dy, dy ) );\n\td \x3d clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel \x3d 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel \x3d roughnessLevel \x3e cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a \x3d 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed \x3d exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed \x3d vec2( 1.0 ) / exp2_packed;\n\tfloat powScale \x3d exp2_packed.x * exp2_packed.y;\n\tfloat scale \x3d rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset \x3d 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes \x3d mipLevel \x3d\x3d 0.0;\n\tscale \x3d  bRes \x26\x26 (scale \x3c a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face \x3d getFaceFromDirection(direction);\n\tfloat rcpPowScale \x3d 1.0 / powScale;\n\tif( face \x3d\x3d 0) {\n\t\tr \x3d vec3(direction.x, -direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 1) {\n\t\tr \x3d vec3(direction.y, direction.x, direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 2) {\n\t\tr \x3d vec3(direction.z, direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 3) {\n\t\tr \x3d vec3(direction.x, direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face \x3d\x3d 4) {\n\t\tr \x3d vec3(direction.y, direction.x, -direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr \x3d vec3(direction.z, -direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr \x3d normalize(r);\n\tfloat texelOffset \x3d 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s \x3d ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base \x3d offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal \x3d roughness* cubeUV_maxLods3;\n\tfloat r1 \x3d floor(roughnessVal);\n\tfloat r2 \x3d r1 + 1.0;\n\tfloat t \x3d fract(roughnessVal);\n\tvec2 mipInfo \x3d MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s \x3d mipInfo.y;\n\tfloat level0 \x3d mipInfo.x;\n\tfloat level1 \x3d level0 + 1.0;\n\tlevel1 \x3d level1 \x3e 5.0 ? 5.0 : level1;\n\tlevel0 +\x3d min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 \x3d getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 \x3d envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 \x3d getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 \x3d envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result \x3d mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";
V.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal \x3d -objectNormal;\n#endif\nvec3 transformedNormal \x3d normalMatrix * objectNormal;\n";V.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";V.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";
V.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vUv );\n\temissiveColor.rgb \x3d emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif\n";V.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";V.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent \x3d max( max( value.r, value.g ), value.b );\n  float fExp \x3d clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n  float M      \x3d clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            \x3d ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n    float D      \x3d max( maxRange / maxRGB, 1.0 );\n    D            \x3d min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM \x3d mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp \x3d value.rgb * cLogLuvM;\n  Xp_Y_XYZp \x3d max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy \x3d Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le \x3d 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w \x3d fract(Le);\n  vResult.z \x3d (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM \x3d mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le \x3d value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y \x3d exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z \x3d Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x \x3d value.x * Xp_Y_XYZp.z;\n  vec3 vRGB \x3d Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";
V.ShaderChunk.encodings_fragment="  gl_FragColor \x3d linearToOutputTexel( gl_FragColor );\n";V.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex \x3d normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal \x3d 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor \x3d texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor \x3d envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";
V.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) \x26\x26 ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
V.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";V.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";
V.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth \x3d gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";
V.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";V.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse +\x3d PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";V.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";
V.ShaderChunk.lights_lambert_vertex="vec3 diffuse \x3d vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position \x3d mvPosition.xyz;\ngeometry.normal \x3d normalize( transformedNormal );\ngeometry.viewDir \x3d normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position \x3d geometry.position;\nbackGeometry.normal \x3d -geometry.normal;\nbackGeometry.viewDir \x3d geometry.viewDir;\nvLightFront \x3d vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack \x3d vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";
V.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color \x3d directionalLight.color;\n\t\tdirectLight.direction \x3d directionalLight.direction;\n\t\tdirectLight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector \x3d pointLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color \x3d pointLight.color;\n\t\t\tdirectLight.color *\x3d punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector \x3d spotLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tfloat angleCos \x3d dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos \x3e spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect \x3d smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color \x3d spotLight.color;\n\t\t\tdirectLight.color *\x3d spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL \x3d dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *\x3d PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\tvec3 worldNormal \x3d inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor \x3d vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar \x3d float( maxMIPLevel );\n\t\tfloat desiredMIPLevel \x3d maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel \x3d getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";
V.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;\n";V.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";
V.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness \x3d clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n";V.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular +\x3d radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";
V.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position \x3d - vViewPosition;\ngeometry.normal \x3d normal;\ngeometry.viewDir \x3d normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance \x3d texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *\x3d PI;\n\t\t#endif\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance +\x3d getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n";
V.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) \x26\x26 defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT \x3d log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";V.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";V.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";
V.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z \x3d log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth \x3d 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z \x3d (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n";V.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor \x3d texture2D( map, vUv );\n\ttexelColor \x3d mapTexelToLinear( texelColor );\n\tdiffuseColor *\x3d texelColor;\n#endif\n";
V.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";V.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel \x3d texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *\x3d mapTexelToLinear( mapTexel );\n#endif\n";V.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n";V.ShaderChunk.metalnessmap_fragment="float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vUv );\n\tmetalnessFactor *\x3d texelMetalness.r;\n#endif\n";
V.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";V.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal +\x3d ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal +\x3d ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal +\x3d ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal +\x3d ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";
V.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";V.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed +\x3d ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed +\x3d ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed +\x3d ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed +\x3d ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed +\x3d ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed +\x3d ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed +\x3d ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed +\x3d ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";
V.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx \x3d vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy \x3d vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal \x3d perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";
V.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( vUv.st );\n\t\tvec2 st1 \x3d dFdy( vUv.st );\n\t\tvec3 S \x3d normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T \x3d normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N \x3d normalize( surf_norm );\n\t\tvec3 mapN \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy \x3d normalScale * mapN.xy;\n\t\tmat3 tsn \x3d mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";
V.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;\nconst vec3 PackFactors \x3d vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors \x3d UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 \x3d 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r \x3d vec4( fract( v * PackFactors ), v );\n\tr.yzw -\x3d r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";
V.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif\n";V.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition \x3d modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position \x3d projectionMatrix * mvPosition;\n";V.ShaderChunk.roughnessmap_fragment="float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vUv );\n\troughnessFactor *\x3d texelRoughness.r;\n#endif\n";
V.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";V.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset \x3d vec2( 0.0, 1.0 );\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / size;\n\t\tvec2 centroidUV \x3d floor( uv * size + 0.5 ) / size;\n\t\tfloat lb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f \x3d fract( uv * size + 0.5 );\n\t\tfloat a \x3d mix( lb, lt, f.y );\n\t\tfloat b \x3d mix( rb, rt, f.y );\n\t\tfloat c \x3d mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbvec4 inFrustumVec \x3d bvec4 ( shadowCoord.x \x3e\x3d 0.0, shadowCoord.x \x3c\x3d 1.0, shadowCoord.y \x3e\x3d 0.0, shadowCoord.y \x3c\x3d 1.0 );\n\t\tbool inFrustum \x3d all( inFrustumVec );\n\t\tbvec2 frustumTestVec \x3d bvec2( inFrustum, shadowCoord.z \x3c\x3d 1.0 );\n\t\tbool frustumTest \x3d all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\tfloat dp \x3d ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
V.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";
V.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] \x3d spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";
V.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tshadow *\x3d bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tshadow *\x3d bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tshadow *\x3d bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";
V.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif";V.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j \x3d i * 4.0;\n\t\t\tfloat x \x3d mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y \x3d floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx \x3d 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy \x3d 1.0 / float( boneTextureHeight );\n\t\t\ty \x3d dy * ( y + 0.5 );\n\t\t\tvec4 v1 \x3d texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 \x3d texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 \x3d texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 \x3d texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone \x3d mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone \x3d boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";
V.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\tskinned  \x3d bindMatrixInverse * skinned;\n#endif\n";V.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix  \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";
V.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif";V.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";V.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif\n";
V.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  color \x3d max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";
V.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";V.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";V.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 \x3d uv2;\n#endif";V.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
V.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n";V.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv \x3d uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";
V.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition \x3d modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition \x3d modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n";
V.UniformsUtils={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d)b[e]=d[e]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];b[c][d]=e instanceof V.Color||e instanceof V.Vector2||e instanceof V.Vector3||e instanceof V.Vector4||e instanceof V.Matrix3||e instanceof V.Matrix4||e instanceof V.Texture?e.clone():Array.isArray(e)?e.slice():e}}return b}};
V.UniformsLib={common:{diffuse:{type:"c",value:new V.Color(15658734)},opacity:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new V.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"1f",value:-1},reflectivity:{type:"1f",value:1},refractionRatio:{type:"1f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"1f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"1f",
value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"1f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new V.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"1f",value:1},displacementBias:{type:"1f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"1f",value:2.5E-4},fogNear:{type:"1f",
value:1},fogFar:{type:"1f",value:2E3},fogColor:{type:"c",value:new V.Color(16777215)}},lights:{ambientLightColor:{type:"3fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},
distance:{type:"1f"},coneCos:{type:"1f"},penumbraCos:{type:"1f"},decay:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"1f"},distance:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},
pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new V.Color(15658734)},opacity:{type:"1f",value:1},size:{type:"1f",value:1},scale:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new V.Vector4(0,0,1,1)}}};V.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
V.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";V.ShaderChunk.depth_frag="#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";
V.ShaderChunk.depth_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
V.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";V.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition;\n}\n";
V.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 direction \x3d normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y \x3d saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x \x3d atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
V.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";V.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\tvLineDistance \x3d scale * lineDistance;\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
V.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse \x3d vec3( 0.0 );\n\treflectedLight.directSpecular \x3d vec3( 0.0 );\n\treflectedLight.indirectDiffuse \x3d diffuseColor.rgb;\n\treflectedLight.indirectSpecular \x3d vec3( 0.0 );\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.meshbasic_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_ENVMAP\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n}\n";
V.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\treflectedLight.indirectDiffuse \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#include \x3clightmap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse \x3d ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse \x3d vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3clights_lambert_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( vNormal ), opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";V.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvNormal \x3d normalize( normalMatrix * normal );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
V.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
V.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize \x3d size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize \x3d size;\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderChunk.shadow_frag="uniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n";V.ShaderChunk.shadow_vert="#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
V.ShaderLib={basic:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.aomap,V.UniformsLib.fog]),vertexShader:V.ShaderChunk.meshbasic_vert,fragmentShader:V.ShaderChunk.meshbasic_frag},lambert:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.aomap,V.UniformsLib.lightmap,V.UniformsLib.emissivemap,V.UniformsLib.fog,V.UniformsLib.lights,{emissive:{type:"c",value:new V.Color(0)}}]),vertexShader:V.ShaderChunk.meshlambert_vert,fragmentShader:V.ShaderChunk.meshlambert_frag},
phong:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.aomap,V.UniformsLib.lightmap,V.UniformsLib.emissivemap,V.UniformsLib.bumpmap,V.UniformsLib.normalmap,V.UniformsLib.displacementmap,V.UniformsLib.fog,V.UniformsLib.lights,{emissive:{type:"c",value:new V.Color(0)},specular:{type:"c",value:new V.Color(1118481)},shininess:{type:"1f",value:30}}]),vertexShader:V.ShaderChunk.meshphong_vert,fragmentShader:V.ShaderChunk.meshphong_frag},standard:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,
V.UniformsLib.aomap,V.UniformsLib.lightmap,V.UniformsLib.emissivemap,V.UniformsLib.bumpmap,V.UniformsLib.normalmap,V.UniformsLib.displacementmap,V.UniformsLib.roughnessmap,V.UniformsLib.metalnessmap,V.UniformsLib.fog,V.UniformsLib.lights,{emissive:{type:"c",value:new V.Color(0)},roughness:{type:"1f",value:.5},metalness:{type:"1f",value:0},envMapIntensity:{type:"1f",value:1}}]),vertexShader:V.ShaderChunk.meshphysical_vert,fragmentShader:V.ShaderChunk.meshphysical_frag},points:{uniforms:V.UniformsUtils.merge([V.UniformsLib.points,
V.UniformsLib.fog]),vertexShader:V.ShaderChunk.points_vert,fragmentShader:V.ShaderChunk.points_frag},dashed:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.fog,{scale:{type:"1f",value:1},dashSize:{type:"1f",value:1},totalSize:{type:"1f",value:2}}]),vertexShader:V.ShaderChunk.linedashed_vert,fragmentShader:V.ShaderChunk.linedashed_frag},depth:{uniforms:V.UniformsUtils.merge([V.UniformsLib.common,V.UniformsLib.displacementmap]),vertexShader:V.ShaderChunk.depth_vert,fragmentShader:V.ShaderChunk.depth_frag},
normal:{uniforms:{opacity:{type:"1f",value:1}},vertexShader:V.ShaderChunk.normal_vert,fragmentShader:V.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:V.ShaderChunk.cube_vert,fragmentShader:V.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:V.ShaderChunk.equirect_vert,fragmentShader:V.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new V.Vector3}},
vertexShader:V.ShaderChunk.distanceRGBA_vert,fragmentShader:V.ShaderChunk.distanceRGBA_frag}};V.ShaderLib.physical={uniforms:V.UniformsUtils.merge([V.ShaderLib.standard.uniforms,{}]),vertexShader:V.ShaderChunk.meshphysical_vert,fragmentShader:V.ShaderChunk.meshphysical_frag};
V.WebGLRenderer=function(a){function b(a,b,c,d){!0===P&&(a*=d,b*=d,c*=d);R.clearColor(a,b,c,d)}function c(){R.init();R.scissor(Jd.copy(Ae).multiplyScalar(rb));R.viewport(gd.copy(kd).multiplyScalar(rb));b(pb.r,pb.g,pb.b,Ec)}function d(){mc=kc=null;fd="";eb=-1;R.reset()}function e(a){a.preventDefault();d();c();la.clear()}function f(a){a=a.target;a.removeEventListener("dispose",f);a:{var b=la.get(a);if(a.image&&b.__image__webglTextureCube)z.deleteTexture(b.__image__webglTextureCube);else{if(void 0===
b.__webglInit)break a;z.deleteTexture(b.__webglTexture)}la.delete(a)}Ic.textures--}function g(a){a=a.target;a.removeEventListener("dispose",g);var b=la.get(a),c=la.get(a.texture);if(a){void 0!==c.__webglTexture&&z.deleteTexture(c.__webglTexture);a.depthTexture&&a.depthTexture.dispose();if(a instanceof V.WebGLRenderTargetCube)for(c=0;6>c;c++)z.deleteFramebuffer(b.__webglFramebuffer[c]),b.__webglDepthbuffer&&z.deleteRenderbuffer(b.__webglDepthbuffer[c]);else z.deleteFramebuffer(b.__webglFramebuffer),
b.__webglDepthbuffer&&z.deleteRenderbuffer(b.__webglDepthbuffer);la.delete(a.texture);la.delete(a)}Ic.textures--}function h(a){a=a.target;a.removeEventListener("dispose",h);l(a);la.delete(a)}function l(a){var b=la.get(a).program;a.program=void 0;void 0!==b&&ld.releaseProgram(b)}function m(a,b){return Math.abs(b[0])-Math.abs(a[0])}function n(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==
b.z?a.z-b.z:a.id-b.id}function q(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function p(a,b,c,d,e){if(c.transparent){d=fa;var f=++Da}else d=U,f=++T;f=d[f];void 0!==f?(f.id=a.id,f.object=a,f.geometry=b,f.material=c,f.z=Va.z,f.group=e):(f={id:a.id,object:a,geometry:b,material:c,z:Va.z,group:e},d.push(f))}function t(a){if(!Pf.intersectsSphere(a))return!1;var b=Gb.numPlanes;if(0===b)return!0;var c=Ma.clippingPlanes,d=a.center;
a=-a.radius;var e=0;do if(c[e].distanceToPoint(d)<a)return!1;while(++e!==b);return!0}function r(a,b){if(!1!==a.visible){if(a.layers.test(b.layers))if(a instanceof V.Light)N.push(a);else if(a instanceof V.Sprite){var c;if(c=!1!==a.frustumCulled)Jc.center.set(0,0,0),Jc.radius=.7071067811865476,Jc.applyMatrix4(a.matrixWorld),c=!0!==t(Jc);c||Ea.push(a)}else if(a instanceof V.LensFlare)bb.push(a);else if(a instanceof V.ImmediateRenderObject)!0===Ma.sortObjects&&(Fb(Va,a.matrixWorld),Db(Va,Nd)),p(a,null,
a.material,Va.z,null);else if(a instanceof V.Mesh||a instanceof V.Line||a instanceof V.Points)if(a instanceof V.SkinnedMesh&&a.skeleton.update(),(c=!1===a.frustumCulled)||(c=a.geometry,null===c.boundingSphere&&c.computeBoundingSphere(),Jc.copy(c.boundingSphere).applyMatrix4(a.matrixWorld),c=!0===t(Jc)),c){var d=a.material;if(!0===d.visible)if(!0===Ma.sortObjects&&(Fb(Va,a.matrixWorld),Db(Va,Nd)),c=md.update(a),d instanceof V.MultiMaterial){var e=c.groups,f=d.materials;d=0;for(var g=e.length;d<g;d++){var h=
e[d],l=f[h.materialIndex];!0===l.visible&&p(a,c,l,Va.z,h)}}else p(a,c,d,Va.z,null)}a=a.children;d=0;for(g=a.length;d<g;d++)r(a[d],b)}}function w(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e],h=g.object,l=g.geometry,m=void 0===d?g.material:d;g=g.group;Cb(h.modelViewMatrix,b.matrixWorldInverse,h.matrixWorld);Nb(h.normalMatrix,h.modelViewMatrix);if(h instanceof V.ImmediateRenderObject){v(m);var n=y(b,c,m,h);fd="";h.render(function(a){Ma.renderBufferImmediate(a,n,m)})}else Ma.renderBufferDirect(b,
c,l,m,h,g)}}function v(a){a.side!==V.DoubleSide?R.enable(z.CULL_FACE):R.disable(z.CULL_FACE);R.setFlipSided(a.side===V.BackSide);!0===a.transparent?R.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha):R.setBlending(V.NoBlending);R.setDepthFunc(a.depthFunc);R.setDepthTest(a.depthTest);R.setDepthWrite(a.depthWrite);R.setColorWrite(a.colorWrite);R.setPolygonOffset(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}
function y(a,b,c,d){qe=0;var e=la.get(c);Od&&((Be||a!==mc)&&Gb.setState(c.clippingPlanes,c.clipShadows,a,e,a===mc&&c.id===eb),void 0!==e.numClippingPlanes&&e.numClippingPlanes!==Gb.numPlanes&&(c.needsUpdate=!0));void 0===e.program&&(c.needsUpdate=!0);void 0!==e.lightsHash&&e.lightsHash!==ba.hash&&(c.needsUpdate=!0);if(c.needsUpdate){a:{var f=la.get(c),g=ld.getParameters(c,ba,b,Gb.numPlanes,d),m=ld.getProgramCode(c,g),n=f.program,p=!0;if(void 0===n)c.addEventListener("dispose",h);else if(n.code!==
m)l(c);else{if(void 0!==g.shaderID)break a;p=!1}p&&(g.shaderID?(n=V.ShaderLib[g.shaderID],f.__webglShader={name:c.type,uniforms:V.UniformsUtils.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}):f.__webglShader={name:c.type,uniforms:c.uniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader},c.__webglShader=f.__webglShader,n=ld.acquireProgram(c,g,m),f.program=n,c.program=n);g=n.getAttributes();if(c.morphTargets)for(m=c.numSupportedMorphTargets=0;m<Ma.maxMorphTargets;m++)0<=
g["morphTarget"+m]&&c.numSupportedMorphTargets++;if(c.morphNormals)for(m=c.numSupportedMorphNormals=0;m<Ma.maxMorphNormals;m++)0<=g["morphNormal"+m]&&c.numSupportedMorphNormals++;g=f.__webglShader.uniforms;(c instanceof V.ShaderMaterial||c instanceof V.RawShaderMaterial)&&!0!==c.clipping||(f.numClippingPlanes=Gb.numPlanes,g.clippingPlanes=Gb.uniform);c.lights&&(f.lightsHash=ba.hash,g.ambientLightColor.value=ba.ambient,g.directionalLights.value=ba.directional,g.spotLights.value=ba.spot,g.pointLights.value=
ba.point,g.hemisphereLights.value=ba.hemi,g.directionalShadowMap.value=ba.directionalShadowMap,g.directionalShadowMatrix.value=ba.directionalShadowMatrix,g.spotShadowMap.value=ba.spotShadowMap,g.spotShadowMatrix.value=ba.spotShadowMatrix,g.pointShadowMap.value=ba.pointShadowMap,g.pointShadowMatrix.value=ba.pointShadowMatrix);m=f.program.getUniforms();m=V.WebGLUniforms.seqWithValue(m.seq,g);f.uniformsList=m;f.dynamicUniforms=V.WebGLUniforms.splitDynamic(m,g)}c.needsUpdate=!1}var q=!1;p=n=!1;f=e.program;
m=f.getUniforms();g=e.__webglShader.uniforms;f.id!==kc&&(z.useProgram(f.program),kc=f.id,p=n=q=!0);c.id!==eb&&(eb=c.id,n=!0);if(q||a!==mc){m.set(z,a,"projectionMatrix");Hb.logarithmicDepthBuffer&&m.setValue(z,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2));a!==mc&&(mc=a,p=n=!0);if(c instanceof V.ShaderMaterial||c instanceof V.MeshPhongMaterial||c instanceof V.MeshStandardMaterial||c.envMap)q=m.map.cameraPosition,void 0!==q&&q.setValue(z,Fb(Va,a.matrixWorld));(c instanceof V.MeshPhongMaterial||c instanceof
V.MeshLambertMaterial||c instanceof V.MeshBasicMaterial||c instanceof V.MeshStandardMaterial||c instanceof V.ShaderMaterial||c.skinning)&&m.setValue(z,"viewMatrix",a.matrixWorldInverse);m.set(z,Ma,"toneMappingExposure");m.set(z,Ma,"toneMappingWhitePoint")}c.skinning&&(m.setOptional(z,d,"bindMatrix"),m.setOptional(z,d,"bindMatrixInverse"),q=d.skeleton)&&(Hb.floatVertexTextures&&q.useVertexTexture?(m.set(z,q,"boneTexture"),m.set(z,q,"boneTextureWidth"),m.set(z,q,"boneTextureHeight")):m.setOptional(z,
q,"boneMatrices"));if(n){c.lights&&(n=p,g.ambientLightColor.needsUpdate=n,g.directionalLights.needsUpdate=n,g.pointLights.needsUpdate=n,g.spotLights.needsUpdate=n,g.hemisphereLights.needsUpdate=n);b&&c.fog&&(g.fogColor.value=b.color,b instanceof V.Fog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b instanceof V.FogExp2&&(g.fogDensity.value=b.density));if(c instanceof V.MeshBasicMaterial||c instanceof V.MeshLambertMaterial||c instanceof V.MeshPhongMaterial||c instanceof V.MeshStandardMaterial||c instanceof
V.MeshDepthMaterial){g.opacity.value=c.opacity;g.diffuse.value=c.color;c.emissive&&g.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity);g.map.value=c.map;g.specularMap.value=c.specularMap;g.alphaMap.value=c.alphaMap;c.aoMap&&(g.aoMap.value=c.aoMap,g.aoMapIntensity.value=c.aoMapIntensity);if(c.map)var r=c.map;else c.specularMap?r=c.specularMap:c.displacementMap?r=c.displacementMap:c.normalMap?r=c.normalMap:c.bumpMap?r=c.bumpMap:c.roughnessMap?r=c.roughnessMap:c.metalnessMap?r=c.metalnessMap:
c.alphaMap?r=c.alphaMap:c.emissiveMap&&(r=c.emissiveMap);void 0!==r&&(r instanceof V.WebGLRenderTarget&&(r=r.texture),b=r.offset,r=r.repeat,g.offsetRepeat.value.set(b.x,b.y,r.x,r.y));g.envMap.value=c.envMap;g.flipEnvMap.value=c.envMap instanceof V.CubeTexture?-1:1;g.reflectivity.value=c.reflectivity;g.refractionRatio.value=c.refractionRatio}c instanceof V.LineBasicMaterial?(g.diffuse.value=c.color,g.opacity.value=c.opacity):c instanceof V.LineDashedMaterial?(g.diffuse.value=c.color,g.opacity.value=
c.opacity,g.dashSize.value=c.dashSize,g.totalSize.value=c.dashSize+c.gapSize,g.scale.value=c.scale):c instanceof V.PointsMaterial?(g.diffuse.value=c.color,g.opacity.value=c.opacity,g.size.value=c.size*rb,g.scale.value=.5*F.clientHeight,g.map.value=c.map,null!==c.map&&(r=c.map.offset,c=c.map.repeat,g.offsetRepeat.value.set(r.x,r.y,c.x,c.y))):c instanceof V.MeshLambertMaterial?(c.lightMap&&(g.lightMap.value=c.lightMap,g.lightMapIntensity.value=c.lightMapIntensity),c.emissiveMap&&(g.emissiveMap.value=
c.emissiveMap)):c instanceof V.MeshPhongMaterial?(g.specular.value=c.specular,g.shininess.value=Math.max(c.shininess,1E-4),c.lightMap&&(g.lightMap.value=c.lightMap,g.lightMapIntensity.value=c.lightMapIntensity),c.emissiveMap&&(g.emissiveMap.value=c.emissiveMap),c.bumpMap&&(g.bumpMap.value=c.bumpMap,g.bumpScale.value=c.bumpScale),c.normalMap&&(g.normalMap.value=c.normalMap,g.normalScale.value.copy(c.normalScale)),c.displacementMap&&(g.displacementMap.value=c.displacementMap,g.displacementScale.value=
c.displacementScale,g.displacementBias.value=c.displacementBias)):c instanceof V.MeshPhysicalMaterial?x(g,c):c instanceof V.MeshStandardMaterial?x(g,c):c instanceof V.MeshDepthMaterial?c.displacementMap&&(g.displacementMap.value=c.displacementMap,g.displacementScale.value=c.displacementScale,g.displacementBias.value=c.displacementBias):c instanceof V.MeshNormalMaterial&&(g.opacity.value=c.opacity);V.WebGLUniforms.upload(z,e.uniformsList,g,Ma)}m.set(z,d,"modelViewMatrix");m.set(z,d,"normalMatrix");
m.setValue(z,"modelMatrix",d.matrixWorld);e=e.dynamicUniforms;null!==e&&(V.WebGLUniforms.evalDynamic(e,g,d,a),V.WebGLUniforms.upload(z,e,g,Ma));return f}function x(a,b){a.roughness.value=b.roughness;a.metalness.value=b.metalness;b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap);b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap);b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=
b.bumpMap,a.bumpScale.value=b.bumpScale);b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale));b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias);b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}function A(a,b,c){c?(z.texParameteri(a,z.TEXTURE_WRAP_S,C(b.wrapS)),z.texParameteri(a,z.TEXTURE_WRAP_T,C(b.wrapT)),z.texParameteri(a,z.TEXTURE_MAG_FILTER,C(b.magFilter)),
z.texParameteri(a,z.TEXTURE_MIN_FILTER,C(b.minFilter))):(z.texParameteri(a,z.TEXTURE_WRAP_S,z.CLAMP_TO_EDGE),z.texParameteri(a,z.TEXTURE_WRAP_T,z.CLAMP_TO_EDGE),b.wrapS===V.ClampToEdgeWrapping&&b.wrapT===V.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",b),z.texParameteri(a,z.TEXTURE_MAG_FILTER,D(b.magFilter)),z.texParameteri(a,z.TEXTURE_MIN_FILTER,D(b.minFilter)),b.minFilter!==V.NearestFilter&&
b.minFilter!==V.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",b));!(c=Aa.get("EXT_texture_filter_anisotropic"))||b.type===V.FloatType&&null===Aa.get("OES_texture_float_linear")||b.type===V.HalfFloatType&&null===Aa.get("OES_texture_half_float_linear")||!(1<b.anisotropy||la.get(b).__currentAnisotropy)||(z.texParameterf(a,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.anisotropy,Ma.getMaxAnisotropy())),
la.get(b).__currentAnisotropy=b.anisotropy)}function B(a,b){if(a.width>b||a.height>b){b/=Math.max(a.width,a.height);var c=document.createElement("canvas");c.width=Math.floor(a.width*b);c.height=Math.floor(a.height*b);c.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);console.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+c.width+"x"+c.height,a);return c}return a}function H(a){return V.Math.isPowerOfTwo(a.width)&&V.Math.isPowerOfTwo(a.height)}
function E(a,b,c,d){var e=C(b.texture.format),f=C(b.texture.type);R.texImage2D(d,0,e,b.width,b.height,0,e,f,null);z.bindFramebuffer(z.FRAMEBUFFER,a);z.framebufferTexture2D(z.FRAMEBUFFER,c,d,la.get(b.texture).__webglTexture,0);z.bindFramebuffer(z.FRAMEBUFFER,null)}function I(a,b){z.bindRenderbuffer(z.RENDERBUFFER,a);b.depthBuffer&&!b.stencilBuffer?(z.renderbufferStorage(z.RENDERBUFFER,z.DEPTH_COMPONENT16,b.width,b.height),z.framebufferRenderbuffer(z.FRAMEBUFFER,z.DEPTH_ATTACHMENT,z.RENDERBUFFER,a)):
b.depthBuffer&&b.stencilBuffer?(z.renderbufferStorage(z.RENDERBUFFER,z.DEPTH_STENCIL,b.width,b.height),z.framebufferRenderbuffer(z.FRAMEBUFFER,z.DEPTH_STENCIL_ATTACHMENT,z.RENDERBUFFER,a)):z.renderbufferStorage(z.RENDERBUFFER,z.RGBA4,b.width,b.height);z.bindRenderbuffer(z.RENDERBUFFER,null)}function D(a){return a===V.NearestFilter||a===V.NearestMipMapNearestFilter||a===V.NearestMipMapLinearFilter?z.NEAREST:z.LINEAR}function C(a){if(a===V.RepeatWrapping)return z.REPEAT;if(a===V.ClampToEdgeWrapping)return z.CLAMP_TO_EDGE;
if(a===V.MirroredRepeatWrapping)return z.MIRRORED_REPEAT;if(a===V.NearestFilter)return z.NEAREST;if(a===V.NearestMipMapNearestFilter)return z.NEAREST_MIPMAP_NEAREST;if(a===V.NearestMipMapLinearFilter)return z.NEAREST_MIPMAP_LINEAR;if(a===V.LinearFilter)return z.LINEAR;if(a===V.LinearMipMapNearestFilter)return z.LINEAR_MIPMAP_NEAREST;if(a===V.LinearMipMapLinearFilter)return z.LINEAR_MIPMAP_LINEAR;if(a===V.UnsignedByteType)return z.UNSIGNED_BYTE;if(a===V.UnsignedShort4444Type)return z.UNSIGNED_SHORT_4_4_4_4;
if(a===V.UnsignedShort5551Type)return z.UNSIGNED_SHORT_5_5_5_1;if(a===V.UnsignedShort565Type)return z.UNSIGNED_SHORT_5_6_5;if(a===V.ByteType)return z.BYTE;if(a===V.ShortType)return z.SHORT;if(a===V.UnsignedShortType)return z.UNSIGNED_SHORT;if(a===V.IntType)return z.INT;if(a===V.UnsignedIntType)return z.UNSIGNED_INT;if(a===V.FloatType)return z.FLOAT;var b=Aa.get("OES_texture_half_float");if(null!==b&&a===V.HalfFloatType)return b.HALF_FLOAT_OES;if(a===V.AlphaFormat)return z.ALPHA;if(a===V.RGBFormat)return z.RGB;
if(a===V.RGBAFormat)return z.RGBA;if(a===V.LuminanceFormat)return z.LUMINANCE;if(a===V.LuminanceAlphaFormat)return z.LUMINANCE_ALPHA;if(a===V.DepthFormat)return z.DEPTH_COMPONENT;if(a===V.AddEquation)return z.FUNC_ADD;if(a===V.SubtractEquation)return z.FUNC_SUBTRACT;if(a===V.ReverseSubtractEquation)return z.FUNC_REVERSE_SUBTRACT;if(a===V.ZeroFactor)return z.ZERO;if(a===V.OneFactor)return z.ONE;if(a===V.SrcColorFactor)return z.SRC_COLOR;if(a===V.OneMinusSrcColorFactor)return z.ONE_MINUS_SRC_COLOR;
if(a===V.SrcAlphaFactor)return z.SRC_ALPHA;if(a===V.OneMinusSrcAlphaFactor)return z.ONE_MINUS_SRC_ALPHA;if(a===V.DstAlphaFactor)return z.DST_ALPHA;if(a===V.OneMinusDstAlphaFactor)return z.ONE_MINUS_DST_ALPHA;if(a===V.DstColorFactor)return z.DST_COLOR;if(a===V.OneMinusDstColorFactor)return z.ONE_MINUS_DST_COLOR;if(a===V.SrcAlphaSaturateFactor)return z.SRC_ALPHA_SATURATE;b=Aa.get("WEBGL_compressed_texture_s3tc");if(null!==b){if(a===V.RGB_S3TC_DXT1_Format)return b.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===
V.RGBA_S3TC_DXT1_Format)return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===V.RGBA_S3TC_DXT3_Format)return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===V.RGBA_S3TC_DXT5_Format)return b.COMPRESSED_RGBA_S3TC_DXT5_EXT}b=Aa.get("WEBGL_compressed_texture_pvrtc");if(null!==b){if(a===V.RGB_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===V.RGB_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===V.RGBA_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===V.RGBA_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}b=
Aa.get("WEBGL_compressed_texture_etc1");if(null!==b&&a===V.RGB_ETC1_Format)return b.COMPRESSED_RGB_ETC1_WEBGL;b=Aa.get("EXT_blend_minmax");if(null!==b){if(a===V.MinEquation)return b.MIN_EXT;if(a===V.MaxEquation)return b.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",V.REVISION);a=a||{};var F=void 0!==a.canvas?a.canvas:document.createElement("canvas"),J=void 0!==a.context?a.context:null,K=void 0!==a.alpha?a.alpha:!1,S=void 0!==a.depth?a.depth:!0,O=void 0!==a.stencil?a.stencil:!0,M=void 0!==a.antialias?
a.antialias:!1,P=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,Q=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,N=[],U=[],T=-1,fa=[],Da=-1,da=new Float32Array(8),Ea=[],bb=[];this.domElement=F;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMapping=V.LinearToneMapping;
this.toneMappingWhitePoint=this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;var Ma=this,kc=null,Dc=null,lc=null,eb=-1,fd="",mc=null,Jd=new V.Vector4,pe=null,gd=new V.Vector4,qe=0,pb=new V.Color(0),Ec=0,Kd=F.width,Pd=F.height,rb=1,Ae=new V.Vector4(0,0,Kd,Pd),Qf=!1,kd=new V.Vector4(0,0,Kd,Pd),Pf=new V.Frustum,Gb=new V.WebGLClipping,Od=!1,Be=!1,Jc=new V.Sphere,Nd=new V.Matrix4,Va=new V.Vector3,ba={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],
directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Ic={geometries:0,textures:0},nc={calls:0,vertices:0,faces:0,points:0};this.info={render:nc,memory:Ic,programs:null};try{K={alpha:K,depth:S,stencil:O,antialias:M,premultipliedAlpha:P,preserveDrawingBuffer:Q};var z=J||F.getContext("webgl",K)||F.getContext("experimental-webgl",K);if(null===z){if(null!==F.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";
throw"Error creating WebGL context.";}void 0===z.getShaderPrecisionFormat&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});F.addEventListener("webglcontextlost",e,!1)}catch(Ph){console.error("THREE.WebGLRenderer: "+Ph)}var Rf="undefined"!==typeof WebGL2RenderingContext&&z instanceof WebGL2RenderingContext,Aa=new V.WebGLExtensions(z);Aa.get("WEBGL_depth_texture");Aa.get("OES_texture_float");Aa.get("OES_texture_float_linear");Aa.get("OES_texture_half_float");Aa.get("OES_texture_half_float_linear");
Aa.get("OES_standard_derivatives");Aa.get("ANGLE_instanced_arrays");Aa.get("OES_element_index_uint")&&(V.BufferGeometry.MaxIndex=4294967296);var Hb=new V.WebGLCapabilities(z,Aa,a),R=new V.WebGLState(z,Aa,C),la=new V.WebGLProperties,md=new V.WebGLObjects(z,la,this.info),ld=new V.WebGLPrograms(this,Hb),Qd=new V.WebGLLights;this.info.programs=ld.programs;var Qh=new V.WebGLBufferRenderer(z,Aa,nc),Rh=new V.WebGLIndexedBufferRenderer(z,Aa,nc);c();this.context=z;this.capabilities=Hb;this.extensions=Aa;this.properties=
la;this.state=R;var Sf=new V.WebGLShadowMap(this,ba,md);this.shadowMap=Sf;var Sh=new V.SpritePlugin(this,Ea),Th=new V.LensFlarePlugin(this,bb);this.getContext=function(){return z};this.getContextAttributes=function(){return z.getContextAttributes()};this.forceContextLoss=function(){Aa.get("WEBGL_lose_context").loseContext()};this.getMaxAnisotropy=function(){var a;return function(){if(void 0!==a)return a;var b=Aa.get("EXT_texture_filter_anisotropic");return a=null!==b?z.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):
0}}();this.getPrecision=function(){return Hb.precision};this.getPixelRatio=function(){return rb};this.setPixelRatio=function(a){void 0!==a&&(rb=a,this.setSize(kd.z,kd.w,!1))};this.getSize=function(){return{width:Kd,height:Pd}};this.setSize=function(a,b,c){Kd=a;Pd=b;F.width=a*rb;F.height=b*rb;!1!==c&&(F.style.width=a+"px",F.style.height=b+"px");this.setViewport(a,b)};this.setViewport=function(a,b){R.viewport(kd.set(0,0,a,b))};this.setScissor=function(a,b,c,d){R.scissor(Ae.set(a,b,c,d))};this.setScissorTest=
function(a){R.setScissorTest(Qf=a)};this.getClearColor=function(){return pb};this.setClearColor=function(a,c){pb.set(a);Ec=void 0!==c?c:1;b(pb.r,pb.g,pb.b,Ec)};this.getClearAlpha=function(){return Ec};this.setClearAlpha=function(a){Ec=a;b(pb.r,pb.g,pb.b,Ec)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=z.COLOR_BUFFER_BIT;if(void 0===b||b)d|=z.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=z.STENCIL_BUFFER_BIT;z.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,
!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.resetGLState=d;this.dispose=function(){F.removeEventListener("webglcontextlost",e,!1)};this.renderBufferImmediate=function(a,b,c){R.initAttributes();var d=la.get(a);a.hasPositions&&!d.position&&(d.position=z.createBuffer());a.hasNormals&&!d.normal&&(d.normal=z.createBuffer());a.hasUvs&&!d.uv&&(d.uv=z.createBuffer());a.hasColors&&!d.color&&(d.color=z.createBuffer());
b=b.getAttributes();a.hasPositions&&(z.bindBuffer(z.ARRAY_BUFFER,d.position),z.bufferData(z.ARRAY_BUFFER,a.positionArray,z.DYNAMIC_DRAW),R.enableAttribute(b.position),z.vertexAttribPointer(b.position,3,z.FLOAT,!1,0,0));if(a.hasNormals){z.bindBuffer(z.ARRAY_BUFFER,d.normal);if("MeshPhongMaterial"!==c.type&&"MeshStandardMaterial"!==c.type&&"MeshPhysicalMaterial"!==c.type&&c.shading===V.FlatShading)for(var e=0,f=3*a.count;e<f;e+=9){var g=a.normalArray,h=(g[e+0]+g[e+3]+g[e+6])/3,l=(g[e+1]+g[e+4]+g[e+
7])/3,m=(g[e+2]+g[e+5]+g[e+8])/3;g[e+0]=h;g[e+1]=l;g[e+2]=m;g[e+3]=h;g[e+4]=l;g[e+5]=m;g[e+6]=h;g[e+7]=l;g[e+8]=m}z.bufferData(z.ARRAY_BUFFER,a.normalArray,z.DYNAMIC_DRAW);R.enableAttribute(b.normal);z.vertexAttribPointer(b.normal,3,z.FLOAT,!1,0,0)}a.hasUvs&&c.map&&(z.bindBuffer(z.ARRAY_BUFFER,d.uv),z.bufferData(z.ARRAY_BUFFER,a.uvArray,z.DYNAMIC_DRAW),R.enableAttribute(b.uv),z.vertexAttribPointer(b.uv,2,z.FLOAT,!1,0,0));a.hasColors&&c.vertexColors!==V.NoColors&&(z.bindBuffer(z.ARRAY_BUFFER,d.color),
z.bufferData(z.ARRAY_BUFFER,a.colorArray,z.DYNAMIC_DRAW),R.enableAttribute(b.color),z.vertexAttribPointer(b.color,3,z.FLOAT,!1,0,0));R.disableUnusedAttributes();z.drawArrays(z.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,b,c,d,e,f){v(d);var g=y(a,b,d,e),h=!1;a=c.id+"_"+g.id+"_"+d.wireframe;a!==fd&&(fd=a,h=!0);b=e.morphTargetInfluences;if(void 0!==b){a=[];var l=0;for(h=b.length;l<h;l++){var n=b[l];a.push([n,l])}a.sort(m);8<a.length&&(a.length=8);var p=c.morphAttributes;l=0;for(h=
a.length;l<h;l++)n=a[l],da[l]=n[0],0!==n[0]?(b=n[1],!0===d.morphTargets&&p.position&&c.addAttribute("morphTarget"+l,p.position[b]),!0===d.morphNormals&&p.normal&&c.addAttribute("morphNormal"+l,p.normal[b])):(!0===d.morphTargets&&c.removeAttribute("morphTarget"+l),!0===d.morphNormals&&c.removeAttribute("morphNormal"+l));g.getUniforms().setValue(z,"morphTargetInfluences",da);h=!0}b=c.index;l=c.attributes.position;!0===d.wireframe&&(b=md.getWireframeAttribute(c));null!==b?(a=Rh,a.setIndex(b)):a=Qh;if(h){a:{h=
void 0;if(c instanceof V.InstancedBufferGeometry){var q=Aa.get("ANGLE_instanced_arrays");if(null===q){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");break a}}void 0===h&&(h=0);R.initAttributes();n=c.attributes;g=g.getAttributes();p=d.defaultAttributeValues;for(var r in g){var t=g[r];if(0<=t){var w=n[r];if(void 0!==w){var x=z.FLOAT,A=w.array,B=w.normalized;A instanceof Float32Array?x=z.FLOAT:
A instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):A instanceof Uint16Array?x=z.UNSIGNED_SHORT:A instanceof Int16Array?x=z.SHORT:A instanceof Uint32Array?x=z.UNSIGNED_INT:A instanceof Int32Array?x=z.INT:A instanceof Int8Array?x=z.BYTE:A instanceof Uint8Array&&(x=z.UNSIGNED_BYTE);A=w.itemSize;var M=md.getAttributeBuffer(w);if(w instanceof V.InterleavedBufferAttribute){var H=w.data,E=H.stride;w=w.offset;H instanceof V.InstancedInterleavedBuffer?(R.enableAttributeAndDivisor(t,
H.meshPerAttribute,q),void 0===c.maxInstancedCount&&(c.maxInstancedCount=H.meshPerAttribute*H.count)):R.enableAttribute(t);z.bindBuffer(z.ARRAY_BUFFER,M);z.vertexAttribPointer(t,A,x,B,E*H.array.BYTES_PER_ELEMENT,(h*E+w)*H.array.BYTES_PER_ELEMENT)}else w instanceof V.InstancedBufferAttribute?(R.enableAttributeAndDivisor(t,w.meshPerAttribute,q),void 0===c.maxInstancedCount&&(c.maxInstancedCount=w.meshPerAttribute*w.count)):R.enableAttribute(t),z.bindBuffer(z.ARRAY_BUFFER,M),z.vertexAttribPointer(t,
A,x,B,0,h*A*w.array.BYTES_PER_ELEMENT)}else if(void 0!==p&&(x=p[r],void 0!==x))switch(x.length){case 2:z.vertexAttrib2fv(t,x);break;case 3:z.vertexAttrib3fv(t,x);break;case 4:z.vertexAttrib4fv(t,x);break;default:z.vertexAttrib1fv(t,x)}}}R.disableUnusedAttributes()}null!==b&&z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,md.getAttributeBuffer(b))}q=Infinity;null!==b?q=b.count:void 0!==l&&(q=l.count);b=c.drawRange.start;l=null!==f?f.start:0;r=Math.max(0,b,l);f=Math.max(0,Math.min(0+q,b+c.drawRange.count,l+(null!==
f?f.count:Infinity))-1-r+1);if(e instanceof V.Mesh)if(!0===d.wireframe)R.setLineWidth(d.wireframeLinewidth*(null===Dc?rb:1)),a.setMode(z.LINES);else switch(e.drawMode){case V.TrianglesDrawMode:a.setMode(z.TRIANGLES);break;case V.TriangleStripDrawMode:a.setMode(z.TRIANGLE_STRIP);break;case V.TriangleFanDrawMode:a.setMode(z.TRIANGLE_FAN)}else e instanceof V.Line?(d=d.linewidth,void 0===d&&(d=1),R.setLineWidth(d*(null===Dc?rb:1)),e instanceof V.LineSegments?a.setMode(z.LINES):a.setMode(z.LINE_STRIP)):
e instanceof V.Points&&a.setMode(z.POINTS);c instanceof V.InstancedBufferGeometry?0<c.maxInstancedCount&&a.renderInstances(c,r,f):a.render(r,f)};this.render=function(a,b,c,d){if(!1===b instanceof V.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var e=a.fog;fd="";eb=-1;mc=null;!0===a.autoUpdate&&a.updateMatrixWorld();null===b.parent&&b.updateMatrixWorld();b.matrixWorldInverse.getInverse(b.matrixWorld);Cb(Nd,b.projectionMatrix,b.matrixWorldInverse);
Tb(Pf,Nd);N.length=0;Da=T=-1;Ea.length=0;bb.length=0;Be=this.localClippingEnabled;Od=Gb.init(this.clippingPlanes,Be,b);r(a,b);U.length=T+1;fa.length=Da+1;!0===Ma.sortObjects&&(U.sort(n),fa.sort(q));Od&&Gb.beginShadows();for(var f=N,g=0,h=0,l=f.length;h<l;h++){var m=f[h];m.castShadow&&(ba.shadows[g++]=m)}ba.shadows.length=g;Sf.render(a,b);f=N;var p=m=0,t=0,v=b.matrixWorldInverse,y=0,x=0,A=0,B=0;g=0;for(h=f.length;g<h;g++){l=f[g];var M=l.color;var E=l.intensity;var I=l.distance;var D=l.shadow&&l.shadow.map?
l.shadow.map.texture:null;if(l instanceof V.AmbientLight)m+=M.r*E,p+=M.g*E,t+=M.b*E;else if(l instanceof V.DirectionalLight){var C=Qd.get(l);C.color.copy(l.color).multiplyScalar(l.intensity);Fb(C.direction,l.matrixWorld);Fb(Va,l.target.matrixWorld);C.direction.sub(Va);Ib(C.direction,v);if(C.shadow=l.castShadow)C.shadowBias=l.shadow.bias,C.shadowRadius=l.shadow.radius,C.shadowMapSize=l.shadow.mapSize;ba.directionalShadowMap[y]=D;ba.directionalShadowMatrix[y]=l.shadow.matrix;ba.directional[y++]=C}else if(l instanceof
V.SpotLight){C=Qd.get(l);Fb(C.position,l.matrixWorld);C.position.applyMatrix4(v);C.color.copy(M).multiplyScalar(E);C.distance=I;Fb(C.direction,l.matrixWorld);Fb(Va,l.target.matrixWorld);C.direction.sub(Va);Ib(C.direction,v);C.coneCos=Math.cos(l.angle);C.penumbraCos=Math.cos(l.angle*(1-l.penumbra));C.decay=0===l.distance?0:l.decay;if(C.shadow=l.castShadow)C.shadowBias=l.shadow.bias,C.shadowRadius=l.shadow.radius,C.shadowMapSize=l.shadow.mapSize;ba.spotShadowMap[A]=D;ba.spotShadowMatrix[A]=l.shadow.matrix;
ba.spot[A++]=C}else if(l instanceof V.PointLight){C=Qd.get(l);Fb(C.position,l.matrixWorld);C.position.applyMatrix4(v);C.color.copy(l.color).multiplyScalar(l.intensity);C.distance=l.distance;C.decay=0===l.distance?0:l.decay;if(C.shadow=l.castShadow)C.shadowBias=l.shadow.bias,C.shadowRadius=l.shadow.radius,C.shadowMapSize=l.shadow.mapSize;ba.pointShadowMap[x]=D;void 0===ba.pointShadowMatrix[x]&&(ba.pointShadowMatrix[x]=new V.Matrix4);Fb(Va,l.matrixWorld).negate();ba.pointShadowMatrix[x].identity().setPosition(Va);
ba.point[x++]=C}else l instanceof V.HemisphereLight&&(C=Qd.get(l),Fb(C.direction,l.matrixWorld),Ib(C.direction,v),C.direction.normalize(),C.skyColor.copy(l.color).multiplyScalar(E),C.groundColor.copy(l.groundColor).multiplyScalar(E),ba.hemi[B++]=C)}ba.ambient[0]=m;ba.ambient[1]=p;ba.ambient[2]=t;ba.directional.length=y;ba.spot.length=A;ba.point.length=x;ba.hemi.length=B;ba.hash=y+","+x+","+A+","+B+","+ba.shadows.length;Od&&Gb.endShadows();nc.calls=0;nc.vertices=0;nc.faces=0;nc.points=0;void 0===c&&
(c=null);this.setRenderTarget(c);(this.autoClear||d)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);a.overrideMaterial?(d=a.overrideMaterial,w(U,b,e,d),w(fa,b,e,d)):(R.setBlending(V.NoBlending),w(U,b,e),w(fa,b,e));Sh.render(a,b);Th.render(a,b,gd);c&&(a=c.texture,a.generateMipmaps&&H(c)&&a.minFilter!==V.NearestFilter&&a.minFilter!==V.LinearFilter&&(a=c instanceof V.WebGLRenderTargetCube?z.TEXTURE_CUBE_MAP:z.TEXTURE_2D,c=la.get(c.texture).__webglTexture,R.bindTexture(a,c),
z.generateMipmap(a),R.bindTexture(a,null)));R.setDepthTest(!0);R.setDepthWrite(!0);R.setColorWrite(!0)}};this.setFaceCulling=function(a,b){R.setCullFace(a);R.setFlipSided(b===V.FrontFaceDirectionCW)};this.allocTextureUnit=function(){var a=qe;a>=Hb.maxTextures&&console.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+Hb.maxTextures);qe+=1;return a};this.setTexture2D=function(){var a=!1;return function(b,c){b instanceof V.WebGLRenderTarget&&(a||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),
a=!0),b=b.texture);var d=la.get(b);if(0<b.version&&d.__version!==b.version){var e=b.image;if(void 0===e)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",b);else if(!1===e.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",b);else{void 0===d.__webglInit&&(d.__webglInit=!0,b.addEventListener("dispose",f),d.__webglTexture=z.createTexture(),Ic.textures++);R.activeTexture(z.TEXTURE0+c);R.bindTexture(z.TEXTURE_2D,d.__webglTexture);
z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,b.flipY);z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);z.pixelStorei(z.UNPACK_ALIGNMENT,b.unpackAlignment);var g=B(b.image,Hb.maxTextureSize);(b.wrapS!==V.ClampToEdgeWrapping||b.wrapT!==V.ClampToEdgeWrapping||b.minFilter!==V.NearestFilter&&b.minFilter!==V.LinearFilter)&&!1===H(g)&&(c=g,c instanceof HTMLImageElement||c instanceof HTMLCanvasElement?(e=document.createElement("canvas"),e.width=V.Math.nearestPowerOfTwo(c.width),e.height=V.Math.nearestPowerOfTwo(c.height),
e.getContext("2d").drawImage(c,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+c.width+"x"+c.height+"). Resized to "+e.width+"x"+e.height,c),g=e):g=c);c=H(g);e=C(b.format);var h=C(b.type);A(z.TEXTURE_2D,b,c);var l=b.mipmaps;if(b instanceof V.DepthTexture){l=z.DEPTH_COMPONENT;if(b.type===V.FloatType){if(!Rf)throw Error("Float Depth Texture only supported in WebGL2.0");l=z.DEPTH_COMPONENT32F}else Rf&&(l=z.DEPTH_COMPONENT16);R.texImage2D(z.TEXTURE_2D,0,l,g.width,
g.height,0,e,h,null)}else if(b instanceof V.DataTexture)if(0<l.length&&c){for(var m=0,n=l.length;m<n;m++)g=l[m],R.texImage2D(z.TEXTURE_2D,m,e,g.width,g.height,0,e,h,g.data);b.generateMipmaps=!1}else R.texImage2D(z.TEXTURE_2D,0,e,g.width,g.height,0,e,h,g.data);else if(b instanceof V.CompressedTexture)for(m=0,n=l.length;m<n;m++)g=l[m],b.format!==V.RGBAFormat&&b.format!==V.RGBFormat?-1<R.getCompressedTextureFormats().indexOf(e)?R.compressedTexImage2D(z.TEXTURE_2D,m,e,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):
R.texImage2D(z.TEXTURE_2D,m,e,g.width,g.height,0,e,h,g.data);else if(0<l.length&&c){m=0;for(n=l.length;m<n;m++)g=l[m],R.texImage2D(z.TEXTURE_2D,m,e,e,h,g);b.generateMipmaps=!1}else R.texImage2D(z.TEXTURE_2D,0,e,e,h,g);b.generateMipmaps&&c&&z.generateMipmap(z.TEXTURE_2D);d.__version=b.version;if(b.onUpdate)b.onUpdate(b)}}else R.activeTexture(z.TEXTURE0+c),R.bindTexture(z.TEXTURE_2D,d.__webglTexture)}}();this.setTexture=function(){var a=!1;return function(b,c){a||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),
a=!0);Ma.setTexture2D(b,c)}}();this.setTextureCube=function(){var a=!1;return function(b,c){b instanceof V.WebGLRenderTargetCube&&(a||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);if(b instanceof V.CubeTexture||Array.isArray(b.image)&&6===b.image.length){var d=la.get(b);if(6===b.image.length)if(0<b.version&&d.__version!==b.version){d.__image__webglTextureCube||(b.addEventListener("dispose",f),
d.__image__webglTextureCube=z.createTexture(),Ic.textures++);R.activeTexture(z.TEXTURE0+c);R.bindTexture(z.TEXTURE_CUBE_MAP,d.__image__webglTextureCube);z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,b.flipY);c=b instanceof V.CompressedTexture;for(var e=b.image[0]instanceof V.DataTexture,g=[],h=0;6>h;h++)g[h]=!Ma.autoScaleCubemaps||c||e?e?b.image[h].image:b.image[h]:B(b.image[h],Hb.maxCubemapSize);var l=H(g[0]),m=C(b.format),n=C(b.type);A(z.TEXTURE_CUBE_MAP,b,l);for(h=0;6>h;h++)if(c)for(var p,q=g[h].mipmaps,
r=0,t=q.length;r<t;r++)p=q[r],b.format!==V.RGBAFormat&&b.format!==V.RGBFormat?-1<R.getCompressedTextureFormats().indexOf(m)?R.compressedTexImage2D(z.TEXTURE_CUBE_MAP_POSITIVE_X+h,r,m,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):R.texImage2D(z.TEXTURE_CUBE_MAP_POSITIVE_X+h,r,m,p.width,p.height,0,m,n,p.data);else e?R.texImage2D(z.TEXTURE_CUBE_MAP_POSITIVE_X+h,0,m,g[h].width,g[h].height,0,m,n,g[h].data):R.texImage2D(z.TEXTURE_CUBE_MAP_POSITIVE_X+
h,0,m,m,n,g[h]);b.generateMipmaps&&l&&z.generateMipmap(z.TEXTURE_CUBE_MAP);d.__version=b.version;if(b.onUpdate)b.onUpdate(b)}else R.activeTexture(z.TEXTURE0+c),R.bindTexture(z.TEXTURE_CUBE_MAP,d.__image__webglTextureCube)}else R.activeTexture(z.TEXTURE0+c),R.bindTexture(z.TEXTURE_CUBE_MAP,la.get(b).__webglTexture)}}();this.getCurrentRenderTarget=function(){return Dc};this.setRenderTarget=function(a){if((Dc=a)&&void 0===la.get(a).__webglFramebuffer){var b=la.get(a),c=la.get(a.texture);a.addEventListener("dispose",
g);c.__webglTexture=z.createTexture();Ic.textures++;var d=a instanceof V.WebGLRenderTargetCube,e=V.Math.isPowerOfTwo(a.width)&&V.Math.isPowerOfTwo(a.height);if(d){b.__webglFramebuffer=[];for(var f=0;6>f;f++)b.__webglFramebuffer[f]=z.createFramebuffer()}else b.__webglFramebuffer=z.createFramebuffer();if(d){R.bindTexture(z.TEXTURE_CUBE_MAP,c.__webglTexture);A(z.TEXTURE_CUBE_MAP,a.texture,e);for(f=0;6>f;f++)E(b.__webglFramebuffer[f],a,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+f);a.texture.generateMipmaps&&
e&&z.generateMipmap(z.TEXTURE_CUBE_MAP);R.bindTexture(z.TEXTURE_CUBE_MAP,null)}else R.bindTexture(z.TEXTURE_2D,c.__webglTexture),A(z.TEXTURE_2D,a.texture,e),E(b.__webglFramebuffer,a,z.COLOR_ATTACHMENT0,z.TEXTURE_2D),a.texture.generateMipmaps&&e&&z.generateMipmap(z.TEXTURE_2D),R.bindTexture(z.TEXTURE_2D,null);if(a.depthBuffer){b=la.get(a);c=a instanceof V.WebGLRenderTargetCube;if(a.depthTexture){if(c)throw Error("target.depthTexture not supported in Cube render targets");if(a instanceof V.WebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");
z.bindFramebuffer(z.FRAMEBUFFER,b.__webglFramebuffer);if(!(a.depthTexture instanceof V.DepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");la.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0);Ma.setTexture2D(a.depthTexture,0);b=la.get(a.depthTexture).__webglTexture;z.framebufferTexture2D(z.FRAMEBUFFER,
z.DEPTH_ATTACHMENT,z.TEXTURE_2D,b,0)}else if(c)for(b.__webglDepthbuffer=[],c=0;6>c;c++)z.bindFramebuffer(z.FRAMEBUFFER,b.__webglFramebuffer[c]),b.__webglDepthbuffer[c]=z.createRenderbuffer(),I(b.__webglDepthbuffer[c],a);else z.bindFramebuffer(z.FRAMEBUFFER,b.__webglFramebuffer),b.__webglDepthbuffer=z.createRenderbuffer(),I(b.__webglDepthbuffer,a);z.bindFramebuffer(z.FRAMEBUFFER,null)}}b=a instanceof V.WebGLRenderTargetCube;a?(c=la.get(a),c=b?c.__webglFramebuffer[a.activeCubeFace]:c.__webglFramebuffer,
Jd.copy(a.scissor),pe=a.scissorTest,gd.copy(a.viewport)):(c=null,Jd.copy(Ae).multiplyScalar(rb),pe=Qf,gd.copy(kd).multiplyScalar(rb));lc!==c&&(z.bindFramebuffer(z.FRAMEBUFFER,c),lc=c);R.scissor(Jd);R.setScissorTest(pe);R.viewport(gd);b&&(b=la.get(a.texture),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+a.activeCubeFace,b.__webglTexture,a.activeMipMapLevel))};this.readRenderTargetPixels=function(a,b,c,d,e,f){if(!1===a instanceof V.WebGLRenderTarget)console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
else{var g=la.get(a).__webglFramebuffer;if(g){var h=!1;g!==lc&&(z.bindFramebuffer(z.FRAMEBUFFER,g),h=!0);try{var l=a.texture;l.format!==V.RGBAFormat&&C(l.format)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):l.type===V.UnsignedByteType||C(l.type)===z.getParameter(z.IMPLEMENTATION_COLOR_READ_TYPE)||l.type===V.FloatType&&Aa.get("WEBGL_color_buffer_float")||l.type===V.HalfFloatType&&
Aa.get("EXT_color_buffer_half_float")?z.checkFramebufferStatus(z.FRAMEBUFFER)===z.FRAMEBUFFER_COMPLETE?0<=b&&b<=a.width-d&&0<=c&&c<=a.height-e&&z.readPixels(b,c,d,e,C(l.format),C(l.type),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{h&&z.bindFramebuffer(z.FRAMEBUFFER,lc)}}}}};
V.WebGLRenderTarget=function(a,b,c){this.uuid=V.Math.generateUUID();this.width=a;this.height=b;this.scissor=new V.Vector4(0,0,a,b);this.scissorTest=!1;this.viewport=new V.Vector4(0,0,a,b);c=c||{};void 0===c.minFilter&&(c.minFilter=V.LinearFilter);this.texture=new V.Texture(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=
null};
Object.assign(V.WebGLRenderTarget.prototype,V.EventDispatcher.prototype,{setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},
dispose:function(){this.dispatchEvent({type:"dispose"})}});V.WebGLRenderTargetCube=function(a,b,c){V.WebGLRenderTarget.call(this,a,b,c);this.activeMipMapLevel=this.activeCubeFace=0};V.WebGLRenderTargetCube.prototype=Object.create(V.WebGLRenderTarget.prototype);V.WebGLRenderTargetCube.prototype.constructor=V.WebGLRenderTargetCube;
V.WebGLBufferRenderer=function(a,b,c){var d;this.setMode=function(a){d=a};this.render=function(b,f){a.drawArrays(d,b,f);c.calls++;c.vertices+=f;d===a.TRIANGLES&&(c.faces+=f/3)};this.renderInstances=function(e){var f=b.get("ANGLE_instanced_arrays");if(null===f)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var g=e.attributes.position;g=g instanceof V.InterleavedBufferAttribute?g.data.count:g.count;
f.drawArraysInstancedANGLE(d,0,g,e.maxInstancedCount);c.calls++;c.vertices+=g*e.maxInstancedCount;d===a.TRIANGLES&&(c.faces+=e.maxInstancedCount*g/3)}}};
V.WebGLClipping=function(){function a(){m.value!==d&&(m.value=d,m.needsUpdate=0<e);c.numPlanes=e}function b(a,b,d,e){var f=null!==a?a.length:0,g=null;if(0!==f){g=m.value;if(!0!==e||null===g){e=d+4*f;b=b.matrixWorldInverse;Nb(l,b);if(null===g||g.length<e)g=new Float32Array(e);for(e=0;e!==f;++e,d+=4)h.copy(a[e]).applyMatrix4(b,l),h.normal.toArray(g,d),g[d+3]=h.constant}m.value=g;m.needsUpdate=!0}c.numPlanes=f;return g}var c=this,d=null,e=0,f=!1,g=!1,h=new V.Plane,l=new V.Matrix3,m={value:null,needsUpdate:!1};
this.uniform=m;this.numPlanes=0;this.init=function(a,c,g){var h=0!==a.length||c||0!==e||f;f=c;d=b(a,g,0);e=a.length;return h};this.beginShadows=function(){g=!0;b(null)};this.endShadows=function(){g=!1;a()};this.setState=function(c,h,l,t,r){if(!f||null===c||0===c.length||g&&!h)g?b(null):a();else{h=g?0:e;var n=4*h,p=t.clippingState||null;m.value=p;p=b(c,l,n,r);for(c=0;c!==n;++c)p[c]=d[c];t.clippingState=p;this.numPlanes+=h}}};
V.WebGLIndexedBufferRenderer=function(a,b,c){var d,e,f;this.setMode=function(a){d=a};this.setIndex=function(c){c.array instanceof Uint32Array&&b.get("OES_element_index_uint")?(e=a.UNSIGNED_INT,f=4):(e=a.UNSIGNED_SHORT,f=2)};this.render=function(b,h){a.drawElements(d,h,e,b*f);c.calls++;c.vertices+=h;d===a.TRIANGLES&&(c.faces+=h/3)};this.renderInstances=function(g,h,l){var m=b.get("ANGLE_instanced_arrays");null===m?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):
(m.drawElementsInstancedANGLE(d,l,e,h*f,g.maxInstancedCount),c.calls++,c.vertices+=l*g.maxInstancedCount,d===a.TRIANGLES&&(c.faces+=g.maxInstancedCount*l/3))}};
V.WebGLExtensions=function(a){var b={};this.get=function(c){if(void 0!==b[c])return b[c];switch(c){case "WEBGL_depth_texture":var d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=
a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":d=a.getExtension("WEBGL_compressed_texture_etc1");break;default:d=a.getExtension(c)}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");
return b[c]=d}};
V.WebGLCapabilities=function(a,b,c){function d(b){if("highp"===b){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";b="mediump"}return"mediump"===b&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}this.getMaxPrecision=d;this.precision=void 0!==c.precision?c.precision:"highp";this.logarithmicDepthBuffer=
void 0!==c.logarithmicDepthBuffer?c.logarithmicDepthBuffer:!1;this.maxTextures=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE);this.maxCubemapSize=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=a.getParameter(a.MAX_VARYING_VECTORS);this.maxFragmentUniforms=
a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=0<this.maxVertexTextures;this.floatFragmentTextures=!!b.get("OES_texture_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;c=d(this.precision);c!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",c,"instead."),this.precision=c);this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!b.get("EXT_frag_depth"))};
V.WebGLGeometries=function(a,b,c){function d(a){var g=a.target;a=f[g.id];null!==a.index&&e(a.index);var l=a.attributes;for(m in l)e(l[m]);g.removeEventListener("dispose",d);delete f[g.id];var m=b.get(g);m.wireframe&&e(m.wireframe);b.delete(g);g=b.get(a);g.wireframe&&e(g.wireframe);b.delete(a);c.memory.geometries--}function e(c){var d=c instanceof V.InterleavedBufferAttribute?b.get(c.data).__webglBuffer:b.get(c).__webglBuffer;void 0!==d&&(a.deleteBuffer(d),c instanceof V.InterleavedBufferAttribute?
b.delete(c.data):b.delete(c))}var f={};this.get=function(a){var b=a.geometry;if(void 0!==f[b.id])return f[b.id];b.addEventListener("dispose",d);if(b instanceof V.BufferGeometry)var e=b;else b instanceof V.Geometry&&(void 0===b._bufferGeometry&&(b._bufferGeometry=(new V.BufferGeometry).setFromObject(a)),e=b._bufferGeometry);f[b.id]=e;c.memory.geometries++;return e}};
V.WebGLLights=function(){var a={};this.get=function(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case "DirectionalLight":var c={direction:new V.Vector3,color:new V.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V.Vector2};break;case "SpotLight":c={position:new V.Vector3,direction:new V.Vector3,color:new V.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V.Vector2};break;case "PointLight":c={position:new V.Vector3,color:new V.Color,
distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V.Vector2};break;case "HemisphereLight":c={direction:new V.Vector3,skyColor:new V.Color,groundColor:new V.Color}}return a[b.id]=c}};
V.WebGLObjects=function(a,b,c){function d(c,d){c=c instanceof V.InterleavedBufferAttribute?c.data:c;var e=b.get(c);void 0===e.__webglBuffer?(e.__webglBuffer=a.createBuffer(),a.bindBuffer(d,e.__webglBuffer),a.bufferData(d,c.array,c.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW),e.version=c.version):e.version!==c.version&&(a.bindBuffer(d,e.__webglBuffer),!1===c.dynamic||-1===c.updateRange.count?a.bufferSubData(d,0,c.array):0===c.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):
(a.bufferSubData(d,c.updateRange.offset*c.array.BYTES_PER_ELEMENT,c.array.subarray(c.updateRange.offset,c.updateRange.offset+c.updateRange.count)),c.updateRange.count=0),e.version=c.version)}function e(a,b,c){if(b>c){var d=b;b=c;c=d}d=a[b];return void 0===d?(a[b]=[c],!0):-1===d.indexOf(c)?(d.push(c),!0):!1}var f=new V.WebGLGeometries(a,b,c);this.getAttributeBuffer=function(a){return a instanceof V.InterleavedBufferAttribute?b.get(a.data).__webglBuffer:b.get(a).__webglBuffer};this.getWireframeAttribute=
function(c){var f=b.get(c);if(void 0!==f.wireframe)return f.wireframe;var g=[],m=c.index,n=c.attributes;c=n.position;if(null!==m){n={};m=m.array;for(var q=0,p=m.length;q<p;q+=3){var t=m[q+0],r=m[q+1],w=m[q+2];e(n,t,r)&&g.push(t,r);e(n,r,w)&&g.push(r,w);e(n,w,t)&&g.push(w,t)}}else for(m=n.position.array,q=0,p=m.length/3-1;q<p;q+=3)t=q+0,r=q+1,w=q+2,g.push(t,r,r,w,w,t);g=new V.BufferAttribute(new (65535<c.count?Uint32Array:Uint16Array)(g),1);d(g,a.ELEMENT_ARRAY_BUFFER);return f.wireframe=g};this.update=
function(b){var c=f.get(b);b.geometry instanceof V.Geometry&&c.updateFromObject(b);b=c.index;var e=c.attributes;null!==b&&d(b,a.ELEMENT_ARRAY_BUFFER);for(var g in e)d(e[g],a.ARRAY_BUFFER);b=c.morphAttributes;for(g in b){e=b[g];for(var n=0,q=e.length;n<q;n++)d(e[n],a.ARRAY_BUFFER)}return c}};
V.WebGLProgram=function(){function a(a){switch(a){case V.LinearEncoding:return["Linear","( value )"];case V.sRGBEncoding:return["sRGB","( value )"];case V.RGBEEncoding:return["RGBE","( value )"];case V.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case V.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case V.RGBDEncoding:return["RGBD","( value, 256.0 )"];case V.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+a);}}function b(b,c){c=a(c);
return"vec4 "+b+"( vec4 value ) { return "+c[0]+"ToLinear"+c[1]+"; }"}function c(b,c){c=a(c);return"vec4 "+b+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"}function d(a,b){switch(b){case V.LinearToneMapping:b="Linear";break;case V.ReinhardToneMapping:b="Reinhard";break;case V.Uncharted2ToneMapping:b="Uncharted2";break;case V.CineonToneMapping:b="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+b);}return"vec3 "+a+"( vec3 color ) { return "+b+"ToneMapping( color ); }"}function e(a,
b,c){a=a||{};return[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap||b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(g).join("\n")}function f(a){var b=[],c;
for(c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}function g(a){return""!==a}function h(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function l(a){return a.replace(/#include +<([\w\d.]+)>/g,function(a,b){a=V.ShaderChunk[b];if(void 0===a)throw Error("Can not resolve #include \x3c"+b+"\x3e");return l(a)})}function m(a){return a.replace(/for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,
function(a,b,c,d){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=d.replace(/\[ i \]/g,"[ "+b+" ]");return a})}var n=0;return function(a,p,t,r){var q=a.context,v=t.extensions,y=t.defines,x=t.__webglShader.vertexShader,A=t.__webglShader.fragmentShader,B="SHADOWMAP_TYPE_BASIC";r.shadowMapType===V.PCFShadowMap?B="SHADOWMAP_TYPE_PCF":r.shadowMapType===V.PCFSoftShadowMap&&(B="SHADOWMAP_TYPE_PCF_SOFT");var H="ENVMAP_TYPE_CUBE",E="ENVMAP_MODE_REFLECTION",I="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(t.envMap.mapping){case V.CubeReflectionMapping:case V.CubeRefractionMapping:H=
"ENVMAP_TYPE_CUBE";break;case V.CubeUVReflectionMapping:case V.CubeUVRefractionMapping:H="ENVMAP_TYPE_CUBE_UV";break;case V.EquirectangularReflectionMapping:case V.EquirectangularRefractionMapping:H="ENVMAP_TYPE_EQUIREC";break;case V.SphericalReflectionMapping:H="ENVMAP_TYPE_SPHERE"}switch(t.envMap.mapping){case V.CubeRefractionMapping:case V.EquirectangularRefractionMapping:E="ENVMAP_MODE_REFRACTION"}switch(t.combine){case V.MultiplyOperation:I="ENVMAP_BLENDING_MULTIPLY";break;case V.MixOperation:I=
"ENVMAP_BLENDING_MIX";break;case V.AddOperation:I="ENVMAP_BLENDING_ADD"}}var D=0<a.gammaFactor?a.gammaFactor:1;v=e(v,r,a.extensions);var C=f(y),F=q.createProgram();t instanceof V.RawShaderMaterial?B=y="":(y=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+t.__webglShader.name,C,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+D,"#define MAX_BONES "+r.maxBones,r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?
"#define "+E:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":
"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+B:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":
"",r.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;",
"\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(g).join("\n"),B=[v,"precision "+
r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+t.__webglShader.name,C,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+D,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+H:"",r.envMap?"#define "+E:"",r.envMap?"#define "+I:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?
"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?
"#define "+B:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&a.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==V.NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==V.NoToneMapping?
V.ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==V.NoToneMapping?d("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?V.ShaderChunk.encodings_pars_fragment:"",r.mapEncoding?b("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?b("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?b("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?c("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+
t.depthPacking:"","\n"].filter(g).join("\n"));x=l(x,r);x=h(x,r);A=l(A,r);A=h(A,r);!1===t instanceof V.ShaderMaterial&&(x=m(x),A=m(A));A=B+A;x=V.WebGLShader(q,q.VERTEX_SHADER,y+x);A=V.WebGLShader(q,q.FRAGMENT_SHADER,A);q.attachShader(F,x);q.attachShader(F,A);void 0!==t.index0AttributeName?q.bindAttribLocation(F,0,t.index0AttributeName):!0===r.morphTargets&&q.bindAttribLocation(F,0,"position");q.linkProgram(F);r=q.getProgramInfoLog(F);H=q.getShaderInfoLog(x);E=q.getShaderInfoLog(A);D=I=!0;if(!1===q.getProgramParameter(F,
q.LINK_STATUS))I=!1,console.error("THREE.WebGLProgram: shader error: ",q.getError(),"gl.VALIDATE_STATUS",q.getProgramParameter(F,q.VALIDATE_STATUS),"gl.getProgramInfoLog",r,H,E);else if(""!==r)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",r);else if(""===H||""===E)D=!1;D&&(this.diagnostics={runnable:I,material:t,programLog:r,vertexShader:{log:H,prefix:y},fragmentShader:{log:E,prefix:B}});q.deleteShader(x);q.deleteShader(A);var J;this.getUniforms=function(){void 0===J&&(J=new V.WebGLUniforms(q,
F,a));return J};var K;this.getAttributes=function(){if(void 0===K){for(var a={},b=q.getProgramParameter(F,q.ACTIVE_ATTRIBUTES),c=0;c<b;c++){var d=q.getActiveAttrib(F,c).name;a[d]=q.getAttribLocation(F,d)}K=a}return K};this.destroy=function(){q.deleteProgram(F);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");
return this.getAttributes()}}});this.id=n++;this.code=p;this.usedTimes=1;this.program=F;this.vertexShader=x;this.fragmentShader=A;return this}}();
V.WebGLPrograms=function(a,b){function c(a,b){if(a)a instanceof V.Texture?c=a.encoding:a instanceof V.WebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),c=a.texture.encoding);else var c=V.LinearEncoding;c===V.LinearEncoding&&b&&(c=V.GammaEncoding);return c}var d=[],e={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",
MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},f="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");
this.getParameters=function(d,f,l,m,n){var g=e[d.type];if(b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture)var h=1024;else h=Math.floor((b.maxVertexUniforms-20)/4),void 0!==n&&n instanceof V.SkinnedMesh&&(h=Math.min(n.skeleton.bones.length,h),h<n.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+n.skeleton.bones.length+", this GPU supports just "+h+" (try OpenGL instead of ANGLE)"));var t=a.getPrecision();null!==d.precision&&(t=b.getMaxPrecision(d.precision),
t!==d.precision&&console.warn("THREE.WebGLProgram.getParameters:",d.precision,"not supported, using",t,"instead."));var r=a.getCurrentRenderTarget();return{shaderID:g,precision:t,supportsVertexTextures:b.vertexTextures,outputEncoding:c(r?r.texture:null,a.gammaOutput),map:!!d.map,mapEncoding:c(d.map,a.gammaInput),envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,envMapEncoding:c(d.envMap,a.gammaInput),envMapCubeUV:!!d.envMap&&(d.envMap.mapping===V.CubeUVReflectionMapping||d.envMap.mapping===
V.CubeUVRefractionMapping),lightMap:!!d.lightMap,aoMap:!!d.aoMap,emissiveMap:!!d.emissiveMap,emissiveMapEncoding:c(d.emissiveMap,a.gammaInput),bumpMap:!!d.bumpMap,normalMap:!!d.normalMap,displacementMap:!!d.displacementMap,roughnessMap:!!d.roughnessMap,metalnessMap:!!d.metalnessMap,specularMap:!!d.specularMap,alphaMap:!!d.alphaMap,combine:d.combine,vertexColors:d.vertexColors,fog:l,useFog:d.fog,fogExp:l instanceof V.FogExp2,flatShading:d.shading===V.FlatShading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:b.logarithmicDepthBuffer,
skinning:d.skinning,maxBones:h,useVertexTexture:b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture,morphTargets:d.morphTargets,morphNormals:d.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numHemiLights:f.hemi.length,numClippingPlanes:m,shadowMapEnabled:a.shadowMap.enabled&&n.receiveShadow&&0<f.shadows.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,
physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:d.premultipliedAlpha,alphaTest:d.alphaTest,doubleSided:d.side===V.DoubleSide,flipSided:d.side===V.BackSide,depthPacking:void 0!==d.depthPacking?d.depthPacking:!1}};this.getProgramCode=function(a,b){var c=[];b.shaderID?c.push(b.shaderID):(c.push(a.fragmentShader),c.push(a.vertexShader));if(void 0!==a.defines)for(var d in a.defines)c.push(d),c.push(a.defines[d]);for(a=0;a<f.length;a++)c.push(b[f[a]]);return c.join()};this.acquireProgram=
function(b,c,e){for(var f,g=0,h=d.length;g<h;g++){var l=d[g];if(l.code===e){f=l;++f.usedTimes;break}}void 0===f&&(f=new V.WebGLProgram(a,e,b,c),d.push(f));return f};this.releaseProgram=function(a){0===--a.usedTimes&&(d[d.indexOf(a)]=d[d.length-1],d.pop(),a.destroy())};this.programs=d};V.WebGLProperties=function(){var a={};this.get=function(b){b=b.uuid;var c=a[b];void 0===c&&(c={},a[b]=c);return c};this.delete=function(b){delete a[b.uuid]};this.clear=function(){a={}}};
V.WebGLShader=function(){function a(a){a=a.split("\n");for(var b=0;b<a.length;b++)a[b]=b+1+": "+a[b];return a.join("\n")}return function(b,c,d){var e=b.createShader(c);b.shaderSource(e,d);b.compileShader(e);!1===b.getShaderParameter(e,b.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(e)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",c===b.VERTEX_SHADER?"vertex":"fragment",b.getShaderInfoLog(e),a(d));return e}}();
V.WebGLShadowMap=function(a,b,c){function d(b,c,d,e){var f=b.geometry,g=r,h=b.customDepthMaterial;d&&(g=w,h=b.customDistanceMaterial);h?f=h:(b=b instanceof V.SkinnedMesh&&c.skinning,h=0,void 0!==f.morphTargets&&0<f.morphTargets.length&&c.morphTargets&&(h|=1),b&&(h|=2),f=g[h]);a.localClippingEnabled&&!0===c.clipShadows&&0!==c.clippingPlanes.length&&(h=f.uuid,g=c.uuid,b=v[h],void 0===b&&(b={},v[h]=b),h=b[g],void 0===h&&(h=f.clone(),b[g]=h),f=h);f.visible=c.visible;f.wireframe=c.wireframe;g=c.side;F.renderSingleSided&&
g==V.DoubleSide&&(g=V.FrontSide);F.renderReverseSided&&(g===V.FrontSide?g=V.BackSide:g===V.BackSide&&(g=V.FrontSide));f.side=g;f.clipShadows=c.clipShadows;f.clippingPlanes=c.clippingPlanes;f.wireframeLinewidth=c.wireframeLinewidth;f.linewidth=c.linewidth;d&&void 0!==f.uniforms.lightPos&&f.uniforms.lightPos.value.copy(e);return f}function e(a,b,c){if(!1!==a.visible){a.layers.test(b.layers)&&(a instanceof V.Mesh||a instanceof V.Line||a instanceof V.Points)&&a.castShadow&&(!1===a.frustumCulled||!0===
h.intersectsObject(a))&&!0===a.material.visible&&(Cb(a.modelViewMatrix,c.matrixWorldInverse,a.matrixWorld),t.push(a));a=a.children;for(var d=0,f=a.length;d<f;d++)e(a[d],b,c)}}var f=a.context,g=a.state,h=new V.Frustum,l=new V.Matrix4,m=b.shadows,n=new V.Vector2,q=new V.Vector3,p=new V.Vector3,t=[],r=Array(4),w=Array(4),v={},y=[new V.Vector3(1,0,0),new V.Vector3(-1,0,0),new V.Vector3(0,0,1),new V.Vector3(0,0,-1),new V.Vector3(0,1,0),new V.Vector3(0,-1,0)],x=[new V.Vector3(0,1,0),new V.Vector3(0,1,0),
new V.Vector3(0,1,0),new V.Vector3(0,1,0),new V.Vector3(0,0,1),new V.Vector3(0,0,-1)],A=[new V.Vector4,new V.Vector4,new V.Vector4,new V.Vector4,new V.Vector4,new V.Vector4];b=new V.MeshDepthMaterial;b.depthPacking=V.RGBADepthPacking;b.clipping=!0;for(var B=V.ShaderLib.distanceRGBA,H=V.UniformsUtils.clone(B.uniforms),E=0;4!==E;++E){var I=0!==(E&1),D=0!==(E&2),C=b.clone();C.morphTargets=I;C.skinning=D;r[E]=C;I=new V.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:H,vertexShader:B.vertexShader,
fragmentShader:B.fragmentShader,morphTargets:I,skinning:D,clipping:!0});w[E]=I}var F=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=V.PCFShadowMap;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(b,r){if(!1!==F.enabled&&(!1!==F.autoUpdate||!1!==F.needsUpdate)&&0!==m.length){g.clearColor(1,1,1,1);g.disable(f.BLEND);g.setDepthTest(!0);g.setScissorTest(!1);for(var w,v,B=0,H=m.length;B<H;B++){var E=m[B],C=E.shadow;if(void 0===C)console.warn("THREE.WebGLShadowMap:",
E,"has no shadow.");else{var I=C.camera;n.copy(C.mapSize);if(E instanceof V.PointLight){w=6;v=!0;var D=n.x,J=n.y;A[0].set(2*D,J,D,J);A[1].set(0,J,D,J);A[2].set(3*D,J,D,J);A[3].set(D,J,D,J);A[4].set(3*D,0,D,J);A[5].set(D,0,D,J);n.x*=4;n.y*=2}else w=1,v=!1;null===C.map&&(C.map=new V.WebGLRenderTarget(n.x,n.y,{minFilter:V.NearestFilter,magFilter:V.NearestFilter,format:V.RGBAFormat}),I.updateProjectionMatrix());C instanceof V.SpotLightShadow&&C.update(E);D=C.map;C=C.matrix;Fb(p,E.matrixWorld);I.position.copy(p);
a.setRenderTarget(D);a.clear();for(D=0;D<w;D++){v?(q.copy(I.position),q.add(y[D]),I.up.copy(x[D]),I.lookAt(q),g.viewport(A[D])):(Fb(q,E.target.matrixWorld),I.lookAt(q));I.updateMatrixWorld();I.matrixWorldInverse.getInverse(I.matrixWorld);C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);C.multiply(I.projectionMatrix);C.multiply(I.matrixWorldInverse);Cb(l,I.projectionMatrix,I.matrixWorldInverse);Tb(h,l);t.length=0;e(b,r,I);J=0;for(var Da=t.length;J<Da;J++){var K=t[J],Ea=c.update(K),bb=K.material;if(bb instanceof
V.MultiMaterial){var Ma=Ea.groups;bb=bb.materials;for(var kc=0,Dc=Ma.length;kc<Dc;kc++){var lc=Ma[kc],eb=bb[lc.materialIndex];!0===eb.visible&&(eb=d(K,eb,v,p),a.renderBufferDirect(I,null,Ea,eb,K,lc))}}else eb=d(K,bb,v,p),a.renderBufferDirect(I,null,Ea,eb,K,null)}}}}a.setClearColor(a.getClearColor(),a.getClearAlpha());F.needsUpdate=!1}}};
V.WebGLState=function(a,b,c){function d(b,c,d){var e=new Uint8Array(3),f=a.createTexture();a.bindTexture(b,f);a.texParameteri(b,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(b,a.TEXTURE_MAG_FILTER,a.NEAREST);for(b=0;b<d;b++)a.texImage2D(c+b,0,a.RGB,1,1,0,a.RGB,a.UNSIGNED_BYTE,e);return f}var e=this;this.buffers={color:new V.WebGLColorBuffer(a),depth:new V.WebGLDepthBuffer(a,this),stencil:new V.WebGLStencilBuffer(a,this)};var f=a.getParameter(a.MAX_VERTEX_ATTRIBS),g=new Uint8Array(f),h=new Uint8Array(f),
l=new Uint8Array(f),m={},n=null,q=null,p=null,t=null,r=null,w=null,v=null,y=null,x=!1,A=null,B=null,H=null,E=null,I=null,D=null,C=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),F=null,J={},K=new V.Vector4,S=new V.Vector4,O={};O[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);O[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);this.init=function(){this.clearColor(0,0,0,1);this.clearDepth(1);this.clearStencil(0);this.enable(a.DEPTH_TEST);this.setDepthFunc(V.LessEqualDepth);this.setFlipSided(!1);
this.setCullFace(V.CullFaceBack);this.enable(a.CULL_FACE);this.enable(a.BLEND);this.setBlending(V.NormalBlending)};this.initAttributes=function(){for(var a=0,b=g.length;a<b;a++)g[a]=0};this.enableAttribute=function(c){g[c]=1;0===h[c]&&(a.enableVertexAttribArray(c),h[c]=1);0!==l[c]&&(b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c,0),l[c]=0)};this.enableAttributeAndDivisor=function(b,c,d){g[b]=1;0===h[b]&&(a.enableVertexAttribArray(b),h[b]=1);l[b]!==c&&(d.vertexAttribDivisorANGLE(b,c),l[b]=
c)};this.disableUnusedAttributes=function(){for(var b=0,c=h.length;b!==c;++b)h[b]!==g[b]&&(a.disableVertexAttribArray(b),h[b]=0)};this.enable=function(b){!0!==m[b]&&(a.enable(b),m[b]=!0)};this.disable=function(b){!1!==m[b]&&(a.disable(b),m[b]=!1)};this.getCompressedTextureFormats=function(){if(null===n&&(n=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")))for(var c=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),d=0;d<c.length;d++)n.push(c[d]);
return n};this.setBlending=function(b,d,e,f,g,h,l,m){if(b!==V.NoBlending){this.enable(a.BLEND);if(b!==q||m!==x)b===V.AdditiveBlending?m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):b===V.SubtractiveBlending?m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):
b===V.MultiplyBlending?m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),q=b,x=m;if(b===V.CustomBlending){g=g||d;h=h||e;
l=l||f;if(d!==p||g!==w)a.blendEquationSeparate(c(d),c(g)),p=d,w=g;if(e!==t||f!==r||h!==v||l!==y)a.blendFuncSeparate(c(e),c(f),c(h),c(l)),t=e,r=f,v=h,y=l}else y=v=w=r=t=p=null}else this.disable(a.BLEND),q=b};this.setColorWrite=function(a){this.buffers.color.setMask(a)};this.setDepthTest=function(a){this.buffers.depth.setTest(a)};this.setDepthWrite=function(a){this.buffers.depth.setMask(a)};this.setDepthFunc=function(a){this.buffers.depth.setFunc(a)};this.setStencilTest=function(a){this.buffers.stencil.setTest(a)};
this.setStencilWrite=function(a){this.buffers.stencil.setMask(a)};this.setStencilFunc=function(a,b,c){this.buffers.stencil.setFunc(a,b,c)};this.setStencilOp=function(a,b,c){this.buffers.stencil.setOp(a,b,c)};this.setFlipSided=function(b){A!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),A=b)};this.setCullFace=function(b){b!==V.CullFaceNone?(this.enable(a.CULL_FACE),b!==B&&(b===V.CullFaceBack?a.cullFace(a.BACK):b===V.CullFaceFront?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):this.disable(a.CULL_FACE);
B=b};this.setLineWidth=function(b){b!==H&&(a.lineWidth(b),H=b)};this.setPolygonOffset=function(b,c,d){if(b){if(this.enable(a.POLYGON_OFFSET_FILL),E!==c||I!==d)a.polygonOffset(c,d),E=c,I=d}else this.disable(a.POLYGON_OFFSET_FILL)};this.getScissorTest=function(){return D};this.setScissorTest=function(b){(D=b)?this.enable(a.SCISSOR_TEST):this.disable(a.SCISSOR_TEST)};this.activeTexture=function(b){void 0===b&&(b=a.TEXTURE0+C-1);F!==b&&(a.activeTexture(b),F=b)};this.bindTexture=function(b,c){null===F&&
e.activeTexture();var d=J[F];void 0===d&&(d={type:void 0,texture:void 0},J[F]=d);if(d.type!==b||d.texture!==c)a.bindTexture(b,c||O[b]),d.type=b,d.texture=c};this.compressedTexImage2D=function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(M){console.error(M)}};this.texImage2D=function(){try{a.texImage2D.apply(a,arguments)}catch(M){console.error(M)}};this.clearColor=function(a,b,c,d){this.buffers.color.setClear(a,b,c,d)};this.clearDepth=function(a){this.buffers.depth.setClear(a)};this.clearStencil=
function(a){this.buffers.stencil.setClear(a)};this.scissor=function(b){!1===K.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),K.copy(b))};this.viewport=function(b){!1===S.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),S.copy(b))};this.reset=function(){for(var b=0;b<h.length;b++)1===h[b]&&(a.disableVertexAttribArray(b),h[b]=0);m={};F=n=null;J={};B=A=q=null;this.buffers.color.reset();this.buffers.depth.reset();this.buffers.stencil.reset()}};
V.WebGLColorBuffer=function(a){var b=!1,c=new V.Vector4,d=null,e=new V.Vector4;this.setMask=function(c){d===c||b||(a.colorMask(c,c,c,c),d=c)};this.setLocked=function(a){b=a};this.setClear=function(b,d,h,l){c.set(b,d,h,l);!1===e.equals(c)&&(a.clearColor(b,d,h,l),e.copy(c))};this.reset=function(){b=!1;d=null;e=new V.Vector4}};
V.WebGLDepthBuffer=function(a,b){var c=!1,d=null,e=null,f=null;this.setTest=function(c){c?b.enable(a.DEPTH_TEST):b.disable(a.DEPTH_TEST)};this.setMask=function(b){d===b||c||(a.depthMask(b),d=b)};this.setFunc=function(b){if(e!==b){if(b)switch(b){case V.NeverDepth:a.depthFunc(a.NEVER);break;case V.AlwaysDepth:a.depthFunc(a.ALWAYS);break;case V.LessDepth:a.depthFunc(a.LESS);break;case V.LessEqualDepth:a.depthFunc(a.LEQUAL);break;case V.EqualDepth:a.depthFunc(a.EQUAL);break;case V.GreaterEqualDepth:a.depthFunc(a.GEQUAL);
break;case V.GreaterDepth:a.depthFunc(a.GREATER);break;case V.NotEqualDepth:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}else a.depthFunc(a.LEQUAL);e=b}};this.setLocked=function(a){c=a};this.setClear=function(b){f!==b&&(a.clearDepth(b),f=b)};this.reset=function(){c=!1;f=e=d=null}};
V.WebGLStencilBuffer=function(a,b){var c=!1,d=null,e=null,f=null,g=null,h=null,l=null,m=null,n=null;this.setTest=function(c){c?b.enable(a.STENCIL_TEST):b.disable(a.STENCIL_TEST)};this.setMask=function(b){d===b||c||(a.stencilMask(b),d=b)};this.setFunc=function(b,c,d){if(e!==b||f!==c||g!==d)a.stencilFunc(b,c,d),e=b,f=c,g=d};this.setOp=function(b,c,d){if(h!==b||l!==c||m!==d)a.stencilOp(b,c,d),h=b,l=c,m=d};this.setLocked=function(a){c=a};this.setClear=function(b){n!==b&&(a.clearStencil(b),n=b)};this.reset=
function(){c=!1;n=m=l=h=g=f=e=d=null}};
V.WebGLUniforms=function(){function a(a,e,f){this.seq=[];this.map={};this.renderer=f;f=a.getProgramParameter(e,a.ACTIVE_UNIFORMS);for(var g=0;g!==f;++g){var h=a.getActiveUniform(e,g),l=h;h=a.getUniformLocation(e,h.name);var m=this,n=l.name,q=n.length;for(Q.lastIndex=0;;){var p=Q.exec(n),r=Q.lastIndex,t=p[1],w=p[3];"]"===p[2]&&(t|=0);if(void 0===w||"["===w&&r+2===q){n=m;l=void 0===w?new d(t,l,h):new c(t,l,h);n.seq.push(l);n.map[l.id]=l;break}else w=m.map[t],void 0===w&&(w=new b(t),t=m,m=w,t.seq.push(m),
t.map[m.id]=m),m=w}}}function b(a){this.id=a;this.seq=[];this.map={}}function c(a,b,c){this.id=a;this.addr=c;this.size=b.size;this.setValue=e(b.type)}function d(a,b,c){this.id=a;this.addr=c;this.setValue=w(b.type)}function e(a){switch(a){case 5126:return r;case 35664:return p;case 35665:return q;case 35666:return n;case 35674:return m;case 35675:return l;case 35676:return h;case 35678:return g;case 35680:return f;case 5124:case 35670:return t;case 35667:case 35671:return x;case 35668:case 35672:return y;
case 35669:case 35673:return v}}function f(a,b,c){var d=b.length,e=S(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a){var f=b[a];f&&c.setTextureCube(f,e[a])}}function g(a,b,c){var d=b.length,e=S(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a){var f=b[a];f&&c.setTexture2D(f,e[a])}}function h(a,b){a.uniformMatrix4fv(this.addr,!1,O(b,this.size,16))}function l(a,b){a.uniformMatrix3fv(this.addr,!1,O(b,this.size,9))}function m(a,b){a.uniformMatrix2fv(this.addr,!1,O(b,this.size,4))}function n(a,b){a.uniform4fv(this.addr,
O(b,this.size,4))}function q(a,b){a.uniform3fv(this.addr,O(b,this.size,3))}function p(a,b){a.uniform2fv(this.addr,O(b,this.size,2))}function t(a,b){a.uniform1iv(this.addr,b)}function r(a,b){a.uniform1fv(this.addr,b)}function w(a){switch(a){case 5126:return K;case 35664:return F;case 35665:return C;case 35666:return D;case 35674:return I;case 35675:return E;case 35676:return H;case 35678:return B;case 35680:return A;case 5124:case 35670:return J;case 35667:case 35671:return x;case 35668:case 35672:return y;
case 35669:case 35673:return v}}function v(a,b){a.uniform4iv(this.addr,b)}function y(a,b){a.uniform3iv(this.addr,b)}function x(a,b){a.uniform2iv(this.addr,b)}function A(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);b&&c.setTextureCube(b,d)}function B(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);b&&c.setTexture2D(b,d)}function H(a,b){a.uniformMatrix4fv(this.addr,!1,b.elements||b)}function E(a,b){a.uniformMatrix3fv(this.addr,!1,b.elements||b)}function I(a,b){a.uniformMatrix2fv(this.addr,
!1,b.elements||b)}function D(a,b){void 0===b.x?a.uniform4fv(this.addr,b):a.uniform4f(this.addr,b.x,b.y,b.z,b.w)}function C(a,b){void 0!==b.x?a.uniform3f(this.addr,b.x,b.y,b.z):void 0!==b.r?a.uniform3f(this.addr,b.r,b.g,b.b):a.uniform3fv(this.addr,b)}function F(a,b){void 0===b.x?a.uniform2fv(this.addr,b):a.uniform2f(this.addr,b.x,b.y)}function J(a,b){a.uniform1i(this.addr,b)}function K(a,b){a.uniform1f(this.addr,b)}function S(a,b){var c=P[b];void 0===c&&(c=new Int32Array(b),P[b]=c);for(var d=0;d!==
b;++d)c[d]=a.allocTextureUnit();return c}function O(a,b,c){var d=a[0];if(0>=d||0<d)return a;var e=b*c,f=M[e];void 0===f&&(f=new Float32Array(e),M[e]=f);if(0!==b)for(d.toArray(f,0),d=1,e=0;d!==b;++d)e+=c,a[d].toArray(f,e);return f}var M=[],P=[];b.prototype.setValue=function(a,b){for(var c=this.seq,d=0,e=c.length;d!==e;++d){var f=c[d];f.setValue(a,b[f.id])}};var Q=/([\w\d_]+)(\])?(\[|\.)?/g;a.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};a.prototype.set=
function(a,b,c){var d=this.map[c];void 0!==d&&d.setValue(a,b[c],this.renderer)};a.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};a.upload=function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}};a.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var f=a[d];f.id in b&&c.push(f)}return c};a.splitDynamic=function(a,b){for(var c=null,d=a.length,e=0,f=0;f!==d;++f){var g=a[f],h=b[g.id];h&&!0===
h.dynamic?(null===c&&(c=[]),c.push(g)):(e<f&&(a[e]=g),++e)}e<d&&(a.length=e);return c};a.evalDynamic=function(a,b,c,d){for(var e=0,f=a.length;e!==f;++e){var g=b[a[e].id],h=g.onUpdateCallback;void 0!==h&&h.call(g,c,d)}};return a}();
V.LensFlarePlugin=function(a,b){var c,d,e,f,g,h,l,m,n,q,p=a.context,t=a.state,r,w,v,y,x,A;this.render=function(B,H,E){if(0!==b.length){B=new V.Vector3;var I=E.w/E.z,D=.5*E.z,C=.5*E.w,F=16/E.w,J=new V.Vector2(F*I,F),K=new V.Vector3(1,1,0),S=new V.Vector2(1,1),O=new V.Box2;O.min.set(0,0);O.max.set(E.z-16,E.w-16);if(void 0===y){F=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);var M=new Uint16Array([0,1,2,0,2,3]);r=p.createBuffer();w=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,r);p.bufferData(p.ARRAY_BUFFER,
F,p.STATIC_DRAW);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,w);p.bufferData(p.ELEMENT_ARRAY_BUFFER,M,p.STATIC_DRAW);x=p.createTexture();A=p.createTexture();t.bindTexture(p.TEXTURE_2D,x);p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);t.bindTexture(p.TEXTURE_2D,
A);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);F=v={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV \x3d uv;\nvec2 pos \x3d position;\nif ( renderType \x3d\x3d 2 ) {\nvec4 visibility \x3d texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility \x3d        visibility.r / 9.0;\nvVisibility *\x3d 1.0 - visibility.g / 9.0;\nvVisibility *\x3d       visibility.b / 9.0;\nvVisibility *\x3d 1.0 - visibility.a / 9.0;\npos.x \x3d cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y \x3d sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position \x3d vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType \x3d\x3d 0 ) {\ngl_FragColor \x3d vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType \x3d\x3d 1 ) {\ngl_FragColor \x3d texture2D( map, vUV );\n} else {\nvec4 texture \x3d texture2D( map, vUV );\ntexture.a *\x3d opacity * vVisibility;\ngl_FragColor \x3d texture;\ngl_FragColor.rgb *\x3d color;\n}\n}"};M=p.createProgram();
var P=p.createShader(p.FRAGMENT_SHADER),Q=p.createShader(p.VERTEX_SHADER),N="precision "+a.getPrecision()+" float;\n";p.shaderSource(P,N+F.fragmentShader);p.shaderSource(Q,N+F.vertexShader);p.compileShader(P);p.compileShader(Q);p.attachShader(M,P);p.attachShader(M,Q);p.linkProgram(M);y=M;n=p.getAttribLocation(y,"position");q=p.getAttribLocation(y,"uv");c=p.getUniformLocation(y,"renderType");d=p.getUniformLocation(y,"map");e=p.getUniformLocation(y,"occlusionMap");f=p.getUniformLocation(y,"opacity");
g=p.getUniformLocation(y,"color");h=p.getUniformLocation(y,"scale");l=p.getUniformLocation(y,"rotation");m=p.getUniformLocation(y,"screenPosition")}p.useProgram(y);t.initAttributes();t.enableAttribute(n);t.enableAttribute(q);t.disableUnusedAttributes();p.uniform1i(e,0);p.uniform1i(d,1);p.bindBuffer(p.ARRAY_BUFFER,r);p.vertexAttribPointer(n,2,p.FLOAT,!1,16,0);p.vertexAttribPointer(q,2,p.FLOAT,!1,16,8);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,w);t.disable(p.CULL_FACE);t.setDepthWrite(!1);M=0;for(P=b.length;M<
P;M++)if(F=16/E.w,J.set(F*I,F),Q=b[M],B.set(Q.matrixWorld.elements[12],Q.matrixWorld.elements[13],Q.matrixWorld.elements[14]),B.applyMatrix4(H.matrixWorldInverse),Db(B,H.projectionMatrix),K.copy(B),S.x=E.x+K.x*D+D-8,S.y=E.y+K.y*C+C-8,!0===O.containsPoint(S)){t.activeTexture(p.TEXTURE0);t.bindTexture(p.TEXTURE_2D,null);t.activeTexture(p.TEXTURE1);t.bindTexture(p.TEXTURE_2D,x);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,S.x,S.y,16,16,0);p.uniform1i(c,0);p.uniform2f(h,J.x,J.y);p.uniform3f(m,K.x,K.y,K.z);t.disable(p.BLEND);
t.enable(p.DEPTH_TEST);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);t.activeTexture(p.TEXTURE0);t.bindTexture(p.TEXTURE_2D,A);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,S.x,S.y,16,16,0);p.uniform1i(c,1);t.disable(p.DEPTH_TEST);t.activeTexture(p.TEXTURE1);t.bindTexture(p.TEXTURE_2D,x);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);Q.positionScreen.copy(K);Q.customUpdateCallback?Q.customUpdateCallback(Q):Q.updateLensFlares();p.uniform1i(c,2);t.enable(p.BLEND);N=0;for(var U=Q.lensFlares.length;N<U;N++){var T=
Q.lensFlares[N];.001<T.opacity&&.001<T.scale&&(K.x=T.x,K.y=T.y,K.z=T.z,F=T.size*T.scale/E.w,J.x=F*I,J.y=F,p.uniform3f(m,K.x,K.y,K.z),p.uniform2f(h,J.x,J.y),p.uniform1f(l,T.rotation),p.uniform1f(f,T.opacity),p.uniform3f(g,T.color.r,T.color.g,T.color.b),t.setBlending(T.blending,T.blendEquation,T.blendSrc,T.blendDst),a.setTexture2D(T.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}t.enable(p.CULL_FACE);t.enable(p.DEPTH_TEST);t.setDepthWrite(!0);a.resetGLState()}}};
V.SpritePlugin=function(a,b){var c,d,e,f,g,h,l,m,n,q,p,t,r,w,v,y,x;function A(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:b.id-a.id}var B=a.context,H=a.state,E,I,D,C,F=new V.Vector3,J=new V.Quaternion,K=new V.Vector3;this.render=function(S,O){if(0!==b.length){if(void 0===D){var M=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),P=new Uint16Array([0,1,2,0,2,3]);E=B.createBuffer();I=B.createBuffer();B.bindBuffer(B.ARRAY_BUFFER,E);B.bufferData(B.ARRAY_BUFFER,
M,B.STATIC_DRAW);B.bindBuffer(B.ELEMENT_ARRAY_BUFFER,I);B.bufferData(B.ELEMENT_ARRAY_BUFFER,P,B.STATIC_DRAW);M=B.createProgram();P=B.createShader(B.VERTEX_SHADER);var Q=B.createShader(B.FRAGMENT_SHADER);B.shaderSource(P,["precision "+a.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV \x3d uvOffset + uv * uvScale;\nvec2 alignedPosition \x3d position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy +\x3d rotatedPosition;\nfinalPosition \x3d projectionMatrix * finalPosition;\ngl_Position \x3d finalPosition;\n}"].join("\n"));
B.shaderSource(Q,["precision "+a.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture \x3d texture2D( map, vUV );\nif ( texture.a \x3c alphaTest ) discard;\ngl_FragColor \x3d vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType \x3e 0 ) {\nfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor \x3d 0.0;\nif ( fogType \x3d\x3d 1 ) {\nfogFactor \x3d smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 \x3d 1.442695;\nfogFactor \x3d exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor \x3d 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor \x3d mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
B.compileShader(P);B.compileShader(Q);B.attachShader(M,P);B.attachShader(M,Q);B.linkProgram(M);D=M;y=B.getAttribLocation(D,"position");x=B.getAttribLocation(D,"uv");c=B.getUniformLocation(D,"uvOffset");d=B.getUniformLocation(D,"uvScale");e=B.getUniformLocation(D,"rotation");f=B.getUniformLocation(D,"scale");g=B.getUniformLocation(D,"color");h=B.getUniformLocation(D,"map");l=B.getUniformLocation(D,"opacity");m=B.getUniformLocation(D,"modelViewMatrix");n=B.getUniformLocation(D,"projectionMatrix");q=
B.getUniformLocation(D,"fogType");p=B.getUniformLocation(D,"fogDensity");t=B.getUniformLocation(D,"fogNear");r=B.getUniformLocation(D,"fogFar");w=B.getUniformLocation(D,"fogColor");v=B.getUniformLocation(D,"alphaTest");M=document.createElement("canvas");M.width=8;M.height=8;P=M.getContext("2d");P.fillStyle="white";P.fillRect(0,0,8,8);C=new V.Texture(M);C.needsUpdate=!0}B.useProgram(D);H.initAttributes();H.enableAttribute(y);H.enableAttribute(x);H.disableUnusedAttributes();H.disable(B.CULL_FACE);H.enable(B.BLEND);
B.bindBuffer(B.ARRAY_BUFFER,E);B.vertexAttribPointer(y,2,B.FLOAT,!1,16,0);B.vertexAttribPointer(x,2,B.FLOAT,!1,16,8);B.bindBuffer(B.ELEMENT_ARRAY_BUFFER,I);B.uniformMatrix4fv(n,!1,O.projectionMatrix.elements);H.activeTexture(B.TEXTURE0);B.uniform1i(h,0);P=M=0;(Q=S.fog)?(B.uniform3f(w,Q.color.r,Q.color.g,Q.color.b),Q instanceof V.Fog?(B.uniform1f(t,Q.near),B.uniform1f(r,Q.far),B.uniform1i(q,1),P=M=1):Q instanceof V.FogExp2&&(B.uniform1f(p,Q.density),B.uniform1i(q,2),P=M=2)):(B.uniform1i(q,0),P=M=0);
Q=0;for(var N=b.length;Q<N;Q++){var U=b[Q];Cb(U.modelViewMatrix,O.matrixWorldInverse,U.matrixWorld);U.z=-U.modelViewMatrix.elements[14]}b.sort(A);O=[];Q=0;for(N=b.length;Q<N;Q++){U=b[Q];var T=U.material;B.uniform1f(v,T.alphaTest);B.uniformMatrix4fv(m,!1,U.modelViewMatrix.elements);U.matrixWorld.decompose(F,J,K);O[0]=K.x;O[1]=K.y;U=0;S.fog&&T.fog&&(U=P);M!==U&&(B.uniform1i(q,U),M=U);null!==T.map?(B.uniform2f(c,T.map.offset.x,T.map.offset.y),B.uniform2f(d,T.map.repeat.x,T.map.repeat.y)):(B.uniform2f(c,
0,0),B.uniform2f(d,1,1));B.uniform1f(l,T.opacity);B.uniform3f(g,T.color.r,T.color.g,T.color.b);B.uniform1f(e,T.rotation);B.uniform2fv(f,O);H.setBlending(T.blending,T.blendEquation,T.blendSrc,T.blendDst);H.setDepthTest(T.depthTest);H.setDepthWrite(T.depthWrite);T.map?a.setTexture2D(T.map,0):a.setTexture2D(C,0);B.drawElements(B.TRIANGLES,6,B.UNSIGNED_SHORT,0)}H.enable(B.CULL_FACE);a.resetGLState()}}};
Object.assign(V,{Face4:function(a,b,c,d,e,f,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new V.Face3(a,b,c,e,f,g)},LineStrip:0,LinePieces:1,MeshFaceMaterial:V.MultiMaterial,PointCloud:function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new V.Points(a,b)},Particle:V.Sprite,ParticleSystem:function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new V.Points(a,b)},PointCloudMaterial:function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");
return new V.PointsMaterial(a)},ParticleBasicMaterial:function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new V.PointsMaterial(a)},ParticleSystemMaterial:function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new V.PointsMaterial(a)},Vertex:function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new V.Vector3(a,b,c)}});
Object.assign(V.Box2.prototype,{empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)}});
Object.assign(V.Box3.prototype,{empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(V.Matrix3.prototype,{multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return Jb(a,this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)}});
Object.assign(V.Matrix4.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return Kb(this,a)},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");
return Db(a,this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");
Ib(a,this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}});
Object.assign(V.Plane.prototype,{isIntersectionLine:function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}});Object.assign(V.Quaternion.prototype,{multiplyVector3:function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return Bb(a,this)}});
Object.assign(V.Ray.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(V.Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return Fb(this,a)},
getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");var b=Eb(this,a,0).length(),c=Eb(this,a,1).length();a=Eb(this,a,2).length();this.x=b;this.y=c;this.z=a;return this},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return Eb(this,b,a)}});
Object.assign(V.Object3D.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});
Object.defineProperties(V.Object3D.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.defineProperties(V.LOD.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});V.PerspectiveCamera.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};
Object.defineProperties(V.Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(V.BufferAttribute.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length}}});
Object.assign(V.BufferGeometry.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},
computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(V.BufferGeometry.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});
Object.defineProperties(V.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE."+this.type+": .wrapRGB has been removed.");return new V.Color}}});
Object.defineProperties(V.MeshPhongMaterial.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(V.ShaderMaterial.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});
V.EventDispatcher.prototype=Object.assign(Object.create({constructor:V.EventDispatcher,apply:function(a){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.");Object.assign(a,this)}}),V.EventDispatcher.prototype);
Object.assign(V.WebGLRenderer.prototype,{supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},
supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");
this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});
Object.defineProperties(V.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");
this.shadowMap.cullFace=a}}});Object.defineProperties(V.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?V.CullFaceFront:V.CullFaceBack},set:function(a){a=a!==V.CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+".");this.renderReverseSided=a}}});
Object.defineProperties(V.WebGLRenderTarget.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=
a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=
a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=
a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});
Object.assign(V.Audio.prototype,{load:function(a){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var b=this;(new V.AudioLoader).load(a,function(a){b.setBuffer(a)});return this}});Object.assign(V.AudioAnalyser.prototype,{getData:function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()}});
V.GeometryUtils={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b instanceof V.Mesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};
V.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new V.TextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},loadTextureCube:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new V.CubeTextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,
d);b&&(a.mapping=b);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};
V.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};
V.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};
V.CurveUtils={tangentQuadraticBezier:function(a,b,c,d){return 2*(1-a)*(c-b)+2*a*(d-c)},tangentCubicBezier:function(a,b,c,d,e){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*e},tangentSpline:function(a){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,c,d,e){a=.5*(c-a);d=.5*(d-b);var f=e*e;return(2*b-2*c+a+d)*e*f+(-3*b+3*c-2*a-d)*f+a*e+b}};
V.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new V.Group,d=0,e=b.length;d<e;d++)c.add(new V.Mesh(a,b[d]));return c},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){var d=new V.Matrix4;d.getInverse(c.matrixWorld);a.applyMatrix(d);b.remove(a);c.add(a)}};
V.ShapeUtils={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},triangulate:function(a,b){var c=a.length;if(3>c)return null;var d=[],e=[],f=[],g;if(0<V.ShapeUtils.area(a))for(g=0;g<c;g++)e[g]=g;else for(g=0;g<c;g++)e[g]=c-1-g;var h=2*c;for(g=c-1;2<c;){if(0>=h--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var l=g;c<=l&&(l=0);g=l+1;c<=g&&(g=0);var m=g+1;c<=m&&(m=0);a:{var n;var q=a[e[l]].x;var p=a[e[l]].y;
var t=a[e[g]].x;var r=a[e[g]].y;var w=a[e[m]].x;var v=a[e[m]].y;if(Number.EPSILON>(t-q)*(v-p)-(r-p)*(w-q))var y=!1;else{var x=w-t;var A=v-r;var B=q-w;var H=p-v;var E=t-q;y=r-p;for(n=0;n<c;n++){var I=a[e[n]].x;var D=a[e[n]].y;if(!(I===q&&D===p||I===t&&D===r||I===w&&D===v)){var C=I-q;var F=D-p;var J=I-t;var K=D-r;I-=w;D-=v;K=x*K-A*J;F=E*F-y*C;I=B*D-H*I;if(K>=-Number.EPSILON&&I>=-Number.EPSILON&&F>=-Number.EPSILON){y=!1;break a}}}y=!0}}if(y){d.push([a[e[l]],a[e[g]],a[e[m]]]);f.push([e[l],e[g],e[m]]);
l=g;for(m=g+1;m<c;l++,m++)e[l]=e[m];c--;h=2*c}}return b?f:d},triangulateShape:function(a,b){function c(a,b,c){return a.x!==b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function d(a,b,d,e,f){var g=b.x-a.x,h=b.y-a.y,l=e.x-d.x,m=e.y-d.y,n=a.x-d.x,q=a.y-d.y,p=h*l-g*m,r=h*n-g*q;if(Math.abs(p)>Number.EPSILON){if(0<p){if(0>r||r>p)return[];l=m*n-l*q;if(0>l||l>p)return[]}else{if(0<r||r<p)return[];l=m*n-l*q;if(0<l||l<p)return[]}if(0===l)return!f||0!==r&&r!==
p?[a]:[];if(l===p)return!f||0!==r&&r!==p?[b]:[];if(0===r)return[d];if(r===p)return[e];f=l/p;return[{x:a.x+f*g,y:a.y+f*h}]}if(0!==r||m*n!==l*q)return[];h=0===g&&0===h;l=0===l&&0===m;if(h&&l)return a.x!==d.x||a.y!==d.y?[]:[a];if(h)return c(d,e,a)?[a]:[];if(l)return c(a,b,d)?[d]:[];0!==g?(a.x<b.x?(g=a,l=a.x,h=b,a=b.x):(g=b,l=b.x,h=a,a=a.x),d.x<e.x?(b=d,p=d.x,m=e,d=e.x):(b=e,p=e.x,m=d,d=d.x)):(a.y<b.y?(g=a,l=a.y,h=b,a=b.y):(g=b,l=b.y,h=a,a=a.y),d.y<e.y?(b=d,p=d.y,m=e,d=e.y):(b=e,p=e.y,m=d,d=d.y));return l<=
p?a<p?[]:a===p?f?[]:[b]:a<=d?[b,h]:[b,m]:l>d?[]:l===d?f?[]:[g]:a<=d?[g,h]:[g,m]}function e(a,b,c,d){var e=b.x-a.x,f=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var g=d.x-a.x;d=d.y-a.y;a=e*c-f*b;e=e*d-f*g;return Math.abs(a)>Number.EPSILON?(b=g*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}var f,g={},h=a.concat();var l=0;for(f=b.length;l<f;l++)Array.prototype.push.apply(h,b[l]);l=0;for(f=h.length;l<f;l++){var m=h[l].x+":"+h[l].y;void 0!==g[m]&&console.warn("THREE.Shape: Duplicate point",m);g[m]=l}l=function(a,b){function c(a,
b){var c=h.length-1,d=a-1;0>d&&(d=c);var f=a+1;f>c&&(f=0);c=e(h[a],h[d],h[f],F[b]);if(!c)return!1;c=F.length-1;d=b-1;0>d&&(d=c);f=b+1;f>c&&(f=0);return(c=e(F[b],F[d],F[f],h[a]))?!0:!1}function f(a,b){var c;for(c=0;c<h.length;c++){var e=c+1;e%=h.length;e=d(a,b,h[c],h[e],!0);if(0<e.length)return!0}return!1}function g(a,c){var e,f;for(e=0;e<l.length;e++){var g=b[l[e]];for(f=0;f<g.length;f++){var h=f+1;h%=g.length;h=d(a,c,g[f],g[h],!0);if(0<h.length)return!0}}return!1}var h=a.concat(),l=[],m,n;a=[];var q,
B=0;for(m=b.length;B<m;B++)l.push(B);var H=0;for(var E=2*l.length;0<l.length;){E--;if(0>E){console.log("Infinite Loop! Holes left:"+l.length+", Probably Hole outside Shape!");break}for(n=H;n<h.length;n++){var I=h[n];m=-1;for(B=0;B<l.length;B++){var D=l[B];var C=I.x+":"+I.y+":"+D;if(void 0===a[C]){var F=b[D];for(q=0;q<F.length;q++)if(D=F[q],c(n,q)&&!f(I,D)&&!g(I,D)){m=q;l.splice(B,1);H=h.slice(0,n+1);D=h.slice(n);q=F.slice(m);var J=F.slice(0,m+1);h=H.concat(q).concat(J).concat(D);H=n;break}if(0<=m)break;
a[C]=!0}}if(0<=m)break}}return h}(a,b);h=V.ShapeUtils.triangulate(l,!1);l=0;for(f=h.length;l<f;l++)for(b=h[l],a=0;3>a;a++)m=b[a].x+":"+b[a].y,m=g[m],void 0!==m&&(b[a]=m);return h.concat()},isClockWise:function(a){return 0>V.ShapeUtils.area(a)},b2:function(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d},b3:function(a,b,c,d,e){var f=1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*a*a*d+a*a*a*e}};V.Curve=function(){};
V.Curve.prototype={constructor:V.Curve,getPoint:function(){console.warn("THREE.Curve: Warning, getPoint() not implemented!");return null},getPointAt:function(a){a=vc(this,a);return this.getPoint(a)},getPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPoint(b/a));return c},getSpacedPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPointAt(b/a));return c},getLength:function(){var a=wc(this);return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=
!0;wc(this)},getTangent:function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()}};function vc(a,b){a=wc(a);var c=a.length;var d=b*a[c-1];for(var e=0,f=c-1,g;e<=f;)if(b=Math.floor(e+(f-e)/2),g=a[b]-d,0>g)e=b+1;else if(0<g)f=b-1;else{f=b;break}b=f;if(a[b]===d)return b/(c-1);e=a[b];return a=(b+(d-e)/(a[b+1]-e))/(c-1)}
function wc(a){var b;b||(b=a.__arcLengthDivisions?a.__arcLengthDivisions:200);if(a.cacheArcLengths&&a.cacheArcLengths.length===b+1&&!a.needsUpdate)return a.cacheArcLengths;a.needsUpdate=!1;var c=[],d=a.getPoint(0),e,f=0;c.push(0);for(e=1;e<=b;e++){var g=a.getPoint(e/b);f+=g.distanceTo(d);c.push(f);d=g}return a.cacheArcLengths=c}V.Curve.create=function(a,b){a.prototype=Object.create(V.Curve.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};
V.CurvePath=function(){this.curves=[];this.autoClose=!1};
V.CurvePath.prototype=Object.assign(Object.create(V.Curve.prototype),{constructor:V.CurvePath,add:function(a){this.curves.push(a)},closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new V.LineCurve(b,a))},getPoint:function(a){for(var b=a*this.getLength(),c=this.getCurveLengths(),d=0;d<c.length;){if(c[d]>=b)return a=this.curves[d],b=1-(c[d]-b)/a.getLength(),a.getPointAt(b);d++}return null},getLength:function(){var a=this.getCurveLengths();
return a[a.length-1]},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},createPointsGeometry:function(a){a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){for(var b=new V.Geometry,c=0,d=a.length;c<
d;c++){var e=a[c];b.vertices.push(new V.Vector3(e.x,e.y,e.z||0))}return b}});V.Font=function(a){this.data=a};
Object.assign(V.Font.prototype,{generateShapes:function(a,b,c){void 0===b&&(b=100);void 0===c&&(c=4);var d=this.data;a=String(a).split("");var e=b/d.resolution,f=0;b=[];for(var g=0;g<a.length;g++){var h;var l=e;var m=f,n=d.glyphs[a[g]]||d.glyphs["?"];if(n){var q=new V.Path,p=[],t=V.ShapeUtils.b2,r=V.ShapeUtils.b3;if(n.o)for(var w=n._cachedOutline||(n._cachedOutline=n.o.split(" ")),v=0,y=w.length;v<y;)switch(w[v++]){case "m":var x=w[v++]*l+m;var A=w[v++]*l;q.moveTo(x,A);break;case "l":x=w[v++]*l+m;
A=w[v++]*l;q.lineTo(x,A);break;case "q":var B=w[v++]*l+m;var H=w[v++]*l;var E=w[v++]*l+m;var I=w[v++]*l;q.quadraticCurveTo(E,I,B,H);if(h=p[p.length-1]){var D=h.x;h=h.y;for(var C=1;C<=c;C++){var F=C/c;t(F,D,E,B);t(F,h,I,H)}}break;case "b":if(B=w[v++]*l+m,H=w[v++]*l,E=w[v++]*l+m,I=w[v++]*l,x=w[v++]*l+m,A=w[v++]*l,q.bezierCurveTo(E,I,x,A,B,H),h=p[p.length-1])for(D=h.x,h=h.y,C=1;C<=c;C++)F=C/c,r(F,D,E,x,B),r(F,h,I,A,H)}l={offset:n.ha*l,path:q}}else l=void 0;f+=l.offset;b.push(l.path)}c=[];d=0;for(a=b.length;d<
a;d++)Array.prototype.push.apply(c,b[d].toShapes());return c}});V.Path=function(a){V.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};
V.Path.prototype=Object.assign(Object.create(V.CurvePath.prototype),{constructor:V.Path,fromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.actions.push({action:"moveTo",args:[a,b]})},lineTo:function(a,b){var c=this.actions[this.actions.length-1].args;this.curves.push(new V.LineCurve(new V.Vector2(c[c.length-2],c[c.length-1]),new V.Vector2(a,b)));this.actions.push({action:"lineTo",args:[a,b]})},quadraticCurveTo:function(a,
b,c,d){var e=this.actions[this.actions.length-1].args;this.curves.push(new V.QuadraticBezierCurve(new V.Vector2(e[e.length-2],e[e.length-1]),new V.Vector2(a,b),new V.Vector2(c,d)));this.actions.push({action:"quadraticCurveTo",args:[a,b,c,d]})},bezierCurveTo:function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.curves.push(new V.CubicBezierCurve(new V.Vector2(g[g.length-2],g[g.length-1]),new V.Vector2(a,b),new V.Vector2(c,d),new V.Vector2(e,f)));this.actions.push({action:"bezierCurveTo",
args:[a,b,c,d,e,f]})},splineThru:function(a){var b=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args;c=[new V.Vector2(c[c.length-2],c[c.length-1])];Array.prototype.push.apply(c,a);this.curves.push(new V.SplineCurve(c));this.actions.push({action:"splineThru",args:b})},arc:function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.absarc(a+g[g.length-2],b+g[g.length-1],c,d,e,f)},absarc:function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function(a,
b,c,d,e,f,g,h){var l=this.actions[this.actions.length-1].args;this.absellipse(a+l[l.length-2],b+l[l.length-1],c,d,e,f,g,h)},absellipse:function(a,b,c,d,e,f,g,h){var l=[a,b,c,d,e,f,g,h||0];a=new V.EllipseCurve(a,b,c,d,e,f,g,h);this.curves.push(a);a=a.getPoint(1);l.push(a.x);l.push(a.y);this.actions.push({action:"ellipse",args:l})},getSpacedPoints:function(a){a||(a=40);for(var b=[],c=0;c<a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var b=
V.ShapeUtils.b2,c=V.ShapeUtils.b3,d=[],e,f,g,h,l,m,n,q,p,t,r=0,w=this.actions.length;r<w;r++){p=this.actions[r];var v=p.args;switch(p.action){case "moveTo":d.push(new V.Vector2(v[0],v[1]));break;case "lineTo":d.push(new V.Vector2(v[0],v[1]));break;case "quadraticCurveTo":e=v[2];f=v[3];l=v[0];m=v[1];0<d.length?(p=d[d.length-1],n=p.x,q=p.y):(p=this.actions[r-1].args,n=p[p.length-2],q=p[p.length-1]);for(v=1;v<=a;v++)t=v/a,p=b(t,n,l,e),t=b(t,q,m,f),d.push(new V.Vector2(p,t));break;case "bezierCurveTo":e=
v[4];f=v[5];l=v[0];m=v[1];g=v[2];h=v[3];0<d.length?(p=d[d.length-1],n=p.x,q=p.y):(p=this.actions[r-1].args,n=p[p.length-2],q=p[p.length-1]);for(v=1;v<=a;v++)t=v/a,p=c(t,n,l,g,e),t=c(t,q,m,h,f),d.push(new V.Vector2(p,t));break;case "splineThru":p=this.actions[r-1].args;t=[new V.Vector2(p[p.length-2],p[p.length-1])];p=a*v[0].length;t=t.concat(v[0]);t=new V.SplineCurve(t);for(v=1;v<=p;v++)d.push(t.getPointAt(v/p));break;case "arc":e=v[0];f=v[1];m=v[2];g=v[3];p=v[4];l=!!v[5];n=p-g;q=2*a;for(v=1;v<=q;v++)t=
v/q,l||(t=1-t),t=g+t*n,p=e+m*Math.cos(t),t=f+m*Math.sin(t),d.push(new V.Vector2(p,t));break;case "ellipse":e=v[0];f=v[1];m=v[2];h=v[3];g=v[4];p=v[5];l=!!v[6];var y=v[7];n=p-g;q=2*a;if(0!==y){var x=Math.cos(y);var A=Math.sin(y)}for(v=1;v<=q;v++){t=v/q;l||(t=1-t);t=g+t*n;p=e+m*Math.cos(t);t=f+h*Math.sin(t);if(0!==y){var B=p;p=(B-e)*x-(t-f)*A+e;t=(B-e)*A+(t-f)*x+f}d.push(new V.Vector2(p,t))}}}a=d[d.length-1];Math.abs(a.x-d[0].x)<Number.EPSILON&&Math.abs(a.y-d[0].y)<Number.EPSILON&&d.splice(d.length-
1,1);this.autoClose&&d.push(d[0]);return d},toShapes:function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new V.Shape;f.actions=e.actions;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],l=h.x-g.x,m=h.y-g.y;if(Math.abs(m)>Number.EPSILON){if(0>m&&(g=b[f],l=-l,h=b[e],m=-m),!(a.y<g.y||a.y>h.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=m*(a.x-g.x)-l*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&
(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x))return!0}return d}var e=V.ShapeUtils.isClockWise,f=function(a){for(var b=[],c=new V.Path,d=0,e=a.length;d<e;d++){var f=a[d],g=f.args;f=f.action;"moveTo"===f&&0!==c.actions.length&&(b.push(c),c=new V.Path);c[f].apply(c,g)}0!==c.actions.length&&b.push(c);return b}(this.actions);if(0===f.length)return[];if(!0===b)return c(f);b=[];if(1===f.length){var g=f[0];var h=new V.Shape;h.actions=g.actions;h.curves=g.curves;b.push(h);return b}var l=!e(f[0].getPoints());l=
a?!l:l;h=[];var m=[],n=[],q=0;m[q]=void 0;n[q]=[];for(var p=0,t=f.length;p<t;p++){g=f[p];var r=g.getPoints();var w=e(r);(w=a?!w:w)?(!l&&m[q]&&q++,m[q]={s:new V.Shape,p:r},m[q].s.actions=g.actions,m[q].s.curves=g.curves,l&&q++,n[q]=[]):n[q].push({h:g,p:r[0]})}if(!m[0])return c(f);if(1<m.length){p=!1;a=[];e=0;for(f=m.length;e<f;e++)h[e]=[];e=0;for(f=m.length;e<f;e++)for(g=n[e],w=0;w<g.length;w++){l=g[w];q=!0;for(r=0;r<m.length;r++)d(l.p,m[r].p)&&(e!==r&&a.push({froms:e,tos:r,hole:w}),q?(q=!1,h[r].push(l)):
p=!0);q&&h[e].push(l)}0<a.length&&(p||(n=h))}p=0;for(e=m.length;p<e;p++)for(h=m[p].s,b.push(h),a=n[p],f=0,g=a.length;f<g;f++)h.holes.push(a[f].h);return b}});V.Shape=function(){V.Path.apply(this,arguments);this.holes=[]};
V.Shape.prototype=Object.assign(Object.create(V.Path.prototype),{constructor:V.Shape,extrude:function(a){return new V.ExtrudeGeometry(this,a)},makeGeometry:function(a){return new V.ShapeGeometry(this,a)},getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractAllPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},extractPoints:function(a){return this.extractAllPoints(a)}});
V.LineCurve=function(a,b){this.v1=a;this.v2=b};V.LineCurve.prototype=Object.create(V.Curve.prototype);V.LineCurve.prototype.constructor=V.LineCurve;V.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};V.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};V.LineCurve.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};V.QuadraticBezierCurve=function(a,b,c){this.v0=a;this.v1=b;this.v2=c};
V.QuadraticBezierCurve.prototype=Object.create(V.Curve.prototype);V.QuadraticBezierCurve.prototype.constructor=V.QuadraticBezierCurve;V.QuadraticBezierCurve.prototype.getPoint=function(a){var b=V.ShapeUtils.b2;return new V.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))};V.QuadraticBezierCurve.prototype.getTangent=function(a){var b=V.CurveUtils.tangentQuadraticBezier;return(new V.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))).normalize()};
V.CubicBezierCurve=function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d};V.CubicBezierCurve.prototype=Object.create(V.Curve.prototype);V.CubicBezierCurve.prototype.constructor=V.CubicBezierCurve;V.CubicBezierCurve.prototype.getPoint=function(a){var b=V.ShapeUtils.b3;return new V.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))};
V.CubicBezierCurve.prototype.getTangent=function(a){var b=V.CurveUtils.tangentCubicBezier;return(new V.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))).normalize()};V.SplineCurve=function(a){this.points=void 0==a?[]:a};V.SplineCurve.prototype=Object.create(V.Curve.prototype);V.SplineCurve.prototype.constructor=V.SplineCurve;
V.SplineCurve.prototype.getPoint=function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0===c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1];b=b[c>b.length-3?b.length-1:c+2];c=V.CurveUtils.interpolate;return new V.Vector2(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a))};V.EllipseCurve=function(a,b,c,d,e,f,g,h){this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=f;this.aClockwise=g;this.aRotation=h||0};V.EllipseCurve.prototype=Object.create(V.Curve.prototype);
V.EllipseCurve.prototype.constructor=V.EllipseCurve;
V.EllipseCurve.prototype.getPoint=function(a){var b=this.aEndAngle-this.aStartAngle;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);b=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-b):this.aStartAngle+a*b;a=this.aX+this.xRadius*Math.cos(b);var c=this.aY+this.yRadius*Math.sin(b);if(0!==this.aRotation){b=Math.cos(this.aRotation);var d=Math.sin(this.aRotation),e=a;a=(e-this.aX)*b-(c-this.aY)*d+this.aX;c=(e-this.aX)*d+(c-this.aY)*b+this.aY}return new V.Vector2(a,c)};
V.ArcCurve=function(a,b,c,d,e,f){V.EllipseCurve.call(this,a,b,c,c,d,e,f)};V.ArcCurve.prototype=Object.create(V.EllipseCurve.prototype);V.ArcCurve.prototype.constructor=V.ArcCurve;V.LineCurve3=V.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new V.Vector3;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b});
V.QuadraticBezierCurve3=V.Curve.create(function(a,b,c){this.v0=a;this.v1=b;this.v2=c},function(a){var b=V.ShapeUtils.b2;return new V.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y),b(a,this.v0.z,this.v1.z,this.v2.z))});
V.CubicBezierCurve3=V.Curve.create(function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d},function(a){var b=V.ShapeUtils.b3;return new V.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y),b(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z))});
V.SplineCurve3=V.Curve.create(function(a){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1];b=b[c>b.length-3?b.length-1:c+2];c=V.CurveUtils.interpolate;return new V.Vector3(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a),c(d.z,e.z,f.z,b.z,a))});
V.CatmullRomCurve3=function(){function a(){}var b=new V.Vector3,c=new a,d=new a,e=new a;a.prototype.init=function(a,b,c,d){this.c0=a;this.c1=c;this.c2=-3*a+3*b-2*c-d;this.c3=2*a-2*b+c+d};a.prototype.initNonuniformCatmullRom=function(a,b,c,d,e,n,q){this.init(b,c,((b-a)/e-(c-a)/(e+n)+(c-b)/n)*n,((c-b)/n-(d-b)/(n+q)+(d-c)/q)*n)};a.prototype.initCatmullRom=function(a,b,c,d,e){this.init(b,c,e*(c-a),e*(d-b))};a.prototype.calc=function(a){var b=a*a;return this.c0+this.c1*a+this.c2*b+this.c3*b*a};return V.Curve.create(function(a){this.points=
a||[];this.closed=!1},function(a){var f=this.points;var h=f.length;2>h&&console.log("duh, you need at least 2 points");a*=h-(this.closed?0:1);var l=Math.floor(a);a-=l;this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/f.length)+1)*f.length:0===a&&l===h-1&&(l=h-2,a=1);if(this.closed||0<l)var m=f[(l-1)%h];else b.subVectors(f[0],f[1]).add(f[0]),m=b;var n=f[l%h];var q=f[(l+1)%h];this.closed||l+2<h?f=f[(l+2)%h]:(b.subVectors(f[h-1],f[h-2]).add(f[h-1]),f=b);if(void 0===this.type||"centripetal"===this.type||"chordal"===
this.type){var p="chordal"===this.type?.5:.25;h=Math.pow(m.distanceToSquared(n),p);l=Math.pow(n.distanceToSquared(q),p);p=Math.pow(q.distanceToSquared(f),p);1E-4>l&&(l=1);1E-4>h&&(h=l);1E-4>p&&(p=l);c.initNonuniformCatmullRom(m.x,n.x,q.x,f.x,h,l,p);d.initNonuniformCatmullRom(m.y,n.y,q.y,f.y,h,l,p);e.initNonuniformCatmullRom(m.z,n.z,q.z,f.z,h,l,p)}else"catmullrom"===this.type&&(h=void 0!==this.tension?this.tension:.5,c.initCatmullRom(m.x,n.x,q.x,f.x,h),d.initCatmullRom(m.y,n.y,q.y,f.y,h),e.initCatmullRom(m.z,
n.z,q.z,f.z,h));return new V.Vector3(c.calc(a),d.calc(a),e.calc(a))})}();V.ClosedSplineCurve3=function(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.");V.CatmullRomCurve3.call(this,a);this.type="catmullrom";this.closed=!0};V.ClosedSplineCurve3.prototype=Object.create(V.CatmullRomCurve3.prototype);
V.BoxGeometry=function(a,b,c,d,e,f){V.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new V.BoxBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};V.BoxGeometry.prototype=Object.create(V.Geometry.prototype);V.BoxGeometry.prototype.constructor=V.BoxGeometry;V.CubeGeometry=V.BoxGeometry;
V.BoxBufferGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,l,m,K,S){var A=f/m,B=g/K,E=f/2,C=g/2,I=l/2;g=m+1;for(var H=K+1,D=f=0,F=new V.Vector3,J=0;J<H;J++)for(var da=J*B-C,Ea=0;Ea<g;Ea++)F[a]=(Ea*A-E)*d,F[b]=da*e,F[c]=I,q[r]=F.x,q[r+1]=F.y,q[r+2]=F.z,F[a]=0,F[b]=0,F[c]=0<l?1:-1,p[r]=F.x,p[r+1]=F.y,p[r+2]=F.z,t[w]=Ea/m,t[w+1]=1-J/K,r+=3,w+=2,f+=1;for(J=0;J<K;J++)for(Ea=0;Ea<m;Ea++)a=y+Ea+g*(J+1),b=y+(Ea+1)+g*(J+1),c=y+(Ea+1)+g*J,n[v]=y+Ea+g*J,n[v+1]=a,n[v+2]=c,n[v+3]=a,n[v+4]=b,n[v+5]=c,v+=
6,D+=6;h.addGroup(x,D,S);x+=D;y+=f}V.BufferGeometry.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var h=this;d=Math.floor(d)||1;e=Math.floor(e)||1;f=Math.floor(f)||1;var l=function(a,b,c){return a=(a+1)*(b+1)*2+(a+1)*(c+1)*2+(c+1)*(b+1)*2}(d,e,f),m=function(a,b,c){a=a*b*2+a*c*2+c*b*2;return 6*a}(d,e,f),n=new (65535<m?Uint32Array:Uint16Array)(m),q=new Float32Array(3*l),p=new Float32Array(3*l),t=new Float32Array(2*
l),r=0,w=0,v=0,y=0,x=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y","x",1,-1,c,b,-a,f,e,1);g("x","z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z",1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(new V.BufferAttribute(n,1));this.addAttribute("position",new V.BufferAttribute(q,3));this.addAttribute("normal",new V.BufferAttribute(p,3));this.addAttribute("uv",new V.BufferAttribute(t,2))};V.BoxBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);
V.BoxBufferGeometry.prototype.constructor=V.BoxBufferGeometry;V.CircleGeometry=function(a,b,c,d){V.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new V.CircleBufferGeometry(a,b,c,d))};V.CircleGeometry.prototype=Object.create(V.Geometry.prototype);V.CircleGeometry.prototype.constructor=V.CircleGeometry;
V.CircleBufferGeometry=function(a,b,c,d){V.BufferGeometry.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||50;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=b+2,f=new Float32Array(3*e),g=new Float32Array(3*e);e=new Float32Array(2*e);g[2]=1;e[0]=.5;e[1]=.5;for(var h=0,l=3,m=2;h<=b;h++,l+=3,m+=2){var n=c+h/b*d;f[l]=a*Math.cos(n);f[l+1]=a*Math.sin(n);g[l+2]=1;e[m]=(f[l]/a+1)/2;e[m+1]=(f[l+1]/a+1)/2}c=[];for(l=
1;l<=b;l++)c.push(l,l+1,0);this.setIndex(new V.BufferAttribute(new Uint16Array(c),1));this.addAttribute("position",new V.BufferAttribute(f,3));this.addAttribute("normal",new V.BufferAttribute(g,3));this.addAttribute("uv",new V.BufferAttribute(e,2));this.boundingSphere=new V.Sphere(new V.Vector3,a)};V.CircleBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.CircleBufferGeometry.prototype.constructor=V.CircleBufferGeometry;
V.CylinderBufferGeometry=function(a,b,c,d,e,f,g,h){function l(c){var e,f=new V.Vector2,l=new V.Vector3,n=0,q=!0===c?a:b,p=!0===c?1:-1;var A=y;for(e=1;e<=d;e++)r.setXYZ(y,0,B*p,0),w.setXYZ(y,0,p,0),f.x=.5,f.y=.5,v.setXY(y,f.x,f.y),y++;var E=y;for(e=0;e<=d;e++){var M=e/d*h+g,P=Math.cos(M);M=Math.sin(M);l.x=q*M;l.y=B*p;l.z=q*P;r.setXYZ(y,l.x,l.y,l.z);w.setXYZ(y,0,p,0);f.x=.5*P+.5;f.y=.5*M*p+.5;v.setXY(y,f.x,f.y);y++}for(e=0;e<d;e++)f=A+e,l=E+e,!0===c?(t.setX(x,l),x++,t.setX(x,l+1)):(t.setX(x,l+1),x++,
t.setX(x,l)),x++,t.setX(x,f),x++,n+=3;m.addGroup(H,n,!0===c?1:2);H+=n}V.BufferGeometry.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};var m=this;a=void 0!==a?a:20;b=void 0!==b?b:20;c=void 0!==c?c:100;d=Math.floor(d)||8;e=Math.floor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==h?h:2*Math.PI;var n=0;!1===f&&(0<a&&n++,0<b&&n++);var q=function(){var a=(d+1)*(e+1);!1===f&&
(a+=(d+1)*n+d*n);return a}(),p=function(){var a=d*e*6;!1===f&&(a+=d*n*3);return a}(),t=new V.BufferAttribute(new (65535<p?Uint32Array:Uint16Array)(p),1),r=new V.BufferAttribute(new Float32Array(3*q),3),w=new V.BufferAttribute(new Float32Array(3*q),3),v=new V.BufferAttribute(new Float32Array(2*q),2),y=0,x=0,A=[],B=c/2,H=0;(function(){var f,l,n=new V.Vector3,p=new V.Vector3,q=0,J=(b-a)/c;for(l=0;l<=e;l++){var K=[],S=l/e,O=S*(b-a)+a;for(f=0;f<=d;f++){var M=f/d;p.x=O*Math.sin(M*h+g);p.y=-S*c+B;p.z=O*
Math.cos(M*h+g);r.setXYZ(y,p.x,p.y,p.z);n.copy(p);if(0===a&&0===l||0===b&&l===e)n.x=Math.sin(M*h+g),n.z=Math.cos(M*h+g);n.setY(Math.sqrt(n.x*n.x+n.z*n.z)*J).normalize();w.setXYZ(y,n.x,n.y,n.z);v.setXY(y,M,1-S);K.push(y);y++}A.push(K)}for(f=0;f<d;f++)for(l=0;l<e;l++)n=A[l+1][f],p=A[l+1][f+1],J=A[l][f+1],t.setX(x,A[l][f]),x++,t.setX(x,n),x++,t.setX(x,J),x++,t.setX(x,n),x++,t.setX(x,p),x++,t.setX(x,J),x++,q+=6;m.addGroup(H,q,0);H+=q})();!1===f&&(0<a&&l(!0),0<b&&l(!1));this.setIndex(t);this.addAttribute("position",
r);this.addAttribute("normal",w);this.addAttribute("uv",v)};V.CylinderBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.CylinderBufferGeometry.prototype.constructor=V.CylinderBufferGeometry;
V.CylinderGeometry=function(a,b,c,d,e,f,g,h){V.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new V.CylinderBufferGeometry(a,b,c,d,e,f,g,h));this.mergeVertices()};V.CylinderGeometry.prototype=Object.create(V.Geometry.prototype);V.CylinderGeometry.prototype.constructor=V.CylinderGeometry;
V.ConeBufferGeometry=function(a,b,c,d,e,f,g){V.CylinderBufferGeometry.call(this,0,a,b,c,d,e,f,g);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,thetaStart:f,thetaLength:g}};V.ConeBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.ConeBufferGeometry.prototype.constructor=V.ConeBufferGeometry;
V.ConeGeometry=function(a,b,c,d,e,f,g){V.CylinderGeometry.call(this,0,a,b,c,d,e,f,g);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}};V.ConeGeometry.prototype=Object.create(V.CylinderGeometry.prototype);V.ConeGeometry.prototype.constructor=V.ConeGeometry;
V.EdgesGeometry=function(a,b){function c(a,b){return a-b}V.BufferGeometry.call(this);b=Math.cos(V.Math.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},f=["a","b","c"];if(a instanceof V.BufferGeometry){var g=new V.Geometry;g.fromBufferGeometry(a)}else g=a.clone();g.mergeVertices();g.computeFaceNormals();a=g.vertices;g=g.faces;for(var h=0,l=g.length;h<l;h++)for(var m=g[h],n=0;3>n;n++){d[0]=m[f[n]];d[1]=m[f[(n+1)%3]];d.sort(c);var q=d.toString();void 0===e[q]?e[q]={vert1:d[0],vert2:d[1],face1:h,face2:void 0}:
e[q].face2=h}d=[];for(q in e)if(f=e[q],void 0===f.face2||g[f.face1].normal.dot(g[f.face2].normal)<=b)h=a[f.vert1],d.push(h.x),d.push(h.y),d.push(h.z),h=a[f.vert2],d.push(h.x),d.push(h.y),d.push(h.z);this.addAttribute("position",new V.BufferAttribute(new Float32Array(d),3))};V.EdgesGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.EdgesGeometry.prototype.constructor=V.EdgesGeometry;
V.ExtrudeGeometry=function(a,b){"undefined"!==typeof a&&(V.Geometry.call(this),this.type="ExtrudeGeometry",a=Array.isArray(a)?a:[a],this.addShapeList(a,b),this.computeFaceNormals())};V.ExtrudeGeometry.prototype=Object.create(V.Geometry.prototype);V.ExtrudeGeometry.prototype.constructor=V.ExtrudeGeometry;V.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addShape(a[d],b)};
V.ExtrudeGeometry.prototype.addShape=function(a,b){function c(a,b,c){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function d(a,b,c){var d=a.x-b.x;var e=a.y-b.y;var f=c.x-a.x;var g=c.y-a.y,h=d*d+e*e;if(Math.abs(d*g-e*f)>Number.EPSILON){var l=Math.sqrt(h),m=Math.sqrt(f*f+g*g);h=b.x-e/l;b=b.y+d/l;g=((c.x-g/m-h)*g-(c.y+f/m-b)*f)/(d*g-e*f);f=h+d*g-a.x;d=b+e*g-a.y;e=f*f+d*d;if(2>=e)return new V.Vector2(f,d);e=Math.sqrt(e/2)}else a=!1,d>Number.EPSILON?
f>Number.EPSILON&&(a=!0):d<-Number.EPSILON?f<-Number.EPSILON&&(a=!0):Math.sign(e)===Math.sign(g)&&(a=!0),a?(f=-e,e=Math.sqrt(h)):(f=d,d=e,e=Math.sqrt(h/2));return new V.Vector2(f/e,d/e)}function e(a,b){for(N=a.length;0<=--N;){var c=N;var d=N-1;0>d&&(d=a.length-1);var e,f=t+2*n;for(e=0;e<f;e++){var g=M*e,h=M*(e+1),l=b+c+g;g=b+d+g;var m=b+d+h;h=b+c+h;l+=D;g+=D;m+=D;h+=D;I.faces.push(new V.Face3(l,g,h,null,null,1));I.faces.push(new V.Face3(g,m,h,null,null,1));l=v.generateSideWallUV(I,l,g,m,h);I.faceVertexUvs[0].push([l[0],
l[1],l[3]]);I.faceVertexUvs[0].push([l[1],l[2],l[3]])}}}function f(a,b,c){I.vertices.push(new V.Vector3(a,b,c))}function g(a,b,c){a+=D;b+=D;c+=D;I.faces.push(new V.Face3(a,b,c,null,null,0));I.faceVertexUvs[0].push(v.generateTopUV(I,a,b,c))}var h=void 0!==b.amount?b.amount:100,l=void 0!==b.bevelThickness?b.bevelThickness:6,m=void 0!==b.bevelSize?b.bevelSize:l-2,n=void 0!==b.bevelSegments?b.bevelSegments:3,q=void 0!==b.bevelEnabled?b.bevelEnabled:!0,p=void 0!==b.curveSegments?b.curveSegments:12,t=void 0!==
b.steps?b.steps:1,r=b.extrudePath,w=!1,v=void 0!==b.UVGenerator?b.UVGenerator:V.ExtrudeGeometry.WorldUVGenerator;if(r){var y=r.getSpacedPoints(t);w=!0;q=!1;var x=void 0!==b.frames?b.frames:new V.TubeGeometry.FrenetFrames(r,t,!1);var A=new V.Vector3;var B=new V.Vector3;var H=new V.Vector3}q||(m=l=n=0);var E,I=this,D=this.vertices.length;b=a.extractPoints(p);a=b.shape;var C=b.holes;if(b=!V.ShapeUtils.isClockWise(a)){a=a.reverse();var F=0;for(E=C.length;F<E;F++){var J=C[F];V.ShapeUtils.isClockWise(J)&&
(C[F]=J.reverse())}b=!1}var K=V.ShapeUtils.triangulateShape(a,C),S=a;F=0;for(E=C.length;F<E;F++)J=C[F],a=a.concat(J);var O,M=a.length,P,Q=K.length;b=[];var N=0;var U=S.length;var T=U-1;for(O=N+1;N<U;N++,T++,O++)T===U&&(T=0),O===U&&(O=0),b[N]=d(S[N],S[T],S[O]);p=[];r=b.concat();F=0;for(E=C.length;F<E;F++){J=C[F];var fa=[];N=0;U=J.length;T=U-1;for(O=N+1;N<U;N++,T++,O++)T===U&&(T=0),O===U&&(O=0),fa[N]=d(J[N],J[T],J[O]);p.push(fa);r=r.concat(fa)}for(T=0;T<n;T++){U=T/n;var Da=l*(1-U);O=m*Math.sin(U*Math.PI/
2);N=0;for(U=S.length;N<U;N++){var da=c(S[N],b[N],O);f(da.x,da.y,-Da)}F=0;for(E=C.length;F<E;F++)for(J=C[F],fa=p[F],N=0,U=J.length;N<U;N++)da=c(J[N],fa[N],O),f(da.x,da.y,-Da)}O=m;for(N=0;N<M;N++)da=q?c(a[N],r[N],O):a[N],w?(B.copy(x.normals[0]).multiplyScalar(da.x),A.copy(x.binormals[0]).multiplyScalar(da.y),H.copy(y[0]).add(B).add(A),f(H.x,H.y,H.z)):f(da.x,da.y,0);for(U=1;U<=t;U++)for(N=0;N<M;N++)da=q?c(a[N],r[N],O):a[N],w?(B.copy(x.normals[U]).multiplyScalar(da.x),A.copy(x.binormals[U]).multiplyScalar(da.y),
H.copy(y[U]).add(B).add(A),f(H.x,H.y,H.z)):f(da.x,da.y,h/t*U);for(T=n-1;0<=T;T--){U=T/n;Da=l*(1-U);O=m*Math.sin(U*Math.PI/2);N=0;for(U=S.length;N<U;N++)da=c(S[N],b[N],O),f(da.x,da.y,h+Da);F=0;for(E=C.length;F<E;F++)for(J=C[F],fa=p[F],N=0,U=J.length;N<U;N++)da=c(J[N],fa[N],O),w?f(da.x,da.y+y[t-1].y,y[t-1].x+Da):f(da.x,da.y,h+Da)}(function(){if(q){var a=0*M;for(N=0;N<Q;N++)P=K[N],g(P[2]+a,P[1]+a,P[0]+a);a=M*(t+2*n);for(N=0;N<Q;N++)P=K[N],g(P[0]+a,P[1]+a,P[2]+a)}else{for(N=0;N<Q;N++)P=K[N],g(P[2],P[1],
P[0]);for(N=0;N<Q;N++)P=K[N],g(P[0]+M*t,P[1]+M*t,P[2]+M*t)}})();(function(){var a=0;e(S,a);a+=S.length;F=0;for(E=C.length;F<E;F++)J=C[F],e(J,a),a+=J.length})()};
V.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,c,d){a=a.vertices;b=a[b];c=a[c];d=a[d];return[new V.Vector2(b.x,b.y),new V.Vector2(c.x,c.y),new V.Vector2(d.x,d.y)]},generateSideWallUV:function(a,b,c,d,e){a=a.vertices;b=a[b];c=a[c];d=a[d];e=a[e];return.01>Math.abs(b.y-c.y)?[new V.Vector2(b.x,1-b.z),new V.Vector2(c.x,1-c.z),new V.Vector2(d.x,1-d.z),new V.Vector2(e.x,1-e.z)]:[new V.Vector2(b.y,1-b.z),new V.Vector2(c.y,1-c.z),new V.Vector2(d.y,1-d.z),new V.Vector2(e.y,1-e.z)]}};
V.ShapeGeometry=function(a,b){V.Geometry.call(this);this.type="ShapeGeometry";!1===Array.isArray(a)&&(a=[a]);this.addShapeList(a,b);this.computeFaceNormals()};V.ShapeGeometry.prototype=Object.create(V.Geometry.prototype);V.ShapeGeometry.prototype.constructor=V.ShapeGeometry;V.ShapeGeometry.prototype.addShapeList=function(a,b){for(var c=0,d=a.length;c<d;c++)this.addShape(a[c],b)};
V.ShapeGeometry.prototype.addShape=function(a,b){void 0===b&&(b={});var c=b.material,d=void 0===b.UVGenerator?V.ExtrudeGeometry.WorldUVGenerator:b.UVGenerator,e,f=this.vertices.length;a=a.extractPoints(void 0!==b.curveSegments?b.curveSegments:12);var g=a.shape,h=a.holes;if(!V.ShapeUtils.isClockWise(g))for(g=g.reverse(),a=0,e=h.length;a<e;a++){var l=h[a];V.ShapeUtils.isClockWise(l)&&(h[a]=l.reverse())}b=V.ShapeUtils.triangulateShape(g,h);a=0;for(e=h.length;a<e;a++)l=h[a],g=g.concat(l);h=g.length;e=
b.length;for(a=0;a<h;a++)l=g[a],this.vertices.push(new V.Vector3(l.x,l.y,0));for(a=0;a<e;a++)h=b[a],g=h[0]+f,l=h[1]+f,h=h[2]+f,this.faces.push(new V.Face3(g,l,h,null,null,c)),this.faceVertexUvs[0].push(d.generateTopUV(this,g,l,h))};
V.LatheBufferGeometry=function(a,b,c,d){V.BufferGeometry.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=V.Math.clamp(d,0,2*Math.PI);var e=(b+1)*a.length,f=b*a.length*6,g=new V.BufferAttribute(new (65535<f?Uint32Array:Uint16Array)(f),1),h=new V.BufferAttribute(new Float32Array(3*e),3),l=new V.BufferAttribute(new Float32Array(2*e),2),m=0,n=0,q=1/b,p=new V.Vector3,t=new V.Vector2;for(e=0;e<=b;e++){f=
c+e*q*d;var r=Math.sin(f),w=Math.cos(f);for(f=0;f<=a.length-1;f++)p.x=a[f].x*r,p.y=a[f].y,p.z=a[f].x*w,h.setXYZ(m,p.x,p.y,p.z),t.x=e/b,t.y=f/(a.length-1),l.setXY(m,t.x,t.y),m++}for(e=0;e<b;e++)for(f=0;f<a.length-1;f++)c=f+e*a.length,m=c+a.length,q=c+a.length+1,p=c+1,g.setX(n,c),n++,g.setX(n,m),n++,g.setX(n,p),n++,g.setX(n,m),n++,g.setX(n,q),n++,g.setX(n,p),n++;this.setIndex(g);this.addAttribute("position",h);this.addAttribute("uv",l);this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,
g=new V.Vector3,h=new V.Vector3,l=new V.Vector3,c=b*a.length*3,f=e=0;e<a.length;e++,f+=3)g.x=d[f+0],g.y=d[f+1],g.z=d[f+2],h.x=d[c+f+0],h.y=d[c+f+1],h.z=d[c+f+2],l.addVectors(g,h).normalize(),d[f+0]=d[c+f+0]=l.x,d[f+1]=d[c+f+1]=l.y,d[f+2]=d[c+f+2]=l.z};V.LatheBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.LatheBufferGeometry.prototype.constructor=V.LatheBufferGeometry;
V.LatheGeometry=function(a,b,c,d){V.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new V.LatheBufferGeometry(a,b,c,d));this.mergeVertices()};V.LatheGeometry.prototype=Object.create(V.Geometry.prototype);V.LatheGeometry.prototype.constructor=V.LatheGeometry;
V.PlaneGeometry=function(a,b,c,d){V.Geometry.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new V.PlaneBufferGeometry(a,b,c,d))};V.PlaneGeometry.prototype=Object.create(V.Geometry.prototype);V.PlaneGeometry.prototype.constructor=V.PlaneGeometry;
V.PlaneBufferGeometry=function(a,b,c,d){V.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};var e=a/2,f=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;var g=c+1,h=d+1,l=a/c,m=b/d;b=new Float32Array(g*h*3);a=new Float32Array(g*h*3);for(var n=new Float32Array(g*h*2),q=0,p=0,t=0;t<h;t++)for(var r=t*m-f,w=0;w<g;w++)b[q]=w*l-e,b[q+1]=-r,a[q+2]=1,n[p]=w/c,n[p+1]=1-t/d,q+=3,p+=2;q=0;e=new (65535<b.length/3?Uint32Array:Uint16Array)(c*
d*6);for(t=0;t<d;t++)for(w=0;w<c;w++)f=w+g*(t+1),h=w+1+g*(t+1),l=w+1+g*t,e[q]=w+g*t,e[q+1]=f,e[q+2]=l,e[q+3]=f,e[q+4]=h,e[q+5]=l,q+=6;this.setIndex(new V.BufferAttribute(e,1));this.addAttribute("position",new V.BufferAttribute(b,3));this.addAttribute("normal",new V.BufferAttribute(a,3));this.addAttribute("uv",new V.BufferAttribute(n,2))};V.PlaneBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.PlaneBufferGeometry.prototype.constructor=V.PlaneBufferGeometry;
V.RingBufferGeometry=function(a,b,c,d,e,f){V.BufferGeometry.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||20;b=b||50;e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;var g=(c+1)*(d+1),h=c*d*6;h=new V.BufferAttribute(new (65535<h?Uint32Array:Uint16Array)(h),1);var l=new V.BufferAttribute(new Float32Array(3*g),3),m=new V.BufferAttribute(new Float32Array(3*
g),3);g=new V.BufferAttribute(new Float32Array(2*g),2);var n=0,q=0,p=a,t=(b-a)/d,r=new V.Vector3,w=new V.Vector2,v;for(a=0;a<=d;a++){for(v=0;v<=c;v++){var y=e+v/c*f;r.x=p*Math.cos(y);r.y=p*Math.sin(y);l.setXYZ(n,r.x,r.y,r.z);m.setXYZ(n,0,0,1);w.x=(r.x/b+1)/2;w.y=(r.y/b+1)/2;g.setXY(n,w.x,w.y);n++}p+=t}for(a=0;a<d;a++)for(b=a*(c+1),v=0;v<c;v++)e=y=v+b,f=y+c+1,n=y+c+2,y+=1,h.setX(q,e),q++,h.setX(q,f),q++,h.setX(q,n),q++,h.setX(q,e),q++,h.setX(q,n),q++,h.setX(q,y),q++;this.setIndex(h);this.addAttribute("position",
l);this.addAttribute("normal",m);this.addAttribute("uv",g)};V.RingBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.RingBufferGeometry.prototype.constructor=V.RingBufferGeometry;V.RingGeometry=function(a,b,c,d,e,f){V.Geometry.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new V.RingBufferGeometry(a,b,c,d,e,f))};V.RingGeometry.prototype=Object.create(V.Geometry.prototype);
V.RingGeometry.prototype.constructor=V.RingGeometry;V.SphereGeometry=function(a,b,c,d,e,f,g){V.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new V.SphereBufferGeometry(a,b,c,d,e,f,g))};V.SphereGeometry.prototype=Object.create(V.Geometry.prototype);V.SphereGeometry.prototype.constructor=V.SphereGeometry;
V.SphereBufferGeometry=function(a,b,c,d,e,f,g){V.BufferGeometry.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;var h=f+g,l=(b+1)*(c+1),m=new V.BufferAttribute(new Float32Array(3*l),3),n=new V.BufferAttribute(new Float32Array(3*l),3);l=new V.BufferAttribute(new Float32Array(2*
l),2);for(var q=0,p=[],t=new V.Vector3,r=0;r<=c;r++){for(var w=[],v=r/c,y=0;y<=b;y++){var x=y/b,A=-a*Math.cos(d+x*e)*Math.sin(f+v*g),B=a*Math.cos(f+v*g),H=a*Math.sin(d+x*e)*Math.sin(f+v*g);t.set(A,B,H).normalize();m.setXYZ(q,A,B,H);n.setXYZ(q,t.x,t.y,t.z);l.setXY(q,x,1-v);w.push(q);q++}p.push(w)}d=[];for(r=0;r<c;r++)for(y=0;y<b;y++)e=p[r][y+1],g=p[r][y],q=p[r+1][y],t=p[r+1][y+1],(0!==r||0<f)&&d.push(e,g,t),(r!==c-1||h<Math.PI)&&d.push(g,q,t);this.setIndex(new (65535<m.count?V.Uint32Attribute:V.Uint16Attribute)(d,
1));this.addAttribute("position",m);this.addAttribute("normal",n);this.addAttribute("uv",l);this.boundingSphere=new V.Sphere(new V.Vector3,a)};V.SphereBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.SphereBufferGeometry.prototype.constructor=V.SphereBufferGeometry;
V.TextGeometry=function(a,b){b=b||{};var c=b.font;if(!1===c instanceof V.Font)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new V.Geometry;a=c.generateShapes(a,b.size,b.curveSegments);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);V.ExtrudeGeometry.call(this,a,b);this.type="TextGeometry"};V.TextGeometry.prototype=Object.create(V.ExtrudeGeometry.prototype);
V.TextGeometry.prototype.constructor=V.TextGeometry;
V.TorusBufferGeometry=function(a,b,c,d,e){V.BufferGeometry.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||100;b=b||40;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;var f=(c+1)*(d+1),g=c*d*6;g=new (65535<g?Uint32Array:Uint16Array)(g);var h=new Float32Array(3*f),l=new Float32Array(3*f);f=new Float32Array(2*f);var m=0,n=0,q=0,p=new V.Vector3,t=new V.Vector3,r=new V.Vector3,w,v;for(w=0;w<=c;w++)for(v=0;v<=d;v++){var y=
v/d*e,x=w/c*Math.PI*2;t.x=(a+b*Math.cos(x))*Math.cos(y);t.y=(a+b*Math.cos(x))*Math.sin(y);t.z=b*Math.sin(x);h[m]=t.x;h[m+1]=t.y;h[m+2]=t.z;p.x=a*Math.cos(y);p.y=a*Math.sin(y);r.subVectors(t,p).normalize();l[m]=r.x;l[m+1]=r.y;l[m+2]=r.z;f[n]=v/d;f[n+1]=w/c;m+=3;n+=2}for(w=1;w<=c;w++)for(v=1;v<=d;v++)a=(d+1)*(w-1)+v-1,b=(d+1)*(w-1)+v,e=(d+1)*w+v,g[q]=(d+1)*w+v-1,g[q+1]=a,g[q+2]=e,g[q+3]=a,g[q+4]=b,g[q+5]=e,q+=6;this.setIndex(new V.BufferAttribute(g,1));this.addAttribute("position",new V.BufferAttribute(h,
3));this.addAttribute("normal",new V.BufferAttribute(l,3));this.addAttribute("uv",new V.BufferAttribute(f,2))};V.TorusBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.TorusBufferGeometry.prototype.constructor=V.TorusBufferGeometry;V.TorusGeometry=function(a,b,c,d,e){V.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new V.TorusBufferGeometry(a,b,c,d,e))};V.TorusGeometry.prototype=Object.create(V.Geometry.prototype);
V.TorusGeometry.prototype.constructor=V.TorusGeometry;
V.TorusKnotBufferGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e){var f=Math.sin(a);b=c/b*a;c=Math.cos(b);e.x=d*(2+c)*.5*Math.cos(a);e.y=d*(2+c)*f*.5;e.z=d*Math.sin(b)*.5}V.BufferGeometry.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||100;b=b||40;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;f=f||3;var h=(d+1)*(c+1),l=d*c*6;l=new V.BufferAttribute(new (65535<l?Uint32Array:Uint16Array)(l),1);var m=new V.BufferAttribute(new Float32Array(3*
h),3),n=new V.BufferAttribute(new Float32Array(3*h),3);h=new V.BufferAttribute(new Float32Array(2*h),2);var q,p=0,t=0,r=new V.Vector3,w=new V.Vector3,v=new V.Vector2,y=new V.Vector3,x=new V.Vector3,A=new V.Vector3,B=new V.Vector3,H=new V.Vector3;for(q=0;q<=c;++q){var E=q/c*e*Math.PI*2;g(E,e,f,a,y);g(E+.01,e,f,a,x);B.subVectors(x,y);H.addVectors(x,y);xb(A,B,H);xb(H,A,B);A.normalize();H.normalize();for(E=0;E<=d;++E){var I=E/d*Math.PI*2,D=-b*Math.cos(I);I=b*Math.sin(I);r.x=y.x+(D*H.x+I*A.x);r.y=y.y+
(D*H.y+I*A.y);r.z=y.z+(D*H.z+I*A.z);m.setXYZ(p,r.x,r.y,r.z);w.subVectors(r,y).normalize();n.setXYZ(p,w.x,w.y,w.z);v.x=q/c;v.y=E/d;h.setXY(p,v.x,v.y);p++}}for(E=1;E<=c;E++)for(q=1;q<=d;q++)a=(d+1)*E+(q-1),b=(d+1)*E+q,e=(d+1)*(E-1)+q,l.setX(t,(d+1)*(E-1)+(q-1)),t++,l.setX(t,a),t++,l.setX(t,e),t++,l.setX(t,a),t++,l.setX(t,b),t++,l.setX(t,e),t++;this.setIndex(l);this.addAttribute("position",m);this.addAttribute("normal",n);this.addAttribute("uv",h)};V.TorusKnotBufferGeometry.prototype=Object.create(V.BufferGeometry.prototype);
V.TorusKnotBufferGeometry.prototype.constructor=V.TorusKnotBufferGeometry;V.TorusKnotGeometry=function(a,b,c,d,e,f,g){V.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void 0!==g&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new V.TorusKnotBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};V.TorusKnotGeometry.prototype=Object.create(V.Geometry.prototype);
V.TorusKnotGeometry.prototype.constructor=V.TorusKnotGeometry;
V.TubeGeometry=function(a,b,c,d,e,f){V.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:a,segments:b,radius:c,radialSegments:d,closed:e,taper:f};b=b||64;c=c||1;d=d||8;e=e||!1;f=f||V.TubeGeometry.NoTaper;var g=[],h=b+1,l=new V.Vector3;var m=new V.TubeGeometry.FrenetFrames(a,b,e);var n=m.normals;var q=m.binormals;this.tangents=m.tangents;this.normals=n;this.binormals=q;for(m=0;m<h;m++){g[m]=[];var p=m/(h-1);var t=a.getPointAt(p);var r=n[m];var w=q[m];var v=c*f(p);for(p=0;p<d;p++){var y=
p/d*2*Math.PI;var x=-v*Math.cos(y);y=v*Math.sin(y);l.copy(t);l.x+=x*r.x+y*w.x;l.y+=x*r.y+y*w.y;l.z+=x*r.z+y*w.z;g[m][p]=this.vertices.push(new V.Vector3(l.x,l.y,l.z))-1}}for(m=0;m<b;m++)for(p=0;p<d;p++)f=e?(m+1)%b:m+1,h=(p+1)%d,a=g[m][p],c=g[f][p],f=g[f][h],h=g[m][h],l=new V.Vector2(m/b,p/d),n=new V.Vector2((m+1)/b,p/d),q=new V.Vector2((m+1)/b,(p+1)/d),r=new V.Vector2(m/b,(p+1)/d),this.faces.push(new V.Face3(a,c,h)),this.faceVertexUvs[0].push([l,n,r]),this.faces.push(new V.Face3(c,f,h)),this.faceVertexUvs[0].push([n.clone(),
q,r.clone()]);this.computeFaceNormals();this.computeVertexNormals()};V.TubeGeometry.prototype=Object.create(V.Geometry.prototype);V.TubeGeometry.prototype.constructor=V.TubeGeometry;V.TubeGeometry.NoTaper=function(){return 1};V.TubeGeometry.SinusoidalTaper=function(a){return Math.sin(Math.PI*a)};
V.TubeGeometry.FrenetFrames=function(a,b,c){var d=new V.Vector3,e=[],f=[],g=[],h=new V.Vector3,l=new V.Matrix4;b+=1;var m;this.tangents=e;this.normals=f;this.binormals=g;for(m=0;m<b;m++){var n=m/(b-1);var q=m;var p=a;n=vc(p,n);p=p.getTangent(n);e[q]=p;e[m].normalize()}f[0]=new V.Vector3;g[0]=new V.Vector3;a=Number.MAX_VALUE;m=Math.abs(e[0].x);q=Math.abs(e[0].y);p=Math.abs(e[0].z);m<=a&&(a=m,d.set(1,0,0));q<=a&&(a=q,d.set(0,1,0));p<=a&&d.set(0,0,1);xb(h,e[0],d).normalize();xb(f[0],e[0],h);xb(g[0],
e[0],f[0]);for(m=1;m<b;m++)f[m]=f[m-1].clone(),g[m]=g[m-1].clone(),xb(h,e[m-1],e[m]),h.length()>Number.EPSILON&&(h.normalize(),d=Math.acos(V.Math.clamp(e[m-1].dot(e[m]),-1,1)),f[m].applyMatrix4(Pb(l,h,d))),xb(g[m],e[m],f[m]);if(c)for(d=Math.acos(V.Math.clamp(f[0].dot(f[b-1]),-1,1)),d/=b-1,0<e[0].dot(xb(h,f[0],f[b-1]))&&(d=-d),m=1;m<b;m++)f[m].applyMatrix4(Pb(l,e[m],d*m)),xb(g[m],e[m],f[m])};
V.PolyhedronGeometry=function(a,b,c,d){function e(a){var b=a.normalize().clone();b.index=l.vertices.push(b)-1;b.uv=new V.Vector2(Math.atan2(a.z,-a.x)/2/Math.PI+.5,1-(Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5));return b}function f(a,b,c,d){d=new V.Face3(a.index,b.index,c.index,[a.clone(),b.clone(),c.clone()],void 0,d);l.faces.push(d);v.copy(a).add(b).add(c).divideScalar(3);d=Math.atan2(v.z,-v.x);l.faceVertexUvs[0].push([h(a.uv,a,d),h(b.uv,b,d),h(c.uv,c,d)])}function g(a,b){b=Math.pow(2,
b);var c=e(l.vertices[a.a]),d=e(l.vertices[a.b]),g=e(l.vertices[a.c]),h=[];a=a.materialIndex;for(var m=0;m<=b;m++){h[m]=[];for(var n=e(c.clone().lerp(g,m/b)),p=e(d.clone().lerp(g,m/b)),q=b-m,r=0;r<=q;r++)h[m][r]=0===r&&m===b?n:e(n.clone().lerp(p,r/q))}for(m=0;m<b;m++)for(r=0;r<2*(b-m)-1;r++)c=Math.floor(r/2),0===r%2?f(h[m][c+1],h[m+1][c],h[m][c],a):f(h[m][c+1],h[m+1][c+1],h[m+1][c],a)}function h(a,b,c){0>c&&1===a.x&&(a=new V.Vector2(a.x-1,a.y));0===b.x&&0===b.z&&(a=new V.Vector2(c/2/Math.PI+.5,a.y));
return a.clone()}V.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;for(var l=this,m=0,n=a.length;m<n;m+=3)e(new V.Vector3(a[m],a[m+1],a[m+2]));a=this.vertices;var q=[],p=m=0;for(n=b.length;m<n;m+=3,p++){var t=a[b[m]],r=a[b[m+1]],w=a[b[m+2]];q[p]=new V.Face3(t.index,r.index,w.index,[t.clone(),r.clone(),w.clone()],void 0,p)}var v=new V.Vector3;m=0;for(n=q.length;m<n;m++)g(q[m],d);m=0;for(n=this.faceVertexUvs[0].length;m<n;m++)b=
this.faceVertexUvs[0][m],d=b[0].x,a=b[1].x,q=b[2].x,p=Math.min(d,a,q),.9<Math.max(d,a,q)&&.1>p&&(.2>d&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>q&&(b[2].x+=1));m=0;for(n=this.vertices.length;m<n;m++)this.vertices[m].multiplyScalar(c);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new V.Sphere(new V.Vector3,c)};V.PolyhedronGeometry.prototype=Object.create(V.Geometry.prototype);V.PolyhedronGeometry.prototype.constructor=V.PolyhedronGeometry;
V.DodecahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;V.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,
14,5,1,5,9],a,b);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b}};V.DodecahedronGeometry.prototype=Object.create(V.PolyhedronGeometry.prototype);V.DodecahedronGeometry.prototype.constructor=V.DodecahedronGeometry;
V.IcosahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2;V.PolyhedronGeometry.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}};V.IcosahedronGeometry.prototype=Object.create(V.PolyhedronGeometry.prototype);
V.IcosahedronGeometry.prototype.constructor=V.IcosahedronGeometry;V.OctahedronGeometry=function(a,b){V.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}};V.OctahedronGeometry.prototype=Object.create(V.PolyhedronGeometry.prototype);V.OctahedronGeometry.prototype.constructor=V.OctahedronGeometry;
V.TetrahedronGeometry=function(a,b){V.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b}};V.TetrahedronGeometry.prototype=Object.create(V.PolyhedronGeometry.prototype);V.TetrahedronGeometry.prototype.constructor=V.TetrahedronGeometry;
V.ParametricGeometry=function(a,b,c){V.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};var d=this.vertices,e=this.faces,f=this.faceVertexUvs[0],g,h,l=b+1;for(g=0;g<=c;g++){var m=g/c;for(h=0;h<=b;h++){var n=h/b;n=a(n,m);d.push(n)}}for(g=0;g<c;g++)for(h=0;h<b;h++){a=g*l+h;d=g*l+h+1;m=(g+1)*l+h+1;n=(g+1)*l+h;var q=new V.Vector2(h/b,g/c);var p=new V.Vector2((h+1)/b,g/c);var t=new V.Vector2((h+1)/b,(g+1)/c);var r=new V.Vector2(h/b,(g+1)/c);e.push(new V.Face3(a,
d,n));f.push([q,p,r]);e.push(new V.Face3(d,m,n));f.push([p.clone(),t,r.clone()])}this.computeFaceNormals();this.computeVertexNormals()};V.ParametricGeometry.prototype=Object.create(V.Geometry.prototype);V.ParametricGeometry.prototype.constructor=V.ParametricGeometry;
V.WireframeGeometry=function(a){function b(a,b){return a-b}V.BufferGeometry.call(this);var c=[0,0],d={},e=["a","b","c"];if(a instanceof V.Geometry){var f=a.vertices,g=a.faces,h=0;a=new Uint32Array(6*g.length);for(var l=0,m=g.length;l<m;l++)for(var n=g[l],q=0;3>q;q++){c[0]=n[e[q]];c[1]=n[e[(q+1)%3]];c.sort(b);var p=c.toString();void 0===d[p]&&(a[2*h]=c[0],a[2*h+1]=c[1],d[p]=!0,h++)}c=new Float32Array(6*h);l=0;for(m=h;l<m;l++)for(q=0;2>q;q++)d=f[a[2*l+q]],h=6*l+3*q,c[h+0]=d.x,c[h+1]=d.y,c[h+2]=d.z;
this.addAttribute("position",new V.BufferAttribute(c,3))}else if(a instanceof V.BufferGeometry){if(null!==a.index){m=a.index.array;f=a.attributes.position;e=a.groups;h=0;0===e.length&&a.addGroup(0,m.length);a=new Uint32Array(2*m.length);g=0;for(n=e.length;g<n;++g){l=e[g];q=l.start;p=l.count;l=q;for(var t=q+p;l<t;l+=3)for(q=0;3>q;q++)c[0]=m[l+q],c[1]=m[l+(q+1)%3],c.sort(b),p=c.toString(),void 0===d[p]&&(a[2*h]=c[0],a[2*h+1]=c[1],d[p]=!0,h++)}c=new Float32Array(6*h);l=0;for(m=h;l<m;l++)for(q=0;2>q;q++)h=
6*l+3*q,d=a[2*l+q],c[h+0]=f.getX(d),c[h+1]=f.getY(d),c[h+2]=f.getZ(d)}else for(f=a.attributes.position.array,h=f.length/3,c=new Float32Array(6*h),l=0,m=h/3;l<m;l++)for(q=0;3>q;q++)h=18*l+6*q,a=9*l+3*q,c[h+0]=f[a],c[h+1]=f[a+1],c[h+2]=f[a+2],d=9*l+(q+1)%3*3,c[h+3]=f[d],c[h+4]=f[d+1],c[h+5]=f[d+2];this.addAttribute("position",new V.BufferAttribute(c,3))}};V.WireframeGeometry.prototype=Object.create(V.BufferGeometry.prototype);V.WireframeGeometry.prototype.constructor=V.WireframeGeometry;
V.AxisHelper=function(a){a=a||1;var b=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),c=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new V.BufferGeometry;a.addAttribute("position",new V.BufferAttribute(b,3));a.addAttribute("color",new V.BufferAttribute(c,3));b=new V.LineBasicMaterial({vertexColors:V.VertexColors});V.LineSegments.call(this,a,b)};V.AxisHelper.prototype=Object.create(V.LineSegments.prototype);V.AxisHelper.prototype.constructor=V.AxisHelper;
V.ArrowHelper=function(){var a=new V.BufferGeometry;a.addAttribute("position",new V.Float32Attribute([0,0,0,0,1,0],3));var b=new V.CylinderBufferGeometry(0,.5,1,5,1);b.translate(0,-.5,0);return function(c,d,e,f,g,h){V.Object3D.call(this);void 0===f&&(f=16776960);void 0===e&&(e=1);void 0===g&&(g=.2*e);void 0===h&&(h=.2*g);this.position.copy(d);this.line=new V.Line(a,new V.LineBasicMaterial({color:f}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new V.Mesh(b,new V.MeshBasicMaterial({color:f}));
this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(c);this.setLength(e,g,h)}}();V.ArrowHelper.prototype=Object.create(V.Object3D.prototype);V.ArrowHelper.prototype.constructor=V.ArrowHelper;V.ArrowHelper.prototype.setDirection=function(){var a=new V.Vector3,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),zb(this.quaternion,a,b))}}();
V.ArrowHelper.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};V.ArrowHelper.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};
V.BoxHelper=function(a){var b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=new Float32Array(24),d=new V.BufferGeometry;d.setIndex(new V.BufferAttribute(b,1));d.addAttribute("position",new V.BufferAttribute(c,3));V.LineSegments.call(this,d,new V.LineBasicMaterial({color:16776960}));void 0!==a&&this.update(a)};V.BoxHelper.prototype=Object.create(V.LineSegments.prototype);V.BoxHelper.prototype.constructor=V.BoxHelper;
V.BoxHelper.prototype.update=function(){var a=new V.Box3;return function(b){b instanceof V.Box3?a.copy(b):a.setFromObject(b);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();
V.BoundingBoxHelper=function(a,b){b=void 0!==b?b:8947848;this.object=a;this.box=new V.Box3;V.Mesh.call(this,new V.BoxGeometry(1,1,1),new V.MeshBasicMaterial({color:b,wireframe:!0}))};V.BoundingBoxHelper.prototype=Object.create(V.Mesh.prototype);V.BoundingBoxHelper.prototype.constructor=V.BoundingBoxHelper;V.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};
V.CameraHelper=function(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){d.vertices.push(new V.Vector3);d.colors.push(new V.Color(b));void 0===f[a]&&(f[a]=[]);f[a].push(d.vertices.length-1)}var d=new V.Geometry,e=new V.LineBasicMaterial({color:16777215,vertexColors:V.FaceColors}),f={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4","n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);b("n2","f2",16755200);
b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);V.LineSegments.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=f;this.update()};
V.CameraHelper.prototype=Object.create(V.LineSegments.prototype);V.CameraHelper.prototype.constructor=V.CameraHelper;
V.CameraHelper.prototype.update=function(){function a(a,g,h,l){d.set(g,h,l).unproject(e);a=c[a];if(void 0!==a)for(g=0,h=a.length;g<h;g++)b.vertices[a[g]].copy(d)}var b,c,d=new V.Vector3,e=new V.Camera;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,
2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.verticesNeedUpdate=!0}}();
V.DirectionalLightHelper=function(a,b){V.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;void 0===b&&(b=1);a=new V.BufferGeometry;a.addAttribute("position",new V.Float32Attribute([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new V.LineBasicMaterial({fog:!1});this.add(new V.Line(a,b));a=new V.BufferGeometry;a.addAttribute("position",new V.Float32Attribute([0,0,0,0,0,1],3));this.add(new V.Line(a,b));this.update()};
V.DirectionalLightHelper.prototype=Object.create(V.Object3D.prototype);V.DirectionalLightHelper.prototype.constructor=V.DirectionalLightHelper;V.DirectionalLightHelper.prototype.dispose=function(){var a=this.children[0],b=this.children[1];a.geometry.dispose();a.material.dispose();b.geometry.dispose();b.material.dispose()};
V.DirectionalLightHelper.prototype.update=function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Vector3;return function(){Fb(a,this.light.matrixWorld);Fb(b,this.light.target.matrixWorld);c.subVectors(b,a);var d=this.children[0],e=this.children[1];d.lookAt(c);d.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);e.lookAt(c);e.scale.z=c.length()}}();
V.EdgesHelper=function(a,b,c){b=void 0!==b?b:16777215;V.LineSegments.call(this,new V.EdgesGeometry(a.geometry,c),new V.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};V.EdgesHelper.prototype=Object.create(V.LineSegments.prototype);V.EdgesHelper.prototype.constructor=V.EdgesHelper;
V.FaceNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof V.Geometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new V.BufferGeometry;b=new V.Float32Attribute(6*b,3);c.addAttribute("position",b);V.LineSegments.call(this,c,new V.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};
V.FaceNormalsHelper.prototype=Object.create(V.LineSegments.prototype);V.FaceNormalsHelper.prototype.constructor=V.FaceNormalsHelper;
V.FaceNormalsHelper.prototype.update=function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Matrix3;return function(){this.object.updateMatrixWorld(!0);Nb(c,this.object.matrixWorld);var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices;f=f.faces;for(var h=0,l=0,m=f.length;l<m;l++){var n=f[l],q=n.normal;a.copy(g[n.a]).add(g[n.b]).add(g[n.c]).divideScalar(3).applyMatrix4(d);Jb(b.copy(q),c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(h,a.x,a.y,
a.z);h+=1;e.setXYZ(h,b.x,b.y,b.z);h+=1}e.needsUpdate=!0;return this}}();
V.GridHelper=function(a,b,c,d){c=new V.Color(void 0!==c?c:4473924);d=new V.Color(void 0!==d?d:8947848);for(var e=[],f=[],g=-a,h=0;g<=a;g+=b){e.push(-a,0,g,a,0,g);e.push(g,0,-a,g,0,a);var l=0===g?c:d;l.toArray(f,h);h+=3;l.toArray(f,h);h+=3;l.toArray(f,h);h+=3;l.toArray(f,h);h+=3}a=new V.BufferGeometry;a.addAttribute("position",new V.Float32Attribute(e,3));a.addAttribute("color",new V.Float32Attribute(f,3));e=new V.LineBasicMaterial({vertexColors:V.VertexColors});V.LineSegments.call(this,a,e)};
V.GridHelper.prototype=Object.create(V.LineSegments.prototype);V.GridHelper.prototype.constructor=V.GridHelper;V.GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};
V.HemisphereLightHelper=function(a,b){V.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new V.Color,new V.Color];a=new V.SphereGeometry(b,4,2);a.rotateX(-Math.PI/2);for(b=0;8>b;b++)a.faces[b].color=this.colors[4>b?0:1];b=new V.MeshBasicMaterial({vertexColors:V.FaceColors,wireframe:!0});this.lightSphere=new V.Mesh(a,b);this.add(this.lightSphere);this.update()};V.HemisphereLightHelper.prototype=Object.create(V.Object3D.prototype);
V.HemisphereLightHelper.prototype.constructor=V.HemisphereLightHelper;V.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};
V.HemisphereLightHelper.prototype.update=function(){var a=new V.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(Fb(a,this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();
V.PointLightHelper=function(a,b){this.light=a;this.light.updateMatrixWorld();a=new V.SphereBufferGeometry(b,4,2);b=new V.MeshBasicMaterial({wireframe:!0,fog:!1});b.color.copy(this.light.color).multiplyScalar(this.light.intensity);V.Mesh.call(this,a,b);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};V.PointLightHelper.prototype=Object.create(V.Mesh.prototype);V.PointLightHelper.prototype.constructor=V.PointLightHelper;
V.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};V.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};
V.SkeletonHelper=function(a){this.bones=xc(this,a);for(var b=new V.Geometry,c=0;c<this.bones.length;c++)this.bones[c].parent instanceof V.Bone&&(b.vertices.push(new V.Vector3),b.vertices.push(new V.Vector3),b.colors.push(new V.Color(0,0,1)),b.colors.push(new V.Color(0,1,0)));b.dynamic=!0;c=new V.LineBasicMaterial({vertexColors:V.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});V.LineSegments.call(this,b,c);this.root=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.update()};
V.SkeletonHelper.prototype=Object.create(V.LineSegments.prototype);V.SkeletonHelper.prototype.constructor=V.SkeletonHelper;function xc(a,b){var c=[];b instanceof V.Bone&&c.push(b);for(var d=0;d<b.children.length;d++)c.push.apply(c,xc(a,b.children[d]));return c}
V.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,b=(new V.Matrix4).getInverse(this.root.matrixWorld),c=new V.Matrix4,d=0,e=0;e<this.bones.length;e++){var f=this.bones[e];f.parent instanceof V.Bone&&(Cb(c,b,f.matrixWorld),Fb(a.vertices[d],c),Cb(c,b,f.parent.matrixWorld),Fb(a.vertices[d+1],c),d+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};
V.SpotLightHelper=function(a){V.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new V.BufferGeometry;for(var b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],c=0,d=1;32>c;c++,d++){var e=c/32*Math.PI*2,f=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(f),Math.sin(f),1)}a.addAttribute("position",new V.Float32Attribute(b,3));b=new V.LineBasicMaterial({fog:!1});this.cone=new V.LineSegments(a,b);this.add(this.cone);
this.update()};V.SpotLightHelper.prototype=Object.create(V.Object3D.prototype);V.SpotLightHelper.prototype.constructor=V.SpotLightHelper;V.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};
V.SpotLightHelper.prototype.update=function(){var a=new V.Vector3,b=new V.Vector3;return function(){var c=this.light.distance?this.light.distance:1E3,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);Fb(a,this.light.matrixWorld);Fb(b,this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();
V.VertexNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof V.Geometry?b=3*c.faces.length:c instanceof V.BufferGeometry&&(b=c.attributes.normal.count);c=new V.BufferGeometry;b=new V.Float32Attribute(6*b,3);c.addAttribute("position",b);V.LineSegments.call(this,c,new V.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};V.VertexNormalsHelper.prototype=Object.create(V.LineSegments.prototype);
V.VertexNormalsHelper.prototype.constructor=V.VertexNormalsHelper;
V.VertexNormalsHelper.prototype.update=function(){var a=new V.Vector3,b=new V.Vector3,c=new V.Matrix3;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);Nb(c,this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position,g=this.object.geometry;if(g instanceof V.Geometry)for(var h=g.vertices,l=g.faces,m=g=0,n=l.length;m<n;m++)for(var q=l[m],p=0,t=q.vertexNormals.length;p<t;p++){var r=q.vertexNormals[p];a.copy(h[q[d[p]]]).applyMatrix4(e);Jb(b.copy(r),
c).normalize().multiplyScalar(this.size).add(a);f.setXYZ(g,a.x,a.y,a.z);g+=1;f.setXYZ(g,b.x,b.y,b.z);g+=1}else if(g instanceof V.BufferGeometry)for(d=g.attributes.position,h=g.attributes.normal,p=g=0,t=d.count;p<t;p++)a.set(d.getX(p),d.getY(p),d.getZ(p)).applyMatrix4(e),b.set(h.getX(p),h.getY(p),h.getZ(p)),Jb(b,c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(g,a.x,a.y,a.z),g+=1,f.setXYZ(g,b.x,b.y,b.z),g+=1;f.needsUpdate=!0;return this}}();
V.WireframeHelper=function(a,b){b=void 0!==b?b:16777215;V.LineSegments.call(this,new V.WireframeGeometry(a.geometry),new V.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};V.WireframeHelper.prototype=Object.create(V.LineSegments.prototype);V.WireframeHelper.prototype.constructor=V.WireframeHelper;V.ImmediateRenderObject=function(a){V.Object3D.call(this);this.material=a;this.render=function(){}};V.ImmediateRenderObject.prototype=Object.create(V.Object3D.prototype);
V.ImmediateRenderObject.prototype.constructor=V.ImmediateRenderObject;V.MorphBlendMesh=function(a,b){V.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];a=this.geometry.morphTargets.length;yc(this,"__default",0,a-1,a/1);if(a=this.animationsMap.__default)a.weight=1};V.MorphBlendMesh.prototype=Object.create(V.Mesh.prototype);k=V.MorphBlendMesh.prototype;k.constructor=V.MorphBlendMesh;
function yc(a,b,c,d,e){c={start:c,end:d,length:d-c+1,fps:e,duration:(d-c)/e,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};a.animationsMap[b]=c;a.animationsList.push(c)}
k.autoCreateAnimations=function(a){for(var b=/([a-z]+)_?(\d+)/i,c,d={},e=this.geometry,f=0,g=e.morphTargets.length;f<g;f++){var h=e.morphTargets[f].name.match(b);if(h&&1<h.length){var l=h[1];d[l]||(d[l]={start:Infinity,end:-Infinity});h=d[l];f<h.start&&(h.start=f);f>h.end&&(h.end=f);c||(c=l)}}for(l in d)h=d[l],yc(this,l,h.start,h.end,a);this.firstAnimation=c};k.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};
k.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};k.setAnimationFPS=function(a,b){if(a=this.animationsMap[a])a.fps=b,a.duration=(a.end-a.start)/a.fps};k.setAnimationDuration=function(a,b){if(a=this.animationsMap[a])a.duration=b,a.fps=(a.end-a.start)/a.duration};k.setAnimationTime=function(a,b){if(a=this.animationsMap[a])a.time=b};k.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};
k.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};k.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};k.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};
k.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.start+V.Math.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;f!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=
0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);d.currentFrame!==d.lastFrame?(this.morphTargetInfluences[d.currentFrame]=e*g,this.morphTargetInfluences[d.lastFrame]=(1-e)*g):this.morphTargetInfluences[d.currentFrame]=g}}};
</script>
<script>//~~WEBPATH~~/tf-imports/OrbitControls.js
V.OrbitControls=function(a,b){function c(){return Math.pow(.95,r.zoomSpeed)}function d(a){r.object instanceof V.PerspectiveCamera?I/=a:r.object instanceof V.OrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*a)),r.object.updateProjectionMatrix(),C=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function e(a){r.object instanceof V.PerspectiveCamera?I*=a:r.object instanceof V.OrthographicCamera?
(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/a)),r.object.updateProjectionMatrix(),C=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function f(a){if(!1!==r.enabled){a.preventDefault();if(a.button===r.mouseButtons.ORBIT){if(!1===r.enableRotate)return;F.set(a.clientX,a.clientY);A=x.ROTATE}else if(a.button===r.mouseButtons.ZOOM){if(!1===r.enableZoom)return;P.set(a.clientX,a.clientY);A=x.DOLLY}else if(a.button===
r.mouseButtons.PAN){if(!1===r.enablePan)return;S.set(a.clientX,a.clientY);A=x.PAN}A!==x.NONE&&(document.addEventListener("mousemove",g,!1),document.addEventListener("mouseup",h,!1),document.addEventListener("mouseout",h,!1),r.dispatchEvent(v))}}function g(a){!1!==r.enabled&&(a.preventDefault(),A===x.ROTATE?!1!==r.enableRotate&&(J.set(a.clientX,a.clientY),K.subVectors(J,F),a=r.domElement===document?r.domElement.body:r.domElement,E.theta-=2*Math.PI*K.x/a.clientWidth*r.rotateSpeed,E.phi-=2*Math.PI*K.y/
a.clientHeight*r.rotateSpeed,F.copy(J),r.update()):A===x.DOLLY?!1!==r.enableZoom&&(Q.set(a.clientX,a.clientY),N.subVectors(Q,P),0<N.y?d(c()):0>N.y&&e(c()),P.copy(Q),r.update()):A===x.PAN&&!1!==r.enablePan&&(O.set(a.clientX,a.clientY),M.subVectors(O,S),fa(M.x,M.y),S.copy(O),r.update()))}function h(){!1!==r.enabled&&(document.removeEventListener("mousemove",g,!1),document.removeEventListener("mouseup",h,!1),document.removeEventListener("mouseout",h,!1),r.dispatchEvent(y),A=x.NONE)}function l(a){if(!1!==
r.enabled&&!1!==r.enableZoom&&(A===x.NONE||A===x.ROTATE)){a.preventDefault();a.stopPropagation();var b=0;void 0!==a.wheelDelta?b=a.wheelDelta:void 0!==a.detail&&(b=-a.detail);0<b?e(c()):0>b&&d(c());r.update();r.dispatchEvent(v);r.dispatchEvent(y)}}function m(a){if(!1!==r.enabled&&!1!==r.enableKeys&&!1!==r.enablePan)switch(a.keyCode){case r.keys.UP:fa(0,r.keyPanSpeed);r.update();break;case r.keys.BOTTOM:fa(0,-r.keyPanSpeed);r.update();break;case r.keys.LEFT:fa(r.keyPanSpeed,0);r.update();break;case r.keys.RIGHT:fa(-r.keyPanSpeed,
0),r.update()}}function n(a){if(!1!==r.enabled){switch(a.touches.length){case 1:if(!1===r.enableRotate)return;F.set(a.touches[0].pageX,a.touches[0].pageY);A=x.TOUCH_ROTATE;break;case 2:if(!1===r.enableZoom)return;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;P.set(0,Math.sqrt(b*b+a*a));A=x.TOUCH_DOLLY;break;case 3:if(!1===r.enablePan)return;S.set(a.touches[0].pageX,a.touches[0].pageY);A=x.TOUCH_PAN;break;default:A=x.NONE}A!==x.NONE&&r.dispatchEvent(v)}}function q(a){if(!1!==
r.enabled)switch(a.preventDefault(),a.stopPropagation(),a.touches.length){case 1:if(!1===r.enableRotate)break;if(A!==x.TOUCH_ROTATE)break;J.set(a.touches[0].pageX,a.touches[0].pageY);K.subVectors(J,F);var b=r.domElement===document?r.domElement.body:r.domElement;E.theta-=2*Math.PI*K.x/b.clientWidth*r.rotateSpeed;E.phi-=2*Math.PI*K.y/b.clientHeight*r.rotateSpeed;F.copy(J);r.update();break;case 2:if(!1===r.enableZoom)break;if(A!==x.TOUCH_DOLLY)break;b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-
a.touches[1].pageY;Q.set(0,Math.sqrt(b*b+a*a));N.subVectors(Q,P);0<N.y?e(c()):0>N.y&&d(c());P.copy(Q);r.update();break;case 3:if(!1===r.enablePan)break;if(A!==x.TOUCH_PAN)break;O.set(a.touches[0].pageX,a.touches[0].pageY);M.subVectors(O,S);fa(M.x,M.y);S.copy(O);r.update();break;default:A=x.NONE}}function p(){!1!==r.enabled&&(r.dispatchEvent(y),A=x.NONE)}function t(a){a.preventDefault()}this.object=a;this.domElement=void 0!==b?b:document;this.enabled=!0;this.target=new V.Vector3;this.minDistance=0;
this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.25;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.enableKeys=!0;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={ORBIT:V.MOUSE.LEFT,ZOOM:V.MOUSE.MIDDLE,PAN:V.MOUSE.RIGHT};
this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=function(){return H.phi};this.getAzimuthalAngle=function(){return H.theta};this.reset=function(){r.target.copy(r.target0);r.object.position.copy(r.position0);r.object.zoom=r.zoom0;r.object.updateProjectionMatrix();r.dispatchEvent(w);r.update();A=x.NONE};this.update=function(){var b=new V.Vector3,c=(new V.Quaternion).setFromUnitVectors(a.up,new V.Vector3(0,1,0)),d=c.clone().inverse(),
e=new V.Vector3,f=new V.Quaternion;return function(){var a=r.object.position;b.copy(a).sub(r.target);Bb(b,c);H.setFromVector3(b);r.autoRotate&&A===x.NONE&&(E.theta-=2*Math.PI/60/60*r.autoRotateSpeed);H.theta+=E.theta;H.phi+=E.phi;H.theta=Math.max(r.minAzimuthAngle,Math.min(r.maxAzimuthAngle,H.theta));H.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,H.phi));var g=H;g.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,g.phi));H.radius*=I;H.radius=Math.max(r.minDistance,Math.min(r.maxDistance,H.radius));
r.target.add(D);g=H;var h=Math.sin(g.phi)*g.radius;b.x=h*Math.sin(g.theta);b.y=Math.cos(g.phi)*g.radius;b.z=h*Math.cos(g.theta);Bb(b,d);a.copy(r.target).add(b);r.object.lookAt(r.target);!0===r.enableDamping?(E.theta*=1-r.dampingFactor,E.phi*=1-r.dampingFactor):E.set(0,0,0);I=1;D.set(0,0,0);return C||e.distanceToSquared(r.object.position)>B||8*(1-f.dot(r.object.quaternion))>B?(r.dispatchEvent(w),e.copy(r.object.position),f.copy(r.object.quaternion),C=!1,!0):!1}}();this.dispose=function(){r.domElement.removeEventListener("contextmenu",
t,!1);r.domElement.removeEventListener("mousedown",f,!1);r.domElement.removeEventListener("mousewheel",l,!1);r.domElement.removeEventListener("MozMousePixelScroll",l,!1);r.domElement.removeEventListener("touchstart",n,!1);r.domElement.removeEventListener("touchend",p,!1);r.domElement.removeEventListener("touchmove",q,!1);document.removeEventListener("mousemove",g,!1);document.removeEventListener("mouseup",h,!1);document.removeEventListener("mouseout",h,!1);window.removeEventListener("keydown",m,!1)};
var r=this,w={type:"change"},v={type:"start"},y={type:"end"},x={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},A=x.NONE,B=1E-6,H=new V.Spherical,E=new V.Spherical,I=1,D=new V.Vector3,C=!1,F=new V.Vector2,J=new V.Vector2,K=new V.Vector2,S=new V.Vector2,O=new V.Vector2,M=new V.Vector2,P=new V.Vector2,Q=new V.Vector2,N=new V.Vector2,U=function(){var a=new V.Vector3;return function(b,c){Eb(a,c,0);a.multiplyScalar(-b);D.add(a)}}(),T=function(){var a=new V.Vector3;return function(b,
c){Eb(a,c,1);a.multiplyScalar(b);D.add(a)}}(),fa=function(){var a=new V.Vector3;return function(b,c){var d=r.domElement===document?r.domElement.body:r.domElement;if(r.object instanceof V.PerspectiveCamera){a.copy(r.object.position).sub(r.target);var e=a.length();e*=Math.tan(r.object.fov/2*Math.PI/180);U(2*b*e/d.clientHeight,r.object.matrix);T(2*c*e/d.clientHeight,r.object.matrix)}else r.object instanceof V.OrthographicCamera?(U(b*(r.object.right-r.object.left)/r.object.zoom/d.clientWidth,r.object.matrix),
T(c*(r.object.top-r.object.bottom)/r.object.zoom/d.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();r.domElement.addEventListener("contextmenu",t,!1);r.domElement.addEventListener("mousedown",f,!1);r.domElement.addEventListener("mousewheel",l,!1);r.domElement.addEventListener("MozMousePixelScroll",l,!1);r.domElement.addEventListener("touchstart",n,!1);r.domElement.addEventListener("touchend",p,!1);r.domElement.addEventListener("touchmove",
q,!1);window.addEventListener("keydown",m,!1);this.update()};V.OrbitControls.prototype=Object.create(V.EventDispatcher.prototype);V.OrbitControls.prototype.constructor=V.OrbitControls;
Object.defineProperties(V.OrbitControls.prototype,{center:{get:function(){console.warn("THREE.OrbitControls: .center has been renamed to .target");return this.target}},noZoom:{get:function(){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");return!this.enableZoom},set:function(a){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");this.enableZoom=!a}},noRotate:{get:function(){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");
return!this.enableRotate},set:function(a){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");this.enableRotate=!a}},noPan:{get:function(){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");return!this.enablePan},set:function(a){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");this.enablePan=!a}},noKeys:{get:function(){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");
return!this.enableKeys},set:function(a){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");this.enableKeys=!a}},staticMoving:{get:function(){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");return!this.enableDamping},set:function(a){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");this.enableDamping=!a}},dynamicDampingFactor:{get:function(){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");
return this.dampingFactor},set:function(a){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");this.dampingFactor=a}}});
</script>









<script>//~~WEBPATH~~/vz-projector/heap.js
var W;
(function(a){var b=function(){function a(){this.arr=[]}a.prototype.push=function(a,b){this.arr.push({key:a,value:b});this.bubbleUp(this.arr.length-1)};a.prototype.pop=function(){if(0===this.arr.length)throw Error("pop() called on empty binary heap");var a=this.arr[0],b=this.arr.length-1;this.arr[0]=this.arr[b];this.arr.pop();0<b&&this.bubbleDown(0);return a};a.prototype.peek=function(){return this.arr[0]};a.prototype.popPush=function(a,b){if(0===this.arr.length)throw Error("pop() called on empty binary heap");this.arr[0]=
{key:a,value:b};0<this.arr.length&&this.bubbleDown(0)};a.prototype.size=function(){return this.arr.length};a.prototype.items=function(){return this.arr};a.prototype.swap=function(a,b){var c=this.arr[a];this.arr[a]=this.arr[b];this.arr[b]=c};a.prototype.bubbleDown=function(a){var b=(a<<1)+1,c=b+1,d=a;b<this.arr.length&&this.arr[b].key<this.arr[d].key&&(d=b);c<this.arr.length&&this.arr[c].key<this.arr[d].key&&(d=c);d!==a&&(this.swap(d,a),this.bubbleDown(d))};a.prototype.bubbleUp=function(a){if(!(0>=
a)){var b=a-1>>1;this.arr[a].key<this.arr[b].key&&(this.swap(a,b),this.bubbleUp(b))}};return a}();a.MinHeap=b;var c=function(){function a(a){this.maxHeap=new b;this.k=a}a.prototype.add=function(a,b){this.maxHeap.size()<this.k?this.maxHeap.push(-a,b):a<-this.maxHeap.peek().key&&this.maxHeap.popPush(-a,b)};a.prototype.getMinKItems=function(){var a=this.maxHeap.items();a.sort(function(a,b){return b.key-a.key});return a.map(function(a){return a.value})};a.prototype.getSize=function(){return this.maxHeap.size()};
a.prototype.getLargestKey=function(){return 0===this.maxHeap.size()?null:-this.maxHeap.peek().key};return a}();a.KMin=c})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/label.js
(function(a){var b=function(){function a(a,b,c){this.bound=a;this.cellWidth=b;this.cellHeight=c;this.numHorizCells=Math.ceil(this.boundWidth(a)/b);this.numVertCells=Math.ceil(this.boundHeight(a)/c);this.grid=Array(this.numHorizCells*this.numVertCells)}a.prototype.boundWidth=function(a){return a.hiX-a.loX};a.prototype.boundHeight=function(a){return a.hiY-a.loY};a.prototype.boundsIntersect=function(a,b){return!(a.loX>b.hiX||a.loY>b.hiY||a.hiX<b.loX||a.hiY<b.loY)};a.prototype.insert=function(a,b){void 0===
b&&(b=!1);if(a.hiX<this.bound.loX||a.loX>this.bound.hiX||a.hiY<this.bound.loY||a.loY>this.bound.hiY)return!1;for(var c=this.getCellX(a.loX),d=this.getCellX(a.hiX),e=this.getCellY(a.loY),l=this.getCellY(a.hiY),m=e*this.numHorizCells+c,n=m,q=e;q<=l;q++){for(var p=c;p<=d;p++){var t=this.grid[n++];if(t)for(var r=0;r<t.length;r++)if(this.boundsIntersect(a,t[r]))return!1}n+=this.numHorizCells-(d-c+1)}if(b)return!0;n=m;for(q=e;q<=l;q++){for(p=c;p<=d;p++)this.grid[n]?this.grid[n].push(a):this.grid[n]=[a],
n++;n+=this.numHorizCells-(d-c+1)}return!0};a.prototype.getCellX=function(a){return Math.floor((a-this.bound.loX)/this.cellWidth)};a.prototype.getCellY=function(a){return Math.floor((a-this.bound.loY)/this.cellHeight)};return a}();a.CollisionGrid=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/sptree.js
(function(a){var b=function(){function a(a){if(1>a.length)throw Error("There should be at least 1 data point");this.dim=a[0].length;this.masks=Array(Math.pow(2,this.dim));for(var b=0;b<this.masks.length;++b)this.masks[b]=1<<b;var c=Array(this.dim),d=Number.POSITIVE_INFINITY;for(b=0;b<c.length;++b)c[b]=d;d=Array(this.dim);b=Number.NEGATIVE_INFINITY;for(var h=0;h<d.length;++h)d[h]=b;for(h=0;h<a.length;++h)for(b=0;b<this.dim;++b)c[b]=Math.min(c[b],a[h][b]),d[b]=Math.max(d[b],a[h][b]);h=Array(this.dim);
var l=0;for(b=0;b<this.dim;++b){var m=d[b]-c[b];h[b]=c[b]+m/2;l=Math.max(l,m/2)}this.root={box:{center:h,halfDim:l},point:a[0]};for(h=1;h<a.length;++h)this.insert(this.root,a[h])}a.prototype.visit=function(a,b){void 0===b&&(b=!1);this.visitNode(this.root,a,b)};a.prototype.visitNode=function(a,b,c){if(c)var d=b(a);else{d=Array(this.dim);for(var e=Array(this.dim),f=0;f<this.dim;++f)d[f]=a.box.center[f]-a.box.halfDim,e[f]=a.box.center[f]+a.box.halfDim;d=b(a,d,e)}if(a.children&&!d)for(d=0;d<a.children.length;++d)(e=
a.children[d])&&this.visitNode(e,b,c)};a.prototype.insert=function(a,b){null==a.children&&(a.children=Array(this.masks.length));for(var c=0,d=0;d<this.dim;++d)b[d]>a.box.center[d]&&(c|=this.masks[d]);null==a.children[c]?this.makeChild(a,c,b):this.insert(a.children[c],b)};a.prototype.makeChild=function(a,b,c){for(var d=a.box.center,e=a.box.halfDim/2,f=Array(this.dim),m=0;m<this.dim;++m)f[m]=b&1<<m?d[m]+e:d[m]-e;a.children[b]={box:{center:f,halfDim:e},point:c}};return a}();a.SPTree=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/bh_tsne.js
(function(a){function b(a,b){var c=a[0]-b[0];a=a[1]-b[1];return c*c+a*a}function c(a,b){var c=a[0]-b[0],d=a[1]-b[1];a=a[2]-b[2];return c*c+d*d+a*a}function d(a){if(h)return h=!1,l;var b=2*a()-1,c=2*a()-1,e=b*b+c*c;if(0===e||1<e)return d(a);a=Math.sqrt(-2*Math.log(e)/e);l=c*a;h=!0;return b*a}function e(a,b,c){for(var d=[],e=0;e<a;++e)d.push(3===b?[c,c,c]:[c,c]);return d}function f(a,b,c,d){a[0]+=b*(c[0]-d[0]);a[1]+=b*(c[1]-d[1])}function g(a,b,c,d){a[0]+=b*(c[0]-d[0]);a[1]+=b*(c[1]-d[1]);a[2]+=b*(c[2]-
d[2])}var h=!1,l=0;a.dist2=function(a,b){if(a.length!==b.length)throw Error("Vectors a and b must be of same length");for(var c=0,d=0;d<a.length;++d){var e=a[d]-b[d];c+=e*e}return c};a.dist2_2D=b;a.dist2_3D=c;var m=function(){function h(a){this.iter=0;a=a||{dim:2};this.perplexity=a.perplexity||30;this.epsilon=a.epsilon||10;this.rng=a.rng||Math.random;this.dim=a.dim;if(2===a.dim)this.dist2=b,this.computeForce=f;else if(3===a.dim)this.dist2=c,this.computeForce=g;else throw Error("Only 2D and 3D is supported");
}h.prototype.initDataDist=function(a){var b=a.length;this.nearest=a;for(var c=a.length,d=Math.log(this.perplexity),e=new Float64Array(c*c),f=Array(a[0].length),g=0;g<c;++g){for(var h=a[g],l=-Infinity,m=Infinity,n=1,q=0;;){for(var I=0,D=0;D<h.length;++D){var C=h[D];C=g===C.index?0:Math.exp(-C.dist*n);C=Math.max(C,1E-9);f[D]=C;I+=C}var F=0;for(D=0;D<f.length;++D)f[D]/=I,C=f[D],1E-7<C&&(F-=C*Math.log(C));F>d?(l=n,n=Infinity===m?2*n:(n+m)/2):(m=n,n=-Infinity===l?n/2:(n+l)/2);q++;if(50<=q||1E-4>Math.abs(F-
d))break}for(D=0;D<f.length;++D)C=f[D],l=h[D].index,e[g*c+l]=C}a=2*c;for(g=0;g<c;++g)for(l=g+1;l<c;++l)d=g*c+l,f=l*c+g,h=(e[d]+e[f])/a,e[d]=h,e[f]=h;this.P=e;this.N=b;this.initSolution()};h.prototype.initSolution=function(){for(var a=this.rng,b=this.N*this.dim,c=new Float64Array(b),f=0;f<b;++f)c[f]=1E-4*d(a);this.Y=c;this.gains=e(this.N,this.dim,1);this.ystep=e(this.N,this.dim,0);this.iter=0};h.prototype.getDim=function(){return this.dim};h.prototype.getSolution=function(){return this.Y};h.prototype.perturb=
function(){for(var a=this.N,b=0,c=3===this.dim?[0,0,0]:[0,0],d=0;d<a;++d){for(var e=0,f=0;f<this.dim;++f)e+=Math.pow(this.Y[d*this.dim+f],2);e>b&&(b=e)}var g=Math.pow(b,.5);for(d=0;d<a;++d){for(var h=Array(this.dim);;){for(f=e=0;f<this.dim;++f)h[f]=.1*g*(Math.random()-.5),e+=Math.pow(this.Y[d*this.dim+f]+h[f],2);if(e<b)break}for(f=0;f<this.dim;++f)this.Y[d*this.dim+f]+=h[f],c[f]+=this.Y[d*this.dim+f]}for(d=0;d<a;++d)for(f=0;f<this.dim;++f)this.Y[d*this.dim+f]-=c[f]/a};h.prototype.step=function(){this.iter+=
1;for(var a=this.N,b=this.costGrad(this.Y),c=3===this.dim?[0,0,0]:[0,0],d=0;d<a;++d)for(var e=0;e<this.dim;++e){var f=this.ystep[d][e],g=this.gains[d][e],h=b[d][e];g=(0<h?1:0>h?-1:0)===(0<f?1:0>f?-1:0)?.8*g:g+.2;.01>g&&(g=.01);this.gains[d][e]=g;f=(250>this.iter?.5:.8)*f-this.epsilon*g*b[d][e];this.ystep[d][e]=f;g=d*this.dim+e;this.Y[g]+=f;c[e]+=this.Y[g]}for(d=0;d<a;++d)for(e=0;e<this.dim;++e)this.Y[d*this.dim+e]-=c[e]/a};h.prototype.setSupervision=function(a,b){var c=this;null!=a&&(this.labels=
a,this.labelCounts={},Array.from(new Set(a)).forEach(function(a){return c.labelCounts[a]=0}),a.forEach(function(a){return c.labelCounts[a]+=1}));null!=b&&(this.unlabeledClass=b)};h.prototype.setSuperviseFactor=function(a){null!=a&&(this.superviseFactor=a)};h.prototype.costGrad=function(b){function c(a){var b=D[a];E&&(N=q[n[a]],U=f-N-I);for(var c=3===Q.dim?[0,0,0]:[0,0],d=Q.nearest[a],h=0;h<d.length;++h){var p=d[h].index,r=g[a*f+p];E&&(n[a]===m||n[p]===m?r*=1/f:n[a]!==n[p]?r*=Math.max(1/f-l/U,1E-7):
n[a]===n[p]&&(r*=Math.min(1/f+l/N,.9999999)),M+=r);p=D[p];var t=Q.dist2(b,p);Q.computeForce(c,r/(1+t),b,p)}var w=3===Q.dim?[0,0,0]:[0,0];S.visit(function(a){var c=e.dist2(b,a.yCell);if(null==a.children||0<c&&.8>a.rCell/Math.sqrt(c)){c=1/(1+c);var d=a.numCells*c;O+=d;e.computeForce(w,d*c,b,a.yCell);return!0}c=1/(1+e.dist2(b,a.point));O+=c;e.computeForce(w,c*c,b,a.point);return!1},!0);P[a]=[c,w]}function d(a){var b=1;if(null==a.children)return a.numCells=b,a.yCell=a.point,{numCells:b,yCell:a.yCell};
for(var c=a.point.slice(),f=0;f<a.children.length;++f){var g=a.children[f];if(null!=g){g=d(g);b+=g.numCells;for(var h=0;h<e.dim;++h)c[h]+=g.yCell[h]}}a.numCells=b;a.yCell=c.map(function(a){return a/b});return{numCells:b,yCell:c}}for(var e=this,f=this.N,g=this.P,h=100>this.iter?4:1,l=this.superviseFactor/100,m=this.unlabeledClass,n=this.labels,q=this.labelCounts,E=null!=l&&0<l&&null!=n&&null!=q,I=E&&null!=m&&""!==m?q[m]:0,D=Array(f),C=0;C<f;++C){for(var F=C*this.dim,J=Array(this.dim),K=0;K<this.dim;++K)J[K]=
b[F+K];D[C]=J}var S=new a.SPTree(D);d(S.root);S.visit(function(a,b,c){a.rCell=c[0]-b[0];return!1});b=[];var O=0,M=0,P=Array(f),Q=this,N,U;for(C=0;C<f;++C)c(C);h*=4;E&&(h/=M);F=4/O;for(C=0;C<f;++C){K=P[C];J=K[0];var T=K[1],fa=Array(this.dim);for(K=0;K<this.dim;++K)fa[K]=h*J[K]-F*T[K];b.push(fa)}return b};return h}();a.TSNE=m})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/logging.js
(function(a){(function(a){function b(a,b,c,m){void 0===b&&(b=null);void 0===c&&(c=null);void 0===m&&(m=!1);if(null==d)console.warn("Can't show modal message before the dom is initialized");else{null==b&&(b=(e++).toString());var g=d.querySelector("#notification-dialog");g.querySelector(".close-button").style.display=m?null:"none";var h=g.querySelector(".progress");h.style.display=m?"none":null;h.active=m?null:!0;g.querySelector("#notification-title").innerHTML=c;c=g.querySelector("#notify-msgs");if(m)c.innerHTML=
"";else{h=c.querySelectorAll(".error");for(var l=0;l<h.length;l++)c.removeChild(h[l])}h="notify-msg-"+b;l=g.querySelector("#"+h);null==l&&(l=document.createElement("div"),l.className="notify-msg "+(m?"error":""),l.id=h,c.insertBefore(l,c.firstChild),m?f=0:f++);null==a?(f--,0===f&&g.close(),l.remove()):(l.innerText=a,g.open());return b}}var d=null,e=0,f=0;a.setDomContainer=function(a){d=a};a.setModalMessage=b;a.setErrorMessage=function(a,c){b(a,null,"Error "+(null!=c?c:""),!0)};a.setWarningMessage=
function(a){var b=d.querySelector("#toast");b.text=a;b.duration=1E4;b.open()}})(a.logging||(a.logging={}))})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/renderContext.js
(function(a){a.LabelRenderParams=function(){return function(a,c,d,e,f,g,h){this.pointIndices=a;this.labelStrings=c;this.scaleFactors=d;this.useSceneOpacityFlags=e;this.defaultFontSize=f;this.fillColors=g;this.strokeColors=h}}();(function(a){a[a.Perspective=0]="Perspective";a[a.Orthographic=1]="Orthographic"})(a.CameraType||(a.CameraType={}));a.RenderContext=function(){return function(a,c,d,e,f,g,h,l,m,n,q,p,t,r){this.camera=a;this.cameraType=c;this.cameraTarget=d;this.screenWidth=e;this.screenHeight=
f;this.nearestCameraSpacePointZ=g;this.farthestCameraSpacePointZ=h;this.backgroundColor=l;this.pointColors=m;this.pointScaleFactors=n;this.labels=q;this.polylineColors=p;this.polylineOpacities=t;this.polylineWidths=r}}()})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotRectangleSelector.js
(function(a){var b=function(){function a(a,b){this.svgElement=a.querySelector("#selector");this.rectElement=document.createElementNS("http://www.w3.org/2000/svg","rect");this.rectElement.style.stroke="#aaaaaa";this.rectElement.style.strokeDasharray="10 5";this.rectElement.style.strokeWidth="2";this.rectElement.style.fill="#dddddd";this.rectElement.style.fillOpacity="0.2";this.svgElement.appendChild(this.rectElement);this.selectionCallback=b;this.isMouseDown=!1}a.prototype.onMouseDown=function(a,b){this.isMouseDown=
!0;this.rectElement.style.display="block";this.startCoordinates=[a,b];this.lastBoundingBox={x:this.startCoordinates[0],y:this.startCoordinates[1],width:1,height:1}};a.prototype.onMouseMove=function(a,b){this.isMouseDown&&(this.lastBoundingBox.x=Math.min(a,this.startCoordinates[0]),this.lastBoundingBox.y=Math.max(b,this.startCoordinates[1]),this.lastBoundingBox.width=Math.max(a,this.startCoordinates[0])-this.lastBoundingBox.x,this.lastBoundingBox.height=this.lastBoundingBox.y-Math.min(b,this.startCoordinates[1]),
this.rectElement.setAttribute("x",""+this.lastBoundingBox.x),this.rectElement.setAttribute("y",""+(this.lastBoundingBox.y-this.lastBoundingBox.height)),this.rectElement.setAttribute("width",""+this.lastBoundingBox.width),this.rectElement.setAttribute("height",""+this.lastBoundingBox.height))};a.prototype.onMouseUp=function(){this.isMouseDown=!1;this.rectElement.style.display="none";this.rectElement.setAttribute("width","0");this.rectElement.setAttribute("height","0");this.selectionCallback(this.lastBoundingBox)};
return a}();a.ScatterPlotRectangleSelector=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/analyticsLogger.js
(function(a){var b=function(){function a(a,b){"undefined"===typeof ga||null==ga?this.pageViewLogging=this.eventLogging=!1:(this.eventLogging=b,this.pageViewLogging=a)}a.prototype.logPageView=function(){this.pageViewLogging&&ga("send",{hitType:"pageview",page:"/v/embeddings"})};a.prototype.logProjectionChanged=function(a){this.eventLogging&&ga("send",{hitType:"event",eventCategory:"Projection",eventAction:"click",eventLabel:a})};a.prototype.logWebGLDisabled=function(){this.eventLogging&&ga("send",
{hitType:"event",eventCategory:"Error",eventAction:"PageLoad",eventLabel:"WebGL_disabled"})};return a}();a.AnalyticsLogger=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/util.js
(function(a){(function(b){b.shuffle=function(a){for(var b=a.length,c,d;b;)d=Math.floor(Math.random()*b--),c=a[b],a[b]=a[d],a[d]=c;return a};b.range=function(a){for(var b=[],c=0;c<a;c++)b.push(c);return b};b.classed=function(a,b,c){var d=a.className.split(" ");if(c){if(b in d)return;d.push(b)}else{b=d.indexOf(b);if(-1===b)return;d.splice(b,1)}a.className=d.join(" ")};b.vector3DToScreenCoords=function(a,b,c,g){var d=window.devicePixelRatio;a=(new V.Vector3).copy(g).project(a);return[(a.x+1)/2*b*d,-((a.y-
1)/2*c)*d]};b.vector3FromPackedArray=function(a,b){b*=3;return new V.Vector3(a[b],a[b+1],a[b+2])};b.getNearFarPoints=function(a,b,c){var d=Infinity,e=0;c=(new V.Vector3).copy(c).sub(b);c=(new V.Vector3).copy(c).normalize();for(var f=a.length/3,m=0,n=new V.Vector3,q=new V.Vector3,p=0;p<f;p++){n.x=a[m];n.y=a[m+1];n.z=a[m+2];m+=3;q.copy(n).sub(b);var t=c.dot(q);0>t||(e=t>e?t:e,d=t<d?t:d)}return[d,e]};b.createTexture=function(a){a=new V.Texture(a);a.needsUpdate=!0;a.minFilter=V.LinearFilter;a.generateMipmaps=
!1;a.flipY=!1;return a};b.assert=function(a,b){if(!a)throw Error(b||"Assertion failed");};b.getSearchPredicate=function(a,b,c){if(b){var d=new RegExp(a,"i");b=function(a){return d.test(a.metadata[c].toString())}}else a=a.toLowerCase(),b=function(b){return 0<=b.metadata[c].toString().toLowerCase().indexOf(a)};return b};b.runAsyncTask=function(b,c,f){void 0===f&&(f=null);var d=null==f;f=a.logging.setModalMessage(b,f);return new Promise(function(b,e){setTimeout(function(){try{var g=c();d&&a.logging.setModalMessage(null,
f);b(g)}catch(n){e(n)}return!0},200)})};b.getURLParams=function(){var a=window.location.search;if(!a)return{};a=-1!==a.indexOf("?")?a.split("?")[1]:a;a.indexOf("#")&&(a=a.split("#")[0]);a=a.split("\x26");for(var b={},c=0;c<a.length;c++){var g=a[c].split("\x3d");b[g[0].toLowerCase()]=decodeURIComponent(g[1])}return b};var c=["/Adagrad"];b.tensorIsGenerated=function(a){for(var b=0;b<c.length;b++)if(0<=a.indexOf(c[b]))return!0;return!1};b.xor=function(a,b){return(a||b)&&!(a&&b)};b.hasWebGLSupport=function(){try{var a=
document.createElement("canvas");return null!=(a.getContext("webgl")||a.getContext("experimental-webgl"))&&"undefined"!==typeof weblas}catch(e){return!1}}})(a.util||(a.util={}))})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/vector.js
(function(a){(function(b){function c(b,c){a.util.assert(b.length===c.length,"Vectors a and b must be of same length");for(var d=0,e=0;e<b.length;++e)d+=b[e]*c[e];return d}function d(a){for(var b=0,c=0;c<a.length;++c)b+=a[c]*a[c];return b}function e(b,c){a.util.assert(b.length===c.length,"Vectors a and b must be of same length");for(var d=0,e=0;e<b.length;++e){var f=b[e]-c[e];d+=f*f}return d}function f(a,b){var c=a[0]-b[0],d=a[1]-b[1];a=a[2]-b[2];return c*c+d*d+a*a}function g(a){for(var b=d3.randomNormal(),
c=new Float32Array(a),d=0;d<a;++d)c[d]=b();return c}function h(a,b){return c(a,b)/Math.sqrt(d(a)*d(b))}b.dot=c;b.sum=function(a){for(var b=0,c=0;c<a.length;++c)b+=a[c];return b};b.add=function(b,c){a.util.assert(b.length===c.length,"Vectors a and b must be of same length");for(var d=new Float32Array(b.length),e=0;e<b.length;++e)d[e]=b[e]+c[e];return d};b.sub=function(b,c){a.util.assert(b.length===c.length,"Vectors a and b must be of same length");for(var d=new Float32Array(b.length),e=0;e<b.length;++e)d[e]=
b[e]-c[e];return d};b.norm2=d;b.dist=function(a,b){return Math.sqrt(e(a,b))};b.dist2=e;b.dist2_2D=function(a,b){var c=a[0]-b[0];a=a[1]-b[1];return c*c+a*a};b.dist2_3D=f;b.dist_3D=function(a,b){return Math.sqrt(f(a,b))};b.dist2WithLimit=function(b,c,d){a.util.assert(b.length===c.length,"Vectors a and b must be of same length");for(var e=0,f=0;f<b.length;++f){var g=b[f]-c[f];e+=g*g;if(e>=d)return-1}return e};b.dist22D=function(a,b){var c=a[0]-b[0];a=a[1]-b[1];return c*c+a*a};b.unit=function(b){var c=
Math.sqrt(d(b));a.util.assert(0<=c,"Norm of the vector must be \x3e 0");for(var e=0;e<b.length;++e)b[e]/=c};b.projectRandom=function(a,b){for(var d=a[0].length,e=a.length,f=Array(e),h=0;h<e;++h)f[h]=new Float32Array(b);for(var l=0;l<b;++l){var m=g(d);for(h=0;h<e;++h)f[h][l]=c(a[h],m)}return f};b.project2d=function(a,b,d){return[c(a,b),c(a,d)]};b.centroid=function(b,c){if(0===b.length)return null;null==c&&(c=function(a){return a});a.util.assert(0<=b.length,"`vectors` must be of length \x3e\x3d 1");
for(var d=new Float32Array(c(b[0]).length),e=0;e<b.length;++e)for(var f=c(b[e]),g=0;g<d.length;++g)d[g]+=f[g];for(g=0;g<d.length;++g)d[g]/=b.length;return d};b.rn=g;b.cosDistNorm=function(a,b){return 1-c(a,b)};b.cosDist=function(a,b){return 1-h(a,b)};b.cosSim=h;b.toTypedArray=function(a,b){for(var c=a.length,d=b(a[0]).length,e=new Float32Array(c*d),f=0;f<c;++f)for(var g=b(a[f]),h=0;h<d;++h)e[f*d+h]=g[h];return e};b.transposeTypedArray=function(a,b,c){for(var d=new Float32Array(a*b),e=0;e<a;++e)for(var f=
0;f<b;++f)d[f*a+e]=c[e*b+f];return d}})(a.vector||(a.vector={}))})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/knn.js
(function(a){(function(b){function c(b,c,f,g){return a.util.runAsyncTask("Finding nearest neighbors...",function(){for(var d=b.length,e=Array(d),m=Array(d),n=0;n<d;n++)m[n]=new a.KMin(c);for(n=0;n<d;n++)for(var q=f(b[n]),p=m[n],t=n+1;t<d;t++){var r=m[t],w=p.getSize()===c?p.getLargestKey()||Number.MAX_VALUE:Number.MAX_VALUE,v=r.getSize()===c?r.getLargestKey()||Number.MAX_VALUE:Number.MAX_VALUE;w=Math.max(w,v);w=g(q,f(b[t]),w);0<=w&&(p.add(w,{index:t,dist:w}),r.add(w,{index:n,dist:w}))}for(n=0;n<d;n++)e[n]=
m[n].getMinKItems();return e})}b.findKNNGPUCosine=function(b,e,f){function d(g){a.util.runAsyncTask("Finding nearest neighbors: "+(100*v).toFixed()+"%",function(){for(var c=x<r?t+1:t,d=new Float32Array(c*l),g=0;g<c;++g)for(var m=f(b[w+g]),p=0;p<l;++p)d[g*l+p]=m[p];g=new weblas.pipeline.Tensor([c,l],d);m=weblas.pipeline.sgemm(1,n,g,null,null);d=m.transfer();g.delete();m.delete();v+=y;for(g=0;g<c;g++){m=new a.KMin(e);p=w+g;for(var A=0;A<h;A++)if(A!==p){var F=1-d[A*c+g];m.add(F,{index:A,dist:F})}q[p]=
m.getMinKItems()}v+=y;w+=c;x++},"knn-gpu").then(function(){x<p?d(g):(a.logging.setModalMessage(null,"knn-gpu"),n.delete(),g(q))},function(){a.logging.setModalMessage(null,"knn-gpu");c(b,e,f,function(b,c){return a.vector.cosDistNorm(b,c)}).then(function(a){g(a)})})}var h=b.length,l=f(b[0]).length,m=a.vector.toTypedArray(b,f),n=new weblas.pipeline.Tensor([h,l],m),q=Array(h),p=Math.ceil(h/256),t=Math.floor(h/p),r=h%p,w=0,v=0,y=1/(2*p),x=0;return new Promise(function(a){return d(a)})};b.findKNN=c;b.findKNNofPoint=
function(b,c,f,g,h){f=new a.KMin(f);for(var d=g(b[c]),e=0;e<b.length;++e)if(e!==c){var n=g(b[e]);n=h(d,n);f.add(n,{index:e,dist:n})}return f.getMinKItems()}})(a.knn||(a.knn={}))})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data.js
(function(a){function b(a){for(var b=null,c=0,d=e;c<d.length;c++){var f=d[c];if(f in a&&""!==a[f]){b=a[f];break}}return null==b?null:+b}var c=0<=navigator.userAgent.toLowerCase().indexOf("firefox"),d=a.util.hasWebGLSupport()&&!c;a.TSNE_SAMPLE_SIZE=1E4;a.PCA_SAMPLE_SIZE=5E4;a.PCA_SAMPLE_DIM=200;var e=["__next__","__seq_next__"];c=function(){function c(b,c){this.shuffledDataIndices=[];this.projections={};this.tSNEIteration=0;this.tSNEShouldPause=!1;this.tSNEShouldStop=!0;this.superviseInput="";this.dim=
[0,0];this.hasTSNERun=!1;this.points=b;this.shuffledDataIndices=a.util.shuffle(a.util.range(this.points.length));this.sequences=this.computeSequences(b);this.dim=[this.points.length,this.points[0].vector.length];this.spriteAndMetadataInfo=c}c.prototype.computeSequences=function(a){for(var c=new Int8Array(a.length),d={},e=[],f=0;f<a.length;f++)if(!c[f]){c[f]=1;var g=b(a[f].metadata);if(null!=g)if(g in d)g=d[g],g.pointIndices.unshift(f),d[f]=g;else{g={pointIndices:[]};d[f]=g;e.push(g);for(var p=f;a[p];)g.pointIndices.push(p),
p=b(a[p].metadata),null!=p?c[p]=1:p=-1}}return e};c.prototype.projectionCanBeRendered=function(a){return"tsne"!==a?!0:0<this.tSNEIteration};c.prototype.getSubset=function(a){var b=this;a=(null!=a&&0<a.length?a.map(function(a){return b.points[a]}):this.points).map(function(a){return{metadata:a.metadata,index:a.index,vector:a.vector.slice(),projections:{}}});return new c(a,this.spriteAndMetadataInfo)};c.prototype.normalize=function(){var b=a.vector.centroid(this.points,function(a){return a.vector});
if(null==b)throw Error("centroid should not be null");for(var c=0;c<this.points.length;++c){var d=this.points[c];d.vector=a.vector.sub(d.vector,b);0<a.vector.norm2(d.vector)&&a.vector.unit(d.vector)}};c.prototype.projectLinear=function(b,c){this.projections[c]=!0;this.points.forEach(function(d){d.projections[c]=a.vector.dot(d.vector,b)})};c.prototype.projectPCA=function(){var b=this;return null!=this.projections["pca-0"]?Promise.resolve(null):a.util.runAsyncTask("Computing PCA...",function(){var c=
b.points[0].vector.length,d=b.shuffledDataIndices.map(function(a){return b.points[a].vector});c>a.PCA_SAMPLE_DIM&&(d=a.vector.projectRandom(d,a.PCA_SAMPLE_DIM));c=d.slice(0,a.PCA_SAMPLE_SIZE);c=zc(numeric,numeric.dot(numeric.transpose(c),c));var e=numeric.svd(c),f=e.S,g=0;for(c=0;c<f.length;++c)g+=f[c];for(c=0;c<f.length;++c)f[c]/=g;b.fracVariancesExplained=f;var p=e.U;d=d.map(function(a){for(var b=new Float32Array(10),c=0;10>c;c++){for(var d=0,e=0;e<a.length;e++)d+=a[e]*p[e][c];b[c]=d}return b});
for(e=0;10>e;e++)for(f="pca-"+e,b.projections[f]=!0,c=0;c<d.length;c++)b.points[b.shuffledDataIndices[c]].projections[f]=d[c][e]})};c.prototype.projectTSNE=function(b,c,e,f){function g(){if(h.tSNEShouldStop)h.projections.tsne=!1,f(null),h.tsne=null,h.hasTSNERun=!1;else{if(!h.tSNEShouldPause){h.tsne.step();var a=h.tsne.getSolution();m.forEach(function(b,c){b=h.points[b];b.projections["tsne-0"]=a[c*e];b.projections["tsne-1"]=a[c*e+1];3===e&&(b.projections["tsne-2"]=a[c*e+2])});h.projections.tsne=!0;
h.tSNEIteration++;f(h.tSNEIteration)}requestAnimationFrame(g)}}var h=this;this.hasTSNERun=!0;var l=Math.floor(3*b);this.tsne=new a.TSNE({epsilon:c,perplexity:b,dim:e});this.tsne.setSupervision(this.superviseLabels,this.superviseInput);this.tsne.setSuperviseFactor(this.superviseFactor);this.tSNEShouldStop=this.tSNEShouldPause=!1;this.tSNEIteration=0;var m=this.shuffledDataIndices.slice(0,a.TSNE_SAMPLE_SIZE);null!=this.nearest&&l===this.nearestK?l=Promise.resolve(this.nearest):(b=m.map(function(a){return h.points[a]}),
this.nearestK=l,l=d?a.knn.findKNNGPUCosine(b,l,function(a){return a.vector}):a.knn.findKNN(b,l,function(a){return a.vector},function(b,c){return a.vector.cosDistNorm(b,c)}));l.then(function(b){h.nearest=b;a.util.runAsyncTask("Initializing T-SNE...",function(){h.tsne.initDataDist(h.nearest)}).then(g)})};c.prototype.perturbTsne=function(){var b=this;if(this.hasTSNERun&&this.tsne){this.tsne.perturb();var c=this.tsne.getDim(),d=this.tsne.getSolution();this.shuffledDataIndices.slice(0,a.TSNE_SAMPLE_SIZE).forEach(function(a,
e){a=b.points[a];a.projections["tsne-0"]=d[e*c];a.projections["tsne-1"]=d[e*c+1];3===c&&(a.projections["tsne-2"]=d[e*c+2])})}};c.prototype.setSupervision=function(b,c){var d=this;if(null!=b){var e=this.shuffledDataIndices.slice(0,a.TSNE_SAMPLE_SIZE),f=Array(e.length);e.forEach(function(a,c){return f[c]=d.points[a].metadata[b].toString()});this.superviseLabels=f}null!=c&&(this.superviseInput=c);this.tsne&&this.tsne.setSupervision(this.superviseLabels,this.superviseInput)};c.prototype.setSuperviseFactor=
function(a){null!=a&&(this.superviseFactor=a,this.tsne&&this.tsne.setSuperviseFactor(a))};c.prototype.mergeMetadata=function(b){var c=this;if(b.pointsInfo.length!==this.points.length){var d="Number of tensors ("+this.points.length+") do not match the number of lines in metadata"+(" ("+b.pointsInfo.length+").");if(1===b.stats.length&&this.points.length+1===b.pointsInfo.length)return a.logging.setErrorMessage(d+" Single column metadata should not have a header row.","merging metadata"),!1;if(1<b.stats.length&&
this.points.length-1===b.pointsInfo.length)return a.logging.setErrorMessage(d+" Multi-column metadata should have a header row with column labels.","merging metadata"),!1;a.logging.setWarningMessage(d)}this.spriteAndMetadataInfo=b;b.pointsInfo.slice(0,this.points.length).forEach(function(a,b){return c.points[b].metadata=a});return!0};c.prototype.stopTSNE=function(){this.tSNEShouldStop=!0};c.prototype.findNeighbors=function(b,c,d){return a.knn.findKNNofPoint(this.points,b,d,function(a){return a.vector},
c).slice(0,d)};c.prototype.query=function(b,c,d){var e=a.util.getSearchPredicate(b,c,d),f=[];this.points.forEach(function(a,b){e(a)&&f.push(b)});return f};return c}();a.DataSet=c;a.Projection=function(){return function(a,b,c,d){this.projectionType=a;this.projectionComponents=b;this.dimensionality=c;this.dataSet=d}}();a.State=function(){return function(){this.label="";this.isSelected=!1;this.tSNELearningRate=this.tSNEPerplexity=this.tSNEIteration=0;this.tSNEis3d=!0;this.pcaComponentDimensions=[];this.projections=
[];this.selectedPoints=[]}}();a.getProjectionComponents=function(a,b){if(3<b.length)throw new RangeError("components length must be \x3c\x3d 3");var c=[null,null,null];a="custom"===a?"linear":a;for(var d=0;d<b.length;++d)null!=b[d]&&(c[d]=a+"-"+b[d]);return c};a.stateGetAccessorDimensions=function(a){switch(a.selectedProjection){case "pca":var b=a.pcaComponentDimensions.slice();break;case "tsne":b=[0,1];a.tSNEis3d&&b.push(2);break;case "custom":b=["x","y"];break;default:throw Error("Unexpected fallthrough");
}return b}})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider.js
(function(a){function b(a,b,c,d){void 0===c&&(c=1E6);void 0===d&&(d="\n");return new Promise(function(e){function f(m,n){m=new Blob([a.slice(m,m+n)]);n=new FileReader;n.onload=function(a){a=a.target.result;g+=c;a=a.split(d);var m=l+a[0];if(1===a.length)l=m,f(g,c);else{l=a[a.length-1];b(m);for(m=1;m<a.length-1;m++)b(a[m]);g>=h?(l&&b(l),e()):f(g,c)}};n.readAsText(m)}var g=0,h=a.byteLength-1,l="";f(g,c)})}function c(c,d){void 0===d&&(d="\t");a.logging.setModalMessage("Parsing tensors...",a.TENSORS_MSG_ID);
return new Promise(function(e){var f=[],g;b(c,function(b){b=b.trim();if(""!==b){b=b.split(d);var c={metadata:{},vector:null,index:f.length,projections:null};isNaN(b[0])||g===b.length-1?(c.metadata.label=b[0],c.vector=new Float32Array(b.slice(1).map(Number))):c.vector=new Float32Array(b.map(Number));f.push(c);null==g&&(g=c.vector.length);if(g!==c.vector.length)throw a.logging.setModalMessage("Parsing failed. Vector dimensions do not match"),Error("Parsing failed");if(1>=g)throw a.logging.setModalMessage("Parsing failed. Found a vector with only one dimension?"),
Error("Parsing failed");}}).then(function(){a.logging.setModalMessage(null,a.TENSORS_MSG_ID);e(f)})})}function d(b,c){return a.util.runAsyncTask("Parsing tensors...",function(){for(var a=b.length/c,d=[],e=0,f=0;f<a;++f)d.push({metadata:{},vector:b.subarray(e,e+c),index:f,projections:null}),e+=c;return d},a.TENSORS_MSG_ID).then(function(b){a.logging.setModalMessage(null,a.TENSORS_MSG_ID);return b})}function e(a,b){var c=a.map(function(a){return{name:a,isNumeric:!0,tooManyUniqueValues:!1,min:Number.POSITIVE_INFINITY,
max:Number.NEGATIVE_INFINITY}}),d=a.map(function(){return{}});b.forEach(function(b){a.forEach(function(a,e){var f=c[e];e=d[e];var g=b[a];null!=g&&(f.tooManyUniqueValues||(g in e?e[g]++:e[g]=1,50<Object.keys(e).length&&(f.tooManyUniqueValues=!0)),isNaN(g)?f.isNumeric=!1:(b[a]=+g,f.min=Math.min(f.min,+g),f.max=Math.max(f.max,+g)))})});c.forEach(function(a,b){a.uniqueEntries=Object.keys(d[b]).map(function(a){return{label:a,count:d[b][a]}})});return c}function f(c){a.logging.setModalMessage("Parsing metadata...",
a.METADATA_MSG_ID);return new Promise(function(d){var f=[],g=!1,h=0,l=["label"];b(c,function(a){if(0!==a.trim().length){if(0===h&&(g=0<=a.indexOf("\t"))){l=a.split("\t");h++;return}h++;var b=a.split("\t"),c={};f.push(c);l.forEach(function(a,d){d=b[d];c[a]=""===d?null:d})}}).then(function(){a.logging.setModalMessage(null,a.METADATA_MSG_ID);d({stats:e(l,f),pointsInfo:f})})})}function g(a){return new Promise(function(b,c){var d=new Image;d.onload=function(){return b(d)};d.onerror=function(a){return c(a)};
d.crossOrigin="";d.src=a})}a.METADATA_MSG_ID="metadata";a.TENSORS_MSG_ID="tensors";a.retrieveTensorAsBytes=function(b,c,e){a.logging.setModalMessage("Fetching tensor values...",a.TENSORS_MSG_ID);var f=new XMLHttpRequest;f.open("GET",c);f.responseType="arraybuffer";f.onprogress=function(b){b.lengthComputable&&a.logging.setModalMessage("Fetching tensor values: "+(100*b.loaded/b.total).toFixed(1)+"%",a.TENSORS_MSG_ID)};f.onload=function(){if(200!==f.status){var c=String.fromCharCode.apply(null,new Uint8Array(f.response));
a.logging.setErrorMessage(c,"fetching tensors")}else{try{c=new Float32Array(f.response)}catch(r){a.logging.setErrorMessage(r,"parsing tensor bytes");return}var g=b.tensorShape[1],h=c.length/g;b.tensorShape[0]>h&&a.logging.setWarningMessage("Showing the first "+h.toLocaleString()+(" of "+b.tensorShape[0].toLocaleString()+" data points"));d(c,g).then(function(b){e(new a.DataSet(b))})}};f.send()};a.parseRawTensors=function(b,d){c(b).then(function(b){d(new a.DataSet(b))})};a.parseRawMetadata=function(a,
b){f(a).then(function(a){return b(a)})};a.parseTensors=c;a.parseTensorsFromFloat32Array=d;a.analyzeMetadata=e;a.parseMetadata=f;a.fetchImage=g;a.retrieveSpriteAndMetadataInfo=function(b,c,d,e){var h=Promise.resolve({});b&&(h=new Promise(function(c,d){a.logging.setModalMessage("Fetching metadata...",a.METADATA_MSG_ID);var e=new XMLHttpRequest;e.open("GET",b);e.responseType="arraybuffer";e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status)c(f(e.response));else{var b=new FileReader;
b.onload=function(){a.logging.setErrorMessage(b.result,"fetching metadata");d()};b.readAsText(new Blob([e.response]))}};e.send(null)}));var l=null,m=null;c&&(l=a.logging.setModalMessage("Fetching sprite image..."),m=g(c));Promise.all([h,m]).then(function(b){l&&a.logging.setModalMessage(null,l);var c=b[0];if((b=b[1])&&(8192<b.height||8192<b.width))a.logging.setModalMessage("Error: Sprite image of dimensions "+b.width+"px x "+(b.height+"px exceeds maximum dimensions ")+"8192px x 8192px");else{c.spriteImage=
b;c.spriteMetadata=d;try{e(c)}catch(v){a.logging.setModalMessage(String(v))}}})}})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider-demo.js
(function(a){var b=function(){function b(a){this.projectorConfigPath=a}b.prototype.getEmbeddingInfo=function(a){for(var b=this.projectorConfig.embeddings,c=0;c<b.length;c++){var d=b[c];if(d.tensorName===a)return d}return null};b.prototype.retrieveRuns=function(a){a(["Demo"])};b.prototype.retrieveProjectorConfig=function(b,c){var d=this,e=a.logging.setModalMessage("Fetching projector config..."),h=new XMLHttpRequest;h.open("GET",this.projectorConfigPath);h.onerror=function(b){b=b.message;null!=h.responseText&&
(b="Cannot fetch projector config, possibly a Cross-Origin request error.");a.logging.setErrorMessage(b,"fetching projector config")};h.onload=function(){var b=JSON.parse(h.responseText);a.logging.setModalMessage(null,e);d.projectorConfig=b;c(b)};h.send()};b.prototype.retrieveTensor=function(b,c,f){b=this.getEmbeddingInfo(c);var d=""+b.tensorPath;if(".bytes"===b.tensorPath.substr(-6))a.retrieveTensorAsBytes(this.getEmbeddingInfo(c),d,f);else{a.logging.setModalMessage("Fetching tensors...",a.TENSORS_MSG_ID);
var e=new XMLHttpRequest;e.open("GET",d);e.responseType="arraybuffer";e.onerror=function(){a.logging.setErrorMessage(e.responseText,"fetching tensors")};e.onload=function(){a.parseTensors(e.response).then(function(b){f(new a.DataSet(b))})};e.send()}};b.prototype.retrieveSpriteAndMetadata=function(b,c,f){b=this.getEmbeddingInfo(c);c=null;b.sprite&&b.sprite.imagePath&&(c=b.sprite.imagePath);a.retrieveSpriteAndMetadataInfo(b.metadataPath,c,b.sprite,f)};b.prototype.getBookmarks=function(b,c,f){b=this.getEmbeddingInfo(c);
var d=a.logging.setModalMessage("Fetching bookmarks..."),e=new XMLHttpRequest;e.open("GET",b.bookmarksPath);e.onerror=function(){a.logging.setErrorMessage(e.responseText)};e.onload=function(){var b=JSON.parse(e.responseText);a.logging.setModalMessage(null,d);f(b)};e.send()};return b}();a.DemoDataProvider=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider-proto.js
(function(a){var b=function(){function b(a){this.dataProto=a}b.prototype.retrieveRuns=function(a){a(["proto"])};b.prototype.retrieveProjectorConfig=function(a,b){b({modelCheckpointPath:"proto",embeddings:[{tensorName:"proto",tensorShape:this.dataProto.shape,metadataPath:"proto"}]})};b.prototype.retrieveTensor=function(a,b,c){c(this.flatArrayToDataset(this.dataProto.tensor))};b.prototype.retrieveSpriteAndMetadata=function(b,c,f){var d=this,e=this.dataProto.metadata.columns.map(function(a){return a.name}),
l=this.dataProto.shape[0],m=Array(l);this.dataProto.metadata.columns.forEach(function(a){for(var b=a.numericValues||a.stringValues,c=0;c<l;c++)m[c]=m[c]||{},m[c][a.name]=b[c]});b=Promise.resolve(null);null!=this.dataProto.metadata.sprite&&(b=new Promise(function(a,b){var c=new Image;c.onload=function(){return a(c)};c.onerror=function(){return b("Failed converting base64 to an image")};c.src=d.dataProto.metadata.sprite.imageBase64}));b.then(function(b){var c={stats:a.analyzeMetadata(e,m),pointsInfo:m};
null!=b&&(c.spriteImage=b,c.spriteMetadata={singleImageDim:d.dataProto.metadata.sprite.singleImageDim,imagePath:"proto"});f(c)})};b.prototype.getBookmarks=function(a,b,c){c([])};b.prototype.flatArrayToDataset=function(b){var c=[],d=this.dataProto.shape[0],g=this.dataProto.shape[1];if(d*g!==b.length)throw"The shape doesn't match the length of the flattened array";for(var h=0;h<d;h++){var l=h*g;c.push({vector:new Float32Array(b.slice(l,l+g)),metadata:{},projections:null,index:h})}return new a.DataSet(c)};
return b}();a.ProtoDataProvider=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/data-provider-server.js
(function(a){a.LIMIT_NUM_POINTS=1E5;var b=function(){function b(a){this.runProjectorConfigCache={};this.routePrefix=a}b.prototype.getEmbeddingInfo=function(a,b,c){this.retrieveProjectorConfig(a,function(a){a=a.embeddings;for(var d=0;d<a.length;d++){var e=a[d];if(e.tensorName===b){c(e);return}}c(null)})};b.prototype.retrieveRuns=function(b){var c=a.logging.setModalMessage("Fetching runs..."),d=new XMLHttpRequest;d.open("GET",this.routePrefix+"/runs");d.onerror=function(){a.logging.setErrorMessage(d.responseText,
"fetching runs")};d.onload=function(){var e=JSON.parse(d.responseText);a.logging.setModalMessage(null,c);b(e)};d.send()};b.prototype.retrieveProjectorConfig=function(b,c){var d=this;if(b in this.runProjectorConfigCache)c(this.runProjectorConfigCache[b]);else{var e=a.logging.setModalMessage("Fetching projector config..."),h=new XMLHttpRequest;h.open("GET",this.routePrefix+"/info?run\x3d"+b);h.onerror=function(){a.logging.setErrorMessage(h.responseText,"fetching projector config")};h.onload=function(){var f=
JSON.parse(h.responseText);a.logging.setModalMessage(null,e);d.runProjectorConfigCache[b]=f;c(f)};h.send()}};b.prototype.retrieveTensor=function(b,c,f){var d=this;this.getEmbeddingInfo(b,c,function(e){a.retrieveTensorAsBytes(e,d.routePrefix+"/tensor?run\x3d"+b+"\x26name\x3d"+c+("\x26num_rows\x3d"+a.LIMIT_NUM_POINTS),f)})};b.prototype.retrieveSpriteAndMetadata=function(b,c,f){var d=this;this.getEmbeddingInfo(b,c,function(e){var g=null;e.metadataPath&&(g=d.routePrefix+"/metadata?"+("run\x3d"+b+"\x26name\x3d"+
c+"\x26num_rows\x3d"+a.LIMIT_NUM_POINTS));var h=null;e.sprite&&e.sprite.imagePath&&(h=d.routePrefix+"/sprite_image?run\x3d"+b+"\x26name\x3d"+c);a.retrieveSpriteAndMetadataInfo(g,h,e.sprite,f)})};b.prototype.getBookmarks=function(b,c,f){var d=a.logging.setModalMessage("Fetching bookmarks..."),e=new XMLHttpRequest;e.open("GET",this.routePrefix+"/bookmarks?run\x3d"+b+"\x26name\x3d"+c);e.onerror=function(){a.logging.setErrorMessage(e.responseText,"fetching bookmarks")};e.onload=function(){a.logging.setModalMessage(null,
d);var b=JSON.parse(e.responseText);f(b)};e.send()};return b}();a.ServerDataProvider=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/projectorEventContext.js
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlot.js
(function(a){var b=new V.Vector3(.45,.9,1.6),c=new V.Vector3(0,0,0),d=new V.Vector3(0,0,4),e=new V.Vector3(0,0,0),f;(function(a){a[a.AREA_SELECT=0]="AREA_SELECT";a[a.CAMERA_AND_CLICK_SELECT=1]="CAMERA_AND_CLICK_SELECT"})(f=a.MouseMode||(a.MouseMode={}));var g=function(){return function(){this.orthographic=!1}}();a.CameraDef=g;var h=function(){function h(b,c){var d=this;this.container=b;this.projectorEventContext=c;this.visualizers=[];this.onCameraMoveListeners=[];this.backgroundColor=16777215;this.dimensionality=
3;this.cameraDef=null;this.isDragSequence=this.mouseIsDown=this.selecting=this.orbitAnimationOnNextCameraCreation=!1;this.getLayoutValues();this.scene=new V.Scene;this.renderer=new V.WebGLRenderer({alpha:!0,premultipliedAlpha:!1,antialias:!1});this.renderer.setClearColor(16777215,1);this.container.appendChild(this.renderer.domElement);this.light=new V.PointLight(16772287,1,0);this.scene.add(this.light);this.setDimensions(3);this.recreateCamera(this.makeDefaultCameraDef(this.dimensionality));this.renderer.render(this.scene,
this.camera);this.rectangleSelector=new a.ScatterPlotRectangleSelector(this.container,function(a){return d.selectBoundingBox(a)});this.addInteractionListeners()}h.prototype.addInteractionListeners=function(){this.container.addEventListener("mousemove",this.onMouseMove.bind(this));this.container.addEventListener("mousedown",this.onMouseDown.bind(this));this.container.addEventListener("mouseup",this.onMouseUp.bind(this));this.container.addEventListener("click",this.onClick.bind(this));window.addEventListener("keydown",
this.onKeyDown.bind(this),!1);window.addEventListener("keyup",this.onKeyUp.bind(this),!1)};h.prototype.addCameraControlsEventListeners=function(a){var b=this;a.addEventListener("start",function(){b.stopOrbitAnimation();b.onCameraMoveListeners.forEach(function(c){return c(b.camera.position,a.target)})});a.addEventListener("change",function(){b.render()});a.addEventListener("end",function(){})};h.prototype.makeOrbitControls=function(a,b,c){null!=this.orbitCameraControls&&this.orbitCameraControls.dispose();
var d=new V.OrbitControls(a,this.renderer.domElement);d.target0=new V.Vector3(b.target[0],b.target[1],b.target[2]);d.position0=(new V.Vector3).copy(a.position);d.zoom0=b.zoom;d.enableRotate=c;d.autoRotate=!1;d.rotateSpeed=1;c?(d.mouseButtons.ORBIT=V.MOUSE.LEFT,d.mouseButtons.PAN=V.MOUSE.RIGHT):(d.mouseButtons.ORBIT=null,d.mouseButtons.PAN=V.MOUSE.LEFT);d.reset();this.camera=a;this.orbitCameraControls=d;this.addCameraControlsEventListeners(this.orbitCameraControls)};h.prototype.makeCamera3D=function(a,
b,c){b=new V.PerspectiveCamera(70,b/c,.01,100);b.position.set(a.position[0],a.position[1],a.position[2]);b.lookAt(new V.Vector3(a.target[0],a.target[1],a.target[2]));b.zoom=a.zoom;b.updateProjectionMatrix();this.camera=b;this.makeOrbitControls(b,a,!0)};h.prototype.makeCamera2D=function(a,b,c){var d=new V.Vector3(a.target[0],a.target[1],a.target[2]);b/=c;c=-1.2;var e=1.2,f=-1.2,g=1.2;1<b?(c*=b,e*=b):(g/=b,f/=b);b=new V.OrthographicCamera(c,e,g,f,-1E3,1E3);b.position.set(a.position[0],a.position[1],
a.position[2]);b.up=new V.Vector3(0,1,0);b.lookAt(d);b.zoom=a.zoom;b.updateProjectionMatrix();this.camera=b;this.makeOrbitControls(b,a,!1)};h.prototype.makeDefaultCameraDef=function(a){var f=new g;f.orthographic=2===a;f.zoom=1;f.orthographic?(f.position=[d.x,d.y,d.z],f.target=[e.x,e.y,e.z]):(f.position=[b.x,b.y,b.z],f.target=[c.x,c.y,c.z]);return f};h.prototype.recreateCamera=function(a){a.orthographic?this.makeCamera2D(a,this.width,this.height):this.makeCamera3D(a,this.width,this.height);this.orbitCameraControls.minDistance=
.05;this.orbitCameraControls.maxDistance=10;this.orbitCameraControls.update();this.orbitAnimationOnNextCameraCreation&&this.startOrbitAnimation()};h.prototype.onClick=function(a,b){void 0===b&&(b=!0);a&&this.selecting||(!this.isDragSequence&&b&&this.projectorEventContext.notifySelectionChanged(null!=this.nearestPoint?[this.nearestPoint]:[]),this.isDragSequence=!1,this.render())};h.prototype.onMouseDown=function(a){this.isDragSequence=!1;this.mouseIsDown=!0;this.selecting?(this.orbitCameraControls.enabled=
!1,this.rectangleSelector.onMouseDown(a.offsetX,a.offsetY),this.setNearestPointToMouse(a)):!a.ctrlKey&&this.sceneIs3D()&&this.orbitCameraControls.mouseButtons.ORBIT===V.MOUSE.RIGHT?(this.orbitCameraControls.mouseButtons.ORBIT=V.MOUSE.LEFT,this.orbitCameraControls.mouseButtons.PAN=V.MOUSE.RIGHT):a.ctrlKey&&this.sceneIs3D()&&this.orbitCameraControls.mouseButtons.ORBIT===V.MOUSE.LEFT&&(this.orbitCameraControls.mouseButtons.ORBIT=V.MOUSE.RIGHT,this.orbitCameraControls.mouseButtons.PAN=V.MOUSE.LEFT)};
h.prototype.onMouseUp=function(){this.selecting&&(this.orbitCameraControls.enabled=!0,this.rectangleSelector.onMouseUp(),this.render());this.mouseIsDown=!1};h.prototype.onMouseMove=function(a){this.isDragSequence=this.mouseIsDown;this.selecting&&this.mouseIsDown?(this.rectangleSelector.onMouseMove(a.offsetX,a.offsetY),this.render()):this.mouseIsDown||(this.setNearestPointToMouse(a),this.projectorEventContext.notifyHoverOverPoint(this.nearestPoint))};h.prototype.onKeyDown=function(a){17===a.keyCode&&
this.sceneIs3D()&&(this.orbitCameraControls.mouseButtons.ORBIT=V.MOUSE.RIGHT,this.orbitCameraControls.mouseButtons.PAN=V.MOUSE.LEFT);16===a.keyCode&&(this.selecting=!0,this.container.style.cursor="crosshair")};h.prototype.onKeyUp=function(a){17===a.keyCode&&this.sceneIs3D()&&(this.orbitCameraControls.mouseButtons.ORBIT=V.MOUSE.LEFT,this.orbitCameraControls.mouseButtons.PAN=V.MOUSE.RIGHT);16===a.keyCode&&(this.selecting=this.getMouseMode()===f.AREA_SELECT,this.selecting||(this.container.style.cursor=
"default"),this.render())};h.prototype.getPointIndicesFromPickingTexture=function(a){if(null==this.worldSpacePointPositions)return null;var b=this.worldSpacePointPositions.length/3,c=window.devicePixelRatio||1,d=Math.floor(a.width*c),e=Math.floor(a.height*c),f=new Uint8Array(d*e*4);this.renderer.readRenderTargetPixels(this.pickingTexture,Math.floor(a.x*c),this.pickingTexture.height-Math.floor(a.y*c),d,e,f);a=new Uint8Array(this.worldSpacePointPositions.length);for(c=0;c<d*e;c++){var g=f[4*c]<<16|
f[4*c+1]<<8|f[4*c+2];16777215!==g&&g<b&&(a[g]=1)}b=[];for(c=0;c<a.length;c++)1===a[c]&&b.push(c);return b};h.prototype.selectBoundingBox=function(a){a=this.getPointIndicesFromPickingTexture(a);this.projectorEventContext.notifySelectionChanged(a)};h.prototype.setNearestPointToMouse=function(a){null==this.pickingTexture?this.nearestPoint=null:(a=this.getPointIndicesFromPickingTexture({x:a.offsetX,y:a.offsetY,width:1,height:1}),this.nearestPoint=null!=a?a[0]:null)};h.prototype.getLayoutValues=function(){this.width=
this.container.offsetWidth;this.height=Math.max(1,this.container.offsetHeight);return[this.width,this.height]};h.prototype.sceneIs3D=function(){return 3===this.dimensionality};h.prototype.remove3dAxisFromScene=function(){var a=this.scene.getObjectByName("axes");null!=a&&this.scene.remove(a);return a};h.prototype.add3dAxis=function(){var a=new V.AxisHelper;a.name="axes";this.scene.add(a)};h.prototype.setDimensions=function(a){if(2!==a&&3!==a)throw new RangeError("dimensionality must be 2 or 3");this.dimensionality=
a;var b=this.cameraDef||this.makeDefaultCameraDef(a);this.recreateCamera(b);this.remove3dAxisFromScene();3===a&&this.add3dAxis()};h.prototype.getCameraDef=function(){var a=new g,b=this.camera.position,c=this.orbitCameraControls.target;a.orthographic=!this.sceneIs3D();a.position=[b.x,b.y,b.z];a.target=[c.x,c.y,c.z];a.zoom=this.camera.zoom;return a};h.prototype.setCameraParametersForNextCameraCreation=function(a,b){this.cameraDef=a;this.orbitAnimationOnNextCameraCreation=b};h.prototype.getCameraPosition=
function(){var a=this.camera.position;return[a.x,a.y,a.z]};h.prototype.getCameraTarget=function(){var a=this.orbitCameraControls.target;return[a.x,a.y,a.z]};h.prototype.setCameraPositionAndTarget=function(a,b){this.stopOrbitAnimation();this.camera.position.set(a[0],a[1],a[2]);this.orbitCameraControls.target.set(b[0],b[1],b[2]);this.orbitCameraControls.update();this.render()};h.prototype.startOrbitAnimation=function(){this.sceneIs3D()&&(null!=this.orbitAnimationId&&this.stopOrbitAnimation(),this.orbitCameraControls.autoRotate=
!0,this.orbitCameraControls.rotateSpeed=7,this.updateOrbitAnimation())};h.prototype.updateOrbitAnimation=function(){var a=this;this.orbitCameraControls.update();this.orbitAnimationId=requestAnimationFrame(function(){return a.updateOrbitAnimation()})};h.prototype.stopOrbitAnimation=function(){this.orbitCameraControls.autoRotate=!1;this.orbitCameraControls.rotateSpeed=1;null!=this.orbitAnimationId&&(cancelAnimationFrame(this.orbitAnimationId),this.orbitAnimationId=null)};h.prototype.addVisualizer=function(a){this.scene&&
a.setScene(this.scene);a.onResize(this.width,this.height);a.onPointPositionsChanged(this.worldSpacePointPositions);this.visualizers.push(a)};h.prototype.removeAllVisualizers=function(){this.visualizers.forEach(function(a){return a.dispose()});this.visualizers=[]};h.prototype.setPointPositions=function(a){this.worldSpacePointPositions=a;this.visualizers.forEach(function(b){return b.onPointPositionsChanged(a)})};h.prototype.render=function(){var b=this.camera.position.clone();b.x+=1;b.y+=1;this.light.position.set(b.x,
b.y,b.z);b=this.camera instanceof V.PerspectiveCamera?a.CameraType.Perspective:a.CameraType.Orthographic;var c=[0,0];null!=this.worldSpacePointPositions&&(c=a.util.getNearFarPoints(this.worldSpacePointPositions,this.camera.position,this.orbitCameraControls.target));var d=new a.RenderContext(this.camera,b,this.orbitCameraControls.target,this.width,this.height,c[0],c[1],this.backgroundColor,this.pointColors,this.pointScaleFactors,this.labels,this.polylineColors,this.polylineOpacities,this.polylineWidths);
this.visualizers.forEach(function(a){return a.onPickingRender(d)});b=this.remove3dAxisFromScene();this.renderer.render(this.scene,this.camera,this.pickingTexture);null!=b&&this.scene.add(b);this.visualizers.forEach(function(a){return a.onRender(d)});this.renderer.render(this.scene,this.camera)};h.prototype.setMouseMode=function(a){this.mouseMode=a;a===f.AREA_SELECT?(this.selecting=!0,this.container.style.cursor="crosshair"):(this.selecting=!1,this.container.style.cursor="default")};h.prototype.setPointColors=
function(a){this.pointColors=a};h.prototype.setPointScaleFactors=function(a){this.pointScaleFactors=a};h.prototype.setLabels=function(a){this.labels=a};h.prototype.setPolylineColors=function(a){this.polylineColors=a};h.prototype.setPolylineOpacities=function(a){this.polylineOpacities=a};h.prototype.setPolylineWidths=function(a){this.polylineWidths=a};h.prototype.getMouseMode=function(){return this.mouseMode};h.prototype.resetZoom=function(){this.recreateCamera(this.makeDefaultCameraDef(this.dimensionality));
this.render()};h.prototype.setDayNightMode=function(a){var b=this.container.querySelectorAll("canvas");a=a?"invert(100%)":null;for(var c=0;c<b.length;c++)b[c].style.filter=a};h.prototype.resize=function(a){void 0===a&&(a=!0);var b=[this.width,this.height],c=b[0];b=b[1];var d=this.getLayoutValues(),e=d[0],f=d[1];3===this.dimensionality?(d=this.camera,d.aspect=e/f):(d=this.camera,c=e/c*(d.right-d.left)/2,b=f/b*(d.top-d.bottom)/2,d.top=b,d.bottom=-b,d.left=-c,d.right=c);d.updateProjectionMatrix();this.renderer.setPixelRatio(window.devicePixelRatio||
1);this.renderer.setSize(e,f);c=this.renderer.getSize();b=this.renderer.getPixelRatio();this.pickingTexture=new V.WebGLRenderTarget(c.width*b,c.height*b);this.pickingTexture.texture.minFilter=V.LinearFilter;this.visualizers.forEach(function(a){return a.onResize(e,f)});a&&this.render()};h.prototype.onCameraMove=function(a){this.onCameraMoveListeners.push(a)};h.prototype.clickOnPoint=function(a){this.nearestPoint=a;this.onClick(null,!1)};return h}();a.ScatterPlot=h})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizer3DLabels.js
(function(a){var b=function(){function b(){}b.prototype.createGlyphTexture=function(){var b=document.createElement("canvas");b.width=8192;b.height=80;var c=b.getContext("2d");c.font="bold 60px roboto";c.textBaseline="top";c.fillStyle="white";c.rect(0,0,b.width,b.height);c.fill();c.fillStyle="black";for(var f=c.measureText(" ").width,g=new Float32Array(256),h=new Float32Array(256),l=0,m=0;256>m;m++){var n=" "+String.fromCharCode(m),q=c.measureText(n).width;g[m]=q-f;h[m]=l;c.fillText(n,l-f,0);l+=q}return{texture:a.util.createTexture(b),
lengths:g,offsets:h}};b.prototype.processLabelVerts=function(a){var b=0;this.labelVertexMap=[];for(var c=0;c<a;c++){for(var d=this.labelStrings[c],h=[],l=0;l<d.length;l++){for(var m=0;6>m;m++)h.push(6*b+m);b++}this.labelVertexMap.push(h)}this.totalVertexCount=6*b};b.prototype.createColorBuffers=function(a){function b(a){var b=new V.Color(a);d.labelVertexMap[a].forEach(function(a){c.pickingColors[3*a]=b.r;c.pickingColors[3*a+1]=b.g;c.pickingColors[3*a+2]=b.b;c.renderColors[3*a]=1;c.renderColors[3*
a+1]=1;c.renderColors[3*a+2]=1})}var c=this;this.pickingColors=new Float32Array(3*this.totalVertexCount);this.renderColors=new Float32Array(3*this.totalVertexCount);for(var d=this,h=0;h<a;h++)b(h)};b.prototype.createLabels=function(){var b=this;if(null!=this.labelStrings&&null!=this.worldSpacePointPositions){var c=this.worldSpacePointPositions.length/3;if(c===this.labelStrings.length){this.glyphTexture=this.createGlyphTexture();this.uniforms={texture:{type:"t"},picking:{type:"bool"}};this.material=
new V.ShaderMaterial({uniforms:this.uniforms,transparent:!0,vertexShader:"\n    attribute vec2 posObj;\n    attribute vec3 color;\n    varying vec2 vUv;\n    varying vec3 vColor;\n\n    void main() {\n      vUv \x3d uv;\n      vColor \x3d color;\n\n      // Rotate label to face camera.\n\n      vec4 vRight \x3d vec4(\n        modelViewMatrix[0][0], modelViewMatrix[1][0], modelViewMatrix[2][0], 0);\n\n      vec4 vUp \x3d vec4(\n        modelViewMatrix[0][1], modelViewMatrix[1][1], modelViewMatrix[2][1], 0);\n\n      vec4 vAt \x3d -vec4(\n        modelViewMatrix[0][2], modelViewMatrix[1][2], modelViewMatrix[2][2], 0);\n\n      mat4 pointToCamera \x3d mat4(vRight, vUp, vAt, vec4(0, 0, 0, 1));\n\n      vec2 scaledPos \x3d posObj * 0.0125 * 2.2;\n\n      vec4 posRotated \x3d pointToCamera * vec4(scaledPos, 0, 1);\n      vec4 mvPosition \x3d modelViewMatrix * (vec4(position, 0) + posRotated);\n      gl_Position \x3d projectionMatrix * mvPosition;\n    }",
fragmentShader:"\n    uniform sampler2D texture;\n    uniform bool picking;\n    varying vec2 vUv;\n    varying vec3 vColor;\n\n    void main() {\n      if (picking) {\n        gl_FragColor \x3d vec4(vColor, 1.0);\n      } else {\n        vec4 fromTexture \x3d texture2D(texture, vUv);\n        gl_FragColor \x3d vec4(vColor, 1.0) * fromTexture;\n      }\n    }"});this.processLabelVerts(c);this.createColorBuffers(c);this.positions=new V.BufferAttribute(new Float32Array(3*this.totalVertexCount),3);var f=
new Float32Array(2*this.totalVertexCount),g=new Float32Array(3*this.totalVertexCount),h=new V.BufferAttribute(new Float32Array(3*this.totalVertexCount),2);f=new V.BufferAttribute(f,2);g=new V.BufferAttribute(g,3);this.geometry=new V.BufferGeometry;this.geometry.addAttribute("posObj",h);this.geometry.addAttribute("position",this.positions);this.geometry.addAttribute("uv",f);this.geometry.addAttribute("color",g);var l=0;for(g=0;g<c;g++){for(var m=this.labelStrings[g],n=0,q=0;q<m.length;q++){var p=m.charCodeAt(q);
n+=this.glyphTexture.lengths[p]}n/=-2;for(q=0;q<m.length;q++){p=m.charCodeAt(q);var t=this.glyphTexture.lengths[p],r=(n+t)/80,w=n/80;h.setXY(6*l,w,0);h.setXY(6*l+1,r,0);h.setXY(6*l+2,w,1);h.setXY(6*l+3,w,1);h.setXY(6*l+4,r,0);h.setXY(6*l+5,r,1);r=this.glyphTexture.offsets[p];p=this.glyphTexture.offsets[p]+t;r/=8192;p/=8192;f.setXY(6*l,r,1);f.setXY(6*l+1,p,1);f.setXY(6*l+2,r,0);f.setXY(6*l+3,r,0);f.setXY(6*l+4,p,1);f.setXY(6*l+5,p,0);l++;n+=t}}h=function(c){var d=a.util.vector3FromPackedArray(v.worldSpacePointPositions,
c);v.labelVertexMap[c].forEach(function(a){b.positions.setXYZ(a,d.x,d.y,d.z)})};var v=this;for(g=0;g<c;g++)h(g);this.labelsMesh=new V.Mesh(this.geometry,this.material);this.labelsMesh.frustumCulled=!1;this.scene.add(this.labelsMesh)}}};b.prototype.colorLabels=function(a){if(null!=this.labelStrings&&null!=this.geometry&&null!=a){var b=this.geometry.getAttribute("color");b.array=this.renderColors;for(var c=a.length/3,d=0,h=0;h<c;++h){for(var l=new V.Color(a[d],a[d+1],a[d+2]),m=this.labelVertexMap[h].length,
n=0;n<m;++n)b.setXYZ(this.labelVertexMap[h][n],l.r,l.g,l.b);d+=3}b.needsUpdate=!0}};b.prototype.setScene=function(a){this.scene=a};b.prototype.dispose=function(){this.labelsMesh&&(this.scene&&this.scene.remove(this.labelsMesh),this.labelsMesh=null);this.geometry&&(this.geometry.dispose(),this.geometry=null);null!=this.glyphTexture&&null!=this.glyphTexture.texture&&(this.glyphTexture.texture.dispose(),this.glyphTexture.texture=null)};b.prototype.onPickingRender=function(){null==this.geometry&&this.createLabels();
if(null!=this.geometry){this.material.uniforms.texture.value=this.glyphTexture.texture;this.material.uniforms.picking.value=!0;var a=this.geometry.getAttribute("color");a.array=this.pickingColors;a.needsUpdate=!0}};b.prototype.onRender=function(a){null==this.geometry&&this.createLabels();null!=this.geometry&&(this.colorLabels(a.pointColors),this.material.uniforms.texture.value=this.glyphTexture.texture,this.material.uniforms.picking.value=!1,a=this.geometry.getAttribute("color"),a.array=this.renderColors,
a.needsUpdate=!0)};b.prototype.onPointPositionsChanged=function(a){this.worldSpacePointPositions=a;this.dispose()};b.prototype.setLabelStrings=function(a){this.labelStrings=a;this.dispose()};b.prototype.onResize=function(){};return b}();a.ScatterPlotVisualizer3DLabels=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizerCanvasLabels.js
(function(a){var b=function(){function b(a){this.labelsActive=!0;this.canvas=document.createElement("canvas");a.appendChild(this.canvas);this.gc=this.canvas.getContext("2d");this.canvas.style.position="absolute";this.canvas.style.left="0";this.canvas.style.top="0";this.canvas.style.pointerEvents="none"}b.prototype.removeAllLabels=function(){this.gc.clearRect(0,0,this.canvas.width*window.devicePixelRatio,this.canvas.height*window.devicePixelRatio)};b.prototype.makeLabels=function(b){if(null!=b.labels&&
0!==b.labels.pointIndices.length&&null!=this.worldSpacePointPositions){var c=b.labels,d=b.cameraType===a.CameraType.Perspective,g=parseInt(this.gc.font,10),h=window.devicePixelRatio;var l=this.canvas.width*h;var m=this.canvas.height*h;l=new a.CollisionGrid({loX:0,hiX:l,loY:0,hiY:m},l/25,m/50);m=d3.scalePow().exponent(Math.E).domain([b.farthestCameraSpacePointZ,b.nearestCameraSpacePointZ]).range([.1,1]);var n=b.camera.position,q=n.clone().sub(b.cameraTarget),p=new V.Vector3;this.gc.textBaseline="middle";
this.gc.miterLimit=2;for(var t=Math.min(1E4,c.pointIndices.length),r=0;r<t;++r){var w=a.util.vector3FromPackedArray(this.worldSpacePointPositions,c.pointIndices[r]);p.copy(n).sub(w);if(!(0>q.dot(p))){var v=a.util.vector3DToScreenCoords(b.camera,b.screenWidth,b.screenHeight,w);w=v[0];v=v[1];w+=4;var y={loX:w-2,hiX:w+1+2,loY:v-g/2-2,hiY:v+g/2+2};if(l.insert(y,!0)){var x=c.labelStrings[r];this.gc.font=c.defaultFontSize*c.scaleFactors[r]*h+"px roboto";y.hiX+=this.gc.measureText(x).width-1;l.insert(y)&&
(y=1,d&&1===c.useSceneOpacityFlags[r]&&(y=m(p.length())),this.gc.fillStyle=this.styleStringFromPackedRgba(c.fillColors,r,y),this.gc.strokeStyle=this.styleStringFromPackedRgba(c.strokeColors,r,y),this.gc.lineWidth=3,this.gc.strokeText(x,w,v),this.gc.lineWidth=6,this.gc.fillText(x,w,v))}}}}};b.prototype.styleStringFromPackedRgba=function(a,b,c){b*=3;return"rgba("+a[b]+","+a[b+1]+","+a[b+2]+","+c+")"};b.prototype.onResize=function(a,b){var c=window.devicePixelRatio;this.canvas.width=a*c;this.canvas.height=
b*c;this.canvas.style.width=a+"px";this.canvas.style.height=b+"px"};b.prototype.dispose=function(){this.removeAllLabels();this.gc=this.canvas=null};b.prototype.onPointPositionsChanged=function(a){this.worldSpacePointPositions=a;this.removeAllLabels()};b.prototype.onRender=function(a){this.labelsActive&&(this.removeAllLabels(),this.makeLabels(a))};b.prototype.setScene=function(){};b.prototype.onPickingRender=function(){};return b}();a.ScatterPlotVisualizerCanvasLabels=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizerPolylines.js
(function(a){var b=function(){function b(){this.polylinePositionBuffer={};this.polylineColorBuffer={}}b.prototype.updateSequenceIndicesInDataSet=function(a){for(var b=0;b<a.sequences.length;b++)for(var c=a.sequences[b],d=0;d<c.pointIndices.length-1;d++)a.points[c.pointIndices[d]].sequenceIndex=b,a.points[c.pointIndices[d+1]].sequenceIndex=b};b.prototype.createPolylines=function(a){if(this.dataSet&&this.dataSet.sequences){this.updateSequenceIndicesInDataSet(this.dataSet);this.polylines=[];for(var b=
0;b<this.dataSet.sequences.length;b++){var c=new V.BufferGeometry;c.addAttribute("position",this.polylinePositionBuffer[b]);c.addAttribute("color",this.polylineColorBuffer[b]);var d=new V.LineBasicMaterial({linewidth:1,opacity:1,transparent:!0,vertexColors:V.VertexColors});c=new V.LineSegments(c,d);c.frustumCulled=!1;this.polylines.push(c);a.add(c)}}};b.prototype.dispose=function(){if(null!=this.polylines){for(var a=0;a<this.polylines.length;a++)this.scene.remove(this.polylines[a]),this.polylines[a].geometry.dispose();
this.polylines=null;this.polylinePositionBuffer={};this.polylineColorBuffer={}}};b.prototype.setScene=function(a){this.scene=a};b.prototype.setDataSet=function(a){this.dataSet=a};b.prototype.onPointPositionsChanged=function(b){null!=b&&null==this.polylines||this.dispose();if(null!=b&&null!=this.dataSet){for(var c=0;c<this.dataSet.sequences.length;c++){var d=this.dataSet.sequences[c];d=2*(d.pointIndices.length-1);this.polylinePositionBuffer[c]=new V.BufferAttribute(new Float32Array(3*d),3);this.polylineColorBuffer[c]=
new V.BufferAttribute(new Float32Array(3*d),3)}for(c=0;c<this.dataSet.sequences.length;c++){d=this.dataSet.sequences[c];for(var g=0,h=0;h<d.pointIndices.length-1;h++){var l=a.util.vector3FromPackedArray(b,d.pointIndices[h]),m=a.util.vector3FromPackedArray(b,d.pointIndices[h+1]);this.polylinePositionBuffer[c].setXYZ(g,l.x,l.y,l.z);this.polylinePositionBuffer[c].setXYZ(g+1,m.x,m.y,m.z);g+=2}this.polylinePositionBuffer[c].needsUpdate=!0}null==this.polylines&&this.createPolylines(this.scene)}};b.prototype.onRender=
function(a){if(null!=this.polylines)for(var b=0;b<this.polylines.length;b++)this.polylines[b].material.opacity=a.polylineOpacities[b],this.polylines[b].material.linewidth=a.polylineWidths[b],this.polylineColorBuffer[b].array=a.polylineColors[b],this.polylineColorBuffer[b].needsUpdate=!0};b.prototype.onPickingRender=function(){};b.prototype.onResize=function(){};return b}();a.ScatterPlotVisualizerPolylines=b})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizerSprites.js
(function(a){var b="\n  // Index of the specific vertex (passed in as bufferAttribute), and the\n  // variable that will be used to pass it to the fragment shader.\n  attribute float spriteIndex;\n  attribute vec3 color;\n  attribute float scaleFactor;\n\n  varying vec2 xyIndex;\n  varying vec3 vColor;\n\n  uniform bool sizeAttenuation;\n  uniform float pointSize;\n  uniform float spritesPerRow;\n  uniform float spritesPerColumn;\n\n  void main() {\n    // Pass index and color values to fragment shader.\n    vColor \x3d color;\n    xyIndex \x3d vec2(mod(spriteIndex, spritesPerRow),\n              floor(spriteIndex / spritesPerColumn));\n\n    // Transform current vertex by modelViewMatrix (model world position and\n    // camera world position matrix).\n    vec4 cameraSpacePos \x3d modelViewMatrix * vec4(position, 1.0);\n\n    // Project vertex in camera-space to screen coordinates using the camera's\n    // projection matrix.\n    gl_Position \x3d projectionMatrix * cameraSpacePos;\n\n    // Create size attenuation (if we're in 3D mode) by making the size of\n    // each point inversly proportional to its distance to the camera.\n    float outputPointSize \x3d pointSize;\n    if (sizeAttenuation) {\n      outputPointSize \x3d -pointSize / cameraSpacePos.z;\n    } else {  // Create size attenuation (if we're in 2D mode)\n      const float PI \x3d 3.1415926535897932384626433832795;\n      const float minScale \x3d 0.1;  // minimum scaling factor\n      const float outSpeed \x3d 2.0;  // shrink speed when zooming out\n      const float outNorm \x3d (1. - minScale) / atan(outSpeed);\n      const float maxScale \x3d 15.0;  // maximum scaling factor\n      const float inSpeed \x3d 0.02;  // enlarge speed when zooming in\n      const float zoomOffset \x3d 0.3;  // offset zoom pivot\n      float zoom \x3d projectionMatrix[0][0] + zoomOffset;  // zoom pivot\n      float scale \x3d zoom \x3c 1. ? 1. + outNorm * atan(outSpeed * (zoom - 1.)) :\n                    1. + 2. / PI * (maxScale - 1.) * atan(inSpeed * (zoom - 1.));\n      outputPointSize \x3d pointSize * scale;\n    }\n\n    gl_PointSize \x3d\n      max(outputPointSize * scaleFactor, "+
(5).toFixed(1)+");\n  }",c="\n  varying vec2 xyIndex;\n  varying vec3 vColor;\n\n  uniform sampler2D texture;\n  uniform float spritesPerRow;\n  uniform float spritesPerColumn;\n  uniform bool isImage;\n\n  "+V.ShaderChunk.common+"\n  "+V.ShaderChunk.fog_pars_fragment+"\n  \n  bool point_in_unit_circle(vec2 spriteCoord) {\n    vec2 centerToP \x3d spriteCoord - vec2(0.5, 0.5);\n    return dot(centerToP, centerToP) \x3c (0.5 * 0.5);\n  }\n\n  bool point_in_unit_equilateral_triangle(vec2 spriteCoord) {\n    vec3 v0 \x3d vec3(0, 1, 0);\n    vec3 v1 \x3d vec3(0.5, 0, 0);\n    vec3 v2 \x3d vec3(1, 1, 0);\n    vec3 p \x3d vec3(spriteCoord, 0);\n    float p_in_v0_v1 \x3d cross(v1 - v0, p - v0).z;\n    float p_in_v1_v2 \x3d cross(v2 - v1, p - v1).z;\n    return (p_in_v0_v1 \x3e 0.0) \x26\x26 (p_in_v1_v2 \x3e 0.0);\n  }\n\n  bool point_in_unit_square(vec2 spriteCoord) {\n    return true;\n  }\n\n\n  void main() {\n    if (isImage) {\n      // Coordinates of the vertex within the entire sprite image.\n      vec2 coords \x3d\n        (gl_PointCoord + xyIndex) / vec2(spritesPerRow, spritesPerColumn);\n      gl_FragColor \x3d vec4(vColor, 1.0) * texture2D(texture, coords);\n    } else {\n      bool inside \x3d point_in_unit_circle(gl_PointCoord);\n      if (!inside) {\n        discard;\n      }\n      gl_FragColor \x3d vec4(vColor, 1);\n    }\n    "+
V.ShaderChunk.fog_fragment+"\n  }",d=function(){function d(){this.texture=null;this.standinTextureForPoints=a.util.createTexture(document.createElement("canvas"));this.renderMaterial=this.createRenderMaterial(!1);this.pickingMaterial=this.createPickingMaterial()}d.prototype.createTextureFromSpriteAtlas=function(b,c,d){this.texture=a.util.createTexture(b);this.spritesPerRow=b.width/c[0];this.spritesPerColumn=b.height/c[1];this.spriteDimensions=c;this.spriteIndexBufferAttribute=new V.BufferAttribute(d,
1);null!=this.points&&this.points.geometry.addAttribute("spriteIndex",this.spriteIndexBufferAttribute)};d.prototype.createUniforms=function(){return{texture:{type:"t"},spritesPerRow:{type:"f"},spritesPerColumn:{type:"f"},fogColor:{type:"c"},fogNear:{type:"f"},fogFar:{type:"f"},isImage:{type:"bool"},sizeAttenuation:{type:"bool"},pointSize:{type:"f"}}};d.prototype.createRenderMaterial=function(a){return new V.ShaderMaterial({uniforms:this.createUniforms(),vertexShader:b,fragmentShader:c,transparent:!a,
depthTest:a,depthWrite:a,fog:!0,blending:V.MultiplyBlending})};d.prototype.createPickingMaterial=function(){return new V.ShaderMaterial({uniforms:this.createUniforms(),vertexShader:b,fragmentShader:"\n  varying vec2 xyIndex;\n  varying vec3 vColor;\n  uniform bool isImage;\n\n  \n  bool point_in_unit_circle(vec2 spriteCoord) {\n    vec2 centerToP \x3d spriteCoord - vec2(0.5, 0.5);\n    return dot(centerToP, centerToP) \x3c (0.5 * 0.5);\n  }\n\n  bool point_in_unit_equilateral_triangle(vec2 spriteCoord) {\n    vec3 v0 \x3d vec3(0, 1, 0);\n    vec3 v1 \x3d vec3(0.5, 0, 0);\n    vec3 v2 \x3d vec3(1, 1, 0);\n    vec3 p \x3d vec3(spriteCoord, 0);\n    float p_in_v0_v1 \x3d cross(v1 - v0, p - v0).z;\n    float p_in_v1_v2 \x3d cross(v2 - v1, p - v1).z;\n    return (p_in_v0_v1 \x3e 0.0) \x26\x26 (p_in_v1_v2 \x3e 0.0);\n  }\n\n  bool point_in_unit_square(vec2 spriteCoord) {\n    return true;\n  }\n\n\n  void main() {\n    xyIndex; // Silence 'unused variable' warning.\n    if (isImage) {\n      gl_FragColor \x3d vec4(vColor, 1);\n    } else {\n      bool inside \x3d point_in_unit_circle(gl_PointCoord);\n      if (!inside) {\n        discard;\n      }\n      gl_FragColor \x3d vec4(vColor, 1);\n    }\n  }",
transparent:!0,depthTest:!0,depthWrite:!0,fog:!1,blending:V.NormalBlending})};d.prototype.createPointSprites=function(a,b){b=this.createGeometry(null!=b?b.length/3:0);this.fog=new V.Fog(16777215);this.points=new V.Points(b,this.renderMaterial);this.points.frustumCulled=!1;null!=this.spriteIndexBufferAttribute&&this.points.geometry.addAttribute("spriteIndex",this.spriteIndexBufferAttribute);a.add(this.points)};d.prototype.calculatePointSize=function(a){if(null!=this.texture)return a?30:this.spriteDimensions[0];
var b=200/Math.log(null!=this.worldSpacePointPositions?this.worldSpacePointPositions.length/3:1)/Math.log(8);return a?b:b/1.5};d.prototype.createGeometry=function(a){this.pickingColors=new Float32Array(3*a);for(var b=0,c=0;c<a;c++){var d=new V.Color(c);this.pickingColors[b++]=d.r;this.pickingColors[b++]=d.g;this.pickingColors[b++]=d.b}a=new V.BufferGeometry;a.addAttribute("position",new V.BufferAttribute(null,3));a.addAttribute("color",new V.BufferAttribute(null,3));a.addAttribute("scaleFactor",new V.BufferAttribute(null,
1));return a};d.prototype.setFogDistances=function(a,b,c){a?(a=this.worldSpacePointPositions.length/3,this.fog.near=b,this.fog.far=c*(2-Math.min(a,5E3)/5E3)):(this.fog.near=Infinity,this.fog.far=Infinity)};d.prototype.dispose=function(){this.disposeGeometry();this.disposeTextureAtlas()};d.prototype.disposeGeometry=function(){null!=this.points&&(this.scene.remove(this.points),this.points.geometry.dispose(),this.worldSpacePointPositions=this.points=null)};d.prototype.disposeTextureAtlas=function(){null!=
this.texture&&this.texture.dispose();this.pickingMaterial=this.renderMaterial=this.texture=null};d.prototype.setScene=function(a){this.scene=a};d.prototype.setSpriteAtlas=function(a,b,c){this.disposeTextureAtlas();this.createTextureFromSpriteAtlas(a,b,c);this.renderMaterial=this.createRenderMaterial(!0);this.pickingMaterial=this.createPickingMaterial()};d.prototype.clearSpriteAtlas=function(){this.disposeTextureAtlas();this.renderMaterial=this.createRenderMaterial(!1);this.pickingMaterial=this.createPickingMaterial()};
d.prototype.onPointPositionsChanged=function(a){if(null==a||0===a.length)this.dispose();else{null!=this.points&&this.worldSpacePointPositions.length!==a.length&&this.disposeGeometry();this.worldSpacePointPositions=a;null==this.points&&this.createPointSprites(this.scene,a);var b=this.points.geometry.getAttribute("position");b.array=a;b.needsUpdate=!0}};d.prototype.onPickingRender=function(b){if(null!=this.points){var c=b.cameraType===a.CameraType.Perspective;this.pickingMaterial.uniforms.spritesPerRow.value=
this.spritesPerRow;this.pickingMaterial.uniforms.spritesPerRow.value=this.spritesPerColumn;this.pickingMaterial.uniforms.sizeAttenuation.value=c;this.pickingMaterial.uniforms.pointSize.value=this.calculatePointSize(c);this.points.material=this.pickingMaterial;c=this.points.geometry.getAttribute("color");c.array=this.pickingColors;c.needsUpdate=!0;c=this.points.geometry.getAttribute("scaleFactor");c.array=b.pointScaleFactors;c.needsUpdate=!0}};d.prototype.onRender=function(a){if(this.points){var b=
a.camera instanceof V.PerspectiveCamera;this.setFogDistances(b,a.nearestCameraSpacePointZ,a.farthestCameraSpacePointZ);this.scene.fog=this.fog;this.scene.fog.color=new V.Color(a.backgroundColor);this.renderMaterial.uniforms.fogColor.value=this.scene.fog.color;this.renderMaterial.uniforms.fogNear.value=this.fog.near;this.renderMaterial.uniforms.fogFar.value=this.fog.far;this.renderMaterial.uniforms.spritesPerRow.value=this.spritesPerRow;this.renderMaterial.uniforms.spritesPerColumn.value=this.spritesPerColumn;
this.renderMaterial.uniforms.isImage.value=null!=this.texture;this.renderMaterial.uniforms.texture.value=null!=this.texture?this.texture:this.standinTextureForPoints;this.renderMaterial.uniforms.sizeAttenuation.value=b;this.renderMaterial.uniforms.pointSize.value=this.calculatePointSize(b);this.points.material=this.renderMaterial;b=this.points.geometry.getAttribute("color");this.renderColors=a.pointColors;b.array=this.renderColors;b.needsUpdate=!0;b=this.points.geometry.getAttribute("scaleFactor");
b.array=a.pointScaleFactors;b.needsUpdate=!0}};d.prototype.onResize=function(){};return d}();a.ScatterPlotVisualizerSprites=d})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/scatterPlotVisualizer.js
</script>
<script>//~~WEBPATH~~/vz-projector/projectorScatterPlotAdapter.js
(function(a){function b(a,b,c,d,e){a[3*b]=c;a[3*b+1]=d;a[3*b+2]=e}function c(a){a=new V.Color(a);return[255*a.r|0,255*a.g|0,255*a.b|0]}function d(a,b){a=d3.hsl(60+300*a/b,1,.3).rgb();return new V.Color(a.r/255,a.g/255,a.b/255)}function e(b,c,d){return b===a.vector.dist?d/c:1-c}function f(a,b,c){return g(e(a,b,c))}var g=d3.scaleLinear().domain([1,.7,.4]).range(["hsl(285, 80%, 40%)","hsl(0, 80%, 65%)","hsl(40, 70%, 60%)"]).clamp(!0),h=function(){function e(b,c){var d=this;this.scatterPlotContainer=
b;this.renderLabelsIn3D=!1;this.scatterPlot=new a.ScatterPlot(b,c);c.registerProjectionChangedListener(function(a){d.projection=a;d.updateScatterPlotWithNewProjection(a)});c.registerSelectionChangedListener(function(a,b){d.selectedPointIndices=a;d.neighborsOfFirstSelectedPoint=b;d.updateScatterPlotPositions();d.updateScatterPlotAttributes();d.scatterPlot.render()});c.registerHoverListener(function(a){d.hoverPointIndex=a;d.updateScatterPlotAttributes();d.scatterPlot.render()});c.registerDistanceMetricChangedListener(function(a){d.distanceMetric=
a;d.updateScatterPlotAttributes();d.scatterPlot.render()});this.createVisualizers(!1)}e.prototype.notifyProjectionPositionsUpdated=function(){this.updateScatterPlotPositions();this.scatterPlot.render()};e.prototype.setDataSet=function(a){null!=this.projection&&(this.projection.dataSet=a);null!=this.polylineVisualizer&&this.polylineVisualizer.setDataSet(a);null!=this.labels3DVisualizer&&this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray(a,this.labelPointAccessor));if(null!=this.spriteVisualizer&&
(this.spriteVisualizer.clearSpriteAtlas(),null!=a&&null!=a.spriteAndMetadataInfo)){var b=a.spriteAndMetadataInfo;if(null!=b.spriteImage&&null!=b.spriteMetadata){for(var c=a.points.length,d=new Float32Array(c),e=0;e<c;++e)d[e]=a.points[e].index;this.spriteVisualizer.setSpriteAtlas(b.spriteImage,b.spriteMetadata.singleImageDim,d)}}};e.prototype.set3DLabelMode=function(a){this.renderLabelsIn3D=a;this.createVisualizers(a);this.updateScatterPlotAttributes();this.scatterPlot.render()};e.prototype.setLegendPointColorer=
function(a){this.legendPointColorer=a};e.prototype.setLabelPointAccessor=function(a){this.labelPointAccessor=a;null!=this.labels3DVisualizer&&this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray(null==this.projection?null:this.projection.dataSet,a))};e.prototype.resize=function(){this.scatterPlot.resize()};e.prototype.populateBookmarkFromUI=function(a){a.cameraDef=this.scatterPlot.getCameraDef()};e.prototype.restoreUIFromBookmark=function(a){this.scatterPlot.setCameraParametersForNextCameraCreation(a.cameraDef,
!1)};e.prototype.updateScatterPlotPositions=function(){var a=this.generatePointPositionArray(null==this.projection?null:this.projection.dataSet,null==this.projection?null:this.projection.projectionComponents);this.scatterPlot.setPointPositions(a)};e.prototype.updateScatterPlotAttributes=function(){if(null!=this.projection){var a=this.projection.dataSet,b=this.selectedPointIndices,c=this.hoverPointIndex,d=this.neighborsOfFirstSelectedPoint,e=this.legendPointColorer,f=this.generatePointColorArray(a,
e,this.distanceMetric,b,d,c,this.renderLabelsIn3D,this.getSpriteImageMode()),g=this.generatePointScaleFactorArray(a,b,d,c);c=this.generateVisibleLabelRenderParams(a,b,d,c);e=this.generateLineSegmentColorMap(a,e);d=this.generateLineSegmentOpacityArray(a,b);a=this.generateLineSegmentWidthArray(a,b);this.scatterPlot.setPointColors(f);this.scatterPlot.setPointScaleFactors(g);this.scatterPlot.setLabels(c);this.scatterPlot.setPolylineColors(e);this.scatterPlot.setPolylineOpacities(d);this.scatterPlot.setPolylineWidths(a)}};
e.prototype.render=function(){this.scatterPlot.render()};e.prototype.generatePointPositionArray=function(a,b){if(null==a)return null;var c=d3.scaleLinear(),d=d3.scaleLinear(),e=null,f=d3.extent(a.points,function(c,d){return a.points[d].projections[b[0]]}),g=d3.extent(a.points,function(c,d){return a.points[d].projections[b[1]]}),h=[-1,1];c.domain(f).range(h);d.domain(g).range(h);null!=b[2]&&(f=d3.extent(a.points,function(c,d){return a.points[d].projections[b[2]]}),e=d3.scaleLinear(),e.domain(f).range(h));
var l=new Float32Array(3*a.points.length),m=0;a.points.forEach(function(e,f){l[m++]=c(a.points[f].projections[b[0]]);l[m++]=d(a.points[f].projections[b[1]]);l[m++]=0});e&&(m=2,a.points.forEach(function(c,d){l[m]=e(a.points[d].projections[b[2]]);m+=3}));return l};e.prototype.generateVisibleLabelRenderParams=function(d,e,f,g){if(null==d)return null;var h=null==e?0:e.length,l=null==f?0:f.length,m=h+l+(null!=g?1:0),n=new Uint32Array(m),p=new Float32Array(m),q=new Int8Array(m),A=new Uint8Array(3*m);m=
new Uint8Array(3*m);var B=[];p.fill(1);q.fill(1);var H=0;if(null!=g){B.push(this.getLabelText(d,g,this.labelPointAccessor));n[H]=g;p[H]=2;q[H]=0;g=c(0);b(A,H,g[0],g[1],g[2]);var E=c(16777215);b(m,H,E[0],E[1],E[1]);++H}g=c(0);E=c(16777215);for(var I=0;I<h;++I){var D=e[I];B.push(this.getLabelText(d,D,this.labelPointAccessor));n[H]=D;p[H]=2;q[H]=1===h?0:1;b(A,H,g[0],g[1],g[2]);b(m,H,E[0],E[1],E[2]);++H}g=c(0);E=c(16777215);for(I=0;I<l;++I)D=f[I].index,B.push(this.getLabelText(d,D,this.labelPointAccessor)),
n[H]=D,b(A,H,g[0],g[1],g[2]),b(m,H,E[0],E[1],E[2]),++H;return new a.LabelRenderParams(new Float32Array(n),B,p,q,10,A,m)};e.prototype.generatePointScaleFactorArray=function(a,b,c,d){if(null==a)return new Float32Array(0);a=new Float32Array(a.points.length);a.fill(1);for(var e=null==c?0:c.length,f=null==b?0:b.length,g=0;g<f;++g){var h=b[g];a[h]=1.2}f=e;for(g=0;g<f;++g)h=c[g].index,a[h]=1.2;null!=d&&(a[d]=1.2);return a};e.prototype.generateLineSegmentColorMap=function(a,b){var c={};if(null==a)return c;
for(var e=0;e<a.sequences.length;e++){var f=a.sequences[e],g=new Float32Array(6*(f.pointIndices.length-1)),h=0;if(b)for(var l=0;l<f.pointIndices.length-1;l++){var m=new V.Color(b(a,f.pointIndices[l])),n=new V.Color(b(a,f.pointIndices[l+1]));g[h++]=m.r;g[h++]=m.g;g[h++]=m.b;g[h++]=n.r;g[h++]=n.g;g[h++]=n.b}else for(l=0;l<f.pointIndices.length-1;l++)m=d(l,f.pointIndices.length),n=d(l+1,f.pointIndices.length),g[h++]=m.r,g[h++]=m.g,g[h++]=m.b,g[h++]=n.r,g[h++]=n.g,g[h++]=n.b;c[e]=g}return c};e.prototype.generateLineSegmentOpacityArray=
function(a,b){if(null==a)return new Float32Array(0);var c=new Float32Array(a.sequences.length);0<(null==b?0:b.length)?(c.fill(.05),c[a.points[b[0]].sequenceIndex]=.9):c.fill(.2);return c};e.prototype.generateLineSegmentWidthArray=function(a,b){if(null==a)return new Float32Array(0);var c=new Float32Array(a.sequences.length);c.fill(2);0<(null==b?0:b.length)&&(c[a.points[b[0]].sequenceIndex]=3);return c};e.prototype.generatePointColorArray=function(a,b,c,d,e,g,h,l){if(null==a)return new Float32Array(0);
var m=null==d?0:d.length,n=null==e?0:e.length,p=new Float32Array(3*a.points.length),q=14935011,r=7697881;h&&(r=q=16777215);l&&(r=q=16777215);h=a.points.length;l=0;if(0<m)for(q=new V.Color(q),r=0;r<h;++r)p[l++]=q.r,p[l++]=q.g,p[l++]=q.b;else if(null!=b)for(r=0;r<h;++r)q=new V.Color(b(a,r)),p[l++]=q.r,p[l++]=q.g,p[l++]=q.b;else for(q=new V.Color(r),r=0;r<h;++r)p[l++]=q.r,p[l++]=q.g,p[l++]=q.b;h=m;q=new V.Color(16410214);for(r=0;r<h;++r)l=3*d[r],p[l++]=q.r,p[l++]=q.g,p[l++]=q.b;h=n;a=0<h?e[0].dist:0;
for(r=0;r<h;++r)q=new V.Color(f(c,e[r].dist,a)),l=3*e[r].index,p[l++]=q.r,p[l++]=q.g,p[l++]=q.b;null!=g&&(q=new V.Color(7736143),l=3*g,p[l++]=q.r,p[l++]=q.g,p[l++]=q.b);return p};e.prototype.generate3DLabelsArray=function(a,b){if(null==a||null==b)return null;for(var c=[],d=a.points.length,e=0;e<d;++e)c.push(this.getLabelText(a,e,b));return c};e.prototype.getLabelText=function(a,b,c){return a.points[b].metadata[c].toString()};e.prototype.updateScatterPlotWithNewProjection=function(a){null==a?(this.createVisualizers(this.renderLabelsIn3D),
this.scatterPlot.render()):(this.setDataSet(a.dataSet),this.scatterPlot.setDimensions(a.dimensionality),a.dataSet.projectionCanBeRendered(a.projectionType)&&(this.updateScatterPlotAttributes(),this.notifyProjectionPositionsUpdated()),this.scatterPlot.setCameraParametersForNextCameraCreation(null,!1))};e.prototype.createVisualizers=function(b){var c=null==this.projection?null:this.projection.dataSet,d=this.scatterPlot;d.removeAllVisualizers();this.polylineVisualizer=this.spriteVisualizer=this.canvasLabelsVisualizer=
this.labels3DVisualizer=null;b?(this.labels3DVisualizer=new a.ScatterPlotVisualizer3DLabels,this.labels3DVisualizer.setLabelStrings(this.generate3DLabelsArray(c,this.labelPointAccessor))):(this.spriteVisualizer=new a.ScatterPlotVisualizerSprites,d.addVisualizer(this.spriteVisualizer),this.canvasLabelsVisualizer=new a.ScatterPlotVisualizerCanvasLabels(this.scatterPlotContainer));this.polylineVisualizer=new a.ScatterPlotVisualizerPolylines;this.setDataSet(c);this.spriteVisualizer&&d.addVisualizer(this.spriteVisualizer);
this.labels3DVisualizer&&d.addVisualizer(this.labels3DVisualizer);this.canvasLabelsVisualizer&&d.addVisualizer(this.canvasLabelsVisualizer);d.addVisualizer(this.polylineVisualizer)};e.prototype.getSpriteImageMode=function(){if(null==this.projection)return!1;var a=this.projection.dataSet;return null==a||null==a.spriteAndMetadataInfo?!1:null!=a.spriteAndMetadataInfo.spriteImage};return e}();a.ProjectorScatterPlotAdapter=h;a.normalizeDist=e;a.dist2color=f})(W||(W={}));
</script>
<script>//~~WEBPATH~~/vz-projector/vz-projector-util.js
(function(a){a.PolymerElement=function(a){return Polymer.Class(a)}})(W||(W={}));
</script>

<dom-module id="vz-projector-styles">
<template>

</template>
</dom-module>









<dom-module id="vz-projector-bookmark-panel">
<template>




<div id="bookmark-container" class="style-scope vz-projector-bookmark-panel">
  <div id="header" class="style-scope vz-projector-bookmark-panel">
    <div id="title" class="style-scope vz-projector-bookmark-panel">
      BOOKMARKS ()
      <paper-icon-button icon="help" class="help-icon style-scope vz-projector-bookmark-panel"></paper-icon-button>
      <paper-tooltip animation-delay="0" position="top" offset="0" class="style-scope vz-projector-bookmark-panel">
        Open this drawer to save a set of views of the projection, including
        selected points. A file containing the bookmarks can then be saved and
        later loaded to view them.
      </paper-tooltip>
    </div>
    <div id="icon-container" class="style-scope vz-projector-bookmark-panel">
      
      <paper-icon-button id="expand-more" icon="expand-less" class="style-scope vz-projector-bookmark-panel"></paper-icon-button>
      <paper-icon-button id="expand-less" style="display: none" icon="expand-more" class="style-scope vz-projector-bookmark-panel"></paper-icon-button>
    </div>
  </div>
  <iron-collapse id="panel" class="style-scope vz-projector-bookmark-panel">
    
    <div id="state-section" class="style-scope vz-projector-bookmark-panel">
      <template is="dom-if" class="style-scope vz-projector-bookmark-panel"></template>

      <template is="dom-repeat" class="style-scope vz-projector-bookmark-panel"></template>

      <div id="action-buttons-container" class="style-scope vz-projector-bookmark-panel">
        <paper-icon-button class="upload-download-icon-button style-scope vz-projector-bookmark-panel" icon="save" title="Save bookmarks"></paper-icon-button>
        <paper-icon-button class="upload-download-icon-button style-scope vz-projector-bookmark-panel" icon="file-upload" title="Load bookmarks"></paper-icon-button>
        <paper-icon-button class="add-icon-button ink-fab style-scope vz-projector-bookmark-panel" icon="add" title="Add bookmark"></paper-icon-button>
        <input type="file" id="state-file" name="state-file" class="style-scope vz-projector-bookmark-panel">
      </div>
    </div>
  </iron-collapse>
</div>

</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-bookmark-panel.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.BookmarkPanelPolymer=a.PolymerElement({is:"vz-projector-bookmark-panel",properties:{savedStates:Object,hasStates:{type:Boolean,value:!1},selectedState:Number}});var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.hasStates=!1;return a}Oa(c,b);c.prototype.ready=function(){this.savedStates=[];this.setupUploadButton();this.ignoreNextProjectionEvent=!1;this.expandLessButton=this.querySelector("#expand-less");this.expandMoreButton=this.querySelector("#expand-more")};
c.prototype.initialize=function(a,b){var c=this;this.projector=a;b.registerProjectionChangedListener(function(){c.ignoreNextProjectionEvent?c.ignoreNextProjectionEvent=!1:c.clearStateSelection()})};c.prototype.setSelectedTensor=function(a,b,c){var d=this;this.addStates(null);b&&b.bookmarksPath?c.getBookmarks(a,b.tensorName,function(a){d.addStates(a);d._expandMore()}):this._expandLess()};c.prototype._expandMore=function(){this.$.panel.show();this.expandMoreButton.style.display="none";this.expandLessButton.style.display=
""};c.prototype._expandLess=function(){this.$.panel.hide();this.expandMoreButton.style.display="";this.expandLessButton.style.display="none"};c.prototype._addBookmark=function(){var a=this.projector.getCurrentState();a.label="State "+this.savedStates.length;a.isSelected=!0;this.selectedState=this.savedStates.length;for(var b=0;b<this.savedStates.length;b++)this.savedStates[b].isSelected=!1,this.notifyPath("savedStates."+b+".isSelected",!1,!1);this.push("savedStates",a);this.updateHasStates()};c.prototype._downloadFile=
function(){var a=this.serializeAllSavedStates();a=window.URL.createObjectURL(new Blob([a],{type:"text/plain"}));var b=document.createElement("a");document.body.appendChild(b);b.style.display="none";b.href=a;b.download="state";b.click();document.body.removeChild(b);window.URL.revokeObjectURL(a)};c.prototype._uploadFile=function(){this.querySelector("#state-file").click()};c.prototype.setupUploadButton=function(){var b=this,c=this.querySelector("#state-file");c.onchange=function(){var d=c.files[0];
c.value="";var e=new FileReader;e.onload=function(){var c=JSON.parse(e.result);b.savedStatesValid(c)?(b.addStates(c),b.loadSavedState(0)):a.logging.setWarningMessage("Unable to load bookmarks: wrong dataset, expected dataset "+("with shape ("+c[0].dataSetDimensions+")."))};e.readAsText(d)}};c.prototype.addStates=function(a){if(null==a)this.savedStates=[];else for(var b=0;b<a.length;b++)a[b].isSelected=!1,this.push("savedStates",a[b]);this.updateHasStates()};c.prototype.clearStateSelection=function(){for(var a=
0;a<this.savedStates.length;a++)this.setSelectionState(a,!1)};c.prototype._radioButtonHandler=function(a){a=this.getParentDataIndex(a);this.loadSavedState(a);this.setSelectionState(a,!0)};c.prototype.loadSavedState=function(a){for(var b=0;b<this.savedStates.length;b++)this.savedStates[b].isSelected?this.setSelectionState(b,!1):a===b&&(this.setSelectionState(b,!0),this.ignoreNextProjectionEvent=!0,this.projector.loadState(this.savedStates[b]))};c.prototype.setSelectionState=function(a,b){this.savedStates[a].isSelected=
b;this.notifyPath("savedStates."+a+".isSelected",b,!1)};c.prototype.getParentDataIndex=function(a){for(var b=0;b<a.path.length;b++){var c=a.path[b].getAttribute("data-index");if(null!=c)return+c}return-1};c.prototype._clearButtonHandler=function(a){a=this.getParentDataIndex(a);this.splice("savedStates",a,1);this.updateHasStates()};c.prototype._labelChange=function(a){var b=this.getParentDataIndex(a);this.savedStates[b].label=a.target.value};c.prototype._isSelectedState=function(a){return a===this.selectedState};
c.prototype._isNotSelectedState=function(a){return a!==this.selectedState};c.prototype.serializeAllSavedStates=function(){return JSON.stringify(this.savedStates)};c.prototype.loadSavedStates=function(a){this.savedStates=JSON.parse(a);this.updateHasStates()};c.prototype.updateHasStates=function(){this.hasStates=0!==this.savedStates.length};c.prototype.savedStatesValid=function(a){for(var b=0;b<a.length;b++)if(a[b].dataSetDimensions[0]!==this.projector.dataSet.dim[0]||a[b].dataSetDimensions[1]!==this.projector.dataSet.dim[1])return!1;
return!0};return c}(a.BookmarkPanelPolymer);a.BookmarkPanel=b;document.registerElement(b.prototype.is,b)})(W||(W={}));
</script>
</dom-module>




















<dom-module id="vz-projector-legend">
<template>



<template is="dom-repeat" class="style-scope vz-projector-legend"></template>

<template is="dom-if" class="style-scope vz-projector-legend"></template>

</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-legend.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.LegendPolymer=a.PolymerElement({is:"vz-projector-legend",properties:{renderInfo:{type:Object,observer:"_renderInfoChanged"}}});var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Oa(b,a);b.prototype._renderInfoChanged=function(){var a=this;null!=this.renderInfo&&this.renderInfo.thresholds&&this.async(function(){return a.setupLinearGradient()})};b.prototype._getLastThreshold=function(){if(null!=this.renderInfo&&null!=this.renderInfo.thresholds)return this.renderInfo.thresholds[this.renderInfo.thresholds.length-
1].value};b.prototype.getOffset=function(a){var b=this.renderInfo.thresholds[0].value;return(100*(a-b)/(this.renderInfo.thresholds[this.renderInfo.thresholds.length-1].value-b)).toFixed(2)+"%"};b.prototype.setupLinearGradient=function(){var a=this,b=this.querySelector("#gradient"),c=this.querySelector("svg.gradient").clientWidth;this.querySelector("svg.gradient rect").style.width=c+"px";b.innerHTML="";this.renderInfo.thresholds.forEach(function(b){var c=document.createElementNS("http://www.w3.org/2000/svg",
"stop");c.setAttribute("offset",a.getOffset(b.value));c.setAttribute("stop-color",b.color)})};return b}(a.LegendPolymer);a.Legend=b;document.registerElement(b.prototype.is,b)})(W||(W={}));
</script>
</dom-module>


<dom-module id="vz-projector-data-panel">
<template>


<div class="title style-scope vz-projector-data-panel">DATA</div>
<div class="container style-scope vz-projector-data-panel">
  
  <template is="dom-if" class="style-scope vz-projector-data-panel"></template>

  <template is="dom-if" class="style-scope vz-projector-data-panel"></template>
  
  <div class="style-scope vz-projector-data-panel">
    <div class="colorlabel-container style-scope vz-projector-data-panel">
      
      <paper-dropdown-menu id="labelby" no-animations="" label="Label by" class="style-scope vz-projector-data-panel">
        <paper-listbox attr-for-selected="value" class="dropdown-content style-scope vz-projector-data-panel" slot="dropdown-content">
          <template is="dom-repeat" class="style-scope vz-projector-data-panel"></template>
        </paper-listbox>
      </paper-dropdown-menu>
      
      <paper-dropdown-menu id="colorby" no-animations="" label="Color by" class="style-scope vz-projector-data-panel">
        <paper-listbox attr-for-selected="value" class="dropdown-content style-scope vz-projector-data-panel" slot="dropdown-content">
          <template is="dom-repeat" class="style-scope vz-projector-data-panel"></template>
        </paper-listbox>
      </paper-dropdown-menu>
    </div>
    <div class="style-scope vz-projector-data-panel">
      <paper-checkbox id="force-categorical-checkbox" class="style-scope vz-projector-data-panel">Use categorical coloring</paper-checkbox>
      <paper-icon-button icon="help" class="help-icon style-scope vz-projector-data-panel"></paper-icon-button>
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-data-panel">
        For metadata fields that have many unique values we use a gradient color map
        by default. This checkbox allows you to force categorical coloring by a given
        metadata field.
      </paper-tooltip>
    </div>
    <template class="style-scope vz-projector-data-panel"></template>
  </div>
  <template is="dom-if" class="style-scope vz-projector-data-panel"></template>
  <div id="demo-data-buttons-container" class="style-scope vz-projector-data-panel">
    <span class="button-container style-scope vz-projector-data-panel">
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-data-panel">
        Load data from your computer
      </paper-tooltip>
      <paper-button id="upload" class="ink-button style-scope vz-projector-data-panel" onclick="dataDialog.open()">Load</paper-button>
    </span>
    <span id="publish-container" class="button-container style-scope vz-projector-data-panel">
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-data-panel">
        Publish your embedding visualization and data
      </paper-tooltip>
      <paper-button id="host-embedding" class="ink-button style-scope vz-projector-data-panel" onclick="projectorConfigDialog.open()">Publish</paper-button>
    </span>
    <span class="button-container style-scope vz-projector-data-panel">
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-data-panel">
        Download the metadata with applied modifications
      </paper-tooltip>
      <paper-button class="ink-button style-scope vz-projector-data-panel">Download</paper-button>
      <a href="#" id="downloadMetadataLink" hidden"="" class="style-scope vz-projector-data-panel"></a>
    </span>
    <span id="label-button" class="button-container style-scope vz-projector-data-panel">
      <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-data-panel">
        Label selected metadata
      </paper-tooltip>
      <paper-button class="ink-button style-scope vz-projector-data-panel">Label</paper-button>
    </span>
  </div>
  <div class="style-scope vz-projector-data-panel">
    <paper-dialog id="dataDialog" with-backdrop="" class="style-scope vz-projector-data-panel">
      <h2 class="style-scope vz-projector-data-panel">Load data from your computer</h2>
      <paper-dialog-scrollable class="scrollable-container style-scope vz-projector-data-panel">
        <div class="data-step style-scope vz-projector-data-panel" id="upload-tensors-step-container">
          <div class="upload-step style-scope vz-projector-data-panel">
            <div class="style-scope vz-projector-data-panel">
                <b class="style-scope vz-projector-data-panel"><span class="step-label style-scope vz-projector-data-panel">Step 1:</span> Load a TSV file of vectors.</b>
            </div>
          </div>
          <div class="data-step-contents style-scope vz-projector-data-panel">
            <div class="data-step-contents-contents style-scope vz-projector-data-panel">
              Example of 3 vectors with dimension 4:
              <div class="code style-scope vz-projector-data-panel">
                0.1<span class="delimiter style-scope vz-projector-data-panel">\t</span>0.2<span class="delimiter style-scope vz-projector-data-panel">\t</span>0.5<span class="delimiter style-scope vz-projector-data-panel">\t</span>0.9<br class="style-scope vz-projector-data-panel">
                0.2<span class="delimiter style-scope vz-projector-data-panel">\t</span>0.1<span class="delimiter style-scope vz-projector-data-panel">\t</span>5.0<span class="delimiter style-scope vz-projector-data-panel">\t</span>0.2<br class="style-scope vz-projector-data-panel">
                0.4<span class="delimiter style-scope vz-projector-data-panel">\t</span>0.1<span class="delimiter style-scope vz-projector-data-panel">\t</span>7.0<span class="delimiter style-scope vz-projector-data-panel">\t</span>0.8
              </div>
            </div>
            <div class="data-step-contents-upload style-scope vz-projector-data-panel">
              <paper-button id="upload-tensors" title="Choose a TSV tensor file" class="style-scope vz-projector-data-panel">Choose file</paper-button>
              <input type="file" id="file" name="file" class="style-scope vz-projector-data-panel">
            </div>
          </div>
        </div>
        <div class="data-step style-scope vz-projector-data-panel">
          <div class="upload-step style-scope vz-projector-data-panel">
            <div class="style-scope vz-projector-data-panel">
                <span class="step-label style-scope vz-projector-data-panel" id="upload-metadata-label"><b class="style-scope vz-projector-data-panel">Step 2</b> (optional):</span> <b class="style-scope vz-projector-data-panel">Load a TSV file of metadata.</b>
            </div>
          </div>
          <div class="data-step-contents style-scope vz-projector-data-panel">
            <div class="data-step-contents-contents style-scope vz-projector-data-panel">
              Example of 3 data points and 2 columns.<br class="style-scope vz-projector-data-panel">
              <i class="style-scope vz-projector-data-panel">Note: If there is more than one column, the first row will be parsed as column labels.</i>
              <div class="code style-scope vz-projector-data-panel">
                <b class="style-scope vz-projector-data-panel">Pokémon<span class="delimiter style-scope vz-projector-data-panel">\t</span>Species</b><br class="style-scope vz-projector-data-panel">
                Wartortle<span class="delimiter style-scope vz-projector-data-panel">\t</span>Turtle<br class="style-scope vz-projector-data-panel">
                Venusaur<span class="delimiter style-scope vz-projector-data-panel">\t</span>Seed<br class="style-scope vz-projector-data-panel">
                Charmeleon<span class="delimiter style-scope vz-projector-data-panel">\t</span>Flame
              </div>
            </div>
            <div class="data-step-contents-upload style-scope vz-projector-data-panel">
              <paper-button id="upload-metadata" title="Choose a TSV metadata file" class="ink-button style-scope vz-projector-data-panel">Choose file</paper-button>
              <input type="file" id="file-metadata" name="file-metadata" class="style-scope vz-projector-data-panel">
            </div>
          </div>
        </div>
      </paper-dialog-scrollable>
      <div class="dismiss-dialog-note style-scope vz-projector-data-panel">Click outside to dismiss.</div>
    </paper-dialog>
    <paper-dialog id="projectorConfigDialog" with-backdrop="" class="style-scope vz-projector-data-panel">
      <h2 class="style-scope vz-projector-data-panel">Publish your embedding visualization and data</h2>
      <paper-dialog-scrollable class="scrollable-container style-scope vz-projector-data-panel">
        <div class="style-scope vz-projector-data-panel">
          <p class="style-scope vz-projector-data-panel">
            If you'd like to share your visualization with the world, follow these simple steps.
            See <a target="_blank" href="https://www.tensorflow.org/get_started/embedding_viz" class="style-scope vz-projector-data-panel">this tutorial</a> for more.
          
          </p><h4 class="style-scope vz-projector-data-panel"><span class="step-label style-scope vz-projector-data-panel">Step 1:</span> Make data public</h4>
          <p class="style-scope vz-projector-data-panel">
            Host tensors, metadata, sprite image, and bookmarks TSV files <i class="style-scope vz-projector-data-panel">publicly</i> on the web.
          
          </p><p class="style-scope vz-projector-data-panel">
            One option is using a <a target="_blank" href="https://gist.github.com/" class="style-scope vz-projector-data-panel">github gist</a>.
            If you choose this approach, make sure to link directly to the raw file.
          
        </p></div>
        <div class="style-scope vz-projector-data-panel">
          <h4 class="style-scope vz-projector-data-panel"><span class="step-label style-scope vz-projector-data-panel">Step 2:</span> Projector config</h4>
          <div class="projector-config-options style-scope vz-projector-data-panel">
            <i class="style-scope vz-projector-data-panel">Optional:</i>
            <div class="config-checkbox style-scope vz-projector-data-panel">
              <paper-checkbox id="config-metadata-checkbox" checked="" class="style-scope vz-projector-data-panel">Metadata</paper-checkbox>
            </div>
            <div class="config-checkbox style-scope vz-projector-data-panel">
              <paper-checkbox id="config-sprite-checkbox" class="style-scope vz-projector-data-panel">Sprite</paper-checkbox>
            </div>
            <div class="config-checkbox style-scope vz-projector-data-panel">
              <paper-checkbox id="config-bookmarks-checkbox" class="style-scope vz-projector-data-panel">Bookmarks</paper-checkbox>
            </div>
          </div>
        </div>
        <paper-textarea id="projector-config-template" label="template_projector_config.json" class="style-scope vz-projector-data-panel"></paper-textarea>
        <div class="style-scope vz-projector-data-panel">
          <h4 class="style-scope vz-projector-data-panel"><span class="step-label style-scope vz-projector-data-panel">Step 3:</span> Host projector config</h4>
          After you have hosted the projector config JSON file you built above, paste the URL to the config below.
        </div>
        <paper-input id="projector-config-url" label="Path to projector config" class="style-scope vz-projector-data-panel"></paper-input>
        <paper-input id="projector-share-url" label="Your shareable URL" readonly="" class="style-scope vz-projector-data-panel"></paper-input>
        <div id="projector-share-button-container" class="style-scope vz-projector-data-panel">
          <a target="_blank" id="projector-share-url-link" class="style-scope vz-projector-data-panel">
            <paper-button title="Test your shareable URL" class="ink-button style-scope vz-projector-data-panel">Test your shareable URL</paper-button>
          </a>
        </div>
      </paper-dialog-scrollable>
      <div class="dismiss-dialog-note style-scope vz-projector-data-panel">Click outside to dismiss.</div>
    </paper-dialog>
  </div>
  <paper-checkbox id="normalize-data-checkbox" class="style-scope vz-projector-data-panel">
    Sphereize data
    <paper-icon-button icon="help" class="help-icon style-scope vz-projector-data-panel"></paper-icon-button>
    <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-data-panel">
      The data is normalized by shifting each point by the centroid and making
      it unit norm.
    </paper-tooltip>
  </paper-checkbox>
  <div class="dirs style-scope vz-projector-data-panel">
    <table class="style-scope vz-projector-data-panel">
      <tbody class="style-scope vz-projector-data-panel"><tr class="style-scope vz-projector-data-panel">
        <td class="style-scope vz-projector-data-panel">Checkpoint:</td>
        <td class="style-scope vz-projector-data-panel"><span id="checkpoint-file" class="style-scope vz-projector-data-panel"></span></td>
      </tr>
      <tr class="style-scope vz-projector-data-panel">
        <td class="style-scope vz-projector-data-panel">Metadata:</td>
        <td class="style-scope vz-projector-data-panel"><span id="metadata-file" class="style-scope vz-projector-data-panel"></span></td>
      </tr>
    </tbody></table>
  </div>
</div>

</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-data-panel.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.DataPanelPolymer=a.PolymerElement({is:"vz-projector-data-panel",properties:{selectedTensor:{type:String,observer:"_selectedTensorChanged"},selectedRun:String,selectedColorOptionName:{type:String,notify:!0,observer:"_selectedColorOptionNameChanged"},selectedLabelOption:{type:String,notify:!0,observer:"_selectedLabelOptionChanged"},normalizeData:Boolean,showForceCategoricalColorsCheckbox:Boolean,metadataEditorInput:{type:String},metadataEditorInputLabel:{type:String,value:"Tag selection as"},
metadataEditorInputChange:{type:Object},metadataEditorColumn:{type:String},metadataEditorColumnChange:{type:Object},metadataEditorButtonClicked:{type:Object},metadataEditorButtonDisabled:{type:Boolean},downloadMetadataClicked:{type:Boolean},superviseInput:{type:String},superviseInputTyping:{type:Object},superviseInputChange:{type:Object},superviseInputLabel:{type:String,value:"Ignored label"},superviseColumn:{type:String},superviseColumnChanged:{type:Object},showSuperviseSettings:{type:Boolean,value:!1}},
observers:["_generateUiForNewCheckpointForRun(selectedRun)"]});var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;a.forceCategoricalColoring=!1;return a}Oa(c,b);c.prototype.ready=function(){this.normalizeData=!0;this.superviseInputSelected=""};c.prototype.initialize=function(a,b){var c=this;this.projector=a;this.dataProvider=b;this.setupUploadButtons();this.querySelector("#normalize-data-checkbox").addEventListener("change",function(){c.projector.setNormalizeData(c.normalizeData)});
var d=this.querySelector("#force-categorical-checkbox");d.addEventListener("change",function(){c.setForceCategoricalColoring(d.checked)});this.dataProvider.retrieveRuns(function(a){c.runNames=a;0<c.runNames.length&&(c.selectedRun!=a[0]?c.selectedRun=a[0]:c._generateUiForNewCheckpointForRun(c.selectedRun))})};c.prototype.setForceCategoricalColoring=function(a){this.forceCategoricalColoring=a;this.querySelector("#force-categorical-checkbox").checked=this.forceCategoricalColoring;this.updateMetadataUI(this.spriteAndMetadata.stats,
this.metadataFile);this._selectedColorOptionNameChanged()};c.prototype.getSeparatorClass=function(a){return a?"separator":null};c.prototype.metadataChanged=function(a,b){var c=this;this.spriteAndMetadata=a;null!=b&&(this.metadataFile=b);this.updateMetadataUI(this.spriteAndMetadata.stats,this.metadataFile);if(null==this.selectedColorOptionName||0===this.colorOptions.filter(function(a){return a.name===c.selectedColorOptionName}).length)this.selectedColorOptionName=this.colorOptions[0].name;var d=-1;
this.metadataFields=a.stats.map(function(a,b){a.isNumeric||-1!==d||(d=b);return a.name});if(null==this.metadataEditorColumn||0===this.metadataFields.filter(function(a){return a===c.metadataEditorColumn}).length)this.metadataEditorColumn=this.metadataFields[Math.max(0,d)];if(null==this.superviseColumn||0===this.metadataFields.filter(function(a){return a===c.superviseColumn}).length)this.superviseColumn=this.metadataFields[Math.max(0,d)],this.superviseInput="";this.superviseInputChange()};c.prototype.projectionChanged=
function(a){if(a)switch(a.projectionType){case "tsne":this.set("showSuperviseSettings",!0);break;default:this.set("showSuperviseSettings",!1)}};c.prototype.onProjectorSelectionChanged=function(a,b){this.selectedPointIndices=a;this.neighborsOfFirstPoint=b;this.metadataEditorInputChange()};c.prototype.addWordBreaks=function(a){return null==a?"":a.replace(/([\/=-_,])/g,"$1\x3cwbr\x3e")};c.prototype.updateMetadataUI=function(a,b){var c=this,d=this.querySelector("#metadata-file");d.innerHTML=this.addWordBreaks(b);
d.title=b;var e=-1;this.labelOptions=a.map(function(a,b){a.isNumeric||-1!==e||(e=b);return a.name});if(null==this.selectedLabelOption||0===this.labelOptions.filter(function(a){return a===c.selectedLabelOption}).length)this.selectedLabelOption=this.labelOptions[Math.max(0,e)];if(null==this.metadataEditorColumn||0===this.labelOptions.filter(function(a){return a===c.metadataEditorColumn}).length)this.metadataEditorColumn=this.labelOptions[Math.max(0,e)];b=[{name:"No color map"}];a=a.filter(function(a){return!a.tooManyUniqueValues||
a.isNumeric}).map(function(a){var b=c.forceCategoricalColoring||!a.tooManyUniqueValues;if(b){var d=d3.scaleOrdinal(d3.schemeCategory20);var e=d.range(),f=e.map(function(a,b){return e[3*b%e.length]});var g=a.uniqueEntries;d.range(f).domain(g.map(function(a){return a.label}))}else{var h=[{color:"#ffffdd",value:a.min},{color:"#1f2d86",value:a.max}];d=d3.scaleLinear().domain(h.map(function(a){return a.value})).range(h.map(function(a){return a.color}))}return{name:a.name,desc:b?a.uniqueEntries.length+
(20<a.uniqueEntries.length?" non-unique":"")+" colors":"gradient",map:d,items:g,thresholds:h,tooManyUniqueValues:a.tooManyUniqueValues}});0<a.length&&b.push({name:"Metadata",isSeparator:!0});this.colorOptions=b.concat(a)};c.prototype.metadataEditorContext=function(a){this.metadataEditorButtonDisabled=!a;this.projector&&this.projector.metadataEditorContext(a,this.metadataEditorColumn)};c.prototype.metadataEditorInputChange=function(){var a=this.metadataEditorColumn,b=this.metadataEditorInput,c=this.selectedPointIndices.length+
this.neighborsOfFirstPoint.length;0<c?null!=b&&""!==b.trim()?this.spriteAndMetadata.stats.filter(function(b){return b.name===a})[0].isNumeric&&isNaN(+b)?(this.metadataEditorInputLabel="Label must be numeric",this.metadataEditorContext(!1)):(0===this.projector.dataSet.points.filter(function(c){return c.metadata[a].toString()===b.trim()}).length?this.metadataEditorInputLabel="Tag "+c+" with new label":this.metadataEditorInputLabel="Tag "+c+" points as",this.metadataEditorContext(!0)):(this.metadataEditorInputLabel=
"Tag selection as",this.metadataEditorContext(!1)):(this.metadataEditorContext(!1),null!=b&&""!==b.trim()?this.metadataEditorInputLabel="Select points to tag":this.metadataEditorInputLabel="Tag selection as")};c.prototype.metadataEditorInputKeydown=function(a){13===a.keyCode&&this.metadataEditorButtonClicked();a.stopPropagation()};c.prototype.metadataEditorColumnChange=function(){this.metadataEditorInputChange()};c.prototype.metadataEditorButtonClicked=function(){if(!this.metadataEditorButtonDisabled){var a=
this.metadataEditorInput.trim(),b=this.selectedPointIndices.length+this.neighborsOfFirstPoint.length;this.projector.metadataEdit(this.metadataEditorColumn,a);this.projector.metadataEditorContext(!0,this.metadataEditorColumn);this.metadataEditorInputLabel=b+" labeled as '"+a+"'"}};c.prototype.downloadMetadataClicked=function(){if(this.projector&&this.projector.dataSet&&this.projector.dataSet.spriteAndMetadataInfo){var a=this.projector.dataSet.spriteAndMetadataInfo.stats.map(function(a){return a.name}).join("\t");
this.projector.dataSet.spriteAndMetadataInfo.pointsInfo.forEach(function(b){var c=[],d;for(d in b)c.push(b[d]);a+="\n"+c.join("\t")});var b=new Blob([a],{type:"text/plain"});this.$.downloadMetadataLink.download="metadata-edited.tsv";this.$.downloadMetadataLink.href=window.URL.createObjectURL(b);this.$.downloadMetadataLink.click()}};c.prototype.superviseInputTyping=function(){var a=this,b=this.superviseInput.trim();if(null==b||""===b.trim())this.superviseInputLabel=""===this.superviseInputSelected?
"No ignored label":"Supervising without '"+this.superviseInputSelected+"'";else if(this.projector&&this.projector.dataSet){var c=this.projector.dataSet.points.filter(function(c){return c.metadata[a.superviseColumn].toString().trim()===b}).length;0===c?this.superviseInputLabel="Label not found":this.projector.dataSet.superviseInput!=b&&(this.superviseInputLabel="Supervise without '"+b+"' ["+c+" points]")}};c.prototype.superviseInputChange=function(){var a=this,b=this.superviseInput.trim();if(null==
b||""===b.trim())this.superviseInputSelected="",this.superviseInputLabel="No ignored label",this.setSupervision(this.superviseColumn,"");else if(this.projector&&this.projector.dataSet){var c=this.projector.dataSet.points.filter(function(c){return c.metadata[a.superviseColumn].toString().trim()===b}).length;0===c?this.superviseInputLabel="Supervising without '"+this.superviseInputSelected+"'":(this.superviseInputSelected=b,this.superviseInputLabel="Supervising without '"+b+"' ["+c+" points]",this.setSupervision(this.superviseColumn,
b))}};c.prototype.superviseColumnChanged=function(){this.superviseInput="";this.superviseInputChange()};c.prototype.setSupervision=function(a,b){this.projector&&this.projector.dataSet&&this.projector.dataSet.setSupervision(a,b)};c.prototype.setNormalizeData=function(a){this.normalizeData=a};c.prototype._selectedTensorChanged=function(){var a=this;this.projector.updateDataSet(null,null,null);null!=this.selectedTensor&&(this.dataProvider.retrieveTensor(this.selectedRun,this.selectedTensor,function(b){var c=
a.getEmbeddingInfoByName(a.selectedTensor).metadataPath;a.dataProvider.retrieveSpriteAndMetadata(a.selectedRun,a.selectedTensor,function(d){a.projector.updateDataSet(b,d,c)})}),this.projector.setSelectedTensor(this.selectedRun,this.getEmbeddingInfoByName(this.selectedTensor)))};c.prototype._generateUiForNewCheckpointForRun=function(b){var c=this;this.dataProvider.retrieveProjectorConfig(b,function(b){c.projectorConfig=b;b=c.projectorConfig.embeddings.map(function(a){return a.tensorName}).filter(function(a){a=
c.getEmbeddingInfoByName(a).tensorShape;return 2===a.length&&1<a[0]&&1<a[1]}).sort(function(b,d){var e=c.getEmbeddingInfoByName(b),f=c.getEmbeddingInfoByName(d);if(a.util.xor(!!e.metadataPath,!!f.metadataPath))return e.metadataPath?-1:1;var g=a.util.tensorIsGenerated(d);if(a.util.xor(a.util.tensorIsGenerated(b),g))return g?-1:1;e=e.tensorShape[0];f=f.tensorShape[0];return e!==f?f-e:b<=d?-1:1});c.tensorNames=b.map(function(a){return{name:a,shape:c.getEmbeddingInfoByName(a).tensorShape}});var d=c.addWordBreaks(c.projectorConfig.modelCheckpointPath),
e=c.querySelector("#checkpoint-file");e.innerHTML=d;e.title=c.projectorConfig.modelCheckpointPath;b="demo"===c.projector.servingMode?c.projectorConfig.embeddings[0].tensorName:b[0];c.selectedTensor===b?c._selectedTensorChanged():c.selectedTensor=b})};c.prototype._selectedLabelOptionChanged=function(){this.projector.setSelectedLabelOption(this.selectedLabelOption)};c.prototype._selectedColorOptionNameChanged=function(){for(var a,b=0;b<this.colorOptions.length;b++)if(this.colorOptions[b].name===this.selectedColorOptionName){a=
this.colorOptions[b];break}a&&(this.showForceCategoricalColorsCheckbox=!!a.tooManyUniqueValues,this.colorLegendRenderInfo=null==a.map?null:a.items?{items:a.items.map(function(b){return{color:a.map(b.label),label:b.label,count:b.count}}),thresholds:null}:{items:null,thresholds:a.thresholds},this.projector.setSelectedColorOption(a))};c.prototype.tensorWasReadFromFile=function(b,c){var d=this;a.parseRawTensors(b,function(a){var b=d.querySelector("#checkpoint-file");b.innerText=c;b.title=c;d.projector.updateDataSet(a)})};
c.prototype.metadataWasReadFromFile=function(b,c){var d=this;a.parseRawMetadata(b,function(a){d.projector.updateDataSet(d.projector.dataSet,a,c)})};c.prototype.getEmbeddingInfoByName=function(a){for(var b=0;b<this.projectorConfig.embeddings.length;b++){var c=this.projectorConfig.embeddings[b];if(c.tensorName===a)return c}};c.prototype.setupUploadButtons=function(){var a=this,b=this.querySelector("#file");b.onchange=function(){var c=b.files[0];b.value="";var d=new FileReader;d.onload=function(){a.tensorWasReadFromFile(d.result,
c.name)};d.readAsArrayBuffer(c)};this.querySelector("#upload-tensors").onclick=function(){b.click()};var c=this.querySelector("#file-metadata");c.onchange=function(){var b=c.files[0];c.value="";var d=new FileReader;d.onload=function(){a.metadataWasReadFromFile(d.result,b.name)};d.readAsArrayBuffer(b)};this.querySelector("#upload-metadata").onclick=function(){c.click()};"demo"!==this.projector.servingMode&&(this.$$("#publish-container").style.display="none",this.$$("#upload-tensors-step-container").style.display=
"none",this.$$("#upload-metadata-label").style.display="none");this.$$("#demo-data-buttons-container").style.display="flex";var d=this.$$("#projector-config-template"),l={embeddings:[{tensorName:"My tensor",tensorShape:[1E3,50],tensorPath:"https://raw.githubusercontent.com/.../tensors.tsv",metadataPath:"https://raw.githubusercontent.com/.../optional.metadata.tsv"}]};this.setProjectorConfigTemplateJson(d,l);var m=this.$$("#config-sprite-checkbox");m.onchange=function(){m.checked?l.embeddings[0].sprite=
{imagePath:"https://github.com/.../optional.sprite.png",singleImageDim:[32,32]}:delete l.embeddings[0].sprite;a.setProjectorConfigTemplateJson(d,l)};var n=this.$$("#config-bookmarks-checkbox");n.onchange=function(){n.checked?l.embeddings[0].bookmarksPath="https://raw.githubusercontent.com/.../bookmarks.txt":delete l.embeddings[0].bookmarksPath;a.setProjectorConfigTemplateJson(d,l)};var q=this.$$("#config-metadata-checkbox");q.onchange=function(){q.checked?l.embeddings[0].metadataPath="https://raw.githubusercontent.com/.../optional.metadata.tsv":
delete l.embeddings[0].metadataPath;a.setProjectorConfigTemplateJson(d,l)};var p=this.$$("#projector-config-url"),t=this.$$("#projector-share-url"),r=this.$$("#projector-share-url-link");p.onchange=function(){var a=location.protocol+"//"+location.host+location.pathname+"?config\x3d"+p.value;t.value=a;r.href=a}};c.prototype.setProjectorConfigTemplateJson=function(a,b){a.value=JSON.stringify(b,null,2)};c.prototype._getNumTensorsLabel=function(){return 1===this.tensorNames.length?"1 tensor":this.tensorNames.length+
" tensors"};c.prototype._getNumRunsLabel=function(){return 1===this.runNames.length?"1 run":this.runNames.length+" runs"};c.prototype._hasChoice=function(a){return 0<a.length};c.prototype._hasChoices=function(a){return 1<a.length};return c}(a.DataPanelPolymer);a.DataPanel=b;document.registerElement(b.prototype.is,b)})(W||(W={}));
</script>
</dom-module>








<dom-module id="vz-projector-input">
<template>



<paper-input class="style-scope vz-projector-input">
  <div class="slash style-scope vz-projector-input" prefix="" slot="prefix">/</div>
  <div class="slash style-scope vz-projector-input" suffix="" slot="suffix">/</div>
  <div suffix="" slot="suffix" class="style-scope vz-projector-input">
    <paper-button id="regex" toggles="" class="toggle style-scope vz-projector-input">.*</paper-button>
  </div>
</paper-input>
<paper-tooltip for="regex" position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-input">
  Enable/disable regex mode.
</paper-tooltip>
<span class="info style-scope vz-projector-input"> </span>


</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-input.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.ProjectorInputPolymer=a.PolymerElement({is:"vz-projector-input",properties:{label:String,message:String}});var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Oa(b,a);b.prototype.registerInputChangedListener=function(a){this.textChangedListeners.push(a)};b.prototype.ready=function(){var a=this;this.inRegexMode=!1;this.textChangedListeners=[];this.paperInput=this.querySelector("paper-input");this.inRegexModeButton=this.querySelector("paper-button");this.paperInput.setAttribute("error-message",
"Invalid regex");this.paperInput.addEventListener("input",function(){a.onTextChanged()});this.paperInput.addEventListener("keydown",function(a){a.stopPropagation()});this.inRegexModeButton.addEventListener("click",function(){return a.onClickRegexModeButton()});this.updateRegexModeDisplaySlashes();this.onTextChanged()};b.prototype.onClickRegexModeButton=function(){this.inRegexMode=this.inRegexModeButton.active;this.updateRegexModeDisplaySlashes();this.onTextChanged()};b.prototype.notifyInputChanged=
function(a,b){this.textChangedListeners.forEach(function(c){return c(a,b)})};b.prototype.onTextChanged=function(){try{this.inRegexMode&&new RegExp(this.paperInput.value)}catch(e){this.paperInput.setAttribute("invalid","true");this.message="";this.notifyInputChanged(null,!0);return}this.paperInput.removeAttribute("invalid");this.notifyInputChanged(this.paperInput.value,this.inRegexMode)};b.prototype.updateRegexModeDisplaySlashes=function(){for(var a=this.paperInput.querySelectorAll(".slash"),b=this.inRegexMode?
"":"none",c=0;c<a.length;c++)a[c].style.display=b};b.prototype.getValue=function(){return this.paperInput.value};b.prototype.getInRegexMode=function(){return this.inRegexMode};b.prototype.set=function(a,b){this.inRegexModeButton.active=b;this.paperInput.value=a;this.onClickRegexModeButton()};return b}(a.ProjectorInputPolymer);a.ProjectorInput=b;document.registerElement(b.prototype.is,b)})(W||(W={}));
</script>
</dom-module>












<dom-module id="vz-projector-inspector-panel">


<template>
<div class="container style-scope vz-projector-inspector-panel">
  <div class="buttons style-scope vz-projector-inspector-panel">
    <button class="button reset-filter style-scope vz-projector-inspector-panel">Show All Data</button>
    <button class="button set-filter style-scope vz-projector-inspector-panel">Isolate selection</button>
    <button class="button clear-selection style-scope vz-projector-inspector-panel">Clear selection</button>
  </div>
  <div class="search-by style-scope vz-projector-inspector-panel">
    <vz-projector-input id="search-box" label="Search" class="style-scope vz-projector-inspector-panel"></vz-projector-input>
    <paper-dropdown-menu no-animations="" label="by" class="style-scope vz-projector-inspector-panel">
      <paper-listbox attr-for-selected="value" class="dropdown-content style-scope vz-projector-inspector-panel" slot="dropdown-content">
        <template is="dom-repeat" class="style-scope vz-projector-inspector-panel"></template>
      </paper-listbox>
    </paper-dropdown-menu>
  </div>
</div>
<div class="results style-scope vz-projector-inspector-panel">
  <div class="nn style-scope vz-projector-inspector-panel" style="display: none">
    <div class="neighbors style-scope vz-projector-inspector-panel">
      <div class="neighbors-options style-scope vz-projector-inspector-panel">
        <div class="slider num-nn style-scope vz-projector-inspector-panel">
          <span class="option-label style-scope vz-projector-inspector-panel">neighbors</span>
          <paper-icon-button icon="help" class="help-icon style-scope vz-projector-inspector-panel"></paper-icon-button>
          <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-inspector-panel">
            The number of neighbors (in the original space) to show when clicking on a point.
          </paper-tooltip>
          <paper-slider class="nn-slider style-scope vz-projector-inspector-panel" pin="" min="5" max="999" editable=""></paper-slider>
        </div>
      </div>
      <div class="distance style-scope vz-projector-inspector-panel">
        <span class="option-label style-scope vz-projector-inspector-panel">distance</span>
        <div class="options style-scope vz-projector-inspector-panel">
          <a class="selected cosine style-scope vz-projector-inspector-panel" href="javascript:void(0);">COSINE</a>
          <a class="euclidean style-scope vz-projector-inspector-panel" href="javascript:void(0);">EUCLIDEAN</a>
        </div>
      </div>
    </div>
    <p class="style-scope vz-projector-inspector-panel">Nearest points in the original space:
    </p><div class="nn-list style-scope vz-projector-inspector-panel"></div>
  </div>
  <div class="metadata-info style-scope vz-projector-inspector-panel" style="display: none">
    <div class="neighbors-options style-scope vz-projector-inspector-panel">
      <div class="slider num-nn style-scope vz-projector-inspector-panel">
        <span class="option-label style-scope vz-projector-inspector-panel">neighbors</span>
        <paper-icon-button icon="help" class="help-icon style-scope vz-projector-inspector-panel"></paper-icon-button>
        <paper-tooltip position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-inspector-panel">
          The number of neighbors (in the selected space) to show when clicking on a point.
        </paper-tooltip>
        <paper-slider class="nn-slider style-scope vz-projector-inspector-panel" pin="" min="5" max="999" editable=""></paper-slider>
      </div>
    </div>
    <p class="style-scope vz-projector-inspector-panel"> labels (click to apply):
    </p><div class="metadata-list style-scope vz-projector-inspector-panel"></div>
  </div>
  <div class="matches-list style-scope vz-projector-inspector-panel" style="display: none">
    <div class="list style-scope vz-projector-inspector-panel"></div>
    <div class="limit-msg style-scope vz-projector-inspector-panel">Showing only the first 100 results...</div>
  </div>
</div>

</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-inspector-panel.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.InspectorPanelPolymer=a.PolymerElement({is:"vz-projector-inspector-panel",properties:{selectedMetadataField:String,metadataFields:Array,metadataColumn:String,numNN:{type:Number,value:100},updateNumNN:Object}});var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}Oa(c,b);c.prototype.ready=function(){this.resetFilterButton=this.querySelector(".reset-filter");this.setFilterButton=this.querySelector(".set-filter");this.clearSelectionButton=this.querySelector(".clear-selection");
this.limitMessage=this.querySelector(".limit-msg");this.searchBox=this.querySelector("#search-box");this.displayContexts=[];this.scopeSubtree(this,!0)};c.prototype.initialize=function(a,b){var c=this;this.projector=a;this.projectorEventContext=b;this.setupUI(a);b.registerSelectionChangedListener(function(a,b){return c.updateInspectorPane(a,b)})};c.prototype.updateInspectorPane=function(a,b){this.neighborsOfFirstPoint=b;this.selectedPointIndices=a;this.updateFilterButtons(a.length+b.length);this.updateNeighborsList(b);
0===b.length?this.updateSearchResults(a):this.updateSearchResults([])};c.prototype.enableResetFilterButton=function(a){this.resetFilterButton.disabled=!a};c.prototype.restoreUIFromBookmark=function(a){this.enableResetFilterButton(null!=a.filteredPoints)};c.prototype.metadataChanged=function(a){var b=this,c=-1;this.metadataFields=a.stats.map(function(a,b){a.isNumeric||-1!==c||(c=b);return a.name});if(null==this.selectedMetadataField||0===this.metadataFields.filter(function(a){return a===b.selectedMetadataField}).length)this.selectedMetadataField=
this.metadataFields[Math.max(0,c)];this.updateInspectorPane(this.selectedPointIndices,this.neighborsOfFirstPoint)};c.prototype.datasetChanged=function(){this.enableResetFilterButton(!1)};c.prototype.metadataEditorContext=function(b,c){var d=this;if(this.projector&&this.projector.dataSet){var e=this.projector.dataSet.spriteAndMetadataInfo.stats.filter(function(a){return a.name===c});if(!b||0===e.length||e[0].tooManyUniqueValues)this.removeContext(".metadata-info");else{this.metadataColumn=c;this.addContext(".metadata-info");
var f=this.querySelector(".metadata-list");f.innerHTML="";b=e[0].uniqueEntries.sort(function(a,b){return a.count-b.count});var m=b[b.length-1].count;b.forEach(function(b){var e=document.createElement("div");e.className="metadata";var g=document.createElement("a");g.className="metadata-link";g.title=b.label;var h=document.createElement("div");h.className="label-and-value";var l=document.createElement("div");l.className="label";l.style.color=a.dist2color(d.distFunc,m,b.count);l.innerText=b.label;var n=
document.createElement("div");n.className="value";n.innerText=b.count.toString();h.appendChild(l);h.appendChild(n);l=document.createElement("div");l.className="bar";n=document.createElement("div");n.className="fill";n.style.borderTopColor=a.dist2color(d.distFunc,m,b.count);n.style.width=100*a.normalizeDist(d.distFunc,m,b.count)+"%";l.appendChild(n);for(n=1;4>n;n++){var v=document.createElement("div");v.className="tick";v.style.left=100*n/4+"%";l.appendChild(v)}g.appendChild(h);g.appendChild(l);e.appendChild(g);
f.appendChild(e);g.onclick=function(){d.projector.metadataEdit(c,b.label)}})}}};c.prototype.addContext=function(a){var b=this;-1===this.displayContexts.indexOf(a)&&this.displayContexts.push(a);this.displayContexts.forEach(function(a){b.querySelector(a).style.display="none"});this.querySelector(a).style.display=null};c.prototype.removeContext=function(a){this.displayContexts=this.displayContexts.filter(function(b){return b!==a});this.querySelector(a).style.display="none";0<this.displayContexts.length&&
(this.querySelector(this.displayContexts[this.displayContexts.length-1]).style.display=null)};c.prototype.updateSearchResults=function(a){var b=this,c=this.querySelector(".matches-list").querySelector(".list");c.innerHTML="";if(0===a.length)this.removeContext(".matches-list");else{this.addContext(".matches-list");this.limitMessage.style.display=100>=a.length?"none":null;a=a.slice(0,100);for(var d=function(d){var f=a[d];d=document.createElement("div");d.className="row";var g=e.getLabelFromIndex(f),
h=document.createElement("a");h.className="label";h.title=g;h.innerText=g;h.onmouseenter=function(){b.projectorEventContext.notifyHoverOverPoint(f)};h.onmouseleave=function(){b.projectorEventContext.notifyHoverOverPoint(null)};h.onclick=function(){b.projectorEventContext.notifySelectionChanged([f])};d.appendChild(h);c.appendChild(d)},e=this,m=0;m<a.length;m++)d(m)}};c.prototype.getLabelFromIndex=function(a){return this.projector.dataSet.points[a].metadata[this.selectedMetadataField].toString()};c.prototype.updateNeighborsList=
function(b){var c=this,d=this.querySelector(".nn-list");d.innerHTML="";if(0===b.length)this.removeContext(".nn");else{this.addContext(".nn");this.searchBox.message="";for(var e=0<b.length?b[0].dist:0,l=function(f){var g=b[f];f=document.createElement("div");f.className="neighbor";var h=document.createElement("a");h.className="neighbor-link";h.title=m.getLabelFromIndex(g.index);var l=document.createElement("div");l.className="label-and-value";var n=document.createElement("div");n.className="label";
n.style.color=a.dist2color(m.distFunc,g.dist,e);n.innerText=m.getLabelFromIndex(g.index);var q=document.createElement("div");q.className="value";q.innerText=g.dist.toFixed(3);l.appendChild(n);l.appendChild(q);n=document.createElement("div");n.className="bar";q=document.createElement("div");q.className="fill";q.style.borderTopColor=a.dist2color(m.distFunc,g.dist,e);q.style.width=100*a.normalizeDist(m.distFunc,g.dist,e)+"%";n.appendChild(q);for(q=1;4>q;q++){var y=document.createElement("div");y.className=
"tick";y.style.left=100*q/4+"%";n.appendChild(y)}h.appendChild(l);h.appendChild(n);f.appendChild(h);d.appendChild(f);h.onmouseenter=function(){c.projectorEventContext.notifyHoverOverPoint(g.index)};h.onmouseleave=function(){c.projectorEventContext.notifyHoverOverPoint(null)};h.onclick=function(){c.projectorEventContext.notifySelectionChanged([g.index])}},m=this,n=0;n<b.length;n++)l(n)}};c.prototype.updateFilterButtons=function(a){1<a?(this.setFilterButton.innerText="Isolate "+a+" points",this.setFilterButton.disabled=
null,this.clearSelectionButton.disabled=null):(this.setFilterButton.disabled=!0,this.clearSelectionButton.disabled=!0)};c.prototype.setupUI=function(b){var c=this;this.distFunc=a.vector.cosDist;var d=this.querySelector(".distance a.euclidean");d.onclick=function(){for(var e=c.querySelectorAll(".distance a"),f=0;f<e.length;f++)a.util.classed(e[f],"selected",!1);a.util.classed(d,"selected",!0);c.distFunc=a.vector.dist;c.projectorEventContext.notifyDistanceMetricChanged(c.distFunc);e=b.dataSet.findNeighbors(c.selectedPointIndices[0],
c.distFunc,c.numNN);c.updateNeighborsList(e)};var e=this.querySelector(".distance a.cosine");e.onclick=function(){for(var d=c.querySelectorAll(".distance a"),f=0;f<d.length;f++)a.util.classed(d[f],"selected",!1);a.util.classed(e,"selected",!0);c.distFunc=a.vector.cosDist;c.projectorEventContext.notifyDistanceMetricChanged(c.distFunc);d=b.dataSet.findNeighbors(c.selectedPointIndices[0],c.distFunc,c.numNN);c.updateNeighborsList(d)};this.searchBox.registerInputChangedListener(function(a,d){null==a||
""===a.trim()?(c.searchBox.message="",c.projectorEventContext.notifySelectionChanged([])):(a=b.dataSet.query(a,d,c.selectedMetadataField),c.searchBox.message=0===a.length?"0 matches.":a.length+" matches.",c.projectorEventContext.notifySelectionChanged(a))});this.setFilterButton.onclick=function(){var a=c.selectedPointIndices.concat(c.neighborsOfFirstPoint.map(function(a){return a.index}));b.filterDataset(a);c.enableResetFilterButton(!0);c.updateFilterButtons(0)};this.resetFilterButton.onclick=function(){b.resetFilterDataset();
c.enableResetFilterButton(!1)};this.clearSelectionButton.onclick=function(){b.adjustSelectionAndHover([])};this.enableResetFilterButton(!1)};c.prototype.updateNumNN=function(){null!=this.selectedPointIndices&&this.projectorEventContext.notifySelectionChanged([this.selectedPointIndices[0]])};return c}(a.InspectorPanelPolymer);a.InspectorPanel=b;document.registerElement(b.prototype.is,b)})(W||(W={}));
</script>
</dom-module>






<dom-module id="vz-projector-metadata-card">
<template>


<template is="dom-if" class="style-scope vz-projector-metadata-card"></template>
</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-metadata-card.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.MetadataCardPolymer=a.PolymerElement({is:"vz-projector-metadata-card",properties:{hasMetadata:{type:Boolean,value:!1},isCollapsed:{type:Boolean,value:!1},collapseIcon:{type:String,value:"expand-less"},metadata:{type:Array},label:String}});var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}Oa(b,a);b.prototype._toggleMetadataContainer=function(){this.$$("#metadata-container").toggle();this.isCollapsed=!this.isCollapsed;this.set("collapseIcon",this.isCollapsed?
"expand-more":"expand-less")};b.prototype.updateMetadata=function(a){this.pointMetadata=a;this.hasMetadata=null!=a;if(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push({key:c,value:a[c]});this.metadata=b;this.label=""+this.pointMetadata[this.labelOption]}};b.prototype.setLabelOption=function(a){this.labelOption=a;this.pointMetadata&&(this.label=""+this.pointMetadata[this.labelOption])};return b}(a.MetadataCardPolymer);a.MetadataCard=b;document.registerElement(b.prototype.is,b)})(W||(W={}));
</script>
</dom-module>



















<dom-module id="vz-projector-projections-panel">
<template>


<div id="main" class="style-scope vz-projector-projections-panel">
  <div class="ink-panel-header style-scope vz-projector-projections-panel">
    <div class="ink-tab-group style-scope vz-projector-projections-panel">

      <div data-tab="tsne" id="tsne-tab" class="ink-tab projection-tab style-scope vz-projector-projections-panel">t-SNE</div>
      <paper-tooltip for="tsne-tab" position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-projections-panel">
        t-distributed stochastic neighbor embedding
      </paper-tooltip>

      <div data-tab="pca" id="pca-tab" class="ink-tab projection-tab style-scope vz-projector-projections-panel">PCA</div>
      <paper-tooltip for="pca-tab" position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-projections-panel">
        Principal component analysis
      </paper-tooltip>

      <div data-tab="custom" id="custom-tab" class="ink-tab projection-tab style-scope vz-projector-projections-panel" title="Linear projection of two custom vectors">Custom</div>
      <paper-tooltip for="custom-tab" position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-projections-panel">
        Search for two vectors upon which to project all points.
      </paper-tooltip>

    </div>
  </div>
  <div class="container style-scope vz-projector-projections-panel">
    
    <div data-panel="tsne" class="ink-panel-content style-scope vz-projector-projections-panel">
      <div class="slider style-scope vz-projector-projections-panel">
        <label class="style-scope vz-projector-projections-panel">Dimension</label>
        <div class="two-way-toggle style-scope vz-projector-projections-panel">
          <span class="style-scope vz-projector-projections-panel">2D</span>
          <paper-toggle-button id="tsne-toggle" class="style-scope vz-projector-projections-panel">3D</paper-toggle-button>
        </div>
      </div>
      <div class="slider tsne-perplexity style-scope vz-projector-projections-panel">
        <label class="style-scope vz-projector-projections-panel">
          Perplexity
          <paper-icon-button icon="help" class="help-icon style-scope vz-projector-projections-panel"></paper-icon-button>
          <paper-tooltip position="right" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-projections-panel">
            The most appropriate perplexity value depends on the density of the
            data. Loosely speaking, a larger / denser dataset
            requires a larger perplexity. Typical values for perplexity range
            between 5 and 50.
          </paper-tooltip>
        </label>
        <paper-slider id="perplexity-slider" pin="" min="2" max="100" value="30" class="style-scope vz-projector-projections-panel"></paper-slider>
        <span class="style-scope vz-projector-projections-panel"></span>
      </div>
      <div class="slider tsne-learning-rate style-scope vz-projector-projections-panel">
        <label class="style-scope vz-projector-projections-panel">
          Learning rate
          <paper-icon-button icon="help" class="help-icon style-scope vz-projector-projections-panel"></paper-icon-button>
          <paper-tooltip position="right" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-projections-panel">
            The ideal learning rate often depends on the size of the data,
            with smaller datasets requiring smaller learning rates.
          </paper-tooltip>
        </label>
        <paper-slider id="learning-rate-slider" snaps="" min="-3" max="2" step="1" value="1" max-markers="6" class="style-scope vz-projector-projections-panel">
        </paper-slider>
        <span class="style-scope vz-projector-projections-panel"></span>
      </div>
      <div class="slider tsne-supervise-factor style-scope vz-projector-projections-panel">
        <label class="style-scope vz-projector-projections-panel">
          Supervise
          <paper-icon-button icon="help" class="help-icon style-scope vz-projector-projections-panel"></paper-icon-button>
          <paper-tooltip position="right" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-projections-panel">
            The label importance used for supervision, from 0 (disabled) to 100
            (full importance).
          </paper-tooltip>
        </label>
        <paper-slider id="supervise-factor-slider" min="0" max="100" pin="" class="style-scope vz-projector-projections-panel">
        </paper-slider>
        <span class="style-scope vz-projector-projections-panel"></span>
      </div>
      <p class="style-scope vz-projector-projections-panel">
        <button class="run-tsne ink-button style-scope vz-projector-projections-panel" title="Re-run t-SNE">Run</button>
        <button class="pause-tsne ink-button style-scope vz-projector-projections-panel" title="Pause t-SNE">Pause</button>
        <button class="perturb-tsne ink-button style-scope vz-projector-projections-panel" title="Perturb t-SNE">Perturb</button>
      
      </p><p class="style-scope vz-projector-projections-panel">Iteration: <span class="run-tsne-iter style-scope vz-projector-projections-panel">0</span>
      </p><p id="tsne-sampling" class="notice style-scope vz-projector-projections-panel">
        For fast results, the data will be sampled down to  points.
      
      </p><p class="style-scope vz-projector-projections-panel">
        <iron-icon icon="book" class="book-icon style-scope vz-projector-projections-panel"></iron-icon>
        <a target="_blank" href="http://distill.pub/2016/misread-tsne/" class="style-scope vz-projector-projections-panel">
          How to use t-SNE effectively.
        </a>
      
    </p></div>
    
    <div data-panel="pca" class="ink-panel-content style-scope vz-projector-projections-panel">
      <div class="two-columns style-scope vz-projector-projections-panel">
        <div class="style-scope vz-projector-projections-panel"> 
          <paper-dropdown-menu class="pca-dropdown style-scope vz-projector-projections-panel" vertical-align="bottom" no-animations="" label="X">
            <paper-listbox attr-for-selected="value" class="dropdown-content style-scope vz-projector-projections-panel" slot="dropdown-content">
              <paper-item disabled="" class="dropdown-item header style-scope vz-projector-projections-panel">
                  <div class="style-scope vz-projector-projections-panel">#</div>
                  <div class="style-scope vz-projector-projections-panel">Variance (%)</div>
              </paper-item>
              <template is="dom-repeat" class="style-scope vz-projector-projections-panel"></template>
            </paper-listbox>
          </paper-dropdown-menu>
          <paper-dropdown-menu class="pca-dropdown style-scope vz-projector-projections-panel" no-animations="" vertical-align="bottom" label="Z" id="z-dropdown">
            <paper-listbox attr-for-selected="value" class="dropdown-content style-scope vz-projector-projections-panel" slot="dropdown-content">
              <paper-item disabled="" class="dropdown-item header style-scope vz-projector-projections-panel">
                  <div class="style-scope vz-projector-projections-panel">#</div>
                  <div class="style-scope vz-projector-projections-panel">Variance (%)</div>
              </paper-item>
              <template is="dom-repeat" class="style-scope vz-projector-projections-panel"></template>
            </paper-listbox>
          </paper-dropdown-menu>
        </div>
        <div class="style-scope vz-projector-projections-panel"> 
          <paper-dropdown-menu class="pca-dropdown style-scope vz-projector-projections-panel" vertical-align="bottom" no-animations="" label="Y">
            <paper-listbox attr-for-selected="value" class="dropdown-content style-scope vz-projector-projections-panel" slot="dropdown-content">
              <paper-item disabled="" class="dropdown-item header style-scope vz-projector-projections-panel">
                  <div class="style-scope vz-projector-projections-panel">#</div>
                  <div class="style-scope vz-projector-projections-panel">Variance (%)</div>
              </paper-item>
              <template is="dom-repeat" class="style-scope vz-projector-projections-panel"></template>
            </paper-listbox>
          </paper-dropdown-menu>
          <paper-checkbox id="z-checkbox" class="style-scope vz-projector-projections-panel"></paper-checkbox>
        </div>
      </div>
      <p id="pca-sampling" class="notice style-scope vz-projector-projections-panel">
        PCA is approximate.
        <paper-icon-button icon="help" class="help-icon style-scope vz-projector-projections-panel"></paper-icon-button>
      
      </p><div id="total-variance" class="style-scope vz-projector-projections-panel">Total variance</div>
      <paper-tooltip for="pca-sampling" position="top" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector-projections-panel">
        For fast results, the data was sampled to  points and randomly projected down to  dimensions.
      </paper-tooltip>
    </div>
    
    <div data-panel="custom" class="ink-panel-content style-scope vz-projector-projections-panel">
      <paper-dropdown-menu style="width: 100%" no-animations="" label="Search by" class="style-scope vz-projector-projections-panel">
        <paper-listbox attr-for-selected="value" class="dropdown-content style-scope vz-projector-projections-panel" slot="dropdown-content">
          <template is="dom-repeat" class="style-scope vz-projector-projections-panel"></template>
        </paper-listbox>
      </paper-dropdown-menu>
      <div class="two-columns style-scope vz-projector-projections-panel">
        <vz-projector-input id="xLeft" label="Left" class="style-scope vz-projector-projections-panel"></vz-projector-input>
        <vz-projector-input id="xRight" label="Right" class="style-scope vz-projector-projections-panel"></vz-projector-input>
      </div>
      <div class="two-columns style-scope vz-projector-projections-panel">
        <vz-projector-input id="yUp" label="Up" class="style-scope vz-projector-projections-panel"></vz-projector-input>
        <vz-projector-input id="yDown" label="Down" class="style-scope vz-projector-projections-panel"></vz-projector-input>
      </div>
    </div>
  </div>
</div>
</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-projections-panel.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.ProjectionsPanelPolymer=a.PolymerElement({is:"vz-projector-projections-panel",properties:{pcaIs3d:{type:Boolean,value:!0,observer:"_pcaDimensionToggleObserver"},tSNEis3d:{type:Boolean,value:!0,observer:"_tsneDimensionToggleObserver"},superviseFactor:{type:Number,value:0},pcaComponents:Array,pcaX:{type:Number,value:0,observer:"showPCAIfEnabled"},pcaY:{type:Number,value:1,observer:"showPCAIfEnabled"},pcaZ:{type:Number,value:2,observer:"showPCAIfEnabled"},customSelectedSearchByMetadataOption:{type:String,
observer:"_customSelectedSearchByMetadataOptionChanged"}}});var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}Oa(c,b);c.prototype.initialize=function(a){this.polymerChangesTriggerReprojection=!0;this.projector=a;this.perplexity=30;this.learningRate=10;this.centroidValues={xLeft:null,xRight:null,yUp:null,yDown:null};this.clearCentroids();this.setupUIControls()};c.prototype.ready=function(){this.zDropdown=this.querySelector("#z-dropdown");this.runTsneButton=this.querySelector(".run-tsne");
this.pauseTsneButton=this.querySelector(".pause-tsne");this.perturbTsneButton=this.querySelector(".perturb-tsne");this.perplexitySlider=this.querySelector("#perplexity-slider");this.learningRateInput=this.querySelector("#learning-rate-slider");this.superviseFactorInput=this.querySelector("#supervise-factor-slider");this.iterationLabel=this.querySelector(".run-tsne-iter")};c.prototype.disablePolymerChangesTriggerReprojection=function(){this.polymerChangesTriggerReprojection=!1};c.prototype.enablePolymerChangesTriggerReprojection=
function(){this.polymerChangesTriggerReprojection=!0};c.prototype.updateTSNEPerplexityFromSliderChange=function(){this.perplexitySlider&&(this.perplexity=+this.perplexitySlider.value);this.querySelector(".tsne-perplexity span").innerText=""+this.perplexity};c.prototype.updateTSNELearningRateFromUIChange=function(){this.learningRateInput&&(this.learningRate=Math.pow(10,+this.learningRateInput.value));this.querySelector(".tsne-learning-rate span").innerText=""+this.learningRate};c.prototype.updateTSNESuperviseFactorFromUIChange=
function(){this.querySelector(".tsne-supervise-factor span").innerText=""+this.superviseFactor;this.dataSet&&this.dataSet.setSuperviseFactor(this.superviseFactor)};c.prototype.setupUIControls=function(){for(var a=this,b=this,c=this.querySelectorAll(".ink-tab"),d=0;d<c.length;d++)c[d].addEventListener("click",function(){var a=this.getAttribute("data-tab");b.showTab(a)});this.runTsneButton.addEventListener("click",function(){a.dataSet.hasTSNERun?a.dataSet.stopTSNE():a.runTSNE()});this.pauseTsneButton.addEventListener("click",
function(){a.dataSet.tSNEShouldPause?(a.dataSet.tSNEShouldPause=!1,a.pauseTsneButton.innerText="Pause"):(a.dataSet.tSNEShouldPause=!0,a.pauseTsneButton.innerText="Resume")});this.perturbTsneButton.addEventListener("mousedown",function(){a.dataSet&&a.projector&&(a.dataSet.perturbTsne(),a.projector.notifyProjectionPositionsUpdated(),a.perturbInterval=setInterval(function(){a.dataSet.perturbTsne();a.projector.notifyProjectionPositionsUpdated()},100))});this.perturbTsneButton.addEventListener("mouseup",
function(){clearInterval(a.perturbInterval)});this.perplexitySlider.value=this.perplexity.toString();this.perplexitySlider.addEventListener("change",function(){return a.updateTSNEPerplexityFromSliderChange()});this.updateTSNEPerplexityFromSliderChange();this.learningRateInput.addEventListener("change",function(){return a.updateTSNELearningRateFromUIChange()});this.updateTSNELearningRateFromUIChange();this.superviseFactorInput.addEventListener("change",function(){return a.updateTSNESuperviseFactorFromUIChange()});
this.updateTSNESuperviseFactorFromUIChange();this.setupCustomProjectionInputFields();c=this.querySelectorAll("paper-dropdown-menu paper-input input");for(d=0;d<c.length;d++)c[d].style.fontSize="14px"};c.prototype.restoreUIFromBookmark=function(a){this.disablePolymerChangesTriggerReprojection();this.pcaX=a.pcaComponentDimensions[0];this.pcaY=a.pcaComponentDimensions[1];3===a.pcaComponentDimensions.length&&(this.pcaZ=a.pcaComponentDimensions[2]);this.pcaIs3d=3===a.pcaComponentDimensions.length;this.perplexitySlider&&
(this.perplexitySlider.value=a.tSNEPerplexity.toString());this.learningRateInput&&(this.learningRateInput.value=a.tSNELearningRate.toString());this.tSNEis3d=a.tSNEis3d;this.customSelectedSearchByMetadataOption=a.customSelectedSearchByMetadataOption;this.customProjectionXLeftInput&&this.customProjectionXLeftInput.set(a.customXLeftText,a.customXLeftRegex);this.customProjectionXRightInput&&this.customProjectionXRightInput.set(a.customXRightText,a.customXRightRegex);this.customProjectionYUpInput&&this.customProjectionYUpInput.set(a.customYUpText,
a.customYUpRegex);this.customProjectionYDownInput&&this.customProjectionYDownInput.set(a.customYDownText,a.customYDownRegex);this.computeAllCentroids();this.setZDropdownEnabled(this.pcaIs3d);this.updateTSNEPerplexityFromSliderChange();this.updateTSNELearningRateFromUIChange();this.iterationLabel&&(this.iterationLabel.innerText=a.tSNEIteration.toString());null!=a.selectedProjection&&this.showTab(a.selectedProjection);this.enablePolymerChangesTriggerReprojection()};c.prototype.populateBookmarkFromUI=
function(a){this.disablePolymerChangesTriggerReprojection();a.pcaComponentDimensions=[this.pcaX,this.pcaY];this.pcaIs3d&&a.pcaComponentDimensions.push(this.pcaZ);null!=this.perplexitySlider&&(a.tSNEPerplexity=+this.perplexitySlider.value);null!=this.learningRateInput&&(a.tSNELearningRate=+this.learningRateInput.value);a.tSNEis3d=this.tSNEis3d;a.customSelectedSearchByMetadataOption=this.customSelectedSearchByMetadataOption;null!=this.customProjectionXLeftInput&&(a.customXLeftText=this.customProjectionXLeftInput.getValue(),
a.customXLeftRegex=this.customProjectionXLeftInput.getInRegexMode());null!=this.customProjectionXRightInput&&(a.customXRightText=this.customProjectionXRightInput.getValue(),a.customXRightRegex=this.customProjectionXRightInput.getInRegexMode());null!=this.customProjectionYUpInput&&(a.customYUpText=this.customProjectionYUpInput.getValue(),a.customYUpRegex=this.customProjectionYUpInput.getInRegexMode());null!=this.customProjectionYDownInput&&(a.customYDownText=this.customProjectionYDownInput.getValue(),
a.customYDownRegex=this.customProjectionYDownInput.getInRegexMode());this.enablePolymerChangesTriggerReprojection()};c.prototype.setZDropdownEnabled=function(a){this.zDropdown&&(a?this.zDropdown.removeAttribute("disabled"):this.zDropdown.setAttribute("disabled","true"))};c.prototype.dataSetUpdated=function(b,c,d){this.dataSet=b;this.originalDataSet=c;this.dim=d;c=null==b?0:b.points.length;this.perplexitySlider.value=Math.max(5,Math.ceil(Math.sqrt(c)/4)).toString();this.updateTSNEPerplexityFromSliderChange();
this.clearCentroids();this.querySelector("#tsne-sampling").style.display=c>a.TSNE_SAMPLE_SIZE?null:"none";b=null==b?!1:b.dim[0]>a.PCA_SAMPLE_DIM||b.dim[1]>a.PCA_SAMPLE_DIM;this.querySelector("#pca-sampling").style.display=b?null:"none";this.showTab("pca")};c.prototype._pcaDimensionToggleObserver=function(){this.setZDropdownEnabled(this.pcaIs3d);this.beginProjection(this.currentProjection)};c.prototype._tsneDimensionToggleObserver=function(){this.beginProjection(this.currentProjection)};c.prototype.metadataChanged=
function(a){var b=-1;this.searchByMetadataOptions=a.stats.map(function(a,c){a.isNumeric||-1!==b||(b=c);return a.name});this.customSelectedSearchByMetadataOption=this.searchByMetadataOptions[Math.max(0,b)]};c.prototype.showTab=function(b){var c=this;this.currentProjection=b;for(var d=this.querySelector('.ink-tab[data-tab\x3d"'+b+'"]'),e=this.querySelectorAll(".ink-tab"),l=0;l<e.length;l++)a.util.classed(e[l],"active",!1);a.util.classed(d,"active",!0);d=this.querySelectorAll(".ink-panel-content");for(l=
0;l<d.length;l++)a.util.classed(d[l],"active",!1);a.util.classed(this.querySelector('.ink-panel-content[data-panel\x3d"'+b+'"]'),"active",!0);if(null!=this.$){var m=this.$.main;requestAnimationFrame(function(){c.style.height=m.clientHeight+"px"})}this.beginProjection(b)};c.prototype.beginProjection=function(a){!1!==this.polymerChangesTriggerReprojection&&("pca"===a?(null!=this.dataSet&&this.dataSet.stopTSNE(),this.showPCA()):"tsne"===a?this.showTSNE():"custom"===a&&(null!=this.dataSet&&this.dataSet.stopTSNE(),
this.computeAllCentroids(),this.reprojectCustom()))};c.prototype.showTSNE=function(){var b=this.dataSet;if(null!=b){var c=a.getProjectionComponents("tsne",[0,1,this.tSNEis3d?2:null]);b=new a.Projection("tsne",c,this.tSNEis3d?3:2,b);this.projector.setProjection(b);this.dataSet.hasTSNERun?this.projector.notifyProjectionPositionsUpdated():this.runTSNE()}};c.prototype.runTSNE=function(){var a=this,b=!1;this.runTsneButton.innerText="Stop";this.runTsneButton.disabled=!0;this.pauseTsneButton.innerText="Pause";
this.pauseTsneButton.disabled=!0;this.perturbTsneButton.disabled=!1;this.dataSet.projectTSNE(this.perplexity,this.learningRate,this.tSNEis3d?3:2,function(c){null!=c?(a.runTsneButton.disabled=!1,a.pauseTsneButton.disabled=!1,a.iterationLabel.innerText=""+c,a.projector.notifyProjectionPositionsUpdated(),!b&&a.dataSet.projections.tsne&&(a.projector.onProjectionChanged(),b=!0)):(a.runTsneButton.innerText="Re-run",a.runTsneButton.disabled=!1,a.pauseTsneButton.innerText="Pause",a.pauseTsneButton.disabled=
!0,a.perturbTsneButton.disabled=!0,a.projector.onProjectionChanged())})};c.prototype.showPCAIfEnabled=function(){this.polymerChangesTriggerReprojection&&this.showPCA()};c.prototype.updateTotalVarianceMessage=function(){var a=this.dataSet.fracVariancesExplained,b=a[this.pcaX]+a[this.pcaY];this.pcaIs3d&&(b+=a[this.pcaZ]);a="Total variance described: "+((100*b).toFixed(1)+"%.");this.querySelector("#total-variance").innerHTML=a};c.prototype.showPCA=function(){var b=this;null!=this.dataSet&&this.dataSet.projectPCA().then(function(){var c=
a.getProjectionComponents("pca",[b.pcaX,b.pcaY,b.pcaZ]);c=new a.Projection("pca",c,b.pcaIs3d?3:2,b.dataSet);b.projector.setProjection(c);c=Math.min(10,b.dataSet.dim[1]);b.updateTotalVarianceMessage();b.pcaComponents=a.util.range(c).map(function(a){return{id:a,componentNumber:a+1,percVariance:(100*b.dataSet.fracVariancesExplained[a]).toFixed(1)}})})};c.prototype.reprojectCustom=function(){if(null!=this.centroids&&null!=this.centroids.xLeft&&null!=this.centroids.xRight&&null!=this.centroids.yUp&&null!=
this.centroids.yDown){var b=a.vector.sub(this.centroids.xRight,this.centroids.xLeft);this.dataSet.projectLinear(b,"linear-x");b=a.vector.sub(this.centroids.yUp,this.centroids.yDown);this.dataSet.projectLinear(b,"linear-y");b=a.getProjectionComponents("custom",["x","y"]);b=new a.Projection("custom",b,2,this.dataSet);this.projector.setProjection(b)}};c.prototype.clearCentroids=function(){this.centroids={xLeft:null,xRight:null,yUp:null,yDown:null};this.allCentroid=null};c.prototype._customSelectedSearchByMetadataOptionChanged=
function(){!1!==this.polymerChangesTriggerReprojection&&"custom"===this.currentProjection&&(this.computeAllCentroids(),this.reprojectCustom())};c.prototype.setupCustomProjectionInputFields=function(){this.customProjectionXLeftInput=this.setupCustomProjectionInputField("xLeft");this.customProjectionXRightInput=this.setupCustomProjectionInputField("xRight");this.customProjectionYUpInput=this.setupCustomProjectionInputField("yUp");this.customProjectionYDownInput=this.setupCustomProjectionInputField("yDown")};
c.prototype.computeAllCentroids=function(){this.computeCentroid("xLeft");this.computeCentroid("xRight");this.computeCentroid("yUp");this.computeCentroid("yDown")};c.prototype.computeCentroid=function(b){var c=this.querySelector("#"+b);if(null!=c){var d=c.getValue();if(null!=d){var e=this.getCentroid(d,c.getInRegexMode());0===e.numMatches?(c.message="0 matches. Using a random vector.",e.centroid=a.vector.rn(this.dim)):c.message=e.numMatches+" matches.";this.centroids[b]=e.centroid;this.centroidValues[b]=
d}}};c.prototype.setupCustomProjectionInputField=function(a){var b=this,c=this.querySelector("#"+a);c.registerInputChangedListener(function(){b.polymerChangesTriggerReprojection&&(b.computeCentroid(a),b.reprojectCustom())});return c};c.prototype.getCentroid=function(b,c){var d=this;if(null==b||""===b)return{numMatches:0};b=this.originalDataSet.query(b,c,this.customSelectedSearchByMetadataOption);return{centroid:a.vector.centroid(b,function(a){return d.originalDataSet.points[a].vector}),numMatches:b.length}};
c.prototype.getPcaSampledDimText=function(){return a.PCA_SAMPLE_DIM.toLocaleString()};c.prototype.getPcaSampleSizeText=function(){return a.PCA_SAMPLE_SIZE.toLocaleString()};c.prototype.getTsneSampleSizeText=function(){return a.TSNE_SAMPLE_SIZE.toLocaleString()};return c}(a.ProjectionsPanelPolymer);a.ProjectionsPanel=b;document.registerElement(b.prototype.is,b)})(W||(W={}));
</script>
</dom-module>


<dom-module id="vz-projector">
<template>


<paper-dialog id="notification-dialog" modal="" class="style-scope vz-projector">
  <h2 id="notification-title" class="style-scope vz-projector"></h2>
  <paper-dialog-scrollable class="style-scope vz-projector">
    <div id="notify-msgs" class="style-scope vz-projector"></div>
  </paper-dialog-scrollable>
  <div style="text-align: center;" class="style-scope vz-projector"><paper-spinner-lite active="" class="progress style-scope vz-projector"></paper-spinner-lite></div>
  <div class="buttons style-scope vz-projector">
    <paper-button class="close-button style-scope vz-projector" dialog-confirm="" autofocus="">Close</paper-button>
  </div>
</paper-dialog>
<div id="container" class="style-scope vz-projector">
  <div id="left-pane" class="ink-panel style-scope vz-projector">
    <vz-projector-data-panel id="data-panel" class="style-scope vz-projector"></vz-projector-data-panel>
    <vz-projector-projections-panel id="projections-panel" class="style-scope vz-projector"></vz-projector-projections-panel>
  </div>
  <div id="main" class="ink-panel style-scope vz-projector">
    <div class="ink-panel-menubar style-scope vz-projector">
      <paper-icon-button id="selectMode" alt="Bounding box selection" toggles="" icon="image:photo-size-select-small" class="style-scope vz-projector"></paper-icon-button>
      <paper-tooltip for="selectMode" position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector">Bounding box selection</paper-tooltip>

      <paper-icon-button id="editMode" alt="Edit current selection" toggles="" icon="image:exposure" class="style-scope vz-projector"></paper-icon-button>
      <paper-tooltip for="editMode" position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector">Edit current selection</paper-tooltip>

      <paper-icon-button id="nightDayMode" alt="Enable/disable night mode" toggles="" icon="image:brightness-2" class="style-scope vz-projector"></paper-icon-button>
      <paper-tooltip for="nightDayMode" position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector">Enable/disable night mode</paper-tooltip>

      <paper-icon-button id="labels3DMode" alt="Enable/disable 3D labels mode" toggles="" icon="font-download" class="style-scope vz-projector"></paper-icon-button>
      <paper-tooltip for="labels3DMode" position="bottom" animation-delay="0" fit-to-visible-bounds="" class="style-scope vz-projector">Enable/disable 3D labels mode</paper-tooltip>
      <div class="status-bar-panel style-scope vz-projector">
        <div class="status-bar-entry style-scope vz-projector">Points: <span class="numDataPoints style-scope vz-projector">Loading...</span></div>
        <div class="status-bar-entry style-scope vz-projector">Dimension: <span class="dim style-scope vz-projector">Loading...</span></div>
        <div id="status-bar" class="status-bar-entry style-scope vz-projector" style="display: none;"></div>
      </div>
      <div class="ink-fabs style-scope vz-projector">
        <paper-icon-button id="reset-zoom" class="ink-fab style-scope vz-projector" alt="Reset zoom to fit all points" icon="home"></paper-icon-button>
        <paper-tooltip for="reset-zoom" position="left" animation-delay="0" class="style-scope vz-projector">Reset zoom to fit all points</paper-tooltip>
      </div>
    </div>
    <div class="stage style-scope vz-projector">
      <div id="scatter" class="style-scope vz-projector">
        <svg id="selector" class="style-scope vz-projector"></svg>
      </div>
      <vz-projector-metadata-card id="metadata-card" class="style-scope vz-projector"></vz-projector-metadata-card>
      <paper-icon-button raised="" onclick="help3dDialog.open()" icon="help-outline" id="help-3d-icon" class="style-scope vz-projector"></paper-icon-button>
      <paper-tooltip animation-delay="0" for="help-3d-icon" class="style-scope vz-projector">Help with interaction controls.</paper-tooltip>
      <paper-dialog id="help3dDialog" with-backdrop="" class="style-scope vz-projector">
        <div class="main style-scope vz-projector" dialog-confirm="" autofocus="">
          <h3 class="style-scope vz-projector">3D controls</h3>
            <b class="style-scope vz-projector">Rotate</b> Mouse left click.<br class="style-scope vz-projector">
            <b class="style-scope vz-projector">Pan</b> Mouse right click.<br class="style-scope vz-projector">
            <b class="style-scope vz-projector">Zoom</b> Mouse wheel.<br class="style-scope vz-projector">
            Holding <b class="style-scope vz-projector">ctrl</b> reverses the mouse clicks.
          <h3 class="style-scope vz-projector">2D controls</h3>
            <b class="style-scope vz-projector">Pan</b> Mouse left click.<br class="style-scope vz-projector">
            <b class="style-scope vz-projector">Zoom</b> Mouse wheel.
          <div class="dismiss-dialog-note style-scope vz-projector"> Click anywhere to dismiss.</div>
        </div>
      </paper-dialog>
    </div>
  </div>
  <div id="right-pane" class="ink-panel style-scope vz-projector">
    <div class="ink-panel-content active style-scope vz-projector">
      <vz-projector-inspector-panel id="inspector-panel" class="style-scope vz-projector"></vz-projector-inspector-panel>
    </div>
    <div id="bookmark-panel-container" class="style-scope vz-projector">
      <vz-projector-bookmark-panel id="bookmark-panel" class="style-scope vz-projector"></vz-projector-bookmark-panel>
    </div>
  </div>
</div>
<paper-toast id="toast" always-on-top="" class="style-scope vz-projector"></paper-toast>

</template> 
<script>//~~WEBPATH~~/vz-projector/vz-projector.js
Oa=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}();
(function(a){a.ProjectorPolymer=a.PolymerElement({is:"vz-projector",properties:{routePrefix:String,dataProto:{type:String,observer:"_dataProtoChanged"},servingMode:String,projectorConfigJsonPath:String,pageViewLogging:Boolean,eventLogging:Boolean}});var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}Oa(c,b);c.prototype.ready=function(){a.logging.setDomContainer(this);this.analyticsLogger=new a.AnalyticsLogger(this.pageViewLogging,this.eventLogging);this.analyticsLogger.logPageView();
a.util.hasWebGLSupport()?(this.selectionChangedListeners=[],this.hoverListeners=[],this.projectionChangedListeners=[],this.distanceMetricChangedListeners=[],this.selectedPointIndices=[],this.neighborsOfFirstPoint=[],this.editMode=!1,this.dataPanel=this.$["data-panel"],this.inspectorPanel=this.$["inspector-panel"],this.inspectorPanel.initialize(this,this),this.projectionsPanel=this.$["projections-panel"],this.projectionsPanel.initialize(this),this.bookmarkPanel=this.$["bookmark-panel"],this.bookmarkPanel.initialize(this,
this),this.metadataCard=this.$["metadata-card"],this.statusBar=this.querySelector("#status-bar"),this.scopeSubtree(this.$$("#notification-dialog"),!0),this.setupUIControls(),this.initializeDataProvider()):(this.analyticsLogger.logWebGLDisabled(),a.logging.setErrorMessage("Your browser or device does not have WebGL enabled. Please enable hardware acceleration, or use a browser that supports WebGL."))};c.prototype.setSelectedLabelOption=function(a){this.selectedLabelOption=a;this.metadataCard.setLabelOption(this.selectedLabelOption);
this.projectorScatterPlotAdapter.setLabelPointAccessor(a);this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.projectorScatterPlotAdapter.render()};c.prototype.setSelectedColorOption=function(a){this.selectedColorOption=a;this.projectorScatterPlotAdapter.setLegendPointColorer(this.getLegendPointColorer(a));this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.projectorScatterPlotAdapter.render()};c.prototype.setNormalizeData=function(a){this.normalizeData=a;this.setCurrentDataSet(this.originalDataSet.getSubset())};
c.prototype.updateDataSet=function(a,b,c){this.dataSetFilterIndices=null;this.originalDataSet=a;if(null!=a){this.normalizeData=50<=this.originalDataSet.dim[1];b=b||{};if(null==b.pointsInfo){var d=this.makeDefaultPointsInfoAndStats(a.points),e=d[1];b.pointsInfo=d[0];b.stats=e}if(!a.mergeMetadata(b))return}null!=this.projectorScatterPlotAdapter&&(null==a?(this.projectorScatterPlotAdapter.setLabelPointAccessor(null),this.setProjection(null)):(this.projectorScatterPlotAdapter.updateScatterPlotPositions(),
this.projectorScatterPlotAdapter.updateScatterPlotAttributes(),this.projectorScatterPlotAdapter.resize(),this.projectorScatterPlotAdapter.render()));null!=a?(this.dataPanel.setNormalizeData(this.normalizeData),this.setCurrentDataSet(a.getSubset()),this.projectorScatterPlotAdapter.setLabelPointAccessor(this.selectedLabelOption),this.inspectorPanel.datasetChanged(),this.inspectorPanel.metadataChanged(b),this.projectionsPanel.metadataChanged(b),this.dataPanel.metadataChanged(b,c)):this.setCurrentDataSet(null)};
c.prototype.metadataEdit=function(b,c){var d=this;this.selectedPointIndices.forEach(function(a){return d.dataSet.points[a].metadata[b]=c});this.neighborsOfFirstPoint.forEach(function(a){return d.dataSet.points[a.index].metadata[b]=c});this.dataSet.spriteAndMetadataInfo.stats=a.analyzeMetadata(this.dataSet.spriteAndMetadataInfo.stats.map(function(a){return a.name}),this.dataSet.points.map(function(a){return a.metadata}));this.metadataChanged(this.dataSet.spriteAndMetadataInfo);this.metadataEditorContext(!0,
b)};c.prototype.metadataChanged=function(a,b){null!=b&&(this.metadataFile=b);this.dataSet.spriteAndMetadataInfo=a;this.projectionsPanel.metadataChanged(a);this.inspectorPanel.metadataChanged(a);this.dataPanel.metadataChanged(a,this.metadataFile);0<this.selectedPointIndices.length?this.metadataCard.updateMetadata(this.dataSet.points[this.selectedPointIndices[0]].metadata):this.metadataCard.updateMetadata(null);this.setSelectedLabelOption(this.selectedLabelOption)};c.prototype.metadataEditorContext=
function(a,b){this.inspectorPanel&&this.inspectorPanel.metadataEditorContext(a,b)};c.prototype.setSelectedTensor=function(a,b){this.bookmarkPanel.setSelectedTensor(a,b,this.dataProvider)};c.prototype.registerSelectionChangedListener=function(a){this.selectionChangedListeners.push(a)};c.prototype.filterDataset=function(b){var c=this.selectedPointIndices.length;null==this.dataSetBeforeFilter&&(this.dataSetBeforeFilter=this.dataSet);this.setCurrentDataSet(this.dataSet.getSubset(b));this.dataSetFilterIndices=
b;this.projectorScatterPlotAdapter.updateScatterPlotPositions();this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.adjustSelectionAndHover(a.util.range(c))};c.prototype.resetFilterDataset=function(){var a=this,b=this.selectedPointIndices.map(function(b){return a.dataSet.points[b].index});this.setCurrentDataSet(this.dataSetBeforeFilter);null!=this.projection&&(this.projection.dataSet=this.dataSetBeforeFilter);this.dataSetBeforeFilter=null;this.projectorScatterPlotAdapter.updateScatterPlotPositions();
this.projectorScatterPlotAdapter.updateScatterPlotAttributes();this.dataSetFilterIndices=[];this.adjustSelectionAndHover(b)};c.prototype.notifySelectionChanged=function(a){var b=this,c=[];if(this.editMode&&0<a.length)if(1===this.selectedPointIndices.length){var d=this.dataSet.points[this.selectedPointIndices[0]].vector;c=this.neighborsOfFirstPoint.filter(function(b){return 0==a.filter(function(a){return a==b.index}).length});a.forEach(function(a){if(a!=b.selectedPointIndices[0]&&0==b.neighborsOfFirstPoint.filter(function(b){return b.index==
a}).length){for(var e=b.inspectorPanel.distFunc(d,b.dataSet.points[a].vector),f=0;f<c.length&&c[f].dist<e;)f+=1;c.splice(f,0,{index:a,dist:e})}})}else{var e=this.selectedPointIndices.filter(function(b){return 0==a.filter(function(a){return a==b}).length});a.forEach(function(a){0==b.selectedPointIndices.filter(function(b){return b==a}).length&&e.push(a)});this.selectedPointIndices=e;0<this.selectedPointIndices.length?this.metadataCard.updateMetadata(this.dataSet.points[this.selectedPointIndices[0]].metadata):
this.metadataCard.updateMetadata(null)}else this.selectedPointIndices=a,1===a.length?(c=this.dataSet.findNeighbors(a[0],this.inspectorPanel.distFunc,this.inspectorPanel.numNN),this.metadataCard.updateMetadata(this.dataSet.points[a[0]].metadata)):this.metadataCard.updateMetadata(null);this.selectionChangedListeners.forEach(function(a){return a(b.selectedPointIndices,c)})};c.prototype.registerHoverListener=function(a){this.hoverListeners.push(a)};c.prototype.notifyHoverOverPoint=function(a){this.hoverListeners.forEach(function(b){return b(a)})};
c.prototype.registerProjectionChangedListener=function(a){this.projectionChangedListeners.push(a)};c.prototype.notifyProjectionChanged=function(a){this.projectionChangedListeners.forEach(function(b){return b(a)})};c.prototype.registerDistanceMetricChangedListener=function(a){this.distanceMetricChangedListeners.push(a)};c.prototype.notifyDistanceMetricChanged=function(a){this.distanceMetricChangedListeners.forEach(function(b){return b(a)})};c.prototype._dataProtoChanged=function(a){a=a?JSON.parse(a):
null;this.initializeDataProvider(a)};c.prototype.makeDefaultPointsInfoAndStats=function(a){var b=[];a.forEach(function(a){var c={};c.__index__=a.index;b.push(c)});return[b,[{name:"__index__",isNumeric:!1,tooManyUniqueValues:!0,min:0,max:b.length-1}]]};c.prototype.initializeDataProvider=function(b){if("demo"===this.servingMode)b=a.util.getURLParams(),this.dataProvider=new a.DemoDataProvider("config"in b?b.config:this.projectorConfigJsonPath);else if("server"===this.servingMode){if(!this.routePrefix)throw"route-prefix is a required parameter";
this.dataProvider=new a.ServerDataProvider(this.routePrefix)}else if("proto"===this.servingMode&&null!=b)this.dataProvider=new a.ProtoDataProvider(b);else return;this.dataPanel.initialize(this,this.dataProvider)};c.prototype.getLegendPointColorer=function(a){var b=this;return null==a||null==a.map?null:function(c,d){c=c.points[d].metadata[b.selectedColorOption.name];return null==c?"black":a.map(c)}};c.prototype.get3DLabelModeButton=function(){return this.querySelector("#labels3DMode")};c.prototype.get3DLabelMode=
function(){return this.get3DLabelModeButton().active};c.prototype.adjustSelectionAndHover=function(b){this.notifySelectionChanged(b);this.notifyHoverOverPoint(void 0);this.setMouseMode(a.MouseMode.CAMERA_AND_CLICK_SELECT)};c.prototype.setMouseMode=function(b){this.querySelector("#selectMode").active=b===a.MouseMode.AREA_SELECT;this.projectorScatterPlotAdapter.scatterPlot.setMouseMode(b)};c.prototype.setCurrentDataSet=function(a){this.adjustSelectionAndHover([]);null!=this.dataSet&&this.dataSet.stopTSNE();
null!=a&&this.normalizeData&&a.normalize();this.dim=null==a?0:a.dim[1];this.querySelector("span.numDataPoints").innerText=null==a?"0":""+a.dim[0];this.querySelector("span.dim").innerText=null==a?"0":""+a.dim[1];this.dataSet=a;this.projectionsPanel.dataSetUpdated(this.dataSet,this.originalDataSet,this.dim);this.projectorScatterPlotAdapter.setDataSet(this.dataSet);this.projectorScatterPlotAdapter.scatterPlot.setCameraParametersForNextCameraCreation(null,!0)};c.prototype.setupUIControls=function(){var b=
this;this.querySelector("#reset-zoom").addEventListener("click",function(){b.projectorScatterPlotAdapter.scatterPlot.resetZoom();b.projectorScatterPlotAdapter.scatterPlot.startOrbitAnimation()});var c=this.querySelector("#selectMode");c.addEventListener("click",function(){b.setMouseMode(c.active?a.MouseMode.AREA_SELECT:a.MouseMode.CAMERA_AND_CLICK_SELECT)});var d=this.querySelector("#nightDayMode");d.addEventListener("click",function(){b.projectorScatterPlotAdapter.scatterPlot.setDayNightMode(d.active)});
var h=this.querySelector("#editMode");h.addEventListener("click",function(){b.editMode=h.active});this.get3DLabelModeButton().addEventListener("click",function(){b.projectorScatterPlotAdapter.set3DLabelMode(b.get3DLabelMode())});window.addEventListener("resize",function(){b.parentNode.style.height=document.body.clientHeight+"px";b.projectorScatterPlotAdapter.resize()});this.projectorScatterPlotAdapter=new a.ProjectorScatterPlotAdapter(this.getScatterContainer(),this);this.projectorScatterPlotAdapter.setLabelPointAccessor(this.selectedLabelOption);
this.projectorScatterPlotAdapter.scatterPlot.onCameraMove(function(){return b.bookmarkPanel.clearStateSelection()});this.registerHoverListener(function(a){return b.onHover(a)});this.registerProjectionChangedListener(function(a){return b.onProjectionChanged(a)});this.registerSelectionChangedListener(function(a,c){return b.onSelectionChanged(a,c)})};c.prototype.onHover=function(a){this.hoverPointIndex=a;var b=null;null!=a&&(a=this.dataSet.points[a],a.metadata[this.selectedLabelOption]&&(b=a.metadata[this.selectedLabelOption].toString()));
0===this.selectedPointIndices.length&&(this.statusBar.style.display=b?null:"none",this.statusBar.innerText=b)};c.prototype.getScatterContainer=function(){return this.querySelector("#scatter")};c.prototype.onSelectionChanged=function(a,b){this.selectedPointIndices=a;this.neighborsOfFirstPoint=b;this.dataPanel.onProjectorSelectionChanged(a,b);a=this.selectedPointIndices.length+b.length;this.statusBar.innerText="Selected "+a+" points";this.statusBar.style.display=0<a?null:"none"};c.prototype.onProjectionChanged=
function(a){this.dataPanel.projectionChanged(a)};c.prototype.setProjection=function(a){this.projection=a;null!=a&&this.analyticsLogger.logProjectionChanged(a.projectionType);this.notifyProjectionChanged(a)};c.prototype.notifyProjectionPositionsUpdated=function(){this.projectorScatterPlotAdapter.notifyProjectionPositionsUpdated()};c.prototype.getCurrentState=function(){var b=new a.State;b.projections=[];for(var c=0;c<this.dataSet.points.length;c++){for(var d=this.dataSet.points[c],h={},l=Object.keys(d.projections),
m=0;m<l.length;++m)h[l[m]]=d.projections[l[m]];b.projections.push(h)}b.selectedProjection=this.projection.projectionType;b.dataSetDimensions=this.dataSet.dim;b.tSNEIteration=this.dataSet.tSNEIteration;b.selectedPoints=this.selectedPointIndices;b.filteredPoints=this.dataSetFilterIndices;this.projectorScatterPlotAdapter.populateBookmarkFromUI(b);b.selectedColorOptionName=this.dataPanel.selectedColorOptionName;b.forceCategoricalColoring=this.dataPanel.forceCategoricalColoring;b.selectedLabelOption=this.selectedLabelOption;
this.projectionsPanel.populateBookmarkFromUI(b);return b};c.prototype.loadState=function(b){this.setProjection(null);this.projectionsPanel.disablePolymerChangesTriggerReprojection();null!=this.dataSetBeforeFilter&&this.resetFilterDataset();null!=b.filteredPoints&&this.filterDataset(b.filteredPoints);this.projectionsPanel.enablePolymerChangesTriggerReprojection();for(var c=0;c<b.projections.length;c++)for(var d=this.dataSet.points[c],e=b.projections[c],l=Object.keys(e),m=0;m<l.length;++m)d.projections[l[m]]=
e[l[m]];this.dataSet.hasTSNERun="tsne"===b.selectedProjection;this.dataSet.tSNEIteration=b.tSNEIteration;this.projectionsPanel.restoreUIFromBookmark(b);this.inspectorPanel.restoreUIFromBookmark(b);this.dataPanel.selectedColorOptionName=b.selectedColorOptionName;this.dataPanel.setForceCategoricalColoring(!!b.forceCategoricalColoring);this.selectedLabelOption=b.selectedLabelOption;this.projectorScatterPlotAdapter.restoreUIFromBookmark(b);c=a.stateGetAccessorDimensions(b);d=a.getProjectionComponents(b.selectedProjection,
c);e=new a.Projection(b.selectedProjection,d,c.length,this.dataSet);this.setProjection(e);this.notifySelectionChanged(b.selectedPoints)};return c}(a.ProjectorPolymer);a.Projector=b;document.registerElement(b.prototype.is,b)})(W||(W={}));
</script>
</dom-module>


<dom-module id="vz-projector-dashboard">
<template>
  <template is="dom-if" class="style-scope vz-projector-dashboard"></template>
  <template is="dom-if" class="style-scope vz-projector-dashboard"></template>
</template>
<script>//~~WEBPATH~~/vz-projector/vz-projector-dashboard.html.js
Polymer({is:"vz-projector-dashboard",properties:{dataNotFound:Boolean,_routePrefix:{type:String,value:function(){return u.getRouter().pluginRoute("projector","")}},_initialized:Boolean},reload:function(){},attached:function(){var a=this;if(!this._initialized){var b=new XMLHttpRequest;b.open("GET",this._routePrefix+"/runs");b.onload=function(){a._initialized=!0;var c=JSON.parse(b.responseText);a.set("dataNotFound",0===c.length)};b.onerror=function(){a.set("dataNotFound",!1)};b.send()}}});
$a.registerDashboard({plugin:"projector",elementName:"vz-projector-dashboard",isReloadDisabled:!0});
</script>
</dom-module>
























<dom-module id="tf-text-loader">
  <template>
    <tf-card-heading class="style-scope tf-text-loader">
    </tf-card-heading>
    <paper-material elevation="1" id="steps-container" class="container scrollbar style-scope tf-text-loader">
      <template is="dom-repeat" class="style-scope tf-text-loader"></template>
    </paper-material>
    
    
  </template>
  <script>//~~WEBPATH~~/tf-text-dashboard/tf-text-loader.html.js
Polymer({is:"tf-text-loader",properties:{run:String,tag:String,_runColor:{type:String,computed:"_computeRunColor(run)"},_texts:{type:Array,value:[]},requestManager:Object,_canceller:{type:Object,value:function(){return new u.Canceller}}},_computeRunColor:function(a){return Ta.runsColorScale(a)},attached:function(){this._attached=!0;this.reload()},reload:function(){var a=this;if(this._attached){this._canceller.cancelAll();var b=u.addParams(u.getRouter().pluginRoute("text","/text"),{tag:this.tag,run:this.run}),
c=this._canceller.cancellable(function(b){b.cancelled||(b=b.value.map(function(a){return{wall_time:new Date(1E3*a.wall_time),step:a.step,text:a.text}}),a.set("_texts",b.slice().reverse()))});this.requestManager.request(b).then(c)}},_formatStep:function(a){return d3.format(",")(a)}});
</script>
</dom-module>



<dom-module id="tf-text-dashboard">
  <template>
    <tf-dashboard-layout class="style-scope tf-text-dashboard">
      <div class="sidebar style-scope tf-text-dashboard">
        <div class="sidebar-section style-scope tf-text-dashboard">
          <tf-runs-selector class="style-scope tf-text-dashboard">
          </tf-runs-selector>
        </div>
      </div>
      <div class="center style-scope tf-text-dashboard">
        <template is="dom-if" class="style-scope tf-text-dashboard"></template>
        <template is="dom-if" class="style-scope tf-text-dashboard"></template>
      </div>
    </tf-dashboard-layout>
    
    
  </template>
  <script>//~~WEBPATH~~/tf-text-dashboard/tf-text-dashboard.html.js
Polymer({is:"tf-text-dashboard",properties:{_selectedRuns:Array,_runToTag:Object,_dataNotFound:Boolean,_tagFilter:String,_categoriesDomReady:Boolean,_categories:{type:Array,computed:"_makeCategories(_runToTag, _selectedRuns, _tagFilter, _categoriesDomReady)"},_requestManager:{type:Object,value:function(){return new u.RequestManager}}},ready:function(){this.reload()},reload:function(){var a=this;this._fetchTags().then(function(){a._reloadTexts()})},_shouldOpen:function(a){return 2>=a},_fetchTags:function(){var a=
this;return this._requestManager.request(u.getRouter().pluginRoute("text","/tags")).then(function(b){if(!_.isEqual(b,a._runToTag)){var c=u.getTags(b);a.set("_dataNotFound",0===c.length);a.set("_runToTag",b);a.async(function(){a.set("_categoriesDomReady",!0)})}})},_reloadTexts:function(){this.querySelectorAll("tf-text-loader").forEach(function(a){a.reload()})},_makeCategories:function(a,b,c){return Pa.categorizeRunTagCombinations(a,b,c)}});$a.registerDashboard({plugin:"text",elementName:"tf-text-dashboard"});
</script>
</dom-module>

























<dom-module id="tf-pr-curve-card">
  <template>
    <tf-card-heading class="style-scope tf-pr-curve-card"></tf-card-heading>

    <tf-line-chart-data-loader class="style-scope tf-pr-curve-card"></tf-line-chart-data-loader>

    <div id="buttons-row" class="style-scope tf-pr-curve-card">
      <paper-icon-button icon="fullscreen" class="style-scope tf-pr-curve-card"></paper-icon-button>
      <paper-icon-button icon="settings-overscan" title="Reset axes to [0, 1]." class="style-scope tf-pr-curve-card"></paper-icon-button>
    </div>

    <div id="step-legend" class="style-scope tf-pr-curve-card">
      <template is="dom-repeat" as="run" class="style-scope tf-pr-curve-card"></template>
    </div>

    
  </template>
  <script>//~~WEBPATH~~/tf-pr-curve-dashboard/tf-pr-curve-card.html.js
Polymer({is:"tf-pr-curve-card",properties:{runs:Array,tag:String,tagMetadata:Object,runToStepCap:Object,requestManager:Object,active:Boolean,_expanded:{type:Boolean,value:!1,reflectToAttribute:!0},_runToPrCurveEntry:{type:Object,value:function(){return{}}},_previousRunToPrCurveEntry:{type:Object,value:function(){return{}}},_runsWithStepAvailable:{type:Array,computed:"_computeRunsWithStepAvailable(runs, _runToPrCurveEntry)"},_setOfRelevantRuns:{type:Object,computed:"_computeSetOfRelevantRuns(_runsWithStepAvailable)"},
_runToDataOverTime:Object,_colorScaleFunction:{type:Object,value:function(){return{scale:Ta.runsColorScale}}},_canceller:{type:Object,value:function(){return new u.Canceller}},_attached:Boolean,_xComponentsCreationMethod:{type:Object,readOnly:!0,value:function(){return function(){var a=new Plottable.Scales.Linear;return{scale:a,axis:new Plottable.Axes.Numeric(a,"bottom"),accessor:function(a){return a.recall}}}}},_yValueAccessor:{type:Object,readOnly:!0,value:function(){return function(a){return a.precision}}},
_tooltipColumns:{type:Array,readOnly:!0,value:function(){function a(a){return isNaN(a)?"NaN":b(a)}var b=L.multiscaleFormatter(L.Y_TOOLTIP_FORMATTER_PRECISION);return[{title:"Run",evaluate:function(a){return a.dataset.metadata().name}},{title:"Threshold",evaluate:function(b){return a(b.datum.thresholds)}},{title:"Precision",evaluate:function(b){return a(b.datum.precision)}},{title:"Recall",evaluate:function(b){return a(b.datum.recall)}},{title:"TP",evaluate:function(a){return a.datum.true_positives}},
{title:"FP",evaluate:function(a){return a.datum.false_positives}},{title:"TN",evaluate:function(a){return a.datum.true_negatives}},{title:"FN",evaluate:function(a){return a.datum.false_negatives}}]}},_seriesDataFields:{type:Array,value:"thresholds precision recall true_positives false_positives true_negatives false_negatives".split(" "),readOnly:!0},_defaultXRange:{type:Array,value:[-.05,1.05],readOnly:!0},_defaultYRange:{type:Array,value:[-.05,1.05],readOnly:!0},_dataUrl:{type:Function,value:function(){var a=
this;return function(b){return u.addParams(u.getRouter().pluginRoute("pr_curves","/pr_curves"),{tag:a.tag,run:b})}}},_smoothingEnabled:{type:Boolean,value:!1,readOnly:!0}},observers:["reload(runs, tag)","_setChartData(_runToPrCurveEntry, _previousRunToPrCurveEntry, _setOfRelevantRuns)","_updateRunToPrCurveEntry(_runToDataOverTime, runToStepCap)"],_createProcessDataFunction:function(){var a=this;return function(b,c,d){a.set("_runToDataOverTime",Object.assign({},a._runToDataOverTime,d))}},_computeRunColor:function(a){return this._colorScaleFunction.scale(a)},
attached:function(){this._attached=!0;this.reload()},reload:function(){this._attached&&(0===this.runs.length?this.set("_runToDataOverTime",{}):this.$$("tf-line-chart-data-loader").reload())},_setChartData:function(a,b,c){var d=this;_.forOwn(a,function(e,f){var g=b[f];g&&a[f].step===g.step||(c[f]?d._updateSeriesDataForRun(f,e):d._clearSeriesData(f))})},_updateSeriesDataForRun:function(a,b){for(var c=_.reduce(this._seriesDataFields,function(a,c){a[c]=b[c].slice().reverse();return a},{}),d=Array(c[this._seriesDataFields[0]].length),
e={i:0};e.i<d.length;e={i:e.i},e.i++)d[e.i]=_.mapValues(c,function(a){return function(b){return b[a.i]}}(e));this.$$("tf-line-chart-data-loader").setSeriesData(a,d)},_clearSeriesData:function(a){this.$$("tf-line-chart-data-loader").setSeriesData(a,[])},_updateRunToPrCurveEntry:function(a,b){var c=this,d={};_.forOwn(a,function(a,f){a&&a.length&&(d[f]=c._computeEntryClosestOrEqualToStepCap(b[f],a))});this.set("_previousRunToPrCurveEntry",this._runToPrCurveEntry);this.set("_runToPrCurveEntry",d)},_computeEntryClosestOrEqualToStepCap:function(a,
b){a=Math.min(_.sortedIndex(b.map(function(a){return a.step}),a),b.length-1);return b[a]},_computeRunsWithStepAvailable:function(a,b){return _.filter(a,function(a){return b[a]}).sort()},_computeSetOfRelevantRuns:function(a){var b={};_.forEach(a,function(a){b[a]=!0});return b},_computeCurrentStepForRun:function(a,b){return(a=a[b])?a.step:null},_computeCurrentWallTimeForRun:function(a,b){return(a=a[b])?(new Date(1E3*a.wall_time)).toString():null},_toggleExpanded:function(){this.set("_expanded",!this._expanded);
this.redraw()},_resetDomain:function(){this.$$("tf-line-chart-data-loader").resetDomain()},redraw:function(){this.$$("tf-line-chart-data-loader").redraw()}});
</script>
</dom-module>








<dom-module id="tf-pr-curve-steps-selector">
  <template>
    <template is="dom-repeat" as="run" class="style-scope tf-pr-curve-steps-selector"></template>
    
  </template>
  <script>//~~WEBPATH~~/tf-pr-curve-dashboard/tf-pr-curve-steps-selector.html.js
Polymer({is:"tf-pr-curve-steps-selector",properties:{runs:Array,runToAvailableTimeEntries:Object,runToStep:{type:Object,notify:!0,computed:"_computeRunToStep(runToAvailableTimeEntries, _runToStepIndex)"},timeDisplayType:String,_runToStepIndex:{type:Object,value:function(){return{}}},_runsWithSliders:{type:Array,computed:"_computeRunsWithSliders(runs, runToAvailableTimeEntries)"}},listeners:{"value-change":"_sliderValueChanged","immediate-value-change":"_sliderValueChanged"},observers:["_updateStepsForNewRuns(runs, runToAvailableTimeEntries, _runToStepIndex)"],
_computeColorForRun:function(a){return Ta.runsColorScale(a)},_computeTimeTextForRun:function(a,b,c,d){b=b[c];if(!_.isNumber(b))return"";a=a[c];if(!a)return"";a=a[b][d];if("step"===d)return"step "+a;if("relative"===d)return 1>a?(1E3*a).toFixed(2)+" ms":a.toFixed(2)+" s";if("wall_time"===d)return(new Date(1E3*a)).toString();throw Error("The display type of "+d+" is not recognized.");},_sliderValueChanged:function(a){var b=a.target.dataset.run,c=_.clone(this._runToStepIndex);c[b]=a.target.immediateValue;
this.set("_runToStepIndex",c)},_computeMaxStepIndexForRun:function(a,b){return(a=a[b])&&a.length?a.length-1:0},_updateStepsForNewRuns:function(a,b,c){var d=this,e={},f=!1;_.forOwn(b,function(a,b){_.isNumber(c[b])?e[b]=c[b]:(e[b]=a.length-1,f=!0)});f&&this.set("_runToStepIndex",e);this.async(function(){d._updateSliders(e)})},_updateSliders:function(a){for(var b=this.querySelectorAll("paper-slider"),c=0;c<b.length;c++)b[c].value=a[b[c].dataset.run]},_computeRunToStep:function(a,b){var c={};_.forOwn(b,
function(b,e){var d=a[e];d&&(c[e]=d[b].step)});return c},_computeRunsWithSliders:function(a,b){return a.filter(function(a){return b[a]})}});
</script>
</dom-module>



<dom-module id="tf-pr-curve-dashboard">
  <template>
    <tf-dashboard-layout class="style-scope tf-pr-curve-dashboard">
      <div class="sidebar style-scope tf-pr-curve-dashboard">
        <div class="sidebar-section style-scope tf-pr-curve-dashboard">
          <tf-option-selector id="time-type-selector" name="Time Display Type" class="style-scope tf-pr-curve-dashboard">
            <paper-button id="step" class="style-scope tf-pr-curve-dashboard">step</paper-button><paper-button id="relative" class="style-scope tf-pr-curve-dashboard">relative</paper-button><paper-button id="wall_time" class="style-scope tf-pr-curve-dashboard">wall</paper-button>
          </tf-option-selector>
        </div>
        <template is="dom-if" class="style-scope tf-pr-curve-dashboard"></template>
        <div class="sidebar-section style-scope tf-pr-curve-dashboard">
          <tf-runs-selector class="style-scope tf-pr-curve-dashboard">
          </tf-runs-selector>
        </div>
       </div>
      
      <div class="center style-scope tf-pr-curve-dashboard">
        <template is="dom-if" class="style-scope tf-pr-curve-dashboard"></template>
        <template is="dom-if" class="style-scope tf-pr-curve-dashboard"></template>
      </div>
    </tf-dashboard-layout>

    
    
  </template>

  <script>//~~WEBPATH~~/tf-pr-curve-dashboard/tf-pr-curve-dashboard.html.js
Polymer({is:"tf-pr-curve-dashboard",properties:{_timeDisplayType:{type:String,value:"step"},_selectedRuns:Array,_runToTagInfo:Object,_runToAvailableTimeEntries:{type:Object,value:{}},_relevantSelectedRuns:{type:Array,computed:"_computeRelevantSelectedRuns(_selectedRuns, _runToTagInfo)"},_runsWithPrCurveData:Array,_runToStep:{type:Object,notify:!0},_dataNotFound:Boolean,_tagFilter:String,_categoriesDomReady:Boolean,_categories:{type:Array,computed:"_makeCategories(_runToTagInfo, _selectedRuns, _tagFilter, _categoriesDomReady)"},
_requestManager:{type:Object,value:function(){return new u.RequestManager}},_step:{type:Number,value:0,notify:!0}},ready:function(){this.reload()},reload:function(){var a=this;Promise.all([this._fetchTags(),this._fetchTimeEntriesPerRun()]).then(function(){a._reloadCards()})},_shouldOpen:function(a){return 2>=a},_fetchTags:function(){var a=this;return this._requestManager.request(u.getRouter().pluginRoute("pr_curves","/tags")).then(function(b){if(!_.isEqual(b,a._runToTagInfo)){var c=_.mapValues(b,
function(a){return _.keys(a)});c=u.getTags(c);a.set("_dataNotFound",0===c.length);a.set("_runToTagInfo",b);a.async(function(){a.set("_categoriesDomReady",!0)})}})},_fetchTimeEntriesPerRun:function(){var a=this;return this._requestManager.request(u.getRouter().pluginRoute("pr_curves","/available_time_entries")).then(function(b){_.forOwn(b,function(a){_.forEach(a,function(b){b.relative=b.wall_time-a[0].wall_time})});a.set("_runToAvailableTimeEntries",b);b=_.keys(b).slice().sort();_.isEqual(b,a._runsWithPrCurveData)||
a.set("_runsWithPrCurveData",b)})},_reloadCards:function(){_.forEach(this.querySelectorAll("tf-pr-curve-card"),function(a){a.reload()})},_makeCategories:function(a,b,c){a=_.mapValues(a,function(a){return Object.keys(a)});return Pa.categorizeTags(a,b,c)},_computeColorForRun:function(a){return Ta.runsColorScale(a)},_computeRelevantSelectedRuns:function(a,b){return a.filter(function(a){return b[a]})},_tagMetadata:function(a,b,c){var d={};b.forEach(function(b){d[b]=a[b][c]});b=c.replace(/\/pr_curves$/,
"");return ab.aggregateTagInfo(d,b)}});$a.registerDashboard({plugin:"pr_curves",elementName:"tf-pr-curve-dashboard",tabName:"PR Curves"});
</script>
</dom-module>












<dom-module id="input-pipeline-analyzer">
  <template>
    
    <div class="style-scope input-pipeline-analyzer">
      <div id="section_summary" class="style-scope input-pipeline-analyzer">
        <div id="title_summary" class="style-scope input-pipeline-analyzer">
          <p class="section-header style-scope input-pipeline-analyzer"> Section 1: Summary of input-pipeline analysis
        </p></div>
        <p class="style-scope input-pipeline-analyzer"><span id="summary_conclusion" class="style-scope input-pipeline-analyzer"> </span>
        </p><p class="style-scope input-pipeline-analyzer"><span id="recommendation_title" class="style-scope input-pipeline-analyzer">Recommendation for next step: </span><span id="summary_nextstep" class="style-scope input-pipeline-analyzer"> </span>
      </p></div>
      <div id="section_device_side_analysis" class="style-scope input-pipeline-analyzer">
        <div id="title_device_side_analysis" class="style-scope input-pipeline-analyzer">
          <p class="section-header style-scope input-pipeline-analyzer"> Section 2: Device-side analysis details
        </p></div>
        <div id="section_device_step_time" class="style-scope input-pipeline-analyzer">
          <div id="title_device_step_time" class="style-scope input-pipeline-analyzer">
            <p class="sub-section-header style-scope input-pipeline-analyzer">Section 2.1: Device step time
          </p></div>
          <table class="table-style style-scope input-pipeline-analyzer">
            <tbody class="style-scope input-pipeline-analyzer"><tr class="style-scope input-pipeline-analyzer">
              <td class="left-pane style-scope input-pipeline-analyzer">
                <div class="style-scope input-pipeline-analyzer"><p class="highlighted-text style-scope input-pipeline-analyzer">Device step-time statistics (in ms)</p></div>
                <p class="style-scope input-pipeline-analyzer">
                  <span class="style-scope input-pipeline-analyzer"><b class="style-scope input-pipeline-analyzer">Average:</b> </span>
                  <span class="style-scope input-pipeline-analyzer"> ms </span>
                  <span class="stddev-text style-scope input-pipeline-analyzer">(σ =  ms)</span>
                
                </p><p class="style-scope input-pipeline-analyzer">
                  <span class="style-scope input-pipeline-analyzer"><b class="style-scope input-pipeline-analyzer">Range:</b> </span>
                  <span class="style-scope input-pipeline-analyzer"> -  ms</span>
                
              </p></td>
              <td class="style-scope input-pipeline-analyzer"><div class="y-axis-title style-scope input-pipeline-analyzer">milliseconds</div></td>
              <td class="right-pane style-scope input-pipeline-analyzer">
                <vz-line-chart id="device_step_chart" style="height:300px;" class="style-scope input-pipeline-analyzer"></vz-line-chart>
                <div class="style-scope input-pipeline-analyzer"><p class="x-axis-title style-scope input-pipeline-analyzer">training step number</p></div>
              </td>
            </tr>
          </tbody></table>
        </div>
        <div id="section_device_infeeddeq_time" class="style-scope input-pipeline-analyzer">
          <div id="title_device_infeeddeq_time" class="style-scope input-pipeline-analyzer">
            <p class="sub-section-header style-scope input-pipeline-analyzer">
              <span class="style-scope input-pipeline-analyzer">Section 2.2: Range of device time waiting for input data </span>
              <span class="style-scope input-pipeline-analyzer"><i style="opacity:0.5" class="style-scope input-pipeline-analyzer">across cores</i> at each step </span>
            
          </p></div>
          <table class="table-style style-scope input-pipeline-analyzer">
            <tbody class="style-scope input-pipeline-analyzer"><tr class="style-scope input-pipeline-analyzer">
              <td class="left-pane style-scope input-pipeline-analyzer">
                <p class="style-scope input-pipeline-analyzer">
                  <span class="highlighted-text style-scope input-pipeline-analyzer">% of device step time waiting for input data</span>
                  <span class="style-scope input-pipeline-analyzer"> (average over the maximum waiting time across cores at each step)</span>
                
                </p><p class="style-scope input-pipeline-analyzer">
                  <span class="style-scope input-pipeline-analyzer"><b class="style-scope input-pipeline-analyzer">Average:</b> </span>
                  <span class="style-scope input-pipeline-analyzer"> % </span>
                  <span class="stddev-text style-scope input-pipeline-analyzer">(σ =  %)</span>
                
                </p><p class="style-scope input-pipeline-analyzer">
                  <span class="style-scope input-pipeline-analyzer"><b class="style-scope input-pipeline-analyzer">Range:</b> </span>
                  <span class="style-scope input-pipeline-analyzer"> -  %</span>
                
              </p></td>
              <td class="style-scope input-pipeline-analyzer"><div class="y-axis-title style-scope input-pipeline-analyzer"><p class="style-scope input-pipeline-analyzer">% of device step time</p></div></td>
              <td class="right-pane style-scope input-pipeline-analyzer">
                <vz-line-chart id="device_infeed_chart" style="height:300px;" class="style-scope input-pipeline-analyzer"></vz-line-chart>
                <div class="style-scope input-pipeline-analyzer"><p class="x-axis-title style-scope input-pipeline-analyzer">training step number</p></div>
              </td>
            </tr>
          </tbody></table>
        </div>
      </div>
      <div id="section_host_side_analysis" class="style-scope input-pipeline-analyzer">
        <div id="title_host_side_analysis" class="style-scope input-pipeline-analyzer">
          <p class="section-header style-scope input-pipeline-analyzer">Section 3: Host-side analysis details
        </p></div>
        <div class="style-scope input-pipeline-analyzer">
          <div style="height:300px;" id="host_side_chart" class="style-scope input-pipeline-analyzer"></div>
          <p class="style-scope input-pipeline-analyzer">
            <span class="style-scope input-pipeline-analyzer"><b class="style-scope input-pipeline-analyzer">What can be done to reduce above components of the host input time:</b></span>
            </p><div id="recommendation_details" class="style-scope input-pipeline-analyzer"></div>
          <p class="style-scope input-pipeline-analyzer">
        </p></div>
        <div class="style-scope input-pipeline-analyzer">
          Host side analysis can not be done without instrumentation.
        </div>
        <p class="style-scope input-pipeline-analyzer"> Click the "Show" button below to see the source data of the breakdown.
        <button class="style-scope input-pipeline-analyzer"> </button>
        </p><table class="performance-table style-scope input-pipeline-analyzer">
          <thead class="style-scope input-pipeline-analyzer">
            <tr class="style-scope input-pipeline-analyzer"><th class="style-scope input-pipeline-analyzer">Input Op</th>
            <th class="style-scope input-pipeline-analyzer">Count</th>
            <th class="style-scope input-pipeline-analyzer">Total Time (in ms)</th>
            <th class="style-scope input-pipeline-analyzer">Total Time (as % of total input-processing time)</th>
            <th class="style-scope input-pipeline-analyzer">Total Self Time (in ms)</th>
            <th class="style-scope input-pipeline-analyzer">Total Self Time (as % of total input-processing time)</th>
            <th class="style-scope input-pipeline-analyzer">Category</th>
          </tr></thead>
          <tbody id="host_side_table_content" class="style-scope input-pipeline-analyzer">
          </tbody>
        </table>
      </div>
    </div>
  </template>

  <script>//~~WEBPATH~~/tf-input-pipeline/input-pipeline-analyzer.html.js
Polymer({is:"input-pipeline-analyzer",properties:{_data:{type:Object,observer:"_updateView"},_show_device_side_analysis:{type:Boolean,value:!0,notify:!0},_show_host_side_chart:{type:Boolean,value:!0,notify:!0},_show_host_side_table:{type:Boolean,value:!1,notify:!0},_toggle_button_text:{type:String,computed:"_getToggleButtonText(_show_host_side_table)"},_deviceJson:{type:String,notify:!0},_hostJson:{type:String,notify:!0},_recommendationJson:{type:String,notify:!0},_active:{type:Boolean,value:!1,notify:!0,
observer:"_onActiveChanged"},_summary_conclusion:{type:String,notify:!0},_summary_nextstep:{type:String,notify:!0},_infeed_percent_average:{type:String,notify:!0},_infeed_percent_stddev:{type:String,notify:!0},_infeed_percent_minimum:{type:String,notify:!0},_infeed_percent_maximum:{type:String,notify:!0},_steptime_ms_average:{type:String,notify:!0},_steptime_ms_stddev:{type:String,notify:!0},_steptime_ms_minimum:{type:String,notify:!0},_steptime_ms_maximum:{type:String,notify:!0}},observers:["_showDeviceStepChart(_deviceJson)",
"_showDeviceInfeedChart(_deviceJson)","_showHostChart(_hostJson)","_showHostTable(_hostJson)","_makeRecommendations(_recommendationJson)"],onClick:function(){this.set("_show_host_side_table",!this._show_host_side_table)},_onActiveChanged:function(a){a||(this._show_host_side_table=this._show_host_side_chart=this._show_device_side_analysis=!1)},_getToggleButtonText:function(a){return(a?"Hide":"Show")+" Input Op Statistics"},_usToMs:function(a){return Math.abs(Number(a))/1E3},_updateView:function(){if(this._data&&
this._active){var a=this._data[0];this._deviceJson=a;this._hostJson=this._data[2];this._recommendationJson=this._data[3];this._summary_conclusion=a.p.summary_conclusion;this._summary_nextstep=a.p.summary_nextstep;this._infeed_percent_average=a.p.infeed_percent_average;this._infeed_percent_stddev=a.p.infeed_percent_standard_deviation;this._infeed_percent_minimum=a.p.infeed_percent_minimum;this._infeed_percent_maximum=a.p.infeed_percent_maximum;this._steptime_ms_average=a.p.steptime_ms_average;this._steptime_ms_stddev=
a.p.steptime_ms_standard_deviation;this._steptime_ms_minimum=a.p.steptime_ms_minimum;this._steptime_ms_maximum=a.p.steptime_ms_maximum;this._summary_conclusion.includes("HIGHLY")?this.customStyle["--summary-color"]="red":this._summary_conclusion.includes("MODERATE")&&(this.customStyle["--summary-color"]="orange");this.updateStyles()}},_showDeviceStepChart:function(a){if(a&&0!=a.rows.length&&this._active){this._show_device_side_analysis=!0;var b=[],c=[],d=0,e=-1;a.rows.forEach(function(a){e=0<e?++e:
Number(a.c[0].v);b.push({scalar:a.c[1].v,step:e,tpu_step:Number(a.c[0].v),low_watermark:0});c.push({scalar:a.c[1].v+a.c[2].v,step:e,low_watermark:a.c[1].v});d=Math.max(d,a.c[1].v+a.c[2].v)});if(a=this.$.device_step_chart)a.setVisibleSeries(["device step time","compute time"]),a.setSeriesData("device step time",c),a.setSeriesData("compute time",b),a.defaultYRange=[0,1.1*d],a.smoothingEnabled=!1,a.tooltipColumns=[{title:"Name",evaluate:function(a){return a.dataset.metadata().name}},{title:"Time(ms)",
evaluate:function(a){return a.datum.scalar.toFixed(2)}},{title:"Step",evaluate:function(a){return a.datum.step}}],a.fillArea={higherAccessor:function(a){return a.scalar},lowerAccessor:function(a){return a.low_watermark}},a.xAxisFormatter=d3.format("d")}else this._show_device_side_analysis=!1},_showDeviceInfeedChart:function(a){if(a&&0!=a.rows.length){var b=[],c=-1;a.rows.forEach(function(a){c=0<c?++c:Number(a.c[0].v);b.push({step:c,tpu_step:Number(a.c[0].v),scalar:a.c[4].v,min:a.c[5].v,max:a.c[6].v})});
if(a=this.$.device_infeed_chart)a.setVisibleSeries(["input time%"]),a.setSeriesData("input time%",b),a.tooltipColumns=[{title:"Name",evaluate:function(a){return a.dataset.metadata().name}},{title:"Step",evaluate:function(a){return a.datum.tpu_step}},{title:"Average(%)",evaluate:function(a){return a.datum.scalar.toFixed(4)+"%"}},{title:"Min(%)",evaluate:function(a){return a.datum.min.toFixed(4)+"%"}},{title:"Max(%)",evaluate:function(a){return a.datum.max.toFixed(4)+"%"}}],a.fillArea={higherAccessor:function(a){return a.max},
lowerAccessor:function(a){return a.min}},a.xAxisFormatter=d3.format("d")}else this._show_device_side_analysis=!1},_showHostChart:function(a){if(a){var b=this._usToMs(a.p.unclassified_nonequeue_us),c=this._usToMs(a.p.demanded_file_read_us),d=this._usToMs(a.p.advanced_file_read_us),e=this._usToMs(a.p.preprocessing_us);a=this._usToMs(a.p.enqueue_us);var f=b+c+d+e+a;this._show_host_side_chart=0<f;0<f&&(d=[{Name:"Other data reading or processing",Total:b/f*100},{Name:"Reading data from files on demand",
Total:c/f*100},{Name:"Reading data from files in advance [including caching, prefetching, interleaving]",Total:d/f*100},{Name:"Data preprocessing",Total:e/f*100},{Name:"Enqueuing data to be transferred to device",Total:a/f*100}],e=new Plottable.Scales.Color,b=new Plottable.Components.Legend(e),c=d3.select(this.$.host_side_chart),d=(new Plottable.Plots.Pie).attr("fill",function(a){return a.Name},e).addDataset(new Plottable.Dataset(d)).sectorValue(function(a){return a.Total}).labelsEnabled(!0).labelFormatter(function(a){return Number(a).toFixed(2)+
"%"}),(new Plottable.Components.Table([[d,b]])).renderTo(c))}},_showHostTable:function(a){if(a){var b=this.$.host_side_table_content;b.innerHTML="";this._show_host_side_table=!1;0!=a.rows.length&&a.rows.forEach(function(a){var c=document.createElement("tr");Polymer.dom(b).appendChild(c);var e=[];e.push(a.c[0].v);e.push(a.c[1].v);e.push(a.c[2].v.toFixed(2));e.push((100*a.c[3].v).toFixed(2)+"%");e.push(a.c[4].v.toFixed(2));e.push((100*a.c[5].v).toFixed(2)+"%");e.push(a.c[6].v);e.forEach(function(a){var b=
document.createElement("td");Polymer.dom(c).appendChild(b);Polymer.dom(b).appendChild(document.createTextNode(a))})})}},_makeRecommendations:function(a){if(a){var b="";a.rows.forEach(function(a){b+="\x3cli\x3e"+a.c[0].v+"\x3c/li\x3e"});this.$.recommendation_details.innerHTML=b}},attached:function(){this._active=!0;this._updateView()},detached:function(){this._active=!1}});
</script>
</dom-module>









<dom-module id="iron-image">
  <template>
    

    <div id="sizedImgDiv" role="img" class="style-scope iron-image"></div>
    <img id="img" class="style-scope iron-image">
    <div id="placeholder" class="style-scope iron-image"></div>
  </template>

  <script>//~~WEBPATH~~/iron-image/iron-image.html.js
Polymer({is:"iron-image",properties:{src:{observer:"_srcChanged",type:String,value:""},alt:{type:String,value:null},preventLoad:{type:Boolean,value:!1,observer:"_preventLoadChanged"},sizing:{type:String,value:null,reflectToAttribute:!0},position:{type:String,value:"center"},preload:{type:Boolean,value:!1},placeholder:{type:String,value:null,observer:"_placeholderChanged"},fade:{type:Boolean,value:!1},loaded:{notify:!0,readOnly:!0,type:Boolean,value:!1},loading:{notify:!0,readOnly:!0,type:Boolean,
value:!1},error:{notify:!0,readOnly:!0,type:Boolean,value:!1},width:{observer:"_widthChanged",type:Number,value:null},height:{observer:"_heightChanged",type:Number,value:null}},observers:["_transformChanged(sizing, position)"],ready:function(){var a=this.$.img;a.onload=function(){this.$.img.src===this._resolveSrc(this.src)&&(this._setLoading(!1),this._setLoaded(!0),this._setError(!1))}.bind(this);a.onerror=function(){this.$.img.src===this._resolveSrc(this.src)&&(this._reset(),this._setLoading(!1),
this._setLoaded(!1),this._setError(!0))}.bind(this);this._resolvedSrc=""},_load:function(a){a?this.$.img.src=a:this.$.img.removeAttribute("src");this.$.sizedImgDiv.style.backgroundImage=a?'url("'+a+'")':"";this._setLoading(!!a);this._setLoaded(!1);this._setError(!1)},_reset:function(){this.$.img.removeAttribute("src");this.$.sizedImgDiv.style.backgroundImage="";this._setLoading(!1);this._setLoaded(!1);this._setError(!1)},_computePlaceholderHidden:function(){return!this.preload||!this.fade&&!this.loading&&
this.loaded},_computePlaceholderClassName:function(){return this.preload&&this.fade&&!this.loading&&this.loaded?"faded-out":""},_computeImgDivHidden:function(){return!this.sizing},_computeImgDivARIAHidden:function(){return""===this.alt?"true":void 0},_computeImgDivARIALabel:function(){if(null!==this.alt)return this.alt;if(""===this.src)return"";var a=(new URL(this._resolveSrc(this.src))).pathname.split("/");return a[a.length-1]},_computeImgHidden:function(){return!!this.sizing},_widthChanged:function(){this.style.width=
isNaN(this.width)?this.width:this.width+"px"},_heightChanged:function(){this.style.height=isNaN(this.height)?this.height:this.height+"px"},_preventLoadChanged:function(){this.preventLoad||this.loaded||(this._reset(),this._load(this.src))},_srcChanged:function(a){var b=this._resolveSrc(a);b!==this._resolvedSrc&&(this._resolvedSrc=b,this._reset(),this.preventLoad||this._load(a))},_placeholderChanged:function(){this.$.placeholder.style.backgroundImage=this.placeholder?'url("'+this.placeholder+'")':""},
_transformChanged:function(){var a=this.$.sizedImgDiv.style,b=this.$.placeholder.style;a.backgroundSize=b.backgroundSize=this.sizing;a.backgroundPosition=b.backgroundPosition=this.sizing?this.position:"";a.backgroundRepeat=b.backgroundRepeat=this.sizing?"no-repeat":""},_resolveSrc:function(a){var b=this.ownerDocument.baseURI;return(new URL(Polymer.ResolveUrl.resolveUrl(a,b),b)).href}});
</script>
</dom-module>






<dom-module id="paper-card">
  <template>
    

    <div class="header style-scope paper-card">
      <iron-image class="style-scope paper-card"></iron-image>
      <div class="title-text style-scope paper-card"> </div>
    </div>

    <content class="style-scope paper-card"></content>
  </template>

  <script>//~~WEBPATH~~/paper-card/paper-card.html.js
Polymer({is:"paper-card",properties:{heading:{type:String,value:"",observer:"_headingChanged"},image:{type:String,value:""},alt:{type:String},preloadImage:{type:Boolean,value:!1},fadeImage:{type:Boolean,value:!1},placeholderImage:{type:String,value:null},elevation:{type:Number,value:1,reflectToAttribute:!0},animatedShadow:{type:Boolean,value:!1},animated:{type:Boolean,reflectToAttribute:!0,readOnly:!0,computed:"_computeAnimated(animatedShadow)"}},_isHidden:function(a){return a?"false":"true"},_headingChanged:function(a){var b=
this.getAttribute("heading"),c=this.getAttribute("aria-label");"string"===typeof c&&c!==b||this.setAttribute("aria-label",a)},_computeHeadingClass:function(a){return a?" over-image":""},_computeAnimated:function(a){return a}});
</script>
</dom-module>


<dom-module id="overview-page">
  <template>
    
    <template is="dom-if" restamp="true" class="style-scope overview-page"></template>
    <template is="dom-if" restamp="true" class="style-scope overview-page"></template>
  </template>

  <script>//~~WEBPATH~~/tf-overview-page/overview-page.html.js
Polymer({is:"overview-page",properties:{_data:{type:Object,observer:"_updateView"},_show_top_ops_table:{type:Boolean,value:!1,notify:!0},_top_ops_button_text:{type:String,computed:"_getTopOpsButtonText(_show_top_ops_table)"},_show_error_message:{type:Boolean,computed:"_shouldShowErrorMessage(_data)",notify:!0,observer:"_onErrorChanged"},_active:{type:Boolean,value:!1,notify:!0},_host_idle_time_percent:{type:String},_device_idle_time_percent:{type:String},_mxu_utilization_percent:{type:String},_steptime_ms_average:{type:String},
_steptime_ms_stddev:{type:String},_top_ops_heading:{type:String},_error_message:{type:String},_host_count:{type:String},_tpu_type:{type:String},_tpu_core_count:{type:String},_batch_size:{type:String},_change_list:{type:String},_build_time:{type:String},_build_target:{type:String},_statement:{type:String}},onClickTopOps:function(){this._show_top_ops_table=!this._show_top_ops_table},_getTopOpsButtonText:function(a){return(a?"Hide":"Show")+" table"},_shouldShowErrorMessage:function(a){return a?""!=a[2].p.error_message:
!0},_updateView:function(){if(this._data&&this._active){var a=this._data[0],b=this._data[1],c=this._data[2],d=this._data[3],e=d.p.statement;this._host_idle_time_percent=a.p.host_idle_time_percent;this._device_idle_time_percent=a.p.device_idle_time_percent;this._mxu_utilization_percent=a.p.mxu_utilization_percent;this._steptime_ms_average=b.p.steptime_ms_average;this._steptime_ms_stddev=b.p.steptime_ms_standard_deviation;this._error_message=c.p.error_message;this._host_count=c.p.host_count;this._tpu_type=
c.p.tpu_type;this._tpu_core_count=c.p.tpu_core_count;this._batch_size=c.p.batch_size;this._change_list=c.p.change_list;this._build_time=c.p.build_time;this._build_target=c.p.build_target;this._statement=d.p.statement;e.includes("HIGHLY")?this.customStyle["--summary-color"]="red":e.includes("MODERATE")&&(this.customStype["--summary-color"]="orange");this.updateStyles();this._showDeviceStepChart(b);this._showTopOpsTable(a);this._showRecommendation(d)}},_showDeviceStepChart:function(a){var b=this.$$("#device_step_chart");
if(a&&a.rows&&a.rows.length&&this._active){var c=[],d=[],e=0,f=-1;a.rows.forEach(function(a){f=0<f?++f:Number(a.c[0].v);c.push({scalar:a.c[1].v,step:f,tpu_step:Number(a.c[0].v),low_watermark:0});d.push({scalar:a.c[1].v+a.c[2].v,step:f,low_watermark:a.c[1].v});e=Math.max(e,a.c[1].v+a.c[2].v)});b&&(b.setVisibleSeries(["compute-time","step-time \x3d input-time + compute-time"]),b.setSeriesData("compute-time",c),b.setSeriesData("step-time \x3d input-time + compute-time",d),b.defaultYRange=[0,1.1*e],b.smoothingEnabled=
!1,b.tooltipColumns=[{title:"Name",evaluate:function(a){return a.dataset.metadata().name}},{title:"Time(ms)",evaluate:function(a){return a.datum.scalar.toFixed(2)}},{title:"Step",evaluate:function(a){return a.datum.step}}],b.fillArea={higherAccessor:function(a){return a.scalar},lowerAccessor:function(a){return a.low_watermark}},b.xAxisFormatter=d3.format("d"))}},_showTopOpsTable:function(a){if(a&&a.rows&&a.rows.length&&this._active){var b=0,c=this.$$("#top_ops_table_content");c&&(c.innerHTML="",a.rows.forEach(function(a){var d=
document.createElement("tr");Polymer.dom(c).appendChild(d);var f=[];f.push((100*a.c[0].v).toFixed(2)+"%");f.push((100*a.c[1].v).toFixed(2)+"%");f.push(a.c[2].v);f.push(a.c[3].v);f.push(a.c[4].v.toFixed(2));f.forEach(function(a){var b=document.createElement("td");Polymer.dom(d).appendChild(b);Polymer.dom(b).appendChild(document.createTextNode(a))});b+=1}),this._top_ops_heading="Top "+b+" TensorFlow operations executed on TPU",this._show_top_ops_table=!1)}},_generateRecommendationHtml:function(a,b,
c,d){var e="\x3cp\x3e\x26nbsp;\x3c/p\x3e";e+='\x3cdiv class\x3d"'+b+'"\x3e';e+="\x3cb\x3e"+d+":\x3c/b\x3e";a.rows.forEach(function(a){a.c[0].v==c&&(e+="\x3cli\x3e"+a.c[1].v+"\x3c/li\x3e")});return e+="\x3c/div\x3e"},_showRecommendation:function(a){if(a&&this._active){var b=a.p.bottleneck,c=this.$$("#host_side_tips"),d=this.$$("#device_side_tips");c&&d&&("device"==b?(c.innerHTML="",d.innerHTML=this._generateRecommendationHtml(a,"bottleneckTips","device","Next tools to use for reducing the TPU time")):
"host"==b?(c.innerHTML=this._generateRecommendationHtml(a,"bottleneckTips","host","Next tools to use for reducing the input time"),d.innerHTML=""):(c.innerHTML=this._generateRecommendationHtml(a,"bottleneckTips","host","Next tools to use for reducing the input time"),d.innerHTML=this._generateRecommendationHtml(a,"bottleneckTips","device","Next tools to use for reducing the TPU time")),b=this.$$("#documentation_tips"))&&(b.innerHTML=this._generateRecommendationHtml(a,"documentationTips","doc","Other useful resources"))}},
_onErrorChanged:function(){this._updateView()},ready:function(){this._active=!0;this._updateView()},attached:function(){this._active=!0;this._updateView()},detached:function(){this._active=!1}});
</script>
</dom-module>



<script>//~~WEBPATH~~/tf-op-profile/utils.js
var Ac;
(function(a){function b(a,b,e,f){return"rgba("+Math.round(255*a)+","+Math.round(255*b)+","+Math.round(255*e)+","+f+")"}a.flameColor=function(a,d,e,f){void 0===d&&(d=1);void 0===e&&(e=1);void 0===f&&(f=Math.sqrt);if(isNaN(a))return b(d,d,d,e);a=f(a);return.5>a?b(d,2*a*d,0,e):b(2*(1-a)*d,d,0,e)};a.utilization=function(a){return a&&a.metrics?a.metrics.flops/a.metrics.time:0/0};a.memoryUtilization=function(a){return a&&a.metrics&&a.metrics.memoryBandwidth?a.metrics.memoryBandwidth:0/0};a.percent=function(a){return isNaN(a)?
"-":.995<=a?"100%":1E-5>a?"0.00%":(100*a).toPrecision(2)+"%"}})(Ac||(Ac={}));
</script>



<dom-module id="tf-op-table-styles">
  <template>
    
  </template>
</dom-module>


<dom-module id="tf-op-table">
  <template>
    
    <div id="control" class="style-scope tf-op-table">
    
    <span class="controlRowLeft style-scope tf-op-table">Show top
      <paper-slider min="10" max="100" snaps="" step="10" editable="" class="style-scope tf-op-table">
      </paper-slider>ops</span>
    <span class="controlRowRight style-scope tf-op-table">off&nbsp;
    <paper-toggle-button class="style-scope tf-op-table">
    </paper-toggle-button>Top 90%</span>
    </div>
    <div id="header" class="style-scope tf-op-table">
      <span id="time" class="style-scope tf-op-table">Time</span>
      <span id="name" class="style-scope tf-op-table">Name</span>
      <span id="provenance" class="style-scope tf-op-table">TensorFlow Op</span>
      <span id="utilization" class="style-scope tf-op-table">FLOPS</span>
    </div>
    <tf-op-table-entry expanded="true" class="style-scope tf-op-table">
    </tf-op-table-entry>
  </template>

  <script>//~~WEBPATH~~/tf-op-profile/tf-op-table.html.js
Polymer({is:"tf-op-table",properties:{rootNode:{type:Object},active:{type:Object,computed:"_active(_selected, _hover)",notify:!0},showP90:{type:Boolean,value:!1,notify:!0},childrenCount:{type:Number,value:10,notify:!0},_selected:{type:Object,value:null,notify:!0},_hover:{type:Object,value:null,notify:!0},_onHeaderHover:{type:Object,value:function(){var a=this;return function(b){return a._hover=b}}},_onHeaderClick:{type:Object,value:function(){var a=this;return function(b){a._selected&&(a._selected.selected=
!1);a._selected=b;b.selected=!0}}}},_active:function(a,b){if(b)return b.node;if(a)return a.node}});
</script>
</dom-module>


<dom-module id="tf-op-table-entry">
  <template>
    
    <div id="row" class="style-scope tf-op-table-entry">
      <div id="bar" style="width:" class="style-scope tf-op-table-entry"></div>
      <span id="time" class="style-scope tf-op-table-entry"> </span>
      <span id="name" style="padding-left:em;" class="style-scope tf-op-table-entry">
        <span id="disclosure" class="style-scope tf-op-table-entry">
          <span class="style-scope tf-op-table-entry">
            <span class="style-scope tf-op-table-entry">▶</span>
            <span class="style-scope tf-op-table-entry">▼</span>
          </span>
        </span>
      </span>
      <span id="provenance" class="style-scope tf-op-table-entry">&nbsp;</span>
      <span id="utilization" style="background-color:" class="style-scope tf-op-table-entry">
        </span>
    </div>
    <template is="dom-if" class="style-scope tf-op-table-entry"></template>
  </template>

  <script>//~~WEBPATH~~/tf-op-profile/tf-op-table.html-2.js
Polymer({is:"tf-op-table-entry",properties:{node:{type:Object},level:{type:Number,value:0},headerHover:{type:Object,value:function(){return function(){}},notify:!0},headerClick:{type:Object,value:function(){return function(){}},notify:!0},expanded:{type:Boolean,value:!1,notify:!0},selected:{type:Boolean,value:!1,observer:"_selectedChanged"}},_eq:function(a,b){return a==b},_nextLevel:function(a){return a+1},_handleHeaderClick:function(){this.expanded^=1;this.headerClick(this)},_handleHeaderMouseEnter:function(){this.headerHover(this)},
_handleHeaderMouseLeave:function(){this.headerHover(null)},_percent:function(a){return a.metrics&&a.metrics.time?Ac.percent(a.metrics.time):""},_provenance:function(a){return a.xla&&a.xla.provenance?a.xla.provenance.replace(/^.*\//,""):""},_utilization:function(a){return Ac.percent(Ac.utilization(a))},_flameColor:function(a){return Ac.flameColor(Ac.utilization(a),1,.2)},_barWidth:function(a){return a.metrics&&a.metrics.time?Ac.percent(a.metrics.time):0},_selectedChanged:function(a){this.classList.toggle("selected",
a)},_getKChildren:function(a,b,c,d){if(c&&0<a.children.length&&a.children[0].metrics){for(var e=c=0,f=.9*a.metrics.time;e<Math.min(b,a.children.length)&&!(c>=f);e++)c+=a.children[e].metrics.time;b=e}return d?a.children.slice(0,b):a.children}});
</script>
</dom-module>





<dom-module id="tf-op-bar">
  
  <template>
&nbsp;
  </template>
  <script>//~~WEBPATH~~/tf-op-profile/tf-op-details.html.js
Polymer({is:"tf-op-bar",properties:{value:{type:Number,notify:!0,observer:"_updateValue"}},_percent:Ac.percent,_updateValue:function(a){var b=Ac.flameColor(a);a=Ac.percent(a);this.style.background="linear-gradient(to right, "+b+" "+a+", #ccc "+a+")"}});
</script>
</dom-module>


<dom-module id="tf-op-details">
  
  <template>
    <paper-card id="card" elevation="2" class="style-scope tf-op-details">
      <div id="subheader" class="style-scope tf-op-details"> </div>
      <div class="card-content style-scope tf-op-details">
        <div class="style-scope tf-op-details">
          <b class="style-scope tf-op-details">FLOPS utilization: </b>
          <tf-op-bar class="style-scope tf-op-details"></tf-op-bar>
        </div>
        <div class="style-scope tf-op-details">
          <b class="style-scope tf-op-details">Memory utilization: </b>
          <tf-op-bar class="style-scope tf-op-details"></tf-op-bar>
        </div>
        <div class="style-scope tf-op-details">
          <b class="style-scope tf-op-details">Expression: </b>
          <code class="expression style-scope tf-op-details"> </code>
        </div>
        <div class="unavailable style-scope tf-op-details">
          Performance information for individual fused operations is not available.
        </div>
        <div class="unavailable style-scope tf-op-details">
          Select items within this category for performance details.
        </div>
        <div class="style-scope tf-op-details">
          <b class="style-scope tf-op-details">Layout: </b>
          <div class="layout style-scope tf-op-details">
            <template is="dom-repeat" class="style-scope tf-op-details"></template>
          </div>
        </div>
      </div>
    </paper-card>
  </template>

  <script>//~~WEBPATH~~/tf-op-profile/tf-op-details.html-2.js
Polymer({is:"tf-op-details",properties:{node:{type:Object,notify:!0,observer:"_updateCard"}},_utilization:Ac.utilization,_memoryUtilization:Ac.memoryUtilization,_hasMemoryUtilization:function(a){return!a||!a.metrics||!a.metrics.memoryBandwidth},_updateCard:function(a){null!=a&&(a=Ac.flameColor(Ac.utilization(a),.7),this.$.card.updateStyles({"--paper-card-header":"background-color:"+a}),this.$.subheader.style.backgroundColor=a)},_subheader:function(a){return a?a.xla?a.xla.category+" operation":a.category?
"Operation category":"Unknown":null},_fused:function(a){return a&&a.xla&&!a.metrics},_dimensionColor:function(a){if(!a||!a.alignment)return null;a=a.size/a.alignment;return Ac.flameColor(a/Math.ceil(a),1,.25,function(a){return 1-Math.sqrt(1-a)})},_dimensionHint:function(a){if(!a||!a.alignment)return null;var b=Math.ceil(a.size/a.alignment),c=1==b?"":": "+b+" \u00d7 "+a.alignment;return 0==a.size%a.alignment?"Exact fit"+c:"Pad to "+b*a.alignment+c}});
</script>
</dom-module>




<dom-module id="tf-op-profile">
  <template>
    
    <div class="tf-op-profile style-scope">
      <h4 class="style-scope tf-op-profile">Overall TPU FLOPS utilization is
        <span style="color:" class="style-scope tf-op-profile">
          </span>
      </h4>
      <div id="description" class="style-scope tf-op-profile">
        <p class="style-scope tf-op-profile">Modifying your model's architecture, data dimensions, and improving
        the efficiency of CPU operations may help reach the TPU's FLOPS potential.
      </p></div>
      <tf-op-table class="style-scope tf-op-profile"></tf-op-table>
    </div>
  </template>

  <script>//~~WEBPATH~~/tf-op-profile/tf-op-profile.html.js
Polymer({is:"tf-op-profile",properties:{_data:{type:Object,notify:!0},_root:{type:Object,computed:'_getRoot(_data, "byCategory")',notify:!0},active:{type:Object,notify:!0,value:null}},_getRoot:function(a,b){return a[b]},_utilizationPercent:function(a){return Ac.percent(Ac.utilization(a))},_hasFlops:function(a){return 0<a.metrics.flops},_textColor:function(a){return Ac.flameColor(Ac.utilization(a),.7)}});
</script>
</dom-module>

<script>//~~WEBPATH~~/tf-profile-common/util.js
(function(a){(function(b){(function(b){b.time=function(a,b){var c=Date.now();b=b();console.log(a,":",Date.now()-c,"ms");return b};b.getTracker=function(a){return{setMessage:function(b){a.set("progress",{value:a.progress.value,msg:b})},updateProgress:function(b){a.set("progress",{value:a.progress.value+b,msg:a.progress.msg})},reportError:function(b,c){console.error(c.stack);a.set("progress",{value:a.progress.value,msg:b,error:!0})}}};b.runTask=function(b,c,f,g){g.setMessage(b);try{var d=a.profile.util.time(b,
f);g.updateProgress(c);return d}catch(l){g.reportError("Failed "+b,l)}}})(b.util||(b.util={}))})(a.profile||(a.profile={}))})(tf||(tf={}));
</script>

<script>//~~WEBPATH~~/memory-viewer/utils.js
var Bc;
(function(a){function b(a,b,e,f){return"rgba("+Math.round(255*a)+","+Math.round(255*b)+","+Math.round(255*e)+","+f+")"}a.bytesToMiB=function(a){return a/1048576};a.byteSizeOfPrimitiveType=function(a){switch(a){case "PRED":return 1;case "S8":return 1;case "S16":return 2;case "S32":return 4;case "S64":return 8;case "U8":return 1;case "U16":return 2;case "U32":return 4;case "U64":return 8;case "BF16":return 2;case "F16":return 2;case "F32":return 4;case "F64":return 8;case "C64":return 8;case "TOKEN":return 0;default:return console.error("Unhandled primitive type "+
a),0}};a.flameColor=function(a,d,e,f){void 0===d&&(d=1);void 0===e&&(e=1);void 0===f&&(f=function(a){return 1-Math.sqrt(1-a)});if(isNaN(a))return b(d,d,d,e);a=f(a);return.5>a?b(d,2*a*d,0,e):b(2*(1-a)*d,d,0,e)};a.percent=function(a){return isNaN(a)?"-":.995<=a?"100%":1E-5>a?"0.00%":(100*a).toPrecision(2)+"%"}})(Bc||(Bc={}));
</script>


<script>//~~WEBPATH~~/memory-viewer/shape.js
var Cc;
(function(a){var b=function(){function a(b){this.elementType=b.elementType.toString();this.dimensions=b.dimensions.map(function(a){return parseInt(a,10)});b.tupleShapes&&(this.tupleShapes=b.tupleShapes.map(function(b){return new a(b)}));this.layout=b.layout}a.prototype.resolveShapeIndex=function(a){return a.reduce(function(a,b){return a.tupleShapes[b]},this)};a.prototype.unpaddedHeapSizeBytes=function(){if("TOKEN"===this.elementType)return 0;if("TUPLE"===this.elementType)return 8*this.tupleShapes.length;var a=
0;if(this.layout&&"DENSE"!=this.layout.format)"SPARSE"==this.layout.format&&(b=parseInt(this.layout.maxSparseElements,10),a=b*Bc.byteSizeOfPrimitiveType(this.elementType),a+=b*this.dimensions.length*8);else{var b=this.dimensions.reduce(function(a,b){return a*b},1);a+=b*Bc.byteSizeOfPrimitiveType(this.elementType)}return a};a.prototype.humanStringWithLayout=function(){if("TUPLE"===this.elementType){for(var a="(",b="",c=0,g=this.tupleShapes;c<g.length;c++)a=a+b+g[c].humanStringWithLayout(),b=", ";return a+
")"}a=this.elementType.toLowerCase()+"[";a+=this.dimensions.join()+"]";"OPAQUE"!==this.elementType&&"TOKEN"!==this.elementType&&0<this.dimensions.length&&this.layout&&(a+=this.humanLayoutString(this.layout));return a};a.prototype.humanLayoutString=function(a){return"SPARSE"==a.format?"sparse{"+a.maxSparseElements+"}":"DENSE"==a.format?"{"+a.minorToMajor.join()+"}":""};return a}();a.Shape=b})(Cc||(Cc={}));
</script>
<script>//~~WEBPATH~~/memory-viewer/logical-buffer.js
var Fc;(function(a){var b=function(){function a(a){this.instructionName=this.computationName="";this.shapeIndex=[];this.id=parseInt(a.id,10);this.size=parseInt(a.size,10);this.initBufferLocation_(a.definedAt)}a.prototype.initBufferLocation_=function(a){a&&(this.computationName=a.computationName,this.instructionName=a.instructionName,this.shapeIndex=a.shapeIndex.map(function(a){return parseInt(a,10)}))};return a}();a.LogicalBuffer=b})(Fc||(Fc={}));
</script>
<script>//~~WEBPATH~~/memory-viewer/buffer-allocation.js
var Gc;(function(a){var b=function(){function a(a){this.index=parseInt(a.index,10);this.size=parseInt(a.size,10);this.isThreadLocal=a.isThreadLocal||!1;this.assigned=a.assigned.map(function(a){return new Hc.BufferAllocationAssigned(a)});this.groupName=this.getGroupName(a)}a.prototype.getGroupName=function(a){return a.isEntryComputationParameter?"Parameter":a.maybeLiveOut?"Output":a.isThreadLocal?"Thread-local":"Temporary"};return a}();a.BufferAllocation=b})(Gc||(Gc={}));
</script>
<script>//~~WEBPATH~~/memory-viewer/buffer-allocation-assigned.js
var Hc;(function(a){a.BufferAllocationAssigned=function(){return function(a){this.logicalBufferId=parseInt(a.logicalBufferId,10);this.offset=parseInt(a.offset,10);this.size=parseInt(a.size,10)}}()})(Hc||(Hc={}));
</script>
<script>//~~WEBPATH~~/memory-viewer/hlo-instruction.js
var Kc;(function(a){a.HloInstruction=function(){return function(a){this.name=a.name?a.name:"";this.opcode=a.opcode?a.opcode:"";this.shape=a.shape?new Cc.Shape(a.shape):null;a.metadata&&(this.tfOpName=a.metadata.opName?a.metadata.opName:"")}}()})(Kc||(Kc={}));
</script>


<script>//~~WEBPATH~~/memory-viewer/memory-usage.js
var Lc;
(function(a){var b=function(){function a(a){this.buffers_=[];this.idToBuffer_={};this.idToBufferAllocation_={};this.nameToHlo_={};this.unpaddedPeakHeapSizeBytes=this.peakHeapSizeBytes=this.rest_=this.nColor_=0;this.peakLogicalBuffers=[];this.indefiniteMemoryUsageBytes=this.peakHeapSizePosition=0;this.heapSizes=[];this.unpaddedHeapSizes=[];this.maxHeap=[];this.maxHeapBySize=[];this.bySizeToMaxHeap=[];this.maxHeapToBySize=[];this.logicalBufferSpans={};this.unSeenLogicalBuffers_=new Set;this.seenBufferAllocations_=new Set;
this.smallBufferSize=16384;this.initHloInstructions_(a.hloModule);this.initMemoryUsage_(a.bufferAssignment);this.initMaxHeap_()}a.prototype.initHloInstructions_=function(a){if(a){var b=0;for(a=a.computations;b<a.length;b++)for(var c=0,d=a[b].instructions;c<d.length;c++){var h=d[c];h.name&&(this.nameToHlo_[h.name]=new Kc.HloInstruction(h))}}else console.warn("Missing hloModule, skipping unpadded allocation size analysis")};a.prototype.initMemoryUsage_=function(a){a?(this.initBuffers_(a),this.initAllocations_(a),
this.findPeakMemoryUsage_(a)):console.error("No buffer assignment info")};a.prototype.initBuffers_=function(a){var b=0;for(a=a.logicalBuffers;b<a.length;b++){var c=new Fc.LogicalBuffer(a[b]);this.buffers_.push(c);this.idToBuffer_[c.id]=c;this.unSeenLogicalBuffers_.add(c.id)}};a.prototype.initAllocations_=function(a){var b=0;for(a=a.bufferAllocations;b<a.length;b++){var c=a[b],d=new Gc.BufferAllocation(c),h=0;for(c=c.assigned;h<c.length;h++){var l=c[h];l.logicalBufferId&&(this.idToBufferAllocation_[l.logicalBufferId]=
d)}}};a.prototype.newHeapObject_=function(a,b,c,g,h){var d=c?Bc.bytesToMiB(c.unpaddedHeapSizeBytes()):0;return{instructionName:b.instructionName,logicalBufferId:b.id,unpaddedSizeMiB:d,tfOpName:g.tfOpName,opcode:g.opcode,sizeMiB:Bc.bytesToMiB(b.size),color:a,shape:c?c.humanStringWithLayout():"",groupName:h}};a.prototype.addHeapObject_=function(a,b,c){if(b.size<=a.smallBufferSize)a.rest_+=b.size;else if(b.instructionName){var d=a.nameToHlo_[b.instructionName];if(d){var e=d.shape.resolveShapeIndex(b.shapeIndex);
a.maxHeap.push(a.newHeapObject_(a.nColor_++,b,e,d,c))}}};a.prototype.initMaxHeap_=function(){for(var a=0,b=this.peakLogicalBuffers;a<b.length;a++){var c=b[a],g=this.idToBufferAllocation_[c];this.addHeapObject_(this,this.idToBuffer_[c],g?g.groupName:"")}0!=this.rest_&&(a="small (\x3c"+this.smallBufferSize/1024+" KiB)",this.maxHeap.push({instructionName:a,sizeMiB:Bc.bytesToMiB(this.rest_),color:0,groupName:a}));a=this.maxHeap.map(function(a,b){return{ind:b,val:a}});a.sort(function(a,b){return b.val.sizeMiB-
a.val.sizeMiB});this.maxHeapBySize=a.map(function(a){return a.val});this.bySizeToMaxHeap=a.map(function(a){return a.ind});this.maxHeapToBySize.length=this.maxHeap.length;for(a=0;a<this.bySizeToMaxHeap.length;a++)this.maxHeapToBySize[this.bySizeToMaxHeap[a]]=a};a.prototype.findPeakMemoryUsage_=function(a){function b(a){c.push(Bc.bytesToMiB(m));d.push(Bc.bytesToMiB(n));var b=parseInt(a.bufferId,10),e=r.idToBuffer_[b];r.unSeenLogicalBuffers_.delete(b);var f=r.idToBufferAllocation_[b];f&&r.seenBufferAllocations_.add(f.index);
f=null;e.instructionName&&""!=e.instructionName&&(f=r.nameToHlo_[e.instructionName].shape.resolveShapeIndex(e.shapeIndex));switch(a.kind.toString()){case "ALLOC":h.push(b);m+=e.size;f&&(n+=f.unpaddedHeapSizeBytes());r.logicalBufferSpans[b]=[c.length,-1];m>q&&(q=m,p=n,t=c.length,l=h.slice());break;case "FREE":h=h.filter(function(a){return a!==b});m-=e.size;f&&(n-=f.unpaddedHeapSizeBytes());r.logicalBufferSpans[b][1]=c.length;0>m&&console.error("heap_size_bytes \x3c 0");break;case "SHARE_WITH":r.unSeenLogicalBuffers_.delete(parseInt(a.shareWithCanonicalId,
10));break;default:console.log("ERROR: unknown heap event kind:",a)}}var c=[],d=[],h=[],l=[],m=0,n=0,q=0,p=0,t=0,r=this,w=0;for(a=a.heapSimulatorTraces[0].events;w<a.length;w++)b(a[w]);c.push(Bc.bytesToMiB(m));w=this.findIndefiniteMemoryUsage_(this.unSeenLogicalBuffers_);this.peakHeapSizeBytes=q+w;this.unpaddedPeakHeapSizeBytes=p+w;this.peakLogicalBuffers=l;this.peakHeapSizePosition=t;var v=Bc.bytesToMiB(w);this.heapSizes=c.map(function(a){return a+v});this.unpaddedHeapSizes=d.map(function(a){return a+
v})};a.prototype.findIndefiniteMemoryUsage_=function(a){var b=this,c=0;a.forEach(function(a){var d=b.idToBufferAllocation_[a];d.isThreadLocal||b.seenBufferAllocations_.has(d.index)||(b.seenBufferAllocations_.add(d.index),c+=d.size,b.addHeapObject_(b,b.idToBuffer_[a],d.groupName))});return this.indefiniteMemoryUsageBytes=c};return a}();a.MemoryUsage=b})(Lc||(Lc={}));
</script>





<dom-module id="mv-line-chart">
  <template>
    <div class="mv-line-chart style-scope">
      <h2 class="style-scope mv-line-chart">Working Space Size (MiB) vs Program Order (HLO Sequence)</h2>
      <div id="chartdiv" style="width:1200px;height:384px" class="style-scope mv-line-chart"></div>
      <div id="maxheap-details" class="style-scope mv-line-chart">
        <em class="style-scope mv-line-chart">Hover over a bar for buffer details to appear on the left.</em>
      </div>
      <h3 class="style-scope mv-line-chart">By Program Order</h3>
      <div id="maxheapchart" style="width:1200px;height:200px" class="style-scope mv-line-chart"></div>
      <h3 class="style-scope mv-line-chart">By Size</h3>
      <div id="maxheapsizechart" style="width:1200px;height:200px" class="style-scope mv-line-chart"></div>
    </div>
  </template>
  <script>//~~WEBPATH~~/memory-viewer/mv-line-chart.js
var Mc;Mc||(Mc={});
Polymer({is:"mv-line-chart",properties:{data:{type:Object,notify:!0,observer:"_dataChanged"},active:{type:Object,notify:!0,observer:"_renderSpans"},bufferSizes:{type:Array,notify:!0},unpaddedBufferSizes:{type:Array,notify:!0},maxHeap:{type:Array,notify:!0},maxHeapBySize:{type:Array,notify:!0},spanPlot:{type:Object,notify:!0},colorScale:{type:Object,notify:!0},_selectedEntityInSrcChart:{type:Object,notify:!0,observer:"_selectedEntityChanged"},_selectedEntityInDstChart:{type:Object,notify:!0,observer:"_selectedEntityChanged"}},
_makeChartDataset:function(){if(this.data){this.bufferSizes=this.data.heapSizes.map(function(a,b){return[b,a]});this.unpaddedBufferSizes=this.data.unpaddedHeapSizes.map(function(a,b){return[b,a]});var a=this.data.maxHeap;this.data.maxHeap.reduce(function(b,d,e){a[e].offset=b;return b+d.sizeMiB},0);this.maxHeap=a;var b=this.data.maxHeapBySize;this.data.maxHeapBySize.reduce(function(a,d,e){b[e].offsetBySize=a;return a+d.sizeMiB},0);this.maxHeapBySize=b}},_drawProgramOrder:function(){if(this.data){var a=
new Plottable.Scales.Linear,b=new Plottable.Scales.Linear,c=new Plottable.Axes.Numeric(a,"bottom"),d=new Plottable.Axes.Numeric(b,"left"),e=new Plottable.Plots.Line;e.addDataset(new Plottable.Dataset(this.bufferSizes));e.x(function(a){return a[0]},a).y(function(a){return a[1]},b).attr("stroke","red");var f=new Plottable.Plots.Line;f.addDataset(new Plottable.Dataset(this.unpaddedBufferSizes));f.x(function(a){return a[0]},a).y(function(a){return a[1]},b).attr("stroke","grey");var g=new Plottable.Plots.Rectangle,
h=this.bufferSizes.length/40;g.addDataset(new Plottable.Dataset([this.bufferSizes[this.data.peakHeapSizePosition]]));g.x(function(a){return a[0]-h/2},a).y(function(){return 0},b).x2(function(a){return a[0]+h/2}).y2(function(a){return a[1]}).attr("fill","red").attr("opacity",.3);var l=this.colorScale,m=new Plottable.Plots.Rectangle,n=this.data.logicalBufferSpans,q=this.maxHeap.map(function(a){var b=n[a.logicalBufferId];return b?{id:a.logicalBufferId,span:b,size:a.sizeMiB,color:a.color}:null});q=q.filter(function(a){return null!==
a});m.addDataset(new Plottable.Dataset(q));m.x(function(a){return a.span[0]},a).y(function(){return 0},b).x2(function(a){return a.span[1]}).y2(function(a){return a.size}).attr("fill",function(a){return(a.color%10).toString()},l).attr("fill-opacity",0);this.spanPlot=m;l=new Plottable.Scales.Color;l.range(["red","grey"]);l.domain(["Sizes","Unpadded Sizes"]);l=new Plottable.Components.Legend(l);l.maxEntriesPerRow(2);a=new Plottable.Components.Gridlines(a,b);e=new Plottable.Components.Group([g,e,f,a,
m]);c=new Plottable.Components.Table([[null,l],[d,e],[null,c]]);d=d3.select(this.$.chartdiv);d.selectAll(".component").remove();c.renderTo(d)}},_drawMaxHeap:function(){var a=new Plottable.Scales.Linear,b=new Plottable.Scales.Linear;new Plottable.Axes.Numeric(b,"top");new Plottable.Axes.Numeric(a,"left");var c=this.colorScale;d3.select(this.$.maxheapchart).selectAll(".component").remove();d3.select(this.$.maxheapsizechart).selectAll(".component").remove();var d=new Plottable.Plots.Rectangle;d.addDataset(new Plottable.Dataset(this.maxHeap)).x(function(a){return a.offset},
b).y(function(){return 0},a).x2(function(a){return a.offset+a.sizeMiB}).y2(function(){return 12}).attr("fill",function(a){return(a.color%10).toString()},c).attr("opacity","0.6").renderTo(d3.select(this.$.maxheapchart));var e=new Plottable.Plots.Rectangle;e.addDataset(new Plottable.Dataset(this.maxHeapBySize)).x(function(a){return a.offsetBySize},b).y(function(){return 0},a).x2(function(a){return a.offsetBySize+a.sizeMiB}).y2(function(){return 12}).attr("fill",function(a){return(a.color%10).toString()},
c).attr("opacity","0.6").renderTo(d3.select(this.$.maxheapsizechart));var f=this;(new Plottable.Interactions.Pointer).attachTo(d).onPointerMove(function(a){f._onHoverInteraction(a,d,e,f.data.maxHeapToBySize)});(new Plottable.Interactions.Pointer).attachTo(e).onPointerMove(function(a){f._onHoverInteraction(a,e,d,f.data.bySizeToMaxHeap)})},_onHoverInteraction:function(a,b,c,d){a=b.entitiesAt(a);0===a.length?this.active=this._selectedEntityInDstChart=this._selectedEntityInSrcChart=null:(a=a[0],this.active=
a.datum,this._selectedEntityInSrcChart=a,this._selectedEntityInDstChart=c.entities()[d[a.index]])},_selectedEntityChanged:function(a,b){b&&b.selection.attr("opacity","0.6");a&&a.selection.attr("opacity","1.0")},_renderSpans:function(a){this.spanPlot&&(this.spanPlot.selections().attr("fill-opacity","0"),a&&this.spanPlot.entities().forEach(function(b){b.selection.attr("fill-opacity",b.datum.id===a.logicalBufferId?1:0)}))},_redraw:function(){this.data&&(this.colorScale=new Plottable.Scales.Color("Category10"),
this._makeChartDataset(),this._drawProgramOrder(),this._drawMaxHeap())},_dataChanged:function(a){a&&this._redraw()},attached:function(){this._redraw()}});
</script>
</dom-module>






<dom-module id="tf-mv-bar">
  <style>
:host {
  display: inline-block;
  height: 1.5em;
  line-height: 1.5em;
}
  </style>
</dom-module>


<dom-module id="buffer-details">
  
  <template>
    <paper-card id="card" elevation="2" class="style-scope buffer-details">
      <div id="subheader" class="style-scope buffer-details"> </div>
      <div class="card-content style-scope buffer-details">
        <div class="style-scope buffer-details">
          <h4 class="style-scope buffer-details">Size: <span class="style-scope buffer-details"> </span><b class="style-scope buffer-details"> MiB</b></h4>
        </div>
        <div class="style-scope buffer-details">
          <b class="style-scope buffer-details">Unpadded Size: </b><span class="style-scope buffer-details"> </span><b class="style-scope buffer-details"> MiB</b>
        </div>
        <div class="style-scope buffer-details">
          <b class="style-scope buffer-details">Extra memory due to padding: </b><span class="style-scope buffer-details"> </span><b class="style-scope buffer-details"> MiB</b>
        </div>
        <div class="style-scope buffer-details">
          <b class="style-scope buffer-details">Expansion: </b><span class="style-scope buffer-details"> </span><b class="style-scope buffer-details">X</b>
          <tf-mv-bar class="style-scope buffer-details"></tf-mv-bar>
        </div>
        <div class="style-scope buffer-details">
          <b class="style-scope buffer-details">Shape (and minor-to-major order): </b>
          <code class="expression style-scope buffer-details"> </code>
        </div>
        <div class="style-scope buffer-details">
          <b class="style-scope buffer-details">Tf Op Name: </b>
          <code class="expression style-scope buffer-details"> </code>
        </div>
        <div class="style-scope buffer-details">
          <b class="style-scope buffer-details">Allocation Type: </b><span class="style-scope buffer-details"> </span>
        </div>
      </div>
    </paper-card>
  </template>
  <script>//~~WEBPATH~~/memory-viewer/buffer-details.js
var Nc;Nc||(Nc={});Polymer({is:"tf-mv-bar",properties:{value:{type:Number,notify:!0,observer:"_updateValue"}},_updateValue:function(a){var b=Bc.flameColor(a);a=Bc.percent(a);this.style.background="linear-gradient(to right, "+b+" "+a+", #ccc "+a+")"}});
Polymer({is:"buffer-details",properties:{node:{type:Object,notify:!0,observer:"_updateCard"},size:{type:String,notify:!0},unpaddedSize:{type:String,notify:!0},padding:{type:String,notify:!0},expansion:{type:String,notify:!0},utilization:{type:Number,notify:!0}},_updateCard:function(a){if(null!=a){this.size=a.sizeMiB.toFixed(1);var b="rgb(192,192,192)";a.unpaddedSizeMiB&&(this.unpaddedSize=a.unpaddedSizeMiB.toFixed(1),this.padding=(a.sizeMiB-a.unpaddedSizeMiB).toFixed(1),this.utilization=a.unpaddedSizeMiB/
a.sizeMiB,this.expansion=(1/this.utilization).toFixed(1),b=Bc.flameColor(this.utilization,.7));this.$.card.updateStyles({"--paper-card-header":"background-color:"+b});this.$.subheader.style.backgroundColor=b}},_subheader:function(a){return a?a.opcode?a.opcode+" operation":"":null}});
</script>
</dom-module>


<dom-module id="memory-viewer-dashboard">
  <template>
    
    <div class="memory-viewer-dashboard style-scope" style="overflow:auto">
      <h3 class="style-scope memory-viewer-dashboard"> Module name: <span class="style-scope memory-viewer-dashboard"> </span>
      </h3>
      <h3 class="style-scope memory-viewer-dashboard"> Peak memory allocation is
        <span class="style-scope memory-viewer-dashboard"> </span> MiB <span style="font-size:20px" class="style-scope memory-viewer-dashboard">(
           MiB without padding)</span>
      </h3>
      <div id="description" class="style-scope memory-viewer-dashboard">
        <p class="style-scope memory-viewer-dashboard">Modifying your model's architecture, batch size and data dimentions
           may help reduce the memory footprint.
        
      </p></div>
      <mv-line-chart class="style-scope memory-viewer-dashboard"></mv-line-chart>
    </div>
  </template>
  <script>//~~WEBPATH~~/memory-viewer/memory-viewer-dashboard.js
var Oc;Oc||(Oc={});
Polymer({is:"memory-viewer-dashboard",properties:{_data:{type:Object,notify:!0,observer:"dataChanged_"},hloModule_:{type:Object},moduleName_:{type:String},peakHeapSizeMiB_:{type:String},unpaddedPeakHeapSizeMiB_:{type:String},usage:{type:Object,notify:!0},active:{type:Object,notify:!0,value:null}},dataChanged_:function(a){a&&a.hloModule&&a.bufferAssignment&&(this.hloModule_=a.hloModule,this.moduleName_=this.hloModule_.name?this.hloModule_.name:"",this.usage=new Lc.MemoryUsage(a),this.peakHeapSizeMiB_=
Bc.bytesToMiB(this.usage.peakHeapSizeBytes).toFixed(2),this.unpaddedPeakHeapSizeMiB_=Bc.bytesToMiB(this.usage.unpaddedPeakHeapSizeBytes).toFixed(2))}});
</script>
</dom-module>





<script>//~~WEBPATH~~/iron-ajax/iron-request.html.js
Polymer({is:"iron-request",hostAttributes:{hidden:!0},properties:{xhr:{type:Object,notify:!0,readOnly:!0,value:function(){return new XMLHttpRequest}},response:{type:Object,notify:!0,readOnly:!0,value:function(){return null}},status:{type:Number,notify:!0,readOnly:!0,value:0},statusText:{type:String,notify:!0,readOnly:!0,value:""},completes:{type:Object,readOnly:!0,notify:!0,value:function(){return new Promise(function(a,b){this.resolveCompletes=a;this.rejectCompletes=b}.bind(this))}},progress:{type:Object,
notify:!0,readOnly:!0,value:function(){return{}}},aborted:{type:Boolean,notify:!0,readOnly:!0,value:!1},errored:{type:Boolean,notify:!0,readOnly:!0,value:!1},timedOut:{type:Boolean,notify:!0,readOnly:!0,value:!1}},get succeeded(){if(this.errored||this.aborted||this.timedOut)return!1;var a=this.xhr.status||0;return 0===a||200<=a&&300>a},send:function(a){var b=this.xhr;if(0<b.readyState)return null;b.addEventListener("progress",function(a){this._setProgress({lengthComputable:a.lengthComputable,loaded:a.loaded,
total:a.total});this.fire("iron-request-progress-changed",{value:this.progress})}.bind(this));b.addEventListener("error",function(b){this._setErrored(!0);this._updateStatus();this.rejectCompletes(a.rejectWithRequest?{error:b,request:this}:b)}.bind(this));b.addEventListener("timeout",function(b){this._setTimedOut(!0);this._updateStatus();this.rejectCompletes(a.rejectWithRequest?{error:b,request:this}:b)}.bind(this));b.addEventListener("abort",function(){this._setAborted(!0);this._updateStatus();var b=
Error("Request aborted.");this.rejectCompletes(a.rejectWithRequest?{error:b,request:this}:b)}.bind(this));b.addEventListener("loadend",function(){this._updateStatus();this._setResponse(this.parseResponse());if(this.succeeded)this.resolveCompletes(this);else{var b=Error("The request failed with status code: "+this.xhr.status);this.rejectCompletes(a.rejectWithRequest?{error:b,request:this}:b)}}.bind(this));this.url=a.url;var c=!1!==a.async;b.open(a.method||"GET",a.url,c);var d={json:"application/json",
text:"text/plain",html:"text/html",xml:"application/xml",arraybuffer:"application/octet-stream"}[a.handleAs],e=a.headers||Object.create(null),f=Object.create(null),g;for(g in e)f[g.toLowerCase()]=e[g];e=f;d&&!e.accept&&(e.accept=d);Object.keys(e).forEach(function(a){/[A-Z]/.test(a)&&Polymer.Base._error("Headers must be lower case, got",a);b.setRequestHeader(a,e[a])},this);if(c){b.timeout=a.timeout;c=a.handleAs;if(a.jsonPrefix||!c)c="text";b.responseType=b._responseType=c;a.jsonPrefix&&(b._jsonPrefix=
a.jsonPrefix)}b.withCredentials=!!a.withCredentials;c=this._encodeBodyObject(a.body,e["content-type"]);b.send(c);return this.completes},parseResponse:function(){var a=this.xhr,b=a.responseType||a._responseType,c=!this.xhr.responseType,d=a._jsonPrefix&&a._jsonPrefix.length||0;try{switch(b){case "json":if(c||void 0===a.response)try{return JSON.parse(a.responseText)}catch(e){return console.warn("Failed to parse JSON sent from "+a.responseURL),null}return a.response;case "xml":return a.responseXML;case "blob":case "document":case "arraybuffer":return a.response;
default:if(d)try{return JSON.parse(a.responseText.substring(d))}catch(e){return console.warn("Failed to parse JSON sent from "+a.responseURL),null}return a.responseText}}catch(e){this.rejectCompletes(Error("Could not parse response. "+e.message))}},abort:function(){this._setAborted(!0);this.xhr.abort()},_encodeBodyObject:function(a,b){if("string"==typeof a)return a;switch(b){case "application/json":return JSON.stringify(a);case "application/x-www-form-urlencoded":return this._wwwFormUrlEncode(a)}return a},
_wwwFormUrlEncode:function(a){if(!a)return"";var b=[];Object.keys(a).forEach(function(c){b.push(this._wwwFormUrlEncodePiece(c)+"\x3d"+this._wwwFormUrlEncodePiece(a[c]))},this);return b.join("\x26")},_wwwFormUrlEncodePiece:function(a){return null!==a&&void 0!==a&&a.toString?encodeURIComponent(a.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+"):""},_updateStatus:function(){this._setStatus(this.xhr.status);this._setStatusText(void 0===this.xhr.statusText?"":this.xhr.statusText)}});
</script>



<script>//~~WEBPATH~~/google-chart/google-chart-loader.html.js
(function(){var a={area:{ctor:"AreaChart"},bar:{ctor:"BarChart"},"md-bar":{ctor:"Bar",pkg:"bar"},bubble:{ctor:"BubbleChart"},calendar:{ctor:"Calendar",pkg:"calendar"},candlestick:{ctor:"CandlestickChart"},column:{ctor:"ColumnChart"},combo:{ctor:"ComboChart"},gauge:{ctor:"Gauge",pkg:"gauge"},geo:{ctor:"GeoChart"},histogram:{ctor:"Histogram"},line:{ctor:"LineChart"},"md-line":{ctor:"Line",pkg:"line"},org:{ctor:"OrgChart",pkg:"orgchart"},pie:{ctor:"PieChart"},sankey:{ctor:"Sankey",pkg:"sankey"},scatter:{ctor:"ScatterChart"},
"md-scatter":{ctor:"Scatter",pkg:"scatter"},"stepped-area":{ctor:"SteppedAreaChart"},table:{ctor:"Table",pkg:"table"},timeline:{ctor:"Timeline",pkg:"timeline"},treemap:{ctor:"TreeMap",pkg:"treemap"},wordtree:{ctor:"WordTree",namespace:"visualization",pkg:"wordtree"}},b={},c={},d={};Polymer({is:"google-chart-loader",properties:{packages:{type:Array,value:function(){return[]},observer:"_loadPackages"},type:{type:String,observer:"_loadPackageForType"}},get _corePackage(){return c.corechart?c.corechart:
this._loadPackages(["corechart"]).then(function(a){return a[0]})},_loadPackagesDebounce:function(){this.debounce("loadPackages",function(){var a=Object.keys(b);a.length&&(b={},google.charts.load("current",{packages:a,language:document.documentElement.lang||"en"}),google.charts.setOnLoadCallback(function(){a.forEach(function(a){this.fire("loaded",a);d[a](google.visualization)}.bind(this))}.bind(this)))},100)},_loadPackages:function(a){var e=[];a.forEach(function(a){c[a]||(b[a]=!0,c[a]=new Promise(function(b){d[a]=
b}),this._loadPackagesDebounce());e.push(c[a])}.bind(this));return Promise.all(e)},_loadPackageForType:function(b){var c=a[b];return c?this._loadPackages([c.pkg||"corechart"]).then(function(){return(google[c.namespace]||google[0===b.indexOf("md-")?"charts":"visualization"])[c.ctor]}):Promise.reject("This chart type is not yet supported: "+b)},create:function(a,b){return this._loadPackageForType(a).then(function(a){return new a(b)})},fireOnChartEvent:function(a,b,c){return this._corePackage.then(function(d){(c?
d.events.addOneTimeListener:d.events.addListener)(a,b,function(c){this.fire("google-chart-"+b,{chart:a,data:c})}.bind(this))}.bind(this))},dataTable:function(a){return this._corePackage.then(function(b){return null==a?new b.DataTable:a.getNumberOfRows?a:a.cols?new b.DataTable(a):0<a.length?b.arrayToDataTable(a):0===a.length?Promise.reject("Data was empty."):Promise.reject("Data format was not recognized.")})},dataView:function(a){return this._corePackage.then(function(b){return new b.DataView(a)})},
query:function(a,b){return this._corePackage.then(function(c){return new c.Query(a,b)})}})})();
</script>

<dom-module id="google-chart-styles">
  <template>
    
  </template>
</dom-module>



<dom-module id="google-chart">
  <template>
    
    <google-chart-loader id="loader" class="style-scope google-chart"></google-chart-loader>
    <div id="chartdiv" class="style-scope google-chart"></div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/google-chart/google-chart.html.js
Polymer({is:"google-chart",properties:{type:{type:String,value:"column",observer:"_typeChanged"},events:{type:Array,value:function(){return[]}},options:{type:Object},cols:{type:Array,observer:"_rowsOrColumnsChanged"},rows:{type:Array,observer:"_rowsOrColumnsChanged"},data:{type:String,observer:"_dataChanged"},view:{type:Object,observer:"_viewChanged"},selection:{type:Array,notify:!0,observer:"_setSelection"},drawn:{type:Boolean,readOnly:!0,value:!1}},observers:["_draw(_chart, _dataView)","_subOptionChanged(options.*)"],
listeners:{"google-chart-select":"_updateSelection","google-chart-ready":"_onChartReady"},_chart:null,_dataView:null,_selection:null,_typeChanged:function(){this.$.loader.create(this.type,this.$.chartdiv).then(function(a){var b=this.$.loader;Object.keys(this.events.concat(["select","ready"]).reduce(function(a,b){a[b]=!0;return a},{})).forEach(function(c){b.fireOnChartEvent(a,c)});this._setDrawn(!1);this._chart=a}.bind(this))},_subOptionChanged:function(a){this.options=a.base;this.debounce("optionChangeRedraw",
function(){this.redraw()},5)},_setSelection:function(){this.drawn&&this.selection&&this.selection!==this._selection&&(this._chart.setSelection&&this._chart.setSelection(this.selection),this._selection=this.selection)},_updateSelection:function(){this.selection=this._selection=this._chart.getSelection()},_onChartReady:function(){this._setDrawn(!0);this._selection=null;this._setSelection()},redraw:function(){this._chart&&this._dataView&&this._draw(this._chart,this._dataView)},_draw:function(a,b){if(null!=
a&&null!=b)try{this._setDrawn(!1),a.draw(b,this.options||{})}catch(c){this.$.chartdiv.innerHTML=c}},get imageURI(){return this._chart?this._chart.getImageURI():null},_viewChanged:function(a){a&&(this._dataView=a)},_rowsOrColumnsChanged:function(){var a=this.rows,b=this.cols;a&&b&&this.$.loader.dataTable().then(function(c){b.forEach(function(a){c.addColumn(a)});c.addRows(a);return c}.bind(this)).then(this.$.loader.dataView.bind(this.$.loader)).then(function(a){this._dataView=a}.bind(this)).catch(function(a){this.$.chartdiv.innerHTML=
a}.bind(this))},_dataChanged:function(a){if(a){var b=!1;try{a=JSON.parse(a)}catch(c){b="string"==typeof a||a instanceof String}a=b?document.createElement("iron-request").send({url:a,handleAs:"json"}).then(function(a){return a.response}):Promise.resolve(a);a.then(this.$.loader.dataTable.bind(this.$.loader)).then(this.$.loader.dataView.bind(this.$.loader)).then(function(a){this._dataView=a}.bind(this))}},attached:function(){var a=document.createElement("script");a.src="https://www.gstatic.com/charts/loader.js";
document.head.appendChild(a)}});
</script>


<dom-module id="google-chart-demo">
  <template>
    
    <div id="demo-body" class="style-scope google-chart-demo">
      <p class="style-scope google-chart-demo">Website traffic data by country from an external JSON resource where
         the data is in raw DataTable format.
      <google-chart type="column" options="{&quot;title&quot;: &quot;Visitors by Country&quot;, &quot;legend&quot;: &quot;none&quot;}" class="style-scope google-chart-demo">
      </google-chart>
    </p></div>
  </template>

  <script>//~~WEBPATH~~/google-chart/google-chart-demo.html.js
Polymer({is:"google-chart-demo",properties:{_data:{type:Object,observer:"_updateView"}}});
</script>
</dom-module>






<dom-module id="tf-profile-dashboard">
<template>
<template is="dom-if" class="style-scope tf-profile-dashboard"></template>
<template is="dom-if" class="style-scope tf-profile-dashboard"></template>
<template is="dom-if" class="style-scope tf-profile-dashboard"></template>




</template>
<script>//~~WEBPATH~~/tf-profile-dashboard/tf-profile-dashboard.html.js
Polymer({is:"tf-profile-dashboard",properties:{_requestManager:{type:Object,value:function(){return new u.RequestManager}},_isAttached:Boolean,_initialized:Boolean,_dataNotFound:Boolean,_datasets:{type:Array,notify:!0,observer:"_datasetsChanged"},_activeToolsList:{type:Array,computed:"_getActiveToolsList(selectedDatasetIndex, _datasets)",observer:"_activeToolsChanged"},_activeHostsList:{type:Array,observer:"_activeHostsChanged"},progress:{type:Object,notify:!0},selectedDatasetIndex:{type:Number,notify:!0,
value:0},selectedToolIndex:{type:Number,notify:!0,value:0},selectedHostIndex:{type:Number,notify:!0,value:0},traceViewerBaseUrl:{type:String,value:"/trace_viewer_index.html"},_traceDataUrl:{type:String,value:""},_opProfileData:{type:Object},_inputPipelineData:{type:Object},_overviewPageData:{type:Object},_memoryViewerData:{type:Object},_googleChartDemoData:{type:Object},_selectedDatasetName:{type:String,notify:!0,computed:"_getSelectedDatasetName(selectedDatasetIndex, _datasets)"},_selectedToolName:{type:String,
notify:!0,computed:"_getSelected(selectedToolIndex, _activeToolsList)"},_selectedHostName:{type:String,notify:!0,computed:"_getSelected(selectedHostIndex, _activeHostsList)"},_toolInScope:{type:String},_activeOpDetails:{type:Object,value:function(){return null}},_activeBufferDetails:{type:Object,value:function(){return null}}},reload:function(){},ready:function(){},observers:["_maybeInitializeDashboard(_isAttached)","_maybeUpdateData(_selectedHostName)","_maybeUpdateActiveHosts(_selectedDatasetName, _selectedToolName)"],
attached:function(){this.set("_isAttached",!0)},detached:function(){this.set("_isAttached",!1)},_isNotComplete:function(a){return!this._dataNotFound&&100>a.value},_maybeInitializeDashboard:function(a){if(!this._initialized&&a){this._initialized=!0;var b=u.getRouter().pluginRoute("profile","/tools")+(u.getRouter().isDemoMode()?".json":"");this.set("progress",{value:0,msg:""});var c=this,d=tf.profile.util.getTracker(this);tf.profile.util.runTask("Loading datasets",20,function(){console.log("start counting");
return c._requestManager.request(b)},d).then(function(a){return tf.profile.util.runTask("Processing datasets",70,function(){return new Promise(function(){c._processRunToTool(a);return Promise.resolve(null)})},d)}).then(function(){return tf.profile.util.runTask("Done",10,function(){return new Promise(function(){return Promise.resolve(null)})},d)})}},_processRunToTool:function(a){a=_.map(a,function(a,c){return{name:c,activeTools:a}});a.sort(function(a,c){return 0-Na.compareTagNames(a.name,c.name)});
this.set("_dataNotFound",0===a.length);this.set("_datasets",a)},_getSelected:function(a,b){if(null!=a)return b&&0<=a&&a<b.length?b[a]:null},_getSelectedDatasetName:function(a,b){if(null!=a)return b&&0<=a&&a<b.length?b[a].name:""},_getActiveToolsList:function(a,b){if(null!=a)return b&&0<=a&&a<b.length?(this.selectedToolIndex=0,b[a].activeTools):[]},_maybeUpdateData:function(a){if(null!=a){var b=this._selectedDatasetName,c=this._selectedToolName;if(null!=b&&null!=c)if(this._toolInScope="undefined",
c.startsWith("trace_viewer")){var d=u.addParams(u.getRouter().pluginRoute("profile","/data"),{tag:c,run:b,host:a});"/"!=d[0]&&(d="/"+d);var e=c.endsWith("@");this._traceDataUrl=this.traceViewerBaseUrl+"?trace_data_url\x3d"+encodeURIComponent(d)+"\x26is_streaming\x3d"+e;this._toolInScope="trace_viewer"}else{this.set("progress",{value:0,msg:""});var f=this,g=tf.profile.util.getTracker(this);tf.profile.util.runTask("Reading "+c+" tool data",20,function(){return f._requestManager.request(u.addParams(u.getRouter().pluginRoute("profile",
"/data"),{tag:c,host:a,run:b}))},g).catch(function(){}).then(function(a){return tf.profile.util.runTask("Done",80,function(){f._updateToolData(c,a)},g)})}}},_updateToolData:function(a,b){switch(a){case "op_profile":this._opProfileData=b;this._toolInScope="op_profile";break;case "input_pipeline_analyzer":this._inputPipelineData=b;this._toolInScope="input_pipeline_analyzer";break;case "overview_page":this._overviewPageData=b;this._toolInScope="overview_page";break;case "memory_viewer":this._memoryViewerData=
b;this._toolInScope="memory_viewer";break;case "google_chart_demo":this._googleChartDemoData=b,this._toolInScope="google_chart_demo"}},_maybeUpdateActiveHosts:function(a,b){var c=this;if(null==a||null==b)return null;a=u.addParams(u.getRouter().pluginRoute("profile","/hosts"),{tag:b,run:a});this._requestManager.request(a).then(function(a){c.set("_activeHostsList",a.sort(function(a,b){return Na.compareTagNames(a,b)}))})},_datasetsChanged:function(){this._datasets&&(this.selectedDatasetIndex=0)},_activeToolsChanged:function(){this._activeToolsList&&
this.async(function(){this.set("selectedToolIndex",-1);this.set("selectedToolIndex",0)}.bind(this))},_activeHostsChanged:function(){this._activeHostsList&&this.async(function(){this.set("selectedHostIndex",-1);this.set("selectedHostIndex",0)}.bind(this))},_isCurrentTool:function(a,b){return a==b},_hasActiveTools:function(){return this._activeToolsList&&0<this._activeToolsList.length?!0:!1},_getHostDisplayName:function(a){return null==a?"":""==a?"default":a.slice(0,-1)}});
$a.registerDashboard({plugin:"profile",elementName:"tf-profile-dashboard",isReloadDisabled:!0});
</script>
</dom-module>













<dom-module id="tf-beholder-video">
  <template>

    <div id="container" class="style-scope tf-beholder-video">
      <img id="video" class="style-scope tf-beholder-video">
    </div>

    
  </template>

  <script>//~~WEBPATH~~/tf-beholder-dashboard/tf-beholder-video.html.js
(function(){var a=u.getRouter().pluginRoute("beholder","/beholder-frame"),b=u.getRouter().pluginRoute("beholder","/ping");Polymer({is:"tf-beholder-video",properties:{fps:{type:Number,value:10,observer:"_fpsChanged"},pingSleep:{type:Number,value:1E3},xhrTimeout:{type:Number,value:2500},_imageURL:{type:String,value:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"},_xhr:Object,_timer:Object,_isDead:Boolean},attached:function(){this.set("_imageURL",a);this._ping()},detached:function(){this._clear();
this.set("_imageURL","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d")},_ping:function(){this._clear();this._xhr=new XMLHttpRequest;this._xhr.open("GET",b,!0);this._xhr.timeout=this.xhrTimeout;this._xhr.onload=this._onPingLoad.bind(this);this._xhr.onerror=this._onPing.bind(this,!1,this.pingSleep);this._xhr.ontimeout=this._onPing.bind(this,!1,1);this._xhr.send(null)},_onPingLoad:function(){if(200==this._xhr.status){var a=JSON.parse(this._xhr.responseText);this._onPing("alive"==a.status,
this.pingSleep)}else this._onPing(!1,this.pingSleep)},_onPing:function(b,d){b&&this._isDead&&this.set("_imageURL",a+"?t\x3d"+(new Date).getTime());this._isDead=!b;this._timer=window.setTimeout(this._ping.bind(this),d)},_clear:function(){this._timer&&(window.clearTimeout(this._timer),this._timer=null);this._xhr&&(4>this._xhr.readyState&&this._xhr.abort(),this._xhr=null)},_fpsChanged:function(a,b){0==a?this._clear():0==b&&this._ping()}})})();
</script>
</dom-module>




<dom-module id="tf-beholder-info">
  <template>
  
    <template id="repeater" is="dom-repeat" class="style-scope tf-beholder-info"></template>

    

  </template>

  <script>//~~WEBPATH~~/tf-beholder-dashboard/tf-beholder-info.html.js
(function(){var a=u.getRouter().pluginRoute("beholder","/section-info");Polymer({is:"tf-beholder-info",properties:{fps:{type:Number,value:10,observer:"_fpsChanged"},xhrTimeout:{type:Number,value:1E4},items:{type:Array,value:[{name:"Loading..."}]},_xhr:Object,_timer:Object},attached:function(){this._load()},detached:function(){this._clear()},_load:function(){this._clear();this._xhr=new XMLHttpRequest;this._xhr.open("GET",a,!0);this._xhr.timeout=this.xhrTimeout;this._xhr.onload=this._onLoad.bind(this);
this._xhr.onerror=this._retry.bind(this,this._getSleep());this._xhr.ontimeout=this._retry.bind(this,1);this._xhr.send(null)},_onLoad:function(){if(200==this._xhr.status){var a=JSON.parse(this._xhr.responseText);this.splice("items",0);a=ma(a);for(var c=a.next();!c.done;c=a.next())this.push("items",c.value)}this._retry(this._getSleep())},_retry:function(a){this._timer=window.setTimeout(this._load.bind(this),a)},_getSleep:function(){return 1E3/(0===this.fps?1:this.fps)},_clear:function(){this._timer&&
(window.clearTimeout(this._timer),this._timer=null);this._xhr&&(4>this._xhr.readyState&&this._xhr.abort(),this._xhr=null)},_fpsChanged:function(a,c){0==a?this._clear():0==c&&this._load()}})})();
</script>
</dom-module>


<dom-module id="tf-beholder-dashboard">
  <template>
    <tf-dashboard-layout class="style-scope tf-beholder-dashboard">
      <div class="sidebar style-scope tf-beholder-dashboard">
        <template is="dom-if" class="style-scope tf-beholder-dashboard"></template>
        <div class="sidebar-section style-scope tf-beholder-dashboard">
          <h3 class="style-scope tf-beholder-dashboard">Values</h3>
          <paper-radio-group id="valuesSelector" class="style-scope tf-beholder-dashboard">
            <paper-radio-button name="trainable_variables" class="style-scope tf-beholder-dashboard">
              <pre class="style-scope tf-beholder-dashboard">tf.trainable_variables()</pre>
            </paper-radio-button>
            <paper-radio-button id="option-arrays" name="arrays" class="style-scope tf-beholder-dashboard">
              <pre class="style-scope tf-beholder-dashboard">b.update(arrays=[NP_ARRAYS])</pre>
            </paper-radio-button>
            <paper-radio-button id="option-frames" name="frames" class="style-scope tf-beholder-dashboard">
              <pre class="style-scope tf-beholder-dashboard">b.update(frame=NP_ARRAY)</pre>
            </paper-radio-button>
          </paper-radio-group>

          <template is="dom-if" class="style-scope tf-beholder-dashboard"></template>
        </div>

        <template is="dom-if" class="style-scope tf-beholder-dashboard"></template>

        <div class="sidebar-section style-scope tf-beholder-dashboard">
          <h3 class="style-scope tf-beholder-dashboard">Updates per second: </h3>
          <paper-slider id="FPSSlider" type="number" step="1" min="0" max="30" pin="true" class="style-scope tf-beholder-dashboard">
          </paper-slider>
        </div>

        <div class="sidebar-section style-scope tf-beholder-dashboard">
          <div class="style-scope tf-beholder-dashboard">
            <paper-button class="x-button style-scope tf-beholder-dashboard" id="record_button">
              
            </paper-button>
          </div>
        </div>

        <div class="sidebar-section style-scope tf-beholder-dashboard">
          <p class="disclaimer style-scope tf-beholder-dashboard">Note: Beholder currently only works well on local file systems.
        </p></div>

      </div>
      <div class="center style-scope tf-beholder-dashboard">

        <template is="dom-if" class="style-scope tf-beholder-dashboard"></template>

        <template is="dom-if" class="style-scope tf-beholder-dashboard"></template>

      </div>
    </tf-dashboard-layout>
    
    
  </template>
  <script>//~~WEBPATH~~/tf-beholder-dashboard/tf-beholder-dashboard.html.js
Polymer({is:"tf-beholder-dashboard",properties:{_requestManager:{type:Object,value:function(){return new u.RequestManager(10,0)}},_values:{type:String,value:"trainable_variables",observer:"_configChanged"},_mode:{type:String,value:"variance",observer:"_configChanged"},_scaling:{type:String,value:"layer",observer:"_configChanged"},_windowSize:{type:Number,value:15,observer:"_configChanged"},_previousFPS:{type:Number,value:30},_FPS:{type:Number,value:10,observer:"_configChanged"},_recordText:{type:String,
value:"start recording"},_isRecording:{type:Boolean,value:!1,observer:"_configChanged"},_showAll:{type:Boolean,value:!1,observer:"_configChanged"},_colormap:{type:String,value:"magma",observer:"_configChanged"},_is_active:{type:Boolean,value:!1,observer:"_configChanged"},_controls_disabled:{type:Boolean,value:!1,observer:"_configChanged"}},_valuesNotFrame:function(a){return"frames"!==a},_varianceSelected:function(a){return"variance"===a},_configChanged:function(){if(this._is_active&&!this._controls_disabled){for(var a=
ma([this._values,this._mode,this._scaling,this._windowSize,this._FPS,this._isRecording,this._showAll,this._colormap]),b=a.next();!b.done;b=a.next())if(b=b.value,"undefined"===typeof b||""===b)return;this._requestManager.request(u.getRouter().pluginRoute("beholder","/change-config"),{values:this._values,mode:this._mode,scaling:this._scaling,window_size:this._windowSize,FPS:this._FPS,is_recording:this._isRecording,show_all:this._showAll,colormap:this._colormap})}},_toggleRecord:function(){"start recording"==
this._recordText?(this.set("_recordText","stop recording"),this.set("_isRecording",!0)):(this.set("_recordText","start recording"),this.set("_isRecording",!1));this.$.record_button.classList.toggle("is-recording")},ready:function(){this.reload()},reload:function(){var a=this;this._requestManager.request(u.getRouter().pluginRoute("beholder","/is-active")).then(function(b){a.set("_is_active",b.is_active);a.set("_controls_disabled",!b.is_config_writable)})}});
$a.registerDashboard({plugin:"beholder",elementName:"tf-beholder-dashboard",shouldRemoveDom:!0});
</script>
</dom-module>



<iron-iconset-svg name="av" size="24" style="display: none;">
<svg><defs>
<g id="add-to-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3h3z"></path></g>
<g id="airplay"><path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path></g>
<g id="album"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path></g>
<g id="art-track"><path d="M22 13h-8v-2h8v2zm0-6h-8v2h8V7zm-8 10h8v-2h-8v2zm-2-8v6c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2zm-1.5 6l-2.25-3-1.75 2.26-1.25-1.51L3.5 15h7z"></path></g>
<g id="av-timer"><path d="M11 17c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92 0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9 4.97 0 9-4.03 9-9s-4.03-9-9-9h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z"></path></g>
<g id="branding-watermark"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16h-9v-6h9v6z"></path></g>
<g id="call-to-action"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3v-3h18v3z"></path></g>
<g id="closed-caption"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"></path></g>
<g id="equalizer"><path d="M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z"></path></g>
<g id="explicit"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h4v2h-4v2h4v2H9V7h6v2z"></path></g>
<g id="fast-forward"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"></path></g>
<g id="fast-rewind"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"></path></g>
<g id="featured-play-list"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 8H3V9h9v2zm0-4H3V5h9v2z"></path></g>
<g id="featured-video"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 9H3V5h9v7z"></path></g>
<g id="fiber-dvr"><path d="M17.5 10.5h2v1h-2zm-13 0h2v3h-2zM21 3H3c-1.11 0-2 .89-2 2v14c0 1.1.89 2 2 2h18c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2zM8 13.5c0 .85-.65 1.5-1.5 1.5H3V9h3.5c.85 0 1.5.65 1.5 1.5v3zm4.62 1.5h-1.5L9.37 9h1.5l1 3.43 1-3.43h1.5l-1.75 6zM21 11.5c0 .6-.4 1.15-.9 1.4L21 15h-1.5l-.85-2H17.5v2H16V9h3.5c.85 0 1.5.65 1.5 1.5v1z"></path></g>
<g id="fiber-manual-record"><circle cx="12" cy="12" r="8"></circle></g>
<g id="fiber-new"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z"></path></g>
<g id="fiber-pin"><path d="M5.5 10.5h2v1h-2zM20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM9 11.5c0 .85-.65 1.5-1.5 1.5h-2v2H4V9h3.5c.85 0 1.5.65 1.5 1.5v1zm3.5 3.5H11V9h1.5v6zm7.5 0h-1.2l-2.55-3.5V15H15V9h1.25l2.5 3.5V9H20v6z"></path></g>
<g id="fiber-smart-record"><g><circle cx="9" cy="12" r="8"></circle><path d="M17 4.26v2.09c2.33.82 4 3.04 4 5.65s-1.67 4.83-4 5.65v2.09c3.45-.89 6-4.01 6-7.74s-2.55-6.85-6-7.74z"></path></g></g>
<g id="forward-10"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.8 3H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z"></path></g>
<g id="forward-30"><path d="M9.6 13.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5zM4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8z"></path></g>
<g id="forward-5"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.7.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.5.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.6z"></path></g>
<g id="games"><path d="M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"></path></g>
<g id="hd"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path></g>
<g id="hearing"><path d="M17 20c-.29 0-.56-.06-.76-.15-.71-.37-1.21-.88-1.71-2.38-.51-1.56-1.47-2.29-2.39-3-.79-.61-1.61-1.24-2.32-2.53C9.29 10.98 9 9.93 9 9c0-2.8 2.2-5 5-5s5 2.2 5 5h2c0-3.93-3.07-7-7-7S7 5.07 7 9c0 1.26.38 2.65 1.07 3.9.91 1.65 1.98 2.48 2.85 3.15.81.62 1.39 1.07 1.71 2.05.6 1.82 1.37 2.84 2.73 3.55.51.23 1.07.35 1.64.35 2.21 0 4-1.79 4-4h-2c0 1.1-.9 2-2 2zM7.64 2.64L6.22 1.22C4.23 3.21 3 5.96 3 9s1.23 5.79 3.22 7.78l1.41-1.41C6.01 13.74 5 11.49 5 9s1.01-4.74 2.64-6.36zM11.5 9c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5z"></path></g>
<g id="high-quality"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v4zm-3.5-.5h2v-3h-2v3z"></path></g>
<g id="library-add"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g>
<g id="library-books"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"></path></g>
<g id="library-music"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z"></path></g>
<g id="loop"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"></path></g>
<g id="mic"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g>
<g id="mic-none"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g>
<g id="mic-off"><path d="M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"></path></g>
<g id="movie"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"></path></g>
<g id="music-video"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM8 15c0-1.66 1.34-3 3-3 .35 0 .69.07 1 .18V6h5v2h-3v7.03c-.02 1.64-1.35 2.97-3 2.97-1.66 0-3-1.34-3-3z"></path></g>
<g id="new-releases"><path d="M23 12l-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g>
<g id="not-interested"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"></path></g>
<g id="note"><path d="M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z"></path></g>
<g id="pause"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></g>
<g id="pause-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"></path></g>
<g id="pause-circle-outline"><path d="M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z"></path></g>
<g id="play-arrow"><path d="M8 5v14l11-7z"></path></g>
<g id="play-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"></path></g>
<g id="play-circle-outline"><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g>
<g id="playlist-add"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"></path></g>
<g id="playlist-add-check"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zM2 16h8v-2H2v2zm19.5-4.5L23 13l-6.99 7-4.51-4.5L13 14l3.01 3 5.49-5.5z"></path></g>
<g id="playlist-play"><path d="M19 9H2v2h17V9zm0-4H2v2h17V5zM2 15h13v-2H2v2zm15-2v6l5-3-5-3z"></path></g>
<g id="queue"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"></path></g>
<g id="queue-music"><path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"></path></g>
<g id="queue-play-next"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h2v-2H3V5h18v8h2V5c0-1.11-.9-2-2-2zm-8 7V7h-2v3H8v2h3v3h2v-3h3v-2h-3zm11 8l-4.5 4.5L18 21l3-3-3-3 1.5-1.5L24 18z"></path></g>
<g id="radio"><path d="M3.24 6.15C2.51 6.43 2 7.17 2 8v12c0 1.1.89 2 2 2h16c1.11 0 2-.9 2-2V8c0-1.11-.89-2-2-2H8.3l8.26-3.34L15.88 1 3.24 6.15zM7 20c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-8h-2v-2h-2v2H4V8h16v4z"></path></g>
<g id="recent-actors"><path d="M21 5v14h2V5h-2zm-4 14h2V5h-2v14zM14 5H2c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM8 7.75c1.24 0 2.25 1.01 2.25 2.25S9.24 12.25 8 12.25 5.75 11.24 5.75 10 6.76 7.75 8 7.75zM12.5 17h-9v-.75c0-1.5 3-2.25 4.5-2.25s4.5.75 4.5 2.25V17z"></path></g>
<g id="remove-from-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2H8v-2h8z"></path></g>
<g id="repeat"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"></path></g>
<g id="repeat-one"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z"></path></g>
<g id="replay"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"></path></g>
<g id="replay-10"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z"></path></g>
<g id="replay-30"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-2.4 8.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5c0-.1-.1-.2-.1-.3s-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z"></path></g>
<g id="replay-5"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.3 8.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.4.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.7z"></path></g>
<g id="shuffle"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"></path></g>
<g id="skip-next"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"></path></g>
<g id="skip-previous"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"></path></g>
<g id="slow-motion-video"><path d="M13.05 9.79L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"></path></g>
<g id="snooze"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-3-9h3.63L9 15.2V17h6v-2h-3.63L15 10.8V9H9v2z"></path></g>
<g id="sort-by-alpha"><path d="M14.94 4.66h-4.72l2.36-2.36zm-4.69 14.71h4.66l-2.33 2.33zM6.1 6.27L1.6 17.73h1.84l.92-2.45h5.11l.92 2.45h1.84L7.74 6.27H6.1zm-1.13 7.37l1.94-5.18 1.94 5.18H4.97zm10.76 2.5h6.12v1.59h-8.53v-1.29l5.92-8.56h-5.88v-1.6h8.3v1.26l-5.93 8.6z"></path></g>
<g id="stop"><path d="M6 6h12v12H6z"></path></g>
<g id="subscriptions"><path d="M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4l-6-3.27v6.53L16 16z"></path></g>
<g id="subtitles"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z"></path></g>
<g id="surround-sound"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.76 16.24l-1.41 1.41C4.78 16.1 4 14.05 4 12c0-2.05.78-4.1 2.34-5.66l1.41 1.41C6.59 8.93 6 10.46 6 12s.59 3.07 1.76 4.24zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm5.66 1.66l-1.41-1.41C17.41 15.07 18 13.54 18 12s-.59-3.07-1.76-4.24l1.41-1.41C19.22 7.9 20 9.95 20 12c0 2.05-.78 4.1-2.34 5.66zM12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="video-call"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z"></path></g>
<g id="video-label"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H3V5h18v11z"></path></g>
<g id="video-library"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"></path></g>
<g id="videocam"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"></path></g>
<g id="videocam-off"><path d="M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"></path></g>
<g id="volume-down"><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"></path></g>
<g id="volume-mute"><path d="M7 9v6h4l5 5V4l-5 5H7z"></path></g>
<g id="volume-off"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"></path></g>
<g id="volume-up"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></g>
<g id="web"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"></path></g>
<g id="web-asset"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm0 14H5V8h14v10z"></path></g>
</defs></svg>
</iron-iconset-svg>



<iron-iconset-svg name="communication" size="24" style="display: none;">
<svg><defs>
<g id="business"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"></path></g>
<g id="call"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"></path></g>
<g id="call-end"><path d="M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.69-1.36-2.67-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"></path></g>
<g id="call-made"><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"></path></g>
<g id="call-merge"><path d="M17 20.41L18.41 19 15 15.59 13.59 17 17 20.41zM7.5 8H11v5.59L5.59 19 7 20.41l6-6V8h3.5L12 3.5 7.5 8z"></path></g>
<g id="call-missed"><path d="M19.59 7L12 14.59 6.41 9H11V7H3v8h2v-4.59l7 7 9-9z"></path></g>
<g id="call-missed-outgoing"><path d="M3 8.41l9 9 7-7V15h2V7h-8v2h4.59L12 14.59 4.41 7 3 8.41z"></path></g>
<g id="call-received"><path d="M20 5.41L18.59 4 7 15.59V9H5v10h10v-2H8.41z"></path></g>
<g id="call-split"><path d="M14 4l2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z"></path></g>
<g id="chat"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"></path></g>
<g id="chat-bubble"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"></path></g>
<g id="chat-bubble-outline"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"></path></g>
<g id="clear-all"><path d="M5 13h14v-2H5v2zm-2 4h14v-2H3v2zM7 7v2h14V7H7z"></path></g>
<g id="comment"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></g>
<g id="contact-mail"><path d="M21 8V7l-3 2-3-2v1l3 2 3-2zm1-5H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm8-6h-8V6h8v6z"></path></g>
<g id="contact-phone"><path d="M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2z"></path></g>
<g id="contacts"><path d="M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z"></path></g>
<g id="dialer-sip"><path d="M17 3h-1v5h1V3zm-2 2h-2V4h2V3h-3v3h2v1h-2v1h3V5zm3-2v5h1V6h2V3h-3zm2 2h-1V4h1v1zm0 10.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.01.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.59l2.2-2.21c.27-.26.35-.65.24-1C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1z"></path></g>
<g id="dialpad"><path d="M12 19c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12-8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-6 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g>
<g id="email"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"></path></g>
<g id="forum"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"></path></g>
<g id="import-contacts"><path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"></path></g>
<g id="import-export"><path d="M9 3L5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3z"></path></g>
<g id="invert-colors-off"><path d="M20.65 20.87l-2.35-2.35-6.3-6.29-3.56-3.57-1.42-1.41L4.27 4.5 3 5.77l2.78 2.78c-2.55 3.14-2.36 7.76.56 10.69C7.9 20.8 9.95 21.58 12 21.58c1.79 0 3.57-.59 5.03-1.78l2.7 2.7L21 21.23l-.35-.36zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59c0-1.32.43-2.57 1.21-3.6L12 14.77v4.82zM12 5.1v4.58l7.25 7.26c1.37-2.96.84-6.57-1.6-9.01L12 2.27l-3.7 3.7 1.41 1.41L12 5.1z"></path></g>
<g id="live-help"><path d="M19 2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 16h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 11.9 13 12.5 13 14h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g>
<g id="location-off"><path d="M12 6.5c1.38 0 2.5 1.12 2.5 2.5 0 .74-.33 1.39-.83 1.85l3.63 3.63c.98-1.86 1.7-3.8 1.7-5.48 0-3.87-3.13-7-7-7-1.98 0-3.76.83-5.04 2.15l3.19 3.19c.46-.52 1.11-.84 1.85-.84zm4.37 9.6l-4.63-4.63-.11-.11L3.27 3 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21 20 19.73l-3.63-3.63z"></path></g>
<g id="location-on"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g>
<g id="mail-outline"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"></path></g>
<g id="message"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></g>
<g id="no-sim"><path d="M18.99 5c0-1.1-.89-2-1.99-2h-7L7.66 5.34 19 16.68 18.99 5zM3.65 3.88L2.38 5.15 5 7.77V19c0 1.1.9 2 2 2h10.01c.35 0 .67-.1.96-.26l1.88 1.88 1.27-1.27L3.65 3.88z"></path></g>
<g id="phone"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"></path></g>
<g id="phonelink-erase"><path d="M13 8.2l-1-1-4 4-4-4-1 1 4 4-4 4 1 1 4-4 4 4 1-1-4-4 4-4zM19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2z"></path></g>
<g id="phonelink-lock"><path d="M19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-8.2 10V9.5C10.8 8.1 9.4 7 8 7S5.2 8.1 5.2 9.5V11c-.6 0-1.2.6-1.2 1.2v3.5c0 .7.6 1.3 1.2 1.3h5.5c.7 0 1.3-.6 1.3-1.2v-3.5c0-.7-.6-1.3-1.2-1.3zm-1.3 0h-3V9.5c0-.8.7-1.3 1.5-1.3s1.5.5 1.5 1.3V11z"></path></g>
<g id="phonelink-ring"><path d="M20.1 7.7l-1 1c1.8 1.8 1.8 4.6 0 6.5l1 1c2.5-2.3 2.5-6.1 0-8.5zM18 9.8l-1 1c.5.7.5 1.6 0 2.3l1 1c1.2-1.2 1.2-3 0-4.3zM14 1H4c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 19H4V4h10v16z"></path></g>
<g id="phonelink-setup"><path d="M11.8 12.5v-1l1.1-.8c.1-.1.1-.2.1-.3l-1-1.7c-.1-.1-.2-.2-.3-.1l-1.3.4c-.3-.2-.6-.4-.9-.5l-.2-1.3c0-.1-.1-.2-.3-.2H7c-.1 0-.2.1-.3.2l-.2 1.3c-.3.1-.6.3-.9.5l-1.3-.5c-.1 0-.2 0-.3.1l-1 1.7c-.1.1 0 .2.1.3l1.1.8v1l-1.1.8c-.1.2-.1.3-.1.4l1 1.7c.1.1.2.2.3.1l1.4-.4c.3.2.6.4.9.5l.2 1.3c-.1.1.1.2.2.2h2c.1 0 .2-.1.3-.2l.2-1.3c.3-.1.6-.3.9-.5l1.3.5c.1 0 .2 0 .3-.1l1-1.7c.1-.1 0-.2-.1-.3l-1.1-.9zM8 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM19 1H9c-1.1 0-2 .9-2 2v3h2V4h10v16H9v-2H7v3c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2z"></path></g>
<g id="portable-wifi-off"><path d="M17.56 14.24c.28-.69.44-1.45.44-2.24 0-3.31-2.69-6-6-6-.79 0-1.55.16-2.24.44l1.62 1.62c.2-.03.41-.06.62-.06 2.21 0 4 1.79 4 4 0 .21-.02.42-.05.63l1.61 1.61zM12 4c4.42 0 8 3.58 8 8 0 1.35-.35 2.62-.95 3.74l1.47 1.47C21.46 15.69 22 13.91 22 12c0-5.52-4.48-10-10-10-1.91 0-3.69.55-5.21 1.47l1.46 1.46C9.37 4.34 10.65 4 12 4zM3.27 2.5L2 3.77l2.1 2.1C2.79 7.57 2 9.69 2 12c0 3.7 2.01 6.92 4.99 8.65l1-1.73C5.61 17.53 4 14.96 4 12c0-1.76.57-3.38 1.53-4.69l1.43 1.44C6.36 9.68 6 10.8 6 12c0 2.22 1.21 4.15 3 5.19l1-1.74c-1.19-.7-2-1.97-2-3.45 0-.65.17-1.25.44-1.79l1.58 1.58L10 12c0 1.1.9 2 2 2l.21-.02.01.01 7.51 7.51L21 20.23 4.27 3.5l-1-1z"></path></g>
<g id="present-to-all"><path d="M21 3H3c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h18c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm0 16.02H3V4.98h18v14.04zM10 12H8l4-4 4 4h-2v4h-4v-4z"></path></g>
<g id="ring-volume"><path d="M23.71 16.67C20.66 13.78 16.54 12 12 12 7.46 12 3.34 13.78.29 16.67c-.18.18-.29.43-.29.71 0 .28.11.53.29.71l2.48 2.48c.18.18.43.29.71.29.27 0 .52-.11.7-.28.79-.74 1.69-1.36 2.66-1.85.33-.16.56-.5.56-.9v-3.1c1.45-.48 3-.73 4.6-.73s3.15.25 4.6.72v3.1c0 .39.23.74.56.9.98.49 1.87 1.12 2.66 1.85.18.18.43.28.7.28.28 0 .53-.11.71-.29l2.48-2.48c.18-.18.29-.43.29-.71 0-.27-.11-.52-.29-.7zM21.16 6.26l-1.41-1.41-3.56 3.55 1.41 1.41s3.45-3.52 3.56-3.55zM13 2h-2v5h2V2zM6.4 9.81L7.81 8.4 4.26 4.84 2.84 6.26c.11.03 3.56 3.55 3.56 3.55z"></path></g>
<g id="rss-feed"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></g>
<g id="screen-share"><path d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2h-4zm-7-3.53v-2.19c-2.78 0-4.61.85-6 2.72.56-2.67 2.11-5.33 6-5.87V7l4 3.73-4 3.74z"></path></g>
<g id="speaker-phone"><path d="M7 7.07L8.43 8.5c.91-.91 2.18-1.48 3.57-1.48s2.66.57 3.57 1.48L17 7.07C15.72 5.79 13.95 5 12 5s-3.72.79-5 2.07zM12 1C8.98 1 6.24 2.23 4.25 4.21l1.41 1.41C7.28 4 9.53 3 12 3s4.72 1 6.34 2.62l1.41-1.41C17.76 2.23 15.02 1 12 1zm2.86 9.01L9.14 10C8.51 10 8 10.51 8 11.14v9.71c0 .63.51 1.14 1.14 1.14h5.71c.63 0 1.14-.51 1.14-1.14v-9.71c.01-.63-.5-1.13-1.13-1.13zM15 20H9v-8h6v8z"></path></g>
<g id="stay-current-landscape"><path d="M1.01 7L1 17c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2H3c-1.1 0-1.99.9-1.99 2zM19 7v10H5V7h14z"></path></g>
<g id="stay-current-portrait"><path d="M17 1.01L7 1c-1.1 0-1.99.9-1.99 2v18c0 1.1.89 2 1.99 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g>
<g id="stay-primary-landscape"><path d="M1.01 7L1 17c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2H3c-1.1 0-1.99.9-1.99 2zM19 7v10H5V7h14z"></path></g>
<g id="stay-primary-portrait"><path d="M17 1.01L7 1c-1.1 0-1.99.9-1.99 2v18c0 1.1.89 2 1.99 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"></path></g>
<g id="stop-screen-share"><path d="M21.22 18.02l2 2H24v-2h-2.78zm.77-2l.01-10c0-1.11-.9-2-2-2H7.22l5.23 5.23c.18-.04.36-.07.55-.1V7.02l4 3.73-1.58 1.47 5.54 5.54c.61-.33 1.03-.99 1.03-1.74zM2.39 1.73L1.11 3l1.54 1.54c-.4.36-.65.89-.65 1.48v10c0 1.1.89 2 2 2H0v2h18.13l2.71 2.71 1.27-1.27L2.39 1.73zM7 15.02c.31-1.48.92-2.95 2.07-4.06l1.59 1.59c-1.54.38-2.7 1.18-3.66 2.47z"></path></g>
<g id="swap-calls"><path d="M18 4l-4 4h3v7c0 1.1-.9 2-2 2s-2-.9-2-2V8c0-2.21-1.79-4-4-4S5 5.79 5 8v7H2l4 4 4-4H7V8c0-1.1.9-2 2-2s2 .9 2 2v7c0 2.21 1.79 4 4 4s4-1.79 4-4V8h3l-4-4z"></path></g>
<g id="textsms"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 11H7V9h2v2zm4 0h-2V9h2v2zm4 0h-2V9h2v2z"></path></g>
<g id="voicemail"><path d="M18.5 6C15.46 6 13 8.46 13 11.5c0 1.33.47 2.55 1.26 3.5H9.74c.79-.95 1.26-2.17 1.26-3.5C11 8.46 8.54 6 5.5 6S0 8.46 0 11.5 2.46 17 5.5 17h13c3.04 0 5.5-2.46 5.5-5.5S21.54 6 18.5 6zm-13 9C3.57 15 2 13.43 2 11.5S3.57 8 5.5 8 9 9.57 9 11.5 7.43 15 5.5 15zm13 0c-1.93 0-3.5-1.57-3.5-3.5S16.57 8 18.5 8 22 9.57 22 11.5 20.43 15 18.5 15z"></path></g>
<g id="vpn-key"><path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g>
</defs></svg>
</iron-iconset-svg>









<dom-module id="iron-pages">

  <template>
    

    <content class="style-scope iron-pages"></content>
  </template>

  <script>//~~WEBPATH~~/iron-pages/iron-pages.html.js
Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(){this.async(this.notifyResize)}});
</script>
</dom-module>




















<dom-module id="paper-tab">
  <template>
    

    <div class="tab-content style-scope paper-tab">
      <content class="style-scope paper-tab"></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-tabs/paper-tab.html.js
Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState,Polymer.IronButtonState,Polymer.PaperRippleBehavior],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var a=Polymer.dom(this).parentNode;return!!a&&!!a.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(a){if(this.link){var b=this.queryEffectiveChildren("a");
b&&a.target!==b&&b.click()}}});
</script>
</dom-module>










<iron-iconset-svg name="paper-tabs" size="24" style="display: none;">
<svg><defs>
<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>
<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>
</defs></svg>
</iron-iconset-svg>





<dom-module id="paper-tabs">
  <template>
    

    <paper-icon-button icon="paper-tabs:chevron-left" tabindex="-1" class="style-scope paper-tabs"></paper-icon-button>

    <div id="tabsContainer" class="style-scope paper-tabs">
      <div id="tabsContent" class="style-scope paper-tabs">
        <div id="selectionBar" class="style-scope paper-tabs"></div>
        <content class="style-scope paper-tabs"></content>
      </div>
    </div>

    <paper-icon-button icon="paper-tabs:chevron-right" tabindex="-1" class="style-scope paper-tabs"></paper-icon-button>

  </template>

  <script>//~~WEBPATH~~/paper-tabs/paper-tabs.html.js
Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,
value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null;this._pendingActivationTimeout=this._pendingActivationItem=
void 0;this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this);this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(a){Polymer.dom(this).querySelectorAll("paper-tab").forEach(a?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(a){a.setAttribute("noink","")},_removeNoinkAttribute:function(a){a.removeAttribute("noink")},
_computeScrollButtonClass:function(a,b,c){return!b||c?"hidden":a?"not-visible":""},_computeTabsContentClass:function(a,b){return a?"scrollable"+(b?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(a,b){return a?"hidden":b?"align-bottom":""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",function(){this._scroll();this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(a){this._tabChanged(a.detail.item,this._previousTab);this._previousTab=a.detail.item;
this.cancelDebouncer("tab-changed")},_onIronDeselect:function(){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab);this._previousTab=null},1)},_activateHandler:function(){this._cancelPendingActivation();Polymer.IronMenuBehaviorImpl._activateHandler.apply(this,arguments)},_scheduleActivation:function(a,b){this._pendingActivationItem=a;this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,b)},_delayedActivationHandler:function(){var a=this._pendingActivationItem;
this._pendingActivationTimeout=this._pendingActivationItem=void 0;a.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationTimeout=this._pendingActivationItem=void 0)},_onArrowKeyup:function(){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(a){a.target===this._pendingActivationItem&&this._cancelPendingActivation()},
get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(a,b){this.scrollable&&this._affectScroll(b&&-b.ddx||0)},_down:function(){this.async(function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)},1)},_affectScroll:function(a){this.$.tabsContainer.scrollLeft+=a;a=this.$.tabsContainer.scrollLeft;this._leftHidden=0===a;this._rightHidden=a===this._tabContainerScrollSize},
_onLeftScrollButtonDown:function(){this._scrollToLeft();this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight();this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob);this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(a,b){if(a){var c=this.$.tabsContent.getBoundingClientRect(),
d=c.width,e=a.getBoundingClientRect();c=e.left-c.left;this._pos={width:this._calcPercent(e.width,d),left:this._calcPercent(c,d)};if(this.noSlide||null==b)this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(this._pos.width,this._pos.left);else{var f=b.getBoundingClientRect();b=this.items.indexOf(b);a=this.items.indexOf(a);this.$.selectionBar.classList.add("expand");a=b<a;this._isRTL&&(a=!a);a?this._positionBar(this._calcPercent(e.left+e.width-
f.left,d)-5,this._left):this._positionBar(this._calcPercent(f.left+f.width-e.left,d)-5,this._calcPercent(c,d)+5);this.scrollable&&this._scrollToSelectedIfNeeded(e.width,c)}}else this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),this._positionBar(0,0)},_scrollToSelectedIfNeeded:function(a,b){b-=this.$.tabsContainer.scrollLeft;0>b?this.$.tabsContainer.scrollLeft+=b:(b+=a-this.$.tabsContainer.offsetWidth,0<b&&(this.$.tabsContainer.scrollLeft+=b))},_calcPercent:function(a,
b){return 100*a/b},_positionBar:function(a,b){a=a||0;b=b||0;this._width=a;this._left=b;this.transform("translateX("+b+"%) scaleX("+a/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(){var a=this.$.selectionBar.classList;a.contains("expand")?(a.remove("expand"),a.add("contract"),this._positionBar(this._pos.width,this._pos.left)):a.contains("contract")&&a.remove("contract")}});
</script>
</dom-module>














<dom-module id="tf-inference-panel">
  <template>
    
    
    <div class="title style-scope tf-inference-panel">Set up your data and model</div>
    <paper-input always-float-label="" label="Inference address (blade address or host:port)" class="style-scope tf-inference-panel">
    </paper-input>
    <div class="flex-holder style-scope tf-inference-panel">
      <paper-input always-float-label="" label="Model name" class="input-in-row style-scope tf-inference-panel">
      </paper-input>
      <paper-input always-float-label="" label="Model version (optional)" class="input-in-row style-scope tf-inference-panel">
      </paper-input>
      <paper-input always-float-label="" label="Model signature (optional)" class="input-in-row style-scope tf-inference-panel">
      </paper-input>
    </div>
    <div class="model-type-label style-scope tf-inference-panel">Model Type</div>
    <paper-radio-group class="style-scope tf-inference-panel">
      <paper-radio-button name="classification" class="style-scope tf-inference-panel">Classification</paper-radio-button>
      <paper-radio-button name="regression" class="style-scope tf-inference-panel">Regression</paper-radio-button>
    </paper-radio-group>
    <paper-input always-float-label="" label="Path to examples" class="style-scope tf-inference-panel">
    </paper-input>
    <paper-input always-float-label="" type="number" label="Maximum number of examples to load" class="style-scope tf-inference-panel">
    </paper-input>

    <paper-input always-float-label="" label="Path to label dictionary (optional)" class="style-scope tf-inference-panel">
    </paper-input>
    <div class="flex-holder style-scope tf-inference-panel">
      <paper-icon-button icon="help" class="help-icon style-scope tf-inference-panel"></paper-icon-button>
      <div class="style-scope tf-inference-panel">Maps predicted class indices to labels from text file</div>
      <paper-tooltip class="tooltip style-scope tf-inference-panel" animation-delay="0" position="bottom" offset="0">
        An optional text file for use with the results of a classification model.
        Classification models return predicted classes as indices. If a vocab file is
        provided, each predicted class index will be mapped to a label from this file for use
        in the display. Each line in the file corresponds to a label, with the first line
        corresponding to class index 0.
      </paper-tooltip>
    </div>
    <div class="flex-holder style-scope tf-inference-panel">
      <paper-input always-float-label="" type="number" label="Max classes to display" class="input-in-row style-scope tf-inference-panel">
      </paper-input>
      <paper-checkbox class="multi-class-checkbox style-scope tf-inference-panel">
        Multi-class classification model
      </paper-checkbox>
    </div>
  </template>

  <script>//~~WEBPATH~~/tf-interactive-inference-dashboard/tf-inference-panel.html.js
Polymer({is:"tf-inference-panel",properties:{examplesPath:{type:String,value:G.getStringInitializer("examplesPath",{defaultValue:""}),observer:"examplesPathChanged_",notify:!0},modelName:{type:String,value:G.getStringInitializer("modelName",{defaultValue:""}),observer:"modelNameChanged_",notify:!0},inferenceAddress:{type:String,value:G.getStringInitializer("inferenceAddress",{defaultValue:""}),observer:"inferenceAddressChanged_",notify:!0},modelType:{type:String,value:G.getStringInitializer("modelType",
{defaultValue:"classification"}),observer:"modelTypeChanged_",notify:!0},modelVersion:{type:String,value:G.getStringInitializer("modelVersion",{defaultValue:""}),observer:"modelVersionChanged_",notify:!0},modelSignature:{type:String,value:G.getStringInitializer("modelSignature",{defaultValue:""}),observer:"modelSignatureChanged_",notify:!0},maxExamples:{type:Number,value:G.getStringInitializer("maxExamples",{defaultValue:"1000"}),observer:"maxExamplesChanged_",notify:!0},labelVocabPath:{type:String,
value:G.getStringInitializer("labelVocabPath",{defaultValue:""}),observer:"labelVocabPathChanged_",notify:!0},multiClass:{type:Boolean,value:!1,notify:!0},maxClassesToDisplay:{type:Number,value:5,notify:!0}},examplesPathChanged_:G.getStringObserver("examplesPath",{defaultValue:""}),modelNameChanged_:G.getStringObserver("modelName",{defaultValue:""}),inferenceAddressChanged_:G.getStringObserver("inferenceAddress",{defaultValue:""}),modelTypeChanged_:G.getStringObserver("modelType",{defaultValue:"classification"}),
modelVersionChanged_:G.getStringObserver("modelVersion",{defaultValue:""}),modelSignatureChanged_:G.getStringObserver("modelSignature",{defaultValue:""}),maxExamplesChanged_:G.getStringObserver("maxExamples",{defaultValue:"1000"}),labelVocabPathChanged_:G.getStringObserver("labelVocabPath",{defaultValue:""}),shouldDisableClassificationControls_:function(a){return"regression"==a}});
</script>
</dom-module>









<dom-module id="vz-bar-chart">
  <template>
    <div id="tooltip" class="style-scope vz-bar-chart">
      <table class="style-scope vz-bar-chart">
        <thead class="style-scope vz-bar-chart">
          <tr id="tooltip-table-header-row" class="style-scope vz-bar-chart"></tr>
        </thead>
        <tbody class="style-scope vz-bar-chart">
        </tbody>
      </table>
    </div>
    <div id="chartdiv" class="style-scope vz-bar-chart"></div>
    
  </template>
  <script>//~~WEBPATH~~/vz-bar-chart/vz-bar-chart.js
var Pc;
(function(){Polymer({is:"vz-bar-chart",properties:{data:Object,colorScale:{type:Object,value:function(){return(new Plottable.Scales.Color).range(d3.schemeCategory10)}},tooltipColumns:{type:Array,value:function(){return[{title:"Name",evaluate:function(a){return a.key}},{title:"X",evaluate:function(a){return a.value.x}},{title:"Y",evaluate:function(a){return a.value.y}}]}},_attached:Boolean,_chart:Object},observers:["_makeChart(data, colorScale, tooltipColumns, _attached)"],redraw:function(){this._chart&&this._chart.redraw()},
attached:function(){this._attached=!0},detached:function(){this._attached=!1},ready:function(){this.scopeSubtree(this.$.tooltip,!0);this.scopeSubtree(this.$.chartdiv,!0)},_makeChart:function(){this._chart&&this._chart.destroy();var b=d3.select(this.$.tooltip);b=new a(this.data,this.colorScale,b,this.tooltipColumns);var c=d3.select(this.$.chartdiv);b.renderTo(c);this._chart=b}});var a=function(){function a(a,b,e,f){b.domain(_.sortBy(_.keys(a)));this.data=a;this.colorScale=b;this.tooltip=e;this.outer=
this.plot=null;this.buildChart(a,b);this.setupTooltips(f)}a.prototype.buildChart=function(a,b){this.outer&&this.outer.destroy();var c=new Plottable.Scales.Category,d=new Plottable.Scales.Linear,g=new Plottable.Axes.Category(c,"bottom"),h=new Plottable.Axes.Numeric(d,"left"),l=new Plottable.Plots.ClusteredBar;l.x(function(a){return a.x},c);l.y(function(a){return a.y},d);_.keys(a).forEach(function(b){return l.addDataset((new Plottable.Dataset(a[b])).metadata(b))});l.attr("fill",function(a,c,d){return b.scale(d.metadata())});
this.plot=l;this.outer=new Plottable.Components.Table([[h,l],[null,g]])};a.prototype.setupTooltips=function(a){var b=this,c=this.tooltip.select("thead tr");c.selectAll("th").data(a).enter().append("th").text(function(a){return a.title});c.insert("th",":first-child");var f=this.plot;c=new Plottable.Interactions.Pointer;c.attachTo(f);c.onPointerMove(function(c){(c=f.entityNearest(c))&&b.drawTooltips(c,a)});c.onPointerExit(function(){b.tooltip.style("opacity",0)})};a.prototype.drawTooltips=function(a,
b){var c=a.datum.x,d=a.dataset.metadata(),g=_.mapValues(this.data,function(a){return _.filter(a,function(a){return a.x==c})});g=_.pickBy(g,function(a){return 0<a.length});g=_.mapValues(g,function(a){return a[0]});g=d3.entries(g);var h=this.tooltip.select("tbody").html("").selectAll("tr").data(g).enter().append("tr");h.style("white-space","nowrap");h.classed("closest",function(a){return a.key==d});var l=this.colorScale;h.append("td").append("div").classed("swatch",!0).style("background-color",function(a){return l.scale(a.key)});
_.each(b,function(a){h.append("td").text(function(b){return a.evaluate(b)})});this.tooltip.style("transform","translate("+a.position.x+"px,"+a.position.y+"px)");this.tooltip.style("opacity",1)};a.prototype.renderTo=function(a){this.targetSVG=a;this.outer.renderTo(a)};a.prototype.redraw=function(){this.outer.redraw()};a.prototype.destroy=function(){this.outer.destroy()};return a}()})(Pc||(Pc={}));
</script>
</dom-module>





<dom-module id="tf-confusion-matrix">
  <template>
    
    <div id="holder" class="style-scope tf-confusion-matrix"></div>
  </template>

  <script>//~~WEBPATH~~/tf-interactive-inference-dashboard/tf-confusion-matrix.html.js
Polymer({is:"tf-confusion-matrix",properties:{counts:{type:Object,observer:"drawMatrix"}},ready:function(){this.scopeSubtree(this.$.holder,!0)},drawMatrix:function(a){var b=this;this.$.holder.innerHTML="";if(a){for(var c={},d=Object.keys(a),e=0;e<d.length;e++){c[d[e]]=!0;for(var f=Object.keys(a[d[e]]),g=0;g<f.length;g++)c[f[g]]=!0}var h=Object.keys(c).sort();2==h.length&&"No"==h[0]&&"Yes"==h[1]&&(h=h.reverse());var l=Array(h.length);_.fill(l,0);var m=[];for(c=0;c<h.length;c++)d=Array(h.length),_.fill(d,
0),m.push(d);for(c=0;c<h.length;c++)for(d=0;d<h.length;d++)e=h[c],f=h[d],e in a&&f in a[e]&&(m[c][d]=a[e][f]);a=[];var n=0;for(c=0;c<m.length;c++)for(d=m[c].reduce(function(a,b){return a+b},0),a.push([0].concat(m[c]).concat([d])),d=0;d<m.length;d++)l[d]+=m[c][d],n+=m[c][d];c=this.getIndices(m.length+2);f=d3.select(this.$.holder).append("table");d=f.append("thead");e=f.append("tbody");f=f.append("tfoot");d.append("tr").selectAll("th").data(c).enter().append("th").text(function(a){return 0==a?b.getNText(n):
a<=m.length?"Predicted "+h[a-1]:"Total"}).attr("class",function(a){return 0==a?"n-label":"pred-label"});a=e.selectAll("tr").data(a).enter().append("tr").selectAll("td").data(function(a,b){return a.map(function(a,c){return 0==c?{value:"Actual "+h[b]}:{value:a,row:b}})}).enter().append("td").attr("class",function(a,b){return 0==b?"actual-label":0==a.value?"":b-1==a.row?"correct":b<=m.length?"incorrect":""}).style("background",function(a,b){if(0==b||b>m.length)return"#FFFFFF";b=d3.color("darkgrey");
b.opacity=a.value/n;return b+""}).append("div").classed("flex",!0);a.append("div").classed("parenthetical",function(a,b){return!!b}).text(function(a){return"row"in a?"("+a.value+")":""});a.append("div").text(function(a,b){return 0<b?d3.format(",.1%")(a.value/n):a.value});a=f.append("tr").selectAll("td").data(c).enter().append("td");a.classed("actual-label",function(a,b){return 0==b});a=a.append("div").classed("flex",!0);a.append("div").classed("parenthetical",function(a,b){return!!b}).text(function(a){return 0==
a?"Total":a<=m.length?"("+l[a-1]+")":""});a.append("div").text(function(a){return 0==a?"":a<=m.length?d3.format(",.1%")(l[a-1]/n):""})}},getIndices:function(a){return Array.apply(null,{length:a}).map(Number.call,Number)},getNText:function(a){return"n\x3d"+a}});
</script>
</dom-module>





<dom-module id="tf-inference-viewer">
  <template>
    
    <div class="row header style-scope tf-inference-viewer">
      <div class="marker style-scope tf-inference-viewer"></div>
      <div class="run style-scope tf-inference-viewer">Run</div>
      <div class="style-scope tf-inference-viewer">Label</div>
      <div class="score style-scope tf-inference-viewer"> </div>
      <div class="arrow style-scope tf-inference-viewer"></div>
      <div class="delta style-scope tf-inference-viewer">Delta</div>
    </div>
    <div class="runs-holder style-scope tf-inference-viewer">
      <template is="dom-repeat" as="inference" index-as="runindex" class="style-scope tf-inference-viewer"></template>
    </div>
  </template>

  <script>//~~WEBPATH~~/tf-interactive-inference-dashboard/tf-inference-viewer.html.js
Polymer({is:"tf-inference-viewer",properties:{inferences:Array,modelType:String,maxEntriesPerRun:{type:Number,value:5}},getLabel:function(a){var b=a.label;a.vocabLabel&&(b+=" ("+a.vocabLabel+")");return b},getLabelClass:function(a){return"classification"==a?"label":"no-label"},getScoreLabel:function(a){return"classification"==a?"Score":"Value"},getIconClass:function(a,b){return this.getIconDecision(a,b,"green","red")},getIcon:function(a,b){return this.getIconDecision(a,b,"icons:arrow-upward","icons:arrow-downward")},
getIconDecision:function(a,b,c,d){if(0==a)return"";var e=this.inferences[a][b].label;b=this.inferences[a][b].score;a=this.inferences[a-1];for(var f=0;f<a.length;f++)if(a[f].label==e){if(a[f].score>b)return d;if(a[f].score<b)break;return""}return c},getRunNumber:function(a){return a+1},getMarkerClass:function(a,b){return"marker"+(a==b.length-1?" mark":"")},getRowClass:function(a,b,c){var d="row ";return d=a==b.length-1?d+"dark-row":d+(0==c%2?"white-row":"stripe-row")},getInference:function(a){return a},
getPrintableScore:function(a){return a.toFixed(3)},getPrintableDelta:function(a,b){if(0==a)return"";var c=this.inferences[a][b].label;b=this.inferences[a][b].score;a=this.inferences[a-1];for(var d=0;d<a.length;d++)if(a[d].label==c)return(b-a[d].score).toFixed(6);return""},getInferenceList:function(a,b){return a.slice(0,b)}});
</script>
</dom-module>




<dom-module id="tf-regression-table">
  <template>
    
    <div class="table style-scope tf-regression-table">
      <div class="header-row style-scope tf-regression-table">
        <div class="header style-scope tf-regression-table">Name</div>
        <div class="header style-scope tf-regression-table">Count</div>
        <div class="header style-scope tf-regression-table">Mean Error</div>
        <div class="header style-scope tf-regression-table">Mean Absolute Error</div>
        <div class="header style-scope tf-regression-table">Mean Square Error</div>
      </div>
      <template is="dom-repeat" class="style-scope tf-regression-table"></template>
    </div>
  </template>

  <script>//~~WEBPATH~~/tf-interactive-inference-dashboard/tf-regression-table.html.js
Polymer({is:"tf-regression-table",properties:{entries:{type:Array}},format:function(a){return d3.format(".3f")(a)},getRowClass:function(a){return a?"row":"total-row"}});
</script>
</dom-module>














<script>//~~WEBPATH~~/facets-dive/lib/bounded-object.js
/*

 Copyright 2017 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Qc,Rc=Qc||(Qc={});Rc[Rc.Bottom=0]="Bottom";Rc[Rc.Left=1]="Left";Rc[Rc.Right=2]="Right";Rc[Rc.Top=3]="Top";
var Sc=function(){function a(){}a.prototype.shouldBeVisible=function(a,c,d,e){if(void 0!==this.minScale)return this.scaleDown||c>=this.minScale;if(!this.boundingBox)return!0;var b=this.boundingBox;if(b.left>d.x+e.right||b.right<d.x+e.left||b.bottom>d.y+e.top||b.top<d.y+e.bottom)return!1;e=this.elementMargin||{bottom:0,left:0,right:0,top:0};d=void 0===this.width?a.getBoundingClientRect().width+e.left+e.right:this.width;a=void 0===this.height?a.getBoundingClientRect().height+e.top+e.bottom:this.height;
e=isFinite(b.top)&&isFinite(b.bottom)?b.top-b.bottom:Infinity;return(isFinite(b.left)&&isFinite(b.right)?b.right-b.left:Infinity)*c>=d&&e*c>=a};return a}(),Tc=Qc;
</script>

<script>//~~WEBPATH~~/facets-dive/lib/sorting.js
function Uc(a,b){return null!==a&&void 0!==a||null!==b&&void 0!==b?null===a||void 0===a?-1:null===b||void 0===b?1:"number"===typeof a&&"number"===typeof b?isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:a-b:"string"!==typeof a?-1:"string"!==typeof b?1:a.localeCompare(b):a===b?0:void 0===a?-1:1}
function Vc(a,b){return null!==a&&void 0!==a||null!==b&&void 0!==b?null===a||void 0===a?-1:null===b||void 0===b?1:"number"===typeof a&&"number"===typeof b?isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:b-a:"string"!==typeof a?-1:"string"!==typeof b?1:-a.localeCompare(b):a===b?0:void 0===a?-1:1}
function Wc(a,b){return null!==a&&void 0!==a||null!==b&&void 0!==b?null===a||void 0===a?-1:null===b||void 0===b?1:"string"===typeof a&&"string"===typeof b?a.localeCompare(b):"number"!==typeof a?-1:"number"!==typeof b?1:isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:a-b:a===b?0:void 0===a?-1:1};
</script>

<script>//~~WEBPATH~~/facets-dive/lib/grid.js
function Xc(a,b,c,d){a=Math.floor(1E-6+c.minWidth/d.itemAspectRatio);return 1<a?b%a/(a-1):0}function Yc(a,b,c,d){a=Math.floor(1E-6+c.minWidth/d.itemAspectRatio);c=Math.ceil(c.items.length/a);return 1<c?Math.floor(b/a)/(c-1):0}
function Zc(a,b){var c="right"===b?1:"middle"===b?.5:0,d="top"===a?1:"middle"===a?.5:0;return function(a,b,g,h){var e=g.innerWidth-h.itemAspectRatio,f=g.innerHeight-1;return{x:Xc(a,b,g,h)/e*(g.minWidth-h.itemAspectRatio)+c*(g.innerWidth-g.minWidth)/e,y:Yc(a,b,g,h)/f*(g.minHeight-1)+d*(g.innerHeight-g.minHeight)/f}}}var $c=Zc("bottom","left"),ad,bd=ad||(ad={});bd[bd.Tight=0]="Tight";bd[bd.Uniform=1]="Uniform";
var cd=function(){function a(a){this.items=a;this.cellMargin=this.itemAspectRatio=1;this.cellPadding={bottom:0,left:0,right:0,top:0};this.targetGridAspectRatio=1;this.minCellAspectRatio=0;this.maxCellAspectRatio=Infinity;this.verticalFacet=function(){return null};this.horizontalFacet=function(){return null};this.verticalKeyCompare=Vc;this.horizontalKeyCompare=Uc;this.verticalKeys=[];this.verticalKeysHash={};this.horizontalKeys=[];this.horizontalKeysHash={};this.cells={};this.height=this.width=this.longestCellLength=
0;this.itemPositionSetter=function(a,b,e){a.x=b;a.y=e};this.computeItemPosition=$c;this.horizontalGridAlignment=this.verticalGridAlignment=ad.Tight;this.cellItemComparator=null}a.prototype.clear=function(){this.verticalKeys=[];this.verticalKeysHash={};this.horizontalKeys=[];this.horizontalKeysHash={};this.cells={};this.height=this.width=this.longestCellLength=0};a.prototype.arrange=function(){var a=this;this.facetItemsIntoCells();var c=this.computeOptimalCellAspectRatio(this.targetGridAspectRatio),
d=Math.min(this.maxCellAspectRatio,Math.max(this.minCellAspectRatio,c));c=[];for(var e=[],f=0;f<this.verticalKeys.length;f++)for(var g=0;g<this.horizontalKeys.length;g++){var h=this.getOrCreateCell(this.verticalKeys[f],this.horizontalKeys[g]);var l=this.computeCellDimensions(d,h.items.length);h.minWidth=l[0];h.minHeight=l[1];c[f]=Math.max(c[f]||0,h.minHeight);e[g]=Math.max(e[g]||0,h.minWidth)}for(f=0;f<this.verticalKeys.length;f++)for(g=0;g<this.horizontalKeys.length;g++)h=this.getCell(this.verticalKeys[f],
this.horizontalKeys[g]),f<this.verticalKeys.length-1&&(h.siblings.above=this.getCell(this.verticalKeys[f+1],this.horizontalKeys[g])),0<f&&(h.siblings.below=this.getCell(this.verticalKeys[f-1],this.horizontalKeys[g])),0<g&&(h.siblings.left=this.getCell(this.verticalKeys[f],this.horizontalKeys[g-1])),g<this.horizontalKeys.length-1&&(h.siblings.right=this.getCell(this.verticalKeys[f],this.horizontalKeys[g+1]));if(this.verticalGridAlignment===ad.Uniform)for(g=Math.max.apply(Math,c),f=0;f<c.length;f++)c[f]=
g;if(this.horizontalGridAlignment===ad.Uniform)for(f=Math.max.apply(Math,e),g=0;g<e.length;g++)e[g]=f;for(f=0;f<this.verticalKeys.length;f++)for(g=0;g<this.horizontalKeys.length;g++)h=this.getCell(this.verticalKeys[f],this.horizontalKeys[g]),h.height=c[f],h.width=e[g],h.innerHeight=h.height-this.cellPadding.top-this.cellPadding.bottom,h.innerWidth=h.width-this.cellPadding.left-this.cellPadding.right;l=this.cellMargin*this.itemAspectRatio;for(f=0;f<this.verticalKeys.length;f++)for(g=0;g<this.horizontalKeys.length;g++)h=
this.getCell(this.verticalKeys[f],this.horizontalKeys[g]),h.y=f?this.getCell(this.verticalKeys[f-1],this.horizontalKeys[g]).y+c[f-1]+l:0,h.contentY=h.y+this.cellPadding.bottom,h.x=g?this.getCell(this.verticalKeys[f],this.horizontalKeys[g-1]).x+e[g-1]+l:0,h.contentX=h.x+this.cellPadding.left;this.eachCell(function(b){a.width=Math.max(a.width,b.x+b.width);a.height=Math.max(a.height,b.y+b.height)});this.positionItems()};a.prototype.positionItems=function(){var a=this;this.eachCell(function(b){var c=
Math.max(0,b.innerWidth-a.itemAspectRatio),e=Math.max(0,b.innerHeight-1),f=b.items.slice(0);a.cellItemComparator&&f.sort(a.cellItemComparator);for(var g=0;g<f.length;g++){var h=a.computeItemPosition(f[g],g,b,a);a.itemPositionSetter(f[g],b.contentX+(!h||isNaN(h.x)?0:Math.max(0,Math.min(1,h.x)))*c,b.contentY+(!h||isNaN(h.y)?0:Math.max(0,Math.min(1,h.y)))*e)}})};a.prototype.facetItemsIntoCells=function(){var a=this;this.clear();this.eachItem(function(b){var c=a.getOrCreateCell(a.verticalFacet(b),a.horizontalFacet(b));
c.items.push(b);a.longestCellLength=Math.max(a.longestCellLength,c.items.length)});for(var c in this.verticalKeysHash)this.verticalKeys.push(this.verticalKeysHash[c]);this.verticalKeys.sort(this.verticalKeyCompare);for(c in this.horizontalKeysHash)this.horizontalKeys.push(this.horizontalKeysHash[c]);this.horizontalKeys.sort(this.horizontalKeyCompare)};a.prototype.eachItem=function(a){if(this.items)for(var b=0;b<this.items.length;b++)a.call(this,this.items[b])};a.prototype.eachCell=function(a){for(var b in this.cells)a.call(this,
this.cells[b])};a.prototype.getCompoundKey=function(a,c){return typeof a+"\u001f"+a+"\u001e"+typeof c+"\u001f"+c};a.prototype.getCell=function(a,c){a=this.getCompoundKey(a,c);return a in this.cells?this.cells[a]:null};a.prototype.getCells=function(){var a=this;return Object.keys(this.cells).map(function(b){return a.cells[b]})};a.prototype.getOrCreateCell=function(a,c){var b=this.getCell(a,c);if(b)return b;this.addVerticalKey(a);this.addHorizontalKey(c);var e=this.getCompoundKey(a,c);b={verticalKey:a,
horizontalKey:c,compoundKey:e,items:[],siblings:{}};return this.cells[e]=b};a.prototype.getRow=function(a){for(var b=[],d=0;d<this.horizontalKeys.length;d++){var e=this.getCell(a,this.horizontalKeys[d]);e&&b.push(e)}return b};a.prototype.getColumn=function(a){for(var b=[],d=0;d<this.verticalKeys.length;d++){var e=this.getCell(this.verticalKeys[d],a);e&&b.push(e)}return b};a.prototype.addVerticalKey=function(a){var b=typeof a+"\u001f"+a;b in this.verticalKeysHash||(this.verticalKeysHash[b]=a)};a.prototype.addHorizontalKey=
function(a){var b=typeof a+"\u001f"+a;b in this.horizontalKeysHash||(this.horizontalKeysHash[b]=a)};a.prototype.computeOptimalCellAspectRatio=function(a){var b=this.verticalKeys.length,d=this.horizontalKeys.length;if(!b||!d)return 1;var e=b/d,f=e,g=Infinity,h=0,l=Infinity;b=Math.min(20,Math.max(b,d,this.longestCellLength));for(d=0;d<b;){d++;var m=this.computeGridAspectRatio(e),n=Math.abs(1-m/a);n<g&&(f=e,g=n);if(.001>n)break;m>a?(l=e,e-=(l-h)/2):(h=e,e=isFinite(l)?e+(l-h)/2:2*e)}return f};a.prototype.computeGridAspectRatio=
function(a){for(var b=this.verticalKeys.length,d=this.horizontalKeys.length,e=-Infinity,f=-Infinity,g=-Infinity,h=-Infinity,l=[],m=0;m<b;m++){l[m]=[];for(var n=0;n<d;n++){var q=l[m][n]={width:n?l[m][n-1].width:0,height:m?l[m-1][n].height:0},p=this.getCell(this.verticalKeys[m],this.horizontalKeys[n]);if(p&&p.items&&p.items.length){var t=this.computeCellDimensions(a,p.items.length);p=t[0];t=t[1];q.width+=p;q.height+=t;e=Math.max(e,q.width);f=Math.max(f,t);g=Math.max(g,p);h=Math.max(h,q.height)}}}this.verticalGridAlignment===
ad.Uniform&&(h=f*b);this.horizontalGridAlignment===ad.Uniform&&(e=g*d);a=this.cellMargin*this.itemAspectRatio;return(e+a*(d-1))/(h+a*(b-1))};a.prototype.computeCellDimensions=function(a,c){var b=[this.itemAspectRatio*(this.cellPadding.left+this.cellPadding.right),this.itemAspectRatio*(this.cellPadding.top+this.cellPadding.bottom)];if(!c)return b;a=Math.min(c,Math.ceil(Math.sqrt(a*c)/this.itemAspectRatio));b[0]+=this.itemAspectRatio*a;b[1]+=Math.ceil(c/a);return b};return a}(),dd=ad;
</script>

<script>//~~WEBPATH~~/facets-dive/lib/axis.js
var ed=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),hd=function(a){function b(b,d){var c=a.call(this)||this;c.side=b;c.cell=d;switch(b){case Tc.Left:c.minScale=30/d.innerHeight;for(b=d.siblings.left;!(!b||b.items.length||b.siblings.above&&
b.siblings.above.items.length);)b=b.siblings.left;b&&(c.minScale=Math.max(c.minScale,39.2/(d.contentX-(b.contentX+b.innerWidth))));break;case Tc.Bottom:c.minScale=30/d.innerWidth;for(b=d.siblings.below;!(!b||b.items.length||b.siblings.right&&b.siblings.right.items.length);)b=b.siblings.below;b&&(c.minScale=Math.max(c.minScale,39.2/(d.contentY-(b.contentY+b.innerHeight))));break;default:throw Error("Axes for specified side are not implemented.");}return c}ed(b,a);b.prototype.strokeWidth=function(a){return 1.2/
a};b.prototype.path=function(a){var b=4/a,c=6/a;if(this.side===Tc.Left){var f=this.cell.contentX-b-c;b=this.cell.contentY+.6/a;return"M "+f+","+b+" h "+c+" v "+(this.cell.innerHeight-1.2/a)+" h -"+c}return this.side===Tc.Bottom?(f=this.cell.contentX+.6/a,b=this.cell.contentY-b-c,"M "+f+","+b+" v "+c+" h "+(this.cell.innerWidth-1.2/a)+" v -"+c):""};b.prototype.key=function(){return this.cell.compoundKey+"-"+this.side};return b}(Sc);
</script>


<script>//~~WEBPATH~~/facets-dive/lib/data-example.js
</script>



<script>//~~WEBPATH~~/facets-dive/lib/label.js
</script>

<script>//~~WEBPATH~~/facets-dive/lib/layout.js
var id=function(){function a(){this.grid={bottom:0,left:0,right:0,top:0};this.viewport={height:0,width:0};this.padding={bottom:0,left:0,right:0,top:0}}a.prototype.computeScale=function(){var a=this.viewport.width-this.padding.left-this.padding.right,c=this.viewport.height-this.padding.top-this.padding.bottom;if(isNaN(a)||0>=a||isNaN(c)||0>=c)return NaN;var d=this.grid.right-this.grid.left,e=this.grid.top-this.grid.bottom;return isNaN(d)||0>=d||isNaN(e)||0>=e?NaN:a/c>d/e?c/e:a/d};a.prototype.computeCamera=
function(){var a=this.computeScale();if(isNaN(a)||0>=a)return{position:{x:NaN,y:NaN},frustum:{bottom:NaN,left:NaN,right:NaN,top:NaN}};var c=this.viewport.width/a,d=this.viewport.height/a;return{position:{x:this.grid.left-(c-(this.padding.left+this.padding.right)/a-(this.grid.right-this.grid.left))/2-this.padding.left/a,y:this.grid.top+(d-(this.padding.top+this.padding.bottom)/a-(this.grid.top-this.grid.bottom))/2+this.padding.top/a},frustum:{bottom:-d,left:0,right:c,top:0}}};a.prototype.reducePaddingToFitWidth=
function(a){if(200>a)this.padding.left=0,this.padding.right=0;else if(this.padding.left+this.padding.right+200>a){var b=this.padding.left+this.padding.right;a-=200;this.padding.left=this.padding.left/b*a||0;this.padding.right=this.padding.right/b*a||0}};a.prototype.reducePaddingToFitHeight=function(a){if(200>a)this.padding.top=0,this.padding.bottom=0;else if(this.padding.top+this.padding.bottom+200>a){var b=this.padding.top+this.padding.bottom;a-=200;this.padding.top=this.padding.top/b*a||0;this.padding.bottom=
this.padding.bottom/b*a||0}};return a}();
</script>


<script>//~~WEBPATH~~/facets-dive/lib/text.js
var jd,nd=jd||(jd={});nd[nd.Left=0]="Left";nd[nd.Right=1]="Right";nd[nd.Center=2]="Center";var od,pd=od||(od={});pd[pd.Top=0]="Top";pd[pd.Bottom=1]="Bottom";pd[pd.Middle=2]="Middle";
var qd={x:0,y:0,glyphAspectRatio:.6,lineHeight:1.1,horizontalAlign:jd.Center,verticalAlign:od.Middle},rd=function(){function a(a){this.settings=Object.assign({},qd,a)}a.prototype.fit=function(a){a=a.trim();var b=this.split(a),d=b.segments,e=this.computeCutoff(d,a.length,b.max),f=e.height;a=e.width*this.settings.glyphAspectRatio;a=a/f>this.settings.width/this.settings.height?this.settings.width/a:this.settings.height/f;b=this.settings.horizontalAlign===jd.Left?0:this.settings.horizontalAlign===jd.Right?
1:.5;f=Math.max(0,this.settings.height-f*a)*(this.settings.verticalAlign===od.Top?0:this.settings.verticalAlign===od.Bottom?1:.5);e=this.wrapLines(d,e.cutoff);for(var g=[],h=0;h<e.length;h++){var l=e[h],m=l.endPos,n="";for(l=l.startPos;l<m;l++)n+=d[l].text;g.push({text:n,x:this.settings.x+b*Math.max(0,this.settings.width-n.length*this.settings.glyphAspectRatio*a),y:this.settings.y+f+h*this.settings.lineHeight*a})}return{lines:g,fontSize:a}};a.prototype.split=function(a){for(var b=[],d=1,e=/\s/.test(a.charAt(0)),
f=0,g=0;d<=a.length;){var h=a.charAt(d),l=/\s/.test(h);h.length&&e===l||(g=Math.max(g,d-f),b.push({text:a.substring(f,d),whitespace:e}),f=d);e=l;d++}return{max:g,segments:b}};a.prototype.computeTextRect=function(a,c){for(var b=0,e=0,f=0,g=1,h=0;h<a.length;h++){var l=a[h],m=l.whitespace;l=l.text.length;if(!m||b)m?b+l<=c?b+=l:(e=b=0,g+=this.settings.lineHeight):b+l<=c?e=b+=l:(e?b=e=l:(f=Math.max(f,l),b=e=0),g+=this.settings.lineHeight),f=Math.max(f,e)}return{width:f,height:g}};a.prototype.computeCutoff=
function(a,c,d){for(var b=this.settings.width/this.settings.height,f=d+(c-d)/2,g=f,h=null,l=Infinity,m=Math.min(20,(a.length+1)/2),n=0;n<m;){n++;var q=this.computeTextRect(a,f),p=q.width/q.height*this.settings.glyphAspectRatio,t=Math.abs(1-p/b);t<l&&(g=f,h=q,l=t);if(.01>t)break;p>b?c=f:d=f;f=d+(c-d)/2}return{cutoff:g,width:h.width,height:h.height}};a.prototype.wrapLines=function(a,c){for(var b=[],e=0,f=0,g=0,h=0,l=0;l<a.length;l++){var m=a[l],n=m.whitespace;m=m.text.length;n&&!g?e=f=l+1:n?g+m<=c?
g+=m:(b.push({startPos:e,endPos:f,textLength:h}),g=h=0,e=f=l+1):g+m<=c?(h=g+=m,f=l+1):h?(b.push({startPos:e,endPos:f,textLength:h}),g=h=m,e=l,f=l+1):(b.push({startPos:l,endPos:l+1,textLength:m}),g=h=0,e=f=l+1)}f>e&&b.push({startPos:e,endPos:f,textLength:h});return b};return a}();
</script>


<script>//~~WEBPATH~~/facets-dive/lib/sprite-atlas.js
var sd=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),td=function(a){function b(b,d,e){var c=Math.ceil(Math.sqrt(b)),g=Math.ceil(b/c),h=document.createElement("canvas");h.width=d*c;h.height=e*g;var l=h.getContext("2d");var m=a.call(this,
h)||this;m.capacity=b;m.imageWidth=d;m.imageHeight=e;m.spriteColumns=c;m.spriteRows=g;m.canvas=h;m.context=l;m.minFilter=V.LinearFilter;m.magFilter=V.LinearFilter;m.drawTimeout=50;m.waitTimeout=1;m.drawQueue=[];m.isDrawQueued=!1;m.lastClearTimestamp=0;m.callbackQueue=[];m.pendingImageCount=0;m.fitter=new rd({x:.125*d,y:.125*e,width:.75*d,height:.75*e});return m}sd(b,a);b.prototype.clearQueues=function(){this.drawQueue=[];this.callbackQueue=[];this.pendingImageCount=0;return this.lastClearTimestamp=
Date.now()};b.prototype.setSpriteImageData=function(a,b,e){this.drawQueue.push({spriteIndex:a,timestamp:Date.now(),imageData:b,callback:e});this.queueDraw()};b.prototype.setAtlasUrl=function(a,b,e){var c=this,d=this.clearQueues(),h=new Image;void 0!==b&&(h.crossOrigin=b);this.pendingImageCount++;h.onerror=function(){c.lastClearTimestamp>d||c.pendingImageCount--};h.onload=function(){if(!(c.lastClearTimestamp>d)&&(c.pendingImageCount--,c.updatePropertiesToMatchImageDimensions(h.width,h.height),c.context.drawImage(h,
0,0,c.canvas.width,c.canvas.height),c.needsUpdate=!0,e&&c.callbackQueue.push({callback:e,args:[h]}),c.onDrawFinished))c.onDrawFinished()};h.src=a};b.prototype.updatePropertiesToMatchImageDimensions=function(a,b){if(a!==this.imageWidth*this.spriteColumns||b!==this.imageHeight*this.spriteRows){var c=a/this.imageWidth,d=b/this.imageHeight;if(c*d<this.capacity)throw Error("Atlas image too small to accommodate atlas capacity.");if(c!==Math.round(c)||d!==Math.round(d))throw Error("Atlas image dimensions do not fit sprite image dimensions.");
this.spriteColumns=c;this.spriteRows=d;this.canvas.width=a;this.canvas.height=b}};b.prototype.postRender=function(){if(!(this.drawQueue.length||0<this.pendingImageCount))for(;this.callbackQueue.length;){var a=this.callbackQueue.shift();a.callback.apply(null,a.args)}};b.prototype.queueDraw=function(){var a=this;this.isDrawQueued||(this.isDrawQueued=!0,setTimeout(function(){a.isDrawQueued&&a.workOnDrawJobs()},this.waitTimeout))};b.prototype.workOnDrawJobs=function(){function a(){var a=g.drawQueue.shift(),
c=a.spriteIndex,d=a.timestamp,f=a.imageData,q=a.image,p=a.callback;if(q){a=g.imageWidth;var t=g.imageHeight,r=c%g.spriteColumns*a,w=t*Math.floor(c/g.spriteColumns);g.context.clearRect(r,w,a,t);g.context.drawImage(q,r,w,a,t);"function"===typeof p&&g.callbackQueue.push({callback:p,args:[c]})}else if(f&&"text"===f.type){q=c%g.spriteColumns*g.imageWidth;a=g.imageHeight*Math.floor(c/g.spriteColumns);w=q+g.imageWidth/2;var v=a+g.imageHeight/2;t=g.fitter.fit(f.data+"");r=g.context;r.clearRect(q,a,g.imageWidth,
g.imageHeight);r.save();r.translate(w,v);r.scale(g.imageWidth,g.imageHeight);r.beginPath();r.arc(0,0,.5,0,2*Math.PI);r.restore();r.fillStyle="#555555";r.fill();r.fillStyle="white";r.textBaseline="hanging";r.font=(f.special?"italic":"bold")+" "+t.fontSize+"px 'Roboto Mono', 'Consolas', 'Menlo', monospace";w=t.lines;for(v=0;v<w.length;v++){var y=w[v];r.fillText(y.text,q+y.x,a+y.y,y.text.length*g.fitter.settings.glyphAspectRatio*t.fontSize)}"function"===typeof p&&g.callbackQueue.push({callback:p,args:[c]})}else if(f){var x=
new Image;g.pendingImageCount++;x.onload=function(){e<b.lastClearTimestamp||(b.pendingImageCount--,b.drawQueue.unshift({spriteIndex:c,timestamp:d,image:x,callback:p}),b.queueDraw())};x.onerror=function(){e<b.lastClearTimestamp||(b.pendingImageCount--,b.drawQueue.push({spriteIndex:c,timestamp:d,imageData:f,callback:p}),b.queueDraw())};x.src="svg"===f.type?URL.createObjectURL(new Blob([f.data],{type:"image/svg+xml;charset\x3dutf-8"})):"data:"+f.type+";base64,"+f.data}}var b=this;this.isDrawQueued=!1;
for(var e=Date.now(),f=e+(this.drawTimeout||Infinity),g=this;this.drawQueue.length&&Date.now()<f;)a();if(this.drawQueue.length||0<this.pendingImageCount)this.queueDraw();else if(this.needsUpdate=!0,this.onDrawFinished)this.onDrawFinished()};return b}(V.Texture);
</script>



<script>//~~WEBPATH~~/facets-dive/lib/sprite-material.js
var ud=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),xd=function(a){function b(b,d){return a.call(this,{vertexShader:vd,fragmentShader:wd,uniforms:{time:{type:"f",value:0},defaultTexture:{type:"t",value:b},spriteAtlas:{type:"t",
value:d},spriteColumns:{type:"f",value:d?d.spriteColumns:1},spriteRows:{type:"f",value:d?d.spriteRows:1}},transparent:!0})||this}ud(b,a);Object.defineProperty(b.prototype,"time",{get:function(){return this.uniforms.time.value},set:function(a){this.uniforms.time.value=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultTexture",{get:function(){return this.uniforms.defaultTexture.value},set:function(a){this.uniforms.defaultTexture.value=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"spriteAtlas",{get:function(){return this.uniforms.spriteAtlas.value},set:function(a){this.uniforms.spriteAtlas.value=a},enumerable:!0,configurable:!0});b.prototype.updateAtlasUniforms=function(){this.uniforms.spriteColumns.value=this.spriteAtlas.spriteColumns;this.uniforms.spriteRows.value=this.spriteAtlas.spriteRows};b.prototype.applyEasing=function(a){return.5>a?4*a*a*a:4*(a-1)*(a-1)*(a-1)+1};return b}(V.RawShaderMaterial),vd="\n\n  precision highp float;\n  precision highp int;\n\n  #define SHADER_NAME SpriteMaterial\n\n  // Standard uniforms provided by THREE.js for projecting through the camera.\n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n\n  uniform float time;\n\n  uniform float spriteColumns;\n  uniform float spriteRows;\n\n  attribute vec3 position;\n  attribute vec3 basePosition;\n\n  attribute vec4 color;\n  attribute vec4 baseColor;\n\n  attribute float opacity;\n  attribute float baseOpacity;\n\n  attribute float timestamp;\n  attribute float baseTimestamp;\n\n  attribute float vertexIndex;\n\n  attribute float textureIndex;\n  attribute float baseTextureIndex;\n\n  attribute float textureTimestamp;\n  attribute float baseTextureTimestamp;\n\n  // Computed UV coordinates into the defaultTexture based on the vertexIndex.\n  varying vec2 vDefaultUv;\n\n  // Computed UV coordinates into the sprite texture atlas.\n  varying vec2 vSpriteUv;\n\n  // Interpolated color used by the fragment shader.\n  varying vec4 vColor;\n\n  // Interpolated opacity used by the fragment shader.\n  varying float vOpacity;\n\n  // Degree of mixing between base and current texture.\n  varying float vTextureMix;\n\n  float applyEasing(float t) {\n    return t \x3c 0.5 ? 4.0 * t * t * t :\n      4.0 * (t - 1.0) * (t - 1.0) * (t - 1.0) + 1.0;\n  }\n\n  void main() {\n\n    // Compute default UVs. A \x3d\x3e (0,0), B \x3d\x3e (1,0), etc.\n    vDefaultUv.x \x3d mod(floor((vertexIndex + 1.0) / 2.0), 2.0);\n    vDefaultUv.y \x3d mod(floor(vertexIndex / 2.0), 2.0);\n\n    // Determine the row and column indices for this sprite.\n    float spriteIndex \x3d floor(vertexIndex / 4.0) + 0.5;\n    float columnIndex \x3d floor(mod(spriteIndex, spriteColumns));\n    float rowIndex \x3d spriteRows - 1.0 - floor(spriteIndex / spriteColumns);\n\n    // Compute sprite UVs from row and column indices.\n    vSpriteUv.x \x3d (columnIndex + vDefaultUv.x) / spriteColumns;\n    vSpriteUv.y \x3d (rowIndex + vDefaultUv.y) / spriteRows;\n\n    float blend \x3d applyEasing(smoothstep(baseTimestamp, timestamp, time));\n\n    vTextureMix \x3d mix(baseTextureIndex, textureIndex,\n        smoothstep(baseTextureTimestamp, textureTimestamp, time));\n\n    vColor \x3d mix(baseColor, color, blend);\n\n    vOpacity \x3d mix(baseOpacity, opacity, blend);\n\n    gl_Position \x3d projectionMatrix * modelViewMatrix *\n        vec4(mix(basePosition, position, vec3(blend)), 1.0);\n\n  }\n\n",
wd="\n\n  precision highp float;\n  precision highp int;\n\n  #define SHADER_NAME SpriteMaterial\n\n  // Lightness that should ideally exactly match the vColor.\n  #define TARGET_LIGHTNESS 0.6\n\n  uniform float time;\n\n  uniform sampler2D defaultTexture;\n  uniform sampler2D spriteAtlas;\n\n  varying vec2 vDefaultUv;\n  varying vec2 vSpriteUv;\n  varying vec4 vColor;\n  varying float vOpacity;\n  varying float vTextureMix;\n\n  // Compute relative luminance from RGB.\n  float rgbToL(vec3 rgb) {\n    return dot(rgb, vec3(0.3, 0.59, 0.11));\n  }\n\n  // Apply luminance easing.\n  float easeL(float l) {\n    return 1.0 - (1.0 - l) * (1.0 - l) * (1.0 - l);\n  }\n\n  void main() {\n    if (vOpacity \x3c\x3d 0.05) {\n      discard;\n    }\n\n    // Interpolate between default texture and sprite texture.\n    vec4 defaultColor \x3d\n      vTextureMix \x3c 1.0 ? texture2D(defaultTexture, vDefaultUv) : vec4(0.0);\n    vec4 spriteColor \x3d\n      vTextureMix \x3e 0.0 ? texture2D(spriteAtlas, vSpriteUv) : vec4(0.0);\n    vec4 mixedColor \x3d mix(defaultColor, spriteColor, vTextureMix);\n\n    // Lightness of the mixed pixel.\n    float mixedL \x3d rgbToL(mixedColor.rgb);\n\n    // Using the mixed and target lightness, determine the color that's between\n    // black, vColor and white.\n    vec3 color \x3d mixedL \x3c TARGET_LIGHTNESS ?\n        mix(vec3(0.0), vColor.rgb, easeL(mixedL / TARGET_LIGHTNESS)) :\n        mix(vec3(1.0), vColor.rgb,\n            easeL((1.0 - mixedL) / (1.0 - TARGET_LIGHTNESS)));\n\n    vec3 finalColor \x3d mix(mixedColor.rgb, color, vColor.a);\n\n    // Apply opacity.\n    gl_FragColor \x3d vec4(finalColor, mixedColor.a * vOpacity);\n  }\n";
</script>


<script>//~~WEBPATH~~/facets-dive/lib/sprite-mesh.js
var yd=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),zd=function(){function a(a,c){this._spriteMesh=a;this._spriteIndex=c}Object.defineProperty(a.prototype,"spriteMesh",{get:function(){return this._spriteMesh},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"spriteIndex",{get:function(){return this._spriteIndex},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"x",{get:function(){return this._spriteMesh.getX(this._spriteIndex)},set:function(a){this._spriteMesh.setX(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"y",{get:function(){return this._spriteMesh.getY(this._spriteIndex)},set:function(a){this._spriteMesh.setY(this._spriteIndex,a)},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"z",{get:function(){return this._spriteMesh.getZ(this._spriteIndex)},set:function(a){this._spriteMesh.setZ(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"r",{get:function(){return this._spriteMesh.getR(this._spriteIndex)},set:function(a){this._spriteMesh.setR(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"g",{get:function(){return this._spriteMesh.getG(this._spriteIndex)},set:function(a){this._spriteMesh.setG(this._spriteIndex,
a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"b",{get:function(){return this._spriteMesh.getB(this._spriteIndex)},set:function(a){this._spriteMesh.setB(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"a",{get:function(){return this._spriteMesh.getA(this._spriteIndex)},set:function(a){this._spriteMesh.setA(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"opacity",{get:function(){return this._spriteMesh.getOpacity(this._spriteIndex)},
set:function(a){this._spriteMesh.setOpacity(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"timestamp",{get:function(){return this._spriteMesh.getTimestamp(this._spriteIndex)},set:function(a){this._spriteMesh.setTimestamp(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseX",{get:function(){return this._spriteMesh.getBaseX(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseX(this._spriteIndex,a)},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"baseY",{get:function(){return this._spriteMesh.getBaseY(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseY(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseZ",{get:function(){return this._spriteMesh.getBaseZ(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseZ(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseR",{get:function(){return this._spriteMesh.getBaseR(this._spriteIndex)},
set:function(a){this._spriteMesh.setBaseR(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseG",{get:function(){return this._spriteMesh.getBaseG(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseG(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseB",{get:function(){return this._spriteMesh.getBaseB(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseB(this._spriteIndex,a)},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"baseA",{get:function(){return this._spriteMesh.getBaseA(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseA(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseOpacity",{get:function(){return this._spriteMesh.getBaseOpacity(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseOpacity(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseTimestamp",{get:function(){return this._spriteMesh.getBaseTimestamp(this._spriteIndex)},
set:function(a){this._spriteMesh.setBaseTimestamp(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textureIndex",{get:function(){return this._spriteMesh.getTextureIndex(this._spriteIndex)},set:function(a){this._spriteMesh.setTextureIndex(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseTextureIndex",{get:function(){return this._spriteMesh.getBaseTextureIndex(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseTextureIndex(this._spriteIndex,
a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textureTimestamp",{get:function(){return this._spriteMesh.getTextureTimestamp(this._spriteIndex)},set:function(a){this._spriteMesh.setTextureTimestamp(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseTextureTimestamp",{get:function(){return this._spriteMesh.getBaseTextureTimestamp(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseTextureTimestamp(this._spriteIndex,a)},enumerable:!0,
configurable:!0});a.prototype.rebase=function(a){this._spriteMesh.rebase(this._spriteIndex,a)};a.prototype.setSpriteImageData=function(a,c){this._spriteMesh.setSpriteImageData(this._spriteIndex,a,c)};a.prototype.switchTextures=function(a,c){this._spriteMesh.switchTextures(this._spriteIndex,a,c)};return a}(),Bd=function(a){function b(b,d,e){void 0===d&&(d=32);void 0===e&&(e=32);var c=a.call(this)||this;c.capacity=b;c.imageWidth=d;c.imageHeight=e;c.nextIndex=0;c.spriteWidth=c.imageWidth/c.imageHeight;
c.spriteHeight=1;c.geometry=new V.BufferGeometry;c.positionData=new Float32Array(12*b);c.positionAttribute=new V.BufferAttribute(c.positionData,3);c.positionAttribute.setDynamic(!0);c.geometry.addAttribute("position",c.positionAttribute);c.basePositionData=new Float32Array(12*b);c.basePositionAttribute=new V.BufferAttribute(c.basePositionData,3);c.basePositionAttribute.setDynamic(!0);c.geometry.addAttribute("basePosition",c.basePositionAttribute);c.colorData=new Uint8Array(16*b);c.colorAttribute=
new V.BufferAttribute(c.colorData,4);c.colorAttribute.normalized=!0;c.colorAttribute.setDynamic(!0);c.geometry.addAttribute("color",c.colorAttribute);c.baseColorData=new Uint8Array(16*b);c.baseColorAttribute=new V.BufferAttribute(c.baseColorData,4);c.baseColorAttribute.normalized=!0;c.baseColorAttribute.setDynamic(!0);c.geometry.addAttribute("baseColor",c.baseColorAttribute);c.opacityData=new Float32Array(4*b);c.opacityAttribute=new V.BufferAttribute(c.opacityData,1);c.opacityAttribute.setDynamic(!0);
c.geometry.addAttribute("opacity",c.opacityAttribute);c.baseOpacityData=new Float32Array(4*b);c.baseOpacityAttribute=new V.BufferAttribute(c.baseOpacityData,1);c.baseOpacityAttribute.setDynamic(!0);c.geometry.addAttribute("baseOpacity",c.baseOpacityAttribute);c.timestampData=new Float32Array(4*b);c.timestampAttribute=new V.BufferAttribute(c.timestampData,1);c.timestampAttribute.setDynamic(!0);c.geometry.addAttribute("timestamp",c.timestampAttribute);c.baseTimestampData=new Float32Array(4*b);c.baseTimestampAttribute=
new V.BufferAttribute(c.baseTimestampData,1);c.baseTimestampAttribute.setDynamic(!0);c.geometry.addAttribute("baseTimestamp",c.baseTimestampAttribute);c.faceIndexData=new Uint32Array(6*b);for(var g=0;g<b;g++){var h=6*g,l=4*g;c.faceIndexData[h+0]=l+0;c.faceIndexData[h+1]=l+1;c.faceIndexData[h+2]=l+2;c.faceIndexData[h+3]=l+0;c.faceIndexData[h+4]=l+2;c.faceIndexData[h+5]=l+3}c.faceIndexAttribute=new V.BufferAttribute(c.faceIndexData,1);c.geometry.setIndex(c.faceIndexAttribute);c.textureIndexData=new Float32Array(4*
b);c.textureIndexAttribute=new V.BufferAttribute(c.textureIndexData,1);c.textureIndexAttribute.setDynamic(!0);c.geometry.addAttribute("textureIndex",c.textureIndexAttribute);c.baseTextureIndexData=new Float32Array(4*b);c.baseTextureIndexAttribute=new V.BufferAttribute(c.baseTextureIndexData,1);c.baseTextureIndexAttribute.setDynamic(!0);c.geometry.addAttribute("baseTextureIndex",c.baseTextureIndexAttribute);c.textureTimestampData=new Float32Array(4*b);c.textureTimestampAttribute=new V.BufferAttribute(c.textureTimestampData,
1);c.textureTimestampAttribute.setDynamic(!0);c.geometry.addAttribute("textureTimestamp",c.textureTimestampAttribute);c.baseTextureTimestampData=new Float32Array(4*b);c.baseTextureTimestampAttribute=new V.BufferAttribute(c.baseTextureTimestampData,1);c.baseTextureTimestampAttribute.setDynamic(!0);c.geometry.addAttribute("baseTextureTimestamp",c.baseTextureTimestampAttribute);h=4*b;c.vertexIndexData=new Float32Array(h);for(g=0;g<h;g++)c.vertexIndexData[g]=g;c.vertexIndexAttribute=new V.BufferAttribute(c.vertexIndexData,
1);c.geometry.addAttribute("vertexIndex",c.vertexIndexAttribute);c.defaultTextureCanvas=c.createDefaultTextureCanvas();c.defaultTexture=new V.Texture(c.defaultTextureCanvas);c.defaultTexture.minFilter=V.LinearFilter;c.defaultTexture.magFilter=V.NearestFilter;c.defaultTexture.needsUpdate=!0;c.spriteAtlas=new td(b,d,e);c.material=new xd(c.defaultTexture,c.spriteAtlas);c.onBeforeRender=function(){c.material.updateAtlasUniforms()};c.constructionTimestamp=Date.now();c.time=c.constructionTimestamp;c.frustumCulled=
!1;return c}yd(b,a);b.prototype.createSprite=function(){return new zd(this,this.nextIndex++)};Object.defineProperty(b.prototype,"time",{get:function(){return this.material.time+this.constructionTimestamp},set:function(a){this.material.time=a-this.constructionTimestamp},enumerable:!0,configurable:!0});b.prototype.createDefaultTextureCanvas=function(){var a=this,b=this.defaultTextureCanvas=document.createElement("canvas"),e=b.width=this.imageWidth,f=b.height=this.imageHeight,g=b.getContext("2d"),h=
new Image;h.onload=function(){g.drawImage(h,0,0,e,f);a.defaultTexture.needsUpdate=!0};h.src=URL.createObjectURL(new Blob([Ad],{type:"image/svg+xml;charset\x3dutf-8"}));return b};b.prototype.getX=function(a){return this.positionData[12*a]};b.prototype.setX=function(a,b){a*=12;this.positionData[a+0]=b;this.positionData[a+3]=b+this.spriteWidth;this.positionData[a+6]=b+this.spriteWidth;this.positionData[a+9]=b;this.positionAttribute.needsUpdate=!0};b.prototype.getY=function(a){return this.positionData[12*
a+1]};b.prototype.setY=function(a,b){a*=12;this.positionData[a+1]=b;this.positionData[a+4]=b;this.positionData[a+7]=b+this.spriteHeight;this.positionData[a+10]=b+this.spriteHeight;this.positionAttribute.needsUpdate=!0};b.prototype.getZ=function(a){return this.positionData[12*a+2]};b.prototype.setZ=function(a,b){a*=12;this.positionData[a+2]=b;this.positionData[a+5]=b;this.positionData[a+8]=b;this.positionData[a+11]=b;this.positionAttribute.needsUpdate=!0};b.prototype.getR=function(a){return this.colorData[16*
a]};b.prototype.setR=function(a,b){a*=16;this.colorData[a+0]=b;this.colorData[a+4]=b;this.colorData[a+8]=b;this.colorData[a+12]=b;this.colorAttribute.needsUpdate=!0};b.prototype.getG=function(a){return this.colorData[16*a+1]};b.prototype.setG=function(a,b){a*=16;this.colorData[a+1]=b;this.colorData[a+5]=b;this.colorData[a+9]=b;this.colorData[a+13]=b;this.colorAttribute.needsUpdate=!0};b.prototype.getB=function(a){return this.colorData[16*a+2]};b.prototype.setB=function(a,b){a*=16;this.colorData[a+
2]=b;this.colorData[a+6]=b;this.colorData[a+10]=b;this.colorData[a+14]=b;this.colorAttribute.needsUpdate=!0};b.prototype.getA=function(a){return this.colorData[16*a+3]};b.prototype.setA=function(a,b){a*=16;this.colorData[a+3]=b;this.colorData[a+7]=b;this.colorData[a+11]=b;this.colorData[a+15]=b;this.colorAttribute.needsUpdate=!0};b.prototype.getBaseX=function(a){return this.basePositionData[12*a]};b.prototype.setBaseX=function(a,b){a*=12;this.basePositionData[a+0]=b;this.basePositionData[a+3]=b+this.spriteWidth;
this.basePositionData[a+6]=b+this.spriteWidth;this.basePositionData[a+9]=b;this.basePositionAttribute.needsUpdate=!0};b.prototype.getBaseY=function(a){return this.basePositionData[12*a+1]};b.prototype.setBaseY=function(a,b){a*=12;this.basePositionData[a+1]=b;this.basePositionData[a+4]=b;this.basePositionData[a+7]=b+this.spriteHeight;this.basePositionData[a+10]=b+this.spriteHeight;this.basePositionAttribute.needsUpdate=!0};b.prototype.getBaseZ=function(a){return this.basePositionData[12*a+2]};b.prototype.setBaseZ=
function(a,b){a*=12;this.basePositionData[a+2]=b;this.basePositionData[a+5]=b;this.basePositionData[a+8]=b;this.basePositionData[a+11]=b;this.basePositionAttribute.needsUpdate=!0};b.prototype.getBaseR=function(a){return this.baseColorData[16*a]};b.prototype.setBaseR=function(a,b){a*=16;this.baseColorData[a+0]=b;this.baseColorData[a+4]=b;this.baseColorData[a+8]=b;this.baseColorData[a+12]=b;this.baseColorAttribute.needsUpdate=!0};b.prototype.getBaseG=function(a){return this.baseColorData[16*a+1]};b.prototype.setBaseG=
function(a,b){a*=16;this.baseColorData[a+1]=b;this.baseColorData[a+5]=b;this.baseColorData[a+9]=b;this.baseColorData[a+13]=b;this.baseColorAttribute.needsUpdate=!0};b.prototype.getBaseB=function(a){return this.baseColorData[16*a+2]};b.prototype.setBaseB=function(a,b){a*=16;this.baseColorData[a+2]=b;this.baseColorData[a+6]=b;this.baseColorData[a+10]=b;this.baseColorData[a+14]=b;this.baseColorAttribute.needsUpdate=!0};b.prototype.getBaseA=function(a){return this.baseColorData[16*a+3]};b.prototype.setBaseA=
function(a,b){a*=16;this.baseColorData[a+3]=b;this.baseColorData[a+7]=b;this.baseColorData[a+11]=b;this.baseColorData[a+15]=b;this.baseColorAttribute.needsUpdate=!0};b.prototype.getOpacity=function(a){return this.opacityData[4*a]};b.prototype.setOpacity=function(a,b){a*=4;this.opacityData[a+0]=b;this.opacityData[a+1]=b;this.opacityData[a+2]=b;this.opacityData[a+3]=b;this.opacityAttribute.needsUpdate=!0};b.prototype.getBaseOpacity=function(a){return this.baseOpacityData[4*a]};b.prototype.setBaseOpacity=
function(a,b){a*=4;this.baseOpacityData[a+0]=b;this.baseOpacityData[a+1]=b;this.baseOpacityData[a+2]=b;this.baseOpacityData[a+3]=b;this.baseOpacityAttribute.needsUpdate=!0};b.prototype.getTimestamp=function(a){return this.timestampData[4*a]+this.constructionTimestamp};b.prototype.setTimestamp=function(a,b){a*=4;b-=this.constructionTimestamp;this.timestampData[a+0]=b;this.timestampData[a+1]=b;this.timestampData[a+2]=b;this.timestampData[a+3]=b;this.timestampAttribute.needsUpdate=!0};b.prototype.getBaseTimestamp=
function(a){return this.baseTimestampData[4*a]+this.constructionTimestamp};b.prototype.setBaseTimestamp=function(a,b){a*=4;b-=this.constructionTimestamp;this.baseTimestampData[a+0]=b;this.baseTimestampData[a+1]=b;this.baseTimestampData[a+2]=b;this.baseTimestampData[a+3]=b;this.baseTimestampAttribute.needsUpdate=!0};b.prototype.getTextureIndex=function(a){return this.textureIndexData[4*a]};b.prototype.setTextureIndex=function(a,b){a*=4;this.textureIndexData[a+0]=b;this.textureIndexData[a+1]=b;this.textureIndexData[a+
2]=b;this.textureIndexData[a+3]=b;this.textureIndexAttribute.needsUpdate=!0};b.prototype.getBaseTextureIndex=function(a){return this.baseTextureIndexData[4*a]};b.prototype.setBaseTextureIndex=function(a,b){a*=4;this.baseTextureIndexData[a+0]=b;this.baseTextureIndexData[a+1]=b;this.baseTextureIndexData[a+2]=b;this.baseTextureIndexData[a+3]=b;this.baseTextureIndexAttribute.needsUpdate=!0};b.prototype.getTextureTimestamp=function(a){return this.textureTimestampData[4*a]+this.constructionTimestamp};b.prototype.setTextureTimestamp=
function(a,b){a*=4;b-=this.constructionTimestamp;this.textureTimestampData[a+0]=b;this.textureTimestampData[a+1]=b;this.textureTimestampData[a+2]=b;this.textureTimestampData[a+3]=b;this.textureTimestampAttribute.needsUpdate=!0};b.prototype.getBaseTextureTimestamp=function(a){return this.baseTextureTimestampData[4*a]+this.constructionTimestamp};b.prototype.setBaseTextureTimestamp=function(a,b){a*=4;b-=this.constructionTimestamp;this.baseTextureTimestampData[a+0]=b;this.baseTextureTimestampData[a+1]=
b;this.baseTextureTimestampData[a+2]=b;this.baseTextureTimestampData[a+3]=b;this.baseTextureTimestampAttribute.needsUpdate=!0};b.prototype.rebase=function(a,b){function c(a,b){return a*h+b*(1-h)}b=void 0===b?this.time:b;var d=this.getBaseTimestamp(a),g=this.getTimestamp(a),h=b>=g?1:b<=d?0:this.material.applyEasing((b-d)/(g-d));this.setBaseX(a,c(this.getX(a),this.getBaseX(a)));this.setBaseY(a,c(this.getY(a),this.getBaseY(a)));this.setBaseZ(a,c(this.getZ(a),this.getBaseZ(a)));this.setBaseR(a,c(this.getR(a),
this.getBaseR(a)));this.setBaseG(a,c(this.getG(a),this.getBaseG(a)));this.setBaseB(a,c(this.getB(a),this.getBaseB(a)));this.setBaseA(a,c(this.getA(a),this.getBaseA(a)));this.setBaseOpacity(a,c(this.getOpacity(a),this.getBaseOpacity(a)));this.setBaseTimestamp(a,b>=g?b:c(g,d))};b.prototype.setSpriteImageData=function(a,b,e){this.spriteAtlas.setSpriteImageData(a,b,e)};b.prototype.switchTextures=function(a,b,e){var c=this.getTextureIndex(a);this.setBaseTextureIndex(a,c);this.setTextureIndex(a,0===c?1:
0);this.setBaseTextureTimestamp(a,b);this.setTextureTimestamp(a,e)};b.prototype.findSprites=function(a,b){for(var c=[],d=0;d<this.capacity;d++){var g=12*d;a>=this.positionData[g+0]&&a<=this.positionData[g+6]&&b>=this.positionData[g+1]&&b<=this.positionData[g+7]&&c.push(d)}return c};return b}(V.Mesh),Ad='\n\x3csvg version\x3d"1.1"\n     baseProfile\x3d"full"\n     width\x3d"128" height\x3d"128"\n     xmlns\x3d"http://www.w3.org/2000/svg"\n     xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\n  \x3cdefs\x3e\n    \x3clinearGradient id\x3d"linearGradient3774"\x3e\n      \x3cstop\n         style\x3d"stop-color:#808080;stop-opacity:1;"\n         offset\x3d"0" /\x3e\n      \x3cstop\n         style\x3d"stop-color:#555555;stop-opacity:1;"\n         offset\x3d"1" /\x3e\n    \x3c/linearGradient\x3e\n    \x3cradialGradient\n       xlink:href\x3d"#linearGradient3774"\n       id\x3d"radialGradient3780"\n       cx\x3d"80"\n       cy\x3d"40"\n       fx\x3d"80"\n       fy\x3d"40"\n       r\x3d"80"\n       gradientUnits\x3d"userSpaceOnUse"\n       spreadMethod\x3d"pad" /\x3e\n  \x3c/defs\x3e\n  \x3ccircle cx\x3d"50%" cy\x3d"50%" r\x3d"50%" fill\x3d"url(#radialGradient3780)" /\x3e\n\x3c/svg\x3e\n';
</script>

<script>//~~WEBPATH~~/facets-dive/lib/wordtree.js
var Cd=/\b[-'\w]+\b/g;function Dd(a){return typeof a+"\u001f"+a}
function Ed(a){function b(a,b){for(var c=0;c<a.length;c++)b[a[c]]=!0}if(2>a.valueCount)return null;for(var c={},d=a;d;)b(d.commonWords,c),d=d.parent;for(d=0;d<a.children.length;d++)b(a.children[d].commonWords,c);d={};for(var e in a.valueHash){var f=a.valueHash[e],g=f.count;f=f.words;for(var h in f)h in c||(d[h]=(d[h]||0)+g,d[h]===a.totalCount&&(a.commonWords.push(h),c[h]=!0,delete d[h]))}a=null;c=0;for(h in d)d[h]>c&&(a=h,c=d[h]);return a}
function Fd(a){function b(a){a.order=++p;for(var c=0;c<a.children.length;c++)b(a.children[c])}function c(a){return a.valueCount+a.nonValueCount}var d={parent:null,commonWords:[],level:1,order:0,totalCount:0,valueHash:{},valueCount:0,nonValueCount:0,children:[]},e={root:d,nodeHash:{},highestLevel:1,levelHash:{1:d}},f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f],h=g.value,l=g.count;g=g.words;"string"===typeof h?(d.valueHash[f]={value:h,count:l,words:g},d.valueCount+=l):d.nonValueCount+=l;d.totalCount+=
l;e.nodeHash[f]=d}a=d.level;if(d.nonValueCount){a++;var m={parent:d,commonWords:[],level:a,order:0,totalCount:d.nonValueCount,valueHash:{},valueCount:0,nonValueCount:d.nonValueCount,children:[]};d.nonValueCount=0;d.children.push(m);e.highestLevel=a;e.levelHash[a]=m;for(f in e.nodeHash)f in d.valueHash||(e.nodeHash[f]=m)}for(d=[d];100>a&&d.length;){h=0;l=c(d[h]);for(g=1;g<d.length;g++)m=c(d[g]),m>l&&(h=g,l=m);var n=d[h],q=Ed(n);if(q)for(f in a++,m={parent:n,commonWords:[q],level:a,order:0,totalCount:0,
valueHash:{},valueCount:0,nonValueCount:0,children:[]},n.children.push(m),d.push(m),n.valueHash)n.valueHash.hasOwnProperty(f)&&(g=n.valueHash[f],h=g.value,l=g.count,(g=g.words)&&q in g&&(m.valueHash[f]={value:h,count:l,words:g},m.valueCount+=l,m.totalCount+=l,delete n.valueHash[f],n.valueCount-=l,e.nodeHash[f]=m,e.highestLevel=a,e.levelHash[a]=m));else d.splice(h,1)}var p=0;b(e.root);return e};
</script>

<script>//~~WEBPATH~~/facets-dive/lib/stats.js
var Gd=function(){function a(){this.uniqueCount=this.totalCount=0;this.valueHash={};this.otherCount=this.stringCount=this.integerCount=this.numberCount=0;this.stringLengthsCount=this.stringMeanLength=this.stringMaxLength=this.stringMinLength=this.numberMax=this.numberMin=null;this.stringLengthsHash={};this.totalWordCount=this.multiwordCount=0;this.wordCounts={};this.uniqueWordCount=0;this.wordTree=null}a.prototype.isNumeric=function(){return 0<this.numberCount&&null!==this.numberMin&&null!==this.numberMax&&
this.numberMax>this.numberMin};a.prototype.isInteger=function(){return 0<this.numberCount&&this.integerCount===this.numberCount};a.prototype.addValue=function(a){this.totalCount++;var b=Dd(a);b in this.valueHash||(this.valueHash[b]={value:a,count:0},this.uniqueCount++);this.valueHash[b].count++;switch(typeof a){case "number":this.incorporateNumberValue(a);break;case "string":this.incorporateStringValue(b,a);break;default:this.otherCount++}};a.prototype.incorporateNumberValue=function(a){this.numberCount++;
"number"===typeof a&&a>>0===a&&this.integerCount++;isNaN(a)||(this.numberMin=null===this.numberMin?a:Math.min(this.numberMin,a),this.numberMax=null===this.numberMax?a:Math.max(this.numberMax,a))};a.prototype.incorporateStringValue=function(a,c){this.stringCount++;var b=c.length;b in this.stringLengthsHash||(this.stringLengthsCount=(this.stringLengthsCount||0)+1);this.stringLengthsHash[b]=(this.stringLengthsHash[b]||0)+1;this.stringMinLength=null===this.stringMinLength?b:Math.min(this.stringMinLength,
b);this.stringMaxLength=null===this.stringMaxLength?b:Math.max(this.stringMaxLength,b);this.stringMeanLength=(this.stringMeanLength||0)*(this.stringCount-1)/this.stringCount+b/this.stringCount;if(!this.valueHash[a].words){c=c.toLowerCase().toLowerCase().match(Cd)||[];1<c.length&&(this.multiwordCount++,this.totalWordCount+=c.length);b=this.valueHash[a].words={};for(var e=0;e<c.length;e++){var f=c[e];b[f]=(b[f]||0)+1;f in this.wordCounts||(this.wordCounts[f]=0,this.uniqueWordCount++)}}a=this.valueHash[a].words;
for(f in a)this.wordCounts[f]=(this.wordCounts[f]||0)+1};return a}();function Hd(a){if(!a||!a.length)return{};for(var b={},c=0;c<a.length;c++){var d=a[c];if(null!=d)for(var e=Object.keys(d),f=0;f<e.length;f++){var g=e[f],h=d[g];g in b||(b[g]=new Gd);b[g].addValue(h)}}for(var l in b)a=b[l],a.multiwordCount&&(a.wordTree=Fd(a.valueHash));return b};
</script>

<script>//~~WEBPATH~~/facets-dive/lib/string-format.js
function Id(a){return 65>a.length?a:a.substr(0,30)+"..."+a.substr(-30)};
</script>




<dom-module id="facets-dive-vis">
  <template>
    
    
  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive-vis/facets-dive-vis.js
/*

 Copyright 2018 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var Ld=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Md={bottom:6,left:6,right:6,top:6},Rd={"\ufffcOTHER\ufffc":"other","\ufffcNO_WORDS\ufffc":"non-words","\ufffcALL_WORDS\ufffc":"other"};
function Sd(a){return null!==a&&a in Rd?{label:Rd[a],special:!0}:"number"!==typeof a&&"string"!==typeof a?{label:""+a,special:!0}:{label:Id(""+a),special:!1}}
var Td="#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),Ud="#4285F4 #0F9D58 #00ACC1 #9E9D24 #5C6BC0 #00796B #607D8B".split(" "),Vd="#DB4437 #F4B400 #AB47BC #F06292 #AB47BC #795548 #FF7043 #C2185B".split(" "),Wd="#4285F4 #C53929 #F7CB4D #0B8043 #5E35B1 #80DEEA #FF7043 #C0CA33".split(" "),Xd={"alignment-baseline":"middle",fill:"#444444","font-size":18,"font-style":"normal","text-anchor":"middle",x:0,y:0},Yd=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}Ld(b,a);return b}(Sc),Zd=function(){function a(a){this.elem=a;this.endTimestamp=0;this.renderQueued=!1;this.labels=[];this.autoColorBy=!1;this.horizontalFacetInfo=this.verticalFacetInfo=null}a.prototype.ready=function(){this.layout=new id;this.cellBackgroundSVG=d3.select(this.elem).append("svg").style("left",0).style("position","absolute").style("top",0);this.cellBackgroundSVGRoot=this.cellBackgroundSVG.append("g").attr("class","root");this.cellBackgroundLayer=this.cellBackgroundSVGRoot.append("g").attr("class",
"labels");this.scene=new V.Scene;this.camera=new V.OrthographicCamera(0,100,0,100,.1,1E3);try{this.renderer=new V.WebGLRenderer({alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),d3.select(this.renderer.domElement).style("left",0).style("pointer-events","none").style("position","absolute").style("top",0),this.elem.appendChild(this.renderer.domElement)}catch(b){}this.zoom=d3.zoom().scaleExtent([1,500]).on("zoom",this.zoomed.bind(this));d3.select(this.elem).call(this.zoom);this.labelsAndAxesSVG=
d3.select(this.elem).append("svg").style("left",0).style("position","absolute").style("top",0);this.labelsAndAxesSVGRoot=this.labelsAndAxesSVG.append("g").attr("class","root");this.labelsLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","labels");this.axesLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","axes");this.comparedLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","comparedboxes");this.selectedLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","selectedboxes");
this.labelsAndAxesSVG.on("click",this.clicked.bind(this));this.renderer||(this.labelsAndAxesSVG.style("display","none"),this.cellBackgroundSVG.style("display","none"),d3.select(this.elem).append("p").attr("class","error").style("color","darkred").html('\n            \x3cstrong\x3eERROR\x3c/strong\x3e: Facets Dive requires WebGL, and it is not\n            enabled in your browser. See\n            \x3ca rel\x3d"noreferrer" href\x3d"http://webglreport.com/"\x3e\n            WebGL Report\x3c/a\x3e for details.\n          '))};
a.prototype.zoomed=function(){var a=d3.event.transform,c=a.x,d=a.y;a=a.k;var e=this.scale/a;this.camera.top*=e;this.camera.left*=e;this.camera.right*=e;this.camera.bottom*=e;this.camera.position.set(-c/a,d/a,this.camera.position.z);this.camera.updateProjectionMatrix();this.scale=a;this.transformSVG();this.updateObjectVisibility();this.queueRenderScene()};a.prototype.clicked=function(){var a=this.elem.getBoundingClientRect(),c=d3.event;a=this.spriteMesh.findSprites(this.camera.position.x+(c.clientX-
a.left)/this.scale,this.camera.position.y-(c.clientY-a.top)/this.scale);var d={};if(c.ctrlKey)for(c=0;c<this.elem.selectedIndices.length;c++)d[this.elem.selectedIndices[c]]=!0;for(c=0;c<a.length;c++)d[a[c]]=!0;this.elem.set("selectedIndices",Array.from(Object.keys(d).map(function(a){return+a})));a=[];for(c=0;c<this.elem.selectedIndices.length;c++)a.push(this.elem.data[this.elem.selectedIndices[c]]);this.elem.set("selectedData",a)};a.prototype.selectedIndicesUpdated=function(){this.spriteMesh&&this.updateSelectedBoxes()};
a.prototype.comparedIndicesUpdated=function(){if(this.spriteMesh){for(var a=[],c=0;c<this.elem.comparedIndices.length;c++)a.push(this.elem.data[this.elem.comparedIndices[c]]);this.elem.set("comparedData",a);this.updateComparedBoxes()}};a.prototype.updateSelectedBoxes=function(){var a=this,c=this.elem.selectedIndices.map(function(b){return{x:a.spriteMesh.getX(b),y:a.spriteMesh.getY(b)}});c=this.selectedLayer.selectAll(".selected").data(c);var d=c.enter().append("g").classed("selected",!0).attr("transform",
function(a){return"translate("+(.5+(a.x||0))+","+(.5+(a.y||0))+") scale(3)"}).style("opacity",0);d.append("rect").attr("x",-.5).attr("y",-.5).attr("width",1).attr("height",1).attr("stroke","#483d06").attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",0).attr("stroke-width",.3).attr("fill-opacity",0);d.append("rect").attr("x",-.5).attr("y",-.5).attr("width",1).attr("height",1).attr("stroke","#fad411").attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",
0).attr("stroke-width",.15).attr("fill-opacity",0);d=d.merge(c);d.transition().attr("transform",function(a){return"translate("+(.5+(a.x||0))+","+(.5+(a.y||0))+") scale(0.8)"}).style("opacity",1);d.selectAll("rect").classed("rotate",!0).attr("stroke-opacity",1);c.exit().transition().style("opacity",0).remove()};a.prototype.updateComparedBoxes=function(){var a=this,c=this.elem.comparedIndices.map(function(b){return{x:a.spriteMesh.getX(b),y:a.spriteMesh.getY(b)}});c=this.comparedLayer.selectAll(".compared").data(c);
var d=c.enter().append("g").classed("compared",!0).attr("transform",function(a){return"translate("+(.5+(a.x||0))+","+(.5+(a.y||0))+") scale(3)"}).style("opacity",0);d.append("rect").attr("x",-.5).attr("y",-.5).attr("width",1).attr("height",1).attr("stroke","#44ff44").attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-opacity",0).attr("stroke-width",.3).attr("fill-opacity",0);d.append("rect").attr("x",-.5).attr("y",-.5).attr("width",1).attr("height",1).attr("stroke","#1d6b1d").attr("stroke-linecap",
"round").attr("stroke-linejoin","round").attr("stroke-opacity",0).attr("stroke-width",.15).attr("fill-opacity",0);d=d.merge(c);d.transition().attr("transform",function(a){return"translate("+(.5+(a.x||0))+","+(.5+(a.y||0))+") scale(0.8)"}).style("opacity",1);d.selectAll("rect").classed("rotate",!0).attr("stroke-opacity",1);c.exit().transition().style("opacity",0).remove()};a.prototype.fitToViewport=function(){var a=this,c=this.elem.getBoundingClientRect();if(c.width&&c.height){this.layout.viewport.width=
c.width;this.layout.viewport.height=c.height;this.layout.padding.bottom=this.elem.scenePadding;this.layout.padding.left=this.elem.scenePadding;this.layout.padding.right=this.elem.scenePadding;this.layout.padding.top=this.elem.scenePadding;this.layout.grid={bottom:0,left:0,right:this.grid.width,top:this.grid.height};if(this.labels.length){var d=0,e=0,f=0,g=0;this.labelsLayer.selectAll(".label").each(function(a){var b=d3.select(this).select(".current").node().getBoundingClientRect(),c=a.elementMargin||
{bottom:0,left:0,right:0,top:0},h=b.height+c.top+c.bottom;b=b.width+c.left+c.right;switch(a.side){case Tc.Bottom:d=Math.max(d,h);break;case Tc.Top:g=Math.max(g,h);break;case Tc.Left:e=Math.max(e,b);break;case Tc.Right:f=Math.max(f,b);break;default:throw Error("Unrecognized Side.");}});this.layout.padding.bottom+=d;this.layout.padding.left+=e;this.layout.padding.right+=f;this.layout.padding.top+=g}this.layout.reducePaddingToFitWidth(c.width);this.layout.reducePaddingToFitHeight(c.height);this.scale=
this.layout.computeScale();var h=this.layout.computeCamera();c=h.position;h=h.frustum;this.camera.left=h.left;this.camera.right=h.right;this.camera.top=h.top;this.camera.bottom=h.bottom;this.camera.position.set(c.x,c.y,100);this.camera.updateProjectionMatrix();d3.select(this.elem).call(this.zoom.transform,d3.zoomIdentity.scale(this.scale).translate(-this.camera.position.x,this.camera.position.y));this.transformSVG();this.updateObjectVisibility();this.queueRenderScene()}else setTimeout(function(){return a.fitToViewport()},
100)};a.prototype.zoomIn=function(){this.zoom.scaleBy(d3.select(this.elem),1.1)};a.prototype.zoomOut=function(){this.zoom.scaleBy(d3.select(this.elem),1/1.1)};a.prototype.transformSVG=function(){var a=this,c=-this.camera.position.x*this.scale,d=this.camera.position.y*this.scale;this.cellBackgroundSVGRoot.attr("transform","translate("+c+","+d+") scale("+this.scale+","+-this.scale+")");this.labelsAndAxesSVGRoot.attr("transform","translate("+c+","+d+") scale("+this.scale+","+-this.scale+")");this.labelsAndAxesSVGRoot.selectAll(".unscale").attr("transform",
"scale("+1/this.scale+")");this.axesLayer.selectAll(".axis").select("path").attr("d",function(b){return b.path(a.scale)}).attr("stroke-width",function(b){return b.strokeWidth(a.scale)})};a.prototype.isVisible=function(a,c){return a.shouldBeVisible(c,this.scale,this.camera.position,this.camera)};a.prototype.updateObjectVisibility=function(){var a=this,c=this,d=this.labelsLayer.selectAll(".label"),e=d.filter(function(a){return(void 0===a.visible||!a.visible)&&c.isVisible(a,this)}).each(function(a){return a.visible=
!0}),f=d.filter(function(a){return(void 0===a.visible||a.visible)&&!c.isVisible(a,this)}).each(function(a){return a.visible=!1});e.selectAll(".opacity").transition().duration(this.elem.tweenDuration).attr("opacity",1);f.selectAll(".opacity").transition().duration(this.elem.tweenDuration).attr("opacity",0);d.filter(function(a){return!!a.scaleDown}).selectAll(".scale").attr("transform",function(b){return"scale("+(a.scale<b.minScale?a.scale/b.minScale:1)+")"});d=this.axesLayer.selectAll(".axis").each(function(a){a.visible=
c.isVisible(a,this)});d.filter(function(a){return!!a.visible}).select("path").transition().duration(this.elem.tweenDuration).attr("stroke-opacity",1);d.filter(function(a){return!a.visible}).select("path").transition().duration(this.elem.tweenDuration).attr("stroke-opacity",0)};a.prototype.addVerticalFacetLabels=function(a){var b=this;this.elem.verticalFacet in this.stats&&this.grid.getColumn(this.grid.horizontalKeys[this.grid.horizontalKeys.length-1]).forEach(function(c){var d=b.verticalFacetInfo.labelingFunction(c.verticalKey),
f=new Yd;f.text=d.label;f.x=c.x+c.width;f.y=c.contentY+c.innerHeight/2;f.side=Tc.Right;f.cell=c;f.attributes={"alignment-baseline":"middle",fill:"#666666","font-size":Xd["font-size"],"text-anchor":"start","font-style":d.special?"italic":"normal"};f.offsetPosition={x:8};f.minScale=Xd["font-size"]/(c.height+b.grid.cellMargin);f.scaleDown=!0;a.push(f)})};a.prototype.addHorizontalFacetLabels=function(a){var b=this;this.elem.horizontalFacet in this.stats&&this.grid.getRow(this.grid.verticalKeys[this.grid.verticalKeys.length-
1]).forEach(function(c){var d=b.horizontalFacetInfo.labelingFunction(c.horizontalKey),f=new Yd;f.text=d.label;f.x=c.contentX+c.innerWidth/2;f.y=c.y+c.height;f.side=Tc.Top;f.cell=c;f.rotate=-45;f.attributes={"alignment-baseline":"ideographic",fill:"#dd6622","font-size":Xd["font-size"],"text-anchor":"start","font-style":d.special?"italic":"normal"};f.offsetPosition={x:8,y:-8};f.minScale=Xd["font-size"]/(c.width+b.grid.cellMargin/2);f.scaleDown=!0;a.push(f)})};a.prototype.addVerticalPositioningLabels=
function(a){var b=this;if("scatter"===this.elem.positionMode&&this.elem.verticalPosition in this.stats){var d=this.stats[this.elem.verticalPosition],e=this.formatNumber(d.numberMin),f=this.formatNumber(d.numberMax),g=(e.length+3)/(e.length+f.length+6);this.grid.eachCell(function(c){if(c.items.length){for(var d=c.siblings.left;!(!d||d.items.length||d.siblings.above&&d.siblings.above.items.length);)d=d.siblings.left;d=d?d.contentX+d.innerWidth:-Infinity;var h=c.x+8,n=c.contentY,q=c.contentY+c.innerHeight,
p=new Yd;p.id=c.compoundKey+"-left-start";p.text=e;p.x=c.x+8;p.y=c.y+(b.elem.horizontalPosition?8:0);p.side=Tc.Left;p.cell=c;p.rotate=-90;p.attributes={"alignment-baseline":"ideographic",fill:"#2255aa","font-size":16,"text-anchor":"start"};p.offsetPosition={x:Md.bottom,y:-Md.right};p.boundingBox={bottom:n,left:d,right:h,top:n+c.innerHeight*(Math.max(g,.1)-.05)};p.elementMargin=Md;a.push(p);p=new Yd;p.id=c.compoundKey+"-left-end";p.text=f;p.x=c.x+8;p.y=c.y+c.height;p.side=Tc.Left;p.cell=c;p.rotate=
-90;p.attributes={"alignment-baseline":"ideographic",fill:"#2255aa","font-size":16,"text-anchor":"end"};p.offsetPosition={x:-Md.top,y:-Md.right};p.boundingBox={bottom:n+c.innerHeight*(Math.min(g,.9)+.05),left:d,right:h,top:q};p.elementMargin=Md;a.push(p)}})}};a.prototype.addHorizontalPositioningLabels=function(a){var b=this;if("scatter"===this.elem.positionMode&&this.elem.horizontalPosition in this.stats){var d=this.stats[this.elem.horizontalPosition],e=this.formatNumber(d.numberMin),f=this.formatNumber(d.numberMax),
g=(e.length+3)/(e.length+f.length+6);this.grid.eachCell(function(c){if(c.items.length){for(var d=c.siblings.below;!(!d||d.items.length||d.siblings.right&&d.siblings.right.items.length);)d=d.siblings.below;d=d?d.contentY+d.innerHeight:-Infinity;var h=c.contentY,n=c.contentX,q=n+c.innerWidth,p=new Yd;p.id=c.compoundKey+"-bottom-start";p.text=e;p.x=c.x+(b.elem.verticalPosition?8:0);p.y=c.y+8;p.side=Tc.Bottom;p.cell=c;p.attributes={"alignment-baseline":"hanging",fill:"#118844","font-size":16,"text-anchor":"start"};
p.offsetPosition={x:Md.left,y:Md.top};p.boundingBox={bottom:d,left:n,right:n+c.innerWidth*(Math.max(g,.1)-.05),top:h};p.elementMargin=Md;a.push(p);p=new Yd;p.id=c.compoundKey+"-bottom-end";p.text=f;p.x=c.x+c.width;p.y=c.y+8;p.side=Tc.Bottom;p.cell=c;p.attributes={"alignment-baseline":"hanging",fill:"#118844","font-size":16,"text-anchor":"end"};p.offsetPosition={x:-Md.right,y:Md.top};p.boundingBox={bottom:d,left:n+c.innerWidth*(Math.min(g,.9)+.05),right:q,top:h};p.elementMargin=Md;a.push(p)}})}};a.prototype.determineLabels=
function(){var a=[];this.addVerticalFacetLabels(a);this.addHorizontalFacetLabels(a);this.addVerticalPositioningLabels(a);this.addHorizontalPositioningLabels(a);return a};a.prototype.updateCellBackgrounds=function(){var a=this.grid.getCells().filter(function(a){return a.items.length});a=this.cellBackgroundLayer.selectAll(".cell").data(a,function(a){return a.compoundKey});a.enter().append("rect").attr("class","cell").attr("x",function(a){return a.contentX||0}).attr("y",function(a){return a.contentY||
0}).attr("width",function(a){return a.innerWidth||0}).attr("height",function(a){return a.innerHeight||0}).attr("fill","#f8f8f9").attr("fill-opacity",0).merge(a).transition().duration(this.elem.tweenDuration).attr("x",function(a){return a.contentX||0}).attr("y",function(a){return a.contentY||0}).attr("width",function(a){return a.innerWidth||0}).attr("height",function(a){return a.innerHeight||0}).attr("fill-opacity",1);a.exit().transition().duration(this.elem.tweenDuration).remove().attr("fill-opacity",
0)};a.prototype.updateAxes=function(){var a=this,c=[];"stacked"!==this.elem.positionMode&&this.grid.eachCell(function(b){if(b.items.length){if(a.elem.verticalPosition){var d=new hd(Tc.Left,b);c.push(d)}a.elem.horizontalPosition&&(d=new hd(Tc.Bottom,b),c.push(d))}});var d=this.axesLayer.selectAll(".axis").data(c,function(a){return a.key()}),e=d.enter().append("g").attr("class","axis").attr("opacity",0);e.append("path").attr("d",function(b){return b.path(a.scale)}).attr("stroke",function(a){return a.side===
Tc.Left?"#2255aa":"#118844"}).attr("stroke-width",function(b){return b.strokeWidth(a.scale)}).attr("stroke-opacity",0).attr("fill","none");e.merge(d).transition().duration(this.elem.tweenDuration).attr("opacity",1);e.merge(d).select("path").transition().duration(this.elem.tweenDuration).attr("d",function(b){return b.path(a.scale)});d.exit().transition().duration(this.elem.tweenDuration).remove().attr("opacity",0)};a.prototype.updateLabels=function(){if(this.scale){this.labels=this.determineLabels();
var a=this.labelsLayer.selectAll(".label").data(this.labels,function(a){return a.id||a.side+"-"+a.text});a.each(function(a){var b=d3.select(this),c=b.select(".current");a.text!==c.text()&&(c.attr("fill-opacity",0),b.select(".old").attr("fill-opacity",1).text(c.text()))}).select(".current").text(function(a){return a.text});var c=function(a){return function(b){return void 0===b.attributes||void 0===b.attributes[a]?Xd[a]:b.attributes[a]}},d=a.enter().append("g").attr("class","label").attr("transform",
function(a){return"translate("+a.x+","+a.y+")"}),e=d.append("g").attr("class","flip").attr("transform","scale(1,-1)").append("g").attr("class","rotate").attr("transform",function(a){return"rotate("+("rotate"in a?a.rotate:0)+")"}).append("g").attr("class","unscale").attr("transform","scale("+1/this.scale+")").append("g").attr("class","position").append("g").attr("class","opacity scale"),f=e.append("text").attr("class","old").attr("fill-opacity",0);e=e.append("text").attr("class","current").attr("fill-opacity",
0).text(function(a){return a.text});for(var g in Xd)Xd.hasOwnProperty(g)&&(f.attr(g,c(g)),e.attr(g,c(g)));f=d.merge(a).transition().duration(this.elem.tweenDuration).attr("transform",function(a){return"translate("+a.x+","+a.y+")"});f.select(".rotate").attr("transform",function(a){return"rotate("+("rotate"in a?a.rotate:0)+")"});f.filter(function(a){return!!a.offsetPosition}).select(".position").attr("transform",function(a){return"translate("+(a.offsetPosition.x||0)+","+(a.offsetPosition.y||0)+")"});
d=f.select(".old").attr("fill-opacity",0);f=f.select(".current").attr("fill-opacity",1);for(g in Xd)Xd.hasOwnProperty(g)&&(d.attr(g,c(g)),f.attr(g,c(g)));a.exit().transition().duration(this.elem.tweenDuration).remove().select(".current").attr("fill-opacity",0)}};a.prototype.dataChange=function(){var a=this.elem.data;if(a&&a.length)if(this.scene){this.resizeHandler();this.stats=Hd(a);if(this.items)if(this.items.length!==a.length)this.initializeSpriteMesh(),this.updateImageFieldName();else for(var c=
0;c<a.length;c++)this.items[c].data=a[c];else this.initializeSpriteMesh(),this.pickColorByField(),this.pickTextDrawingField();this.updateGridFaceting();this.updateGridItemPositions();this.updateColors()}else requestAnimationFrame(this.dataChange.bind(this))};a.prototype.initializeSpriteMesh=function(){var a=this;this.spriteMesh&&(this.scene.remove(this.spriteMesh),this.spriteMesh.spriteAtlas.clearQueues(),delete this.spriteMesh);var c=this.elem.data,d=c.length,e=this.elem.spriteImageWidth,f=this.elem.spriteImageHeight,
g=e/f;this.spriteMesh=new Bd(d,e,f);this.scene.add(this.spriteMesh);this.spriteMesh.spriteAtlas.onDrawFinished=function(){return a.queueRenderScene()};this.items=[];e=Math.ceil(Math.sqrt(d));f=Math.ceil(d/e);for(var h=0;h<d;h++){var l=this.spriteMesh.createSprite();l.x=e/2;l.y=f/2;l.opacity=0;l.timestamp=Date.now();l.rebase(l.timestamp);this.items.push({sprite:l,data:c[h]})}this.grid=new cd(this.items);this.grid.cellMargin=1;this.grid.itemAspectRatio=g;this.grid.itemPositionSetter=function(b,c,d){var e=
Date.now();b.sprite.rebase(e);b.sprite.x=c;b.sprite.y=d;b.sprite.opacity=1;b.sprite.timestamp=e+a.elem.tweenDuration;a.renderUntil(b.sprite.timestamp)}};a.prototype.filteredDataIndicesChange=function(){var a=this.elem.filteredDataIndices;if(this.scene&&this.items){var c=[];if(a)for(var d=0;d<a.length;d++){var e=a[d];e<this.items.length&&(c[e]=!0)}e=[];var f=[],g=Date.now(),h=g+this.elem.tweenDuration;for(d=0;d<this.items.length;d++){var l=this.items[d];!a||c[d]?(e.push(l.data),f.push(l),l.sprite.opacity||
(l.sprite.rebase(g),l.sprite.timestamp=h,l.sprite.opacity=1)):0<l.sprite.opacity&&(l.sprite.rebase(g),l.sprite.timestamp=h,l.sprite.opacity=0)}this.renderUntil(h);this.stats=Hd(e);this.grid.items=f;this.updateGridFaceting();this.updateGridItemPositions()}else requestAnimationFrame(this.filteredDataIndicesChange.bind(this))};a.prototype.pickColorByField=function(){var a=null,c=Infinity,d;for(d in this.stats)if(this.stats.hasOwnProperty(d)){var e=this.stats[d],f=Math.abs(e.uniqueCount-Td.length);1<
e.uniqueCount&&f<c&&(a=d,c=f)}isFinite(c)&&a in this.stats&&(this.autoColorBy=!0,this.elem.set("colorBy",a))};a.prototype.pickTextDrawingField=function(){var a="",c=-Infinity,d;for(d in this.stats)if(this.stats.hasOwnProperty(d)){var e=this.stats[d];e=e.stringCount+e.stringLengthsCount-e.totalCount;e>c&&(a=d,c=e)}isFinite(c)&&a in this.stats&&this.elem.set("imageFieldName",a)};a.prototype.queueAtlasUrlChange=function(){var a=this;this.atlasUrlChangeTimer&&clearTimeout(this.atlasUrlChangeTimer);this.atlasUrlChangeTimer=
setTimeout(function(){a.atlasUrlChangeTimer&&a.atlasUrlChange()},100)};a.prototype.atlasUrlChange=function(){var a=this;clearTimeout(this.atlasUrlChangeTimer);delete this.atlasUrlChangeTimer;if(this.spriteMesh){var c=this.elem.atlasUrl;c&&c.length&&c!==this.lastAtlasUrl&&(this.lastAtlasUrl=c,this.resetSpritesToDefaultTexture(),this.spriteMesh.spriteAtlas.setAtlasUrl(c,this.elem.crossOrigin,function(){for(var b=a.elem.data,c=Date.now(),f=c+a.elem.fadeDuration,g=0;b&&g<b.length;g++)a.spriteMesh.switchTextures(g,
c,f);a.renderUntil(f);a.ignoreChange=!0;a.elem.set("imageFieldName","");delete a.ignoreChange;a.autoColorBy&&(a.autoColorBy=!1,a.elem.set("colorBy",""))}))}else requestAnimationFrame(this.atlasUrlChange.bind(this))};a.prototype.spriteUrlChange=function(){var a=this,c=this.elem.spriteUrl;if(c)if(this.spriteMesh){var d=new Image;void 0!==this.elem.crossOrigin&&(d.crossOrigin=this.elem.crossOrigin);d.onload=function(){var b=a.spriteMesh.defaultTextureCanvas,c=b.getContext("2d");c.clearRect(0,0,b.width,
b.height);c.drawImage(d,0,0,b.width,b.height);a.spriteMesh.defaultTexture.needsUpdate=!0;a.queueRenderScene()};d.src=c}else requestAnimationFrame(this.spriteUrlChange.bind(this))};a.prototype.updateGridStacking=function(){"stacked"===this.elem.positionMode&&(this.grid.computeItemPosition=Zc(this.elem.verticalFacet?"middle":"bottom",this.elem.horizontalFacet?"middle":"right"))};a.prototype.updateGridFaceting=function(){if(this.grid){this.updateGridStacking();var a=this.verticalFacetInfo=this.generateFacetingInfo(this.elem.verticalFacet,
this.elem.verticalBuckets,this.elem.verticalBagOfWords,!0);this.grid.verticalFacet=a.facetingFunction;this.grid.verticalKeyCompare=a.keyCompareFunction;a=this.horizontalFacetInfo=this.generateFacetingInfo(this.elem.horizontalFacet,this.elem.horizontalBuckets,this.elem.horizontalBagOfWords,!1);this.grid.horizontalFacet=a.facetingFunction;this.grid.horizontalKeyCompare=a.keyCompareFunction;this.elem.fitGridAspectRatioToViewport?(a=this.elem.getBoundingClientRect(),this.grid.targetGridAspectRatio=a&&
a.width&&a.height?a.width/a.height||1:1):this.grid.targetGridAspectRatio=1;this.grid.arrange();this.updateCellBackgrounds();this.updateAxes();this.updateLabels();this.updateSelectedBoxes();this.updateComparedBoxes();this.fitToViewport()}};a.prototype.updateGridItemPositions=function(){if(this.grid){this.updateGridStacking();var a=this.grid.cellPadding,c=dd.Tight,d=dd.Uniform,e=!1;if("stacked"===this.elem.positionMode)e=this.grid.verticalGridAlignment!==c||this.grid.horizontalGridAlignment!==c,this.grid.verticalGridAlignment=
c,this.grid.horizontalGridAlignment=c,this.grid.cellPadding.top=0,this.grid.cellPadding.left=0,this.grid.cellPadding.right=0,this.grid.cellPadding.bottom=0,this.grid.minCellAspectRatio=0,this.grid.maxCellAspectRatio=Infinity;else{this.elem.verticalPosition?(e=this.grid.verticalGridAlignment!==d,this.grid.verticalGridAlignment=d):(e=this.grid.verticalGridAlignment!==c,this.grid.verticalGridAlignment=c);this.elem.horizontalPosition?(e=e||this.grid.horizontalGridAlignment!==d,this.grid.horizontalGridAlignment=
d):(e=e||this.grid.horizontalGridAlignment!==c,this.grid.horizontalGridAlignment=c);var f=this.generatePositionFunction(this.elem.horizontalPosition)||Xc,g=this.generatePositionFunction(this.elem.verticalPosition)||Yc;this.grid.computeItemPosition=function(a,b,c,d){return{x:f(a,b,c,d),y:g(a,b,c,d)}};c=this.elem.verticalPosition?8:0;d=this.elem.horizontalPosition?8:0;e=e||0!==a.top||c!==a.left||0!==a.right||d!==a.bottom;this.grid.cellPadding.top=0;this.grid.cellPadding.right=0;this.grid.cellPadding.left=
c;this.grid.cellPadding.bottom=d;this.grid.minCellAspectRatio=1;this.grid.maxCellAspectRatio=2}e?(this.grid.arrange(),this.updateCellBackgrounds()):this.grid.positionItems();this.updateAxes();this.updateLabels();this.updateSelectedBoxes();this.updateComparedBoxes();this.fitToViewport()}};a.prototype.getPaletteSource=function(){switch(this.elem.paletteChoice){case "warm":return Vd;case "cool":return Ud;case "assist":return Wd;default:return Td}};a.prototype.updateScalarPalette=function(){var a=this.elem.colorBy,
c=this.stats[a],d=this.grid.items,e=d3.rgb("#A52714"),f=d3.scaleLinear();f.domain([c.numberMin,c.numberMax]).range(["white","#1C3AA9"]);for(var g=[],h=0;h<d.length;h++){var l=d[h];l=a in l.data?l.data[a]:NaN;l="number"!==typeof l||isNaN(l)?e:d3.rgb(f(l));g.push(l)}d=this.generateFacetingInfo(a,5,!1,!1).labelingFunction;e=d3.scaleLinear();e.domain([0,4]).range(["white","#1C3AA9"]);f=[];for(h=4;0<=h;h--)l=d(h),f.push({key:h,color:e(h),content:l});(c.otherCount||c.stringCount||c.totalCount<this.grid.items.length)&&
f.push({key:NaN,color:"#A52714",content:{label:"missing",special:!0}});this.elem.set("palette",f);this.grid.cellItemComparator=function(b,c){if(!(a in b.data||a in c.data))return 0;if(!(a in b.data))return-1;if(!(a in c.data))return 1;b=b.data[a];c=c.data[a];if(b===c)return 0;var d="number"!==typeof b||isNaN(b),e="number"!==typeof c||isNaN(c);return d&&e?0:d?-1:e?1:b-c};return g};a.prototype.updateCategoricalPalette=function(a){var b=this.elem.colorBy,d=this.stats[b],e=this.grid.items,f=Object.keys(d.valueHash);
this.elem.stableColors?f.sort():f.sort(function(a,b){return d.valueHash[b].count-d.valueHash[a].count});for(var g=Math.min(a.length,f.length),h=f.slice(0,g).reduce(function(a,b,c){a[b]=c;return a},{}),l=d3.rgb("#F0F0F0"),m=a.map(function(a){return d3.rgb(a)}),n=!1,q=[],p=0;p<e.length;p++){var t=Dd(e[p].data[b]);n=n||!(t in h);q.push(m[h[t]]||l)}a=a.slice(0,g).map(function(a,b){b=d.valueHash[f[b]].value;return{key:b,color:a,content:{label:b+"",special:"number"!==typeof b&&"string"!==typeof b||b in
Rd}}});n&&a.push({key:null,color:"#F0F0F0",content:{label:"other",special:!0}});this.elem.set("palette",a);this.grid.cellItemComparator=function(a,c){if(!(b in a.data||b in c.data))return 0;if(!(b in a.data))return 1;if(!(b in c.data))return-1;a=a.data[b];c=c.data[b];if(a===c)return 0;a=Dd(a);c=Dd(c);return a in h||c in h?a in h?c in h?h[a]-h[c]:-1:1:0};return q};a.prototype.updateColors=function(){if(this.grid){var a=this.elem.colorBy;if(a in this.stats){a=this.stats[a];var c=this.getPaletteSource();
a=a.uniqueCount>c.length&&a.isNumeric()?this.updateScalarPalette():this.updateCategoricalPalette(c);c=this.grid.items;for(var d=Date.now(),e=d+this.elem.tweenDuration,f=0;f<c.length;f++){var g=c[f],h=a[f];g.sprite.rebase(d);g.sprite.r=h.r;g.sprite.g=h.g;g.sprite.b=h.b;g.sprite.a=180;g.sprite.timestamp=e}this.renderUntil(e);this.updateGridItemPositionsAfterColorChange()}else this.clearColors()}};a.prototype.updateGridItemPositionsAfterColorChange=function(){"stacked"!==this.elem.positionMode&&this.elem.verticalPosition&&
this.elem.horizontalPosition||this.updateGridItemPositions()};a.prototype.clearColors=function(){for(var a=this.grid.items,c=Date.now(),d=c+this.elem.tweenDuration,e=0;e<a.length;e++){var f=a[e];f.sprite.rebase(c);f.sprite.r=0;f.sprite.g=0;f.sprite.b=0;f.sprite.a=0;f.sprite.timestamp=d}this.renderUntil(d);this.elem.set("palette",[]);this.grid.cellItemComparator&&(this.grid.cellItemComparator=null,this.updateGridItemPositionsAfterColorChange())};a.prototype.resetSpritesToDefaultTexture=function(){var a=
this.grid.items;this.spriteMesh.spriteAtlas.clearQueues();for(var c=Date.now(),d=c+this.elem.fadeDuration,e=0;e<a.length;e++){var f=a[e];0<f.sprite.textureIndex&&f.sprite.switchTextures(c,d)}this.renderUntil(d)};a.prototype.updateImageFieldName=function(){var a=this;if(!this.ignoreChange&&this.grid){this.resetSpritesToDefaultTexture();var c=this.elem.imageFieldName;if(c in this.stats)for(var d=this.grid.items,e=function(b){b=d[b];var e=b.sprite;e.setSpriteImageData({type:"text",data:Sd(b.data[c]).label},
function(){var b=Date.now();e.baseTextureTimestamp=b;e.baseTextureIndex=0;e.textureTimestamp=b+a.elem.tweenDuration;e.textureIndex=1;a.renderUntil(e.textureTimestamp)})},f=0;f<d.length;f++)e(f);else delete this.lastAtlasUrl,this.queueAtlasUrlChange()}};a.prototype.generatePositionFunction=function(a){var b=this.stats[a];if(!b||!b.isNumeric())return null;var d=b.numberMax-b.numberMin;return function(c){return(c.data[a]-b.numberMin)/d}};a.prototype.generateFacetingInfo=function(a,c,d,e){if(!(a in this.stats))return{facetingFunction:function(){return null},
keyCompareFunction:function(){return 0},labelingFunction:Sd};var b=this.stats[a];if(b.wordTree&&1<b.wordTree.highestLevel&&d)return this.generateBagOfWordsFacetingInfo(a,c,e);if(b.uniqueCount<=c)return{facetingFunction:function(b){return a in b.data?b.data[a]:null},keyCompareFunction:b.isNumeric()?Wc:e?Vc:Uc,labelingFunction:Sd};if(b.isNumeric()&&b.numberMax!==b.numberMin)return this.generateNumericFacetingInfo(a,c);d=Object.keys(b.valueHash);d.sort(function(a,c){return b.valueHash[c].count-b.valueHash[a].count});
var g=d.slice(0,c).reduce(function(a,b){a[b]=!0;return a},{});return{facetingFunction:function(b){if(!(a in b.data))return null;b=b.data[a];return Dd(b)in g?b:"\ufffcOTHER\ufffc"},keyCompareFunction:e?Vc:Uc,labelingFunction:Sd}};a.prototype.generateBagOfWordsFacetingInfo=function(a,c,d){var b=this.stats[a].wordTree,f=b.levelHash;return{facetingFunction:function(d){if(!(a in d.data))return null;for(d=b.nodeHash[Dd(d.data[a])];d.parent&&d.level>c;)d=d.parent;return d.level},keyCompareFunction:function(a,
b){a=f[a];b=f[b];if(void 0===a&&void 0===b)return 0;if(void 0===a)return-1;if(void 0===b)return 1;if(a.nonValueCount&&b.nonValueCount)return 0;if(a.nonValueCount)return-1;if(b.nonValueCount)return 1;b=b.order-a.order;return d?b:-b},labelingFunction:function(a){a=f[+a];if(!a.parent&&!a.commonWords.length)return{label:"other",special:!0};if(a.nonValueCount)return{label:"non-words",special:!0};for(var b=" \u2022 "+a.commonWords.join(" "),d=0;d<a.children.length;d++)if(a.children[d].level>c){b+=" \u2026";
break}for(;a.parent;)a=a.parent,a.commonWords.length&&(b=" \u2022 "+a.commonWords.join(" ")+" "+b);return{label:b}}}};a.prototype.generateNumericFacetingInfo=function(a,c){var b=this,e=this.stats[a],f=e.numberMax-e.numberMin;return{facetingFunction:function(b){if(!(a in b.data))return null;b=b.data[a];return"number"!==typeof b?b:isNaN(b)?b:Math.min(Math.floor(c*(b-e.numberMin)/f),c-1)},keyCompareFunction:Wc,labelingFunction:function(a){if("number"!==typeof a||isNaN(+a))return Sd(a);var d=e.numberMax-
e.numberMin,f=a/c*d+e.numberMin;a=(1+a)/c*d+e.numberMin;return e.isInteger()?{label:b.formatRange(Math.ceil(f),Math.floor(a))}:{label:b.formatRange(f,a)}}}};a.prototype.formatNumber=function(a){if(null===a)return"null";a=parseFloat(a.toPrecision(3));return 1E3<=Math.abs(a)?d3.format("s")(a):""+a};a.prototype.formatRange=function(a,c){return this.formatNumber(a)+" \u2014 "+this.formatNumber(c)};a.prototype.getKeys=function(){var a;if((a=this.elem.data)&&a.length){for(var c={},d=0;d<a.length;d++)if(a[d])for(var e=
Object.keys(a[d]),f=0;f<e.length;f++)c[e[f]]=!0;a=Object.keys(c)}else a=[];return a.sort()};a.prototype.renderUntil=function(a){this.endTimestamp=Math.max(this.endTimestamp,a);this.queueRenderScene()};a.prototype.resizeHandler=function(){var a=this,c=this.elem.getBoundingClientRect();c.width&&c.height?(this.labelsAndAxesSVG.attr("width",c.width).attr("height",c.height),this.cellBackgroundSVG.attr("width",c.width).attr("height",c.height),this.renderer&&this.renderer.setSize(c.width,c.height),this.camera.right=
c.width/this.scale,this.camera.bottom=-c.height/this.scale,this.camera.updateProjectionMatrix(),this.queueRenderScene()):requestAnimationFrame(function(){return a.resizeHandler()})};a.prototype.queueRenderScene=function(){var a=this;this.renderQueued||(this.renderQueued=!0,requestAnimationFrame(function(){a.renderQueued&&a.renderScene()}))};a.prototype.renderScene=function(){this.renderQueued=!1;var a=Date.now();this.endTimestamp>a&&this.queueRenderScene();if(this.spriteMesh&&(this.spriteMesh.time=
a,81>+V.REVISION&&this.spriteMesh.onBeforeRender))this.spriteMesh.onBeforeRender();this.renderer&&this.renderer.render(this.scene,this.camera);this.spriteMesh&&this.spriteMesh.spriteAtlas&&this.spriteMesh.spriteAtlas.postRender()};return a}();
Polymer({is:"facets-dive-vis",behaviors:[Polymer.IronResizableBehavior],properties:{data:{type:Array,value:null,observer:"_dataChange"},filteredDataIndices:{type:Array,value:null,observer:"_filteredDataIndicesChange"},atlasUrl:{type:String,value:null,observer:"_queueAtlasUrlChange"},spriteUrl:{type:String,value:null,observer:"_spriteUrlChange"},crossOrigin:{type:String,value:null},keys:{type:Array,value:[],notify:!0,readOnly:!0},stats:{type:Object,value:{},notify:!0,readOnly:!0},scenePadding:{type:Number,
value:8},tweenDuration:{type:Number,value:600},fadeDuration:{type:Number,value:200},spriteImageWidth:{type:Number,value:64},spriteImageHeight:{type:Number,value:64},gridFacetingVerticalLabelColor:{type:String,value:"#666666"},gridFacetingHorizontalLabelColor:{type:String,value:"#dd6622"},itemPositioningVerticalLabelColor:{type:String,value:"#2255aa"},itemPositioningHorizontalLabelColor:{type:String,value:"#118844"},fitGridAspectRatioToViewport:{type:Boolean,value:!1},verticalFacet:{type:String,value:"",
observer:"_updateGridFaceting"},verticalBuckets:{type:Number,value:10,observer:"_updateGridFaceting"},verticalBagOfWords:{type:Boolean,value:!1,observer:"_updateGridFaceting"},horizontalFacet:{type:String,value:"",observer:"_updateGridFaceting"},horizontalBuckets:{type:Number,value:10,observer:"_updateGridFaceting"},horizontalBagOfWords:{type:Boolean,value:!1,observer:"_updateGridFaceting"},positionMode:{type:String,value:"",observer:"_updateGridItemPositions"},verticalPosition:{type:String,value:"",
observer:"_updateGridItemPositions"},horizontalPosition:{type:String,value:"",observer:"_updateGridItemPositions"},colorBy:{type:String,value:"",observer:"_updateColors",notify:!0},imageFieldName:{type:String,value:"",observer:"_updateImageFieldName",notify:!0},palette:{type:Array,value:[],notify:!0},paletteChoice:{type:String,value:"standard",observer:"_updateColors"},selectedData:{type:Array,value:[],notify:!0},selectedIndices:{type:Array,value:[],notify:!0,observer:"_selectedIndicesUpdated"},comparedData:{type:Array,
value:[],notify:!0},comparedIndices:{type:Array,value:[],notify:!0,observer:"_comparedIndicesUpdated"},stableColors:{type:Boolean,value:!1,observer:"_updateColors"}},listeners:{"iron-resize":"_onIronResize"},created:function(){this._backing=new Zd(this)},ready:function(){this._backing.ready()},_dataChange:function(){this._backing.dataChange();this._setKeys(this._backing.getKeys());this._setStats(this._backing.stats)},_filteredDataIndicesChange:function(){this._backing.filteredDataIndicesChange();
this._setKeys(this._backing.getKeys());this._setStats(this._backing.stats)},_queueAtlasUrlChange:function(){this._backing.queueAtlasUrlChange()},_spriteUrlChange:function(){this._backing.spriteUrlChange()},_updateGridFaceting:function(){this._backing.updateGridFaceting()},_updateGridItemPositions:function(){this._backing.updateGridItemPositions()},_updateColors:function(){this._backing.updateColors()},_updateImageFieldName:function(){this._backing.updateImageFieldName()},_onIronResize:function(){this._backing.resizeHandler()},
_selectedIndicesUpdated:function(){this._backing.selectedIndicesUpdated()},_comparedIndicesUpdated:function(){this._backing.comparedIndicesUpdated()},fitToViewport:function(){this._backing.fitToViewport()},zoomIn:function(){this._backing.zoomIn()},zoomOut:function(){this._backing.zoomOut()}});
</script>


<dom-module id="facets-dive-controls">
  <template>
    

    <div class="main-controls style-scope facets-dive-controls">
        <div class="dropdown-holder horizontal-facet style-scope facets-dive-controls">
            <paper-dropdown-menu id="horizontalFacet" label="Binning | X-Axis" class="facet-selector style-scope facets-dive-controls">
              <paper-listbox class="dropdown-content style-scope facets-dive-controls" attr-for-selected="value" slot="dropdown-content">
                <paper-item value="" class="style-scope facets-dive-controls">(none)</paper-item>
                <template is="dom-repeat" class="style-scope facets-dive-controls"></template>
              </paper-listbox>
            </paper-dropdown-menu>
          </div>

          <template is="dom-if" class="style-scope facets-dive-controls"></template>

      <div class="dropdown-holder vertical-facet style-scope facets-dive-controls">
        <paper-dropdown-menu id="verticalFacet" label="Binning | Y-Axis" class="facet-selector style-scope facets-dive-controls">
          <paper-listbox class="dropdown-content style-scope facets-dive-controls" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="" class="style-scope facets-dive-controls">(none)</paper-item>
            <template is="dom-repeat" class="style-scope facets-dive-controls"></template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>

      <template is="dom-if" class="style-scope facets-dive-controls"></template>

      <div class="dropdown-holder style-scope facets-dive-controls">
        <paper-dropdown-menu id="colorBy" label="Color By" class="style-scope facets-dive-controls">
          <paper-listbox class="dropdown-content style-scope facets-dive-controls" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="" class="style-scope facets-dive-controls">(none)</paper-item>
            <template is="dom-repeat" class="style-scope facets-dive-controls"></template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>

      <div class="dropdown-holder style-scope facets-dive-controls">
        <paper-dropdown-menu id="imageFieldName" label="Label By" class="style-scope facets-dive-controls">
          <paper-listbox class="dropdown-content style-scope facets-dive-controls" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="" class="style-scope facets-dive-controls">
              
            </paper-item>
            <template is="dom-repeat" class="style-scope facets-dive-controls"></template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>

      <div class="dropdown-holder horizontal-position style-scope facets-dive-controls">
        <paper-dropdown-menu id="horizontalPosition" label="Scatter | X-Axis" class="position-selector style-scope facets-dive-controls">
          <paper-listbox class="dropdown-content style-scope facets-dive-controls" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="" class="style-scope facets-dive-controls">(default)</paper-item>
            <template is="dom-repeat" filter="_isKeyNumeric" class="style-scope facets-dive-controls"></template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>

      <div class="dropdown-holder vertical-position style-scope facets-dive-controls">
        <paper-dropdown-menu id="verticalPosition" label="Scatter | Y-Axis" class="position-selector style-scope facets-dive-controls">
          <paper-listbox class="dropdown-content style-scope facets-dive-controls" attr-for-selected="value" slot="dropdown-content">
            <paper-item value="" class="style-scope facets-dive-controls">(default)</paper-item>
            <template is="dom-repeat" filter="_isKeyNumeric" class="style-scope facets-dive-controls"></template>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>
    </div>
    <div class="overflow-holder style-scope facets-dive-controls">
      <template is="dom-if" class="style-scope facets-dive-controls"></template>
      <paper-dialog id="overflowmenu" no-overlap="" horizontal-align="right" vertical-align="top" class="style-scope facets-dive-controls">
        <div class="overflow-div style-scope facets-dive-controls">
          <template is="dom-if" class="style-scope facets-dive-controls"></template>
          <template is="dom-if" class="style-scope facets-dive-controls"></template>

          <template is="dom-if" class="style-scope facets-dive-controls"></template>
        </div>
      </paper-dialog>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive-controls/facets-dive-controls.js
Polymer({is:"facets-dive-controls",properties:{atlasUrl:{type:String,value:""},keys:{type:Array,value:[]},stats:{type:Object,value:{}},verticalFacet:{type:String,value:"",notify:!0},verticalBuckets:{type:Number,value:10,notify:!0},verticalBagOfWords:{type:Boolean,value:!1,notify:!0},horizontalFacet:{type:String,value:"",notify:!0},horizontalBuckets:{type:Number,value:10,notify:!0},horizontalBagOfWords:{type:Boolean,value:!1,notify:!0},positionMode:{type:String,computed:"_getPositionMode(verticalPosition, horizontalPosition)",
notify:!0},verticalPosition:{type:String,value:"",notify:!0},horizontalPosition:{type:String,value:"",notify:!0},colorBy:{type:String,value:"",notify:!0},imageFieldName:{type:String,value:"",notify:!0},palette:{type:Array,value:[]},paletteChoice:{type:String,value:"standard",notify:!0},gridFacetingVerticalLabelColor:{type:String,value:"#666666",observer:"_updateCSSVars"},gridFacetingHorizontalLabelColor:{type:String,value:"#dd6622",observer:"_updateCSSVars"},itemPositioningVerticalLabelColor:{type:String,
value:"#2255aa",observer:"_updateCSSVars"},itemPositioningHorizontalLabelColor:{type:String,value:"#118844",observer:"_updateCSSVars"}},_getImageFieldNameDefaultLabel:function(a){return a?"(image)":"(default)"},_isModeScatter:function(a){return"scatter"===a},_isKeyNumeric:function(a){return this.stats&&a in this.stats&&this.stats[a].isNumeric()},_isKeyCategorical:function(a){return this.stats&&a in this.stats&&!this.stats[a].isNumeric()},_updateCSSVars:function(){this.customStyle["--grid-faceting-vertical-label-color"]=
this.gridFacetingVerticalLabelColor;this.customStyle["--grid-faceting-horizontal-label-color"]=this.gridFacetingHorizontalLabelColor;this.customStyle["--item-positioning-vertical-label-color"]=this.itemPositioningVerticalLabelColor;this.customStyle["--item-positioning-horizontal-label-color"]=this.itemPositioningHorizontalLabelColor;this.updateStyles()},_breakUpAndTruncate:function(a){return Id(""+a).replace(/([\W_])/g,"$1\u200b")},_maxBuckets:function(a,b){var c=this.stats[a];return c?b&&this._hasWordTree(a)?
Math.min(100,c.wordTree.highestLevel):Math.min(100,c.uniqueCount+1):100},_hasWordTree:function(a){a=this.stats[a];return!!a&&!!a.wordTree&&1<a.wordTree.highestLevel},_getPositionMode:function(a,b){return""==a&&""==b?"stacked":"scatter"},_openOverflow:function(){this.$.overflowmenu.positionElement=this.$.overflowbtn;this.$.overflowmenu.open()},_shouldShowOverflowMenu:function(a,b,c){return this._isKeyCategorical(a)||this._hasWordTree(b)||this._hasWordTree(c)}});
</script>




<script>//~~WEBPATH~~/facets-dive/lib/info-renderers.js
function $d(a,b){var c=document.createElement("dl"),d;for(d in a)if(a.hasOwnProperty(d)){var e=document.createElement("dt");e.textContent=d;c.appendChild(e);e=document.createElement("dd");e.textContent=a[d];c.appendChild(e)}b.appendChild(c)};
</script>


<dom-module id="facets-dive-info-card">
  <template>
    
    
  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive-info-card/facets-dive-info-card.js
Polymer({is:"facets-dive-info-card",properties:{infoRenderer:{type:Object},selectedData:{type:Array,value:[],observer:"_updateSelected"}},_updateSelected:function(a){var b=Polymer.dom(this.root);b.innerHTML="";if(a)for(var c=this.infoRenderer||$d,d=0;d<a.length;d++){var e=a[d],f=document.createElement("div");f.style.width="100%";b.appendChild(f);c(e,f)}}});
</script>










<dom-module id="facets-dive-legend">
  <template>
    
    <template is="dom-if" class="style-scope facets-dive-legend"></template>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-dive/components/facets-dive-legend/facets-dive-legend.js
Polymer({is:"facets-dive-legend",properties:{colorBy:{type:String,value:"",observer:"_open"},palette:{type:Array,value:[]},_opened:{type:Boolean,value:!1}},_breakUpAndTruncate:function(a){return Id(""+a).replace(/([\W_])/g,"$1\u200b")},_anyColor:function(){return!!(this.colorBy&&this.palette&&this.palette.length)},_specialClass:function(a){return a?"special":""},_open:function(){this._opened=!0},_toggleOpened:function(){this._opened=!this._opened},_getIcon:function(a){return a?"expand-less":"expand-more"}});
</script>



<dom-module id="facets-dive">
  <template>

    

    <div class="fill main style-scope facets-dive">
      <facets-dive-controls id="controls" class="style-scope facets-dive"></facets-dive-controls>

      <div class="fill row style-scope facets-dive">
        <div class="fill style-scope facets-dive">
          <facets-dive-vis id="vis" class="fill style-scope facets-dive"></facets-dive-vis>

          <div class="zoom-controls style-scope facets-dive">
            <paper-button raised="" id="zoomInButton" class="style-scope facets-dive">
              <iron-icon icon="icons:add" class="style-scope facets-dive"></iron-icon>
            </paper-button>
            <paper-button raised="" id="zoomOutButton" class="style-scope facets-dive">
              <iron-icon icon="icons:remove" class="style-scope facets-dive"></iron-icon>
            </paper-button>
            <paper-button raised="" id="fitButton" class="style-scope facets-dive">
              <iron-icon icon="icons:aspect-ratio" class="style-scope facets-dive"></iron-icon>
            </paper-button>
          </div>

          <facets-dive-legend id="legend" class="style-scope facets-dive">
          </facets-dive-legend>
        </div>

        <template is="dom-if" class="style-scope facets-dive"></template>
      </div>
    </div>

  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive/facets-dive.js
Polymer({is:"facets-dive",properties:{data:{type:Array,value:null,notify:!0},filteredDataIndices:{type:Array,value:null},_keys:{type:Array,value:[]},stats:{type:Object,value:{},notify:!0},atlasUrl:{type:String,value:null,notify:!0},spriteUrl:{type:String,value:null,notify:!0},crossOrigin:{type:String,value:null,notify:!0},spriteImageWidth:{type:Number,value:64},spriteImageHeight:{type:Number,value:64},gridFacetingVerticalLabelColor:{type:String,value:"#666666"},gridFacetingHorizontalLabelColor:{type:String,
value:"#dd6622"},itemPositioningVerticalLabelColor:{type:String,value:"#2255aa"},itemPositioningHorizontalLabelColor:{type:String,value:"#118844"},fitGridAspectRatioToViewport:{type:Boolean,value:!1},verticalFacet:{type:String,value:"",notify:!0},verticalBuckets:{type:Number,value:10,notify:!0},verticalBagOfWords:{type:Boolean,value:!1,notify:!0},horizontalFacet:{type:String,value:"",notify:!0},horizontalBuckets:{type:Number,value:10,notify:!0},horizontalBagOfWords:{type:Boolean,value:!1,notify:!0},
positionMode:{type:String,value:"stacked",notify:!0},verticalPosition:{type:String,value:"",notify:!0},horizontalPosition:{type:String,value:"",notify:!0},colorBy:{type:String,value:"",notify:!0},imageFieldName:{type:String,value:"",notify:!0},_palette:{type:Array,value:[]},paletteChoice:{type:String,value:"standard",notify:!0},selectedData:{type:Array,value:[],notify:!0},selectedIndices:{type:Array,value:[],notify:!0},comparedData:{type:Array,value:[],notify:!0},comparedIndices:{type:Array,value:[],
notify:!0},height:{type:Number,value:null,observer:"_updateHeight"},infoRenderer:{type:Object},hideInfoCard:{type:Boolean,value:!1},stableColors:{type:Boolean,value:!1}},ready:function(){var a=this.$;a.fitButton.onclick=function(){return a.vis.fitToViewport()};a.zoomInButton.onclick=function(){return a.vis.zoomIn()};a.zoomOutButton.onclick=function(){return a.vis.zoomOut()};this.hideInfoCard&&(a.vis.style.right="0");this._updateHeight()},_updateHeight:function(){null!==this.height&&(this.style.height=
"number"===typeof this.height?this.height+"px":this.height)}});
</script>









<script>//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/debug/error.js
function ae(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ae);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0}qa(ae,Error);ae.prototype.name="CustomError";
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/dom/nodetype.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/asserts/asserts.js
function be(a,b){ae.call(this,ce(a,b));this.messagePattern=a}qa(be,ae);be.prototype.name="AssertionError";function ce(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");return c+a[d]}function de(a,b){throw new be("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};
//~~WEBPATH~~external/com_google_protobuf_js/binary/constants.js
function ee(a){switch(a){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/array/array.js
var fe=Array.prototype.forEach?function(a,b){Array.prototype.forEach.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=oa(a)?a.split(""):a,e=0;e<c;e++)e in d&&b.call(void 0,d[e],e,a)},ge=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e=oa(a)?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d};
function he(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/crypt/crypt.js
function ie(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var b="",c=0;c<a.length;c+=8192)b+=String.fromCharCode.apply(null,he(a,c,c+8192));return b};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/string/string.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/util.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/object/object.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/browser.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/engine.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/platform.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/reflect/reflect.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/useragent/useragent.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/useragent/product.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/crypt/base64.js
var je=null,ke=null,le=null;function me(a,b){ne();b=b?le:je;for(var c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,l=h?a[d+2]:0,m=e>>2;e=(e&3)<<4|g>>4;g=(g&15)<<2|l>>6;l&=63;h||(l=64,f||(g=64));c.push(b[m],b[e],b[g],b[l])}return c.join("")}function oe(a){var b=a.length,c=0;"\x3d"===a[b-2]?c=2:"\x3d"===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),e=0;re(a,function(a){d[e++]=a});return d.subarray(0,e)}
function re(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=ke[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}ne();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}}
function ne(){if(!je){je={};ke={};le={};for(var a=0;65>a;a++)je[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(a),ke[je[a]]=a,le[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),62<=a&&(ke["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};
//~~WEBPATH~~external/com_google_protobuf_js/binary/utils.js
var se=0,te=0;function ue(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;se=b;te=a}function ve(a){var b=0>a;a=Math.abs(a);var c=a>>>0;a=Math.floor((a-c)/4294967296);a>>>=0;b&&(a=~a>>>0,c=(~c>>>0)+1,4294967295<c&&(c=0,a++,4294967295<a&&(a=0)));se=c;te=a}function we(a){var b=a.charCodeAt(4),c=a.charCodeAt(5),d=a.charCodeAt(6),e=a.charCodeAt(7);se=a.charCodeAt(0)+(a.charCodeAt(1)<<8)+(a.charCodeAt(2)<<16)+(a.charCodeAt(3)<<24)>>>0;te=b+(c<<8)+(d<<16)+(e<<24)>>>0}
function xe(a,b){var c=b&2147483648;c&&(a=~a+1>>>0,b=~b>>>0,0==a&&(b=b+1>>>0));a=4294967296*b+a;return c?-a:a}var ye="0123456789abcdef".split("");
function ze(a,b){function c(a){for(var b=1E7,c=0;7>c;c++){b/=10;var d=a/b%10>>>0;if(0!=d||f)f=!0,g+=e[d]}}if(2097151>=b)return""+(4294967296*b+a);var d=(a>>>24|b<<8)>>>0&16777215;b=b>>16&65535;a=(a&16777215)+6777216*d+6710656*b;d+=8147497*b;b*=2;1E7<=a&&(d+=Math.floor(a/1E7),a%=1E7);1E7<=d&&(b+=Math.floor(d/1E7),d%=1E7);var e=ye,f=!1,g="";(b||f)&&c(b);(d||f)&&c(d);(a||f)&&c(a);return g}function Ce(a,b){var c=b&2147483648;c&&(a=~a+1>>>0,b=~b+(0==a?1:0)>>>0);a=ze(a,b);return c?"-"+a:a}
function De(a){function b(a,b){for(var c=0;8>c&&(1!==a||0<b);c++)b=a*e[c]+b,e[c]=b&255,b>>>=8}function c(){for(var a=0;8>a;a++)e[a]=~e[a]&255}var d=!1;"-"===a[0]&&(d=!0,a=a.slice(1));for(var e=[0,0,0,0,0,0,0,0],f=0;f<a.length;f++)b(10,ye.indexOf(a[f]));d&&(c(),b(1,1));return ie(e)}
function Ee(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Buffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return oe(a);de("Type not convertible to Uint8Array.");return new Uint8Array(0)};
//~~WEBPATH~~external/com_google_protobuf_js/binary/decoder.js
function Fe(a,b,c){this.bytes_=null;this.tempHigh_=this.tempLow_=this.cursor_=this.end_=this.start_=0;this.error_=!1;a&&this.setBlock(a,b,c)}var Ge=[];function He(a,b,c){if(Ge.length){var d=Ge.pop();a&&d.setBlock(a,b,c);return d}return new Fe(a,b,c)}k=Fe.prototype;k.free=function(){this.clear();100>Ge.length&&Ge.push(this)};k.clone=function(){return He(this.bytes_,this.start_,this.end_-this.start_)};k.clear=function(){this.bytes_=null;this.cursor_=this.end_=this.start_=0;this.error_=!1};
k.getBuffer=function(){return this.bytes_};k.setBlock=function(a,b,c){this.bytes_=Ee(a);this.start_=void 0!==b?b:0;this.end_=void 0!==c?this.start_+c:this.bytes_.length;this.cursor_=this.start_};k.setEnd=function(a){this.end_=a};k.reset=function(){this.cursor_=this.start_};k.getCursor=function(){return this.cursor_};k.advance=function(a){this.cursor_+=a};function Ie(a){return a.cursor_==a.end_}k.pastEnd=function(){return this.cursor_>this.end_};
k.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_};function Je(a){for(var b,c=0,d,e=0;4>e;e++)if(b=a.bytes_[a.cursor_++],c|=(b&127)<<7*e,128>b){a.tempLow_=c>>>0;a.tempHigh_=0;return}b=a.bytes_[a.cursor_++];c|=(b&127)<<28;d=0|(b&127)>>4;if(128>b)a.tempLow_=c>>>0,a.tempHigh_=d>>>0;else{for(e=0;5>e;e++)if(b=a.bytes_[a.cursor_++],d|=(b&127)<<7*e+3,128>b){a.tempLow_=c>>>0;a.tempHigh_=d>>>0;return}de("Failed to read varint, encoding is invalid.");a.error_=!0}}
function Ke(a,b){for(;128<b;)a.cursor_--,b>>>=7;a.cursor_--}
k.readUnsignedVarint32=function(){var a=this.bytes_;var b=a[this.cursor_+0];var c=b&127;if(128>b)return this.cursor_+=1,c;b=a[this.cursor_+1];c|=(b&127)<<7;if(128>b)return this.cursor_+=2,c;b=a[this.cursor_+2];c|=(b&127)<<14;if(128>b)return this.cursor_+=3,c;b=a[this.cursor_+3];c|=(b&127)<<21;if(128>b)return this.cursor_+=4,c;b=a[this.cursor_+4];c|=(b&15)<<28;if(128>b)return this.cursor_+=5,c>>>0;this.cursor_+=5;128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&
this.cursor_++;return c};k.readSignedVarint32=Fe.prototype.readUnsignedVarint32;k.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()};k.readSignedVarint32String=function(){return this.readSignedVarint32().toString()};k.readZigzagVarint32=function(){var a=this.readUnsignedVarint32();return a>>>1^-(a&1)};k.readUnsignedVarint64=function(){Je(this);return 4294967296*this.tempHigh_+this.tempLow_};
k.readUnsignedVarint64String=function(){Je(this);return ze(this.tempLow_,this.tempHigh_)};k.readSignedVarint64=function(){Je(this);return xe(this.tempLow_,this.tempHigh_)};k.readSignedVarint64String=function(){Je(this);return Ce(this.tempLow_,this.tempHigh_)};k.readZigzagVarint64=function(){Je(this);var a=this.tempLow_,b=this.tempHigh_,c=a&1;a=(a>>>1|b<<31)>>>0;b>>>=1;c&&(a=a+1>>>0,0==a&&(b=b+1>>>0));a=4294967296*b+a;return c?-a:a};k.readZigzagVarint64String=function(){return this.readZigzagVarint64().toString()};
k.readUint8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;return a};k.readUint16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;return a<<0|b<<8};k.readUint32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];this.cursor_+=4;return(a<<0|b<<8|c<<16|d<<24)>>>0};k.readUint64=function(){var a=this.readUint32();return 4294967296*this.readUint32()+a};
k.readUint64String=function(){var a=this.readUint32(),b=this.readUint32();return ze(a,b)};k.readInt8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;return a<<24>>24};k.readInt16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;return(a<<0|b<<8)<<16>>16};k.readInt32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];this.cursor_+=4;return a<<0|b<<8|c<<16|d<<24};
k.readInt64=function(){var a=this.readUint32(),b=this.readUint32();return xe(a,b)};k.readInt64String=function(){var a=this.readUint32(),b=this.readUint32();return Ce(a,b)};k.readFloat=function(){var a=this.readUint32(),b=2*(a>>31)+1,c=a>>>23&255;a&=8388607;return 255==c?a?NaN:Infinity*b:0==c?b*Math.pow(2,-149)*a:b*Math.pow(2,c-150)*(a+Math.pow(2,23))};
k.readDouble=function(){var a=this.readUint32(),b=this.readUint32(),c=2*(b>>31)+1,d=b>>>20&2047;a=4294967296*(b&1048575)+a;return 2047==d?a?NaN:Infinity*c:0==d?c*Math.pow(2,-1074)*a:c*Math.pow(2,d-1075)*(a+4503599627370496)};k.readBool=function(){return!!this.bytes_[this.cursor_++]};k.readEnum=function(){return this.readSignedVarint32()};
k.readString=function(a){var b=this.bytes_,c=this.cursor_;a=c+a;for(var d=[],e="";c<a;){var f=b[c++];if(128>f)d.push(f);else if(192>f)continue;else if(224>f){var g=b[c++];d.push((f&31)<<6|g&63)}else if(240>f){g=b[c++];var h=b[c++];d.push((f&15)<<12|(g&63)<<6|h&63)}else if(248>f){g=b[c++];h=b[c++];var l=b[c++];f=(f&7)<<18|(g&63)<<12|(h&63)<<6|l&63;f-=65536;d.push((f>>10&1023)+55296,(f&1023)+56320)}8192<=d.length&&(e+=String.fromCharCode.apply(null,d),d.length=0)}e+=ie(d);this.cursor_=c;return e};
k.readStringWithLength=function(){var a=this.readUnsignedVarint32();return this.readString(a)};k.readBytes=function(a){if(0>a||this.cursor_+a>this.bytes_.length)return this.error_=!0,de("Invalid byte length!"),new Uint8Array(0);var b=this.bytes_.subarray(this.cursor_,this.cursor_+a);this.cursor_+=a;return b};k.readVarintHash64=function(){Je(this);var a=this.tempLow_,b=this.tempHigh_;return String.fromCharCode(a>>>0&255,a>>>8&255,a>>>16&255,a>>>24&255,b>>>0&255,b>>>8&255,b>>>16&255,b>>>24&255)};
k.readFixedHash64=function(){var a=this.bytes_,b=this.cursor_,c=a[b+0],d=a[b+1],e=a[b+2],f=a[b+3],g=a[b+4],h=a[b+5],l=a[b+6];a=a[b+7];this.cursor_+=8;return String.fromCharCode(c,d,e,f,g,h,l,a)};
//~~WEBPATH~~external/com_google_protobuf_js/binary/reader.js
function Le(a,b,c){this.decoder_=He(a,b,c);this.fieldCursor_=this.decoder_.getCursor();this.nextWireType_=this.nextField_=-1;this.error_=!1;this.readCallbacks_=null}var Me=[];k=Le.prototype;k.alloc=function(a,b,c){if(Me.length){var d=Me.pop();a&&d.decoder_.setBlock(a,b,c);return d}return new Le(a,b,c)};k.free=function(){this.decoder_.clear();this.nextWireType_=this.nextField_=-1;this.error_=!1;this.readCallbacks_=null;100>Me.length&&Me.push(this)};k.getFieldCursor=function(){return this.fieldCursor_};
k.getCursor=function(){return this.decoder_.getCursor()};k.getBuffer=function(){return this.decoder_.getBuffer()};k.getWireType=function(){return this.nextWireType_};function Ne(a){return 4==a.nextWireType_}k.getError=function(){return this.error_||this.decoder_.getError()};k.setBlock=function(a,b,c){this.decoder_.setBlock(a,b,c);this.nextWireType_=this.nextField_=-1};k.reset=function(){this.decoder_.reset();this.nextWireType_=this.nextField_=-1};k.advance=function(a){this.decoder_.advance(a)};
function Oe(a){if(Ie(a.decoder_))return!1;if(a.getError())return de("Decoder hit an error"),!1;a.fieldCursor_=a.decoder_.getCursor();var b=a.decoder_.readUnsignedVarint32(),c=b>>>3;b&=7;if(0!=b&&5!=b&&1!=b&&2!=b&&3!=b&&4!=b)return de("Invalid wire type"),a.error_=!0,!1;a.nextField_=c;a.nextWireType_=b;return!0}
k.skipMatchingFields=function(){var a=this.nextField_;for(Ke(this.decoder_,this.nextField_<<3|this.nextWireType_);Oe(this)&&this.nextField_==a;)Pe(this);Ie(this.decoder_)||Ke(this.decoder_,this.nextField_<<3|this.nextWireType_)};
function Pe(a){switch(a.nextWireType_){case 0:if(0!=a.nextWireType_)de("Invalid wire type for skipVarintField"),Pe(a);else{for(a=a.decoder_;a.bytes_[a.cursor_]&128;)a.cursor_++;a.cursor_++}break;case 1:1!=a.nextWireType_?(de("Invalid wire type for skipFixed64Field"),Pe(a)):a.decoder_.advance(8);break;case 2:if(2!=a.nextWireType_)de("Invalid wire type for skipDelimitedField"),Pe(a);else{var b=a.decoder_.readUnsignedVarint32();a.decoder_.advance(b)}break;case 5:5!=a.nextWireType_?(de("Invalid wire type for skipFixed32Field"),
Pe(a)):a.decoder_.advance(4);break;case 3:b=[a.nextField_];do{if(!Oe(a)){de("Unmatched start-group tag: stream EOF");a.error_=!0;break}if(3==a.nextWireType_)b.push(a.nextField_);else if(4==a.nextWireType_&&a.nextField_!=b.pop()){de("Unmatched end-group tag");a.error_=!0;break}}while(0<b.length);break;default:de("Invalid wire encoding for field.")}}k.registerReadCallback=function(a,b){null===this.readCallbacks_&&(this.readCallbacks_={});this.readCallbacks_[a]=b};k.runReadCallback=function(a){return(0,this.readCallbacks_[a])(this)};
k.readAny=function(a){this.nextWireType_=ee(a);switch(a){case 1:return this.readDouble();case 2:return this.readFloat();case 3:return this.readInt64();case 4:return this.readUint64();case 5:return this.readInt32();case 6:return this.decoder_.readUint64();case 7:return this.decoder_.readUint32();case 8:return this.readBool();case 9:return this.readString();case 10:de("Group field type not supported in readAny()");case 11:de("Message field type not supported in readAny()");case 12:return this.readBytes();
case 13:return this.readUint32();case 14:return this.readEnum();case 15:return this.decoder_.readInt32();case 16:return this.decoder_.readInt64();case 17:return this.decoder_.readZigzagVarint32();case 18:return this.decoder_.readZigzagVarint64();case 30:return this.readFixedHash64();case 31:return this.readVarintHash64();default:de("Invalid field type in readAny()")}return 0};
k.readMessage=function(a,b){var c=this.decoder_.end_,d=this.decoder_.readUnsignedVarint32();d=this.decoder_.getCursor()+d;this.decoder_.setEnd(d);b(a,this);this.decoder_.cursor_=d;this.decoder_.setEnd(c)};k.readGroup=function(a,b,c){c(b,this);this.error_||4==this.nextWireType_||(de("Group submessage did not end with an END_GROUP tag"),this.error_=!0)};
k.getFieldDecoder=function(){var a=this.decoder_.readUnsignedVarint32(),b=this.decoder_.getCursor(),c=b+a;a=He(this.decoder_.getBuffer(),b,a);this.decoder_.cursor_=c;return a};k.readInt32=function(){return this.decoder_.readSignedVarint32()};k.readInt32String=function(){return this.decoder_.readSignedVarint32String()};k.readInt64=function(){return this.decoder_.readSignedVarint64()};k.readInt64String=function(){return this.decoder_.readSignedVarint64String()};k.readUint32=function(){return this.decoder_.readUnsignedVarint32()};
k.readUint32String=function(){return this.decoder_.readUnsignedVarint32String()};k.readUint64=function(){return this.decoder_.readUnsignedVarint64()};k.readUint64String=function(){return this.decoder_.readUnsignedVarint64String()};k.readSint64String=function(){return this.decoder_.readZigzagVarint64String()};k.readFixed64String=function(){return this.decoder_.readUint64String()};k.readSfixed32String=function(){return this.decoder_.readInt32().toString()};k.readSfixed64String=function(){return this.decoder_.readInt64String()};
k.readFloat=function(){return this.decoder_.readFloat()};k.readDouble=function(){return this.decoder_.readDouble()};k.readBool=function(){return!!this.decoder_.readUnsignedVarint32()};k.readEnum=function(){return this.decoder_.readSignedVarint64()};k.readString=function(){var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(a)};k.readBytes=function(){var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(a)};k.readVarintHash64=function(){return this.decoder_.readVarintHash64()};
k.readFixedHash64=function(){return this.decoder_.readFixedHash64()};function Qe(a,b){var c=a.decoder_.readUnsignedVarint32();c=a.decoder_.getCursor()+c;for(var d=[];a.decoder_.getCursor()<c;)d.push(b.call(a.decoder_));return d}k.readPackedInt32=function(){return Qe(this,this.decoder_.readSignedVarint32)};k.readPackedInt32String=function(){return Qe(this,this.decoder_.readSignedVarint32String)};k.readPackedInt64String=function(){return Qe(this,this.decoder_.readSignedVarint64String)};
k.readPackedUint32=function(){return Qe(this,this.decoder_.readUnsignedVarint32)};k.readPackedUint32String=function(){return Qe(this,this.decoder_.readUnsignedVarint32String)};k.readPackedUint64=function(){return Qe(this,this.decoder_.readUnsignedVarint64)};k.readPackedUint64String=function(){return Qe(this,this.decoder_.readUnsignedVarint64String)};k.readPackedSint32=function(){return Qe(this,this.decoder_.readZigzagVarint32)};k.readPackedSint64=function(){return Qe(this,this.decoder_.readZigzagVarint64)};
k.readPackedSint64String=function(){return Qe(this,this.decoder_.readZigzagVarint64String)};k.readPackedFixed32=function(){return Qe(this,this.decoder_.readUint32)};k.readPackedFixed64=function(){return Qe(this,this.decoder_.readUint64)};k.readPackedFixed64String=function(){return Qe(this,this.decoder_.readUint64String)};k.readPackedSfixed32=function(){return Qe(this,this.decoder_.readInt32)};k.readPackedSfixed64=function(){return Qe(this,this.decoder_.readInt64)};
k.readPackedSfixed64String=function(){return Qe(this,this.decoder_.readInt64String)};k.readPackedDouble=function(){return Qe(this,this.decoder_.readDouble)};k.readPackedBool=function(){return Qe(this,this.decoder_.readBool)};k.readPackedEnum=function(){return Qe(this,this.decoder_.readEnum)};k.readPackedVarintHash64=function(){return Qe(this,this.decoder_.readVarintHash64)};k.readPackedFixedHash64=function(){return Qe(this,this.decoder_.readFixedHash64)};
//~~WEBPATH~~external/com_google_protobuf_js/binary/encoder.js
function Re(){this.buffer_=[]}k=Re.prototype;k.length=function(){return this.buffer_.length};k.end=function(){var a=this.buffer_;this.buffer_=[];return a};function Se(a,b,c){for(;0<c||127<b;)a.buffer_.push(b&127|128),b=(b>>>7|c<<25)>>>0,c>>>=7;a.buffer_.push(b)}function Te(a,b){for(;127<b;)a.buffer_.push(b&127|128),b>>>=7;a.buffer_.push(b)}function Ue(a,b){if(0<=b)Te(a,b);else{for(var c=0;9>c;c++)a.buffer_.push(b&127|128),b>>=7;a.buffer_.push(1)}}function Ve(a,b){Te(a,(b<<1^b>>31)>>>0)}
function We(a,b){var c=b;b=0>c;c=2*Math.abs(c);ue(c);c=se;var d=te;b&&(0==c?0==d?d=c=4294967295:(d--,c=4294967295):c--);se=c;te=d;Se(a,se,te)}k.writeUint8=function(a){this.buffer_.push(a>>>0&255)};k.writeUint16=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};k.writeUint32=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};k.writeUint64=function(a){ue(a);this.writeUint32(se);this.writeUint32(te)};
k.writeInt8=function(a){this.buffer_.push(a>>>0&255)};k.writeInt16=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};k.writeInt32=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};k.writeInt64=function(a){ve(a);a=te;this.writeUint32(se);this.writeUint32(a)};k.writeInt64String=function(a){we(De(a));a=te;this.writeUint32(se);this.writeUint32(a)};
k.writeFloat=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)0<1/b?se=te=0:(te=0,se=2147483648);else if(isNaN(b))te=0,se=2147483647;else if(3.4028234663852886E38<b)te=0,se=(a<<31|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),te=0,se=(a<<31|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b)&8388607;te=0;se=(a<<31|c+127<<23|b)>>>0}this.writeUint32(se)};
k.writeDouble=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)te=0<1/b?0:2147483648,se=0;else if(isNaN(b))te=2147483647,se=4294967295;else if(1.7976931348623157E308<b)te=(a<<31|2146435072)>>>0,se=0;else if(2.2250738585072014E-308>b)b/=Math.pow(2,-1074),te=(a<<31|b/4294967296)>>>0,se=b>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);1024==c&&(c=1023);b*=Math.pow(2,-c);te=(a<<31|c+1023<<20|1048576*b&1048575)>>>0;se=4503599627370496*b>>>0}this.writeUint32(se);this.writeUint32(te)};
k.writeBool=function(a){this.buffer_.push(a?1:0)};k.writeEnum=function(a){Ue(this,a)};k.writeBytes=function(a){this.buffer_.push.apply(this.buffer_,a)};k.writeVarintHash64=function(a){we(a);Se(this,se,te)};k.writeFixedHash64=function(a){we(a);this.writeUint32(se);this.writeUint32(te)};
k.writeString=function(a){for(var b=this.buffer_.length,c=0;c<a.length;c++){var d=a.charCodeAt(c);if(128>d)this.buffer_.push(d);else if(2048>d)this.buffer_.push(d>>6|192),this.buffer_.push(d&63|128);else if(65536>d)if(55296<=d&&56319>=d&&c+1<a.length){var e=a.charCodeAt(c+1);56320<=e&&57343>=e&&(d=1024*(d-55296)+e-56320+65536,this.buffer_.push(d>>18|240),this.buffer_.push(d>>12&63|128),this.buffer_.push(d>>6&63|128),this.buffer_.push(d&63|128),c++)}else this.buffer_.push(d>>12|224),this.buffer_.push(d>>
6&63|128),this.buffer_.push(d&63|128)}return this.buffer_.length-b};
//~~WEBPATH~~external/com_google_protobuf_js/binary/arith.js
function Xe(a,b){this.lo=a;this.hi=b}k=Xe.prototype;k.cmp=function(a){return this.hi<a.hi||this.hi==a.hi&&this.lo<a.lo?-1:this.hi==a.hi&&this.lo==a.lo?0:1};function Ye(a){return new Xe((a.lo>>>1|(a.hi&1)<<31)>>>0,a.hi>>>1>>>0)}function Ze(a){return new Xe(a.lo<<1>>>0,(a.hi<<1|a.lo>>>31)>>>0)}k.lsb=function(){return!!(this.lo&1)};k.add=function(a){return new Xe((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};
k.sub=function(a){return new Xe((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};function $e(a){var b=a&65535,c=a>>>16;a=10*b+65536*(0*b&65535)+65536*(10*c&65535);for(b=0*c+(0*b>>>16)+(10*c>>>16);4294967296<=a;)a-=4294967296,b+=1;return new Xe(a>>>0,b>>>0)}
function zc(a,b){if(0==b)return[];var c=new Xe(0,0);a=new Xe(a.lo,a.hi);b=new Xe(b,0);for(var d=new Xe(1,0);!(b.hi&2147483648);)b=Ze(b),d=Ze(d);for(;0!=d.lo||0!=d.hi;)0>=b.cmp(a)&&(c=c.add(d),a=a.sub(b)),b=Ye(b),d=Ye(d);return[c,a]}k.toString=function(){for(var a="",b=this;0!=b.lo||0!=b.hi;){b=zc(b,10);var c=b[0];a=b[1].lo+a;b=c}""==a&&(a="0");return a};
function af(a){for(var b=new Xe(0,0),c=new Xe(0,0),d=0;d<a.length;d++){if("0">a[d]||"9"<a[d])return null;c.lo=parseInt(a[d],10);var e=$e(b.lo);b=$e(b.hi);b.hi=b.lo;b.lo=0;b=e.add(b).add(c)}return b}k.clone=function(){return new Xe(this.lo,this.hi)};function bf(a,b){this.lo=a;this.hi=b}bf.prototype.add=function(a){return new bf((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};
bf.prototype.sub=function(a){return new bf((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};bf.prototype.clone=function(){return new bf(this.lo,this.hi)};bf.prototype.toString=function(){var a=0!=(this.hi&2147483648),b=new Xe(this.lo,this.hi);a&&(b=(new Xe(0,0)).sub(b));return(a?"-":"")+b.toString()};function cf(a){var b=0<a.length&&"-"==a[0];b&&(a=a.substring(1));a=af(a);if(null===a)return null;b&&(a=(new Xe(0,0)).sub(a));return new bf(a.lo,a.hi)};
//~~WEBPATH~~external/com_google_protobuf_js/binary/writer.js
function df(){this.blocks_=[];this.totalLength_=0;this.encoder_=new Re;this.bookmarks_=[]}function ef(a,b){var c=a.encoder_.end();a.blocks_.push(c);a.blocks_.push(b);a.totalLength_+=c.length+b.length}function ff(a,b){X(a,b,2);b=a.encoder_.end();a.blocks_.push(b);a.totalLength_+=b.length;b.push(a.totalLength_);return b}function gf(a,b){var c=b.pop();for(c=a.totalLength_+a.encoder_.length()-c;127<c;)b.push(c&127|128),c>>>=7,a.totalLength_++;b.push(c);a.totalLength_++}k=df.prototype;
k.maybeWriteSerializedMessage=function(a,b,c){null!=a&&null!=b&&null!=c&&ef(this,a.subarray(b,c))};k.reset=function(){this.blocks_=[];this.encoder_.end();this.totalLength_=0;this.bookmarks_=[]};function hf(a){for(var b=new Uint8Array(a.totalLength_+a.encoder_.length()),c=a.blocks_,d=c.length,e=0,f=0;f<d;f++){var g=c[f];b.set(g,e);e+=g.length}c=a.encoder_.end();b.set(c,e);a.blocks_=[b];return b}k.getResultBase64String=function(a){return me(hf(this),a)};function X(a,b,c){Te(a.encoder_,8*b+c)}
k.writeAny=function(a,b,c){switch(a){case 1:this.writeDouble(b,c);break;case 2:this.writeFloat(b,c);break;case 3:this.writeInt64(b,c);break;case 4:this.writeUint64(b,c);break;case 5:this.writeInt32(b,c);break;case 6:null!=c&&(X(this,b,1),this.encoder_.writeUint64(c));break;case 7:null!=c&&(X(this,b,5),this.encoder_.writeUint32(c));break;case 8:this.writeBool(b,c);break;case 9:this.writeString(b,c);break;case 10:de("Group field type not supported in writeAny()");break;case 11:de("Message field type not supported in writeAny()");
break;case 12:this.writeBytes(b,c);break;case 13:this.writeUint32(b,c);break;case 14:this.writeEnum(b,c);break;case 15:null!=c&&(X(this,b,5),this.encoder_.writeInt32(c));break;case 16:null!=c&&(X(this,b,1),this.encoder_.writeInt64(c));break;case 17:null!=c&&null!=c&&(X(this,b,0),Ve(this.encoder_,c));break;case 18:null!=c&&null!=c&&(X(this,b,0),We(this.encoder_,c));break;case 30:this.writeFixedHash64(b,c);break;case 31:this.writeVarintHash64(b,c);break;default:de("Invalid field type in writeAny()")}};
function jf(a,b,c){null!=c&&(X(a,b,0),Te(a.encoder_,c))}function kf(a,b,c){null!=c&&(X(a,b,0),Ue(a.encoder_,c))}k.writeInt32=function(a,b){null!=b&&kf(this,a,b)};k.writeInt64=function(a,b){null!=b&&null!=b&&(X(this,a,0),a=this.encoder_,ve(b),Se(a,se,te))};k.writeInt64String=function(a,b){null!=b&&(b=cf(b),X(this,a,0),Se(this.encoder_,b.lo,b.hi))};k.writeUint32=function(a,b){null!=b&&jf(this,a,b)};k.writeUint64=function(a,b){null!=b&&null!=b&&(X(this,a,0),a=this.encoder_,ve(b),Se(a,se,te))};
k.writeSint64String=function(a,b){null!=b&&null!=b&&(X(this,a,0),We(this.encoder_,parseInt(b,10)))};k.writeFloat=function(a,b){null!=b&&(X(this,a,5),this.encoder_.writeFloat(b))};k.writeDouble=function(a,b){null!=b&&(X(this,a,1),this.encoder_.writeDouble(b))};k.writeBool=function(a,b){null!=b&&(X(this,a,0),this.encoder_.writeBool(b))};k.writeEnum=function(a,b){null!=b&&(X(this,a,0),Ue(this.encoder_,b))};k.writeString=function(a,b){null!=b&&(a=ff(this,a),this.encoder_.writeString(b),gf(this,a))};
k.writeBytes=function(a,b){null!=b&&(b=Ee(b),X(this,a,2),Te(this.encoder_,b.length),ef(this,b))};k.writeMessage=function(a,b,c){null!=b&&(a=ff(this,a),c(b,this),gf(this,a))};k.writeGroup=function(a,b,c){null!=b&&(X(this,a,3),c(b,this),X(this,a,4))};k.writeFixedHash64=function(a,b){null!=b&&(X(this,a,1),this.encoder_.writeFixedHash64(b))};k.writeVarintHash64=function(a,b){null!=b&&(X(this,a,0),this.encoder_.writeVarintHash64(b))};
k.writeRepeatedInt32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)kf(this,a,b[c])};k.writeRepeatedInt32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&kf(this,a,parseInt(d,10))}};k.writeRepeatedInt64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];if(null!=d){X(this,a,0);var e=this.encoder_;ve(d);Se(e,se,te)}}};k.writeRepeatedInt64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt64String(a,b[c])};
k.writeRepeatedUint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)jf(this,a,b[c])};k.writeRepeatedUint32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&jf(this,a,parseInt(d,10))}};k.writeRepeatedUint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];if(null!=d){X(this,a,0);var e=this.encoder_;ve(d);Se(e,se,te)}}};
k.writeRepeatedUint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];null!=e&&(e=af(e),X(this,d,0),Se(this.encoder_,e.lo,e.hi))}};k.writeRepeatedSint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(X(this,a,0),Ve(this.encoder_,d))}};k.writeRepeatedSint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(X(this,a,0),We(this.encoder_,d))}};
k.writeRepeatedSint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(X(this,a,0),We(this.encoder_,parseInt(d,10)))}};k.writeRepeatedFixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(X(this,a,5),this.encoder_.writeUint32(d))}};k.writeRepeatedFixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(X(this,a,1),this.encoder_.writeUint64(d))}};
k.writeRepeatedFixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];if(null!=e){e=af(e);X(this,d,1);d=this.encoder_;var f=e.hi;d.writeUint32(e.lo);d.writeUint32(f)}}};k.writeRepeatedSfixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(X(this,a,5),this.encoder_.writeInt32(d))}};k.writeRepeatedSfixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(X(this,a,1),this.encoder_.writeInt64(d))}};
k.writeRepeatedSfixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];if(null!=e){e=cf(e);X(this,d,1);d=this.encoder_;var f=e.hi;d.writeUint32(e.lo);d.writeUint32(f)}}};k.writeRepeatedFloat=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFloat(a,b[c])};k.writeRepeatedDouble=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeDouble(a,b[c])};k.writeRepeatedBool=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBool(a,b[c])};
k.writeRepeatedEnum=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeEnum(a,b[c])};k.writeRepeatedString=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeString(a,b[c])};function lf(a,b,c,d){if(null!=c)for(var e=0;e<c.length;e++){var f=ff(a,b);d(c[e],a);gf(a,f)}}k.writeRepeatedGroup=function(a,b,c){if(null!=b)for(var d=0;d<b.length;d++)X(this,a,3),c(b[d],this),X(this,a,4)};
k.writeRepeatedFixedHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixedHash64(a,b[c])};k.writeRepeatedVarintHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeVarintHash64(a,b[c])};k.writePackedInt32=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++)Ue(this.encoder_,b[c]);gf(this,a)}};k.writePackedInt32String=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++)Ue(this.encoder_,parseInt(b[c],10));gf(this,a)}};
k.writePackedInt64String=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++){var d=cf(b[c]);Se(this.encoder_,d.lo,d.hi)}gf(this,a)}};k.writePackedUint32=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++)Te(this.encoder_,b[c]);gf(this,a)}};k.writePackedUint32String=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++)Te(this.encoder_,parseInt(b[c],10));gf(this,a)}};
k.writePackedUint64=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++){var d=this.encoder_;ve(b[c]);Se(d,se,te)}gf(this,a)}};k.writePackedUint64String=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++){var d=af(b[c]);Se(this.encoder_,d.lo,d.hi)}gf(this,a)}};k.writePackedSint32=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++)Ve(this.encoder_,b[c]);gf(this,a)}};
k.writePackedSint64=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++)We(this.encoder_,b[c]);gf(this,a)}};k.writePackedSint64String=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++)We(this.encoder_,parseInt(b[c],10));gf(this,a)}};k.writePackedFixed32=function(a,b){if(null!=b&&b.length)for(X(this,a,2),Te(this.encoder_,4*b.length),a=0;a<b.length;a++)this.encoder_.writeUint32(b[a])};
k.writePackedFixed64=function(a,b){if(null!=b&&b.length)for(X(this,a,2),Te(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeUint64(b[a])};k.writePackedFixed64String=function(a,b){if(null!=b&&b.length)for(X(this,a,2),Te(this.encoder_,8*b.length),a=0;a<b.length;a++){var c=af(b[a]),d=this.encoder_,e=c.hi;d.writeUint32(c.lo);d.writeUint32(e)}};k.writePackedSfixed32=function(a,b){if(null!=b&&b.length)for(X(this,a,2),Te(this.encoder_,4*b.length),a=0;a<b.length;a++)this.encoder_.writeInt32(b[a])};
k.writePackedSfixed64=function(a,b){if(null!=b&&b.length)for(X(this,a,2),Te(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64(b[a])};k.writePackedSfixed64String=function(a,b){if(null!=b&&b.length)for(X(this,a,2),Te(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64String(b[a])};k.writePackedDouble=function(a,b){if(null!=b&&b.length)for(X(this,a,2),Te(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeDouble(b[a])};
k.writePackedBool=function(a,b){if(null!=b&&b.length)for(X(this,a,2),Te(this.encoder_,b.length),a=0;a<b.length;a++)this.encoder_.writeBool(b[a])};k.writePackedEnum=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++)this.encoder_.writeEnum(b[c]);gf(this,a)}};k.writePackedFixedHash64=function(a,b){if(null!=b&&b.length)for(X(this,a,2),Te(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeFixedHash64(b[a])};
k.writePackedVarintHash64=function(a,b){if(null!=b&&b.length){a=ff(this,a);for(var c=0;c<b.length;c++)this.encoder_.writeVarintHash64(b[c]);gf(this,a)}};
//~~WEBPATH~~external/com_google_protobuf_js/map.js
function mf(a,b){this.arr_=a;this.valueCtor_=b;this.map_={};this.arrClean=!0;if(0<this.arr_.length){for(a=0;a<this.arr_.length;a++){b=this.arr_[a];var c=b[0];this.map_[c.toString()]=new nf(c,b[1])}this.arrClean=!0}}
mf.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var a=this.map_,b;for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b].valueWrapper;c&&c.toArray()}}}else{this.arr_.length=0;a=of(this);a.sort();for(b=0;b<a.length;b++){var d=this.map_[a[b]];(c=d.valueWrapper)&&c.toArray();this.arr_.push([d.key,d.value])}this.arrClean=!0}return this.arr_};
mf.prototype.toObject=function(a,b){for(var c=this.toArray(),d=[],e=0;e<c.length;e++){var f=this.map_[c[e][0].toString()];pf(this,f);var g=f.valueWrapper;g?d.push([f.key,b(a,g)]):d.push([f.key,f.value])}return d};function qf(a){this.idx_=0;this.arr_=a}qf.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}};"undefined"!=typeof Symbol&&(qf.prototype[Symbol.iterator]=function(){return this});k=mf.prototype;k.getLength=function(){return of(this).length};
k.clear=function(){this.map_={};this.arrClean=!1};k.del=function(a){a=a.toString();var b=this.map_.hasOwnProperty(a);delete this.map_[a];this.arrClean=!1;return b};k.getEntryList=function(){var a=[],b=of(this);b.sort();for(var c=0;c<b.length;c++){var d=this.map_[b[c]];a.push([d.key,d.value])}return a};k.entries=function(){var a=[],b=of(this);b.sort();for(var c=0;c<b.length;c++){var d=this.map_[b[c]];a.push([d.key,pf(this,d)])}return new qf(a)};
k.keys=function(){var a=[],b=of(this);b.sort();for(var c=0;c<b.length;c++)a.push(this.map_[b[c]].key);return new qf(a)};k.values=function(){var a=[],b=of(this);b.sort();for(var c=0;c<b.length;c++)a.push(pf(this,this.map_[b[c]]));return new qf(a)};k.forEach=function(a,b){var c=of(this);c.sort();for(var d=0;d<c.length;d++){var e=this.map_[c[d]];a.call(b,pf(this,e),e.key,this)}};
k.set=function(a,b){var c=new nf(a);this.valueCtor_?(c.valueWrapper=b,c.value=b.toArray()):c.value=b;this.map_[a.toString()]=c;this.arrClean=!1;return this};function pf(a,b){return a.valueCtor_?(b.valueWrapper||(b.valueWrapper=new a.valueCtor_(b.value)),b.valueWrapper):b.value}k.get=function(a){if(a=this.map_[a.toString()])return pf(this,a)};k.has=function(a){return a.toString()in this.map_};
k.serializeBinary=function(a,b,c,d,e){var f=of(this);f.sort();for(var g=0;g<f.length;g++){var h=this.map_[f[g]];b.bookmarks_.push(ff(b,a));c.call(b,1,h.key);this.valueCtor_?d.call(b,2,pf(this,h),e):d.call(b,2,h.value);gf(b,b.bookmarks_.pop())}};function rf(a,b,c){for(var d=Le.prototype.readString,e=Le.prototype.readMessage,f="",g=void 0;Oe(b)&&!Ne(b);){var h=b.nextField_;1==h?f=d.call(b):2==h&&(a.valueCtor_?(g=new a.valueCtor_,e.call(b,g,c)):g=e.call(b))}a.set(f,g)}
function of(a){a=a.map_;var b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}function nf(a,b){this.key=a;this.value=b;this.valueWrapper=void 0};
//~~WEBPATH~~external/com_google_protobuf_js/message.js
function sf(){}var uf="function"==typeof Uint8Array;sf.prototype.getJsPbMessageId=function(){return this.messageId_};
function vf(a,b,c,d){a.wrappers_=null;b||(b=[]);a.messageId_=void 0;a.arrayIndexOffset_=-1;a.array=b;a:{if(a.array.length){b=a.array.length-1;var e=a.array[b];if(e&&"object"==typeof e&&"array"!=pa(e)&&!(uf&&e instanceof Uint8Array)){a.pivot_=b-a.arrayIndexOffset_;a.extensionObject_=e;break a}}a.pivot_=Number.MAX_VALUE}a.convertedFloatingPointFields_={};if(c)for(b=0;b<c.length;b++)e=c[b],e<a.pivot_?(e+=a.arrayIndexOffset_,a.array[e]=a.array[e]||wf):(xf(a),a.extensionObject_[e]=a.extensionObject_[e]||
wf);if(d&&d.length)for(b=0;b<d.length;b++)yf(a,d[b])}var wf=Object.freeze?Object.freeze([]):[];function xf(a){var b=a.pivot_+a.arrayIndexOffset_;a.array[b]||(a.extensionObject_=a.array[b]={})}function zf(a,b,c){for(var d=[],e=0;e<a.length;e++)d[e]=b.call(a[e],c,a[e]);return d}function Af(a,b){if(b<a.pivot_){b+=a.arrayIndexOffset_;var c=a.array[b];return c===wf?a.array[b]=[]:c}if(a.extensionObject_)return c=a.extensionObject_[b],c===wf?a.extensionObject_[b]=[]:c}
function Bf(a,b){if(b<a.pivot_){b+=a.arrayIndexOffset_;var c=a.array[b];return c===wf?a.array[b]=[]:c}c=a.extensionObject_[b];return c===wf?a.extensionObject_[b]=[]:c}function Cf(a){var b=Bf(a,1);a.convertedFloatingPointFields_||(a.convertedFloatingPointFields_={});if(!a.convertedFloatingPointFields_[1]){for(var c=0;c<b.length;c++)b[c]=+b[c];a.convertedFloatingPointFields_[1]=!0}return b}
function Df(a){if(null==a||oa(a))return a;if(uf&&a instanceof Uint8Array)return me(a);de("Cannot coerce to b64 string: "+pa(a));return null}function Ef(a){if(null==a||a instanceof Uint8Array)return a;if(oa(a))return oe(a);de("Cannot coerce to Uint8Array: "+pa(a));return null}function Ff(a){Gf(a);return!a.length||a[0]instanceof Uint8Array?a:ge(a,Ef)}
function Gf(a){if(a&&1<a.length){var b=pa(a[0]);fe(a,function(a){pa(a)!=b&&de("Inconsistent type in JSPB repeated field array. Got "+pa(a)+" expected "+b)})}}function Y(a,b,c){a=Af(a,b);return null==a?c:a}function Hf(a,b,c){a.wrappers_||(a.wrappers_={});if(1 in a.wrappers_)return a.wrappers_[1];if(!b)return b=Af(a,1),b||(b=[],If(a,1,b)),a.wrappers_[1]=new mf(b,c)}function If(a,b,c){b<a.pivot_?a.array[b+a.arrayIndexOffset_]=c:(xf(a),a.extensionObject_[b]=c)}function Jf(a,b,c){Kf(a,b,c,0)}
function Lf(a,b,c){Kf(a,b,c,0)}function Kf(a,b,c,d){c!=d?If(a,b,c):a.array[b+a.arrayIndexOffset_]=null}function Mf(a,b,c){a=Bf(a,1);void 0!=c?a.splice(c,0,b):a.push(b)}function Nf(a,b,c,d){(c=yf(a,c))&&c!==b&&void 0!==d&&(a.wrappers_&&c in a.wrappers_&&(a.wrappers_[c]=void 0),If(a,c,void 0));If(a,b,d)}function yf(a,b){for(var c,d,e=0;e<b.length;e++){var f=b[e],g=Af(a,f);null!=g&&(c=f,d=g,If(a,f,void 0))}return c?(If(a,c,d),c):0}
function Z(a,b,c){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){var d=Af(a,c);d&&(a.wrappers_[c]=new b(d))}return a.wrappers_[c]}function Of(a,b,c){Tf(a,b,c);b=a.wrappers_[c];b==wf&&(b=a.wrappers_[c]=[]);return b}function Tf(a,b,c){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){for(var d=Bf(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.wrappers_[c]=e}}function Uf(a,b,c){a.wrappers_||(a.wrappers_={});var d=c?c.toArray():c;a.wrappers_[b]=c;If(a,b,d)}
function Vf(a,b,c,d){a.wrappers_||(a.wrappers_={});var e=d?d.toArray():d;a.wrappers_[b]=d;Nf(a,b,c,e)}function Wf(a,b,c){a.wrappers_||(a.wrappers_={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=c[e].toArray();a.wrappers_[b]=c;If(a,b,d)}function Xf(a,b,c,d,e){Tf(a,d,b);var f=a.wrappers_[b];f||(f=a.wrappers_[b]=[]);c=c?c:new d;a=Bf(a,b);void 0!=e?(f.splice(e,0,c),a.splice(e,0,c.toArray())):(f.push(c),a.push(c.toArray()));return c}
function Yf(a){if(a.wrappers_)for(var b in a.wrappers_){var c=a.wrappers_[b];if("array"==pa(c))for(var d=0;d<c.length;d++)c[d]&&c[d].toArray();else c&&c.toArray()}}k=sf.prototype;k.toArray=function(){Yf(this);return this.array};k.toString=function(){Yf(this);return this.array.toString()};
k.getExtension=function(a){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var b=a.fieldIndex;if(a.isRepeated){if(a.isMessageType())return this.wrappers_[b]||(this.wrappers_[b]=ge(this.extensionObject_[b]||[],function(b){return new a.ctor(b)})),this.wrappers_[b]}else if(a.isMessageType())return!this.wrappers_[b]&&this.extensionObject_[b]&&(this.wrappers_[b]=new a.ctor(this.extensionObject_[b])),this.wrappers_[b];return this.extensionObject_[b]}};
k.setExtension=function(a,b){this.wrappers_||(this.wrappers_={});xf(this);var c=a.fieldIndex;a.isRepeated?(b=b||[],a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=ge(b,function(a){return a.toArray()})):this.extensionObject_[c]=b):a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=b?b.toArray():b):this.extensionObject_[c]=b;return this};k.clone=function(){return new this.constructor(Zf(this.toArray()))};
function Zf(a){if("array"==pa(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?Zf(d):d)}return b}if(uf&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?Zf(d):d);return b};
//~~WEBPATH~~bazel-out/k8-fastbuild/genfiles/external/ai_google_pair_facets/facets_overview/proto/proto.js
function $f(a){vf(this,a,ag,null)}qa($f,sf);var ag=[1];$f.prototype.toObject=function(a){var b={datasetsList:zf(bg(this),cg,a)};a&&(b.$jspbMessageInstance=this);return b};function dg(a){a=new Le(a);for(var b=new $f;Oe(a)&&!Ne(a);)switch(a.nextField_){case 1:var c=new eg;a.readMessage(c,fg);Xf(b,1,c,eg,void 0);break;default:Pe(a)}return b}$f.prototype.serializeBinary=function(){var a=new df;var b=bg(this);0<b.length&&lf(a,1,b,gg);return hf(a)};function bg(a){return Of(a,eg,1)}
$f.prototype.clearDatasetsList=function(){Wf(this,1,[])};function eg(a){vf(this,a,hg,null)}qa(eg,sf);var hg=[3];k=eg.prototype;k.toObject=function(a){return cg(a,this)};function cg(a,b){var c={name:Y(b,1,""),numExamples:Y(b,2,0),weightedNumExamples:+Y(b,4,0),featuresList:zf(b.getFeaturesList(),ig,a)};a&&(c.$jspbMessageInstance=b);return c}
function fg(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readString();a.setName(c);break;case 2:c=b.readUint64();Jf(a,2,c);break;case 4:c=b.readDouble();Lf(a,4,c);break;case 3:c=new jg;b.readMessage(c,kg);Xf(a,3,c,jg,void 0);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;gg(this,a);return hf(a)};
function gg(a,b){var c=a.getName();0<c.length&&b.writeString(1,c);c=Y(a,2,0);0!==c&&b.writeUint64(2,c);c=+Y(a,4,0);0!==c&&b.writeDouble(4,c);c=a.getFeaturesList();0<c.length&&lf(b,3,c,lg)}k.getName=function(){return Y(this,1,"")};k.setName=function(a){Kf(this,1,a,"")};k.getFeaturesList=function(){return Of(this,jg,3)};k.clearFeaturesList=function(){Wf(this,3,[])};function jg(a){vf(this,a,mg,ng)}qa(jg,sf);var mg=[6],ng=[[3,4,5,7]];k=jg.prototype;k.getStatsCase=function(){return yf(this,ng[0])};
k.toObject=function(a){return ig(a,this)};function ig(a,b){var c,d={name:Y(b,1,""),type:Y(b,2,0),numStats:(c=og(b))&&pg(a,c),stringStats:(c=qg(b))&&rg(a,c),bytesStats:(c=sg(b))&&tg(a,c),structStats:(c=Z(b,ug,7))&&vg(a,c),customStatsList:zf(wg(b),xg,a)};a&&(d.$jspbMessageInstance=b);return d}
function kg(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readString();a.setName(c);break;case 2:c=b.readEnum();a.setType(c);break;case 3:c=new yg;b.readMessage(c,zg);Vf(a,3,ng[0],c);break;case 4:c=new Ag;b.readMessage(c,Bg);Vf(a,4,ng[0],c);break;case 5:c=new Cg;b.readMessage(c,Dg);Vf(a,5,ng[0],c);break;case 7:c=new ug;b.readMessage(c,Eg);Vf(a,7,ng[0],c);break;case 6:c=new Fg;b.readMessage(c,Gg);Xf(a,6,c,Fg,void 0);break;default:Pe(b)}return a}
k.serializeBinary=function(){var a=new df;lg(this,a);return hf(a)};function lg(a,b){var c=a.getName();0<c.length&&b.writeString(1,c);c=a.getType();0!==c&&b.writeEnum(2,c);c=og(a);null!=c&&b.writeMessage(3,c,Hg);c=qg(a);null!=c&&b.writeMessage(4,c,Ig);c=sg(a);null!=c&&b.writeMessage(5,c,Jg);c=Z(a,ug,7);null!=c&&b.writeMessage(7,c,Kg);c=wg(a);0<c.length&&lf(b,6,c,Lg)}k.getName=function(){return Y(this,1,"")};k.setName=function(a){Kf(this,1,a,"")};k.getType=function(){return Y(this,2,0)};
k.setType=function(a){Kf(this,2,a,0)};function og(a){return Z(a,yg,3)}k.clearNumStats=function(){Vf(this,3,ng[0],void 0)};k.hasNumStats=function(){return null!=Af(this,3)};function qg(a){return Z(a,Ag,4)}k.clearStringStats=function(){Vf(this,4,ng[0],void 0)};k.hasStringStats=function(){return null!=Af(this,4)};function sg(a){return Z(a,Cg,5)}k.clearBytesStats=function(){Vf(this,5,ng[0],void 0)};k.hasBytesStats=function(){return null!=Af(this,5)};k.clearStructStats=function(){Vf(this,7,ng[0],void 0)};
k.hasStructStats=function(){return null!=Af(this,7)};function wg(a){return Of(a,Fg,6)}k.clearCustomStatsList=function(){Wf(this,6,[])};function Mg(a){vf(this,a,null,null)}qa(Mg,sf);k=Mg.prototype;k.toObject=function(a){return Ng(a,this)};function Ng(a,b){var c={numNonMissing:+Y(b,1,0),numMissing:+Y(b,2,0),avgNumValues:+Y(b,3,0),totNumValues:+Y(b,4,0)};a&&(c.$jspbMessageInstance=b);return c}
function Og(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readDouble();a.setNumNonMissing(c);break;case 2:c=b.readDouble();a.setNumMissing(c);break;case 3:c=b.readDouble();a.setAvgNumValues(c);break;case 4:c=b.readDouble();a.setTotNumValues(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;Pg(this,a);return hf(a)};
function Pg(a,b){var c=a.getNumNonMissing();0!==c&&b.writeDouble(1,c);c=a.getNumMissing();0!==c&&b.writeDouble(2,c);c=a.getAvgNumValues();0!==c&&b.writeDouble(3,c);c=a.getTotNumValues();0!==c&&b.writeDouble(4,c)}k.getNumNonMissing=function(){return+Y(this,1,0)};k.setNumNonMissing=function(a){Lf(this,1,a)};k.getNumMissing=function(){return+Y(this,2,0)};k.setNumMissing=function(a){Lf(this,2,a)};k.getAvgNumValues=function(){return+Y(this,3,0)};k.setAvgNumValues=function(a){Lf(this,3,a)};
k.getTotNumValues=function(){return+Y(this,4,0)};k.setTotNumValues=function(a){Lf(this,4,a)};function Fg(a){vf(this,a,null,Qg)}qa(Fg,sf);var Qg=[[2,3,4,5]];k=Fg.prototype;k.getValCase=function(){return yf(this,Qg[0])};k.toObject=function(a){return xg(a,this)};function xg(a,b){var c,d={name:Y(b,1,""),num:+Y(b,2,0),str:Y(b,3,""),histogram:(c=Z(b,Rg,4))&&Sg(a,c),rankHistogram:(c=b.getRankHistogram())&&Tg(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function Gg(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readString();a.setName(c);break;case 2:c=b.readDouble();Nf(a,2,Qg[0],c);break;case 3:c=b.readString();Nf(a,3,Qg[0],c);break;case 4:c=new Rg;b.readMessage(c,Ug);Vf(a,4,Qg[0],c);break;case 5:c=new Vg;b.readMessage(c,Wg);a.setRankHistogram(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;Lg(this,a);return hf(a)};
function Lg(a,b){var c=a.getName();0<c.length&&b.writeString(1,c);c=Af(a,2);null!=c&&b.writeDouble(2,c);c=Af(a,3);null!=c&&b.writeString(3,c);c=Z(a,Rg,4);null!=c&&b.writeMessage(4,c,Xg);c=a.getRankHistogram();null!=c&&b.writeMessage(5,c,Yg)}k.getName=function(){return Y(this,1,"")};k.setName=function(a){Kf(this,1,a,"")};k.clearNum=function(){Nf(this,2,Qg[0],void 0)};k.hasNum=function(){return null!=Af(this,2)};k.clearStr=function(){Nf(this,3,Qg[0],void 0)};
k.hasStr=function(){return null!=Af(this,3)};k.clearHistogram=function(){Vf(this,4,Qg[0],void 0)};k.hasHistogram=function(){return null!=Af(this,4)};k.getRankHistogram=function(){return Z(this,Vg,5)};k.setRankHistogram=function(a){Vf(this,5,Qg[0],a)};k.clearRankHistogram=function(){this.setRankHistogram(void 0)};k.hasRankHistogram=function(){return null!=Af(this,5)};function yg(a){vf(this,a,Zg,null)}qa(yg,sf);var Zg=[8];k=yg.prototype;k.toObject=function(a){return pg(a,this)};
function pg(a,b){var c,d={commonStats:(c=$g(b))&&ah(a,c),mean:+Y(b,2,0),stdDev:+Y(b,3,0),numZeros:Y(b,4,0),min:+Y(b,5,0),median:+Y(b,6,0),max:+Y(b,7,0),histogramsList:zf(b.getHistogramsList(),Sg,a),weightedNumericStats:(c=Z(b,bh,9))&&ch(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function zg(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=new dh;b.readMessage(c,eh);a.setCommonStats(c);break;case 2:c=b.readDouble();a.setMean(c);break;case 3:c=b.readDouble();a.setStdDev(c);break;case 4:c=b.readUint64();Jf(a,4,c);break;case 5:c=b.readDouble();Lf(a,5,c);break;case 6:c=b.readDouble();a.setMedian(c);break;case 7:c=b.readDouble();Lf(a,7,c);break;case 8:c=new Rg;b.readMessage(c,Ug);a.addHistograms(c);break;case 9:c=new bh;b.readMessage(c,fh);Uf(a,9,c);break;default:Pe(b)}return a}
k.serializeBinary=function(){var a=new df;Hg(this,a);return hf(a)};function Hg(a,b){var c=$g(a);null!=c&&b.writeMessage(1,c,gh);c=a.getMean();0!==c&&b.writeDouble(2,c);c=a.getStdDev();0!==c&&b.writeDouble(3,c);c=Y(a,4,0);0!==c&&b.writeUint64(4,c);c=+Y(a,5,0);0!==c&&b.writeDouble(5,c);c=a.getMedian();0!==c&&b.writeDouble(6,c);c=+Y(a,7,0);0!==c&&b.writeDouble(7,c);c=a.getHistogramsList();0<c.length&&lf(b,8,c,Xg);c=Z(a,bh,9);null!=c&&b.writeMessage(9,c,hh)}function $g(a){return Z(a,dh,1)}
k.setCommonStats=function(a){Uf(this,1,a)};k.clearCommonStats=function(){this.setCommonStats(void 0)};k.hasCommonStats=function(){return null!=Af(this,1)};k.getMean=function(){return+Y(this,2,0)};k.setMean=function(a){Lf(this,2,a)};k.getStdDev=function(){return+Y(this,3,0)};k.setStdDev=function(a){Lf(this,3,a)};k.getMedian=function(){return+Y(this,6,0)};k.setMedian=function(a){Lf(this,6,a)};k.getHistogramsList=function(){return Of(this,Rg,8)};k.setHistogramsList=function(a){Wf(this,8,a)};
k.addHistograms=function(a){return Xf(this,8,a,Rg,void 0)};k.clearHistogramsList=function(){this.setHistogramsList([])};k.clearWeightedNumericStats=function(){Uf(this,9,void 0)};k.hasWeightedNumericStats=function(){return null!=Af(this,9)};function Ag(a){vf(this,a,ih,null)}qa(Ag,sf);var ih=[3];Ag.prototype.toObject=function(a){return rg(a,this)};
function rg(a,b){var c,d={commonStats:(c=$g(b))&&ah(a,c),unique:Y(b,2,0),topValuesList:zf(b.getTopValuesList(),jh,a),avgLength:+Y(b,4,0),rankHistogram:(c=b.getRankHistogram())&&Tg(a,c),weightedStringStats:(c=Z(b,kh,6))&&lh(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function Bg(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=new dh;b.readMessage(c,eh);a.setCommonStats(c);break;case 2:c=b.readUint64();a.setUnique(c);break;case 3:c=new mh;b.readMessage(c,nh);a.addTopValues(c);break;case 4:c=b.readFloat();Lf(a,4,c);break;case 5:c=new Vg;b.readMessage(c,Wg);a.setRankHistogram(c);break;case 6:c=new kh;b.readMessage(c,oh);Uf(a,6,c);break;default:Pe(b)}return a}Ag.prototype.serializeBinary=function(){var a=new df;Ig(this,a);return hf(a)};
function Ig(a,b){var c=$g(a);null!=c&&b.writeMessage(1,c,gh);c=Y(a,2,0);0!==c&&b.writeUint64(2,c);c=a.getTopValuesList();0<c.length&&lf(b,3,c,ph);c=+Y(a,4,0);0!==c&&b.writeFloat(4,c);c=a.getRankHistogram();null!=c&&b.writeMessage(5,c,Yg);c=Z(a,kh,6);null!=c&&b.writeMessage(6,c,qh)}function mh(a){vf(this,a,null,null)}qa(mh,sf);mh.prototype.toObject=function(a){return jh(a,this)};
function jh(a,b){var c={deprecatedFreq:Y(b,1,0),value:Y(b,2,""),frequency:+Y(b,3,0)};a&&(c.$jspbMessageInstance=b);return c}function nh(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readUint64();Jf(a,1,c);break;case 2:c=b.readString();a.setValue(c);break;case 3:c=b.readDouble();Lf(a,3,c);break;default:Pe(b)}return a}mh.prototype.serializeBinary=function(){var a=new df;ph(this,a);return hf(a)};
function ph(a,b){var c=Y(a,1,0);0!==c&&b.writeUint64(1,c);c=a.getValue();0<c.length&&b.writeString(2,c);c=+Y(a,3,0);0!==c&&b.writeDouble(3,c)}mh.prototype.getValue=function(){return Y(this,2,"")};mh.prototype.setValue=function(a){Kf(this,2,a,"")};k=Ag.prototype;k.getCommonStats=function(){return Z(this,dh,1)};k.setCommonStats=function(a){Uf(this,1,a)};k.clearCommonStats=function(){this.setCommonStats(void 0)};k.hasCommonStats=function(){return null!=Af(this,1)};k.setUnique=function(a){Jf(this,2,a)};
k.getTopValuesList=function(){return Of(this,mh,3)};k.setTopValuesList=function(a){Wf(this,3,a)};k.addTopValues=function(a){return Xf(this,3,a,mh,void 0)};k.clearTopValuesList=function(){this.setTopValuesList([])};k.getRankHistogram=function(){return Z(this,Vg,5)};k.setRankHistogram=function(a){Uf(this,5,a)};k.clearRankHistogram=function(){this.setRankHistogram(void 0)};k.hasRankHistogram=function(){return null!=Af(this,5)};k.clearWeightedStringStats=function(){Uf(this,6,void 0)};
k.hasWeightedStringStats=function(){return null!=Af(this,6)};function bh(a){vf(this,a,rh,null)}qa(bh,sf);var rh=[4];k=bh.prototype;k.toObject=function(a){return ch(a,this)};function ch(a,b){var c={mean:+Y(b,1,0),stdDev:+Y(b,2,0),median:+Y(b,3,0),histogramsList:zf(b.getHistogramsList(),Sg,a)};a&&(c.$jspbMessageInstance=b);return c}
function fh(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readDouble();a.setMean(c);break;case 2:c=b.readDouble();a.setStdDev(c);break;case 3:c=b.readDouble();a.setMedian(c);break;case 4:c=new Rg;b.readMessage(c,Ug);a.addHistograms(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;hh(this,a);return hf(a)};
function hh(a,b){var c=a.getMean();0!==c&&b.writeDouble(1,c);c=a.getStdDev();0!==c&&b.writeDouble(2,c);c=a.getMedian();0!==c&&b.writeDouble(3,c);c=a.getHistogramsList();0<c.length&&lf(b,4,c,Xg)}k.getMean=function(){return+Y(this,1,0)};k.setMean=function(a){Lf(this,1,a)};k.getStdDev=function(){return+Y(this,2,0)};k.setStdDev=function(a){Lf(this,2,a)};k.getMedian=function(){return+Y(this,3,0)};k.setMedian=function(a){Lf(this,3,a)};k.getHistogramsList=function(){return Of(this,Rg,4)};
k.setHistogramsList=function(a){Wf(this,4,a)};k.addHistograms=function(a){return Xf(this,4,a,Rg,void 0)};k.clearHistogramsList=function(){this.setHistogramsList([])};function kh(a){vf(this,a,sh,null)}qa(kh,sf);var sh=[1];k=kh.prototype;k.toObject=function(a){return lh(a,this)};function lh(a,b){var c,d={topValuesList:zf(b.getTopValuesList(),jh,a),rankHistogram:(c=b.getRankHistogram())&&Tg(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function oh(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=new mh;b.readMessage(c,nh);a.addTopValues(c);break;case 2:c=new Vg;b.readMessage(c,Wg);a.setRankHistogram(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;qh(this,a);return hf(a)};function qh(a,b){var c=a.getTopValuesList();0<c.length&&lf(b,1,c,ph);c=a.getRankHistogram();null!=c&&b.writeMessage(2,c,Yg)}k.getTopValuesList=function(){return Of(this,mh,1)};k.setTopValuesList=function(a){Wf(this,1,a)};
k.addTopValues=function(a){return Xf(this,1,a,mh,void 0)};k.clearTopValuesList=function(){this.setTopValuesList([])};k.getRankHistogram=function(){return Z(this,Vg,2)};k.setRankHistogram=function(a){Uf(this,2,a)};k.clearRankHistogram=function(){this.setRankHistogram(void 0)};k.hasRankHistogram=function(){return null!=Af(this,2)};function Cg(a){vf(this,a,null,null)}qa(Cg,sf);k=Cg.prototype;k.toObject=function(a){return tg(a,this)};
function tg(a,b){var c,d={commonStats:(c=$g(b))&&ah(a,c),unique:Y(b,2,0),avgNumBytes:+Y(b,3,0),minNumBytes:+Y(b,4,0),maxNumBytes:+Y(b,5,0)};a&&(d.$jspbMessageInstance=b);return d}function Dg(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=new dh;b.readMessage(c,eh);a.setCommonStats(c);break;case 2:c=b.readUint64();a.setUnique(c);break;case 3:c=b.readFloat();Lf(a,3,c);break;case 4:c=b.readFloat();Lf(a,4,c);break;case 5:c=b.readFloat();Lf(a,5,c);break;default:Pe(b)}return a}
k.serializeBinary=function(){var a=new df;Jg(this,a);return hf(a)};function Jg(a,b){var c=$g(a);null!=c&&b.writeMessage(1,c,gh);c=Y(a,2,0);0!==c&&b.writeUint64(2,c);c=+Y(a,3,0);0!==c&&b.writeFloat(3,c);c=+Y(a,4,0);0!==c&&b.writeFloat(4,c);c=+Y(a,5,0);0!==c&&b.writeFloat(5,c)}k.getCommonStats=function(){return Z(this,dh,1)};k.setCommonStats=function(a){Uf(this,1,a)};k.clearCommonStats=function(){this.setCommonStats(void 0)};k.hasCommonStats=function(){return null!=Af(this,1)};
k.getUnique=function(){return Y(this,2,0)};k.setUnique=function(a){Jf(this,2,a)};function ug(a){vf(this,a,null,null)}qa(ug,sf);k=ug.prototype;k.toObject=function(a){return vg(a,this)};function vg(a,b){var c,d={commonStats:(c=$g(b))&&ah(a,c)};a&&(d.$jspbMessageInstance=b);return d}function Eg(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=new dh;b.readMessage(c,eh);a.setCommonStats(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;Kg(this,a);return hf(a)};
function Kg(a,b){a=$g(a);null!=a&&b.writeMessage(1,a,gh)}k.getCommonStats=function(){return Z(this,dh,1)};k.setCommonStats=function(a){Uf(this,1,a)};k.clearCommonStats=function(){this.setCommonStats(void 0)};k.hasCommonStats=function(){return null!=Af(this,1)};function dh(a){vf(this,a,null,null)}qa(dh,sf);k=dh.prototype;k.toObject=function(a){return ah(a,this)};
function ah(a,b){var c,d={numNonMissing:Y(b,1,0),numMissing:Y(b,2,0),minNumValues:Y(b,3,0),maxNumValues:Y(b,4,0),avgNumValues:+Y(b,5,0),totNumValues:Y(b,8,0),numValuesHistogram:(c=Z(b,Rg,6))&&Sg(a,c),weightedCommonStats:(c=Z(b,Mg,7))&&Ng(a,c),featureListLengthHistogram:(c=Z(b,Rg,9))&&Sg(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function eh(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readUint64();a.setNumNonMissing(c);break;case 2:c=b.readUint64();a.setNumMissing(c);break;case 3:c=b.readUint64();Jf(a,3,c);break;case 4:c=b.readUint64();Jf(a,4,c);break;case 5:c=b.readFloat();a.setAvgNumValues(c);break;case 8:c=b.readUint64();a.setTotNumValues(c);break;case 6:c=new Rg;b.readMessage(c,Ug);Uf(a,6,c);break;case 7:c=new Mg;b.readMessage(c,Og);Uf(a,7,c);break;case 9:c=new Rg;b.readMessage(c,Ug);Uf(a,9,c);break;default:Pe(b)}return a}
k.serializeBinary=function(){var a=new df;gh(this,a);return hf(a)};function gh(a,b){var c=a.getNumNonMissing();0!==c&&b.writeUint64(1,c);c=a.getNumMissing();0!==c&&b.writeUint64(2,c);c=Y(a,3,0);0!==c&&b.writeUint64(3,c);c=Y(a,4,0);0!==c&&b.writeUint64(4,c);c=a.getAvgNumValues();0!==c&&b.writeFloat(5,c);c=a.getTotNumValues();0!==c&&b.writeUint64(8,c);c=Z(a,Rg,6);null!=c&&b.writeMessage(6,c,Xg);c=Z(a,Mg,7);null!=c&&b.writeMessage(7,c,Pg);c=Z(a,Rg,9);null!=c&&b.writeMessage(9,c,Xg)}
k.getNumNonMissing=function(){return Y(this,1,0)};k.setNumNonMissing=function(a){Jf(this,1,a)};k.getNumMissing=function(){return Y(this,2,0)};k.setNumMissing=function(a){Jf(this,2,a)};k.getAvgNumValues=function(){return+Y(this,5,0)};k.setAvgNumValues=function(a){Lf(this,5,a)};k.getTotNumValues=function(){return Y(this,8,0)};k.setTotNumValues=function(a){Jf(this,8,a)};k.clearNumValuesHistogram=function(){Uf(this,6,void 0)};k.hasNumValuesHistogram=function(){return null!=Af(this,6)};
k.clearWeightedCommonStats=function(){Uf(this,7,void 0)};k.hasWeightedCommonStats=function(){return null!=Af(this,7)};k.clearFeatureListLengthHistogram=function(){Uf(this,9,void 0)};k.hasFeatureListLengthHistogram=function(){return null!=Af(this,9)};function Rg(a){vf(this,a,th,null)}qa(Rg,sf);var th=[3];Rg.prototype.toObject=function(a){return Sg(a,this)};
function Sg(a,b){var c={numNan:Y(b,1,0),numUndefined:Y(b,2,0),bucketsList:zf(b.getBucketsList(),uh,a),type:Y(b,4,0),name:Y(b,5,"")};a&&(c.$jspbMessageInstance=b);return c}function Ug(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readUint64();Jf(a,1,c);break;case 2:c=b.readUint64();Jf(a,2,c);break;case 3:c=new vh;b.readMessage(c,wh);a.addBuckets(c);break;case 4:c=b.readEnum();a.setType(c);break;case 5:c=b.readString();a.setName(c);break;default:Pe(b)}return a}
Rg.prototype.serializeBinary=function(){var a=new df;Xg(this,a);return hf(a)};function Xg(a,b){var c=Y(a,1,0);0!==c&&b.writeUint64(1,c);c=Y(a,2,0);0!==c&&b.writeUint64(2,c);c=a.getBucketsList();0<c.length&&lf(b,3,c,xh);c=a.getType();0!==c&&b.writeEnum(4,c);c=a.getName();0<c.length&&b.writeString(5,c)}function vh(a){vf(this,a,null,null)}qa(vh,sf);k=vh.prototype;k.toObject=function(a){return uh(a,this)};
function uh(a,b){var c={lowValue:+Y(b,1,0),highValue:+Y(b,2,0),deprecatedCount:Y(b,3,0),sampleCount:+Y(b,4,0)};a&&(c.$jspbMessageInstance=b);return c}function wh(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readDouble();yh(a,c);break;case 2:c=b.readDouble();zh(a,c);break;case 3:c=b.readUint64();a.setDeprecatedCount(c);break;case 4:c=b.readDouble();a.setSampleCount(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;xh(this,a);return hf(a)};
function xh(a,b){var c=a.getLowValue();0!==c&&b.writeDouble(1,c);c=Ah(a);0!==c&&b.writeDouble(2,c);c=Y(a,3,0);0!==c&&b.writeUint64(3,c);c=a.getSampleCount();0!==c&&b.writeDouble(4,c)}k.getLowValue=function(){return+Y(this,1,0)};function yh(a,b){Lf(a,1,b)}function Ah(a){return+Y(a,2,0)}function zh(a,b){Lf(a,2,b)}k.setDeprecatedCount=function(a){Jf(this,3,a)};k.getSampleCount=function(){return+Y(this,4,0)};k.setSampleCount=function(a){Lf(this,4,a)};k=Rg.prototype;
k.getBucketsList=function(){return Of(this,vh,3)};k.setBucketsList=function(a){Wf(this,3,a)};k.addBuckets=function(a){return Xf(this,3,a,vh,void 0)};k.clearBucketsList=function(){this.setBucketsList([])};k.getType=function(){return Y(this,4,0)};k.setType=function(a){Kf(this,4,a,0)};k.getName=function(){return Y(this,5,"")};k.setName=function(a){Kf(this,5,a,"")};function Vg(a){vf(this,a,Bh,null)}qa(Vg,sf);var Bh=[1];Vg.prototype.toObject=function(a){return Tg(a,this)};
function Tg(a,b){var c={bucketsList:zf(b.getBucketsList(),Ch,a),name:Y(b,2,"")};a&&(c.$jspbMessageInstance=b);return c}function Wg(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=new Dh;b.readMessage(c,Eh);a.addBuckets(c);break;case 2:c=b.readString();a.setName(c);break;default:Pe(b)}return a}Vg.prototype.serializeBinary=function(){var a=new df;Yg(this,a);return hf(a)};function Yg(a,b){var c=a.getBucketsList();0<c.length&&lf(b,1,c,Fh);c=a.getName();0<c.length&&b.writeString(2,c)}
function Dh(a){vf(this,a,null,null)}qa(Dh,sf);k=Dh.prototype;k.toObject=function(a){return Ch(a,this)};function Ch(a,b){var c={lowRank:Y(b,1,0),highRank:Y(b,2,0),deprecatedCount:Y(b,3,0),label:Y(b,4,""),sampleCount:+Y(b,5,0)};a&&(c.$jspbMessageInstance=b);return c}
function Eh(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readUint64();Jf(a,1,c);break;case 2:c=b.readUint64();Jf(a,2,c);break;case 3:c=b.readUint64();a.setDeprecatedCount(c);break;case 4:c=b.readString();Kf(a,4,c,"");break;case 5:c=b.readDouble();a.setSampleCount(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;Fh(this,a);return hf(a)};
function Fh(a,b){var c=Y(a,1,0);0!==c&&b.writeUint64(1,c);c=Y(a,2,0);0!==c&&b.writeUint64(2,c);c=Y(a,3,0);0!==c&&b.writeUint64(3,c);c=a.getLabel();0<c.length&&b.writeString(4,c);c=a.getSampleCount();0!==c&&b.writeDouble(5,c)}k.getDeprecatedCount=function(){return Y(this,3,0)};k.setDeprecatedCount=function(a){Jf(this,3,a)};k.getLabel=function(){return Y(this,4,"")};k.getSampleCount=function(){return+Y(this,5,0)};k.setSampleCount=function(a){Lf(this,5,a)};k=Vg.prototype;
k.getBucketsList=function(){return Of(this,Dh,1)};k.setBucketsList=function(a){Wf(this,1,a)};k.addBuckets=function(a){return Xf(this,1,a,Dh,void 0)};k.clearBucketsList=function(){this.setBucketsList([])};k.getName=function(){return Y(this,2,"")};k.setName=function(a){Kf(this,2,a,"")};
//~~WEBPATH~~/facets-overview/common/feature_statistics_generator.js
function Gh(){this.vals=[];this.counts=[]}function Hh(a){var b=new $f;a.forEach(function(a){var c=Ih(a.data);c.setName(a.name);bg(b).push(c)});return b}
function Ih(a){var b={};if(null==a)return new eg;a.forEach(function(a,d){var c;if(null!=a){for(var f=Object.keys(a),g={},h=0;h<f.length;h++){var l=f[h],m=a[l];g[l]=!0;l in b||(b[l]=new Gh,b[l].missing=d,b[l].counts=[]);"number"===typeof m||"string"===typeof m?(b[l].vals.push(m),b[l].counts.push(1)):m instanceof Array&&(b[l].counts.push(m.length),(c=b[l].vals).push.apply(c,m))}Object.keys(b).forEach(function(a){a in g||(b[a].missing+=1)})}});Object.keys(b).forEach(function(a){var c=0,e=0,f=!1;b[a].vals.forEach(function(a){"string"===
typeof a?c+=1:(e+=1,f=f||!(a===+a&&a===(a|0)))});b[a].type=e>c?f?1:0:2});return Jh(b,a.length)}function Jh(a,b){var c=new eg;Jf(c,2,b);for(var d in a)if(a.hasOwnProperty(d)){var e=new jg;c.getFeaturesList().push(e);var f=a[d];e.setName(d);e.setType(f.type);1===f.type||0===f.type?(f=Kh(f.vals,f.counts,b,f.missing),Vf(e,3,ng[0],f)):2===f.type&&(f=Lh(f.vals,f.counts,b,f.missing),Vf(e,4,ng[0],f))}return c}
function Kh(a,b,c,d){var e=new yg;e.setCommonStats(Mh(b,c,d));var f=0,g=0,h=0;b=a.filter(function(a){return"number"===typeof a&&!isNaN(a)}).map(function(a){return+a}).sort(function(a,b){return a-b});0<b.length&&(Lf(e,5,b[0]),Lf(e,7,b[b.length-1]),c=Math.floor(b.length/2),e.setMedian(0!==b.length%2?b[c]:(b[c]+b[c-1])/2));b.forEach(function(a){0===a&&(h+=1);f+=a;g+=a*a});1<b.length&&e.setStdDev(Math.sqrt((g-f*f/b.length)/(b.length-1)));e.setMean(f/a.length);Jf(e,4,h);a=b.filter(function(a){return Infinity!==
a&&-Infinity!==a});c=b.filter(function(a){return Infinity===a}).length;d=b.filter(function(a){return-Infinity===a}).length;var l=a[0],m=a[a.length-1];l=d3.range(l,m,(m-l)/10);l=d3.histogram().thresholds(l)(a);var n=e.addHistograms();n.setType(0);l.forEach(function(a){var b=n.addBuckets();b.setSampleCount(a.length);yh(b,a.x0);zh(b,a.x1)});l=n.getBucketsList();b.length&&-Infinity===b[0]&&(yh(l[0],-Infinity),l[0].setSampleCount(l[0].getSampleCount()+d));b.length&&Infinity===b[b.length-1]&&(zh(l[l.length-
1],Infinity),l[l.length-1].setSampleCount(l[l.length-1].getSampleCount()+c));n=e.addHistograms();Nh(n,a);return e}function Nh(a,b){var c=[0,10,20,30,40,50,60,70,80,90,100],d=c.length-1;c=c.map(function(a){if(0===b.length)a=NaN;else{a=a/100*(b.length-1);var c=Math.floor(a);a=c===a?b[a]:b[c]+(b[c+1]-b[c])*(a-c)}return a});a.setType(1);for(var e=b.length/d,f=0;f<d;f++){var g=a.addBuckets();g.setSampleCount(e);yh(g,c[f]);zh(g,c[f+1])}}
function Lh(a,b,c,d){var e=new Ag;e.setCommonStats(Mh(b,c,d));var f=0,g={};a.forEach(function(a){a=String(a);g[a]=(g[a]||0)+1;f+=a.length});0<a.length&&Lf(e,4,f/a.length);a=[];for(var h in g)g.hasOwnProperty(h)&&a.push({str:h,count:g[h]});e.setUnique(a.length);a=a.sort(function(a,b){return b.count-a.count});var l=new Vg;e.setRankHistogram(l);a.length&&(h=e.addTopValues(),h.setValue(a[0].str),Lf(h,3,a[0].count));a.forEach(function(a,b){var c=l.addBuckets();c.setSampleCount(a.count);Jf(c,1,b);Jf(c,
2,b);Kf(c,4,a.str,"")});return e}function Mh(a,b,c){var d=new dh,e=Infinity,f=0,g=0;a.forEach(function(a){a<e&&(e=a);a>f&&(f=a);g+=a});d.setNumNonMissing(b-c);d.setNumMissing(c);Jf(d,3,e);Jf(d,4,f);0<a.length&&d.setAvgNumValues(g/a.length);b=new Rg;Uf(d,6,b);Nh(b,a);return d};
</script>
<script>//~~WEBPATH~~/facets-overview/common/utils.js
function Oh(){}function Uh(a,b,c,d,e,f,g,h){var l=this;this.histMap={};this.name=a;b&&(this.histMap[Vh(!1,Wh)]=b);c&&(this.histMap[Vh(!0,Wh)]=c);d&&(this.histMap[Vh(!1,Xh)]=d);e&&(this.histMap[Vh(!0,Xh)]=e);f&&(this.histMap[Vh(!1,Yh)]=f);g&&(this.histMap[Vh(!1,Zh)]=g);h&&Object.keys(h).forEach(function(a){return l.histMap[a]=h[a]})}
var $h=function(){function a(a,c,d,e){this.name=a;this.stringValue=c;this.lowNumValue=d;this.highNumValue=e}a.prototype.clear=function(){this.highNumValue=this.lowNumValue=this.stringValue=this.name=void 0};a.prototype.equals=function(a){return a?this.name===a.name&&this.stringValue===a.stringValue&&this.lowNumValue===a.lowNumValue&&this.highNumValue===a.highNumValue:!1};return a}();
function ai(a){var b=bi(a);if(0===b)return 0;var c=a.reduce(function(a,c){c=+c.getSampleCount()||0;if(0===c)return a;c/=b;return a-c*Math.log(c)},0);return 0===c?0:c/Math.log(a.length)}function ci(a,b){return isFinite(a)&&-1===a.toString().indexOf("e")?+(Math.round(Number(a+"e+"+b))+"e-"+b):a}function di(a,b,c){return(a=a.histMap[Vh(b,c)])?a.getBucketsList():[]}function Vh(a,b){b=null==b?Wh:b;a&&(b="weighted"+b);return b}
function bi(a){return a.map(function(a){return a.getSampleCount()}).reduce(function(a,c){return(+c||0)+a},0)}function ei(a){return a.map(function(a){return bi(di(a,!1))})}function fi(a){var b=[];a.forEach(function(a){a.forEach(function(a){a=gi(a.getLabel());-1===b.indexOf(a)&&b.push(a)})});return b}function gi(a){return null==a||""===a?"\u00a0":a}function hi(a){return null==a?0:"inf"===a?Infinity:"-inf"===a?-Infinity:+a}
function ii(a){for(var b=a.map(function(a){return di(a,!1)}),c=null,d=0;d<b.length;d++)if(0<b[d].length){c=b[d][0];break}if(!c)return 0;var e=ei(a);for(d=0;d<e.length;d++)if(0===e[d])return Infinity;var f=0;if(c instanceof Dh){var g=fi(b);for(d=1;d<a.length;d++){c=b[0];for(var h=b[d],l=0,m=0;m<g.length;m++){for(var n=g[m],q=0,p=0,t=0;t<c.length;t++)if(c[t].getLabel()===n){q=c[t].getSampleCount()?c[t].getSampleCount():0;break}for(t=0;t<h.length;t++)if(h[t].getLabel()===n){p=h[t].getSampleCount()?h[t].getSampleCount():
0;break}l=ji(l,q,e[0],p,e[d])}f=Math.max(f,l)}}else for(d=1;d<a.length;d++){c=b[0];h=b[d];l=0;g=Math.max(c.length,h.length);for(m=0;m<g;m++)q=m<c.length&&c[m].getSampleCount()?c[m].getSampleCount():0,p=m<h.length&&h[m].getSampleCount()?h[m].getSampleCount():0,l=ji(l,q,e[0],p,e[d]);f=Math.max(f,l)}return f}function ji(a,b,c,d,e){var f=b/c-d/e;b=b/(c*c)+d/(e*e);return a+(b?f*f/b:0)}
function ki(a){bg(a).forEach(function(a){a.getFeaturesList().forEach(function(a){var b=[];if(qg(a)){var c=qg(a).getRankHistogram();c&&b.push(c);(a=qg(a).getTopValuesList())&&a.forEach(function(a){var b=Y(a,1,0);b&&!+Y(a,3,0)&&Lf(a,3,b)})}else og(a)&&(a=og(a).getHistogramsList())&&(b=b.concat(a));b.forEach(function(a){(a=a.getBucketsList())&&a.forEach(function(a){var b=Y(a,3,0);b&&!a.getSampleCount()&&a.setSampleCount(b)})})})});return a}
function li(a){var b=!0;bg(a).forEach(function(a){a.getFeaturesList().forEach(function(a){var c=[];if(qg(a)){var d=qg(a).getRankHistogram();d&&c.push(d);(a=qg(a).getTopValuesList())&&a.forEach(function(a){Y(a,1,0)&&!+Y(a,3,0)&&(b=!1)})}else og(a)&&(a=og(a).getHistogramsList())&&(c=c.concat(a));c.forEach(function(a){(a=a.getBucketsList())&&a.forEach(function(a){Y(a,3,0)&&!a.getSampleCount()&&(b=!1)})})})});return b}
function mi(a){if(!a)return!1;for(var b=0;b<a.length;b++)if(a[b].histMap[Vh(!0,Wh)])return!0;return!1}function ni(a){return a?a.getNumNonMissing()*a.getAvgNumValues():0}
function oi(a){switch(a){case 0:return"int";case 1:return"fixed-length ints";case 2:return"variable-length ints";case 3:return"float";case 4:return"fixed-length floats";case 5:return"variable-length floats";case 6:return"string";case 7:return"fixed-length strings";case 8:return"variable-length strings";case 9:return"bytes";case 10:return"fixed-length bytes";case 11:return"variable-length bytes";case 12:return"struct";case 13:return"fixed-length struct";case 14:return"variable-length struct";default:return"unknown"}}
function pi(){}function qi(){}function ri(){}function si(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].rawBuckets.length>b&&(b=a[d].rawBuckets.length,c=d);d=[];for(var e=0;e<b;e++){var f=new ri;f.value=a[c].rawBuckets[e].getLabel();f.counts=[];for(var g=0;g<a.length;g++)a[g].rawBuckets.length<=e?f.counts.push(0):f.counts.push(a[g].rawBuckets[e].getSampleCount());d.push(f)}return d}
function ti(a,b){for(var c=[],d=0;d<b.length;d++){var e=new ri,f=b[d];e.value=f;e.counts=[];for(var g=0;g<a.length;g++){for(var h=a[g].rawBuckets,l=-1,m=0;m<h.length;m++)if(h[m].getLabel()===f){l=m;break}-1===l?e.counts.push(0):e.counts.push(h[l].getSampleCount())}c.push(e)}return c}var ui,vi=ui||(ui={});vi[vi.HISTOGRAM=0]="HISTOGRAM";vi[vi.BAR_CHART=1]="BAR_CHART";vi[vi.CUMDIST_CHART=2]="CUMDIST_CHART";var Wh="Standard",Xh="Quantiles",Yh="Value list length",Zh="Feature list length";
function wi(a,b,c){var d=!0,e=0;a.forEach(function(a){a.histMap[b]&&(a=a.histMap[b].getBucketsList(),e=Math.max(e,a.length),a.forEach(function(a){a.getLowValue||(d=!1)}))});return d?ui.HISTOGRAM:e>c?ui.CUMDIST_CHART:ui.BAR_CHART}var xi=function(){function a(a,c,d){this.str=a;this.cssClass=c;this.fullStr=d;this.fullStr||(this.fullStr=a)}a.prototype.append=function(a,c){c&&(this.str+=c,this.fullStr+=c);this.str+=a.str;this.fullStr+=a.fullStr;this.cssClass+=a.cssClass};return a}();
function yi(a){var b=Math.abs(a);return(.01>b&&0<b||1E4<b)&&isFinite(a)?d3.format(".3s")(a).replace(/G$/,"B"):a.toLocaleString()}function zi(a,b){var c=yi(ci(hi(a),1E6<Math.abs(a)?0:2));b=Ai(a,b,void 0);return new xi(c,b,a.toLocaleString([],{maximumFractionDigits:9}))}function Bi(a,b,c){a=hi(a);a=null!=a&&b?a/b:0;b=.999999<a&&1>a?"~100%":1E-6>a&&0<a?"~0%":ci(100*a,2)+"%";c=Ai(a,!1,c);return new xi(b,c,100*a+"%")}function Ci(a,b,c){var d=yi(a);b=Ai(a,b,c);return new xi(d,b,a.toLocaleString())}
function Di(a,b){a=gi(a);a=0===a.length||isNaN(+a)?a:'"'+a+'"';b=Ai(a,b,void 0);return new xi(a,b)}function Ai(a,b,c){b=b?"data-weighted ":"";if(c&&c(a)||"number"===typeof a&&!isFinite(a))b+="data-error ";return b}function Ei(a){return a?og(a)?$g(og(a)):qg(a)?$g(qg(a)):sg(a)?$g(sg(a)):Z(a,ug,7)?$g(Z(a,ug,7)):null:null}
function Fi(a){var b=[];a?(b.push(Ci(a.getNumNonMissing(),!1,function(a){return 0>=a})),b.push(Bi(a.getNumMissing(),hi(a.getNumNonMissing())+hi(a.getNumMissing()),function(a){return.02<a}))):(b.push(Ci(0,!1,function(a){return 0>=a})),b.push(Bi(1,1,function(a){return.02<a})));return b}
function Gi(a,b,c){var d=[];if(a)(c=c?Z(a,bh,9):null)?(d.push(zi(c.getMean(),!0)),d.push(zi(c.getStdDev(),!0))):(d.push(zi(a.getMean())),d.push(zi(a.getStdDev()))),d.push(Bi(Y(a,4,0),ni(b),function(a){return.1<a})),b=Hi(a),d.push(zi(b?NaN:+Y(a,5,0))),c?d.push(zi(c.getMedian(),!0)):d.push(zi(a.getMedian())),d.push(zi(b?NaN:+Y(a,7,0)));else for(a=0;6>a;a++)d.push(Di("-"));return d}function Hi(a){if(!a)return!1;a=a.getHistogramsList();for(var b=0;b<a.length;b++)if(0<Y(a[b],1,0))return!0;return!1}
function Ii(a,b){var c=[];if(a){b=b?Z(a,kh,6):null;c.push(Ci(Y(a,2,0)));var d=b?b.getTopValuesList():a.getTopValuesList();d&&0<d.length?(c.push(Di(d[0].getValue(),!!b)),c.push(zi(+Y(d[0],3,0),!!b))):(c.push(Di("-")),c.push(Di("-")));c.push(zi(+Y(a,4,0)))}else for(a=0;4>a;a++)c.push(Di("-"));return c}function Ji(a){var b=[];if(a)b.push(Ci(Y(a,2,0))),b.push(Di("-")),b.push(Di("-")),b.push(zi(+Y(a,3,0)));else for(a=0;4>a;a++)b.push(Di("-"));return b}
function Ki(a){var b=[];if(a&&0<a.length){var c=new xi("","data-custom ");a.forEach(function(a){if(!Z(a,Rg,4)&&!a.getRankHistogram()){var b=a.getName();""!==c.str&&(b="\n"+b);c.append(Di(b));Y(a,3,"")?c.append(Di(Y(a,3,"")),": "):c.append(zi(+Y(a,2,0)),": ")}});b.push(c)}else a=new xi("-","data-custom "),b.push(a);return b}
function Li(a){var b=a.map(function(){return 0});a.forEach(function(a,d){a.forEach(function(a){b[d]+=hi(a.getSampleCount())})});return a.map(function(a,d){return a.map(function(a){if(a instanceof vh){var c=new vh;c.setSampleCount(a.getSampleCount()/b[d]);yh(c,a.getLowValue());zh(c,Ah(a))}else{c=new Dh;c.setSampleCount(a.getSampleCount()/b[d]);var e=Y(a,1,0);Jf(c,1,e);e=Y(a,2,0);Jf(c,2,e);a=a.getLabel();Kf(c,4,a,"")}return c})})}var Mi=ui;
</script>
<script>//~~WEBPATH~~/facets-overview/common/overview_data_model.js
var Ni=function(){function a(a){this.data=a;this.colorScale=new Plottable.Scales.Color;this.colorScale.domain(bg(a).map(function(a){return a.getName()}));this.colorScale.range("#4285F4 #F09300 #0F9D58 #9C27B0 #607D8B #0B8043 #757575".split(" "));if(!li(a))throw Error("input proto has not been cleaned");this.featuresBySpec=this.makeFeatureBySpecList()}a.prototype.makeFeatureBySpecList=function(){for(var a=this,c=[],d=0;16>d;d++)c[d]=[];this.getUniqueFeatures().forEach(function(b){var d=a.getFeatureSpecForFeature(b.getName());
c[d].push(b.getName())});return c};a.prototype.getNonEmptyFeatureSpecLists=function(){for(var a=[],c=0;16>c;c++)if(0!==this.featuresBySpec[c].length){var d=new pi;d.features=this.featuresBySpec[c];d.spec=c;a.push(d)}return a};a.prototype.getFeatureSpecForFeature=function(a){for(var b=this.getDatasetNames(),d=15,e=0;e<b.length;e++){var f=this.getFeature(a,b[e]);if(null==f)f=15;else{f=f.getType();var g=this.getFeatureCommonStats(a,b[e]),h=15;if(null!=g&&0!==g.getNumNonMissing()){var l=h=!1;Y(g,3,0)===
Y(g,4,0)&&(1===Y(g,3,0)?h=!0:l=!0);h=1===f?h?3:l?4:5:0===f?h?0:l?1:2:2===f?h?6:l?7:8:3===f?h?9:l?10:11:h?12:l?13:14}f=h}d=15===d?f:16<=d||15===f?d:3<=d&&5>=d&&3<=f&&5>=f||0<=d&&2>=d&&0<=f&&2>=f||6<=d&&8>=d&&6<=f&&8>=f||9<=d&&11>=d&&9<=f&&11>=f||12<=d&&14>=d&&12<=f&&14>=f?Math.max(d,f):16}16===d&&(d=15);return d};a.prototype.getDatasetFeatureStatistics=function(){return this.data};a.prototype.getColorScale=function(){return this.colorScale};a.prototype.getDatasetNames=function(){return this.data?bg(this.data).map(function(a){return a.getName()}):
[]};a.prototype.getDataset=function(a){if(!this.data)return null;for(var b=0,d=bg(this.data);b<d.length;b++){var e=d[b];if(e.getName()===a)return e}return null};a.prototype.getFeature=function(a,c){if(!a||!this.data)return null;var b=this.getDataset(c);if(!b)return null;c=0;for(b=b.getFeaturesList();c<b.length;c++){var e=b[c];if(e.getName()===a)return e}return null};a.prototype.getExtraHistogramNames=function(a){if(!this.data)return[];a=a.map(function(a){return a.getName()});for(var b={},d=0,e=bg(this.data);d<
e.length;d++)for(var f=0,g=e[d].getFeaturesList();f<g.length;f++){var h=g[f];if(-1!==a.indexOf(h.getName())&&(wg(h)&&wg(h).forEach(function(a){if(Z(a,Rg,4)||a.getRankHistogram())b[a.getName()]=!0}),og(h)&&(h=og(h).getHistogramsList())))for(var l=0;l<h.length;l++){var m=h[l];m.getName()&&(b[m.getName()]=!0)}}return Object.keys(b)};a.prototype.getFeatureCommonStats=function(a,c){a=this.getFeature(a,c);return null==a?null:Ei(a)};a.prototype.getFeatureNames=function(a){return a&&this.data?(a=this.getDataset(a))?
a.getFeaturesList().map(function(a){return a.getName()}):[]:null};a.prototype.getFeatureIndex=function(a,c){if(!this.data)return null;var b=this.getDataset(a);if(!b)return null;var e=a=0;for(b=b.getFeaturesList();e<b.length;e++){if(b[e].getName()===c)return a;++a}return null};a.prototype.getUniqueFeatures=function(){if(!this.data)return[];for(var a={},c=0,d=bg(this.data);c<d.length;c++)for(var e=0,f=d[c].getFeaturesList();e<f.length;e++){var g=f[e];a[g.getName()]=g}return Object.keys(a).map(function(b){return a[b]})};
a.prototype.getNumUniqueFeaturesByType=function(a){return this.getUniqueFeatures().filter(function(b){return null!=og(b)===a}).length};a.prototype.featureHasSingleValue=function(a){if(!a)return!1;if(qg(a)){var b=Y(qg(a),2,0);return 1===hi(b)}return sg(a)?(b=Y(sg(a),2,0),1===hi(b)):og(a)?(b=+Y(og(a),5,0),a=+Y(og(a),7,0),null==b&&null==a?!1:hi(b)===hi(a)):!1};a.prototype.featureAcrossAllDatasetsHasSingleValue=function(a){if(!a||!this.data)return!1;for(var b=0,d=bg(this.data);b<d.length;b++)for(var e=
0,f=d[b].getFeaturesList();e<f.length;e++){var g=f[e];if(a===g.getName()&&!this.featureHasSingleValue(g))return!1}return!0};a.prototype.getFeatureSingleValue=function(a){if(null==a)return"\x3cnull\x3e";if(qg(a))return a=qg(a).getTopValuesList(),null==a||0===a.length?"\x3cnull\x3e":a[0].getValue();if(sg(a))return 0===Y(sg(a),2,0)?"\x3cnull\x3e":"\x3cbinary data\x3e";if(og(a)){var b=+Y(og(a),5,0);if(b)return hi(b).toString();if(a=+Y(og(a),7,0))return hi(a).toString()}return"\x3cunknown type\x3e"};a.prototype.getDatasetHistogramsForFeature=
function(a){var b=[];if(this.data)for(var d=function(c){for(var d=c.getName(),f=null,g=null,h=null,p=null,t=null,r=null,w={},v=0,y=c.getFeaturesList();v<y.length;v++)if(c=y[v],c.getName()===a){if(v=e.getFeatureCommonStats(a,d))t=Z(v,Rg,6),r=Z(v,Rg,9);wg(c)&&wg(c).forEach(function(a){Z(a,Rg,4)?w[a.getName()]=Z(a,Rg,4):a.getRankHistogram()&&(w[a.getName()]=a.getRankHistogram())});if(og(c)){var x=og(c).getHistogramsList();if(x)for(v=0;v<x.length;v++)y=x[v],y.getName()?w[y.getName()]=y:0===y.getType()?
f=y:h=y;if(Z(og(c),bh,9)&&(c=Z(og(c),bh,9).getHistogramsList()))for(v=0;v<c.length;v++)y=c[v],0===y.getType()?g=y:p=y}else qg(c)&&(f=qg(c).getRankHistogram(),Z(qg(c),kh,6)&&(g=Z(qg(c),kh,6).getRankHistogram()));break}b.push(new Uh(d,f,g,h,p,t,r,w))},e=this,f=0,g=bg(this.data);f<g.length;f++)d(g[f]);return b};a.prototype.doesContainWeightedStats=function(){if(null==this.containsWeightedStats){a:{var a=this.data;for(var c=0;c<bg(a).length;c++)for(var d=bg(a)[c],e=0;e<d.getFeaturesList().length;e++){var f=
d.getFeaturesList()[e];if(qg(f)){if(Z(qg(f),kh,6)){a=!0;break a}}else if(og(f)&&Z(og(f),bh,9)){a=!0;break a}}a=!1}this.containsWeightedStats=a}return this.containsWeightedStats};a.prototype.doesContainCustomStats=function(){if(null==this.containsCustomStats){a:{var a=this.data;for(var c=0;c<bg(a).length;c++)for(var d=bg(a)[c],e=0;e<d.getFeaturesList().length;e++){var f=wg(d.getFeaturesList()[e]);if(null!=f&&0<f.length){a=!0;break a}}a=!1}this.containsCustomStats=a}return this.containsCustomStats};
a.prototype.doesContainFeatureListLengthData=function(){if(null==this.containsFeatureListLengthData){a:{var a=this.data;for(var c=0;c<bg(a).length;c++)for(var d=bg(a)[c],e=0;e<d.getFeaturesList().length;e++){var f=d.getFeaturesList()[e];if((f=Ei(f))&&Z(f,Rg,9)){a=!0;break a}}a=!1}this.containsFeatureListLengthData=a}return this.containsFeatureListLengthData};a.prototype.getChartAlpha=function(){return 2<=this.getDatasetNames().length?.4:1};a.prototype.getChartColorString=function(a){a=this.getColorScale().scale(this.getDatasetNames()[a]);
var b=this.getChartAlpha();return a.replace("rgb","rgba").replace(")",", "+b+")")};return a}();
</script>










<dom-module id="facets-overview-row-stats">
  <template>
    
    <div class="table-row style-scope facets-overview-row-stats">
      <div id="legend-box" class="style-scope facets-overview-row-stats"></div>
      <template is="dom-repeat" class="style-scope facets-overview-row-stats"></template>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-row-stats/facets-overview-row-stats.js
Polymer({is:"facets-overview-row-stats",properties:{stats:Object,showWeighted:Boolean,hasCustom:Boolean,dataModel:Object,datasetIndex:Number,compareMode:Boolean,_entries:{type:Array,computed:"_getEntries(stats, showWeighted, hasCustom)"}},observers:["_colorLegendBox(dataModel, datasetIndex, compareMode)"],_getEntries:function(a,b,c){if(a){var d=Ei(a),e=Fi(d);e=og(a)?e.concat(Gi(og(a),d,b)):qg(a)?e.concat(Ii(qg(a),b)):e.concat(Ji(sg(a)));c&&(e=e.concat(Ki(wg(a))));a=e}else a=[];return a},_colorLegendBox:function(a,
b,c){var d=d3.select(this.$$("#legend-box"));2>a.getDatasetNames().length&&!c?d.style("visibility","hidden"):(d.style("visibility",null),d.style("background-color",a.getChartColorString(b)))}});
</script>




<dom-module id="facets-overview-row-legend">
  <template>
    
    <div class="table-row style-scope facets-overview-row-legend">
      <div class="legend-space style-scope facets-overview-row-legend"></div>
      <template is="dom-repeat" class="style-scope facets-overview-row-legend"></template>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-row-legend/facets-overview-row-legend.js
Polymer({is:"facets-overview-row-legend",properties:{numeric:Boolean,showWeighted:Boolean,hasCustom:Boolean,dataModel:Object,_entries:{type:Array,computed:"_getEntries(numeric, showWeighted, hasCustom)"}},_getEntries:function(a,b,c){var d=[];d.push(Di("count"));d.push(Di("missing"));a?(d.push(Di("mean",b)),d.push(Di("std dev",b)),d.push(Di("zeros")),d.push(Di("min")),d.push(Di("median",b)),d.push(Di("max"))):(d.push(Di("unique")),d.push(Di("top",b)),d.push(Di("freq top",b)),d.push(Di("avg str len")));
c&&(a=new xi("custom","data-custom "),d.push(a));return d}});
</script>








<dom-module id="facets-overview-chart">
  
  <template>
    
    <div class="toplevel style-scope facets-overview-chart">
      <template is="dom-if" class="style-scope facets-overview-chart"></template>
      <div class="style-scope facets-overview-chart">
        <div id="chart" class="style-scope facets-overview-chart"></div>
        <div id="xaxis" class="style-scope facets-overview-chart"></div>
      </div>
      <template is="dom-if" class="style-scope facets-overview-chart"></template>
      <div id="tooltip" class="style-scope facets-overview-chart"></div>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-chart/facets-overview-chart.js
Polymer({is:"facets-overview-chart",properties:{data:{type:Object,observer:"_updateData"},dataModel:Object,feature:String,_maxBucketsForBarChart:{type:Number,value:10,readOnly:!0},_chartAlpha:{type:Number,value:1},logScale:Boolean,showWeighted:Boolean,showPercentage:Boolean,chartSelection:{type:Number,observer:"_updateChartSelection"},selection:{type:Object,observer:"_updateSelectionVisibility",notify:!0},expandChart:Boolean,_selectionElem:Object,_minBarHeightRatio:{type:Number,value:.01,readOnly:!0},
_onClick:Object,_onClickFunction:Object,_onPointer:Object,_onPointerEnterFunction:Object,_onPointerExitFunction:Object,_tableData:Array,_showTable:{type:Boolean,value:!1},_chartType:Object,_chartClass:{type:String,computed:"_getChartClass(_showTable)"},_chartSvgClass:{type:String,computed:"_getChartSvgClass(expandChart)"},_xAxisSvgClass:{type:String,computed:"_getXAxisSvgClass(expandChart)"},_tableDataClass:{type:String,computed:"_getTableDataClass(expandChart)"}},observers:["_render(data, logScale, showWeighted, chartSelection, _showTable, expandChart, showPercentage, dataModel)"],
_updateData:function(){this._showTable=!1},_updateChartSelection:function(){this._showTable=!1},_hasWeightedHistogram:function(a){return mi(a)},_hasQuantiles:function(a){a:{if(a)for(var b=0;b<a.length;b++)if(a[b].histMap[Xh]){a=!0;break a}a=!1}return a},_isStringChart:function(a,b){return(a===Mi.CUMDIST_CHART||a===Mi.BAR_CHART)&&b!==Yh&&b!==Zh},_disableLogCheckbox:function(a,b){return a||b!==Wh},_render:function(a,b,c,d,e,f,g,h){var l=this;this._onPointer&&(this._onPointer.offPointerMove(this._onPointerEnterFunction),
this._onPointer.offPointerMove(this._onPointerExitFunction));this._onClick&&this._onClick.offClick(this._onClickFunction);a&&(this._chartAlpha=h.getChartAlpha(),e=a.map(function(a){return l._getBuckets(a,c,d)}),this._chartType=wi(a,d,this._maxBucketsForBarChart),a=a.map(function(a){return a.name}),d===Yh||d===Zh||d===Xh?this._renderQuantileChart(e,a,b):this._chartType===Mi.HISTOGRAM?this._renderHistogramChart(e,a,b,g):this._chartType===Mi.CUMDIST_CHART?this._renderCdfChart(e,a,b):this._renderBarChart(e,
a,b,g))},_renderHistogramChart:function(a,b,c,d){var e=this,f=[],g=new Plottable.Plots.Rectangle,h=Infinity,l=-Infinity,m=0;d&&(a=Li(a));a.forEach(function(a,c){a.forEach(function(a){var b=hi(a.getLowValue()),c=hi(Ah(a));a=hi(a.getSampleCount());b<h&&(h=b);c>l&&(l=c);a>m&&(m=a);isFinite(b)&&isFinite(c)&&f.push(c-b)});g.addDataset(new Plottable.Dataset(a,{name:b[c]}))});var n=0<f.length?f.reduce(function(a,b){return a+b})/f.length:0;0===n&&(n=1);d=[];isFinite(h)&&(d.push(h),isFinite(l)&&d.push(l));
a=new Plottable.Scales.Linear;0<d.length&&a.domain(d);d=this._getScale(c).domain([0]);var q=new Plottable.Axes.Numeric(a,"bottom"),p=new Plottable.Axes.Numeric(d,"left");p.formatter(this._chartAxisScaleFormatter());q.formatter(this._chartAxisScaleFormatter());g.x(function(a){var b=hi(a.getLowValue());if(-Infinity===b||b===Ah(a))a=hi(Ah(a)),isFinite(a)?b=a-n:(b=0,-Infinity===a&&(b-=n));return b},a).x2(function(a){var b=hi(Ah(a));if(Infinity===b||b===a.getLowValue())a=hi(a.getLowValue()),isFinite(a)?
b=a+n:(b=0,Infinity===a&&(b+=n));return b}).y(function(){return 0},d).y2(function(a){return e._getCountWithFloor(a,m,c)});g.attr("fill",function(a,b,c){return c.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);this._renderChart(g,q,p,null,null,function(a){return g.entitiesAt(a)},function(a){return ci(hi(a.getLowValue()),2).toLocaleString()+"-"+ci(hi(Ah(a)),2).toLocaleString()+": "+hi(a.getSampleCount()).toLocaleString()},function(a){return new $h(e.feature,void 0,
hi(a.getLowValue()),hi(Ah(a)))},function(a){return a.append("rect").attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(a,b){return a.attr("x",b.position.x-b.selection._groups[0][0].width.baseVal.value/2).attr("y",b.position.y-b.selection._groups[0][0].height.baseVal.value/2).attr("width",b.selection._groups[0][0].width.baseVal.value).attr("height",b.selection._groups[0][0].height.baseVal.value)})},_renderQuantileChart:function(a,b,c){var d=this,e=new Plottable.Plots.Line,
f=new Plottable.Plots.Scatter,g=Infinity,h=-Infinity;a.forEach(function(a,c){var d=[],l=a.length;a.forEach(function(a,b){var e=hi(a.getLowValue()),f=hi(Ah(a));e<g&&(g=e);f>h&&(h=f);e=new Oh;e.bucket=a;e.datasetIndex=c;e.quantile=100*b/l;d.push(e)});if(0<a.length){var m=new vh;yh(m,Ah(a[a.length-1]));zh(m,Ah(a[a.length-1]));m.setSampleCount(a[a.length-1].getSampleCount());a=new Oh;a.bucket=m;a.datasetIndex=c;a.quantile=100;d.push(a)}e.addDataset(new Plottable.Dataset(d,{name:b[c]}));f.addDataset(new Plottable.Dataset(d,
{name:b[c]}))});var l=isFinite(g)&&isFinite(h)?h===g?1:(h-g)/10:0,m=[];isFinite(g)&&(m.push(g-l),isFinite(h)&&m.push(h+l));c=this._getScale(c);0<m.length&&c.domain(m);m=this._getScale(!1).domain([-a.length+.5,1]);a=new Plottable.Axes.Numeric(c,"bottom");a.formatter(this._chartAxisScaleFormatter());e.x(function(a){return hi(a.bucket.getLowValue())},c).y(function(a){return-1*a.datasetIndex},m);f.x(function(a){return hi(a.bucket.getLowValue())},c).y(function(a){return-a.datasetIndex},m).size(function(a){return 50===
a.quantile?15:8}).symbol(function(){return Plottable.SymbolFactories.cross()});e.attr("stroke","gray").attr("opacity",this._chartAlpha);f.attr("fill",function(a,b,c){return c.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);m=new Plottable.Components.Group([e,f]);this._renderChart(m,a,null,null,null,function(a){return f.entitiesAt(a)},function(a){return a.quantile+"%: "+ci(hi(a.bucket.getLowValue()),2).toLocaleString()},function(a){return new $h(d.feature,void 0,hi(a.bucket.getLowValue()),
hi(Ah(a.bucket)))},function(a){return a.append("circle").attr("r",3).attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(a,b){return a.attr("cx",b.position.x).attr("cy",b.position.y)})},_renderBarChart:function(a,b,c,d){var e=this,f=fi(a),g=new Plottable.Scales.Linear,h=new Plottable.Scales.Category,l=this._getScale(c);h.domain(f);h=new Plottable.Axes.Category(h,"bottom");var m=new Plottable.Axes.Numeric(l,"left");m.formatter(this._chartAxisScaleFormatter());d&&(a=Li(a));
var n=0;d=a.map(function(a,c){a.forEach(function(a){a=hi(a.getSampleCount());a>n&&(n=a)});var d=new qi;d.name=b[c];d.rawBuckets=a;return d});this._tableData=ti(d,f);var q=new Plottable.Plots.Bar;a.forEach(function(a,c){return q.addDataset(new Plottable.Dataset(a,{name:b[c]}))});q.x(function(a){return f.indexOf(gi(a.getLabel()))},g).y(function(a){return e._getCountWithFloor(a,n,c)},l);q.attr("fill",function(a,b,c){return c.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);
this._renderChart(q,h,m,null,null,function(a){return q.entitiesAt(a)},function(a){return gi(a.getLabel())+": "+hi(a.getSampleCount()).toLocaleString()},function(a){return new $h(e.feature,a.getLabel())},function(a){return a.append("rect").attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(a,b){return a.attr("x",b.position.x-b.selection._groups[0][0].width.baseVal.value/2).attr("y",b.position.y).attr("width",b.selection._groups[0][0].width.baseVal.value).attr("height",
b.selection._groups[0][0].height.baseVal.value)})},_renderCdfChart:function(a,b,c){var d=this,e=b.map(function(a){a=d.dataModel.getFeatureCommonStats(d.feature,a);return null!=a?a.getNumNonMissing()*a.getAvgNumValues():0}),f=fi(a),g={};f.forEach(function(a,b){g[a]=b});var h=(new Plottable.Scales.Linear).domain([0]);c=this._getScale(c).domain([0]);var l=new Plottable.Axes.Numeric(h,"bottom"),m=new Plottable.Axes.Numeric(c,"left"),n=new Plottable.Plots.Line;a=a.map(function(a,c){var d=[],h=[],l=[],
m=-1;a.forEach(function(a){a=new a.constructor(Zf(a.toArray()));l.push(a)});0<c&&l.sort(function(a,b){return g[gi(a.getLabel())]-g[gi(b.getLabel())]});l.forEach(function(a,b){for(var l=g[gi(a.getLabel())],n=m+1;n<l;n++){var p=new Dh;Kf(p,4,f[n],"");Jf(p,1,n);Jf(p,2,n);0===d.length?p.setSampleCount(0):p.setSampleCount(d[d.length-1].getSampleCount());d.push(p);p=new Dh;Kf(p,4,f[n],"");Jf(p,1,n);Jf(p,2,n);p.setSampleCount(0);h.push(p)}m=l;n=a.clone();h.push(n);0===b?a.setSampleCount(hi(a.getSampleCount())/
e[c]):(b=0<l?l-1:b-1,a.setSampleCount(hi(a.getSampleCount())/e[c]+hi(d[b].getSampleCount())));Jf(a,1,l);Jf(a,2,l);d.push(a)});a=new qi;a.name=b[c];a.percBuckets=d;a.rawBuckets=h;return a});this._tableData=si(a);for(var q=0;q<a.length;q++){var p=a[q];n.addDataset(new Plottable.Dataset(p.percBuckets,{name:p.name}))}n.x(function(a){return hi(Y(a,1,0))},h).y(function(a){return hi(a.getSampleCount())},c);n.attr("stroke",function(a,b,c){return c.metadata().name},this.dataModel.getColorScale()).attr("opacity",
this._chartAlpha);this._renderChart(n,l,m,null,null,function(a){return n.entitiesAt(a)},function(a){return gi(a.getLabel())+": "+ci(hi(a.getSampleCount()),4).toLocaleString()},function(a){return new $h(d.feature,a.getLabel())},function(a){return a.append("circle").attr("r",3).attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(a,b){return a.attr("cx",b.position.x).attr("cy",b.position.y)})},_renderChart:function(a,b,c,d,e,f,g,h,l,m){var n=this;if(!this._showTable){var q=
new Plottable.Components.Table([[e,c,a],[null,null,null]]),p=new Plottable.Components.Table([[null,null],[null,b]]);Plottable.RenderController.renderPolicy();var t=d3.select(this.$.chart),r=d3.select(this.$.xaxis),w=d3.select(this.$.tooltip);this.async(function(){t.selectAll(".component").remove();r.selectAll(".component").remove();q.renderTo(n.$.chart);n._selectionElem=l(a.foreground());n._updateSelectionVisibility(n.selection);t.on("mouseenter",function(){n._onPointer=new Plottable.Interactions.Pointer;
n._onPointerEnterFunction=function(a){a=f(a);0<a.length&&(a=a.map(function(a){return null==a.dataset.metadata().name||1===n.dataModel.getDatasetNames().length?g(a.datum):a.dataset.metadata().name+": "+g(a.datum)}).join("\n"),w.text(a),w.style("opacity","1"))};n._onPointer.onPointerMove(n._onPointerEnterFunction);n._onPointerExitFunction=function(){w.style("opacity","0")};n._onPointer.onPointerExit(n._onPointerExitFunction);n._onPointer.attachTo(a);n.chartSelection!==Yh&&(n._onClick=new Plottable.Interactions.Click,
n._onClickFunction=function(a){a=f(a);0<a.length&&(m(n._selectionElem,a[0]),a=h(a[0].datum),n._setSelection(a))},n._onClick.onClick(n._onClickFunction),n._onClick.attachTo(a))}).on("mouseleave",function(){n._onPointer.detachFrom();n._onClick.detachFrom()});null!=c&&p.columnPadding(q.componentAt(1).width()+(q.componentAt(0)?q.componentAt(0).width():0));p.renderTo(n.$.xaxis)})}},_setSelection:function(a){a.equals(this.selection)&&a.clear();this.selection=a;this.fire("feature-select",{selection:a})},
_getBuckets:function(a,b,c){return di(a,b,c)},_getScale:function(a){return a?new Plottable.Scales.ModifiedLog:new Plottable.Scales.Linear},_chartAxisScaleFormatter:function(){var a=Plottable.Formatters.shortScale();return function(b){return 1E3>Math.abs(b)?String(b):a(b)}},_getCountWithFloor:function(a,b,c){a=hi(a.getSampleCount());!c&&0<a&&a/b<this._minBarHeightRatio&&(a=b*this._minBarHeightRatio);return a},_updateSelectionVisibility:function(a){this._selectionElem&&this._selectionElem.style("display",
null==a||a.name!==this.feature?"none":"inline")},_toggleShowTable:function(){this._showTable=!this._showTable},_getChartClass:function(a){return a?"hidechart":"showchart"},_getShowTableButtonText:function(a){return a?"show chart":"show raw data"},_getChartSvgClass:function(a){return a?"chart-big":"chart-small"},_getXAxisSvgClass:function(a){return a?"xaxis-big":"xaxis-small"},_getTableDataClass:function(a){return a?"data-list-big":"data-list-small"},_rowClick:function(a){a=new $h(this.feature,a.currentTarget.dataValue);
this._setSelection(a)},_getEntryRowValue:function(a){return a.value},_getEntryRowClass:function(a,b){var c="dialog-row";null!=b&&b.name===this.feature&&b.stringValue===a.value&&(c+=" selected");return c},_getCountCellClass:function(a){return"dailog-row-entry count-cell"+(a?" weighted-cell":"")}});
</script>


<dom-module id="facets-overview-table">
  <template>
    
    <div class="style-scope facets-overview-table">
      <div class="header-row style-scope facets-overview-table">
        <div class="header-cell table-cell style-scope facets-overview-table">
          <div class="table-name style-scope facets-overview-table"> Features ()
          </div>
          <facets-overview-row-legend class="style-scope facets-overview-table">
          </facets-overview-row-legend>
        </div>
        <div class="table-cell chart-column header-cell style-scope facets-overview-table">
          <div class="control-holder style-scope facets-overview-table">
            <paper-dropdown-menu label="Chart to show" class="style-scope facets-overview-table">
              <paper-listbox class="dropdown-content style-scope facets-overview-table" attr-for-selected="value">
                <template is="dom-repeat" class="style-scope facets-overview-table"></template>
              </paper-listbox>
            </paper-dropdown-menu>
            <div class="checkbox-holder style-scope facets-overview-table">
              <paper-checkbox class="chart-checkbox style-scope facets-overview-table" id="logbox">log</paper-checkbox>
              <paper-checkbox class="chart-checkbox style-scope facets-overview-table" id="expandbox">expand</paper-checkbox>
              <template is="dom-if" class="style-scope facets-overview-table"></template>
              <template is="dom-if" class="style-scope facets-overview-table"></template>
            </div>
          </div>
        </div>
      </div>
      <iron-list as="feature" class="feature-iron-list style-scope facets-overview-table">
        <template class="style-scope facets-overview-table"></template>
      </iron-list>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-table/facets-overview-table.js
Polymer({is:"facets-overview-table",properties:{dataModel:{type:Object,observer:"_handleResize"},features:Array,featureSliceSelection:{type:Object,notify:!0},numeric:{type:Boolean,value:!1},compareMode:{type:Boolean,value:!1},_logScale:{type:Boolean,value:!1},_expandCharts:{type:Boolean,value:!1,observer:"_handleResize"},_showWeighted:{type:Boolean,value:!1},_showPercentage:{type:Boolean,value:!1},_chartSelection:{type:String,value:Wh},_enableLogScale:{type:Boolean,value:!0},_chartSelectionTypes:{type:Array,
computed:"_computeChartSelectionTypes(numeric, dataModel, features)"},_maxHeight:{type:Number,value:800,readOnly:!0},_expandedRowHeight:{type:Number,value:330,readOnly:!0},_rowHeight:{type:Number,value:100,readOnly:!0}},_handleResize:function(){var a=this.$$("iron-list");a&&this._expandedRowHeight&&this._rowHeight&&this._maxHeight&&this.features&&(a.style.height=Math.min((this.features?this.features.length:0)*(this._expandCharts?this._expandedRowHeight:this._rowHeight),this._maxHeight)+"px",a.fire("iron-resize"))},
_computeChartSelectionTypes:function(a,b,c){var d=[Wh];a&&d.push(Xh);if(a=0!==c.length)a:{if(a=this._getChartData(b,c[0]))for(var e=0;e<a.length;e++)if(a[e].histMap[Yh]){a=!0;break a}a=!1}a&&d.push(Yh);b.doesContainFeatureListLengthData()&&d.push(Zh);return d.concat(b.getExtraHistogramNames(c))},attached:function(){var a=this;setTimeout(function(){a._handleResize()},1E3)},_chartSelectionHasQuantiles:function(a){return a===Xh||a===Yh||a===Zh},_getTitle:function(a){return a?"Numeric":"Categorical"},
_getFeatureName:function(a){return a.getName()},_hasCustomStats:function(a){return null==a?!1:a.doesContainCustomStats()},_hasMultipleDatasets:function(a){return null==a?!1:1<a.getDatasetNames().length},_getAllCustomStats:function(a,b){var c=[],d={};bg(a.getDatasetFeatureStatistics()).forEach(function(e){var f=a.getFeatureIndex(e.getName(),b.getName());null!=f&&(e=wg(e.getFeaturesList()[f]))&&e.forEach(function(a){d[a.getName()]||(d[a.getName()]=!0,c.push(a))})});return c},_getDatasets:function(a){return a?
bg(a.getDatasetFeatureStatistics()):null},_getStats:function(a,b,c){return a&&b&&c?a.getFeature(c.getName(),b.getName()):null},_getChartData:function(a,b){return a&&b?a.getDatasetHistogramsForFeature(b.getName()):[]},_getFeatureCountText:function(a,b,c){a=a?a.getNumUniqueFeaturesByType(b):0;c=c.length;return a===c?a.toLocaleString():c.toLocaleString()+"/"+a.toLocaleString()},_hasWeightedHistogram:function(a){return 0===a.length?!1:mi(this._getChartData(this.dataModel,a[0]))},_getChartClass:function(a){var b=
"chart-column ";a||(b+="table-cell ");return b},_getTableWrapperClass:function(a){return a&&0!==a.length?"":"hidden"},_getTableRowClass:function(a){return a?"numeric-row":"categorical-row"}});
</script>





<script>//~~WEBPATH~~/iron-validator-behavior/iron-validator-behavior.html.js
Polymer.IronValidatorBehavior={properties:{validatorType:{type:String,value:"validator"},validatorName:{type:String,value:function(){return this.is}}},ready:function(){new Polymer.IronMeta({type:this.validatorType,key:this.validatorName,value:this})},validate:function(){}};
</script>


<script>//~~WEBPATH~~/facets-overview/components/facets-overview/facets-overview-filter-validator.html.js
Polymer({is:"facets-overview-filter-validator",behaviors:[Polymer.IronValidatorBehavior],validate:function(a){try{return new RegExp(a),!0}catch(b){return!1}}});
</script>


<dom-module id="facets-overview">
  <template>
    
    <template is="dom-if" class="style-scope facets-overview"></template>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview/facets-overview.js
Polymer({is:"facets-overview",properties:{searchString:{type:String,notify:!0},_sortOptions:Array,_reverseOrder:Boolean,_sortOrder:{type:Number,value:0},protoInput:{type:Object,observer:"_update"},featureSliceSelection:{type:Object,notify:!0},compareMode:{type:Boolean,value:!1},_dataModel:{type:Object,value:null},_featureSpecArray:{type:Array,computed:"_getFeatureSpecArray(_dataModel)"},_featureSpecCheckboxes:Array},_getFeatureSpecArray:function(a){if(!a)return[];for(var b=[],c=0;16>c;c++)b.push(!0);
this._featureSpecCheckboxes=b;return a.getNonEmptyFeatureSpecLists()},_getSpecCheckboxText:function(a){return oi(a.spec)+"("+a.features.length+")"},_getSpecCheckboxId:function(a){return String(a.spec)},_featureSpecCheck:function(a){if(a){for(var b=[],c=+a.target.id,d=0;16>d;d++)c===d?b.push(a.target.checked):b.push(this._featureSpecCheckboxes[d]);this._featureSpecCheckboxes=b}},_convertInputToProto:function(a){if(!a||a.constructor===Object&&0===Object.keys(a).length)return null;if(a instanceof Uint8Array)return dg(a);
if("string"===typeof a||a instanceof String){a=atob(a);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return dg(b)}return a.constructor===Object&&"function"===typeof $f.fromObject?$f.fromObject(a):a},_update:function(){var a=this;this.featureSliceSelection=null;var b=this._convertInputToProto(this.protoInput);if(b){var c=new Ni(ki(b));this.set("_sortOptions",[{name:"Feature order",map:{}},{name:"Non-uniformity",map:{}},{name:"Alphabetical",map:{}},{name:"Amount missing/zero",
map:{}}]);var d=bg(c.getDatasetFeatureStatistics()),e=1<d.length;e&&this.push("_sortOptions",{name:"Distribution distance",map:{}});c.getUniqueFeatures().forEach(function(b,g){a._sortOptions[0].map[b.getName()]=g;g=c.getDatasetHistogramsForFeature(b.getName());a._sortOptions[1].map[b.getName()]=g.reduce(function(a,b){b=b.histMap[Wh]?ai(b.histMap[Wh].getBucketsList()):1;return Math.min(a,b)},1);a._sortOptions[2].map[b.getName()]=b.getName();a._sortOptions[3].map[b.getName()]=d.reduce(function(d,e){var f=
a._getStats(c,e,b),g=e=0,h=Ei(f);f&&og(f)&&(f=og(f),e+=hi(Y(f,4,0)));h&&(g=hi(h.getNumMissing()),e+=g,g=hi(h.getNumNonMissing())+g);return Math.min(d,-1*(0===g?1:e/g))},0);e&&(a._sortOptions[4].map[b.getName()]=-1*ii(g))},this);this._dataModel=c}else this._dataModel=null},_getStats:function(a,b,c){return a&&b&&c?a.getFeature(c.getName(),b.getName()):null},_getSortFunction:function(a,b){var c=this._sortOptions[a].map,d=b?-1:1;return function(a,b){a=c[a.getName()];b=c[b.getName()];return"undefined"==
typeof a||"undefined"==typeof b?0:d*(a<b?-1:1)}},_getFilter:function(a){if(a)try{var b=new RegExp(a,"i");return function(a){return b.test(a.getName())}}catch(c){return null}else return null},_getNumericFeatureListItems:function(a,b,c,d,e){return this._getFeatureListItems(a,b,c,d,e,!0)},_getNonNumericFeatureListItems:function(a,b,c,d,e){return this._getFeatureListItems(a,b,c,d,e,!1)},_getFeatureListItems:function(a,b,c,d,e,f){if(!a)return[];var g=this._getFilter(b);b=a.getUniqueFeatures();b=g?b.filter(function(b){return g(b)&&
e[a.getFeatureSpecForFeature(b.getName())]}):b.filter(function(b){return e[a.getFeatureSpecForFeature(b.getName())]});b=b.filter(function(a){return f?null!=og(a):null==og(a)});return b.slice().sort(this._getSortFunction(c,d))},_getControlsWrapperClass:function(a){return!a||1>=a.getUniqueFeatures().length?"hidden":""},_getDatasetName:function(a,b){return a.getDatasetNames()[b]},_getLegendBoxStyle:function(a,b){return"background-color:"+a.getChartColorString(b)},_getDatasets:function(a){return a?bg(a.getDatasetFeatureStatistics()):
null},_hasMultipleDatasets:function(a){return null==a?!1:1<a.getDatasetNames().length},getStatsProto:function(a){return Hh(a)}});
</script>














<dom-module id="vz-example-viewer">
  <template>
    
    
    <div class="outer style-scope vz-example-viewer">
      <template is="dom-if" class="style-scope vz-example-viewer"></template>
      <div class="feature-name bold feature-name-header style-scope vz-example-viewer">
        <div class="feature-name-header-text style-scope vz-example-viewer">Feature name</div>
        <div class="value-pills-holder flex-controls value-header-text style-scope vz-example-viewer">
          <div class="style-scope vz-example-viewer">Selected datapoint</div>
          <div class="box yellow style-scope vz-example-viewer"></div>
        </div>
        <template is="dom-if" class="style-scope vz-example-viewer"></template>
        <div class="space-for-more-button style-scope vz-example-viewer"></div>
      </div>
      <template is="dom-repeat" as="feat" class="style-scope vz-example-viewer"></template>
      <template is="dom-if" class="style-scope vz-example-viewer"></template>
      <paper-icon-button icon="add" title="Add feature" class="style-scope vz-example-viewer">
      
      <paper-card class="style-scope vz-example-viewer">
        <div class="saliency-legend-label style-scope vz-example-viewer">Saliency legend</div>
        <div class="flex-controls style-scope vz-example-viewer">
          <svg id="saliencyLegend" class="style-scope vz-example-viewer"></svg>
          <paper-checkbox id="salCheckbox" checked="" class="style-scope vz-example-viewer">
            Show saliency
          </paper-checkbox>
        </div>
        <div class="flex-controls style-scope vz-example-viewer">
          <div class="slider-label style-scope vz-example-viewer">Saliency cutoff %</div>
          <paper-slider class="slider style-scope vz-example-viewer" editable="true">
          </paper-slider>
        </div>
      </paper-card>
    </paper-icon-button></div>
    <paper-icon-button id="deletevalue" icon="delete" title="Delete value" class="style-scope vz-example-viewer">
    </paper-icon-button>
    <paper-dialog id="addFeatureDialog" class="style-scope vz-example-viewer">
      <h2 class="style-scope vz-example-viewer">Add Feature</h2>
      <paper-input label="Feature name" class="style-scope vz-example-viewer"></paper-input>
      <paper-radio-group class="style-scope vz-example-viewer">
        <paper-radio-button name="int" class="style-scope vz-example-viewer">Int</paper-radio-button>
        <paper-radio-button name="float" class="style-scope vz-example-viewer">Float</paper-radio-button>
        <paper-radio-button name="bytes" class="style-scope vz-example-viewer">Bytes</paper-radio-button>
      </paper-radio-group>
      <paper-button dialog-dismiss="" class="control-button style-scope vz-example-viewer">
        Create
      </paper-button>
    </paper-dialog>
  </template>
  <script>//~~WEBPATH~~bazel-out/k8-fastbuild/bin/external/org_tensorflow/tensorflow/core/example_protos.js
function Oi(a){vf(this,a,Pi,null)}qa(Oi,sf);var Pi=[1];k=Oi.prototype;k.toObject=function(a){return Qi(a,this)};function Qi(a,b){var c=b.getValueList();Gf(c);c={valueList:!c.length||oa(c[0])?c:ge(c,Df)};a&&(c.$jspbMessageInstance=b);return c}function Ri(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=b.readBytes();a.addValue(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;Si(this,a);return hf(a)};
function Si(a,b){a=Ff(a.getValueList());if(0<a.length&&null!=a)for(var c=0;c<a.length;c++)b.writeBytes(1,a[c])}k.getValueList=function(){return Bf(this,1)};k.setValueList=function(a){If(this,1,a||[])};k.addValue=function(a,b){Mf(this,a,b)};k.clearValueList=function(){this.setValueList([])};function Ti(a){vf(this,a,Ui,null)}qa(Ti,sf);var Ui=[1];k=Ti.prototype;k.toObject=function(a){return Vi(a,this)};function Vi(a,b){var c={valueList:Cf(b)};a&&(c.$jspbMessageInstance=b);return c}
function Wi(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=Qe(b,b.decoder_.readFloat);a.setValueList(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;Xi(this,a);return hf(a)};function Xi(a,b){a=a.getValueList();if(0<a.length&&null!=a&&a.length){X(b,1,2);Te(b.encoder_,4*a.length);for(var c=0;c<a.length;c++)b.encoder_.writeFloat(a[c])}}k.getValueList=function(){return Cf(this)};k.setValueList=function(a){If(this,1,a||[])};k.addValue=function(a,b){Mf(this,a,b)};
k.clearValueList=function(){this.setValueList([])};function Yi(a){vf(this,a,Zi,null)}qa(Yi,sf);var Zi=[1];k=Yi.prototype;k.toObject=function(a){return $i(a,this)};function $i(a,b){var c={valueList:Bf(b,1)};a&&(c.$jspbMessageInstance=b);return c}function aj(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=Qe(b,b.decoder_.readSignedVarint64);a.setValueList(c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;bj(this,a);return hf(a)};
function bj(a,b){a=a.getValueList();if(0<a.length&&null!=a&&a.length){for(var c=ff(b,1),d=0;d<a.length;d++){var e=b.encoder_;ve(a[d]);Se(e,se,te)}gf(b,c)}}k.getValueList=function(){return Bf(this,1)};k.setValueList=function(a){If(this,1,a||[])};k.addValue=function(a,b){Mf(this,a,b)};k.clearValueList=function(){this.setValueList([])};function cj(a){vf(this,a,null,dj)}qa(cj,sf);var dj=[[1,2,3]];k=cj.prototype;k.getKindCase=function(){return yf(this,dj[0])};k.toObject=function(a){return ej(a,this)};
function ej(a,b){var c,d={bytesList:(c=fj(b))&&Qi(a,c),floatList:(c=gj(b))&&Vi(a,c),int64List:(c=hj(b))&&$i(a,c)};a&&(d.$jspbMessageInstance=b);return d}function ij(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=new Oi;b.readMessage(c,Ri);Vf(a,1,dj[0],c);break;case 2:c=new Ti;b.readMessage(c,Wi);Vf(a,2,dj[0],c);break;case 3:c=new Yi;b.readMessage(c,aj);Vf(a,3,dj[0],c);break;default:Pe(b)}return a}k.serializeBinary=function(){var a=new df;jj(this,a);return hf(a)};
function jj(a,b){var c=fj(a);null!=c&&b.writeMessage(1,c,Si);c=gj(a);null!=c&&b.writeMessage(2,c,Xi);c=hj(a);null!=c&&b.writeMessage(3,c,bj)}function fj(a){return Z(a,Oi,1)}k.clearBytesList=function(){Vf(this,1,dj[0],void 0)};function gj(a){return Z(a,Ti,2)}k.clearFloatList=function(){Vf(this,2,dj[0],void 0)};k.hasFloatList=function(){return null!=Af(this,2)};function hj(a){return Z(a,Yi,3)}k.clearInt64List=function(){Vf(this,3,dj[0],void 0)};k.hasInt64List=function(){return null!=Af(this,3)};
function kj(a){vf(this,a,null,null)}qa(kj,sf);kj.prototype.toObject=function(a){return lj(a,this)};function lj(a,b){var c,d={featureMap:(c=mj(b))?c.toObject(a,ej):[]};a&&(d.$jspbMessageInstance=b);return d}function nj(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=mj(a);b.readMessage(c,function(a,b){rf(a,b,ij)});break;default:Pe(b)}return a}kj.prototype.serializeBinary=function(){var a=new df;oj(this,a);return hf(a)};
function oj(a,b){(a=mj(a,!0))&&0<a.getLength()&&a.serializeBinary(1,b,df.prototype.writeString,df.prototype.writeMessage,jj)}function mj(a,b){return Hf(a,b,cj)}kj.prototype.clearFeatureMap=function(){mj(this).clear()};function pj(a){vf(this,a,qj,null)}qa(pj,sf);var qj=[1];pj.prototype.toObject=function(a){return rj(a,this)};function rj(a,b){var c={featureList:zf(sj(b),ej,a)};a&&(c.$jspbMessageInstance=b);return c}
function tj(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=new cj;b.readMessage(c,ij);a.addFeature(c);break;default:Pe(b)}return a}pj.prototype.serializeBinary=function(){var a=new df;uj(this,a);return hf(a)};function uj(a,b){a=sj(a);0<a.length&&lf(b,1,a,jj)}function sj(a){return Of(a,cj,1)}pj.prototype.addFeature=function(a,b){return Xf(this,1,a,cj,b)};pj.prototype.clearFeatureList=function(){Wf(this,1,[])};function vj(a){vf(this,a,null,null)}qa(vj,sf);
vj.prototype.toObject=function(a){return wj(a,this)};function wj(a,b){var c,d={featureListMap:(c=Hf(b,void 0,pj))?c.toObject(a,rj):[]};a&&(d.$jspbMessageInstance=b);return d}function xj(a,b){for(;Oe(b)&&!Ne(b);)switch(b.nextField_){case 1:var c=Hf(a,void 0,pj);b.readMessage(c,function(a,b){rf(a,b,tj)});break;default:Pe(b)}return a}vj.prototype.serializeBinary=function(){var a=new df;yj(this,a);return hf(a)};
function yj(a,b){(a=Hf(a,!0,pj))&&0<a.getLength()&&a.serializeBinary(1,b,df.prototype.writeString,df.prototype.writeMessage,uj)}vj.prototype.clearFeatureListMap=function(){Hf(this,void 0,pj).clear()};function zj(a){vf(this,a,null,null)}qa(zj,sf);zj.prototype.toObject=function(a){var b,c={features:(b=this.getFeatures())&&lj(a,b)};a&&(c.$jspbMessageInstance=this);return c};
function Aj(a){a=new Le(a);for(var b=new zj;Oe(a)&&!Ne(a);)switch(a.nextField_){case 1:var c=new kj;a.readMessage(c,nj);Uf(b,1,c);break;default:Pe(a)}return b}zj.prototype.serializeBinary=function(){var a=new df;var b=this.getFeatures();null!=b&&a.writeMessage(1,b,oj);return hf(a)};zj.prototype.getFeatures=function(){return Z(this,kj,1)};zj.prototype.clearFeatures=function(){Uf(this,1,void 0)};function Bj(a){vf(this,a,null,null)}qa(Bj,sf);k=Bj.prototype;
k.toObject=function(a){var b,c={context:(b=this.getContext())&&lj(a,b),featureLists:(b=Z(this,vj,2))&&wj(a,b)};a&&(c.$jspbMessageInstance=this);return c};function Cj(a){a=new Le(a);for(var b=new Bj;Oe(a)&&!Ne(a);)switch(a.nextField_){case 1:var c=new kj;a.readMessage(c,nj);Uf(b,1,c);break;case 2:c=new vj;a.readMessage(c,xj);Uf(b,2,c);break;default:Pe(a)}return b}
k.serializeBinary=function(){var a=new df;var b=this.getContext();null!=b&&a.writeMessage(1,b,oj);b=Z(this,vj,2);null!=b&&a.writeMessage(2,b,yj);return hf(a)};k.getContext=function(){return Z(this,kj,1)};k.clearContext=function(){Uf(this,1,void 0)};k.clearFeatureLists=function(){Uf(this,2,void 0)};k.hasFeatureLists=function(){return null!=Af(this,2)};
//~~WEBPATH~~/vz-example-viewer/vz-example-viewer.js
var Dj;
(function(){var a=d3.interpolateRgb,b=/^image\/([^\/]+\/)*encoded$/,c=[1,20];Polymer({is:"vz-example-viewer",properties:{example:{type:Object},serializedExample:{type:String,observer:"updateExample"},serializedSeqExample:{type:String,observer:"updateSeqExample"},json:{type:Object,observer:"createExamplesFromJson"},saliency:{type:Object,value:{}},saliencyJsonString:{type:String,observer:"haveSaliencyJson"},readonly:{type:Boolean,value:!1},seqNumber:{type:Number,value:0,observer:"newSeqNum"},isSequence:Boolean,
changeCallbackTimer:Number,ignoreChange:Boolean,minSal:{type:Number,value:0},maxSal:{type:Number,value:0},showSaliency:{type:Boolean,value:!1},imageInfo:{type:Object,value:{}},windowWidth:{type:Number,value:256},windowCenter:{type:Number,value:128},saliencyCutoff:{type:Number,value:0},hasImage:{type:Boolean,value:!0},allowImageControls:{type:Boolean,value:!1},imageScalePercentage:{type:Number,value:100},features:{type:Object,computed:"getFeatures(example)"},featuresList:{type:Object,computed:"getFeaturesList(features, compareFeatures)"},
seqFeatures:{type:Object,computed:"getSeqFeatures(example)"},seqFeaturesList:{type:Object,computed:"getFeaturesList(seqFeatures, compareSeqFeatures)"},maxSeqNumber:{type:Number,computed:"getMaxSeqNumber(seqFeaturesList)"},colors:{type:Object,computed:"getColors(saliency)",observer:"createLegend"},displayMode:{type:String,value:"grid"},featureSearchValue:{type:String,value:"",notify:!0},filteredFeaturesList:{type:Object,computed:"getFilteredFeaturesList(featuresList, featureSearchValue)"},filteredSeqFeaturesList:{type:Object,
computed:"getFilteredFeaturesList(seqFeaturesList, featureSearchValue)"},focusedFeatureName:String,focusedFeatureValueIndex:Number,focusedSeqNumber:Number,showDeleteValueButton:{type:Boolean,value:!1},expandedFeatures:{type:Object,value:{}},expandPillClass:{type:String,value:"expandPill"},expandAllFeatures:{type:Boolean,value:!1},zeroIndex:{type:Number,value:0},compareJson:{type:Object,observer:"createCompareExamplesFromJson"},compareExample:{type:Object},compareFeatures:{type:Object,computed:"getFeatures(compareExample)",
observer:"updateCompareMode"},compareSeqFeatures:{type:Object,computed:"getSeqFeatures(compareExample)",observer:"updateCompareMode"},compareMode:Boolean,compareImageInfo:{type:Object,value:{}},compareTitle:String},observers:["haveSaliency(featuresList, saliency, colors, showSaliency, saliencyCutoff)","seqSaliency(seqNumber, seqFeaturesList, saliency, colors, showSaliency, saliencyCutoff)"],isExpanded:function(a){return this.expandAllFeatures||this.sanitizeFeature(a)in this.expandedFeatures},updateExample:function(){this.deserializeExample(this.serializedExample,
Aj)},updateSeqExample:function(){this.deserializeExample(this.serializedSeqExample,Cj)},stringToUint8Array:function(a){return(new window.TextEncoder).encode(a)},deserializeExample:function(a,b){this.ignoreChange||(a=this.decodedStringToCharCodes(atob(a)),this.example=b(a))},getFeatures:function(a){this.imageInfo={};this.hasImage=!1;if(null==a)return new Map([]);if(a instanceof zj){this.isSequence=!1;if(null==Af(a,1)){var b=new kj;Uf(a,1,b)}return mj(a.getFeatures())}this.isSequence=!0;null==Af(a,
1)&&(b=new kj,Uf(a,1,b));return mj(a.getContext())},getFeaturesList:function(a,b){var c=[],d={},e=a.keys();if(e)for(var l=e.next();!l.done;)c.push({name:l.value,feature:a.get(l.value)}),d[l.value]=!0,l=e.next();if(e=b.keys())for(l=e.next();!l.done;)l.value in d||(c.push({name:l.value,feature:b.get(l.value)}),d[l.value]=!0),l=e.next();return c},getSeqFeatures:function(a){null==a||a instanceof zj?a=new Map([]):(a=Z(this.example,vj,2),a=Hf(a,void 0,pj));return a},getFilteredFeaturesList:function(a,b){var c=
this,d=a;if(""!=b){var e=new RegExp(b,"i");d=a.filter(function(a){return e.test(a.name)})}return d.sort(function(a,b){return c.isImage(a.name)&&!c.isImage(b.name)?-1:c.isImage(b.name)&&!c.isImage(a.name)?1:a.name.localeCompare(b.name)})},getMaxSeqNumber:function(){for(var a=-1,b=0,c=this.seqFeaturesList;b<c.length;b++){var g=c[b].feature;g&&sj(g).length-1>a&&(a=sj(g).length-1)}return a},haveSaliencyJson:function(){this.saliency=JSON.parse(this.saliencyJsonString)},getColors:function(){var b=this.getMinMaxSaliency(this.saliency);
this.minSal=b[0];this.maxSal=b[1];return d3.scaleLinear().domain([this.minSal,0,this.maxSal]).interpolate(a).clamp(!0).range(["#f00","#d3d3d3","#0f0"])},haveSaliency:function(){var a=this;if(this.featuresList&&this.saliency&&0!==Object.keys(this.saliency).length&&this.colors)if(d3.selectAll(".value input").size()<this.featuresList.length-Object.keys(this.imageInfo).length)requestAnimationFrame(function(){return a.haveSaliency()});else{d3.selectAll(".value-pill").style("background","lightgrey");for(var b=
function(b){var d=c.saliency[b.name];if(!d)return"continue";var e=Array.isArray(d)?function(b,c){return a.getColorForSaliency(d[c])}:function(){return a.getColorForSaliency(d)};d3.selectAll("."+c.sanitizeFeature(b.name)+".value-pill").style("background",c.showSaliency?e:function(){return"lightgrey"})},c=this,g=0,h=this.featuresList;g<h.length;g++)b(h[g])}},newSeqNum:function(){this.seqSaliency()},seqSaliency:function(){var a=this;if(this.seqFeaturesList&&this.saliency&&0!==Object.keys(this.saliency).length&&
this.colors)if(d3.selectAll(".value input").size()<this.seqFeaturesList.length)requestAnimationFrame(function(){return a.seqSaliency()});else for(var b=function(b){var d=c.saliency[b.name];if(!d)return"continue";var e=d[c.seqNumber];d=Array.isArray(e)?function(b,c){return a.getColorForSaliency(e[c])}:function(){return a.getColorForSaliency(e)};d3.selectAll("."+c.sanitizeFeature(b.name)+" input").style("color",c.showSaliency?d:function(){return"black"})},c=this,g=0,h=this.seqFeaturesList;g<h.length;g++)b(h[g])},
getMinMaxSaliency:function(a){function b(a){if(Array.isArray(a))for(var e=0;e<a.length;e++)b(a[e]);else a<c&&(c=a),a>d&&(d=a)}var c=Infinity,d=-Infinity,h;for(h in a)a.hasOwnProperty(h)&&b(a[h]);c=.95*Math.min(0,c);d=.95*Math.max(0,d);return[c,d]},getFeatureValues:function(a,b,c,g){var d=this;return(a=g?this.compareFeatures.get(a):this.features.get(a))?fj(a)?b?fj(a).getValueList().slice():Ff(fj(a).getValueList()).map(function(a){return d.decodeBytesListString(a,c)}):hj(a)?hj(a).getValueList().slice():
gj(a)?gj(a).getValueList().slice():[]:[]},getCompareFeatureValues:function(a,b,c){return this.getFeatureValues(a,b,c,!0)},getFirstFeatureValue:function(a){return this.getFeatureValues(a)[0]},getFirstCompareFeatureValue:function(a){return this.getCompareFeatureValues(a)[0]},featureHasMultipleValues:function(a){return 1<this.getFeatureValues(a).length},compareFeatureHasMultipleValues:function(a){return 1<this.getCompareFeatureValues(a).length},getSeqFeatureValues:function(a,b,c,g,h){var d=this;a=h?
this.compareSeqFeatures.get(a):this.seqFeatures.get(a);if(!a)return[];a=sj(a);return!a||a.length<=b?[]:(b=a[b])?fj(b)?c?fj(b).getValueList():Ff(fj(b).getValueList()).map(function(a){return d.decodeBytesListString(a,g)}):hj(b)?hj(b).getValueList():gj(b)?gj(b).getValueList():[]:[]},getCompareSeqFeatureValues:function(a,b,c,g){return this.getSeqFeatureValues(a,b,c,g,!0)},getFirstSeqFeatureValue:function(a,b){return this.getSeqFeatureValues(a,b)[0]},getFirstSeqCompareFeatureValue:function(a,b){return this.getCompareSeqFeatureValues(a,
b)[0]},seqFeatureHasMultipleValues:function(a,b){return 1<this.getSeqFeatureValues(a,b).length},compareSeqFeatureHasMultipleValues:function(a,b){return 1<this.getCompareSeqFeatureValues(a,b).length},decodeBytesListString:function(a,b){return 32768E3<a.length?"String too large to display":b?this.decodeBytesListToString(a):(new window.TextDecoder).decode(a)},isBytesFeature:function(a){var b=this.features.get(a);return b&&null!=Af(b,1)?!0:(a=this.seqFeatures.get(a))&&null!=Af(sj(a)[0],1)?!0:!1},getInputType:function(a){var b=
this.features.get(a);return b&&(hj(b)||gj(b))?"number":(a=this.seqFeatures.get(a))&&(hj(sj(a)[0])||gj(sj(a)[0]))?"number":"text"},getJsonFeature:function(a){if(!this.json)return null;if(this.json.features&&this.json.features.feature){var b=this.json.features.feature[a];if(b)return b}return this.json.context&&this.json.context.feature&&(b=this.json.context.feature[a])?b:this.json.featureLists&&this.json.featureLists.featureList?this.json.featureLists.featureList[a]:null},getJsonValueList:function(a,
b){a=this.getJsonFeature(a);if(!a)return null;isNaN(b)||(a=a.feature[b]);return(b=a.bytesList||a.int64List||a.floatList)?b.value:null},getDataFromEvent:function(a){for(a=a.target;null==a.dataFeature;){if(!a.parentElement)throw Error("Could not find ancestor control element");a=a.parentElement}return{feature:a.dataFeature,valueIndex:a.dataIndex,seqNum:a.dataSeqNum}},getFeatureFromData:function(a){if(isNaN(a.seqNum))return this.features.get(a.feature);var b=this.seqFeatures.get(a.feature);if(b)return(b=
sj(b))?b[a.seqNum]:void 0},getValueListFromData:function(a){return isNaN(a.seqNum)?this.getFeatureValues(a.feature,!0):this.getSeqFeatureValues(a.feature,a.seqNum,!0)},setFeatureValues:function(a,b){var c=fj(a),d=hj(a);a=gj(a);c?c.setValueList(b):d?d.setValueList(b):a&&a.setValueList(b)},onValueChanged:function(a){var b=a.target;a=this.getDataFromEvent(a);var c=this.getFeatureFromData(a),d=this.getValueListFromData(a);if(c){if(this.isBytesFeature(a.feature)){var h=this.stringToUint8Array(b.value);
d[a.valueIndex]=h;(h=this.getJsonValueList(a.feature,a.seqNum))&&(h[a.valueIndex]=btoa(b.value))}else d[a.valueIndex]=+b.value,(h=this.getJsonValueList(a.feature,a.seqNum))&&(h[a.valueIndex]=+b.value);this.setFeatureValues(c,d);this.exampleChanged()}},onInputFocus:function(a){var b=a.target;a=this.getDataFromEvent(a);this.focusedFeatureName=a.feature;this.focusedFeatureValueIndex=a.valueIndex;this.focusedSeqNumber=a.seqNum;this.$.deletevalue.style.top=b.getBoundingClientRect().top-this.getBoundingClientRect().top-
25+"px";this.$.deletevalue.style.right=this.getBoundingClientRect().right-b.getBoundingClientRect().right+30+"px";this.showDeleteValueButton=!0},onInputBlur:function(){this.showDeleteValueButton=!1},deleteFeature:function(a){a=this.getDataFromEvent(a);this.features.del&&this.features.del(a.feature);this.seqFeatures.del&&this.seqFeatures.del(a.feature);this.deleteJsonFeature(a.feature);this.exampleChanged();this.refreshExampleViewer()},deleteJsonFeature:function(a){this.json&&(this.json.features&&
this.json.features.feature&&delete this.json.features.feature[a],this.json.context&&this.json.context.feature&&delete this.json.context.feature[a],this.json.featureLists&&this.json.featureLists.featureList&&delete this.json.featureLists.featureList[a])},deleteValue:function(a){a=this.getDataFromEvent(a);var b=this.getFeatureFromData(a),c=this.getValueListFromData(a);if(b){if(this.isBytesFeature(a.feature)){var d=this.getJsonValueList(a.feature,a.seqNum);d&&d.splice(a.valueIndex,1)}c.splice(a.valueIndex,
1);this.setFeatureValues(b,c);this.exampleChanged();this.refreshExampleViewer()}},openAddFeatureDialog:function(){this.$.addFeatureDialog.open()},addFeature:function(){if(this.json){var a=new cj;if("int"===this.newFeatureType){var b=[];var c=new Ti;c.setValueList(b);Vf(a,3,dj[0],c);b={int64List:{value:b}}}else"float"===this.newFeatureType?(b=[],c=new Ti,c.setValueList(b),Vf(a,2,dj[0],c),b={floatList:{value:b}}):(b=[],c=new Oi,c.setValueList(b),Vf(a,1,dj[0],c),b={bytesList:{value:b}});this.features.set(this.newFeatureName,
a);this.addJsonFeature(this.newFeatureName,b);this.newFeatureName="";this.exampleChanged();this.refreshExampleViewer()}},addJsonFeature:function(a,b){this.json&&this.json.features&&this.json.features.feature?this.json.features.feature[a]=b:this.json&&this.json.context&&this.json.context.feature&&(this.json.context.feature[a]=b)},addValue:function(a){a=this.getDataFromEvent(a);var b=this.getFeatureFromData(a),c=this.getValueListFromData(a);b&&(this.isBytesFeature(a.feature)?c.push(""):c.push(0),this.setFeatureValues(b,
c),this.exampleChanged(),this.refreshExampleViewer())},refreshExampleViewer:function(){var a=this,b=this.example;this.ignoreChange=!0;this.example=new zj;this.ignoreChange=!1;setTimeout(function(){a.example=b},0)},exampleChanged:function(){this.fire("example-change",{example:this.example});clearTimeout(this.changeCallbackTimer);this.changeCallbackTimer=setTimeout(this.changeCallback.bind(this),1E3)},changeCallback:function(){this.ignoreChange=!0;this.isSequence&&this.serializedSeqExample?this.serializedSeqExample=
btoa(this.decodeBytesListString(this.example.serializeBinary(),!0)):this.serializedExample&&(this.serializedExample=btoa(this.decodeBytesListString(this.example.serializeBinary(),!0)));this.ignoreChange=!1},getInputPillClass:function(a,b){return this.sanitizeFeature(a)+" value-pill"+("grid"==b?" value-pill-grid":" value-pill-stacked")},getCompareInputClass:function(a,b,c){b="value-compare"+("grid"==b?" value-pill-grid":" value-pill-stacked");if(null!=c){var d=this.getFeatureValues(a,!0);a=this.getCompareFeatureValues(a,
!0);b=c>=d.length||c>=a.length||d[c]!=a[c]?b+" value-different":b+" value-same"}return b},getSeqCompareInputClass:function(a,b,c,g){b="value-compare"+("grid"==b?" value-pill-grid":" value-pill-stacked");if(null!=g){var d=this.getSeqFeatureValues(a,c,!0);a=this.getCompareSeqFeatureValues(a,c,!0);b=g>=d.length||g>=a.length||d[g]!=a[g]?b+" value-different":b+" value-same"}return b},sanitizeFeature:function(a){var b=a;a.match(/^[A-Za-z].*$/)||(b="_"+a);return b.replace(/[\/\.#]/g,"_")},isSeqExample:function(a){return 0<=
a},shouldShowSaliencyLegend:function(a){return a&&0<Object.keys(a).length},getSaliencyControlsHolderClass:function(a){return this.shouldShowSaliencyLegend(a)?"saliency-controls-holder":"hide-saliency-controls"},createLegend:function(){d3.select(this.$.saliencyLegend).selectAll("*").remove();var a=d3.select(this.$.saliencyLegend).append("g"),b=a.append("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%").attr("spreadMethod","pad"),
c=[];0>this.minSal&&c.push("#f00");c.push("#d3d3d3");0<this.maxSal&&c.push("#0f0");var g=function(a,b,c){for(var d=[],e=(b-a)/(c-1),f=0;f<c-1;)d.push(a+f*e),f++;d.push(b);return d}(0,100,c.length).map(function(a){return Math.round(a)+"%"});d3.zip(g,c).forEach(function(a){b.append("stop").attr("offset",a[0]).attr("stop-color",a[1]).attr("stop-opacity",1)});a.append("rect").attr("x1",0).attr("y1",0).attr("width",260).attr("height",20).style("fill","url(#gradient)");c=d3.scaleLinear().domain([this.minSal,
this.maxSal]).range([0,260]);c=d3.axisBottom(c);a.append("g").attr("class","legend axis").attr("transform","translate(0,20)").call(c)},isImage:function(a){return b.test(a)},getImageSrc:function(a){this.setupOnloadCallback(a);return this.getImageSrcForData(a,this.getFeatureValues(a,!1,!0)[0])},getCompareImageSrc:function(a){this.setupOnloadCallback(a,!0);return this.getImageSrcForData(a,this.getCompareFeatureValues(a,!1,!0)[0],!0)},getSeqImageSrc:function(a,b){this.setupOnloadCallback(a);return this.getImageSrcForData(a,
this.getSeqFeatureValues(a,b,!1,!0)[0])},getCompareSeqImageSrc:function(a,b){this.setupOnloadCallback(a,!0);return this.getImageSrcForData(a,this.getCompareSeqFeatureValues(a,b,!1,!0)[0],!0)},setupOnloadCallback:function(a,b){var c=this;requestAnimationFrame(function(){var d=c.$$("#"+c.getImageId(a,b));d.onload=c.getOnLoadForImage(a,d,b)})},getImageSrcForData:function(a,c,f){a=b.exec(a);if(null==a)return null;a=a[1]||"";f=f?this.getCompareFeatureValues("image"+a+"/format",!1):this.getFeatureValues("image"+
a+"/format",!1);a="jpeg";0<f.length&&(a=f[0].toLowerCase());return"data:image/"+a+";base64,"+btoa(decodeURIComponent(encodeURIComponent(c)))},getIterLength:function(a){var b=0;if(a)for(var c=a.next();!c.done;)b++,c=a.next();return b},updateCompareMode:function(){var a=!1;if(this.compareFeatures&&0<this.getIterLength(this.compareFeatures.keys())||this.compareSeqFeatures&&0<this.getIterLength(this.compareSeqFeatures.keys()))a=!0;this.compareMode=a},createExamplesFromJson:function(a){this.example=this.createExamplesFromJsonHelper(a);
this.compareJson={}},createCompareExamplesFromJson:function(a){a&&(this.compareExample=this.createExamplesFromJsonHelper(a))},createExamplesFromJsonHelper:function(a){if(!a)return null;"string"===typeof this.json&&(a=JSON.parse(this.json));if(a.features){var b=new zj;a=this.parseFeatures(a.features);Uf(b,1,a);return b}if(a.context||a.featureLists){b=new Bj;if(a.context){var c=this.parseFeatures(a.context);Uf(b,1,c)}a.featureLists&&(a=this.parseFeatureLists(a.featureLists),Uf(b,2,a));return b}return new zj},
parseFeatures:function(a){var b=new kj,c;for(c in a.feature)if(a.feature.hasOwnProperty(c)){var d=a.feature[c];mj(b).set(c,this.parseFeature(d,this.isImage(c)))}return b},parseFeatureLists:function(a){var b=new vj,c;for(c in a.featureList)if(a.featureList.hasOwnProperty(c)){var d=a.featureList[c],h=new pj,l=[],m;for(m in d.feature)d.feature.hasOwnProperty(m)&&l.push(this.parseFeature(d.feature[m],this.isImage(c)));Wf(h,1,l);Hf(b,void 0,pj).set(c,h)}return b},parseFeature:function(a){var b=new cj;
if(a.floatList){var c=new Ti;c.setValueList(a.floatList.value);Vf(b,2,dj[0],c)}else a.bytesList?(c=new Oi,a.bytesList.value&&c.setValueList(a.bytesList.value),Vf(b,1,dj[0],c)):a.int64List&&(c=new Yi,c.setValueList(a.int64List.value),Vf(b,3,dj[0],c));return b},getImageId:function(a,b){return b?this.getCompareImageId(a):this.sanitizeFeature(a)+"_image"},getCanvasId:function(a,b){return b?this.getCompareCanvasId(a):this.sanitizeFeature(a)+"_canvas"},getImageCardId:function(a,b){return b?this.getCompareImageCardId(a):
this.sanitizeFeature(a)+"_card"},getCompareImageId:function(a){return this.sanitizeFeature(a)+"_image_compare"},getCompareCanvasId:function(a){return this.sanitizeFeature(a)+"_canvas_compare"},getCompareImageCardId:function(a){return this.sanitizeFeature(a)+"_card_compare"},getFeatureDialogId:function(a){return this.sanitizeFeature(a)+"_dialog"},featureMoreClicked:function(a){a=a.srcElement.parentElement;var b=this.$$("#"+this.sanitizeFeature(a.dataFeature)+"_dialog");b.positionTarget=a;b.open()},
expandFeature:function(a){this.set("expandedFeatures."+this.sanitizeFeature(a.srcElement.dataFeature),!0);this.refreshExampleViewer()},decodedStringToCharCodes:function(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b},handleImageUpload:function(a){this.handleFileSelect(a,this)},uploadImageClicked:function(a){a=this.getDataFromEvent(a);for(var b=Polymer.dom(this.root).querySelectorAll("paper-input"),c=null,d=0;d<b.length;d++)if(b[d].dataFeature==a.feature){c=
b[d];break}c&&c.querySelector("input").click()},handleFileSelect:function(a,c){a.stopPropagation();a.preventDefault();var d=new FileReader,e=a.dataTransfer?a.dataTransfer.files:a.target.files;0!==e.length&&(d.addEventListener("load",function(){var e=d.result.substring(+d.result.indexOf("base64,")+7),f=c.decodedStringToCharCodes(atob(e)),g=c.getDataFromEvent(a),n=c.getFeatureFromData(g),q=c.getValueListFromData(g);if(n){q[0]=f;fj(n).setValueList(q);(f=c.getJsonValueList(g.feature,g.seqNum))&&(f[0]=
e);var p=new Image;c.addImageElement(g.feature,p);p.addEventListener("load",function(){c.getOnLoadForImage(g.feature,p);var a=b.exec(g.feature)[1]||"",d="image"+a+"/width";a="image"+a+"/height";var e=c.getFeatureValues(d,!1),f=c.getFeatureValues(a,!1);0<e.length&&(e[0]=+p.width,hj(c.features.get(d)).setValueList(e));0<f.length&&(f[0]=+p.height,hj(c.features.get(a)).setValueList(f));c.exampleChanged()});p.src=d.result}},!1),d.readAsDataURL(e[0]))},addDragDropBehaviorToCanvas:function(a){function b(a){a.stopPropagation();
a.preventDefault();a.dataTransfer.dropEffect="copy"}function c(a){d.handleFileSelect(a,d)}var d=this;!this.readonly&&a&&(a.addEventListener("dragover",b,!1),a.addEventListener("drop",c,!1))},getOnLoadForImage:function(a,b,f){function d(a,b,f){var g=e.$$("#"+e.getCanvasId(a,f));f||e.addDragDropBehaviorToCanvas(g);if(b&&g){var h=g.getContext("2d"),l=e.imageScalePercentage/100;if(!e.allowImageControls){var m=e.$$("#"+e.getImageCardId(a,f)).parentElement.getBoundingClientRect().width/2;16<m&&(m-=16);
m<b.width&&(l=m/b.width)}g.width=b.width*l;g.height=b.height*l;var n=function(b){h.save();h.clearRect(0,0,g.width,g.height);h.translate(b.x,b.y);h.scale(b.k,b.k);e.renderImageOnCanvas(h,g.width,g.height,a,f);h.restore()},v=d3.zoom().scaleExtent(c).on("zoom",function(){e.addImageTransform(a,d3.event.transform,f);n(d3.event.transform)});d3.select(g).call(v).on("dblclick.zoom",function(){return d3.select(g).call(v.transform,d3.zoomIdentity)});h.save();h.scale(l,l);h.drawImage(b,0,0);h.restore();e.setImageDatum(h,
g.width,g.height,a,f);e.renderImageOnCanvas(h,g.width,g.height,a,f);f?e.compareImageInfo[a].transform&&n(e.compareImageInfo[a].transform):e.imageInfo[a].transform&&n(e.imageInfo[a].transform)}else requestAnimationFrame(function(){return d(a,b,f)})}var e=this;this.addImageElement(a,b,f);this.addImageOnLoad(a,d,f);return d.apply(this,[a,b,f])},addImageOnLoad:function(a,b,c){this.hasImage=!0;c?(this.compareImageInfo[a]||(this.compareImageInfo[a]={}),this.compareImageInfo[a].onload=b):(this.imageInfo[a]||
(this.imageInfo[a]={}),this.imageInfo[a].onload=b)},addImageData:function(a,b,c){c?(this.compareImageInfo[a]||(this.compareImageInfo[a]={}),this.compareImageInfo[a].imageData=b):(this.imageInfo[a]||(this.imageInfo[a]={}),this.imageInfo[a].imageData=b)},addImageElement:function(a,b,c){c?(this.compareImageInfo[a]||(this.compareImageInfo[a]={}),this.compareImageInfo[a].imageElement=b):(this.imageInfo[a]||(this.imageInfo[a]={}),this.imageInfo[a].imageElement=b)},addImageGrayscaleData:function(a,b){this.imageInfo[a]||
(this.imageInfo[a]={});this.imageInfo[a].imageGrayscaleData=b},addImageTransform:function(a,b,c){c?(this.compareImageInfo[a]||(this.compareImageInfo[a]={}),this.compareImageInfo[a].transform=b):(this.imageInfo[a]||(this.imageInfo[a]={}),this.imageInfo[a].transform=b)},setImageDatum:function(a,b,c,g,h){if(b&&c&&(a=a.getImageData(0,0,b,c),a=Uint8ClampedArray.from(a.data),this.addImageData(g,a,h),this.saliency&&this.showSaliency&&this.saliency[g]&&!h)){h=Uint8ClampedArray.from(a);for(b=0;b<a.length;b+=
4)c=(a[b]+a[b+1]+a[b+2])/3,h[b]=c,h[b+1]=c,h[b+2]=c;this.addImageGrayscaleData(g,h)}},contrastImage:function(a,b,c){b=d3.scaleLinear().domain([c-.5-b/2,c-.5+(b-1)/2]).clamp(!0).range([0,255]);for(c=0;c<a.length;c++)3!==c%4&&(a[c]=b(a[c]))},showSaliencyForValue:function(a){return Math.abs(a)>=Math.abs(0<=a?this.maxSal:this.minSal)*this.saliencyCutoff/100},getColorForSaliency:function(a){return this.showSaliencyForValue(a)?this.colors(a):"#d3d3d3"},addSaliencyToImage:function(a,b){Array.isArray(b)&&
0<b.length&&Array.isArray(b[0])&&(b=b[this.seqNumber]);for(var c=1/Math.pow(this.imageScalePercentage/100,2),d=0;d<a.length;d+=4){var e=Math.floor(d/4*c);var l=Array.isArray(b)?b.length>e?b[e]:0:b;e=.5*(this.showSaliencyForValue(l)?0<=l?0===this.maxSal?0:l/this.maxSal:l/this.minSal:0);l=d3.rgb(0<l?"#0f0":"#f00");var m=l.g,n=l.b;a[d]=a[d]*(1-e)+l.r*e;a[d+1]=a[d+1]*(1-e)+m*e;a[d+2]=a[d+2]*(1-e)+n*e}},renderImageOnCanvas:function(a,b,c,g,h){if(b&&c){var d=a.getImageData(0,0,b,c);h?d.data.set(this.compareImageInfo[g].imageData):
d.data.set(this.saliency&&this.showSaliency&&this.saliency[g]?this.imageInfo[g].imageGrayscaleData:this.imageInfo[g].imageData);256===this.windowWidth&&128===this.windowCenter||this.contrastImage(d.data,this.windowWidth,this.windowCenter);!h&&this.saliency&&this.showSaliency&&this.saliency[g]&&this.addSaliencyToImage(d.data,this.saliency[g]);g=document.createElement("canvas");g.width=b;g.height=c;g.getContext("2d").putImageData(d,0,0);a.clearRect(0,0,b,c);a.drawImage(g,0,0)}},showSalCheckboxChange:function(){this.showSaliency=
this.$.salCheckbox.checked},updateImages:function(){for(var a in this.imageInfo)if(this.imageInfo.hasOwnProperty(a))this.imageInfo[a].onload(a,this.imageInfo[a].imageElement)},shouldShowImageControls:function(a,b){return a&&b},shouldEnableAddFeature:function(a){return 0<a.length},getDeleteValueButtonClass:function(a,b){return a||!b?"delete-value-button delete-value-button-hidden":"delete-value-button"},getDeleteFeatureButtonClass:function(a){return a?"hide-controls":"delete-feature-button"},getAddValueButtonClass:function(a){return a?
"hide-controls":"add-value-button"},getAddFeatureButtonClass:function(a){return a?"hide-controls":"add-feature-button"},getUploadImageClass:function(a){return a?"hide-controls":"upload-image-button"},decodeBytesListToString:function(a){var b="",c;for(c=0;c<a.length/16384;c++)b+=String.fromCharCode.apply(null,a.slice(16384*c,16384*(c+1)));return b+=String.fromCharCode.apply(null,a.slice(16384*c))}})})(Dj||(Dj={}));
</script>
</dom-module>



<dom-module id="tf-interactive-inference-dashboard">
  <template>
    
    
    <paper-dialog id="inferencesettings" class="inference-settings style-scope tf-interactive-inference-dashboard" opened="true" with-backdrop="">
      <tf-inference-panel class="style-scope tf-interactive-inference-dashboard">
      </tf-inference-panel>
      <div class="accept-button-holder style-scope tf-interactive-inference-dashboard">
        <paper-button class="main-button style-scope tf-interactive-inference-dashboard">
          Accept
        </paper-button>
        <paper-button dialog-dismiss="" class="control-button style-scope tf-interactive-inference-dashboard">Cancel</paper-button>
      </div>
    </paper-dialog>
    <paper-dialog id="deletedialog" modal="" class="style-scope tf-interactive-inference-dashboard">
      <p class="style-scope tf-interactive-inference-dashboard">Are you sure you want to delete the selected example?
      </p><div class="buttons style-scope tf-interactive-inference-dashboard">
        <paper-button dialog-dismiss="" class="control-button style-scope tf-interactive-inference-dashboard">Cancel</paper-button>
        <paper-button dialog-confirm="" autofocus="" class="main-button style-scope tf-interactive-inference-dashboard">Delete</paper-button>
      </div>
    </paper-dialog>
    <paper-dialog id="distancedialog" modal="" class="style-scope tf-interactive-inference-dashboard">
      <h2 class="style-scope tf-interactive-inference-dashboard">Create a distance feature</h2>
      <paper-input label="Enter feature name" class="datapoint-control-filter-input style-scope tf-interactive-inference-dashboard">
      </paper-input>
      <div class="radiolabel style-scope tf-interactive-inference-dashboard">Distance type</div>
      <paper-radio-group class="dist-switch style-scope tf-interactive-inference-dashboard">
        <paper-radio-button class="dist-radio style-scope tf-interactive-inference-dashboard" name="L1">L1</paper-radio-button>
        <paper-radio-button class="dist-radio style-scope tf-interactive-inference-dashboard" name="L2">L2</paper-radio-button>
      </paper-radio-group>
      <paper-dropdown-menu label="Apply to visualization" class="threshold-dropdown distance-vis-dropdown style-scope tf-interactive-inference-dashboard">
        <paper-listbox class="dropdown-content style-scope tf-interactive-inference-dashboard" attr-for-selected="name">
          <paper-item name="colorBy" class="style-scope tf-interactive-inference-dashboard">Color By</paper-item>
          <paper-item name="horizontalFacet" class="style-scope tf-interactive-inference-dashboard">X-Axis Binning</paper-item>
          <paper-item name="verticalFacet" class="style-scope tf-interactive-inference-dashboard">Y-Axis Binning</paper-item>
          <paper-item name="horizontalPosition" class="style-scope tf-interactive-inference-dashboard">X-Axis Scatter</paper-item>
          <paper-item name="verticalPosition" class="style-scope tf-interactive-inference-dashboard">Y-Axis Scatter</paper-item>
        </paper-listbox>
      </paper-dropdown-menu>
      <div class="buttons style-scope tf-interactive-inference-dashboard">
        <paper-button dialog-dismiss="" class="control-button style-scope tf-interactive-inference-dashboard">Cancel</paper-button>
        <paper-button dialog-confirm="" autofocus="" class="main-button style-scope tf-interactive-inference-dashboard">Apply</paper-button>
      </div>
    </paper-dialog>
    <div class="dashboard-layout style-scope tf-interactive-inference-dashboard">
      <div class="main-vertical style-scope tf-interactive-inference-dashboard">
        <div class="main-bottom-bar style-scope tf-interactive-inference-dashboard">
          <div class="datapoint-left-controls-holder style-scope tf-interactive-inference-dashboard">
            <div title="Select a datapoint to use this feature" class="style-scope tf-interactive-inference-dashboard">
              <paper-button class="control-button style-scope tf-interactive-inference-dashboard" alt="show partial dependence plots" title="Select a datapoint to use this feature">
                  Partial dependence plots
              </paper-button>
            </div>
            <div title="Select a datapoint to use this feature" class="style-scope tf-interactive-inference-dashboard">
              <paper-button class="control-button style-scope tf-interactive-inference-dashboard" alt="create distance feature" title="Select a datapoint to use this feature">
                  Compute distance
              </paper-button>
            </div>
            <template is="dom-if" class="style-scope tf-interactive-inference-dashboard"></template>
          </div>
          <div class="datapoint-right-controls-holder style-scope tf-interactive-inference-dashboard">
            <a target="_blank" href="https://github.com/tensorflow/tensorboard/tree/master/tensorboard/plugins/interactive_inference/README.md" class="style-scope tf-interactive-inference-dashboard">
              <paper-icon-button icon="help-outline" class="settings-button style-scope tf-interactive-inference-dashboard" title="What-If Tool documentation"></paper-icon-button>
            </a>
            <paper-icon-button icon="settings" class="settings-button style-scope tf-interactive-inference-dashboard" title="What-If Tool settings"></paper-icon-button>
            <div class="example-status style-scope tf-interactive-inference-dashboard"> </div>
          </div>
        </div>
        <div class="main-content style-scope tf-interactive-inference-dashboard">
          <div class="side-holder style-scope tf-interactive-inference-dashboard" id="side">
            <div class="side-content style-scope tf-interactive-inference-dashboard">
              <paper-tabs class="tabs style-scope tf-interactive-inference-dashboard">
                <paper-tab class="style-scope tf-interactive-inference-dashboard">Datapoint Editor</paper-tab>
                <paper-tab class="style-scope tf-interactive-inference-dashboard"> </paper-tab>
                <paper-tab class="style-scope tf-interactive-inference-dashboard">Features</paper-tab>
              </paper-tabs>
              <iron-pages class="side-tabs style-scope tf-interactive-inference-dashboard">
              <div class="datapoint-tab style-scope tf-interactive-inference-dashboard">
                <template is="dom-if" class="style-scope tf-interactive-inference-dashboard"></template>
                  <template is="dom-if" class="style-scope tf-interactive-inference-dashboard"></template>
                </div>
                <div class="config-tab style-scope tf-interactive-inference-dashboard">
                  <div class="heading-and-card style-scope tf-interactive-inference-dashboard">
                    <button class="heading style-scope tf-interactive-inference-dashboard">Set Ground Truth
                      <div class="right-side right-side-performance-tab style-scope tf-interactive-inference-dashboard">
                        <iron-icon class="expand-collapse-button style-scope tf-interactive-inference-dashboard"></iron-icon>
                      </div>
                    </button>
                    <iron-collapse class="card style-scope tf-interactive-inference-dashboard" id="collapsetruelabel">
                      <template is="dom-if" class="style-scope tf-interactive-inference-dashboard"></template>
                    </iron-collapse>
                  </div>

                  <div class="heading-and-card style-scope tf-interactive-inference-dashboard">
                    <button class="heading style-scope tf-interactive-inference-dashboard">
                      <div class="right-side right-side-performance-tab style-scope tf-interactive-inference-dashboard">
                        <iron-icon class="expand-collapse-button style-scope tf-interactive-inference-dashboard"></iron-icon>
                      </div>
                    </button>
                    <iron-collapse class="card style-scope tf-interactive-inference-dashboard" id="collapseexplorer">
                      <template is="dom-if" class="style-scope tf-interactive-inference-dashboard"></template>
                    </iron-collapse>
                  </div>

                  <div class="heading-and-card style-scope tf-interactive-inference-dashboard">
                    <button class="heading style-scope tf-interactive-inference-dashboard">Explore Performance
                      <div class="right-side right-side-performance-tab style-scope tf-interactive-inference-dashboard">
                        <iron-icon class="expand-collapse-button style-scope tf-interactive-inference-dashboard"></iron-icon>
                      </div>
                    </button>
                    <iron-collapse class="no-padding-card style-scope tf-interactive-inference-dashboard" id="collapseperformance">
                      <template is="dom-if" class="style-scope tf-interactive-inference-dashboard"></template>
                      <template is="dom-if" class="style-scope tf-interactive-inference-dashboard"></template>
                      <template is="dom-if" class="style-scope tf-interactive-inference-dashboard"></template>
                    </iron-collapse>
                  </div>
                </div>
                <div class="stats-tab style-scope tf-interactive-inference-dashboard">
                  <facets-overview id="overview" class="style-scope tf-interactive-inference-dashboard"></facets-overview>
                </div>
              </iron-pages>
            </div>
            <div class="resizer style-scope tf-interactive-inference-dashboard" id="resizer">
              <iron-icon icon="av:pause" class="resize-icon style-scope tf-interactive-inference-dashboard"></iron-icon>
            </div>
          </div>
          <div class="center style-scope tf-interactive-inference-dashboard" id="center">
            <facets-dive id="dive" hide-info-card="true" sprite-image-width="32" sprite-image-height="32" fit-grid-aspect-ratio-to-viewport="true" stable-colors="true" class="style-scope tf-interactive-inference-dashboard">
            </facets-dive>
            <div id="noexamples" class="noexamples info-text style-scope tf-interactive-inference-dashboard">
              Examples and their inference results will be displayed here.
            </div>
            <paper-spinner-lite id="spinner" active="" class="style-scope tf-interactive-inference-dashboard" hidden=""></paper-spinner-lite>
            <div class="feature-container-holder style-scope tf-interactive-inference-dashboard" id="partialplotholder">
              <div class="flex style-scope tf-interactive-inference-dashboard">
                <paper-icon-button icon="arrow-back" class="pd-arrow-icon style-scope tf-interactive-inference-dashboard" title="Close partial dependence plots"></paper-icon-button>
                <div class="pd-info-text style-scope tf-interactive-inference-dashboard">Partial Dependence Plots</div>
                <paper-icon-button icon="info-outline" class="info-icon pd-info-icon no-padding style-scope tf-interactive-inference-dashboard">
                </paper-icon-button>
                <paper-dialog class="dialog-text style-scope tf-interactive-inference-dashboard" horizontal-align="auto" vertical-align="auto">
                  <div class="dialog-title style-scope tf-interactive-inference-dashboard">Partial Dependence Plots</div>
                  <div class="style-scope tf-interactive-inference-dashboard">Partial dependence plots visualize the change in inference results for every feature,
                    as the value for that feature is changed to different valid values.
                  </div>
                  <div class="style-scope tf-interactive-inference-dashboard">For numeric features, you can set the minimum and maximum values to plot.</div>
                  <div class="style-scope tf-interactive-inference-dashboard">For string features, the most popular feature values are shown as alternatives to
                    the feature value for the selected example.
                  </div>
                  <div class="style-scope tf-interactive-inference-dashboard">For features with multiple feature values per example, a single plot is shown for for
                    each feature value in the selected example. You can override which feature values have
                    plots created for them by specifying the indices to shown partial dependence plots for,
                    if the example contains multiple feature values for a feature.
                  </div>
                </paper-dialog>
              </div>
              <template is="dom-repeat" class="style-scope tf-interactive-inference-dashboard"></template>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </template>

  <script>//~~WEBPATH~~/tf-interactive-inference-dashboard/tf-interactive-inference-dashboard.html.js
function Ej(a){a&&a.parentElement&&a.parentElement.removeChild(a)}
Polymer({is:"tf-interactive-inference-dashboard",properties:{requestManager:{type:Object,value:function(){return new u.RequestManager}},_canceller:{type:Object,value:function(){return new u.Canceller}},examplesPath:{type:String},modelName:{type:String},inferenceAddress:{type:String},modelType:{type:String},modelSignature:{type:String},modelVersion:{type:String},maxExamples:{type:Number},labelVocabPath:{type:String},maxInferenceEntriesPerRun:Number,inferences:{type:Object,observer:"newInferences_",
value:function(){return{}}},examplesAndInferences:{type:Array,value:function(){return[]},observer:"computeSelectedExampleAndInference"},selectedExampleAndInference:{type:Object},counterfactualExampleAndInference:{type:Object},visdata:{type:Array,value:function(){return[]}},selected:{type:Array,value:function(){return[]},observer:"computeSelectedExampleAndInference"},comparedIndices:{type:Array,value:function(){return[]}},labelVocab:{type:Array,value:function(){return[]}},updatedExample:{type:Boolean,
value:!1},imageFeatureName:{type:String,value:"image/encoded",readonly:!0},stats:Object,selectedBreakdownFeature:{type:String,value:"",observer:"breakdownFeatureSelected_"},selectedSecondBreakdownFeature:{type:String,value:"",observer:"breakdownFeatureSelected_"},selectedLabelFeature:{type:String,value:"",observer:"labelFeatureSelected_"},inferenceStats_:{type:Object,value:function(){return{}}},featureValueThresholds:Array,featureValueThresholdsMap:Object,defaultInferenceLabel:{type:Number,value:0,
observer:"refreshInferences_"},overallThreshold:{type:Number,value:.5,observer:"refreshInferencesNoRegen_"},sideTabSelected:{type:Number,value:0,observer:"sideTabSelectedChanged_"},local:Boolean,localAtlasUrl:String,partialDepPlotEligibleFeatures:{type:Array,value:function(){return[]},observer:"partialDepPlotEligibleFeaturesSet"},partialDepPlotPendingFeatures:{type:Array,value:function(){return[]}},exampleDisplayMode:{type:String,value:"grid"},panelExpanded:{type:Boolean,value:!1},featureSearchValue:String,
incorrectPredCostRatio:{type:Number,value:1},multiClass:{type:Boolean,value:!1},axisPrecision:{type:Number,value:2},distanceStats_:{type:Object},facetDistSwitch:{type:String,value:"L1"},facetDistFeatureName:{type:String},facetDistFeatureNames:{type:Array,value:function(){return[]}},facetDistSetting:{type:String,value:"colorBy"},exampleStatusStr:{type:String,value:"No examples loaded yet"},selectedExampleNum:{type:Number,observer:"selectedExampleInputChanged_"},selectedExampleMax:Number,openedPerformance:{type:Boolean,
value:!0},openedTrueLabel:{type:Boolean,value:!0},openedExplorer:{type:Boolean,value:!0},openedInferenceResults:{type:Boolean,value:!0},openedSecondInferenceResults:{type:Boolean,value:!0},regressionEntries_:{type:Array},neighborByL2:{type:Boolean,value:!1},compareTitle:String},observers:["setFacetDistFeatureName(facetDistSwitch, selected)"],reload:function(){},openDialog:function(a){a.target.parentElement.parentElement.querySelector("paper-dialog").open()},ready:function(){var a=this,b=d3.select(this.$.side),
c=d3.select(this.$.center),d=d3.select(this.$.resizer),e=this,f=d3.drag().on("drag",function(){var d=d3.mouse(a.parentNode.parentNode)[0]/a.parentNode.parentNode.offsetWidth*100;d=Math.max(d,20);c.style("width",100-d+"%");b.style("width",d+"%");e.panelExpanded=60<d;e.$.dive.$.vis._updateGridFaceting();e.$.dive.$.vis._onIronResize()});d.call(f)},settingsClicked_:function(){this.$.inferencesettings.toggle()},onTabSelect_:function(){this.hidePartialDependencePlots_()},showDistanceClicked_:function(){this.$.distancedialog.toggle()},
addDistanceMetric:function(){this.facetDistFeatureNames.push(this.facetDistFeatureName);for(var a=this.selected[0],b="L2"==this.facetDistSwitch,c=0;c<this.visdata.length;c++){var d=this.getDist(this.visdata[a],this.visdata[c],b);this.visdata[c][this.facetDistFeatureName]=d}this.refreshDive_();"colorBy"==this.facetDistSetting?this.$.dive.colorBy=this.facetDistFeatureName:"verticalFacet"==this.facetDistSetting?this.$.dive.verticalFacet=this.facetDistFeatureName:"horizontalFacet"==this.facetDistSetting?
this.$.dive.horizontalFacet=this.facetDistFeatureName:"verticalPosition"==this.facetDistSetting?this.$.dive.verticalPosition=this.facetDistFeatureName:"horizontalPosition"==this.facetDistSetting&&(this.$.dive.horizontalPosition=this.facetDistFeatureName)},setFacetDistFeatureName:function(a,b){this.facetDistFeatureName=" "+a+" distance to example "+b[0]},findClosestCounterfactualL1_:function(){this.findClosestCounterfactual_(!1)},findClosestCounterfactualL2_:function(){this.findClosestCounterfactual_(!0)},
findClosestCounterfactual_:function(a){this.neighborByL2=a;for(var b=this.selected[0],c=Number.POSITIVE_INFINITY,d=-1,e=0;e<this.visdata.length;e++)if(this.visdata[b][" Inference value"]!=this.visdata[e][" Inference value"]){var f=this.getDist(this.visdata[b],this.visdata[e],a);f<c&&(c=f,d=e)}-1!=d&&(this.comparedIndices=[d],this.counterfactualExampleAndInference=this.examplesAndInferences[d],this.compareTitle=(a?"L2":"L1")+" counterfactual")},getDist:function(a,b,c){for(var d=0,e=[].concat(na(new Set([].concat(na(Object.keys(a)),
na(Object.keys(b)))))),f=0;f<e.length;f++){var g=e[f];if(!this.isComputedKeyStr_(g)&&g!=this.selectedLabelFeature&&this.stats[g].uniqueCount!=this.examplesAndInferences.length){var h=a[g],l=b[g];Array.isArray(h)||(h=[h]);Array.isArray(l)||(l=[l]);for(var m=Math.max(h.length,l.length),n=0,q=0;q<m;q++)n=null!=this.distanceStats_[g].stdDev?n+this.getNumericDist(h[q],l[q],this.distanceStats_[g]):n+this.getCategoricalDist(h[q],l[q],this.distanceStats_[g]);g=n/m;c&&(g*=g);d+=g}}return d},getNumericDist:function(a,
b,c){return null==a||null==b?1:c.stdDev?Math.abs((a-b)/c.stdDev):0},getCategoricalDist:function(a,b,c){return null==a||null==b?1:a==b?0:c.probSameValue},hidePartialDependencePlots_:function(){this.$.partialplotholder.style.display="none"},showPartialDependencePlots_:function(){var a=this;this.$.partialplotholder.style.display="block";requestAnimationFrame(function(){return a.populatePdTabs()})},selectedIndicesChanged_:function(a){this.comparedIndices=[];this.selected=a.detail.value;this.selectedDataUpdated_();
0<this.selected.length&&(this.sideTabSelected=0)},selectNextDatapoint_:function(){this.$.dive.selectedIndices=[(this.selected[0]+1)%this.visdata.length]},selectPrevDatapoint_:function(){this.$.dive.selectedIndices=[((this.selected[0]-1)%this.visdata.length+this.visdata.length)%this.visdata.length]},selectedExampleInputChanged_:function(a){null!=a&&""!=a&&(a=+a,isNaN(a)||0>a||a>=this.visdata.length||(this.$.dive.selectedIndices=[a]))},setExampleStackedMode_:function(){this.exampleDisplayMode="stacked"},
setExampleGridMode_:function(){this.exampleDisplayMode="grid"},setExampleCollapsed_:function(){this.$$("#viewer").expandedFeatures={};this.$$("#viewer").expandAllFeatures=!1;this.$$("#viewer").refreshExampleViewer()},setExampleExpanded_:function(){this.$$("#viewer").expandAllFeatures=!0},getStackedButtonClass:function(a){return"stacked"==a?"on-switch-button":"off-switch-button"},getGridButtonClass:function(a){return"grid"==a?"on-switch-button":"off-switch-button"},statsChanged_:function(a){this.stats=
a.detail.value},getExampleAndInferenceHolderClass_:function(a){return a?"example-and-inference-holder-expanded":"example-and-inference-holder"},getExampleHolderClass_:function(a){return a?"example-holder-expanded":"example-holder"},getInferenceSectionHolderClass_:function(a){return a?"inference-section-holder-expanded":"inference-section-holder"},isBinaryClassification_:function(a,b){return"classification"==a&&!b},isMultiClass_:function(a,b){return"classification"==a&&b},isRegression_:function(a){return"regression"==
a},shouldShowFeatureDropdown_:function(a){return a&&0<Object.keys(a).length},shouldShowSecondFeatureDropdown_:function(a){return""!=a},shouldShowLabelDropdown_:function(a){return a&&0<Object.keys(a).length},shouldShowOverallPrChart_:function(a,b,c){return""!=a&&""==b&&null!=c},shouldShowFeaturePrCharts_:function(a,b,c){return""!=a&&""!=b&&null!=c},shouldShowCostRatio_:function(a,b,c){return""!=a&&this.isBinaryClassification_(b,c)},hasSelected:function(a){return null!=a},getFeatureList_:function(a){var b=
this;a=Object.keys(a).filter(function(a){return!b.isComputedKeyStr_(a)}).sort();a.push("");return a},isComputedKeyStr_:function(a){return" Inference value"==a||" Inference label"==a||" Inference correct"==a||" Inference error"==a||" Inference score"==a||" Inference absolute error"==a||" Inference squared error"==a||" Example ID"==a||-1!=this.facetDistFeatureNames.indexOf(a)},breakdownFeatureSelected_:function(){var a=this.selectedBreakdownFeature;""==a&&(this.selectedSecondBreakdownFeature="");var b=
this.selectedSecondBreakdownFeature,c=[],d={};if(0!==a.length){var e=this.stats[a].valueHash;this.stats[a].totalCount!=this.examplesAndInferences.length&&(e=Object.assign({},e,{undefined:""}));var f={undefined:""};0!=b.length&&(f=this.stats[b].valueHash,this.stats[b].totalCount!=this.examplesAndInferences.length&&(f=Object.assign({},f,{undefined:""})));for(var g in e)if(e.hasOwnProperty(g))for(var h in f)if(f.hasOwnProperty(h)){var l="undefined"==g?void 0:this.stats[a].valueHash[g].value,m="undefined"==
h?void 0:this.stats[b].valueHash[h].value,n={value:l,value2:m,threshold:this.overallThreshold};c.push(n);d[this.createCombinedValueString_(l,m)]=n}}this.featureValueThresholds=c;this.featureValueThresholdsMap=d;this.refreshInferences_(!1)},labelFeatureSelected_:function(){var a=this;requestAnimationFrame(function(){a.updateInferenceStats_(!0);a.refreshDive_()})},sideTabSelectedChanged_:function(a){var b=this;1==a&&requestAnimationFrame(function(){b.updateInferenceStats_(!0)})},updateInferenceStats_:function(a){var b=
this;if(this.inferenceStats_&&this.visdata&&""!=this.selectedLabelFeature){if(a){var c={};if(this.isBinaryClassification_(this.modelType,this.multiClass)){c.thresholds=[];for(var d=0;101>d;d++)c.thresholds.push({TP:0,FP:0,FN:0,TN:0});c.faceted={};for(d=0;d<this.examplesAndInferences.length;d++){var e=this.visdata[d],f=null;if(""!=this.selectedBreakdownFeature){var g=this.createCombinedValueString_(e[this.selectedBreakdownFeature],e[this.selectedSecondBreakdownFeature]);f=c.faceted[g];if(!f){c.faceted[g]=
[];for(f=0;101>f;f++)c.faceted[g].push({TP:0,FP:0,FN:0,TN:0});f=c.faceted[g]}}g=this.getClassificationBestNonZero(d);for(var h=0;100>=h&&!(h>100*g.score);h++)+e[this.selectedLabelFeature]==+g.label?(c.thresholds[h].TP+=1,f&&(f[h].TP+=1)):(c.thresholds[h].FP+=1,f&&(f[h].FP+=1));for(;100>=h;h++)0==+e[this.selectedLabelFeature]?(c.thresholds[h].TN+=1,f&&(f[h].TN+=1)):(c.thresholds[h].FN+=1,f&&(f[h].FN+=1))}this.calcThresholdStats(c.thresholds);for(var l in c.faceted)c.faceted.hasOwnProperty(l)&&this.calcThresholdStats(c.faceted[l])}else if(this.isMultiClass_(this.modelType,
this.multiClass))for(c.results={},c.faceted={},l=0;l<this.examplesAndInferences.length;l++)d=this.visdata[l],e=null,""!=this.selectedBreakdownFeature&&(f=this.createCombinedValueString_(d[this.selectedBreakdownFeature],d[this.selectedSecondBreakdownFeature]),e=c.faceted[f],e||(c.faceted[f]={},e=c.faceted[f])),f=c.results[d[this.selectedLabelFeature]],f||(c.results[d[this.selectedLabelFeature]]={},f=c.results[d[this.selectedLabelFeature]]),f[d[" Inference value"]]=null==f[d[" Inference value"]]?1:
f[d[" Inference value"]]+1,e&&(f=e[d[this.selectedLabelFeature]],f||(e[d[this.selectedLabelFeature]]={},f=e[d[this.selectedLabelFeature]]),f[d[" Inference value"]]=null==f[d[" Inference value"]]?1:f[d[" Inference value"]]+1);else{c.results={errors:[]};c.faceted={};for(l=0;l<this.examplesAndInferences.length;l++)f=this.visdata[l],e=null,""!=this.selectedBreakdownFeature&&(g=this.createCombinedValueString_(f[this.selectedBreakdownFeature],f[this.selectedSecondBreakdownFeature]),e=c.faceted[g],e||(c.faceted[g]=
{errors:[]},e=c.faceted[g])),f=f[" Inference value"]-f[this.selectedLabelFeature],c.results.errors.push(f),e&&e.errors.push(f);l=[];l.push(this.fillInRegressionStats(c.results,"Total"));for(d in c.faceted)l.push(this.fillInRegressionStats(c.faceted[d],d));l.sort(function(a,b){return b.count-a.count});this.regressionEntries_=[];this.regressionEntries_=l}this.inferenceStats_=c}c=this.featureValueThresholds;this.featureValueThresholds=[];c.sort(function(a,c){return b.isRegression_(b.modelType)?b.getRegressionCount(b.inferenceStats_,
c)-b.getRegressionCount(b.inferenceStats_,a):b.isBinaryClassification_(b.modelType,b.multiClass)?b.getBinaryClassificationCount(b.inferenceStats_,c)-b.getBinaryClassificationCount(b.inferenceStats_,a):b.getMulticlassClassificationCount(b.inferenceStats_,c)-b.getMulticlassClassificationCount(b.inferenceStats_,a)});this.featureValueThresholds=c;this.plotPr(this.$$("#prchart"),this.inferenceStats_.thresholds,this.overallThreshold,a);for(c=0;c<this.featureValueThresholds.length;c++)l=this.createCombinedValueString_(this.featureValueThresholds[c].value,
this.featureValueThresholds[c].value2),this.plotPr(this.$$("#"+this.getPrChartId(c)),this.inferenceStats_.faceted[l],this.featureValueThresholds[c].threshold,a);this.updateCorrectness_()}},fillInRegressionStats:function(a,b){function c(a){return a.reduce(function(a,b){return a+b},0)/a.length}var d=a.errors.map(function(a){return Math.abs(a)}),e=a.errors.map(function(a){return a*a});return{name:b,meanError:c(a.errors),meanAbsError:c(d),meanSquaredError:c(e),count:a.errors.length}},plotPr:function(a,
b,c,d){if(b&&a){var e=null;b=b.map(function(a,b){.5>b-100*c&&(e={step:a.FPR,scalar:a.TPR,threshold:b/100});return{step:a.FPR,scalar:a.TPR,threshold:b/100}}).reverse();if(d){a.setVisibleSeries(["ROC","Threshold set"]);a.setSeriesData("ROC",b);var f=d3.format(".2f");a.xAxisFormatter=d3.format(".2f");var g=d3.format(",.1%");a.tooltipColumns=[{title:"Threshold",evaluate:function(a){return f(a.datum.threshold)}},{title:"TPR",evaluate:function(a){return g(a.datum.scalar)}},{title:"FPR",evaluate:function(a){return g(a.datum.step)}}]}a.setSeriesData("Threshold set",
[e])}},calcThresholdStats:function(a){for(var b=0;b<a.length;b++)a[b].TPR=0<a[b].TP+a[b].FN?a[b].TP/(a[b].TP+a[b].FN):0,a[b].FPR=0<a[b].FP+a[b].TN?a[b].FP/(a[b].FP+a[b].TN):0},forceUpdateFeatureValueThresholds_:function(){var a=this.featureValueThresholds;this.featureValueThresholds=[];this.featureValueThresholds=a},optimizeThresholdClicked_:function(){var a=this.findOptimalThreshold_(this.inferenceStats_.thresholds);this.overallThreshold=a;if(this.featureValueThresholds)for(var b=0;b<this.featureValueThresholds.length;b++)this.set("featureValueThresholds."+
b+".threshold",a);this.forceUpdateFeatureValueThresholds_()},optimizeFacetedThresholdsClicked_:function(){for(var a=Object.keys(this.inferenceStats_.faceted),b=0;b<a.length;b++)this.set("featureValueThresholds."+b+".threshold",this.findOptimalThreshold_(this.inferenceStats_.faceted[a[b]]));this.forceUpdateFeatureValueThresholds_()},findOptimalThreshold_:function(a){for(var b=Number.POSITIVE_INFINITY,c=0,d=0;d<a.length;d++){var e=this.getCost(a[d]);e<=b&&(b=e,c=d)}return c/100},equalOppoClicked_:function(){this.getBestThresholdsByFairnessMeasure_(function(a){return a.TP/
(a.TP+a.FN)})},equalAccClicked_:function(){this.getBestThresholdsByFairnessMeasure_(function(a){return(a.TP+a.TN)/(a.TP+a.FP+a.TN+a.FN)})},demoParityClicked_:function(){this.getBestThresholdsByFairnessMeasure_(function(a){return(a.TP+a.FP)/(a.TP+a.FP+a.TN+a.FN)})},getBestThresholdsByFairnessMeasure_:function(a){for(var b=Number.POSITIVE_INFINITY,c=null,d=Object.keys(this.inferenceStats_.faceted),e=this.inferenceStats_.faceted[d[0]],f=0;f<e.length;f++){for(var g=a(e[f]),h=[f],l=this.getCost(e[f]),
m=1;m<d.length;m++){var n=this.inferenceStats_.faceted[d[m]],q=this.thresholdClosestToMeasure(n,g,a);h.push(q);l+=this.getCost(n[q])}l<=b&&(b=l,c=h)}for(a=0;a<this.featureValueThresholds.length;a++){for(e=b=0;e<d.length;e++)if(this.getPrintableValue_(this.featureValueThresholds[a])==d[e]){b=e;break}this.set("featureValueThresholds."+a+".threshold",c[b]/100)}this.forceUpdateFeatureValueThresholds_()},getCost:function(a){return a.FP*this.incorrectPredCostRatio+a.FN},thresholdClosestToMeasure:function(a,
b,c){for(var d=Number.POSITIVE_INFINITY,e=0,f=0;f<a.length;f++){var g=c(a[f]);g=Math.abs(g-b);g<=d&&(e=f,d=g)}return e},getClassificationBestNonZero:function(a){for(var b=0,c=this.examplesAndInferences[a].inferences.length-1,d=0;d<this.examplesAndInferences[a].inferences[c].length;d++)if(0!==+this.examplesAndInferences[a].inferences[c][d].label){b=d;break}return this.examplesAndInferences[a].inferences[c][b]},getConfusionCounts:function(a,b,c){var d=null,e=null;null!=c&&(d=c.value,e=c.value2);return{No:{No:this.getConfMatrixValue(a,
b,"TN",d,e),Yes:this.getConfMatrixValue(a,b,"FP",d,e)},Yes:{No:this.getConfMatrixValue(a,b,"FN",d,e),Yes:this.getConfMatrixValue(a,b,"TP",d,e)}}},getConfMatrixValue:function(a,b,c,d,e){b=Math.floor(100*b);if(!a.thresholds)return 0;if(null===d)return a.thresholds[b][c];d=this.createCombinedValueString_(d,e);return null==a.faceted[d]?0:a.faceted[d][b][c]},getMultiClassConfMatrix:function(a,b){return null==b?a.results:a.faceted[this.getPrintableValue_(b)]},getInferenceStat:function(a,b,c,d){a=b?a.faceted[this.getPrintableValue_(b)]:
a.results;if(!a)return null;c=c(a);return d?d(c):c},getRegressionMean:function(a,b){return this.getInferenceStat(a,b,function(a){return a.mean},d3.format(".3f"))},getRegressionAbsMean:function(a,b){return this.getInferenceStat(a,b,function(a){return a.absMean},d3.format(".3f"))},getRegressionSquaredMean:function(a,b){return this.getInferenceStat(a,b,function(a){return a.squaredMean},d3.format(".3f"))},getRegressionCount:function(a,b){a=this.getInferenceStat(a,b,function(a){return a.errors.length},
null);return null==a?0:a},getBinaryClassificationCount:function(a,b){return this.getInferenceStat(a,b,function(a){return Object.values(a[0]).reduce(function(a,b){return a+b})},null)},getMulticlassClassificationCount:function(a,b){return this.getInferenceStat(a,b,function(a){return Object.values(a).reduce(function(a,b){return a+b})},null)},getPrChartId:function(a){return"prchart"+a},getPrintableValue_:function(a){var b=a.value||0===a.value?a.value:"\x3cfeature value missing\x3e";if(""==this.selectedSecondBreakdownFeature)return b;
b+="/";return b=a.value2||0===a.value2?b+a.value2:b+"\x3cfeature value missing\x3e"},getFeatureName_:function(a){return 0===a.length?"\x3cnone\x3e":a},getClassName_:function(a){return 0===a.length?"\x3cnone\x3e":a},shouldShowOverallTresholder_:function(a){return 0===a.length},computeSelectedExampleAndInference:function(){this.counterfactualExampleAndInference=null;this.selectedExampleAndInference=this.selected&&this.examplesAndInferences?0<this.selected.length?this.examplesAndInferences[this.selected[0]]:
null:null},shouldDisableGetExamplesButton_:function(a){return 0==a.length},shouldDisableInferButton_:function(a,b,c,d){return 0==a.length||0==b.length||0==c.length||!d},newInferences_:function(){var a=this;this.$.spinner.hidden=!0;this.updateInferences_(!0);requestAnimationFrame(function(){return a.updateInferenceStats_(!0)})},refreshInferencesNoRegen_:function(){var a=this;this.refreshInferences_(!0);requestAnimationFrame(function(){return a.updateInferenceStats_(!0)})},refreshInferences_:function(a){var b=
this;this.updateInferences_(!1);requestAnimationFrame(function(){return b.updateInferenceStats_(!a)})},updateInferences_:function(a){if(this.examplesAndInferences&&this.inferences.indices&&0!=this.inferences.indices.length){for(var b={},c=!!this.inferences.results.classificationResult,d=0;d<this.inferences.indices.length;d++)b[this.inferences.indices[d]]=c?this.inferences.results.classificationResult.classifications[d].classes.sort(function(a,b){return b.score-a.score}):[{label:"",score:this.inferences.results.regressionResult.regressions[d].value}];
this.set("examplesAndInferences",this.examplesAndInferences.map(function(c,d){var e=c.inferences?c.inferences:[];b[d]&&a&&(e=e.concat([b[d]]));return{example:c.example,inferences:e,changed:c.changed,orig:c.orig}}));var e=this,f=!1;this.visdata.forEach(function(a,b){c?e.setItemInferenceValue(a,b,e.selectedBreakdownFeature,e.selectedSecondBreakdownFeature):a[" Inference value"]=e.examplesAndInferences[b].inferences[e.examplesAndInferences[b].inferences.length-1][0].score;if(c&&0<e.labelVocab.length){for(var d=
0;d<e.examplesAndInferences[b].inferences.length;d++)for(var g=0;g<e.examplesAndInferences[b].inferences[d].length;g++)e.examplesAndInferences[b].inferences[d][g].vocabLabel=e.labelVocab[e.examplesAndInferences[b].inferences[d][g].label];a[" Inference label"]=e.labelVocab[a[" Inference value"]];f=!0}});this.updateCorrectness_();this.refreshDive_();a&&(this.$.dive.colorBy=f?" Inference label":" Inference value");this.updatedExample=!1}},setItemInferenceValue:function(a,b,c,d){var e=this.examplesAndInferences[b].inferences.length-
1;if(this.multiClass)a[" Inference value"]=this.examplesAndInferences[b].inferences[e][0].label;else{var f=this.overallThreshold;0!==c.length&&(f=this.featureValueThresholdsMap[this.createCombinedValueString_(a[c],a[d])].threshold);for(d=c=0;d<this.examplesAndInferences[b].inferences[e].length;d++)if(0!==+this.examplesAndInferences[b].inferences[e][d].label){c=d;break}a[" Inference score"]=this.examplesAndInferences[b].inferences[e][c].score;a[" Inference value"]=this.examplesAndInferences[b].inferences[e][c].score>=
f?this.examplesAndInferences[b].inferences[e][c].label:this.defaultInferenceLabel.toString()}},createCombinedValueString_:function(a,b){a=null==a?"":a;return null==b||""==b?a:a+("/"+b)},updateCorrectness_:function(){if(this.selectedLabelFeature&&this.examplesAndInferences)for(var a=0;a<this.examplesAndInferences.length;a++){var b=this.visdata[a];"classification"==this.modelType?b[" Inference correct"]=b[this.selectedLabelFeature]==b[" Inference value"]?"correct":"incorrect":(b[" Inference error"]=
b[" Inference value"]-b[this.selectedLabelFeature],b[" Inference absolute error"]=Math.abs(b[" Inference error"]),b[" Inference squared error"]=b[" Inference error"]*b[" Inference error"])}},inferClicked_:function(){var a=this,b={inference_address:this.inferenceAddress,model_name:this.modelName,model_type:this.modelType,model_version:this.modelVersion,model_signature:this.modelSignature,label_vocab_path:this.labelVocabPath};this.$.spinner.hidden=!1;if(!this.local){var c=this.makeUrl_("/data/plugin/whatif/infer",
b);this.makeAsyncRequest_(c,function(b){a.$.spinner.hidden=!0;a.labelVocab=JSON.parse(b.value.vocab);a.inferences=JSON.parse(b.value.inferences)},null)}this.fire("infer-examples",b)},exampleChange_:function(a){var b=0==this.selected.length?0:this.selected[0];this.set("selectedExampleAndInference.changed",!0);this.updateExample_(JSON.stringify(a.target.json),b);this.$$("#"+this.getInferenceHolderId_()).inference=null;this.visdata[b]=this.exampleToDataPoint_(a.target.json,b);this.refreshDive_();this.updatedExample=
!0;this.selectedDataUpdated_()},refreshDive_:function(){var a=this.visdata;this.visdata=[];this.visdata=a;this.selectedExampleMax=this.visdata.length-1;this.$.overview.protoInput=this.$.overview.getStatsProto([{name:"",data:a}]);this.calculateDistanceStats_(this.$.overview.protoInput.toObject());a=this.$.dive.selectedData;this.$.dive.selectedData=[];this.$.dive.selectedData=a;this.updateSprite_()},calculateDistanceStats_:function(a){this.distanceStats_={};for(var b=0;b<a.datasetsList[0].featuresList.length;b++){var c=
a.datasetsList[0].featuresList[b],d=c.name;this.distanceStats_[d]={};if(c.numStats)this.distanceStats_[d].stdDev=c.numStats.stdDev;else{for(var e=0,f=c.stringStats.rankHistogram.bucketsList,g=0;g<f.length;g++){var h=f[g].sampleCount/c.stringStats.commonStats.numNonMissing;e+=h*h}this.distanceStats_[d].probSameValue=e}}},updateExample_:function(a,b){this.fire("update-example",{example:a,index:b});if(!this.local){var c=this.makeUrl_("/data/plugin/whatif/update_example",null);this.makeAsyncRequest_(c,
null,{example:a,index:b})}},getInferenceHolderId_:function(){return"inference_"},makeUrl_:function(a,b){b&&(a+="?"+Object.keys(b).map(function(a){return a+"\x3d"+encodeURIComponent(b[a])}).join("\x26"));return a},showToast_:function(a){var b=document.createElement("paper-toast");b.duration=1E4;document.body.appendChild(b);b.text=a;b.show();console.error(a)},makeAsyncRequest_:function(a,b,c){var d=this,e=this._canceller.cancellable(function(a){a.cancelled||(a.value&&a.value.error?(d.showToast_(a.value.error),
d.$.spinner.hidden=!0):b&&b(a))});this.requestManager.request(a,c).then(e)},exampleToDataPoint_:function(a,b){var c={},d="features"in a?Object.keys(a.features.feature):[],e;for(e in d){var f=d[+e];if(f!=this.imageFeatureName){var g=null;a.features.feature[f].int64List?g=a.features.feature[f].int64List.value:a.features.feature[f].floatList?g=a.features.feature[f].floatList.value:a.features.feature[f].bytesList&&a.features.feature[f].bytesList.value&&(g=a.features.feature[f].bytesList.value.map(function(a){if(1E5<
a.length)return"ERROR: string not decoded due to length";try{return atob(a)}catch(l){return console.error("Error decoding string: "+l),"ERROR: error decoding string"}}));g&&(1==g.length&&(g=g[0],isNaN(g)||(g=Number(g))),c[f]=g)}}c[" Example ID"]=b;return c},getExamplesAndCloseSettings_:function(){this.settingsClicked_();this.getExamples_()},updateExampleContents_:function(a,b){this.exampleStatusStr=a.length+" examples loaded";this.$.noexamples.style.display="none";this.$.spinner.hidden=!0;this.examplesAndInferences=
a.map(function(a){return{example:JSON.parse(a),changed:!1,orig:JSON.parse(a)}});this.updatedExample=!0;var c=this;this.visdata=this.examplesAndInferences.map(function(a,b){return c.exampleToDataPoint_(a.example,b)});this.$.dive.atlasUrl="";this.$.dive.imageFieldName=" Example ID";this.hasSprite=b;this.updateSprite_();this.shouldDisableInferButton_(this.examplesAndInferences,this.modelName,this.inferenceAddress,this.updatedExample)||this.inferClicked_()},getExamples_:function(){var a=this,b=this.makeUrl_("/data/plugin/whatif/examples_from_path",
{examples_path:this.examplesPath,max_examples:this.maxExamples});this.exampleStatusStr="Loading examples...";this.makeAsyncRequest_(b,function(b){a.updateExampleContents_(b.value.examples,b.value.sprite)},null);this.$.spinner.hidden=!1},updateSprite_:function(){this.hasSprite&&(this.$.dive.atlasUrl=null,this.$.dive.atlasUrl=this.local?this.localAtlasUrl:this.makeUrl_("/data/plugin/whatif/sprite",{}))},selectedDataUpdated_:function(){this.selectedExampleNum=0<this.selected.length?this.selected[0]:
"";this.visdata&&0<this.visdata.length&&(this.partialDepPlotPendingFeatures=[],"none"!=this.$.partialplotholder.style.display&&this.populatePdTabs())},copyDatapoint_:function(){var a=this,b=JSON.stringify(this.selectedExampleAndInference.example);b={example:JSON.parse(b),changed:!1,orig:JSON.parse(b)};this.examplesAndInferences.push(b);this.selectedExampleAndInference=b;this.visdata.push(this.exampleToDataPoint_(b.example,this.visdata.length));b=this.selected[0];this.selected[0]=this.visdata.length-
1;this.selectedDataUpdated_();this.updatedExample=!0;this.fire("duplicate-example",{index:b});this.local?this.refreshDive_():(b=this.makeUrl_("/data/plugin/whatif/duplicate_example",{index:b}),this.makeAsyncRequest_(b,function(){a.refreshDive_()},null))},deleteDatapointDialog_:function(){this.$.deletedialog.open()},deleteDatapoint_:function(){var a=this,b=this.selected[0];this.examplesAndInferences.splice(b,1);this.visdata.splice(b,1);for(var c=b;c<this.visdata.length;c++)this.visdata[c][" Example ID"]=
c;this.comparedIndices=[];this.selected=[];this.selectedDataUpdated_();this.fire("delete-example",{index:b});this.$.dive.selectedIndices=[];this.local?this.refreshDive_():(b=this.makeUrl_("/data/plugin/whatif/delete_example",{index:b}),this.makeAsyncRequest_(b,function(){a.refreshDive_()},null))},shouldDisableReset_:function(a){return!a},resetDatapoint_:function(){var a=this;this.selectedExampleAndInference.changed=!1;var b=JSON.stringify(this.selectedExampleAndInference.orig);this.set("selectedExampleAndInference.example",
{});requestAnimationFrame(function(){return a.set("selectedExampleAndInference.example",JSON.parse(b))});this.updatedExample=!0;this.visdata[this.selected[0]]=this.exampleToDataPoint_(this.selectedExampleAndInference.example,this.selected[0]);this.updateExample_(b,this.selected[0]);this.refreshDive_()},addChart:function(a,b,c){var d;"numeric"==a?d=this.makeLineChart(b,c):"categorical"==a?d=this.makeBarChart(b,c):console.error("Unknown chartType: "+a);a=this.featureContainerByName(b).querySelector(".tf-category-pane-content");
Polymer.dom(a).appendChild(d);b=this.partialDepPlotPendingFeatures.indexOf(b);-1<b&&this.partialDepPlotPendingFeatures.splice(b,1)},getSimpleAxisFormatter:function(a){return Plottable.Formatters.general(a)},makeBarChart:function(a,b){if(a=this.createPdEntryForCurrentValue(a,b)){for(var c=-1,d=_.keys(b)[0],e=b[d],f=0;f<e.length;f++)if(e[f].step==a.step){c=f;break}-1!=c&&e.splice(c,1);b[d+" - original value"]=[a]}b=_.mapValues(b,function(a){return _.map(a,function(a){return{x:a.step,y:a.scalar}})});
a=document.createElement("vz-bar-chart");a.data=b;return a},makeLineChart:function(a,b){function c(a){return Number.isNaN(a)?"NaN":f(a)}var d=this,e=document.createElement("vz-line-chart");e.colorScale=(new Plottable.Scales.Color).range([d3.schemeCategory10[1],d3.schemeCategory10[0]]);var f=L.multiscaleFormatter(L.Y_TOOLTIP_FORMATTER_PRECISION);"classification"==this.modelType&&(e.defaultYRange=[0,1]);e.tooltipColumns=[{title:"Inference value",evaluate:function(a){a=a.dataset.metadata().name;if(!isNaN(a)&&
0<a.length&&d.labelVocab){var b=+a;b<d.labelVocab.length&&0<=b&&(a+=" ("+d.labelVocab[b]+")")}return a}},{title:"Feature value",evaluate:function(a){return c(a.datum.step)}},{title:"Score",evaluate:function(a){return c(a.datum.scalar)}}];if(a=this.createPdEntryForCurrentValue(a,b)){var g=_.keys(b)[0];b[g+" - original value"]=[a]}a=_.keys(b);e.setVisibleSeries(a);a.forEach(function(a){return e.setSeriesData(a,b[a])});e.xAxisFormatter=this.getSimpleAxisFormatter(this.axisPrecision);e.yAxisFormatter=
this.getSimpleAxisFormatter(this.axisPrecision);return e},createPdEntryForCurrentValue:function(a,b){var c=_.keys(b)[0],d=c.indexOf("index");b=+c;var e=0;-1<d&&(b=+c.substring(0,c.indexOf(" ")),e=+c.substring(d+6,c.indexOf(")")));a=this.visdata[this.selected[0]][a];Array.isArray(a)&&(a=a[e]);e=this.selectedExampleAndInference.inferences[this.selectedExampleAndInference.inferences.length-1];c=-1;for(d=0;d<e.length;d++)if(e[d].label==b.toString()||""==e[d].label){c=e[d].score;break}return-1==c?null:
{step:a,scalar:c}},showToast:function(a){var b=document.createElement("paper-toast");document.body.appendChild(b);b.text=a;b.show();console.error(a)},makeChartForFeature_:function(a,b,c){var d=this,e=this.featureContainerByName(b);Ej(e.querySelector("paper-spinner-lite"));c.forEach(function(c){return d.addChart(a,b,c)})},getInferenceVisualization:function(a,b){var c=this.getUniqueByEvent(b,".x-min").value,d=this.getUniqueByEvent(b,".x-max").value;b=this.getUniqueByEvent(b,".feature-index-pattern").value;
c={feature_name:a,inference_address:this.inferenceAddress,model_name:this.modelName,model_type:this.modelType,model_version:this.modelVersion,model_signature:this.modelSignature,x_min:c,x_max:d,feature_index_pattern:b,example_index:this.selected[0]};this.local?this.fire("infer-mutants",c):(c=u.addParams("/data/plugin/whatif/infer_mutants",c),this.makeAsyncRequest_(c,function(b){this.makeChartForFeature_(b.value.chartType,a,b.value.data)}.bind(this),null));c=this.featureContainerByName(a).querySelector(".tf-category-pane-content");
d=document.createElement("paper-spinner-lite");d.setAttribute("active",!0);Polymer.dom(c).appendChild(d)},shouldHideFeatureIndiciesSelector:function(a,b){return!b||0==b.length||!this.visdata||this.visdata.length<=b[0]?!0:!Array.isArray(this.visdata[b[0]][a])},featureContainerByName:function(a){return this.$$('[data-feature-name\x3d"'+a+'"]')},featureContainerByEvent:function(a){for(a=Polymer.dom(a).localTarget;!a.classList.contains("feature-container");)a=a.parentNode;return a},hasAncestorClass:function(a,
b){for(a=Polymer.dom(a).localTarget;!a.classList.contains("feature-container");){if(a.classList.contains(b))return!0;a=a.parentNode}return!1},getUniqueByEvent:function(a,b){return this.featureContainerByEvent(a).querySelector(b)},shouldToggleCategoryPane:function(a){return!this.hasAncestorClass(a,"range-input-container")},partialDepPlotEligibleFeaturesSet:function(a){var b=this;a&&0!=a.length&&setTimeout(function(){b.$$(".tf-category-pane-content").hidden&&b.$$(".tf-category-pane").click()},100)},
categoryPaneClicked:function(a){if(this.shouldToggleCategoryPane(a)){var b=this.getUniqueByEvent(a,".tf-category-pane-content"),c=this.getUniqueByEvent(a,"iron-icon");b.hasAttribute("hidden")?(b.removeAttribute("hidden"),b=a.model.get("item").name,-1<this.partialDepPlotPendingFeatures.indexOf(b)||(this.partialDepPlotPendingFeatures.push(b),this.getInferenceVisualization(b,a),c.icon="expand-more")):(this.hidePdElement_(b),c.icon="expand-less")}},hidePdElement_:function(a){a.setAttribute("hidden",!0);
var b=a.querySelectorAll("vz-line-chart");b.forEach(function(a){Ej(a)});b=a.querySelectorAll("vz-bar-chart");b.forEach(function(a){Ej(a)})},pdInputChanged:function(a){var b=this.getUniqueByEvent(a,".tf-category-pane-content");b.hasAttribute("hidden")||(this.hidePdElement_(b),this.getUniqueByEvent(a,"iron-icon").icon="expand-less")},populatePdTabs:function(){for(var a=this,b=document.querySelectorAll(".tf-category-pane-content"),c=0;c<b.length;c++)this.hidePdElement_(b[c]);this.local?this.fire("get-eligible-features"):
(b=u.addParams("/data/plugin/whatif/eligible_features",{}),this.makeAsyncRequest_(b,function(b){a.set("partialDepPlotEligibleFeatures",b.value)},null))},toggleTrueLabelSetup:function(){this.$.collapsetruelabel.toggle()},toggleExplorerSetup:function(){this.$.collapseexplorer.toggle()},togglePerformance:function(){this.$.collapseperformance.toggle()},toggleInferenceResults:function(){this.$$("#collapseinference").toggle()},toggleSecondInferenceResults:function(){this.$$("#collapsesecondinference").toggle()},
getInferenceResultsHeaderText:function(a){var b="Inference Results: ";a&&0<a.length&&(b+="Example "+a[0]);return b},getCompareInferenceResultsHeaderText:function(a,b){b=(b?"L2":"L1")+": ";a&&0<a.length&&(b+="Example "+a[0]);return b},getExpandCollapseIcon:function(a){return a?"expand-less":"expand-more"},getPerformanceTabTitle:function(a,b){return this.isBinaryClassification_(a,b)?"Performance + Fairness":"Performance"},getCompareSlicesTitle:function(a,b){return this.isBinaryClassification_(a,b)?
"Compare Slices + Fairness Metrics":"Compare Slices"}});$a.registerDashboard({plugin:"whatif",elementName:"tf-interactive-inference-dashboard",tabName:"What-If Tool"});
</script>
</dom-module>











<dom-module id="paper-header-panel">
  <template>
    

    <content id="headerContent" select="paper-toolbar, .paper-header" class="style-scope paper-header-panel"></content>

    <div id="mainPanel" class="style-scope paper-header-panel">
      <div id="mainContainer" class="style-scope paper-header-panel">
        <content id="mainContent" select="*" class="style-scope paper-header-panel"></content>
      </div>
      <div id="dropShadow" class="style-scope paper-header-panel"></div>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-header-panel/paper-header-panel.html.js
(function(){var a={scroll:!0},b={standard:2,waterfall:1,"waterfall-tall":1},c={"waterfall-tall":!0};Polymer({is:"paper-header-panel",properties:{mode:{type:String,value:"standard",observer:"_modeChanged",reflectToAttribute:!0},shadow:{type:Boolean,value:!1},tallClass:{type:String,value:"tall"},atTop:{type:Boolean,value:!0,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:["_computeDropShadowHidden(atTop, mode, shadow)"],ready:function(){this.scrollHandler=this._scroll.bind(this)},attached:function(){this._addListener();
this._keepScrollingState()},detached:function(){this._removeListener()},get header(){return Polymer.dom(this.$.headerContent).getDistributedNodes()[0]},get scroller(){return this._getScrollerForMode(this.mode)},get visibleShadow(){return this.$.dropShadow.classList.contains("has-shadow")},_computeDropShadowHidden:function(a,c){c=b[c];this.shadow?this.toggleClass("has-shadow",!0,this.$.dropShadow):2===c?this.toggleClass("has-shadow",!0,this.$.dropShadow):1!==c||a?this.toggleClass("has-shadow",!1,this.$.dropShadow):
this.toggleClass("has-shadow",!0,this.$.dropShadow)},_computeMainContainerClass:function(a){var b={};b.flex="cover"!==a;return Object.keys(b).filter(function(a){return b[a]}).join(" ")},_addListener:function(){this.scroller.addEventListener("scroll",this.scrollHandler,!1)},_removeListener:function(){this.scroller.removeEventListener("scroll",this.scrollHandler)},_modeChanged:function(a,b){var d=this.header;d&&(c[b]&&!c[a]?(d.classList.remove(this.tallClass),this.async(function(){d.classList.remove("animate")},
200)):this.toggleClass("animate",c[a],d));this._keepScrollingState()},_keepScrollingState:function(){var a=this.scroller,b=this.header;this._setAtTop(0===a.scrollTop);b&&this.tallClass&&c[this.mode]&&this.toggleClass(this.tallClass,this.atTop||b.classList.contains(this.tallClass)&&a.scrollHeight<this.offsetHeight,b)},_scroll:function(){this._keepScrollingState();this.fire("content-scroll",{target:this.scroller},{bubbles:!1})},_getScrollerForMode:function(b){return a[b]?this:this.$.mainContainer}})})();
</script>
</dom-module>










<dom-module id="paper-toolbar">
  <template>
    

    <div id="topBar" class="toolbar-tools style-scope paper-toolbar">
      <content name="top" select="[slot='top']" class="style-scope paper-toolbar"></content>
    </div>

    <div id="middleBar" class="toolbar-tools style-scope paper-toolbar">
      <content name="middle" select="[slot='middle']" class="style-scope paper-toolbar"></content>
    </div>

    <div id="bottomBar" class="toolbar-tools style-scope paper-toolbar">
      <content name="bottom" select="[slot='bottom']" class="style-scope paper-toolbar"></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-toolbar/paper-toolbar.html.js
Polymer({is:"paper-toolbar",hostAttributes:{role:"toolbar"},properties:{bottomJustify:{type:String,value:""},justify:{type:String,value:""},middleJustify:{type:String,value:""}},ready:function(){console.warn(this.is,"is deprecated. Please use app-layout instead!")},attached:function(){this._observer=this._observe(this);this._updateAriaLabelledBy()},detached:function(){this._observer&&this._observer.disconnect()},_observe:function(a){var b=new MutationObserver(function(){this._updateAriaLabelledBy()}.bind(this));
b.observe(a,{childList:!0,subtree:!0});return b},_updateAriaLabelledBy:function(){Polymer.dom.flush();for(var a=[],b=Array.prototype.slice.call(Polymer.dom(this.root).querySelectorAll("slot")).concat(Array.prototype.slice.call(Polymer.dom(this.root).querySelectorAll("content"))),c,d=0;c=b[d];d++){c=Polymer.dom(c).getDistributedNodes();for(var e,f=0;e=c[f];f++)if(e.classList&&e.classList.contains("title"))if(e.id)a.push(e.id);else{var g="paper-toolbar-label-"+Math.floor(1E4*Math.random());e.id=g;a.push(g)}}0<
a.length&&this.setAttribute("aria-labelledby",a.join(" "))},_computeBarExtraClasses:function(a){return a?a+("justified"===a?"":"-justified"):""}});
</script>
</dom-module>













<dom-module id="tf-collapsible-data-selector">
  <template>
    <iron-collapse id="collapse" no-animation="" class="style-scope tf-collapsible-data-selector">
      <tf-data-selector class="style-scope tf-collapsible-data-selector"></tf-data-selector>
    </iron-collapse>
    <span class="style-scope tf-collapsible-data-selector">
      <paper-button title="Toggle Data Selector" class="style-scope tf-collapsible-data-selector">
        <template is="dom-if" class="style-scope tf-collapsible-data-selector"></template>
        <template is="dom-if" class="style-scope tf-collapsible-data-selector"></template>
      </paper-button>
    </span>

    
  </template>
  <script>//~~WEBPATH~~/tf-data-selector/tf-collapsible-data-selector.js
Wa||(Wa={});Polymer({is:"tf-collapsible-data-selector",properties:{selection:{type:Object,notify:!0},activePlugins:Array,opened:{type:Boolean,reflectToAttribute:!0,value:!0}},_toggleSelector:function(){this.opened=!this.opened},_getExperimentStyle:function(a){return a?"background-color: "+Ta.experimentsColorScale(a.name)+";":""}});
</script>
</dom-module>








<dom-module id="tf-tensorboard">
  <template>
    <paper-dialog with-backdrop="" id="settings" class="style-scope tf-tensorboard">
      <h2 class="style-scope tf-tensorboard">Settings</h2>
      <paper-checkbox id="auto-reload-checkbox" class="style-scope tf-tensorboard">
        Reload data every <span class="style-scope tf-tensorboard"> </span>s.
      </paper-checkbox>
      <paper-input id="paginationLimitInput" label="Pagination limit" always-float-label="" type="number" min="1" step="1" class="style-scope tf-tensorboard"></paper-input>
    </paper-dialog>
    <paper-header-panel class="style-scope tf-tensorboard">
      <paper-toolbar id="toolbar" slot="header" class="style-scope tf-tensorboard">
        <div id="toolbar-content" slot="top" class="style-scope tf-tensorboard">
          <div class="toolbar-title style-scope tf-tensorboard"> </div>
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <div class="global-actions style-scope tf-tensorboard">
            <paper-icon-button id="reload-button" icon="refresh" title="Last updated: " class="style-scope tf-tensorboard"></paper-icon-button>
            <paper-icon-button icon="settings" id="settings-button" class="style-scope tf-tensorboard"></paper-icon-button>
            <a href="https://github.com/tensorflow/tensorboard/blob/master/README.md" tabindex="-1" class="style-scope tf-tensorboard">
              <paper-icon-button icon="help-outline" class="style-scope tf-tensorboard"></paper-icon-button>
            </a>
          </div>
        </div>
      </paper-toolbar>

      <div id="content-pane" class="fit style-scope tf-tensorboard">
        <content id="injected-overview" class="style-scope tf-tensorboard"></content>
        <template is="dom-if" class="style-scope tf-tensorboard"></template>
        <div id="content" class="style-scope tf-tensorboard">
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <template is="dom-repeat" id="dashboards-template" as="dashboardDatum" class="style-scope tf-tensorboard"></template>
        </div>
      </div>
    </paper-header-panel>

    
  </template>
  <script>//~~WEBPATH~~/tf-tensorboard/autoReloadBehavior.js
(function(a){a.AUTORELOAD_LOCALSTORAGE_KEY="TF.TensorBoard.autoReloadEnabled";a.AutoReloadBehavior={properties:{autoReloadEnabled:{type:Boolean,observer:"_autoReloadObserver",value:function(){var b=window.localStorage.getItem(a.AUTORELOAD_LOCALSTORAGE_KEY);return"true"===b||null==b}},_autoReloadId:{type:Number},autoReloadIntervalSecs:{type:Number,value:30}},detached:function(){window.clearTimeout(this._autoReloadId)},_autoReloadObserver:function(b){window.localStorage.setItem(a.AUTORELOAD_LOCALSTORAGE_KEY,
b);b?this._autoReloadId=window.setTimeout(this._doAutoReload.bind(this),1E3*this.autoReloadIntervalSecs):window.clearTimeout(this._autoReloadId)},_doAutoReload:function(){if(null==this.reload)throw Error("AutoReloadBehavior requires a reload method");this.reload();this._autoReloadId=window.setTimeout(this._doAutoReload.bind(this),1E3*this.autoReloadIntervalSecs)}}})($a||($a={}));
</script>
  <script>//~~WEBPATH~~/tf-tensorboard/tf-tensorboard.html.js
if(_.isEmpty($a.dashboardRegistry))throw Error("HTML import plugin dashboards *before* tf-tensorboard");
Polymer({is:"tf-tensorboard",behaviors:[$a.AutoReloadBehavior],properties:{brand:{type:String,value:"TensorBoard-X"},title:{type:String,observer:"_updateTitle"},router:{type:Object,observer:"_updateRouter"},demoDir:{type:String,value:null},useHash:{type:Boolean,value:!1},disabledDashboards:{type:String,value:""},_dashboardData:{type:Array,readOnly:!0,value:_.values($a.dashboardRegistry)},_activeDashboards:{type:Array,value:null},_activeDashboardsLoadState:{type:String,value:$a.ActiveDashboardsLoadState.NOT_LOADED},
_activeDashboardsNotLoaded:{type:Boolean,computed:"_computeActiveDashboardsNotLoaded(_activeDashboardsLoadState)"},_activeDashboardsLoaded:{type:Boolean,computed:"_computeActiveDashboardsLoaded(_activeDashboardsLoadState)"},_activeDashboardsFailedToLoad:{type:Boolean,computed:"_computeActiveDashboardsFailedToLoad(_activeDashboardsLoadState)"},_showNoDashboardsMessage:{type:Boolean,computed:"_computeShowNoDashboardsMessage(_activeDashboardsLoaded, _activeDashboards, _selectedDashboard)"},_showNoSuchDashboardMessage:{type:Boolean,
computed:"_computeShowNoSuchDashboardMessage(_dashboardData, _selectedDashboard)"},_selectedDashboard:{type:String,value:G.getString(G.TAB)||null,observer:"_selectedDashboardChanged"},_dashboardToMaybeRemove:String,_dashboardContainersStamped:{type:Boolean,value:!1},_isReloadDisabled:{type:Boolean,value:!1},_isDataSelectorEnabled:{type:Boolean,value:!1},_dataSelection:{type:Object,value:function(){return{type:Wa.Type.WITHOUT_EXPERIMENT,selections:[]}}},_lastReloadTime:{type:String,value:"not yet loaded"},
_lastReloadTimeShort:{type:String,value:"Not yet loaded"},_dataLocation:{type:String,value:null},_requestManager:{type:Object,value:function(){return new u.RequestManager}},_canceller:{type:Object,value:function(){return new u.Canceller}},_refreshing:{type:Boolean,value:!1}},observers:["_updateSelectedDashboardFromActive(_selectedDashboard, _activeDashboards)","_ensureSelectedDashboardStamped(_dashboardContainersStamped, _activeDashboards, _selectedDashboard)","_updateDataSelection(_dataSelection, _activeDashboards,_selectedDashboard)"],
_activeDashboardsUpdated:function(){},_isDashboardActive:function(a,b,c){return 0<=(a||"").split(",").indexOf(c.plugin)||!(b||[]).includes(c.plugin)?!1:!0},_isDashboardInactive:function(a,b,c){return 0<=(a||"").split(",").indexOf(c.plugin)?!1:(b||[]).includes(c.plugin)?!1:!0},_inactiveDashboardsExist:function(a,b,c){if(!c)return!1;var d=new Set;a.forEach(function(a){d.add(a.plugin)});(b||"").split(",").forEach(function(a){d.delete(a.plugin)});c.forEach(function(a){d.delete(a.plugin)});return 0<d.size},
_getDashboardFromIndex:function(a,b){return a[b]},_selectedStatus:function(a,b){return a===b},_selectedDashboardChanged:function(a){a=a||"";G.setString(G.TAB,a);ga("set","page","/"+a);ga("send","pageview")},_updateSelectedDashboardFromActive:function(a,b){b&&null==a&&(a=b[0]||null,null!=a&&(G.setString(G.TAB,a,{useLocationReplace:!0}),this._selectedDashboard=a))},_updateSelectedDashboardFromHash:function(){var a=G.getString(G.TAB);this.set("_selectedDashboard",a||null)},_ensureSelectedDashboardStamped:function(a,
b,c){a&&b&&c&&(a=this._dashboardToMaybeRemove,this._dashboardToMaybeRemove=c,a&&a!=c&&$a.dashboardRegistry[a].shouldRemoveDom&&(a=this.$$(".dashboard-container[data-dashboard\x3d"+a+"]"),a.firstChild&&a.firstChild.remove()),a=this.$$(".dashboard-container[data-dashboard\x3d"+c+"]"))&&(c=$a.dashboardRegistry[c],0===a.children.length&&(b=document.createElement(c.elementName),b.id="dashboard",c.useDataSelector&&(this.cancelDebouncer("updateDataSelection"),b.dataSelection=this._dataSelection),a.appendChild(b)),
this.set("_isReloadDisabled",c.isReloadDisabled),this.set("_isDataSelectorEnabled",c.useDataSelector))},_selectedDashboardComponent:function(){if(!this._dashboardContainersStamped)throw Error('There is no "selected dashboard" before containers are stamped.');return this.$$(".dashboard-container[data-dashboard\x3d"+this._selectedDashboard+"] #dashboard")},_updateDataSelection:function(){var a=this;if(this._dashboardContainersStamped){this.cancelDebouncer("updateDataSelection");var b=this._selectedDashboardComponent();
b&&$a.dashboardRegistry[this._selectedDashboard].useDataSelector&&this.debounce("updateDataSelection",function(){b.dataSelection=a._dataSelection},200)}},ready:function(){var a=this;Qa.setUseHash(this.useHash);this._updateSelectedDashboardFromHash();window.addEventListener("hashchange",function(){a._updateSelectedDashboardFromHash()},!1);u.environmentStore.addListener(function(){a._dataLocation=u.environmentStore.getDataLocation();var b=u.environmentStore.getWindowTitle();b&&(window.document.title=
b)});this.$$("#dashboards-template").addEventListener("dom-change",function(){a._dashboardContainersStamped=!0},!1);this._reloadData();this._lastReloadTime=(new Date).toString()},_fetchActiveDashboards:function(){var a=this;this._canceller.cancelAll();var b=this._canceller.cancellable(function(b){if(!b.cancelled){var c=b.value;a._activeDashboards=a._dashboardData.map(function(a){return a.plugin}).filter(function(a){return c[a]});a._activeDashboardsLoadState=$a.ActiveDashboardsLoadState.LOADED}});
return this._requestManager.request(u.getRouter().pluginsListing()).then(b,function(){a._activeDashboardsLoadState===$a.ActiveDashboardsLoadState.NOT_LOADED?a._activeDashboardsLoadState=$a.ActiveDashboardsLoadState.FAILED:console.warn("Failed to reload the set of active plugins; using old value.")})},_computeActiveDashboardsNotLoaded:function(a){return a===$a.ActiveDashboardsLoadState.NOT_LOADED},_computeActiveDashboardsLoaded:function(a){return a===$a.ActiveDashboardsLoadState.LOADED},_computeActiveDashboardsFailedToLoad:function(a){return a===
$a.ActiveDashboardsLoadState.FAILED},_computeShowNoDashboardsMessage:function(a,b,c){return a&&0===b.length&&null==c},_computeShowNoSuchDashboardMessage:function(a,b){return!!b&&!a.some(function(a){return a.plugin===b})},_updateRouter:function(a){u.setRouter(a)},_updateTitle:function(a){a&&this.set("brand",a)},reload:function(){var a=this;this._isReloadDisabled||(this._reloadData().then(function(){var b=a._selectedDashboardComponent();b&&b.reload()}),this._lastReloadTime=(new Date).toString())},_reloadData:function(){var a=
this;this._refreshing=!0;return Promise.all([this._fetchActiveDashboards(),u.environmentStore.refresh(),u.runsStore.refresh(),u.experimentsStore.refresh()]).then(function(){a._lastReloadTimeShort=(new Date).toLocaleDateString(void 0,{month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}).finally(function(){a._refreshing=!1})},_getDataRefreshingClass:function(){return this._refreshing?"refreshing":""},openSettings:function(){this.$.settings.open();this.$.paginationLimitInput.value=
Za.getLimit()},_paginationLimitChanged:function(a){var b=a.target.valueAsNumber;b===+b&&0<b&&Za.setLimit(a.target.valueAsNumber)}});</script>
</dom-module>


<tf-tensorboard use-hash="" brand="TensorBoard" class="x-scope tf-tensorboard-0">
    <paper-dialog with-backdrop="" id="settings" class="style-scope tf-tensorboard x-scope paper-dialog-0" role="dialog" tabindex="-1" aria-hidden="true" style="outline: currentcolor none medium; display: none;">
    
    
      <h2 class="style-scope tf-tensorboard">Settings</h2>
      <paper-checkbox id="auto-reload-checkbox" class="style-scope tf-tensorboard x-scope paper-checkbox-4" role="checkbox" tabindex="0" toggles="" aria-checked="true" aria-disabled="false" checked="" active=""><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="checked  style-scope paper-checkbox"><div id="checkmark" class="style-scope paper-checkbox"></div></div></div><div id="checkboxLabel" class="style-scope paper-checkbox">
        Reload data every <span class="style-scope tf-tensorboard">30</span>s.
      </div></paper-checkbox>
      <paper-input id="paginationLimitInput" label="Pagination limit" always-float-label="" type="number" min="1" step="1" class="style-scope tf-tensorboard x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-0">
    

    
      <div class="floated-label-placeholder style-scope paper-input-container" aria-hidden="true">&nbsp;</div>
    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content label-is-floating style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer" style="position: static;">
        <label aria-hidden="true" class="style-scope paper-input" for="input-1" id="paper-input-label-1">Pagination limit</label><input is="iron-input" class="input-element style-scope paper-input" autocomplete="off" placeholder="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-1" id="input-1" tabindex="0" type="number" min="1" step="1"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
    
  </paper-dialog>
    <paper-header-panel class="style-scope tf-tensorboard x-scope paper-header-panel-0" mode="standard" at-top="">
    

    <paper-toolbar id="toolbar" slot="header" class="style-scope tf-tensorboard x-scope paper-toolbar-0" role="toolbar">
    

    <div id="topBar" class="toolbar-tools  style-scope paper-toolbar">
      <div id="toolbar-content" slot="top" class="style-scope tf-tensorboard">
          <div class="toolbar-title style-scope tf-tensorboard">TensorBoard</div>
          <span class="toolbar-message style-scope tf-tensorboard" style="display: none;">
              Loading active dashboards…
            </span><template is="dom-if" class="style-scope tf-tensorboard"></template>
          
            <paper-tabs noink="" scrollable="" attr-for-selected="data-dashboard" class="style-scope tf-tensorboard x-scope paper-tabs-0" role="tablist" tabindex="0">
    

    <paper-icon-button icon="paper-tabs:chevron-left" tabindex="-1" class="not-visible style-scope paper-tabs x-scope paper-icon-button-0" role="button" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>

    <div id="tabsContainer" class="style-scope paper-tabs" style="touch-action: pan-y;">
      <div id="tabsContent" class="scrollable style-scope paper-tabs">
        <div id="selectionBar" class="style-scope paper-tabs" style="transform: translateX(52.7334%) scaleX(0.472666);"></div>
        
              
                
                  <paper-tab class="style-scope tf-tensorboard x-scope paper-tab-0" role="tab" aria-disabled="false" title="scalars" data-dashboard="scalars" tabindex="0">
    

    <div class="tab-content style-scope paper-tab">
      
                    scalars
                  
    </div>
  </paper-tab>
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                
                  <paper-tab class="style-scope tf-tensorboard x-scope paper-tab-0 iron-selected" role="tab" aria-disabled="false" title="graphs" data-dashboard="graphs" tabindex="0" aria-selected="true">
    

    <div class="tab-content style-scope paper-tab">
      
                    graphs
                  
    </div>
  <paper-ripple class="style-scope paper-tab">
    

    <div id="background" class="style-scope paper-ripple"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-tab>
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              
                <template is="dom-if" class="style-scope tf-tensorboard"></template>
              <template is="dom-repeat" as="dashboardDatum" class="style-scope tf-tensorboard"></template>
            
      </div>
    </div>

    <paper-icon-button icon="paper-tabs:chevron-right" tabindex="-1" class="not-visible style-scope paper-tabs x-scope paper-icon-button-0" role="button" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>

  </paper-tabs>
            
              <paper-dropdown-menu label="Inactive" no-label-float="" noink="" style="margin-left: 12px" class="style-scope tf-tensorboard x-scope paper-dropdown-menu-1" role="combobox" aria-autocomplete="none" aria-haspopup="true" aria-disabled="false">
    

    
    <span role="button" class="style-scope paper-dropdown-menu"></span>
    <paper-menu-button id="menuButton" close-on-activate="" class="style-scope paper-dropdown-menu x-scope paper-menu-button-0" role="group" aria-haspopup="true" aria-disabled="false" horizontal-align="right" vertical-align="top">
    

    <div id="trigger" class="style-scope paper-menu-button">
      <div class="dropdown-trigger style-scope paper-dropdown-menu">
        <paper-ripple class="style-scope paper-dropdown-menu">
    

    <div id="background" class="style-scope paper-ripple"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple>
        
        <paper-input type="text" readonly="" class="style-scope paper-dropdown-menu x-scope paper-input-1" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-3">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" class="style-scope paper-input" for="input-5" id="paper-input-label-5">Inactive</label><input is="iron-input" class="input-element style-scope paper-input" autocomplete="off" placeholder="" readonly="readonly" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-5" id="input-5" tabindex="0" type="text"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" class="style-scope paper-dropdown-menu x-scope iron-icon-1"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M7 10l5 5 5-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon>
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
      </div>
    </div>

    <iron-dropdown id="dropdown" class="style-scope paper-menu-button" aria-disabled="false" aria-hidden="true" horizontal-align="right" vertical-align="top" style="outline: currentcolor none medium; display: none;">
    

    <div id="contentWrapper" class="style-scope iron-dropdown">
      <div class="dropdown-content style-scope paper-menu-button">
        <paper-menu id="inactive-dashboards-menu" class="dropdown-content style-scope tf-tensorboard x-scope paper-menu-1" attr-for-selected="data-dashboard" role="menu" aria-expanded="false" tabindex="0">
    
    

    <div class="selectable-content style-scope paper-menu">
      
                  
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="custom_scalars">
    
    Custom Scalars
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="images">
    
    images
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="audio">
    
    audio
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="debugger">
    
    debugger
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="distributions">
    
    distributions
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="histograms">
    
    histograms
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="projector">
    
    projector
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="text">
    
    text
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="pr_curves">
    
    PR Curves
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="profile">
    
    profile
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="beholder">
    
    beholder
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  
                    
                      <paper-item class="style-scope tf-tensorboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false" data-dashboard="whatif">
    
    What-If Tool
  </paper-item>
                    <template is="dom-if" restamp="" class="style-scope tf-tensorboard"></template>
                  <template is="dom-repeat" as="dashboardDatum" class="style-scope tf-tensorboard"></template>
                
    </div>
  </paper-menu>
      </div>
    </div>
  </iron-dropdown>
  </paper-menu-button>
  </paper-dropdown-menu>
            <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <div class="global-actions style-scope tf-tensorboard">
            <paper-icon-button id="reload-button" icon="refresh" title="Last updated: November 21, 1:51:30 AM" class="style-scope tf-tensorboard x-scope paper-icon-button-0" role="button" tabindex="-1" aria-disabled="true" disabled="" style="pointer-events: none;"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
            <paper-icon-button icon="settings" id="settings-button" class="style-scope tf-tensorboard x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
            <a href="https://github.com/tensorflow/tensorboard/blob/master/README.md" tabindex="-1" class="style-scope tf-tensorboard">
              <paper-icon-button icon="help-outline" class="style-scope tf-tensorboard x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
            </a>
          </div>
        </div>
    </div>

    <div id="middleBar" class="toolbar-tools  style-scope paper-toolbar">
      
    </div>

    <div id="bottomBar" class="toolbar-tools  style-scope paper-toolbar">
      
    </div>
  </paper-toolbar>

    <div id="mainPanel" class="style-scope paper-header-panel">
      <div id="mainContainer" class="flex style-scope paper-header-panel">
        <div id="content-pane" class="fit style-scope tf-tensorboard">
        
        <template is="dom-if" class="style-scope tf-tensorboard"></template>
        <div id="content" class="style-scope tf-tensorboard">
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          <template is="dom-if" class="style-scope tf-tensorboard"></template>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="scalars"><tf-scalar-dashboard id="dashboard" class="x-scope tf-scalar-dashboard-0">
    <tf-dashboard-layout class="style-scope tf-scalar-dashboard x-scope tf-dashboard-layout-0">
    <div id="sidebar" class="style-scope tf-dashboard-layout">
      <div class="sidebar style-scope tf-scalar-dashboard">
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <div class="line-item style-scope tf-scalar-dashboard">
            <paper-checkbox class="style-scope tf-scalar-dashboard x-scope paper-checkbox-5" role="checkbox" tabindex="0" toggles="" aria-checked="false" aria-disabled="false"><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="style-scope paper-checkbox"><div id="checkmark" class="hidden style-scope paper-checkbox"></div></div></div><div id="checkboxLabel" class="style-scope paper-checkbox">Show data download links</div></paper-checkbox>
          </div>
          <div class="line-item style-scope tf-scalar-dashboard">
            <paper-checkbox class="style-scope tf-scalar-dashboard x-scope paper-checkbox-5" role="checkbox" tabindex="0" checked="" active="" toggles="" aria-checked="true" aria-disabled="false"><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="checked  style-scope paper-checkbox"><div id="checkmark" class="style-scope paper-checkbox"></div></div></div><div id="checkboxLabel" class="style-scope paper-checkbox">Ignore outliers in chart scaling</div></paper-checkbox>
          </div>
          <div id="tooltip-sorting" class="style-scope tf-scalar-dashboard">
            <div class="style-scope tf-scalar-dashboard">Tooltip sorting method:</div>
            <paper-dropdown-menu no-label-float="" class="style-scope tf-scalar-dashboard x-scope paper-dropdown-menu-0" role="combobox" aria-autocomplete="none" aria-haspopup="true" aria-disabled="false">
    

    
    <span role="button" class="style-scope paper-dropdown-menu"></span>
    <paper-menu-button id="menuButton" close-on-activate="" class="style-scope paper-dropdown-menu x-scope paper-menu-button-0" role="group" aria-haspopup="true" aria-disabled="false" horizontal-align="right" vertical-align="top">
    

    <div id="trigger" class="style-scope paper-menu-button">
      <div class="dropdown-trigger style-scope paper-dropdown-menu">
        <paper-ripple class="style-scope paper-dropdown-menu">
    

    <div id="background" class="style-scope paper-ripple"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple>
        
        <paper-input type="text" readonly="" class="style-scope paper-dropdown-menu x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-1">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content label-is-hidden style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" class="style-scope paper-input" for="input-2" id="paper-input-label-2"> </label><input is="iron-input" class="input-element style-scope paper-input" autocomplete="off" placeholder="" readonly="readonly" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-2" id="input-2" tabindex="0" type="text" value="default"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" class="style-scope paper-dropdown-menu x-scope iron-icon-1"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M7 10l5 5 5-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon>
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
      </div>
    </div>

    <iron-dropdown id="dropdown" class="style-scope paper-menu-button" aria-disabled="false" aria-hidden="true" horizontal-align="right" vertical-align="top" style="outline: currentcolor none medium; display: none;">
    

    <div id="contentWrapper" class="style-scope iron-dropdown">
      <div class="dropdown-content style-scope paper-menu-button">
        <paper-menu class="dropdown-content style-scope tf-scalar-dashboard x-scope paper-menu-0" selected="0" slot="dropdown-content" role="menu" aria-expanded="false" tabindex="0">
    
    

    <div class="selectable-content style-scope paper-menu">
      
                <paper-item class="style-scope tf-scalar-dashboard x-scope paper-item-0 iron-selected" role="option" tabindex="0" aria-disabled="false" aria-selected="true">
    
    default
  </paper-item>
                <paper-item class="style-scope tf-scalar-dashboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false">
    
    descending
  </paper-item>
                <paper-item class="style-scope tf-scalar-dashboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false">
    
    ascending
  </paper-item>
                <paper-item class="style-scope tf-scalar-dashboard x-scope paper-item-0" role="option" tabindex="-1" aria-disabled="false">
    
    nearest
  </paper-item>
              
    </div>
  </paper-menu>
      </div>
    </div>
  </iron-dropdown>
  </paper-menu-button>
  </paper-dropdown-menu>
          </div>
        </div>
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <tf-smoothing-input step="0.001" min="0" max="1" class="style-scope tf-scalar-dashboard x-scope tf-smoothing-input-0">
    <h3 class="title style-scope tf-smoothing-input">Smoothing</h3>
    <div class="smoothing-block style-scope tf-smoothing-input">
      <paper-slider id="slider" pin="" type="number" class="style-scope tf-smoothing-input x-scope paper-slider-0" role="slider" tabindex="0" value="0.6" aria-disabled="false" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0.6"><div id="sliderContainer" class="pin style-scope paper-slider"><div class="bar-container style-scope paper-slider"><paper-progress id="sliderBar" aria-hidden="true" class="style-scope paper-slider x-scope paper-progress-0" role="progressbar" style="touch-action: none;" value="0.6" aria-valuenow="0.6" aria-valuemin="0" aria-valuemax="1" aria-disabled="false">
    

    <div id="progressContainer" class="style-scope paper-progress">
      <div id="secondaryProgress" class="style-scope paper-progress" style="transform: scaleX(0);" hidden=""></div>
      <div id="primaryProgress" class="style-scope paper-progress" style="transform: scaleX(0.6);"></div>
    </div>
  </paper-progress></div><template is="dom-if" class="style-scope paper-slider"></template><div id="sliderKnob" class="slider-knob style-scope paper-slider" style="touch-action: none; left: 60%;"><div class="slider-knob-inner style-scope paper-slider" value="0.6"></div></div></div><template is="dom-if" class="style-scope paper-slider"></template></paper-slider>
      <paper-input id="input" label="weight" no-label-float="" type="number" class="style-scope tf-smoothing-input x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-2">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content label-is-hidden style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" class="style-scope paper-input" for="input-3" id="paper-input-label-3">weight</label><input is="iron-input" class="input-element style-scope paper-input" autocomplete="off" placeholder="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-3" id="input-3" tabindex="0" type="number" step="0.001" max="1" min="0" value="0.6"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
    </div>
    
  </tf-smoothing-input>
        </div>
        <div class="sidebar-section style-scope tf-scalar-dashboard">
          <tf-option-selector id="x-type-selector" name="Horizontal Axis" class="style-scope tf-scalar-dashboard x-scope tf-option-selector-0">
    <div id="wrap" class="style-scope tf-option-selector">
      <h3 class="style-scope tf-option-selector">Horizontal Axis</h3>
      <div class="content-wrapper style-scope tf-option-selector">
            <paper-button id="step" class="style-scope tf-scalar-dashboard selected x-scope paper-button-0" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">step</paper-button><paper-button id="relative" class="style-scope tf-scalar-dashboard x-scope paper-button-0" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">relative</paper-button><paper-button id="wall_time" class="style-scope tf-scalar-dashboard x-scope paper-button-0" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">wall</paper-button>
          </div>
    </div>
    
  </tf-option-selector>
        </div>
        
          <div class="sidebar-section style-scope tf-scalar-dashboard">
            <tf-runs-selector class="style-scope tf-scalar-dashboard x-scope tf-runs-selector-0">
    <paper-dialog with-backdrop="" id="data-location-dialog" class="style-scope tf-runs-selector x-scope paper-dialog-0" role="dialog" tabindex="-1" aria-hidden="true" style="outline: currentcolor none medium; display: none;">
    
    
      <h2 class="style-scope tf-runs-selector">Data Location</h2>
      <div class="style-scope tf-runs-selector">logs/<wbr></div>
    
  </paper-dialog>
    <div id="top-text" class="style-scope tf-runs-selector">
      <h3 id="tooltip-help" class="tooltip-container style-scope tf-runs-selector">Runs</h3>
    </div>
    <tf-multi-checkbox id="multiCheckbox" class="style-scope tf-runs-selector x-scope tf-multi-checkbox-0">
      <paper-input id="names-regex" no-label-float="" label="Write a regex to filter runs" class="style-scope tf-multi-checkbox x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-2">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" class="style-scope paper-input" for="input-4" id="paper-input-label-4">Write a regex to filter runs</label><input is="iron-input" class="input-element style-scope paper-input" autocomplete="off" placeholder="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-4" id="input-4" tabindex="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
    <div id="outer-container" class="scrollbar style-scope tf-multi-checkbox">
      
        <div class="name-row style-scope tf-multi-checkbox">
          <div class="icon-container checkbox-container vertical-align-container style-scope tf-multi-checkbox">
            <paper-checkbox class="checkbox vertical-align-center style-scope tf-multi-checkbox x-scope paper-checkbox-6" role="checkbox" tabindex="0" toggles="" aria-checked="false" aria-disabled="false"><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="style-scope paper-checkbox"><div id="checkmark" class="hidden style-scope paper-checkbox"></div></div><paper-ripple id="ink" center="" class="circle style-scope paper-checkbox">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></div><div id="checkboxLabel" class="style-scope paper-checkbox"></div></paper-checkbox>

          </div>
          <div class="icon-container isolator-container vertical-align-container style-scope tf-multi-checkbox">
            <paper-icon-button icon="radio-button-unchecked" class="isolator vertical-align-center style-scope tf-multi-checkbox x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false" style="color: rgb(255, 112, 67);"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon><paper-ripple id="ink" center="" class="circle style-scope paper-icon-button">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0.0028;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-icon-button>
          </div>
          <div class="item-label-container style-scope tf-multi-checkbox">
            <span class="style-scope tf-multi-checkbox">1542781860.2657604</span>
          </div>
        </div>
      
        <div class="name-row style-scope tf-multi-checkbox">
          <div class="icon-container checkbox-container vertical-align-container style-scope tf-multi-checkbox">
            <paper-checkbox class="checkbox vertical-align-center style-scope tf-multi-checkbox x-scope paper-checkbox-7" role="checkbox" tabindex="0" toggles="" aria-checked="true" aria-disabled="false" active="" checked=""><div id="checkboxContainer" class="style-scope paper-checkbox"><div id="checkbox" class="checked  style-scope paper-checkbox"><div id="checkmark" class="style-scope paper-checkbox"></div></div><paper-ripple id="ink" center="" class="circle style-scope paper-checkbox" checked="">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></div><div id="checkboxLabel" class="style-scope paper-checkbox"></div></paper-checkbox>

          </div>
          <div class="icon-container isolator-container vertical-align-container style-scope tf-multi-checkbox">
            <paper-icon-button icon="radio-button-unchecked" class="isolator vertical-align-center style-scope tf-multi-checkbox x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false" style="color: rgb(0, 119, 187);"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon><paper-ripple id="ink" center="" class="circle style-scope paper-icon-button">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0.0012;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-icon-button>
          </div>
          <div class="item-label-container style-scope tf-multi-checkbox">
            <span class="style-scope tf-multi-checkbox">1542782541.0073698</span>
          </div>
        </div>
      <template is="dom-repeat" class="style-scope tf-multi-checkbox"></template>
    </div>
  
  </tf-multi-checkbox>
    <paper-button class="x-button style-scope tf-runs-selector x-scope paper-button-0" id="toggle-all" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">
    Toggle All Runs
    </paper-button>
    
      <div id="data-location" class="style-scope tf-runs-selector">
        <span id="clipped-dataLocation" class="style-scope tf-runs-selector">logs/<wbr></span><template is="dom-if" class="style-scope tf-runs-selector"></template>
      </div>
    <template is="dom-if" class="style-scope tf-runs-selector"></template>
    
  </tf-runs-selector>
          </div>
        <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
      </div>
    </div>

    <div id="center" class="style-scope tf-dashboard-layout">
      <div class="center style-scope tf-scalar-dashboard">
        <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
        
          
            <tf-tag-filterer class="style-scope tf-scalar-dashboard">
    <paper-input no-label-float="" label="Filter tags (regular expressions supported)" class="search-input style-scope tf-tag-filterer x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-0">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content style-scope paper-input-container">
      <iron-icon prefix="" icon="search" slot="prefix" class="style-scope tf-tag-filterer x-scope iron-icon-1"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon>

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" class="style-scope paper-input" for="input-6" id="paper-input-label-6">Filter tags (regular expressions supported)</label><input is="iron-input" class="input-element style-scope paper-input" autocomplete="off" placeholder="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-6" id="input-6" tabindex="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
  </tf-tag-filterer>
          <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
          
            <tf-category-pane class="style-scope tf-scalar-dashboard x-scope tf-category-pane-0">
    <template is="dom-if" class="style-scope tf-category-pane"></template>
    
  </tf-category-pane>
          
            <tf-category-pane class="style-scope tf-scalar-dashboard x-scope tf-category-pane-0">
    
      <button class="heading style-scope tf-category-pane">
        <span class="name style-scope tf-category-pane">
          <template is="dom-if" class="style-scope tf-category-pane"></template>
          
            <span class="category-name style-scope tf-category-pane">batch_acc</span>
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </span>
        <span class="count style-scope tf-category-pane"><span class="style-scope tf-category-pane">1</span></span>
      </button>
      <iron-collapse class="style-scope tf-category-pane x-scope iron-collapse-0 iron-collapse-closed" role="group" aria-hidden="true" style="transition-property: max-height; max-height: 0px; transition-duration: 0s;">

    

    
        <div class="content style-scope tf-category-pane">
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </div>
      

  </iron-collapse>
    <template is="dom-if" class="style-scope tf-category-pane"></template>
    
  </tf-category-pane>
          
            <tf-category-pane class="style-scope tf-scalar-dashboard x-scope tf-category-pane-0">
    
      <button class="heading style-scope tf-category-pane" open-button="">
        <span class="name style-scope tf-category-pane">
          <template is="dom-if" class="style-scope tf-category-pane"></template>
          
            <span class="category-name style-scope tf-category-pane">batch_loss</span>
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </span>
        <span class="count style-scope tf-category-pane"><span class="style-scope tf-category-pane">1</span></span>
      </button>
      <iron-collapse class="style-scope tf-category-pane x-scope iron-collapse-0 iron-collapse-opened" role="group" aria-hidden="false" style="transition-property: max-height; transition-duration: 0s;">

    

    
        <div class="content style-scope tf-category-pane">
          
            
              <tf-paginated-view class="style-scope tf-scalar-dashboard x-scope tf-paginated-view-0">
    <span id="top-of-container" class="style-scope tf-paginated-view"></span>
    <template is="dom-if" class="style-scope tf-paginated-view"></template>
    <div class="style-scope tf-paginated-view">
                
                  
                    <div class="layout horizontal wrap style-scope tf-scalar-dashboard">
                      
                        <tf-scalar-card class="x-scope tf-scalar-card-0 style-scope tf-scalar-dashboard">
  <tf-card-heading class="style-scope tf-scalar-card">
    <div class="container style-scope tf-card-heading">
      <figcaption class="content style-scope tf-card-heading">
        <div class="heading-row style-scope tf-card-heading">
          
            <div itemprop="name" class="heading-label name style-scope tf-card-heading">
              batch_loss
            </div>
          <template is="dom-if" class="style-scope tf-card-heading"></template>
          <template is="dom-if" class="style-scope tf-card-heading"></template>
        </div>
        <template is="dom-if" class="style-scope tf-card-heading"></template>
        
      </figcaption>
      <template is="dom-if" class="style-scope tf-card-heading"></template>
      <paper-dialog id="descriptionDialog" no-overlap="" horizontal-align="auto" vertical-align="auto" class="style-scope tf-card-heading x-scope paper-dialog-0" role="dialog" tabindex="-1" aria-hidden="true" style="outline: currentcolor none medium; display: none;">
    
    
        <paper-dialog-scrollable class="style-scope tf-card-heading no-padding x-scope paper-dialog-scrollable-0 scrolled-to-bottom">
    

    <div id="scrollable" class="scrollable style-scope paper-dialog-scrollable">
      
          <tf-markdown-view class="style-scope tf-card-heading">
    <div id="markdown" class="style-scope tf-markdown-view style-scope tf-markdown-view style-scope tf-markdown-view style-scope tf-markdown-view"></div>
    
  </tf-markdown-view>
        
    </div>
  </paper-dialog-scrollable>
      
  </paper-dialog>
    </div>
    
  </tf-card-heading>
  <div id="tf-line-chart-data-loader-container" class="style-scope tf-scalar-card">
    <tf-line-chart-data-loader tooltip-position="auto" class="style-scope tf-scalar-card">
    <div id="chart-and-spinner-container" class="style-scope tf-line-chart-data-loader">
      <vz-line-chart2 id="chart" class="style-scope tf-line-chart-data-loader" style="">
    <div id="chartdiv" class="style-scope vz-line-chart2 plottable"><div class="component table style-scope vz-line-chart2" style="left: 0px; height: 200px; top: 0px; width: 330px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><div class="component axis y-axis style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 69.976px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="tick-mark-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line class="tick-mark end-tick-mark style-scope vz-line-chart2" x1="69.97600173950195" y1="178.61999988555908" x2="64.97600173950195" y2="178.61999988555908" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="69.97600173950195" y1="156.2924998998642" x2="64.97600173950195" y2="156.2924998998642" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="69.97600173950195" y1="133.9649999141693" x2="64.97600173950195" y2="133.9649999141693" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="69.97600173950195" y1="111.63749992847441" x2="64.97600173950195" y2="111.63749992847441" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="69.97600173950195" y1="89.30999994277953" x2="64.97600173950195" y2="89.30999994277953" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="69.97600173950195" y1="66.98249995708466" x2="64.97600173950195" y2="66.98249995708466" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="69.97600173950195" y1="44.65499997138977" x2="64.97600173950195" y2="44.65499997138977" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="69.97600173950195" y1="22.327499985694885" x2="64.97600173950195" y2="22.327499985694885" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 end-tick-mark" x1="69.97600173950195" y1="0" x2="64.97600173950195" y2="0" style="visibility: inherit;"></line></g><g class="tick-label-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" transform="translate(59.97600173950195, 0)"><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="178.61999988555908" dx="0em" dy="0.3em">-0.100</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="156.2924998998642" dx="0em" dy="0.3em">0.00</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="133.9649999141693" dx="0em" dy="0.3em">0.100</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="111.63749992847441" dx="0em" dy="0.3em">0.200</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="89.30999994277953" dx="0em" dy="0.3em">0.300</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="66.98249995708466" dx="0em" dy="0.3em">0.400</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="44.65499997138977" dx="0em" dy="0.3em">0.500</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="22.327499985694885" dx="0em" dy="0.3em">0.600</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="0" dx="0em" dy="0.3em">0.700</text></g><line class="baseline style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="69.97600173950195" y1="0" x2="69.97600173950195" y2="178.61999988555908"></line><g class="annotation-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="annotation-line-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-circle-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-rect-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-label-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component component-group main style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 69.976px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><div class="component gridlines style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="x-gridlines style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line x1="0" y1="0" x2="0" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="28.891555362277558" y1="0" x2="28.891555362277558" y2="178.61999988555908" class="style-scope vz-line-chart2 zeroline"></line><line x1="57.783110724555115" y1="0" x2="57.783110724555115" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="86.67466608683267" y1="0" x2="86.67466608683267" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="115.56622144911023" y1="0" x2="115.56622144911023" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="144.45777681138782" y1="0" x2="144.45777681138782" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="173.34933217366535" y1="0" x2="173.34933217366535" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="202.24088753594293" y1="0" x2="202.24088753594293" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="231.13244289822046" y1="0" x2="231.13244289822046" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="260.02399826049805" y1="0" x2="260.02399826049805" y2="178.61999988555908" class="style-scope vz-line-chart2"></line></g><g class="y-gridlines style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line x1="0" y1="178.61999988555908" x2="260.02399826049805" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="0" y1="156.2924998998642" x2="260.02399826049805" y2="156.2924998998642" class="style-scope vz-line-chart2 zeroline"></line><line x1="0" y1="133.9649999141693" x2="260.02399826049805" y2="133.9649999141693" class="style-scope vz-line-chart2"></line><line x1="0" y1="111.63749992847441" x2="260.02399826049805" y2="111.63749992847441" class="style-scope vz-line-chart2"></line><line x1="0" y1="89.30999994277953" x2="260.02399826049805" y2="89.30999994277953" class="style-scope vz-line-chart2"></line><line x1="0" y1="66.98249995708466" x2="260.02399826049805" y2="66.98249995708466" class="style-scope vz-line-chart2"></line><line x1="0" y1="44.65499997138977" x2="260.02399826049805" y2="44.65499997138977" class="style-scope vz-line-chart2"></line><line x1="0" y1="22.327499985694885" x2="260.02399826049805" y2="22.327499985694885" class="style-scope vz-line-chart2"></line><line x1="0" y1="0" x2="260.02399826049805" y2="0" class="style-scope vz-line-chart2"></line></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component guide-line-layer horizontal style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line class="guide-line style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="0" y1="156.2924998998642" x2="260.02399826049805" y2="156.2924998998642"></line></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component guide-line-layer vertical style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line class="guide-line style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="28.891555362277558" y1="0" x2="28.891555362277558" y2="178.61999988555908"></line></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component component-group style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><div class="component plot xy-plot scatter-plot style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="render-area style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component plot xy-plot scatter-plot style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="render-area style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><path class="symbol style-scope vz-line-chart2" fill="#0077bb" opacity="1" x="243.55581170399984" y="69.1748846625351" transform="translate(243.55581170399984,69.1748846625351)" d="M4,0A4,4,0,1,1,-4,0A4,4,0,1,1,4,0" display="block"></path></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component plot xy-plot line-plot style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="render-area style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="style-scope vz-line-chart2"><path class="line style-scope vz-line-chart2" style="fill: none;" stroke="#0077bb" stroke-width="2px" d="M32.99415622372097,-20.766529109308607L33.05193933444553,10.615686253554543L33.109722445170085,6.823264064354504L33.16750555589464,8.234107151794575L33.45642110951742,8.061424601458413L33.91868599531386,-4.969533258974309L34.78543265618218,-14.182107333602971L34.95878198835585,2.9511869292892925L35.0165650990804,-5.847281648217631L35.42104687415229,7.295134810920047L35.70996242777507,25.855485475956414L36.172227313571504,15.110557508025607L36.34557664574517,15.677836362314594L36.40335975646973,17.871576853127948L36.92340775299072,42.100619687999455L37.038973974439834,43.05775245024856L37.096757085164384,31.44859448077949L37.55902197096083,23.284561091092854L37.8479375245836,12.318744720301538L37.963503746032714,30.208733032367434L38.02128685675727,0.20333345958283644L38.25241929965549,-13.965523802422325L38.541334853278265,3.9089979717851406L38.599117964002815,18.524216819738626L38.77246729617649,9.61996401832107L39.119165960523816,36.02043507388632L39.17694907124837,31.57021752670667L39.46586462487115,30.79237848102366L39.58143084632026,32.02854787805103L39.63921395704481,27.628168837238945L39.87034639994303,33.40200408845345L39.92812951066759,23.06065924409438L40.332611285739475,34.762412529233075L40.79487617153591,42.36032024844431L40.852659282260475,51.52367683914353L40.910442392985026,48.566862357187915L41.14157483588324,46.12648397234838L41.777189053853355,48.48940227616379L42.123887718200685,59.22581072789879L42.41280327182346,49.819963505425505L42.58615260399712,53.35631049486267L43.279549932691786,43.45244806231554L43.626248597039115,54.339357874411974L43.915164150661894,34.44274356534487L43.972947261386444,33.30627503235132L44.08851348283555,33.72643222499954L44.31964592573378,33.42375446433721L44.550778368632,30.719828887870563L44.66634459008111,-15.492140448239098L44.95526014370389,5.965404487043372L45.764223693847654,28.725671103930324L46.05313924747043,25.50819158711633L46.11092235819499,32.1218784264978L46.342054801093205,41.013189655874385L46.39983791181776,28.259202618962178L46.630970354715984,32.35202344609249L46.688753465440534,55.84311484013111L46.80431968688965,71.40701923644598L46.97766901906331,65.89797980557674L47.26658457268609,44.096968503003296L47.32436768341064,38.075971603344044L47.67106634775797,7.406991956082123L47.72884945848253,19.44891349048521L47.786632569207086,19.27501689001062L47.95998190138075,-11.690088182545622L48.480029897901744,33.22086538201228L48.942294783698195,34.31331059873017L49.86682455529107,43.39797451977762L50.0979569981893,1.5433276941649012L50.444655662536626,2.727521730834667L50.67578810543484,1.8030798729630817L50.791354326883955,28.441144375162423L51.19583610195584,38.40467464173949L51.48475165557861,57.017168425102156L51.54253476630317,53.79333693607397L52.46706453789605,27.869026423796754L53.218244977315265,21.586553392574302L53.27602808803982,45.447280538699374L53.39159430948894,33.664489625064164L53.73829297383626,51.96675831629034L54.25834097035726,45.19888919989049L54.37390719180637,47.40171939426429L54.431690302530924,48.10812760293328L54.60503963470459,34.10926130805086L54.951738299051925,47.741836515854146L55.47178629557292,50.78695851575725L55.64513562774658,28.461808778926667L55.70291873847114,28.52032506286173L56.222966734992134,35.98841501003537L56.280749845716684,28.97621489198451L57.089713395860464,41.36243605330091L57.147496506585014,52.10113275230978L57.26306272803413,28.914285911043123L57.378628949483236,27.447126787462622L58.18759249962701,26.675181574694705L58.47650805324978,36.03355521544435L58.592074274698895,52.29672076706392L58.76542360687256,63.70602202325668L59.227688492668996,45.62204629799331L59.574387157016325,49.57297783436974L59.68995337846545,37.15291959921234L59.863302710639104,46.8915740231005L60.21000137498643,56.034538913752584L60.49891692860921,49.261282137259116L60.55670003933377,52.83858200156597L61.07674803585476,48.59144477217538L61.19231425730388,46.388707888344896L61.42344670020209,64.32316002201833L61.48122981092665,60.04344800154071L61.77014536454942,12.861988110838098L62.00127780744764,28.755981103529336L62.0590609181722,43.55777427129462L62.34797647179498,41.11778096545916L62.46354269324409,61.83725268789597L62.52132580396864,28.86087109061691L62.63689202541776,43.021867324230215L62.752458246866865,30.58865097843639L62.810241357591416,52.292518988578735L63.099156911214195,43.85400881774186L63.156940021938745,57.53004688424676L63.56142179701063,48.19511771650701L63.67698801845974,39.133611288508206L64.02368668280708,46.503866428608916L64.13925290425618,54.81864664777676L64.42816845787897,33.55946965976196L64.71708401150174,35.72586096053024L64.83265023295084,48.10563051985446L65.52604756164551,58.85145151485982L65.93052933671738,35.02661356699787L65.98831244744194,34.26172744076567L66.10387866889106,39.38249353550404L66.16166177961561,50.64937954990947L66.21944489034017,64.06037481635565L66.27722800106473,63.34718817861115L66.39279422251384,47.63125340626752L66.5661435546875,44.17915725010167L66.79727599758571,53.56187270319124L67.0861915512085,42.178139412262084L67.25954088338216,39.71758126471511L67.49067332628037,47.754528681352525L67.66402265845406,51.32726488098008L67.7218057691786,51.153776587046806L67.83737199062772,15.003948727286513L67.89515510135227,1.8579018401600536L68.06850443352593,28.082698492384964L68.12628754425049,25.770055551402777L68.29963687642415,53.59687080698107L68.35741998714872,59.94841651528891L68.64633554077149,50.910767079137074L68.70411865149605,52.64948344718431L69.10860042656793,48.78966431714403L69.28194975874159,35.118586661750356L69.5130822016398,9.174827755881381L69.68643153381348,35.19680058668669L69.80199775526258,47.61574628938649L69.9175639767117,54.53903793822484L70.14869641960992,43.888440763656035L70.37982886250813,46.38396703115157L70.5531781946818,58.778631356980796L70.61096130540636,49.744002350130756L70.66874441613092,60.8855317692726L70.72652752685548,57.61721043742389L71.07322619120279,46.28075267087178L71.41992485555014,46.188838181798076L71.53549107699924,43.166769318874685L71.5932741877238,44.02731583822421L71.82440663062201,36.878142229939186L72.05553907352024,34.05899486935064L72.22888840569391,44.752547119272094L72.28667151641847,47.65253309253046L72.34445462714301,50.87693496863672L72.46002084859212,43.42472460779041L72.57558707004122,26.57979215369261L73.09563506656222,28.304490650161597L73.15341817728678,41.92694953969223L73.32676750946044,45.73358568369878L73.384550620185,38.33848851065673L73.44233373090955,41.29924472447735L73.55789995235868,59.51578251876042L73.61568306308322,39.37432740499773L73.96238172743055,67.8339262481815L74.19351417032877,38.44689601972752L74.25129728105334,69.49975501980832L74.36686350250244,70.79377837883902L74.48242972395155,33.65320101306364L74.65577905612521,52.52098547560243L74.71356216684977,77.99078482637577L74.77134527757433,64.62234859021571L74.82912838829888,77.40053391885762L75.00247772047256,33.550616809949446L75.23361016337077,52.91686799566905L75.40695949554443,66.95864416644795L75.52252571699354,43.15516044310036L75.5803088277181,38.345206137852756L75.63809193844264,20.604792802416767L75.98479060278999,27.90700838051734L76.04257371351454,31.090693111779615L76.15813993496364,34.17666451756793L76.33148926713731,37.48383203339384L76.56262171003554,46.00995124985968L76.7359710422092,57.371125826422684L76.96710348510742,41.93267410892949L77.19823592800563,46.998185208566525L77.31380214945476,-0.8095786181038704L77.60271770307753,9.507790188648244L77.77606703525119,18.275834061113045L78.98951236046685,28.215348597207708L79.10507858191596,24.14214685039866L79.16286169264052,14.53890003676048L79.39399413553873,16.506700265396773L79.50956035698785,35.30968751065754L79.74069279988606,36.862218335793955L79.85625902133518,33.208057155492895L79.97182524278429,48.236688389212105L80.14517457495795,37.67616625049223L80.31852390713162,51.6862210709609L80.66522257147895,57.228935679730554L80.89635501437718,78.64365229368902L81.30083678944905,53.63648248545738L81.35861990017361,45.07103089312881L81.41640301089816,44.596772616227014L81.47418612162272,20.98495573849982L81.76310167524551,23.212180023371104L81.87866789669461,27.026304186641426L82.05201722886827,24.12413362381369L82.10980033959282,42.96906953587893L82.16758345031738,18.871433346256765L82.22536656104194,10.443671683627485L82.68763144683838,26.204592508331643L82.74541455756294,16.76616415699371L82.9187638897366,29.574420584096885L83.32324566480848,36.3992317861333L83.49659499698215,37.30650002370828L84.01664299350315,50.03832237039779L84.13220921495225,65.11337699808409L84.18999232567681,54.4693988846673L84.24777543640137,76.82115417685952L84.42112476857503,72.0701318630249L84.47890787929958,67.07191930380594L84.71004032219781,78.47605206029087L84.99895587582058,79.09302294782381L85.05673898654514,41.79495284771963L85.28787142944336,56.394001803515835L85.34565454016793,65.16361995562592L85.40343765089247,79.53693770198753L85.46122076161703,73.59286733548562L85.63457009379069,70.20168381930006L85.69235320451524,86.33937505210963L85.7501363152398,92.85380797376042L85.92348564741346,65.4488615725232L85.98126875813801,74.92507659092702L86.44353364393446,76.60034476288307L86.67466608683267,64.15523724336833L86.79023230828179,47.14965004306387L86.9057985297309,56.11515655851589L86.96358164045546,73.57998883763656L87.36806341552735,51.50163621764929L87.42584652625189,21.85410327705148L87.48362963697645,22.377176932791087L87.65697896915012,46.00479115723391L88.11924385494656,53.01761293331961L88.23481007639566,65.98307759265275L88.46594251929389,65.45297888869119L88.52372563001845,67.12768826204433L88.6970749621921,71.8483438864006L88.81264118364122,57.936597469882386L88.92820740509033,48.91294870997976L89.2171229587131,64.74902233922604L89.85273717668322,74.7532224333572L89.96830339813232,36.21112095362952L90.31500206247965,40.62806372514535L90.3727851732042,39.867040674842116L90.48835139465331,33.002297263380456L90.60391761610244,52.160030076178316L90.83505005900065,33.934178162000535L91.06618250189887,37.94954450230324L91.18174872334798,51.133863498101476L91.47066427697077,70.3131242888738L91.52844738769531,60.38579816752424L91.58623049841987,55.01717098912275L92.04849538421631,61.25943235364055L92.39519404856364,78.84573790089607L92.62632649146185,56.409041429746054L92.68410960218641,51.99253497951116L92.74189271291098,54.4859095284306L93.26194070943197,47.939522454563445L93.37750693088107,60.27359574750274L93.55085626305474,56.451773456063734L93.89755492740207,32.94849092931659L93.95533803812663,38.58680624048935L94.35981981319851,40.016552265812464L94.47538603464763,42.485307532948354L95.63104824913871,58.00733378180877L95.68883135986329,43.27452890788646L95.74661447058784,64.23773946566067L95.9199638027615,74.19756490850513L95.97774691348606,57.39355233311723L96.03553002421062,75.58196190102264L97.0756260172526,91.20255341392487L97.24897534942627,90.97627636393713L97.36454157087539,86.2384959406759L97.76902334594726,93.03995514945403L97.82680645667182,88.8172515696868L98.05793889957005,67.20617947453273L98.17350512101915,67.68767798544549L98.28907134246826,78.2650662846821L98.57798689609103,89.29861158456481L98.69355311754015,72.26553707919994L98.80911933898926,69.46448598275431L99.04025178188748,61.028466190158866L99.61808288913303,60.778419851057734L100.08034777492946,54.36745944246752L100.13813088565404,53.39752301610564L100.1959139963786,64.41596739099492L100.3114802178277,67.42840957124598L100.48482955000135,60.3300226432884L100.65817888217502,32.45389402121606L100.77374510362412,57.22861870868117L100.94709443579781,64.37846136649817L101.29379310014512,60.49730186539604L101.40935932159424,56.45885564881948L101.52492554304334,60.66239334040296L101.58270865376791,35.13394866913097L101.75605798594157,44.34053209691814L101.87162420739068,63.94635104731111L102.04497353956434,73.63474646761726L102.50723842536078,68.47225198217397L102.91172020043267,56.48973841507505L103.25841886478001,60.859617888097176L103.48955130767823,68.06761650916869L103.54733441840277,77.1086676961091L103.60511752912733,70.63657917892556L103.66290063985188,60.504373529479665L104.00959930419923,53.56808549020707L104.18294863637288,73.29278095573525L104.58743041144477,71.20270520272067L104.70299663289389,80.73182106647769L104.87634596506754,69.53347466460721L104.9341290757921,78.9907525511718L105.10747840796576,64.71990639078042L105.4541770723131,52.23332954220115L105.56974329376222,67.09196786939579L105.74309262593587,63.93794902881265L105.91644195810953,52.76953844601921L105.97422506883409,73.11669969075314L106.03200817955866,87.60465314556552L106.0897912902832,58.79273601960976L106.14757440100776,17.408054297163687L106.49427306535509,35.01450904594927L107.18767039404975,16.8877181658151L107.53436905839709,49.834884741558994L107.82328461201986,57.78065083854571L108.05441705491808,61.88902321354871L108.45889882998996,19.385989257240368L108.57446505143908,55.2487684734819L108.86338060506185,61.827315002196755L108.92116371578639,37.362623809830865L109.09451304796008,49.724721118750494L109.15229615868463,55.60632189121266L109.26786238013374,51.440577261348565L109.32564549085829,63.8399328797783L109.49899482303195,32.569930174551075L110.4813077053494,44.16881736238602L110.53909081607395,57.77663382189269L110.59687392679851,68.0355701862566L110.88578948042128,69.46063182609954L111.05913881259494,52.26006712222116L111.29027125549317,41.07553462135351L111.34805436621772,59.755469727477674L111.40583747694228,46.28501652654887L111.6369699198405,73.61579306703207L111.69475303056505,69.58524679761788L111.86810236273871,18.618490774203565L112.09923480563694,45.84290235978381L112.21480102708605,33.76337198370325L112.96598146650527,49.29163034887779L113.02376457722981,63.64099560910397L113.54381257375081,74.63881337306164L113.60159568447537,58.55298690021722L114.23720990244549,61.390210756469656L114.69947478824191,86.42346408260163L114.75725789896647,88.2634723484434L114.93060723114014,91.80894076373019L115.04617345258924,97.20612772606756L115.1039565633138,70.53423686331762L115.56622144911023,38.828315351615174L115.6240045598348,60.178739997604694L115.68178767055936,81.12050783018714L115.91292011345757,67.40629166297146L116.02848633490669,83.56007882188214L116.14405255635579,90.50507125786636L116.60631744215223,71.88618215359253L116.895232995775,84.26915561026398L116.95301610649956,62.51697746754263L117.12636543867323,64.09702818574154L117.53084721374512,86.6094795021464L118.22424454243978,90.54140012326219L118.51316009606255,74.01374023953677L118.57094320678712,90.2778950478973L118.68650942823622,72.0201399026176L118.74429253896078,67.1612643228429L119.0909912033081,74.5678823888346L119.49547297838,82.41295164389031L119.55325608910455,83.20382380815836L120.07330408562555,98.67409993715361L120.30443652852377,69.78708865398013L120.42000274997287,40.63033583168587L120.6511351928711,65.08653202070971L121.1711831893921,71.42465103479867L121.2867494108412,55.876306295591306L121.46009874301485,72.48130235286004L121.57566496446398,65.37427631693458L121.63344807518854,66.54932206905016L121.92236362881131,58.573967928600496L122.38462851460775,46.76965580559735L122.50019473605686,51.57355905782978L122.90467651112874,65.04602116803026L122.9624596218533,49.50754978926895L123.19359206475153,59.30064917332297L123.4825076183743,61.60429586648365L123.65585695054796,82.31094650119476L123.77142317199707,77.99589813431918L123.94477250417074,52.32356297437441L124.1181218363444,29.232377063134095L124.34925427924261,36.99036199551273L124.81151916503906,27.275006570072833L125.27378405083552,24.70304044240072L125.38935027228462,48.19715000442156L125.50491649373373,59.816164178253715L125.67826582590739,70.54211365375123L125.73604893663195,56.199628289472074L126.08274760097927,71.95759351076417L126.14053071170383,69.4478613055801L126.60279559750026,75.62801284873632L126.77614492967395,51.747739198919106L126.83392804039849,51.78229007990909L126.89171115112305,56.54279092164991L126.9494942618476,80.67171745662326L127.06506048329672,42.83270276000019L127.23840981547038,13.489702352537932L127.64289159054226,46.17161450321916L127.70067470126682,55.64735869408655L127.98959025488959,60.05803409394187L128.1051564763387,49.47976665289016L128.16293958706325,44.43423900500366L128.2207226977878,43.023408876994665L128.74077069430882,54.69067928510886L128.97190313720702,52.33350540602122L129.08746935865614,59.301425151376606L129.1452524693807,57.92456822337583L129.2608186908298,54.32313244198831L129.5497342444526,53.20184579110088L129.60751735517715,58.543114839043156L129.72308357662624,29.028993201136302L129.7808666873508,50.285774028151764L129.83864979807535,62.54393539801366L130.01199913024902,68.79311551352882L130.12756535169814,37.818419600678595L130.24313157314725,60.04548681718143L130.9365289018419,71.19559799719909L131.4565768983629,79.82335853410068L131.80327556271024,76.46590132642442L131.86105867343477,74.61425049817525L132.2077573377821,82.78977544068714L132.2655404485067,88.91657005644554L132.32332355923123,78.05981801188368L132.78558844502768,76.07814434953394L133.19007022009956,76.35338581864355L133.652335105896,89.176537742305L133.71011821662057,97.84347854905094L133.88346754879421,61.99703707587132L134.28794932386612,42.009339028562664L134.4035155453152,33.087290165241654L134.63464798821343,71.7020728374317L135.212479095459,54.84323563991302L135.27026220618356,56.57115347799372L135.4436115383572,51.95800285101076L135.73252709198,68.04654204885226L135.9636595348782,62.393051184666206L136.71483997429743,51.67758837064714L136.83040619574655,45.973662289570484L136.8881893064711,36.94673313243797L137.23488797081842,55.149048174133625L137.29267108154298,75.09165579394234L137.35045419226753,83.93526201281823L137.46602041371662,71.08899339631691L137.58158663516573,84.11360811745466L138.27498396386042,64.14453581217086L138.7950319603814,62.59508423400956L139.0261644032796,74.14269327509652L139.3150799569024,93.68741536032863L139.37286306762695,81.40126699271286L139.66177862124974,73.59610506219575L140.00847728559705,60.12103150503036L140.0662603963216,61.52400001436716L140.41295906066895,80.30186162058408L140.64409150356715,83.0540893661104L140.75965772501627,52.46113295500676L140.87522394646538,58.78348325359805L141.22192261081273,68.37394649076238L141.3952719429864,58.75885909796642L141.5108381644355,57.30897578269435L141.68418749660916,51.74249261691848L141.85753682878283,60.558784464730465L142.0308861609565,50.25187641201887L142.14645238240558,67.96897732480411L142.55093415747749,68.00612602417252L142.6665003789266,77.85053891254894L143.35989770762126,86.61257854905313L143.41768081834581,83.86309117763108L143.47546392907037,83.43043079554776L144.28442747921414,82.96925485111541L144.51555992211237,62.716048750322614L144.74669236501057,57.60849172846444L144.80447547573513,55.340084935801315L144.9778248079088,51.16947716740722L145.03560791863336,50.268573978750055L145.208957250807,57.62951772921217L145.32452347225612,68.23938683637748L145.44008969370523,76.88877116158604L145.72900524732802,73.80816375291468L145.9023545795017,76.35394697933788L146.0179208009508,72.69298900502908L146.19127013312445,75.81727762130872L146.36461946529812,97.41937169773036L146.5379687974718,56.21998878182491L146.65353501892088,70.05061973618034L146.82688435109455,39.037208913137306L147.00023368326825,42.26230435628807L147.0580167939928,56.267106434742246L147.9247634548611,60.16355051360043L148.32924522993298,66.33327340800471L148.6181607835558,72.85065155468143L148.67594389428035,78.20082366320108L148.73372700500488,81.16472472781942L148.849293226454,76.63825021357403L148.90707633717855,50.890498324415375L149.02264255862767,67.29417569957245L149.13820878007678,75.71082879748317L149.31155811225042,68.28905825918233L149.36934122297498,78.09854796698514L149.6004736658732,56.6184200503933L149.88938921949597,65.25368035818626L150.0049554409451,83.52645356974404L150.40943721601698,90.10730843450243L150.5250034374661,83.7541197528496L150.58278654819065,82.15386353487635L150.7561358803643,83.05982666459781L150.8717021018134,59.86147956901456L151.10283454471164,63.93673271931284L151.27618387688528,43.348340592271654L151.3917500983344,59.917468316696926L151.50731631978354,23.173865438864567L151.5650994305081,40.610096593713564L152.08514742702909,69.9295384579833L152.14293053775364,78.89216379397656L152.2007136484782,74.44976327466364L152.4318460913764,87.9577181438467L152.60519542355007,86.72888313364294L152.77854475572374,63.99082839409358L152.83632786644827,84.83667053012695L152.89411097717283,83.13148970773383L153.00967719862197,74.47172394571938L153.06746030934653,79.34423028244065L153.18302653079564,82.81678894638246L153.4719420844184,57.45383325436528L153.52972519514296,54.062330637771296L153.87642385949027,48.232529567253636L153.93420697021483,70.45385704108953L153.9919900809394,82.61756836505018L154.22312252383762,66.98589561450059L154.3386887452867,74.32447651903988L154.45425496673585,80.0708856361377L154.68538740963407,80.95851301732371L155.26321851687962,93.04353548808552L155.3787847383287,70.91726323617397L155.49435095977782,73.53665197784994L155.55213407050238,70.31234886825129L155.7832665134006,65.41541687818318L155.89883273484972,80.72110291277829L155.95661584557428,72.97657614938748L156.01439895629883,51.89654991293261L156.4188807313707,44.981484160996985L156.65001317426893,63.661372074459806L156.8233625064426,69.96125730158744L157.4589767244127,73.53592766707861L157.69010916731094,58.47484784938618L157.80567538876005,74.87970530098768L157.9790247209337,46.39460912149207L158.0945909423828,72.07949360469205L158.15237405310737,76.705660668509L158.26794027455648,89.87840397674246L158.32572338528104,70.92088816768955L158.3835064960056,58.20138537672116L158.44128960673012,69.44425771293642L158.55685582817924,68.25017574203079L158.67242204962835,73.33285037762653L158.7302051603529,91.30969590572325L158.96133760325114,85.0773183232054L159.0191207139757,80.19700674648062L159.1346869354248,93.21026056860683L159.30803626759848,73.66452290039116L159.59695182122124,68.73027544560392L160.2903491499159,84.4887863654692L160.52148159281413,97.6890169871234L160.6948309249878,91.58772711038227L161.09931270005967,77.29548968731156L161.27266203223334,89.49399954494325L161.61936069658066,74.45419539633522L161.6771438073052,77.16087626010734L161.79271002875436,84.30898077621801L161.96605936092803,85.60289619023015L162.13940869310167,59.9783633163464L162.19719180382623,57.02346131722747L162.2549749145508,52.32032000836348L162.77502291107177,50.96257708539356L162.83280602179633,65.57503840224673L162.8905891325209,49.94065653251289L162.94837224324544,50.647509141942436L163.06393846469453,48.54718311778407L163.35285401831734,67.5643737428795L163.75733579338922,52.65983303696626L163.81511890411377,53.534257666901L163.87290201483833,65.22804428472982L163.9306851255629,79.42939610197416L164.39295001135932,71.26997084585525L164.91299800788033,73.37866715369633L165.2019135615031,76.16243083294493L165.66417844729952,86.63114654592437L165.72196155802408,70.71724759922944L165.89531089019775,81.64473610604607L166.53092510816788,75.50419313045998L166.70427444034152,50.933243779226586L166.8776237725152,50.30064737609925L166.93540688323975,53.195988694178666L166.9931899939643,32.762922217034685L167.10875621541342,43.77211808732906L167.57102110120985,50.235434541791506L167.68658732265894,51.61862690794683L167.80215354410808,61.949109952678555L167.9177197655572,54.86202561331534L168.49555087280274,69.848281120795L168.95781575859917,60.7066807517601L169.01559886932372,77.20598004715589L169.3045144229465,80.09181787787183L169.65121308729385,83.22804918979128L170.11347797309028,92.62510615453675L170.4601766374376,74.5773178985297L170.51795974816216,67.35555243012617L170.5757428588867,62.60916623325025L170.6335259696113,49.63798445029971L170.74909219106038,31.373407002168534L171.03800774468317,54.08855794320793L172.13588684844973,69.82806715400713L172.25145306989882,70.62842256136726L172.48258551279704,81.35966500096156L172.5403686235216,87.89545937968448L172.65593484497072,94.817848049938L172.94485039859347,92.49768051699702L173.11819973076715,97.03873097002939L173.23376595221626,101.95421481233691L173.4071152843899,77.08639607376611L173.46489839511446,78.10753419901468L173.52268150583902,83.77643839512972L174.1005126130846,100.07641267752965L174.15829572380915,92.48659777736209L174.27386194525826,99.1221530240816L174.3316450559828,85.75781851062226L174.4472112774319,69.67631399131052L174.67834372033013,93.86413152058685L174.79390994177925,93.92151431213489L174.9672592739529,92.02773892406199L175.08282549540203,94.78172131532843L175.19839171685115,95.41273094017102L175.31395793830023,99.97485640794642L175.83400593482122,98.83345822957008L176.06513837771945,58.828192887530165L176.18070459916856,65.60481490966514L176.29627082061768,55.06239785736369L176.41183704206676,29.908680922042606L176.58518637424046,52.7423187294886L176.75853570641414,50.88041165796082L177.10523437076145,57.15700695356617L177.163017481486,73.2474257476555L177.3941499243842,67.80601933318258L177.56749925655788,59.25147728974822L177.74084858873155,68.91548568182479L177.85641481018067,74.6892492038581L178.14533036380345,74.88307439812145L178.37646280670168,67.26697286067657L178.54981213887532,73.41280624249816L178.60759524959988,82.30071690939302L178.66537836032444,66.61662406521859L178.723161471049,72.71756175457094L178.89651080322264,80.39419595579446L179.12764324612087,96.54864602033517L179.47434191046818,73.73220791378941L179.53212502119277,75.22800894199803L179.70547435336644,83.66295262633436L180.16773923916287,81.92679776381311L180.22552234988743,67.04467913107871L180.45665479278563,87.96615249475991L180.57222101423474,60.882938932240776L180.6300041249593,70.39387366155387L180.80335345713297,70.8272411675831L180.86113656785753,64.58898748315005L180.97670278930661,46.1493395971157L181.15005212148031,67.74443512131842L181.20783523220487,52.379338836842265L181.323401453654,75.33547248642243L181.6701001180013,70.03460126072912L181.84344945017497,61.678679369435926L182.01679878234862,62.49146005383312L182.07458189307317,67.9988107172387L182.3057143359714,70.66832286558584L182.65241300031875,50.802574342244526L183.40359343973796,58.72994507467105L183.63472588263616,66.53385036689838L183.75029210408528,87.54866196097845L184.03920765770806,67.33458486861271L184.32812321133085,62.177994045885995L184.55925565422905,57.41881570241095L184.84817120785183,63.715118261549776L185.07930365075003,81.3470023771978L185.31043609364826,66.03810853944128L185.48378542582196,42.65030152786068L186.35053208669027,50.02401232589409L186.92836319393584,51.50770086454628L186.9861463046604,24.596218532355834L187.04392941538495,52.668378202606306L187.2172787475586,55.499500296116125L187.27506185828315,71.4845792491764L187.56397741190594,70.04726122198241L187.91067607625325,59.580392143792224L187.9684591869778,71.16559135424849L188.02624229770237,81.76386776762415L188.08402540842692,83.35673164445427L188.14180851915145,57.19476544598582L188.199591629876,63.108570768028486L188.25737474060057,81.50282003455371L188.71963962639703,65.74213653077373L190.0486511730618,46.80887938736777L190.10643428378637,63.80879155414675L190.1642173945109,73.48940126331601L190.5686991695828,80.51769499979439L191.20431338755287,84.82899729339262L191.26209649827743,72.42287646135205L191.319879609002,81.11819205267388L191.55101205190024,95.98387796114358L192.01327693769667,85.36121475109671L192.07106004842123,87.95589529264028L192.24440938059487,88.24528130588035L192.359975602044,56.7165548158403L192.41775871276855,76.53977681429826L192.53332493421766,56.83378666984396L193.5156378165351,55.94550685864206L193.63120403798422,54.31270716352212L193.92011959160698,55.19064291151362L194.09346892378065,43.87795841690908L194.2668182559543,53.5295853828964L194.7868662524753,72.8230048893412L194.84464936319986,79.77036605881038L195.1913480275472,74.45701433698945L195.3069142489963,77.54801380465616L195.36469735972085,75.69044590899696L195.7113960240682,85.38297338624645L195.88474535624187,78.67784369593522L195.94252846696642,91.5783724379904L196.2314440205892,95.38817269487154L196.3470102420383,95.31130888706384L196.4625764634874,85.47261119768304L196.63592579566108,89.39005234783401L196.69370890638564,90.7983850584667L197.15597379218207,71.95403842749602L197.44488934580485,72.8825140127471L197.56045556725397,74.80658850710874L197.61823867797852,72.88436274738015L197.67602178870308,45.055213168194996L197.90715423160128,33.74931738669383L198.31163600667318,43.765500188392195L198.71611778174508,72.05851456388346L198.88946711391873,74.93125562058371L199.35173199971518,75.48876952066888L199.64064755333794,94.03563715496966L200.33404488203263,101.91304228579627L200.6229604356554,92.63410151309455L200.7385266571045,78.24939250820866L200.79630976782906,73.50961056136511L200.9696591000027,86.40110426549353L201.54749020724825,75.49859239149825L201.89418887159562,86.45161609476938L202.12532131449382,89.32476127517342L202.4142368681166,76.7158901316334L202.5298030895657,84.27255679448437L202.6453693110148,88.22553290725753L202.76093553246392,75.9711591645769L202.87650175391303,66.7863354059322L203.10763419681123,73.26880738660255L203.16541730753582,56.47805099427177L203.3387666397095,59.29795964436535L203.39654975043405,62.25392556327269L203.4543328611586,58.30545988592756L203.6854653040568,69.19864091697585L203.80103152550592,71.91489673272366L203.9743808576796,83.95681543051674L204.03216396840412,77.98745839566763L204.14773018985323,76.69035040066855L204.2055133005778,81.69661029673033L204.43664574347602,61.00044468717819L204.5522119649251,64.17136369725111L204.60999507564966,82.30247421602596L204.66777818637425,68.73689117181101L204.89891062927248,65.05816893433209L205.01447685072156,73.3237091278371L205.13004307217068,88.29730641818757L205.30339240434435,98.33523549614115L205.82344040086534,97.55418714734117L205.996789733039,77.02987631460371L206.11235595448812,69.27498384619904L206.22792217593724,75.57193781089615L206.34348839738635,89.62257760785343L206.45905461883547,91.59012843744391L206.97910261535645,84.0133877308537L207.21023505825465,55.71359264292357L207.32580127970377,63.45994099128187L207.49915061187744,86.812031937714L207.9614154976739,86.04090980278166L208.1925479405721,84.78387643392317L208.42368038347033,73.3564716237687L208.77037904781764,78.40233476074091L209.17486082288954,69.95858678590157L209.29042704433866,90.1489774303893L209.57934259796144,85.14189957055294L209.98382437303331,89.15518478423753L210.15717370520696,89.9125551424959L210.21495681593152,70.17335576058186L210.5038723695543,77.97473024877897L210.5616554802789,73.4277128136702L210.61943859100344,54.50592923797531L210.73500481245253,78.79047323854829L210.9083541446262,73.57552577248173L211.19726969824896,76.48456378659476L211.37061903042263,74.43184787203649L211.4284021411472,68.85082089596624L211.5439683625963,76.57993830843267L211.89066702694362,76.71994931766862L212.4684981341892,67.01398493101658L212.87297990926106,64.01894752360013L213.04632924143473,72.80910678147788L213.1041123521593,52.78589163411439L213.5085941272312,64.38472319062004L213.56637723795575,79.60632044005968L213.6241603486803,68.31793745809314L213.68194345940486,77.1303187619975L213.97085901302762,65.55715544319749L214.1442083452013,53.955420569449444L215.47321989186605,74.04706146554604L215.5310030025906,82.30809671005439L215.70435233476428,59.59288141932227L215.81991855621337,70.87221252233648L216.10883410983615,63.9220740141314L216.2821834420098,77.90649401716473L216.33996655273435,81.62055518295267L216.4555327741835,83.6544655275815L216.51331588490805,90.73401554353185L216.91779765997993,71.32932772238104L217.03336388142904,86.50007196468968L217.14893010287815,85.05210477745126L217.66897809939914,84.54534550400459L217.95789365302193,104.58303476555871L218.01567676374648,103.14293138421678L218.3623754280938,83.28829551432447L218.4779416495429,84.53489651142854L218.59350787099203,68.81255804499756L218.70907409244114,63.45918855361653L218.94020653533934,46.796991593688915L219.113555867513,66.68246949509037L219.34468831041121,64.86943188990972L219.6913869747586,65.57701691532502L219.86473630693223,58.9020040894288L219.9225194176568,46.85284653621903L219.98030252838134,67.63176415049999L220.3270011927287,53.861404768682945L220.78926607852512,61.95662911557996L221.02039852142335,72.33117899158461L221.13596474287246,85.40883138634659L221.19374785359702,78.01527771115525L221.25153096432157,67.39868242661382L221.48266340721977,70.68907943987038L221.77157896084256,77.40428570140597L222.17606073591443,80.79865493748329L222.40719317881266,44.74146134671875L222.6383256217109,27.58486852978328L222.69610873243545,45.82001735424103L222.86945806460912,67.96878044515383L223.10059050750732,79.70461287287253L223.21615672895643,50.34269222758121L223.56285539330375,72.9720778111512L223.73620472547742,60.37564181432374L223.85177094692656,61.44611865523011L223.96733716837565,80.45439023466336L224.08290338982476,101.62066357673412L224.25625272199844,98.41071229628879L224.37181894344755,110.49217151912877L224.5451682756212,74.75451880409443L224.77630071851942,67.32878005634637L224.89186693996854,60.29146623320847L225.23856560431585,74.88814333508104L225.52748115793864,67.73978399126625L225.5852642686632,89.5896168398719L225.81639671156142,78.3104870200693L226.2208784866333,95.36335549116316L226.68314337242973,73.28947650583177L226.85649270460343,81.71119827601404L227.02984203677707,45.62811823820118L227.08762514750163,45.65386936062836L227.2609744796753,50.932396451437L227.54989003329806,60.418820518200064L227.8965886976454,78.88238083828686L227.95437180836996,82.04880000172368L228.18550425126816,94.88042046356938L228.3010704727173,80.87110326662723L228.6477691370646,69.30219794906053L228.70555224778917,63.242125554016454L228.8211184692383,61.518610088522465L229.05225091213651,86.93019439365233L229.4567326872084,84.41889965258852L229.80343135155573,65.13814982107648L229.9767806837294,77.55617155263333L230.32347934807672,64.7738934549025L230.78574423387315,75.31074547455107L230.95909356604682,74.66467698595976L231.07465978749593,51.63803822140039L231.13244289822046,66.56940907767361L231.42135845184328,71.73051340838632L231.47914156256783,65.89072283341848L231.5369246732924,76.66522666283336L231.65249089474148,59.618702103042054L231.7680571161906,66.84835725583935L231.82584022691515,56.45337606860062L231.94140644836426,49.23777486479989L232.23032200198702,56.47425890756733L232.8081531092326,72.27012780330774L233.1548517735799,84.1353606674638L233.27041799502902,96.44421387085359L233.32820110575358,91.96411283686079L233.5593335486518,74.0443604902411L233.61711665937636,81.09220953368325L233.84824910227456,90.61646745111192L233.96381532372368,85.43807067445579L234.31051398807102,89.42626595252423L234.36829709879558,92.56237573588827L234.54164643096925,93.09301435022391L234.77277887386745,91.10968907862525L235.4661762025621,85.80547947682378L235.7550917561849,93.71028653802529L235.81287486690945,96.79232533160786L235.92844108835857,94.05250594339807L236.1595735312568,85.77699701063437L236.44848908487955,79.75047765584172L236.5062721956041,85.38776566682128L236.85297085995143,92.23993395692088L236.91075397067598,52.36226913730195L237.0263201921251,75.15083566691843L237.71971752081978,70.76605959621955L237.83528374226887,68.8083693261483L237.95084996371799,45.59513686306528L238.0664161851671,51.632303415345476L238.1819824066162,58.4151635431149L238.35533173878986,55.057079004933286L238.52868107096353,58.673410259682015L239.04872906748454,64.6720551386611L239.39542773183186,72.20706504452681L239.51099395328097,77.05929146624953L240.1466081712511,93.4409405935598L240.20439128197566,90.59278712806977L240.55108994632297,75.51985861410454L240.95557172139485,76.61428225877904L242.3423663787842,96.97586530599122L242.40014948950872,61.79359885743433L242.51571571095783,80.11938766380801L242.6890650431315,75.73176152221826L242.80463126458062,71.55372272268164L243.55581170399984,69.1748846625351"></path></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component plot xy-plot line-plot ghost style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="render-area style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="style-scope vz-line-chart2"><path class="line style-scope vz-line-chart2" style="fill: none;" stroke="#0077bb" stroke-width="2px" d="M30.971747348361546,-34.51440510594858L31.202879791259765,16.084086330658863L31.31844601270888,-24.181844388548598L31.434012234157986,4.6753159078803606L31.491795344882544,4.485327658461756L31.60736156633165,-22.12610924733667L32.64745755937364,-5.7281111185805855L32.99415622372097,3.924798443187001L33.05193933444553,57.675729396047544L33.109722445170085,1.135593676137546L33.16750555589464,10.3501568552104L33.45642110951742,7.802416559823229L33.91868599531386,-24.5152554009249L34.78543265618218,-17.855392719988288L34.95878198835585,28.65092536342317L35.0165650990804,-19.044921978729064L35.42104687415229,27.008703453223802L35.70996242777507,53.69596398266066L36.172227313571504,-1.0068179478751063L36.34557664574517,16.528754121204088L36.40335975646973,21.162186376901047L36.92340775299072,78.44417590569243L37.038973974439834,44.493451403184906L37.096757085164384,14.034858912476182L37.55902197096083,11.038511591335919L37.8479375245836,-4.129979364610108L37.963503746032714,57.04371503915385L38.02128685675727,-44.804765435361304L38.25241929965549,-35.218809563900834L38.541334853278265,30.720780533539056L38.599117964002815,40.44704504282663L38.77246729617649,-3.7364151659510867L39.119165960523816,75.62114162547246L39.17694907124837,24.894891209149534L39.46586462487115,29.625619912836072L39.58143084632026,33.88280197327083L39.63921395704481,21.027600276706977L39.87034639994303,42.06275696473506L39.92812951066759,7.5486419781362315L40.332611285739475,52.31504245654712L40.79487617153591,53.75718182710767L40.852659282260475,65.2687117250813L40.910442392985026,44.13164063427601L41.14157483588324,42.46591639509978L41.777189053853355,52.03377973188071L42.123887718200685,75.33042340548441L42.41280327182346,35.711192671724405L42.58615260399712,58.66083097901644L43.279549932691786,28.596654413498186L43.626248597039115,70.66972259255444L43.915164150661894,4.597822101746658L43.972947261386444,31.60157223286106L44.08851348283555,34.3566680139719L44.31964592573378,32.96973782334362L44.550778368632,26.663940523170652L44.66634459008111,-84.81009445240323L44.95526014370389,38.15172188996698L45.764223693847654,62.866071029260624L46.05313924747043,20.68197231189538L46.11092235819499,42.04240868556994L46.342054801093205,54.35015649993932L46.39983791181776,9.128222063593853L46.630970354715984,38.49125468678801L46.688753465440534,91.07975193118911L46.80431968688965,94.7528758309182L46.97766901906331,57.63442065927286L47.26658457268609,11.39545154914316L47.32436768341064,29.04447625385515L47.67106634775797,-38.59647751481077L47.72884945848253,37.511795792089856L47.786632569207086,19.014171989298774L47.95998190138075,-58.13774579138001L48.480029897901744,100.58729572884914L48.942294783698195,35.95197842380699L49.86682455529107,57.024970401348725L50.0979569981893,-61.23864254425416L50.444655662536626,4.5038127858393295L50.67578810543484,0.4164170861556613L50.791354326883955,68.39824112846148L51.19583610195584,53.34997004160506L51.48475165557861,84.93590910014615L51.54253476630317,48.95758970253178L52.46706453789605,-11.017439344619078L53.218244977315265,12.16284384574061L53.27602808803982,81.23837125788704L53.39159430948894,15.990303254611433L53.73829297383626,79.42016135312954L54.25834097035726,35.047085525290754L54.37390719180637,50.705964685824966L54.431690302530924,49.16773991593672L54.60503963470459,13.110961865727262L54.951738299051925,68.19069932755906L55.47178629557292,55.35464151561193L55.64513562774658,-5.0259158263192205L55.70291873847114,28.608099488764367L56.222966734992134,47.190549930795726L56.280749845716684,18.45791471490827L57.089713395860464,59.941767795275524L57.147496506585014,68.20917780082311L57.26306272803413,-5.865984350856905L57.378628949483236,25.246388102091828L58.18759249962701,25.517263755542814L58.47650805324978,50.071115676568866L58.592074274698895,76.69146909449324L58.76542360687256,80.8199739075458L59.227688492668996,18.49608271009828L59.574387157016325,55.499375138934425L59.68995337846545,18.522832246476213L59.863302710639104,61.49955565893272L60.21000137498643,69.74898624973076L60.49891692860921,39.10139697251893L60.55670003933377,58.20453179802627L61.07674803585476,42.2207389280895L61.19231425730388,43.0846025625992L61.42344670020209,91.22483822252853L61.48122981092665,53.62387997082429L61.77014536454942,-57.91020172521587L62.00127780744764,52.59697059256621L62.0590609181722,65.76046402294253L62.34797647179498,37.457791006705975L62.46354269324409,92.91646027155124L62.52132580396864,-20.60370130530174L62.63689202541776,64.26336167465021L62.752458246866865,11.938826459745684L62.810241357591416,84.84832100379222L63.099156911214195,31.19624356148654L63.156940021938745,78.04410398400414L63.56142179701063,34.19272396489737L63.67698801845974,25.54135164651001L64.02368668280708,57.55924913876004L64.13925290425618,67.29081697652852L64.42816845787897,1.670704177739708L64.71708401150174,38.97544791168272L64.83265023295084,66.67528485884084L65.52604756164551,74.97018300736784L65.93052933671738,-0.710643354795053L65.98831244744194,33.11439825141733L66.10387866889106,47.063642677611654L66.16166177961561,67.54970857151764L66.21944489034017,84.1768677160249L66.27722800106473,62.277408221994364L66.39279422251384,24.057351247752052L66.5661435546875,39.00101301585289L66.79727599758571,67.63594588282561L67.0861915512085,25.10253947586841L67.25954088338216,36.02674404339467L67.49067332628037,59.80994980630865L67.66402265845406,56.686369180421465L67.7218057691786,50.893544146146866L67.83737199062772,-39.22079306235389L67.89515510135227,-17.861168490529593L68.06850443352593,67.41989347072234L68.12628754425049,22.301091139929525L68.29963687642415,95.33709369034852L68.35741998714872,69.47573507775068L68.64633554077149,37.354292924909345L68.70411865149605,55.2575579992552L69.10860042656793,42.99993562208357L69.28194975874159,14.611970178659845L69.5130822016398,-29.740810602922068L69.68643153381348,74.22975983289473L69.80199775526258,66.24416484343627L69.9175639767117,64.92397541148229L70.14869641960992,27.912545001802812L70.37982886250813,50.12725643239489L70.5531781946818,77.37062784572466L70.61096130540636,36.19205883985572L70.66874441613092,77.5978258979854L70.72652752685548,52.714728439650855L71.07322619120279,29.27606602104362L71.41992485555014,46.05096644818752L71.53549107699924,38.63366602448963L71.5932741877238,45.318135617248515L71.82440663062201,26.15438181751159L72.05553907352024,29.830273828467853L72.22888840569391,60.79287549415426L72.28667151641847,52.002512052418055L72.34445462714301,55.71353778279608L72.46002084859212,32.24640906652098L72.57558707004122,1.3123934725459208L73.09563506656222,30.89153839486505L73.15341817728678,62.360637873988196L73.32676750946044,51.4435398997086L73.384550620185,27.245842751093647L73.44233373090955,45.74037904520827L73.55789995235868,86.84058921018504L73.61568306308322,9.162144734353745L73.96238172743055,110.52332451295712L74.19351417032877,-5.633649322953431L74.25129728105334,116.0790435199295L74.36686350250244,72.7348134173851L74.48242972395155,-22.057665035599484L74.65577905612521,80.82266216941065L74.71356216684977,116.19548385253583L74.77134527757433,44.56969423597556L74.82912838829888,96.56781191182048L75.00247772047256,-32.224258853412806L75.23361016337077,81.96624477424851L75.40695949554443,88.02130842261626L75.52252571699354,7.4499348580789615L75.5803088277181,31.13027467998137L75.63809193844264,-6.005827200737173L75.98479060278999,38.860331747668226L76.04257371351454,35.86622020867296L76.15813993496364,38.805621626250456L76.33148926713731,42.44458330713272L76.56262171003554,58.79913007455848L76.7359710422092,74.41288769126714L76.96710348510742,18.7749965326897L77.19823592800563,54.596451858022135L77.31380214945476,-72.52122435810949L77.60271770307753,24.983843398776457L77.77606703525119,31.42789986981029L78.98951236046685,43.12462040134966L79.10507858191596,18.03234423018509L79.16286169264052,0.13402981630321165L79.39399413553873,19.45840060835124L79.50956035698785,63.5141683785487L79.74069279988606,39.191014573498535L79.85625902133518,27.72681538504139L79.97182524278429,70.77963523979093L80.14517457495795,21.83538304241239L80.31852390713162,72.70130330166388L80.66522257147895,65.54300759288509L80.89635501437718,110.76572721462671L81.30083678944905,16.125727773109872L81.35861990017361,32.222853504635935L81.41640301089816,43.88538520087437L81.47418612162272,-14.432769578090983L81.76310167524551,26.553016450678086L81.87866789669461,32.74749043154685L82.05201722886827,19.77087777957209L82.10980033959282,71.23647340397679L82.16758345031738,-17.275020938176482L82.22536656104194,-2.197970810316434L82.68763144683838,49.84597374538791L82.74541455756294,2.6085216299867966L82.9187638897366,48.786805224751646L83.32324566480848,46.63644858918792L83.49659499698215,38.66740238007077L84.01664299350315,69.13605589043208L84.13220921495225,87.72595893961352L84.18999232567681,38.50343171454213L84.24777543640137,110.34878711514786L84.42112476857503,64.94359839227297L84.47890787929958,59.57460046497751L84.71004032219781,95.58225119501824L84.99895587582058,80.01847927912326L85.05673898654514,-14.152152302436662L85.28787142944336,78.29257523721023L85.34565454016793,78.31804718379101L85.40343765089247,101.09691432152997L85.46122076161703,64.67676178573278L85.63457009379069,65.1149085450217L85.69235320451524,110.545911901324L85.7501363152398,102.62545735623664L85.92348564741346,24.341441970667347L85.98126875813801,89.13939911853276L86.44353364393446,79.11324702081714L86.67466608683267,45.48757596409621L86.79023230828179,21.641269242607137L86.9057985297309,69.56341633169399L86.96358164045546,99.77723725631755L87.36806341552735,18.384107287668456L87.42584652625189,-22.617196133845198L87.48362963697645,23.161787416400443L87.65697896915012,81.44621249389817L88.11924385494656,63.536845597448206L88.23481007639566,85.43127458165245L88.46594251929389,64.65783083274889L88.52372563001845,69.639752322074L88.6970749621921,78.92932732293502L88.81264118364122,37.06897784510511L88.92820740509033,35.37747557012585L89.2171229587131,88.50313278309542L89.85273717668322,89.75952257455397L89.96830339813232,-21.60203126596201L90.31500206247965,47.25347788241916L90.3727851732042,38.72550609938719L90.48835139465331,22.705182146188037L90.60391761610244,80.8966292953751L90.83505005900065,6.595400290733892L91.06618250189887,43.97259401275727L91.18174872334798,70.91034199179884L91.47066427697077,99.08201547503232L91.52844738769531,45.4948089854999L91.58623049841987,46.96423022152055L92.04849538421631,70.6228244004172L92.39519404856364,105.22519622177937L92.62632649146185,22.753996723021004L92.68410960218641,45.36777530415884L92.74189271291098,58.225971351809775L93.26194070943197,38.119941843762746L93.37750693088107,78.77470568691163L93.55085626305474,50.71904001890523L93.89755492740207,-2.3064328608040796L93.95533803812663,47.044279207248536L94.35981981319851,42.16117130379715L94.47538603464763,46.188440433652204L95.63104824913871,81.29037315509936L95.68883135986329,21.175321597003034L95.74661447058784,95.68255530232196L95.9199638027615,89.1373030727718L95.97774691348606,32.18753347003542L96.03553002421062,102.86457625288074L97.0756260172526,114.63344068327822L97.24897534942627,90.63686078895554L97.36454157087539,79.1318253057841L97.76902334594726,103.24214396262123L97.82680645667182,82.48319620003592L98.05793889957005,34.78957133180165L98.17350512101915,68.40992575181463L98.28907134246826,94.13114873353703L98.57798689609103,105.84892953438889L98.69355311754015,46.71592532115261L98.80911933898926,65.26290933808589L99.04025178188748,48.374436501265734L99.61808288913303,60.403350342406014L100.08034777492946,44.75101882958222L100.13813088565404,51.942618376562876L100.1959139963786,80.94363395332877L100.3114802178277,71.94707284162256L100.48482955000135,49.68244225135206L100.65817888217502,-9.3602989118925L100.77374510362412,94.39070573987884L100.94709443579781,75.10322535322366L101.29379310014512,54.67556261374284L101.40935932159424,50.401186323954676L101.52492554304334,66.96769987777824L101.58270865376791,-3.15871833777706L101.75605798594157,58.15040723859887L101.87162420739068,93.35507947290057L102.04497353956434,88.1673395980765L102.50723842536078,60.72851025400905L102.91172020043267,38.515968064426716L103.25841886478001,67.41443709763033L103.48955130767823,78.87961444077592L103.54733441840277,90.67024447651974L103.60511752912733,60.92844640315029L103.66290063985188,45.306065055310825L104.00959930419923,43.16365343129817L104.18294863637288,102.87982415402752L104.58743041144477,68.06759157319881L104.70299663289389,95.02549486211322L104.87634596506754,52.735955061801505L104.9341290757921,93.17666938101868L105.10747840796576,43.31363715019336L105.4541770723131,33.5034642693322L105.56974329376222,89.3799253601878L105.74309262593587,59.206920767937916L105.91644195810953,36.01692257182904L105.97422506883409,103.637441557854L106.03200817955866,109.3365833277841L106.0897912902832,15.574860330676131L106.14757440100776,-44.66896828650536L106.49427306535509,61.424191169127624L107.18767039404975,-10.302468154386162L107.53436905839709,99.25563460517488L107.82328461201986,69.69929998402577L108.05441705491808,68.05158177605321L108.45889882998996,-44.3685616772222L108.57446505143908,109.04293729784425L108.86338060506185,71.69513479526898L108.92116371578639,0.6655870212820503L109.09451304796008,68.26786708212992L109.15229615868463,64.42872304990594L109.26786238013374,45.19196031655241L109.32564549085829,82.43896630742296L109.49899482303195,-14.335073883289766L110.4813077053494,61.56714814413846L110.53909081607395,78.1883585111527L110.59687392679851,83.42397473280246L110.88578948042128,71.59822428586395L111.05913881259494,26.459220066403617L111.29027125549317,24.29873587005204L111.34805436621772,87.7753723866639L111.40583747694228,26.07933672515577L111.6369699198405,114.6119578777568L111.69475303056505,63.539427393496624L111.86810236273871,-57.8316432609179L112.09923480563694,86.67951973815413L112.21480102708605,15.644076419582404L112.96598146650527,72.58401789663964L113.02376457722981,85.1650434994432L113.54381257375081,91.13554001899821L113.60159568447537,34.42424719095058L114.23720990244549,65.64604654084835L114.69947478824191,123.97334407179957L114.75725789896647,91.02348474720607L114.93060723114014,97.12714338666039L115.04617345258924,105.30190816957365L115.1039565633138,30.52640056919273L115.56622144911023,-8.730566915938539L115.6240045598348,92.20437696658898L115.68178767055936,112.53315957906082L115.91292011345757,46.83496741214796L116.02848633490669,107.79075956024819L116.14405255635579,100.92255991184268L116.60631744215223,43.95784849718177L116.895232995775,102.84361579527116L116.95301610649956,29.88871025346066L117.12636543867323,66.46710426303983L117.53084721374512,120.37815647675372L118.22424454243978,96.43928105493586L118.51316009606255,49.22225041394867L118.57094320678712,114.67412726043815L118.68650942823622,44.63350718469803L118.74429253896078,59.87295095318086L119.0909912033081,85.67780948782222L119.49547297838,94.18055552647388L119.55325608910455,84.39013205456042L120.07330408562555,121.87951413064646L120.30443652852377,26.456571729219945L120.42000274997287,-3.1047934017554724L120.6511351928711,101.77082630424545L121.1711831893921,80.93182955593214L121.2867494108412,32.55378918678025L121.46009874301485,97.38879643876317L121.57566496446398,54.71373726304637L121.63344807518854,68.31189069722356L121.92236362881131,46.610936717925995L122.38462851460775,29.063187621092652L122.50019473605686,58.77941393617843L122.90467651112874,85.25471433333102L122.9624596218533,26.199842721127027L123.19359206475153,73.99029824940399L123.4825076183743,65.0597659062247L123.65585695054796,113.37092245326146L123.77142317199707,71.52332558400573L123.94477250417074,13.815060234457292L124.1181218363444,-5.404401803726415L124.34925427924261,48.62733939408071L124.81151916503906,12.70197343191299L125.27378405083552,20.84509125089255L125.38935027228462,83.43831434745283L125.50491649373373,77.24468543900198L125.67826582590739,86.6310378669975L125.73604893663195,34.68590024305337L126.08274760097927,95.59454134270233L126.14053071170383,65.68326299780402L126.60279559750026,84.89824016347065L126.77614492967395,15.92732872419333L126.83392804039849,51.834116401394084L126.89171115112305,63.68354218426113L126.9494942618476,116.86510725908327L127.06506048329672,-13.92581928493442L127.23840981547038,-30.524798258655466L127.64289159054226,95.19448272924109L127.70067470126682,69.86097498038762L127.98959025488959,66.67404719372485L128.1051564763387,33.61236549131263L128.16293958706325,36.86594753317388L128.2207226977878,40.907163684981214L128.74077069430882,72.19158489728017L128.97190313720702,48.797744587389786L129.08746935865614,69.75330476940968L129.1452524693807,55.85928283137466L129.2608186908298,48.92097876990704L129.5497342444526,51.519915814769774L129.60751735517715,66.55501841095656L129.72308357662624,-15.242189255723986L129.7808666873508,82.17094526867498L129.83864979807535,80.93117745280651L130.01199913024902,78.16688568680156L130.12756535169814,-8.64362426859671L130.24313157314725,93.38608764193569L130.9365289018419,87.92076476722556L131.4565768983629,92.7649993394531L131.80327556271024,71.42971551491001L131.86105867343477,71.8367742558015L132.2077573377821,95.05306285445496L132.2655404485067,98.10676198008316L132.32332355923123,61.77468994504089L132.78558844502768,73.10563385600936L133.19007022009956,76.76624802230798L133.652335105896,108.41126562779719L133.71011821662057,110.84388975916985L133.88346754879421,8.22737486610194L134.28794932386612,12.027791957599675L134.4035155453152,19.704216870260097L134.63464798821343,129.62424684571675L135.212479095459,29.55497984363504L135.27026220618356,59.16303023511482L135.4436115383572,45.0382769105363L135.73252709198,92.1793508456145L135.9636595348782,53.912814888387146L136.71483997429743,35.604394149618486L136.83040619574655,37.41777316795549L136.8881893064711,23.406339396739213L137.23488797081842,82.45252073667714L137.29267108154298,105.00556722365542L137.35045419226753,97.20067134113208L137.46602041371662,51.819590471564965L137.58158663516573,103.65053019916132L138.27498396386042,34.19092735424513L138.7950319603814,60.270906866767604L139.0261644032796,91.46410683672698L139.3150799569024,123.00449848817678L139.37286306762695,62.97204444128923L139.66177862124974,61.88836216642005L140.00847728559705,39.90842116928229L140.0662603963216,63.62845277837235L140.41295906066895,108.4686540299095L140.64409150356715,87.18243098439987L140.75965772501627,6.571698338351268L140.87522394646538,68.26700870148497L141.22192261081273,82.75964134650889L141.3952719429864,44.33622800877254L141.5108381644355,55.13415080978625L141.68418749660916,43.39276786825465L141.85753682878283,73.78322223644844L142.0308861609565,34.79151433295152L142.14645238240558,94.54462869398192L142.55093415747749,68.06184907322515L142.6665003789266,92.61715824511356L143.35989770762126,99.7556380038094L143.41768081834581,79.738860120498L143.47546392907037,82.78144022242284L144.28442747921414,82.2774909344669L144.51555992211237,32.33623959913345L144.74669236501057,49.94715619567717L144.80447547573513,51.93747474680663L144.9778248079088,44.91356551481607L145.03560791863336,48.917219195764375L145.208957250807,68.6709333549053L145.32452347225612,84.1541904971254L145.44008969370523,89.86284764939889L145.72900524732802,69.18725263990765L145.9023545795017,80.17262181897273L146.0179208009508,67.20155204356584L146.19127013312445,80.50371054572818L146.36461946529812,129.8225128123628L146.5379687974718,-5.579085592033266L146.65353501892088,90.79656616771345L146.82688435109455,-7.482907321427206L147.00023368326825,47.099947521014144L147.0580167939928,77.27430955242352L147.9247634548611,66.0082166318877L148.32924522993298,75.58785774961116L148.6181607835558,82.62671877469654L148.67594389428035,86.2260818259805L148.73372700500488,85.61057632474693L148.849293226454,69.84853844220595L148.90707633717855,12.268870490677415L149.02264255862767,91.89969176230807L149.13820878007678,88.33580844434927L149.31155811225042,57.156402451731054L149.36934122297498,92.81278252868941L149.6004736658732,24.398228175505494L149.88938921949597,78.2065708198757L150.0049554409451,110.9356133870807L150.40943721601698,99.97859073164001L150.5250034374661,74.22433673037034L150.58278654819065,79.75347920791648L150.7561358803643,84.41877135917998L150.8717021018134,25.063958925639724L151.10283454471164,70.04961244476029L151.27618387688528,12.465752401709835L151.3917500983344,84.77115990333488L151.50731631978354,-31.941538877884028L151.5650994305081,66.76444332598709L152.08514742702909,113.90870125438789L152.14293053775364,92.33610179796649L152.2007136484782,67.78616249569424L152.4318460913764,108.21965044762126L152.60519542355007,84.88563061833727L152.77854475572374,29.883746284769614L152.83632786644827,116.10543373417698L152.89411097717283,80.57371847414416L153.00967719862197,61.482075302697694L153.06746030934653,86.65298978752259L153.18302653079564,88.02562694229519L153.4719420844184,19.40939971633952L153.52972519514296,48.97507671288031L153.87642385949027,39.487827961477194L153.93420697021483,103.78584825184333L153.9919900809394,100.86313535099116L154.22312252383762,43.538386488676224L154.3386887452867,85.33234787584877L154.45425496673585,88.69049931178445L154.68538740963407,82.28995408910268L155.26321851687962,111.17106919422827L155.3787847383287,37.72785485830667L155.49435095977782,77.46573509036392L155.55213407050238,65.47589420385329L155.7832665134006,58.070018893081L155.89883273484972,103.679631964671L155.95661584557428,61.35978600430124L156.01439895629883,20.276510558250322L156.4188807313707,34.6088855330936L156.65001317426893,91.68120394465397L156.8233625064426,79.41108514227892L157.4589767244127,78.89793321531535L157.69010916731094,35.883228122847584L157.80567538876005,99.48699147838991L157.9790247209337,3.6669648522486398L158.0945909423828,110.60682032949202L158.15237405310737,83.64491126423445L158.26794027455648,109.63751893909263L158.32572338528104,42.48461445411024L158.3835064960056,39.12213119026859L158.44128960673012,86.30856621725933L158.55685582817924,66.45905278567234L158.67242204962835,80.95686233102015L158.7302051603529,118.27496419786831L158.96133760325114,75.72875194942867L159.0191207139757,72.87653938139346L159.1346869354248,112.73014130179615L159.30803626759848,44.34591639806763L159.59695182122124,61.32890426342314L160.2903491499159,108.12655274526712L160.52148159281413,117.48936291960464L160.6948309249878,82.43579229527064L161.09931270005967,55.85713355270549L161.27266203223334,107.79176433139074L161.61936069658066,51.89448917342318L161.6771438073052,81.22089755576553L161.79271002875436,95.03113755038399L161.96605936092803,87.54376931124838L162.13940869310167,21.541564005520826L162.19719180382623,52.59110831854905L162.2549749145508,45.26560804506758L162.77502291107177,48.92596270093864L162.83280602179633,87.49373037752648L162.8905891325209,26.489083727912117L162.94837224324544,51.70778805608684L163.06393846469453,45.396694081546514L163.35285401831734,96.09015968052265L163.75733579338922,30.30302197809641L163.81511890411377,54.84589461180313L163.87290201483833,82.76872421147303L163.9306851255629,100.7314238278407L164.39295001135932,59.03083296167691L164.91299800788033,76.54171161545797L165.2019135615031,80.33807635181785L165.66417844729952,102.33422011539349L165.72196155802408,46.846399179187074L165.89531089019775,98.03596886627102L166.53092510816788,66.29337866708084L166.70427444034152,14.076819752376508L166.8776237725152,49.3517527714082L166.93540688323975,57.53900067129784L166.9931899939643,2.1133225013186916L167.10875621541342,60.285911892770656L167.57102110120985,59.9304092234852L167.68658732265894,53.69341545717987L167.80215354410808,77.44483451977608L167.9177197655572,44.23139910427054L168.49555087280274,92.32766438201445L168.95781575859917,46.994280198207775L169.01559886932372,101.95492899024956L169.3045144229465,84.42057462394575L169.65121308729385,87.9323961576705L170.11347797309028,106.72069160165495L170.4601766374376,47.5056355145191L170.51795974816216,56.52290422752088L170.5757428588867,55.48958693793644L170.6335259696113,30.18121177587389L170.74909219106038,3.976540829971782L171.03800774468317,88.16128435476706L172.13588684844973,93.43733097020596L172.25145306989882,71.82895567240746L172.48258551279704,97.45652866035297L172.5403686235216,97.69915094776894L172.65593484497072,105.20143105531822L172.94485039859347,89.01742921758562L173.11819973076715,103.85030664957793L173.23376595221626,109.32744057579822L173.4071152843899,39.78466796590993L173.46489839511446,79.63924138688753L173.52268150583902,92.27979468930229L174.1005126130846,124.52637410112956L174.15829572380915,81.10187542711077L174.27386194525826,109.07548589416082L174.3316450559828,65.71131674043322L174.4472112774319,45.55405721234297L174.67834372033013,130.14585781450134L174.79390994177925,94.00758849945696L174.9672592739529,89.18707584195263L175.08282549540203,98.91269490222811L175.19839171685115,96.35924537743492L175.31395793830023,106.81804460960953L175.83400593482122,97.12136096200555L176.06513837771945,-1.179705125529722L176.18070459916856,75.76974794286758L176.29627082061768,39.24877227891159L176.41183704206676,-7.821894480939022L176.58518637424046,86.99277544065762L176.75853570641414,48.08755105066916L177.10523437076145,66.57189989697417L177.163017481486,97.38305393878949L177.3941499243842,59.64390971147317L177.56749925655788,46.419664224596715L177.74084858873155,83.41149826993963L177.85641481018067,83.34989448690806L178.14533036380345,75.17381218951648L178.37646280670168,55.842820554509245L178.54981213887532,82.63155631523055L178.60759524959988,95.63258290973533L178.66537836032444,43.090484798956936L178.723161471049,81.8689682885995L178.89651080322264,91.90914725762973L179.12764324612087,120.7803211171462L179.47434191046818,39.50755075397075L179.53212502119277,77.47171048431102L179.70547435336644,96.31536815283887L180.16773923916287,79.32256547003124L180.22552234988743,44.72150118197709L180.45665479278563,119.34836254028173L180.57222101423474,20.25811858846211L180.6300041249593,84.66027575552346L180.80335345713297,71.47729242662699L180.86113656785753,55.231606956500485L180.97670278930661,18.489867768064187L181.15005212148031,100.13707840762251L181.20783523220487,29.33169441012808L181.323401453654,109.76967296079263L181.6701001180013,62.08329442218911L181.84344945017497,49.144796532496144L182.01679878234862,63.710631080428925L182.07458189307317,76.2598367123471L182.3057143359714,74.67259108810654L182.65241300031875,21.00395155723254L183.40359343973796,70.62100117331084L183.63472588263616,78.2397083052394L183.75029210408528,119.07087935209859L184.03920765770806,37.01346923006412L184.32812321133085,54.44310781179588L184.55925565422905,50.28004818719839L184.84817120785183,73.159572100258L185.07930365075003,107.79482855066986L185.31043609364826,43.07476778280653L185.48378542582196,7.56859101048974L186.35053208669027,61.084578522944284L186.92836319393584,53.733233672524534L186.9861463046604,-15.771004965929762L187.04392941538495,94.776617707982L187.2172787475586,59.746183436380846L187.27506185828315,95.46219767876681L187.56397741190594,67.89128418119141L187.91067607625325,43.880088526506995L187.9684591869778,88.54339016993286L188.02624229770237,97.66128238768765L188.08402540842692,85.74602745969948L188.14180851915145,17.95181614828317L188.199591629876,71.97927875109251L188.25737474060057,109.09419393434156L188.71963962639703,42.10111127510379L190.0486511730618,18.408993672258873L190.10643428378637,89.30865980431523L190.1642173945109,88.0103158270699L190.5686991695828,91.06013560451196L191.20431338755287,91.29595073378997L191.26209649827743,53.8136952132912L191.319879609002,94.16116543965664L191.55101205190024,118.28240682384809L192.01327693769667,69.42721993602643L192.07106004842123,91.84791610495566L192.24440938059487,88.6793603257405L192.359975602044,9.423465080780176L192.41775871276855,106.27460981198526L192.53332493421766,27.274801453162496L193.5156378165351,54.61308714183926L193.63120403798422,51.86350762084217L193.92011959160698,56.507546533500914L194.09346892378065,26.908931675002208L194.2668182559543,68.00702583187743L194.7868662524753,101.76313414900841L194.84464936319986,90.19140781301414L195.1913480275472,66.48698675425806L195.3069142489963,82.18451300615624L195.36469735972085,72.90409406550815L195.7113960240682,99.92176460212072L195.88474535624187,68.62014916046839L195.94252846696642,110.9291655510732L196.2314440205892,101.10287308019325L196.3470102420383,95.19601317535226L196.4625764634874,70.71456466361187L196.63592579566108,95.26621407306052L196.69370890638564,92.91088412441574L197.15597379218207,43.68751848103997L197.44488934580485,74.27522739062368L197.56045556725397,77.69270024865122L197.61823867797852,70.00102410778723L197.67602178870308,3.3114887994173046L197.90715423160128,16.79047371444213L198.31163600667318,58.789774390939726L198.71611778174508,114.49803612712037L198.88946711391873,79.24036720563407L199.35173199971518,76.3250403707967L199.64064755333794,121.85593860642084L200.33404488203263,113.72914998203615L200.6229604356554,78.715690354042L200.7385266571045,56.67232900087981L200.79630976782906,66.39993764109981L200.9696591000027,105.73834482168618L201.54749020724825,59.14482458050536L201.89418887159562,102.88115164967613L202.12532131449382,93.63447904577946L202.4142368681166,57.8025834163234L202.5298030895657,95.60755678876085L202.6453693110148,94.15499707641726L202.76093553246392,57.589598550556005L202.87650175391303,53.009099767965154L203.10763419681123,82.99251535760803L203.16541730753582,31.291916405775595L203.3387666397095,63.5278226195058L203.39654975043405,66.68787444163364L203.4543328611586,52.38276136990987L203.6854653040568,85.53841246354824L203.80103152550592,75.9892804563454L203.9743808576796,102.01969347720637L204.03216396840412,69.03342284339395L204.14773018985323,74.74468840816996L204.2055133005778,89.206000140823L204.43664574347602,29.95619627284995L204.5522119649251,68.92774221236053L204.60999507564966,109.49913999418827L204.66777818637425,48.38851660548855L204.89891062927248,59.54008557811375L205.01447685072156,85.7220194180946L205.13004307217068,110.75770235371334L205.30339240434435,113.39212911307152L205.82344040086534,96.38261462414121L205.996789733039,46.24341006549753L206.11235595448812,57.64264514359205L206.22792217593724,85.01736875794182L206.34348839738635,110.69853730328936L206.45905461883547,94.5414546818296L206.97910261535645,72.64827667096841L207.21023505825465,13.263900011028369L207.32580127970377,75.07946351381929L207.49915061187744,121.84016835736219L207.9614154976739,84.8842266003831L208.1925479405721,82.89832638063547L208.42368038347033,56.215364408536956L208.77037904781764,85.97112946619927L209.17486082288954,57.29296482364259L209.29042704433866,120.43456339712081L209.57934259796144,77.6312827807984L209.98382437303331,95.17511260476442L210.15717370520696,91.04861067988345L210.21495681593152,40.56455668771079L210.5038723695543,89.67679198107464L210.5616554802789,66.60718666100706L210.61943859100344,26.123253874432976L210.73500481245253,115.21728923940782L210.9083541446262,65.75310457338183L211.19726969824896,80.84812080776437L211.37061903042263,71.35277400019905L211.4284021411472,60.4792804318609L211.5439683625963,88.17361442713232L211.89066702694362,76.92996583152258L212.4684981341892,52.455038351038496L212.87297990926106,59.526391412475476L213.04632924143473,85.99434566829444L213.1041123521593,22.75106891306919L213.5085941272312,81.7829705253785L213.56637723795575,102.43871631421914L213.6241603486803,51.38536298514336L213.68194345940486,90.34889071785408L213.97085901302762,48.19741046499743L214.1442083452013,36.552818258827386L215.47321989186605,104.18452280969099L215.5310030025906,94.69964957681694L215.70435233476428,25.52005848322409L215.81991855621337,87.7912091768578L216.10883410983615,53.49686625182379L216.2821834420098,98.88312402171479L216.33996655273435,87.19164693163457L216.4555327741835,86.70533104452477L216.51331588490805,101.3533405674574L216.91779765997993,42.2222959906548L217.03336388142904,109.25618832815272L217.14893010287815,82.88015399659365L217.66897809939914,83.78520659383454L217.95789365302193,134.6395686578899L218.01567676374648,100.98277631220391L218.3623754280938,53.50634170948602L218.4779416495429,86.40479800708462L218.59350787099203,45.229050345351084L218.70907409244114,55.429134316545L218.94020653533934,21.803696153797546L219.113555867513,96.51068634719249L219.34468831041121,62.14987548213877L219.6913869747586,66.63839445344799L219.86473630693223,48.889484850584466L219.9225194176568,28.779110206404397L219.98030252838134,98.80014057192145L220.3270011927287,33.205865695957414L220.78926607852512,74.09946563592548L221.02039852142335,87.89300380559155L221.13596474287246,105.02530997848957L221.19374785359702,66.92494719836823L221.25153096432157,51.473789499801654L221.48266340721977,75.62467495975523L221.77157896084256,87.47709509370935L222.17606073591443,85.89020879159925L222.40719317881266,-9.344329039428061L222.6383256217109,1.8499793043800992L222.69610873243545,73.17274059092765L222.86945806460912,101.19192508152308L223.10059050750732,97.30836151445061L223.21615672895643,6.299811259644201L223.56285539330375,106.91615618650616L223.73620472547742,41.4809878190826L223.85177094692656,63.051833916589686L223.96733716837565,108.96679760381326L224.08290338982476,133.37007358984022L224.25625272199844,93.59578537562084L224.37181894344755,128.61436035338875L224.5451682756212,21.14803973154295L224.77630071851942,56.190171934724304L224.89186693996854,49.73549549850162L225.23856560431585,96.78315898788992L225.52748115793864,57.01724497554406L225.5852642686632,122.36436611278035L225.81639671156142,61.3917922903654L226.2208784866333,120.94265819780398L226.68314337242973,40.17865802783467L226.85649270460343,94.3437809312875L227.02984203677707,-8.496501818518084L227.08762514750163,45.69249604426909L227.2609744796753,58.85018708765L227.54989003329806,74.64845661834467L227.8965886976454,106.57772131841708L227.95437180836996,86.79842874687893L228.18550425126816,114.12785115633793L228.3010704727173,59.857127471214L228.6477691370646,51.94883997271049L228.70555224778917,54.15201696145033L228.8211184692383,58.93333689028151L229.05225091213651,125.04757085134709L229.4567326872084,80.65195754099285L229.80343135155573,36.21702507380846L229.9767806837294,96.18320414996859L230.32347934807672,45.60047630830627L230.78574423387315,91.11602350402396L230.95909356604682,73.69557425307278L231.07465978749593,17.098080074561324L231.13244289822046,88.96646536208348L231.42135845184328,79.4721699044554L231.47914156256783,57.131036970966704L231.5369246732924,92.8269824069557L231.65249089474148,34.04891526335513L231.7680571161906,77.69283998503528L231.82584022691515,40.86090428774256L231.94140644836426,38.41437305909878L232.23032200198702,67.32898497171853L232.8081531092326,95.96393114691833L233.1548517735799,101.93320996369792L233.27041799502902,114.90749367593828L233.32820110575358,85.24396128587163L233.5593335486518,47.16473197031155L233.61711665937636,91.66398309884649L233.84824910227456,104.90285432725497L233.96381532372368,77.67047550947154L234.31051398807102,95.40855886962689L234.36829709879558,97.26654041093437L234.54164643096925,93.88897227172734L234.77277887386745,88.1347011712273L235.4661762025621,77.84916507412156L235.7550917561849,105.56749712982756L235.81287486690945,101.41538352198174L235.92844108835857,89.9427768610834L236.1595735312568,73.3637336114888L236.44848908487955,70.71069862365277L236.5062721956041,93.84369768329066L236.85297085995143,102.5181863920703L236.91075397067598,-7.4542280921264705L237.0263201921251,109.33368546134317L237.71971752081978,64.18889549017123L237.83528374226887,65.8718339210414L237.95084996371799,10.775288168440795L238.0664161851671,60.68805324376581L238.1819824066162,68.58945373476902L238.35533173878986,50.0199521976609L238.52868107096353,64.0979071418051L239.04872906748454,73.67002245712968L239.39542773183186,83.50957990332539L239.51099395328097,84.33763109883358L240.1466081712511,118.0134142845252L240.20439128197566,86.32055692983471L240.55108994632297,52.91046584315666L240.95557172139485,78.25591772579081L242.3423663787842,127.5182398768095L242.40014948950872,9.020199184598994L242.51571571095783,107.60807087336855L242.6890650431315,69.15032230983364L242.80463126458062,65.28666452337674L243.55581170399984,65.60662757231529"></path></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div></div><div class="component component-group style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><div class="component selection-box-layer style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div></div><div class="component style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div></div><div class="component axis x-axis style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 69.976px; height: 21.38px; top: 178.62px; width: 260.024px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="tick-mark-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line class="tick-mark end-tick-mark style-scope vz-line-chart2" x1="0" y1="0" x2="0" y2="5" style="visibility: inherit;"></line><line class="tick-mark end-tick-mark style-scope vz-line-chart2" x1="28.891555362277558" y1="0" x2="28.891555362277558" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="57.783110724555115" y1="0" x2="57.783110724555115" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="86.67466608683267" y1="0" x2="86.67466608683267" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="115.56622144911023" y1="0" x2="115.56622144911023" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="144.45777681138782" y1="0" x2="144.45777681138782" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="173.34933217366535" y1="0" x2="173.34933217366535" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="202.24088753594293" y1="0" x2="202.24088753594293" y2="5" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="231.13244289822046" y1="0" x2="231.13244289822046" y2="5" style="visibility: inherit;"></line><line class="tick-mark end-tick-mark style-scope vz-line-chart2" x1="260.02399826049805" y1="0" x2="260.02399826049805" y2="5" style="visibility: inherit;"></line></g><g class="tick-label-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" transform="translate(0, 8)"><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="0" y="0" dx="0em" dy="0.95em">-500.0</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="28.891555362277558" y="0" dx="0em" dy="0.95em">0.000</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="57.783110724555115" y="0" dx="0em" dy="0.95em">500.0</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="86.67466608683267" y="0" dx="0em" dy="0.95em">1.000k</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="115.56622144911023" y="0" dx="0em" dy="0.95em">1.500k</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="144.45777681138782" y="0" dx="0em" dy="0.95em">2.000k</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="173.34933217366535" y="0" dx="0em" dy="0.95em">2.500k</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="202.24088753594293" y="0" dx="0em" dy="0.95em">3.000k</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="231.13244289822046" y="0" dx="0em" dy="0.95em">3.500k</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="260.02399826049805" y="0" dx="0em" dy="0.95em">4.000k</text></g><line class="baseline style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="0" y1="0" x2="260.02399826049805" y2="0"></line><g class="annotation-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="annotation-line-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-circle-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-rect-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-label-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div></div></div>
    <vz-chart-tooltip id="tooltip" class="style-scope vz-line-chart2">
    <template id="template" class="style-scope vz-chart-tooltip"></template>
    
  </vz-chart-tooltip>
    
  </vz-line-chart2>
      <template is="dom-if" class="style-scope tf-line-chart-data-loader"></template>
    </div>
    
  </tf-line-chart-data-loader>
  </div>
  <div id="buttons" class="style-scope tf-scalar-card">
    <paper-icon-button icon="fullscreen" class="style-scope tf-scalar-card x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <paper-icon-button icon="line-weight" title="Toggle y-axis log scale" class="style-scope tf-scalar-card x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <paper-icon-button icon="settings-overscan" title="Fit domain to data" class="style-scope tf-scalar-card x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon><paper-ripple id="ink" center="" class="circle style-scope paper-icon-button">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-icon-button>
    <span style="flex-grow: 1" class="style-scope tf-scalar-card"></span>
    <template is="dom-if" class="style-scope tf-scalar-card"></template></div>
    </tf-scalar-card>
                      <template is="dom-repeat" class="style-scope tf-scalar-dashboard"></template>
                    </div>
                  <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
                <template is="dom-repeat" as="page" class="style-scope tf-scalar-dashboard"></template>
              </div>
    <template is="dom-if" class="style-scope tf-paginated-view"></template>
    
  </tf-paginated-view>
            
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </div>
      

  </iron-collapse>
    <template is="dom-if" class="style-scope tf-category-pane"></template>
    
  </tf-category-pane>
          
            <tf-category-pane class="style-scope tf-scalar-dashboard x-scope tf-category-pane-0">
    
      <button class="heading style-scope tf-category-pane">
        <span class="name style-scope tf-category-pane">
          <template is="dom-if" class="style-scope tf-category-pane"></template>
          
            <span class="category-name style-scope tf-category-pane">epoch_acc</span>
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </span>
        <span class="count style-scope tf-category-pane"><span class="style-scope tf-category-pane">1</span></span>
      </button>
      <iron-collapse class="style-scope tf-category-pane x-scope iron-collapse-0 iron-collapse-closed" role="group" aria-hidden="true" style="transition-property: max-height; max-height: 0px; transition-duration: 0s;">

    

    
        <div class="content style-scope tf-category-pane">
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </div>
      

  </iron-collapse>
    <template is="dom-if" class="style-scope tf-category-pane"></template>
    
  </tf-category-pane>
          
            <tf-category-pane class="style-scope tf-scalar-dashboard x-scope tf-category-pane-0">
    
      <button class="heading style-scope tf-category-pane" open-button="">
        <span class="name style-scope tf-category-pane">
          <template is="dom-if" class="style-scope tf-category-pane"></template>
          
            <span class="category-name style-scope tf-category-pane">epoch_loss</span>
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </span>
        <span class="count style-scope tf-category-pane"><span class="style-scope tf-category-pane">1</span></span>
      </button>
      <iron-collapse class="style-scope tf-category-pane x-scope iron-collapse-0 iron-collapse-opened" role="group" aria-hidden="false" style="transition-property: max-height; transition-duration: 0s;">

    

    
        <div class="content style-scope tf-category-pane">
          
            
              <tf-paginated-view class="style-scope tf-scalar-dashboard x-scope tf-paginated-view-0">
    <span id="top-of-container" class="style-scope tf-paginated-view"></span>
    <template is="dom-if" class="style-scope tf-paginated-view"></template>
    <div class="style-scope tf-paginated-view">
                
                  
                    <div class="layout horizontal wrap style-scope tf-scalar-dashboard">
                      
                        <tf-scalar-card class="style-scope tf-scalar-dashboard x-scope tf-scalar-card-0">
  <tf-card-heading class="style-scope tf-scalar-card">
    <div class="container style-scope tf-card-heading">
      <figcaption class="content style-scope tf-card-heading">
        <div class="heading-row style-scope tf-card-heading">
          
            <div itemprop="name" class="heading-label name style-scope tf-card-heading">
              epoch_loss
            </div>
          <template is="dom-if" class="style-scope tf-card-heading"></template>
          <template is="dom-if" class="style-scope tf-card-heading"></template>
        </div>
        <template is="dom-if" class="style-scope tf-card-heading"></template>
        
      </figcaption>
      <template is="dom-if" class="style-scope tf-card-heading"></template>
      <paper-dialog id="descriptionDialog" no-overlap="" horizontal-align="auto" vertical-align="auto" class="style-scope tf-card-heading x-scope paper-dialog-0" role="dialog" tabindex="-1" aria-hidden="true" style="outline: currentcolor none medium; display: none;">
    
    
        <paper-dialog-scrollable class="style-scope tf-card-heading no-padding x-scope paper-dialog-scrollable-0 scrolled-to-bottom">
    

    <div id="scrollable" class="scrollable style-scope paper-dialog-scrollable">
      
          <tf-markdown-view class="style-scope tf-card-heading">
    <div id="markdown" class="style-scope tf-markdown-view style-scope tf-markdown-view"></div>
    
  </tf-markdown-view>
        
    </div>
  </paper-dialog-scrollable>
      
  </paper-dialog>
    </div>
    
  </tf-card-heading>
  <div id="tf-line-chart-data-loader-container" class="style-scope tf-scalar-card">
    <tf-line-chart-data-loader tooltip-position="auto" class="style-scope tf-scalar-card">
    <div id="chart-and-spinner-container" class="style-scope tf-line-chart-data-loader">
      <vz-line-chart2 id="chart" class="style-scope tf-line-chart-data-loader" style="">
    <div id="chartdiv" class="style-scope vz-line-chart2 plottable"><div class="component table style-scope vz-line-chart2" style="left: 0px; height: 200px; top: 0px; width: 330px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><div class="component axis y-axis style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 59.98px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="tick-mark-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line class="tick-mark end-tick-mark style-scope vz-line-chart2" x1="59.98000144958496" y1="164.08954415665022" x2="54.98000144958496" y2="164.08954415665022" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="59.98000144958496" y1="149.00535197289022" x2="54.98000144958496" y2="149.00535197289022" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="59.98000144958496" y1="133.92115978913023" x2="54.98000144958496" y2="133.92115978913023" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="59.98000144958496" y1="118.83696760537023" x2="54.98000144958496" y2="118.83696760537023" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="59.98000144958496" y1="103.75277542161025" x2="54.98000144958496" y2="103.75277542161025" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 end-tick-mark" x1="59.98000144958496" y1="88.66858323785024" x2="54.98000144958496" y2="88.66858323785024" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="59.98000144958496" y1="73.58439105409026" x2="54.98000144958496" y2="73.58439105409026" style="visibility: inherit;"></line><line class="tick-mark end-tick-mark style-scope vz-line-chart2" x1="59.98000144958496" y1="58.500198870330266" x2="54.98000144958496" y2="58.500198870330266" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="59.98000144958496" y1="43.416006686570285" x2="54.98000144958496" y2="43.416006686570285" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2" x1="59.98000144958496" y1="28.33181450281029" x2="54.98000144958496" y2="28.33181450281029" style="visibility: inherit;"></line><line class="tick-mark style-scope vz-line-chart2 end-tick-mark" x1="59.98000144958496" y1="13.247622319050294" x2="54.98000144958496" y2="13.247622319050294" style="visibility: inherit;"></line></g><g class="tick-label-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" transform="translate(49.98000144958496, 0)"><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="164.08954415665022" dx="0em" dy="0.3em">0.501</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="149.00535197289022" dx="0em" dy="0.3em">0.502</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="133.92115978913023" dx="0em" dy="0.3em">0.503</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="118.83696760537023" dx="0em" dy="0.3em">0.504</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="103.75277542161025" dx="0em" dy="0.3em">0.505</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="88.66858323785024" dx="0em" dy="0.3em">0.506</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="73.58439105409026" dx="0em" dy="0.3em">0.507</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="58.500198870330266" dx="0em" dy="0.3em">0.508</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="43.416006686570285" dx="0em" dy="0.3em">0.509</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: end; visibility: hidden;" x="0" y="28.33181450281029" dx="0em" dy="0.3em">0.510</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: end; visibility: inherit;" x="0" y="13.247622319050294" dx="0em" dy="0.3em">0.511</text></g><line class="baseline style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="59.98000144958496" y1="0" x2="59.98000144958496" y2="178.61999988555908"></line><g class="annotation-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="annotation-line-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-circle-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-rect-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-label-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component component-group main style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 59.98px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><div class="component gridlines style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="x-gridlines style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line x1="11.615522381962203" y1="0" x2="11.615522381962203" y2="178.61999988555908" class="style-scope vz-line-chart2"></line><line x1="102.82666456542668" y1="0" x2="102.82666456542668" y2="178.61999988555908" class="style-scope vz-line-chart2 zeroline"></line><line x1="262.4461633864895" y1="0" x2="262.4461633864895" y2="178.61999988555908" class="style-scope vz-line-chart2"></line></g><g class="y-gridlines style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line x1="0" y1="164.08954415665022" x2="270.01999855041504" y2="164.08954415665022" class="style-scope vz-line-chart2"></line><line x1="0" y1="149.00535197289022" x2="270.01999855041504" y2="149.00535197289022" class="style-scope vz-line-chart2"></line><line x1="0" y1="133.92115978913023" x2="270.01999855041504" y2="133.92115978913023" class="style-scope vz-line-chart2"></line><line x1="0" y1="118.83696760537023" x2="270.01999855041504" y2="118.83696760537023" class="style-scope vz-line-chart2"></line><line x1="0" y1="103.75277542161025" x2="270.01999855041504" y2="103.75277542161025" class="style-scope vz-line-chart2"></line><line x1="0" y1="88.66858323785024" x2="270.01999855041504" y2="88.66858323785024" class="style-scope vz-line-chart2"></line><line x1="0" y1="73.58439105409026" x2="270.01999855041504" y2="73.58439105409026" class="style-scope vz-line-chart2"></line><line x1="0" y1="58.500198870330266" x2="270.01999855041504" y2="58.500198870330266" class="style-scope vz-line-chart2"></line><line x1="0" y1="43.416006686570285" x2="270.01999855041504" y2="43.416006686570285" class="style-scope vz-line-chart2"></line><line x1="0" y1="28.33181450281029" x2="270.01999855041504" y2="28.33181450281029" class="style-scope vz-line-chart2"></line><line x1="0" y1="13.247622319050294" x2="270.01999855041504" y2="13.247622319050294" class="style-scope vz-line-chart2"></line></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component guide-line-layer horizontal style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line class="guide-line style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="0" y1="7721.269828220399" x2="270.01999855041504" y2="7721.269828220399"></line></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component guide-line-layer vertical style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line class="guide-line style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="102.82666456542668" y1="0" x2="102.82666456542668" y2="178.61999988555908"></line></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component component-group style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><div class="component plot xy-plot scatter-plot style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="render-area style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component plot xy-plot scatter-plot style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="render-area style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><path class="symbol style-scope vz-line-chart2" fill="#0077bb" opacity="1" x="102.82666456542668" y="113.86578823722328" transform="translate(102.82666456542668,113.86578823722328)" d="M4,0A4,4,0,1,1,-4,0A4,4,0,1,1,4,0" display="block"></path></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component plot xy-plot line-plot style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="render-area style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="style-scope vz-line-chart2"><path class="line style-scope vz-line-chart2" style="fill: none;" stroke="#0077bb" stroke-width="2px" d="M102.82666456542668,113.86578823722328Z"></path></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div><div class="component plot xy-plot line-plot ghost style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="render-area style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="style-scope vz-line-chart2"><path class="line style-scope vz-line-chart2" style="fill: none;" stroke="#0077bb" stroke-width="2px" d="M102.82666456542668,113.86578823722328Z"></path></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div></div><div class="component component-group style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><div class="component selection-box-layer style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-hidden style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div></div><div class="component style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 0px; height: 178.62px; top: 0px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div></div><div class="component axis x-axis style-scope vz-line-chart2 style-scope vz-line-chart2" style="left: 59.98px; height: 21.38px; top: 178.62px; width: 270.02px;"><svg class="background-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg><svg class="content component-overflow-visible style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="tick-mark-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><line class="tick-mark end-tick-mark style-scope vz-line-chart2" x1="11.615522381962203" y1="0" x2="11.615522381962203" y2="5" style="visibility: inherit;"></line><line class="tick-mark end-tick-mark style-scope vz-line-chart2" x1="102.82666456542668" y1="0" x2="102.82666456542668" y2="5" style="visibility: inherit;"></line><line class="tick-mark end-tick-mark style-scope vz-line-chart2" x1="262.4461633864895" y1="0" x2="262.4461633864895" y2="5" style="visibility: inherit;"></line></g><g class="tick-label-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" transform="translate(0, 8)"><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="11.615522381962203" y="0" dx="0em" dy="0.95em">-2.000m</text><text class="tick-label style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" style="text-anchor: middle; visibility: inherit;" x="102.82666456542668" y="0" dx="0em" dy="0.95em">0.000</text><text class="tick-label style-scope vz-line-chart2" style="text-anchor: middle; visibility: hidden;" x="262.4461633864895" y="0" dx="0em" dy="0.95em">3.500m</text></g><line class="baseline style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2" x1="0" y1="0" x2="270.01999855041504" y2="0"></line><g class="annotation-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"><g class="annotation-line-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-circle-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-rect-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g><g class="annotation-label-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></g></g></svg><svg class="foreground-container style-scope vz-line-chart2 style-scope vz-line-chart2 style-scope vz-line-chart2"></svg></div></div></div>
    <vz-chart-tooltip id="tooltip" class="style-scope vz-line-chart2">
    <template id="template" class="style-scope vz-chart-tooltip"></template>
    
  </vz-chart-tooltip>
    
  </vz-line-chart2>
      <template is="dom-if" class="style-scope tf-line-chart-data-loader"></template>
    </div>
    
  </tf-line-chart-data-loader>
  </div>
  <div id="buttons" class="style-scope tf-scalar-card">
    <paper-icon-button icon="fullscreen" class="style-scope tf-scalar-card x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <paper-icon-button icon="line-weight" title="Toggle y-axis log scale" class="style-scope tf-scalar-card x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <paper-icon-button icon="settings-overscan" title="Fit domain to data" class="style-scope tf-scalar-card x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <span style="flex-grow: 1" class="style-scope tf-scalar-card"></span>
    <template is="dom-if" class="style-scope tf-scalar-card"></template></div>
    </tf-scalar-card>
                      <template is="dom-repeat" class="style-scope tf-scalar-dashboard"></template>
                    </div>
                  <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
                <template is="dom-repeat" as="page" class="style-scope tf-scalar-dashboard"></template>
              </div>
    <template is="dom-if" class="style-scope tf-paginated-view"></template>
    
  </tf-paginated-view>
            
          <template is="dom-if" class="style-scope tf-category-pane"></template>
        </div>
      

  </iron-collapse>
    <template is="dom-if" class="style-scope tf-category-pane"></template>
    
  </tf-category-pane>
          <template is="dom-repeat" as="category" class="style-scope tf-scalar-dashboard"></template>
        <template is="dom-if" class="style-scope tf-scalar-dashboard"></template>
      </div>
    </div>
    
    
  </tf-dashboard-layout>

    
    
  </tf-scalar-dashboard></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="custom_scalars"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="images"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="audio"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="debugger"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="graphs" data-selected=""><tf-graph-dashboard id="dashboard">
<paper-dialog id="error-dialog" with-backdrop="" class="style-scope tf-graph-dashboard x-scope paper-dialog-0" role="dialog" tabindex="-1" aria-hidden="true" style="outline: currentcolor none medium; display: none;">
    
    
  </paper-dialog>
<template is="dom-if" class="style-scope tf-graph-dashboard"></template>

<tf-dashboard-layout class="style-scope tf-graph-dashboard x-scope tf-dashboard-layout-0">
    <div id="sidebar" class="style-scope tf-dashboard-layout">
      <div class="sidebar style-scope tf-graph-dashboard">
  <tf-graph-controls id="controls" class="style-scope tf-graph-dashboard x-scope tf-graph-controls-0">

<svg width="0" height="0" class="style-scope tf-graph-controls">
  <defs class="style-scope tf-graph-controls">
    <g id="legend-rect" class="style-scope tf-graph-controls">
      <rect x="1" y="1" stroke-width="2px" height="14" width="35" rx="5" ry="5" class="style-scope tf-graph-controls"></rect>
    </g>
    <g id="grey-rect" class="style-scope tf-graph-controls">
       <use xlink="http://www.w3.org/1999/xlink" xlink:href="#legend-rect" class="style-scope tf-graph-controls"></use>
     </g>
     <g id="faded-rect" class="style-scope tf-graph-controls">
       <use xlink="http://www.w3.org/1999/xlink" xlink:href="#legend-rect" class="style-scope tf-graph-controls"></use>
     </g>
     <g id="unfilled-rect" class="style-scope tf-graph-controls">
       <use xlink="http://www.w3.org/1999/xlink" xlink:href="#legend-rect" class="style-scope tf-graph-controls"></use>
     </g>
  </defs>
</svg>
<div class="allcontrols style-scope tf-graph-controls">
  <div class="control-holder style-scope tf-graph-controls">
    <tf-graph-node-search class="style-scope tf-graph-controls x-scope tf-graph-node-search-0">
<div id="search-container" class="style-scope tf-graph-node-search">
  <paper-input id="runs-regex" label="Search nodes. Regexes supported." class="style-scope tf-graph-node-search x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-4">
    

    
      <div class="floated-label-placeholder style-scope paper-input-container" aria-hidden="true">&nbsp;</div>
    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer" style="position: relative;">
        <label aria-hidden="true" class="style-scope paper-input" for="input-7" id="paper-input-label-7">Search nodes. Regexes supported.</label><input is="iron-input" class="input-element style-scope paper-input" autocomplete="off" placeholder="" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-7" id="input-7" tabindex="0"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
  <div id="search-results-anchor" class="style-scope tf-graph-node-search">
    <div id="search-results" class="style-scope tf-graph-node-search">
      <template is="dom-repeat" class="style-scope tf-graph-node-search"></template>
    </div>
  </div>
</div>

</tf-graph-node-search>
  </div>
  <div class="control-holder style-scope tf-graph-controls">
    <paper-icon-button icon="aspect-ratio" class="iconbutton style-scope tf-graph-controls x-scope paper-icon-button-0" alt="Fit to screen" role="button" tabindex="0" aria-disabled="false" aria-label="Fit to screen"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0" alt="Fit to screen"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <paper-button class="button-text style-scope tf-graph-controls x-scope paper-button-0" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">Fit to screen
    </paper-button>
  </div>
  <div class="control-holder style-scope tf-graph-controls">
    <paper-icon-button icon="file-download" class="iconbutton style-scope tf-graph-controls x-scope paper-icon-button-0" alt="Download PNG" role="button" tabindex="0" aria-disabled="false" aria-label="Download PNG"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0" alt="Download PNG"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <paper-button class="button-text style-scope tf-graph-controls x-scope paper-button-0" role="button" tabindex="0" animated="" aria-disabled="false" elevation="0">Download PNG
    </paper-button>
    <a href="#" id="graphdownload" class="title style-scope tf-graph-controls" download="graph?large_attrs_key=_too_large_attrs&amp;limit_attr_size=1024&amp;run=1542781860.png">
    </a>
  </div>
  <div class="control-holder runs style-scope tf-graph-controls">
    <div class="title style-scope tf-graph-controls">Run <span class="counter style-scope tf-graph-controls">(2)</span></div>
    <paper-dropdown-menu no-label-float="" no-animations="" noink="" class="run-dropdown style-scope tf-graph-controls x-scope paper-dropdown-menu-2" role="combobox" aria-autocomplete="none" aria-haspopup="true" aria-disabled="false">
    

    
    <span role="button" class="style-scope paper-dropdown-menu"></span>
    <paper-menu-button id="menuButton" close-on-activate="" class="style-scope paper-dropdown-menu x-scope paper-menu-button-0" role="group" aria-haspopup="true" aria-disabled="false" horizontal-align="right" vertical-align="top">
    

    <div id="trigger" class="style-scope paper-menu-button">
      <div class="dropdown-trigger style-scope paper-dropdown-menu">
        <paper-ripple class="style-scope paper-dropdown-menu">
    

    <div id="background" class="style-scope paper-ripple"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple>
        
        <paper-input type="text" readonly="" class="style-scope paper-dropdown-menu x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-5">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content label-is-hidden style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" class="style-scope paper-input" for="input-8" id="paper-input-label-8"> </label><input is="iron-input" class="input-element style-scope paper-input" autocomplete="off" placeholder="" readonly="readonly" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-8" id="input-8" tabindex="0" type="text" value="1542781860.2657604"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" class="style-scope paper-dropdown-menu x-scope iron-icon-1"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M7 10l5 5 5-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon>
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
      </div>
    </div>

    <iron-dropdown id="dropdown" class="style-scope paper-menu-button" aria-disabled="false" aria-hidden="true" horizontal-align="right" vertical-align="top" style="outline: currentcolor none medium; display: none;">
    

    <div id="contentWrapper" class="style-scope iron-dropdown">
      <div class="dropdown-content style-scope paper-menu-button">
        <paper-menu id="select" class="dropdown-content style-scope tf-graph-controls x-scope paper-menu-0" slot="dropdown-content" role="menu" aria-expanded="false" tabindex="0">
    
    

    <div class="selectable-content style-scope paper-menu">
      
        
          <paper-item class="style-scope tf-graph-controls iron-selected x-scope paper-item-2" role="option" tabindex="0" aria-disabled="false" aria-selected="true">
    
    1542781860.2657604
  </paper-item>
        
          <paper-item class="style-scope tf-graph-controls x-scope paper-item-2" role="option" tabindex="-1" aria-disabled="false">
    
    1542782541.0073698
  </paper-item>
        <template is="dom-repeat" class="style-scope tf-graph-controls"></template>
      
    </div>
  </paper-menu>
      </div>
    </div>
  </iron-dropdown>
  </paper-menu-button>
  </paper-dropdown-menu>
  </div>
  
    <div class="control-holder style-scope tf-graph-controls">
      <div class="title style-scope tf-graph-controls">Session runs <span class="counter style-scope tf-graph-controls">(0)</span></div>
      <paper-dropdown-menu no-label-float="" no-animations="" noink="" class="run-dropdown style-scope tf-graph-controls x-scope paper-dropdown-menu-2" role="combobox" aria-autocomplete="none" aria-haspopup="true" aria-disabled="false">
    

    
    <span role="button" class="style-scope paper-dropdown-menu"></span>
    <paper-menu-button id="menuButton" close-on-activate="" class="style-scope paper-dropdown-menu x-scope paper-menu-button-0" role="group" aria-haspopup="true" aria-disabled="false" horizontal-align="right" vertical-align="top">
    

    <div id="trigger" class="style-scope paper-menu-button">
      <div class="dropdown-trigger style-scope paper-dropdown-menu">
        <paper-ripple class="style-scope paper-dropdown-menu">
    

    <div id="background" class="style-scope paper-ripple"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple>
        
        <paper-input type="text" readonly="" class="style-scope paper-dropdown-menu x-scope paper-input-0" tabindex="0" aria-disabled="false">
    

    <paper-input-container class="style-scope paper-input x-scope paper-input-container-5">
    

    <template is="dom-if" class="style-scope paper-input-container"></template>

    <div class="input-content style-scope paper-input-container">
      

      <div class="label-and-input-container style-scope paper-input-container" id="labelAndInputContainer">
        <label aria-hidden="true" class="style-scope paper-input" for="input-9" id="paper-input-label-9"> </label><input is="iron-input" class="input-element style-scope paper-input" autocomplete="off" placeholder="" readonly="readonly" autocapitalize="none" autocorrect="off" aria-describedby="" aria-labelledby="paper-input-label-9" id="input-9" tabindex="0" type="text"><template is="dom-if" class="style-scope paper-input"></template><template is="dom-if" class="style-scope paper-input"></template>
      </div>

      <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix="" class="style-scope paper-dropdown-menu x-scope iron-icon-1"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M7 10l5 5 5-5z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon>
    </div>

    <div class="underline style-scope paper-input-container">
      <div class="unfocused-line style-scope paper-input-container"></div>
      <div class="focused-line style-scope paper-input-container"></div>
    </div>

    <div class="add-on-content style-scope paper-input-container">
      
    </div>
  </paper-input-container>
  </paper-input>
      </div>
    </div>

    <iron-dropdown id="dropdown" class="style-scope paper-menu-button" aria-disabled="false" aria-hidden="true" horizontal-align="right" vertical-align="top" style="outline: currentcolor none medium; display: none;">
    

    <div id="contentWrapper" class="style-scope iron-dropdown">
      <div class="dropdown-content style-scope paper-menu-button">
        <paper-menu id="select" class="dropdown-content style-scope tf-graph-controls x-scope paper-menu-0" slot="dropdown-content" role="menu" aria-expanded="false" tabindex="0">
    
    

    <div class="selectable-content style-scope paper-menu">
      
          <template is="dom-repeat" class="style-scope tf-graph-controls"></template>
          <paper-item class="style-scope tf-graph-controls x-scope paper-item-1" role="option" tabindex="-1" aria-disabled="false">
    
    None
  </paper-item>
        
    </div>
  </paper-menu>
      </div>
    </div>
  </iron-dropdown>
  </paper-menu-button>
  </paper-dropdown-menu>
    </div>
  <template is="dom-if" class="style-scope tf-graph-controls"></template>
  
    <div class="control-holder style-scope tf-graph-controls">
      <div class="title style-scope tf-graph-controls">Upload</div>
      <paper-button raised="" class="text-button upload-button style-scope tf-graph-controls x-scope paper-button-0" role="button" tabindex="0" animated="" aria-disabled="false" elevation="1">Choose File</paper-button>
      <div class="hidden-input style-scope tf-graph-controls">
        <input type="file" id="file" name="file" class="style-scope tf-graph-controls">
      </div>
    </div>
  <template is="dom-if" class="style-scope tf-graph-controls"></template>
  <div class="control-holder style-scope tf-graph-controls">
    <paper-toggle-button id="trace-inputs" class="style-scope tf-graph-controls x-scope paper-toggle-button-0" style="touch-action: pan-y;" role="button" aria-pressed="false" tabindex="0" toggles="" aria-disabled="false"><div class="toggle-container style-scope paper-toggle-button"><div id="toggleBar" class="toggle-bar style-scope paper-toggle-button"></div><div id="toggleButton" class="toggle-button style-scope paper-toggle-button"></div></div><div class="toggle-label style-scope paper-toggle-button"></div></paper-toggle-button>
    <div class="title style-scope tf-graph-controls">Trace inputs</div>
  </div>
  <template is="dom-if" class="style-scope tf-graph-controls"></template>
  <div class="control-holder style-scope tf-graph-controls">
    <div class="title style-scope tf-graph-controls">Color</div>
    <paper-radio-group id="color-by-radio-group" class="style-scope tf-graph-controls x-scope paper-radio-group-0" role="radiogroup" tabindex="0">
    

    
      <paper-radio-button name="structure" class="style-scope tf-graph-controls x-scope paper-radio-button-1 iron-selected" role="radio" tabindex="0" toggles="" aria-checked="true" aria-disabled="false" aria-selected="true" checked="" active=""><div id="radioContainer" class="style-scope paper-radio-button"><div id="offRadio" class="style-scope paper-radio-button"></div><div id="onRadio" class="style-scope paper-radio-button"></div></div><div id="radioLabel" class="style-scope paper-radio-button">Structure</div></paper-radio-button>

      <paper-radio-button name="device" class="style-scope tf-graph-controls x-scope paper-radio-button-1" role="radio" tabindex="-1" toggles="" aria-checked="false" aria-disabled="false"><div id="radioContainer" class="style-scope paper-radio-button"><div id="offRadio" class="style-scope paper-radio-button"></div><div id="onRadio" class="style-scope paper-radio-button"></div></div><div id="radioLabel" class="style-scope paper-radio-button">Device</div></paper-radio-button>

      <paper-radio-button id="xla-cluster-radio-button" name="xla_cluster" class="style-scope tf-graph-controls x-scope paper-radio-button-1" role="radio" tabindex="-1" toggles="" aria-checked="false" aria-disabled="true" disabled="" style="pointer-events: none;"><div id="radioContainer" class="style-scope paper-radio-button"><div id="offRadio" class="style-scope paper-radio-button"></div><div id="onRadio" class="style-scope paper-radio-button"></div></div><div id="radioLabel" class="style-scope paper-radio-button">
        XLA Cluster
      </div></paper-radio-button>
      <paper-tooltip animation-delay="0" for="xla-cluster-radio-button" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
        Coloring by XLA cluster is only enabled if at least 1 op specifies an XLA cluster.
      
    </div>
  </paper-tooltip>

      <paper-radio-button id="compute-time-radio-button" name="compute_time" class="style-scope tf-graph-controls x-scope paper-radio-button-1" role="radio" tabindex="-1" toggles="" aria-checked="false" disabled="" aria-disabled="true" style="pointer-events: none;"><div id="radioContainer" class="style-scope paper-radio-button"><div id="offRadio" class="style-scope paper-radio-button"></div><div id="onRadio" class="style-scope paper-radio-button"></div></div><div id="radioLabel" class="style-scope paper-radio-button">
        Compute time
      </div></paper-radio-button>
      <paper-tooltip animation-delay="0" for="compute-time-radio-button" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
        Coloring by compute time is only enabled if the RunMetadata proto is passed to the
        FileWriter when a specific session is run.
      
    </div>
  </paper-tooltip>

      <paper-radio-button id="memory-radio-button" name="memory" class="style-scope tf-graph-controls x-scope paper-radio-button-1" role="radio" tabindex="-1" toggles="" aria-checked="false" disabled="" aria-disabled="true" style="pointer-events: none;"><div id="radioContainer" class="style-scope paper-radio-button"><div id="offRadio" class="style-scope paper-radio-button"></div><div id="onRadio" class="style-scope paper-radio-button"></div></div><div id="radioLabel" class="style-scope paper-radio-button">
        Memory
      </div></paper-radio-button>
      <paper-tooltip animation-delay="0" for="memory-radio-button" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
        Coloring by memory is only enabled if the RunMetadata proto is passed to the
        FileWriter when a specific session is run.
      
    </div>
  </paper-tooltip>

      <paper-radio-button id="tpu-compatibility-radio-button" name="op_compatibility" class="style-scope tf-graph-controls x-scope paper-radio-button-1" role="radio" tabindex="-1" toggles="" aria-checked="false" aria-disabled="false"><div id="radioContainer" class="style-scope paper-radio-button"><div id="offRadio" class="style-scope paper-radio-button"></div><div id="onRadio" class="style-scope paper-radio-button"></div></div><div id="radioLabel" class="style-scope paper-radio-button">
        TPU Compatibility
      </div></paper-radio-button>
      <paper-tooltip animation-delay="0" for="tpu-compatibility-radio-button" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
        Coloring by whether an operation is compatible for the TPU device.
      
    </div>
  </paper-tooltip>

    
  </paper-radio-group>
  </div>
  <div class="style-scope tf-graph-controls">
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    
      <div class="color-text style-scope tf-graph-controls">
        <div class="color-legend-row style-scope tf-graph-controls">
          <div style="position: absolute;" class="style-scope tf-graph-controls">
            colors
          </div>
          <span class="color-legend-value style-scope tf-graph-controls">same substructure</span>
        </div>
        <div class="color-legend-row style-scope tf-graph-controls">
          <svg class="style-scope tf-graph-controls">
            <use xlink="http://www.w3.org/1999/xlink" xlink:href="#grey-rect" x="0" y="0" class="style-scope tf-graph-controls"></use>
          </svg>
          <span class="color-legend-value style-scope tf-graph-controls">unique substructure</span>
        </div>
      </div>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
    <template is="dom-if" class="style-scope tf-graph-controls"></template>
  </div>

  <div class="legend-holder style-scope tf-graph-controls">
    <paper-icon-button class="toggle-legend-button style-scope tf-graph-controls x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon></paper-icon-button>
    <span class="toggle-legend-text style-scope tf-graph-controls">
      Close legend.
    </span>
    <iron-collapse class="style-scope tf-graph-controls iron-collapse-opened x-scope iron-collapse-0" role="group" aria-hidden="false" style="transition-property: max-height; transition-duration: 0s;">

    

    
      <div class="style-scope tf-graph-controls">
        <table class="style-scope tf-graph-controls">
          <tbody class="style-scope tf-graph-controls"><tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls"><div class="title style-scope tf-graph-controls">Graph</div></td>
            <td class="style-scope tf-graph-controls">(* = expandable)</td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls">
                <rect transform="translate(3, 1)" height="14" width="35" rx="5" ry="5" class="style-scope tf-graph-controls"></rect>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Namespace<span class="gray style-scope tf-graph-controls">*</span>
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
                  Encapsulates a set of nodes. Namespace is hierarchical and based on scope.
                
    </div>
  </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" preserveAspectRatio="xMinYMid meet" viewBox="0 0 10 10">
                <use xlink:href="#op-node-stamp" fill="white" stroke="#ccc" x="9.5" y="6" class="style-scope tf-graph-controls"></use>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              OpNode
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
                  Node that performs an operation. These nodes cannot expand.
                
    </div>
  </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 12 12">
                <use xlink:href="#op-series-horizontal-stamp" fill="white" stroke="#ccc" x="2" y="2" class="style-scope tf-graph-controls"></use>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Unconnected series<span class="gray style-scope tf-graph-controls">*</span>
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
                  Sequence of numbered nodes that are not connected to each other.
                
    </div>
  </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 15 15">
                <use xlink:href="#op-series-vertical-stamp" fill="white" stroke="#ccc" x="2" y="2" class="style-scope tf-graph-controls"></use>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Connected series<span class="gray style-scope tf-graph-controls">*</span>
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
                  Sequence of numbered nodes that are connected to each other.
                
    </div>
  </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls">
                <circle fill="white" stroke="#848484" cx="10" cy="10" r="5" class="style-scope tf-graph-controls"></circle>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Constant
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
                  Node that outputs a constant value.
                
    </div>
  </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="image-icon style-scope tf-graph-controls" viewBox="0 0 12 12" width="24" height="24">
                <use x="0" y="0" class="image-icon style-scope tf-graph-controls" xlink:href="#summary-icon"></use>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Summary
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
                  Node that collects data for visualization within TensorBoard.
                
    </div>
  </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 15 15">
                <defs class="style-scope tf-graph-controls">
                  <marker id="dataflow-arrowhead-legend" fill="#bbb" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto-start-reverse" class="style-scope tf-graph-controls">
                    <path d="M 0,0 L 10,5 L 0,10 C 3,7 3,3 0,0" class="style-scope tf-graph-controls"></path>
                  </marker>
                </defs>
                <path marker-end="url(#dataflow-arrowhead-legend)" stroke="#bbb" d="M2 9 l 29 0" stroke-linecap="round" class="style-scope tf-graph-controls"></path>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Dataflow edge
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
                  Edge showing the data flow between operations. Edges flow upwards unless arrowheads specify otherwise.
                
    </div>
  </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 15 15">
                <path stroke="#bbb" d="M2 9 l 29 0" stroke-linecap="round" stroke-dasharray="2, 2" class="style-scope tf-graph-controls"></path>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Control dependency edge
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
                  Edge showing the control dependency between operations.
                
    </div>
  </paper-tooltip>
              </div>
            </td>
          </tr>
          <tr class="style-scope tf-graph-controls">
            <td class="style-scope tf-graph-controls">
              <svg class="icon style-scope tf-graph-controls" height="15px" preserveAspectRatio="xMinYMid meet" viewBox="0 0 15 15">
                <defs class="style-scope tf-graph-controls">
                  <marker id="reference-arrowhead-legend" fill="#FFB74D" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto-start-reverse" class="style-scope tf-graph-controls">
                    <path d="M 0,0 L 10,5 L 0,10 C 3,7 3,3 0,0" class="style-scope tf-graph-controls"></path>
                  </marker>
                </defs>
                <path marker-end="url(#reference-arrowhead-legend)" stroke="#FFB74D" d="M2 9 l 29 0" stroke-linecap="round" class="style-scope tf-graph-controls"></path>
              </svg>
            </td>
            <td class="style-scope tf-graph-controls">
              Reference edge
              <div class="legend-clarifier style-scope tf-graph-controls">
                <span class="style-scope tf-graph-controls">?</span>
                <paper-tooltip animation-delay="0" position="right" class="style-scope tf-graph-controls x-scope paper-tooltip-0" role="tooltip" tabindex="-1">
    

    <div id="tooltip" class="hidden style-scope paper-tooltip">
      
                  Edge showing that the outgoing operation node can mutate the incoming tensor.
                
    </div>
  </paper-tooltip>
              </div>
            </td>
          </tr>
        </tbody></table>
      </div>
    

  </iron-collapse>
  </div>
</div>
</tf-graph-controls>
  <tf-graph-loader id="loader" class="style-scope tf-graph-dashboard"></tf-graph-loader>
</div>
    </div>

    <div id="center" class="style-scope tf-dashboard-layout">
      <div class="center style-scope tf-graph-dashboard">
    <tf-graph-board id="graphboard" class="style-scope tf-graph-dashboard x-scope tf-graph-board-0">

<div id="progress-bar" class="style-scope tf-graph-board" style="display: none;">
    <div id="progress-msg" class="style-scope tf-graph-board">Namespace hierarchy: Finding similar subgraphs</div>
    <paper-progress class="style-scope tf-graph-board x-scope paper-progress-1" role="progressbar" value="100" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-disabled="false">
    

    <div id="progressContainer" class="style-scope paper-progress">
      <div id="secondaryProgress" class="style-scope paper-progress" style="transform: scaleX(0);" hidden=""></div>
      <div id="primaryProgress" class="style-scope paper-progress" style="transform: scaleX(1);"></div>
    </div>
  </paper-progress>
  </div><template is="dom-if" class="style-scope tf-graph-board"></template>
<div class="container style-scope tf-graph-board">
  <div id="main" class="style-scope tf-graph-board">
    <tf-graph id="graph" class="style-scope tf-graph-board x-scope tf-graph-0">

<div class="container style-scope tf-graph">
  <div class="vertical style-scope tf-graph">
    <template is="dom-if" class="style-scope tf-graph"></template>
    <tf-graph-scene id="scene" class="auto style-scope tf-graph">

<div class="titleContainer style-scope tf-graph-scene">
  <div id="title" class="title style-scope tf-graph-scene" style="display: none; left: 29.5439px;">Main Graph</div>
  <div id="auxTitle" class="auxTitle style-scope tf-graph-scene" style="display: none; left: 889.271px;">Auxiliary Nodes</div>
  <div id="functionLibraryTitle" class="functionLibraryTitle style-scope tf-graph-scene" style="display: none;">Functions</div>
</div>
<svg id="svg" class="style-scope tf-graph-scene">
  <defs class="style-scope tf-graph-scene">

    
    <path id="reference-arrowhead-path" d="M 0,0 L 10,5 L 0,10 C 3,7 3,3 0,0" class="style-scope tf-graph-scene"></path>
    <marker class="reference-arrowhead style-scope tf-graph-scene" id="reference-arrowhead-small" viewBox="0 0 10 10" markerWidth="5" markerHeight="5" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#reference-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="reference-arrowhead style-scope tf-graph-scene" id="reference-arrowhead-medium" viewBox="0 0 10 10" markerWidth="13" markerHeight="13" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#reference-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="reference-arrowhead style-scope tf-graph-scene" id="reference-arrowhead-large" viewBox="0 0 10 10" markerWidth="16" markerHeight="16" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#reference-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="reference-arrowhead style-scope tf-graph-scene" id="reference-arrowhead-xlarge" viewBox="0 0 10 10" markerWidth="20" markerHeight="20" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#reference-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>

    
    <path id="dataflow-arrowhead-path" d="M 0,0 L 10,5 L 0,10 C 3,7 3,3 0,0" class="style-scope tf-graph-scene"></path>
    <marker class="dataflow-arrowhead style-scope tf-graph-scene" id="dataflow-arrowhead-small" viewBox="0 0 10 10" markerWidth="5" markerHeight="5" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#dataflow-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="dataflow-arrowhead style-scope tf-graph-scene" id="dataflow-arrowhead-medium" viewBox="0 0 10 10" markerWidth="13" markerHeight="13" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#dataflow-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="dataflow-arrowhead style-scope tf-graph-scene" id="dataflow-arrowhead-large" viewBox="0 0 10 10" markerWidth="16" markerHeight="16" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#dataflow-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>
    <marker class="dataflow-arrowhead style-scope tf-graph-scene" id="dataflow-arrowhead-xlarge" viewBox="0 0 10 10" markerWidth="20" markerHeight="20" refX="2" refY="5" orient="auto-start-reverse" markerUnits="userSpaceOnUse">
      <use xlink:href="#dataflow-arrowhead-path" class="style-scope tf-graph-scene"></use>
    </marker>

    
    <marker id="annotation-arrowhead" markerWidth="5" markerHeight="5" refX="5" refY="2.5" orient="auto" class="style-scope tf-graph-scene">
      <path d="M 0,0 L 5,2.5 L 0,5 L 0,0" class="style-scope tf-graph-scene"></path>
    </marker>
    <marker id="annotation-arrowhead-faded" markerWidth="5" markerHeight="5" refX="5" refY="2.5" orient="auto" class="style-scope tf-graph-scene">
      <path d="M 0,0 L 5,2.5 L 0,5 L 0,0" class="style-scope tf-graph-scene"></path>
    </marker>
    <marker id="ref-annotation-arrowhead" markerWidth="5" markerHeight="5" refX="0" refY="2.5" orient="auto" class="style-scope tf-graph-scene">
      <path d="M 5,0 L 0,2.5 L 5,5 L 5,0" class="style-scope tf-graph-scene"></path>
    </marker>
    <marker id="ref-annotation-arrowhead-faded" markerWidth="5" markerHeight="5" refX="0" refY="2.5" orient="auto" class="style-scope tf-graph-scene">
      <path d="M 5,0 L 0,2.5 L 5,5 L 5,0" class="style-scope tf-graph-scene"></path>
    </marker>
    
    <ellipse id="op-node-stamp" rx="7.5" ry="3" stroke="inherit" fill="inherit" class="style-scope tf-graph-scene"></ellipse>
    
    <ellipse id="op-node-annotation-stamp" rx="5" ry="2" stroke="inherit" fill="inherit" class="style-scope tf-graph-scene"></ellipse>
    
    <g id="op-series-vertical-stamp" class="style-scope tf-graph-scene">
      <use xlink:href="#op-node-stamp" x="8" y="9" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-stamp" x="8" y="6" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-stamp" x="8" y="3" class="style-scope tf-graph-scene"></use>
    </g>
    
    <g id="op-series-horizontal-stamp" class="style-scope tf-graph-scene">
      <use xlink:href="#op-node-stamp" x="16" y="4" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-stamp" x="12" y="4" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-stamp" x="8" y="4" class="style-scope tf-graph-scene"></use>
    </g>
    
    <g id="op-series-annotation-stamp" class="style-scope tf-graph-scene">
      <use xlink:href="#op-node-annotation-stamp" x="9" y="2" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-annotation-stamp" x="7" y="2" class="style-scope tf-graph-scene"></use>
      <use xlink:href="#op-node-annotation-stamp" x="5" y="2" class="style-scope tf-graph-scene"></use>
    </g>
    <svg id="summary-icon" fill="#848484" height="12" viewBox="0 0 24 24" width="12" class="style-scope tf-graph-scene">
      <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" class="style-scope tf-graph-scene"></path>
    </svg>
    
    <g id="linearGradients" class="style-scope tf-graph-scene"></g>

    
    <pattern id="rectHatch" patternTransform="rotate(45 0 0)" width="5" height="5" patternUnits="userSpaceOnUse" class="style-scope tf-graph-scene">
      <line x1="0" y1="0" x2="0" y2="5" style="stroke-width: 1" class="style-scope tf-graph-scene"></line>
    </pattern>
    <pattern id="ellipseHatch" patternTransform="rotate(45 0 0)" width="2" height="2" patternUnits="userSpaceOnUse" class="style-scope tf-graph-scene">
      <line x1="0" y1="0" x2="0" y2="2" style="stroke-width: 1" class="style-scope tf-graph-scene"></line>
    </pattern>

    
    <filter id="health-pill-shadow" x="-40%" y="-40%" width="180%" height="180%" class="style-scope tf-graph-scene">
      <feGaussianBlur in="SourceAlpha" stdDeviation="0.8" class="style-scope tf-graph-scene"></feGaussianBlur>
      <feOffset dx="0" dy="0" result="offsetblur" class="style-scope tf-graph-scene"></feOffset>
      <feFlood flood-color="#000000" class="style-scope tf-graph-scene"></feFlood>
      <feComposite in2="offsetblur" operator="in" class="style-scope tf-graph-scene"></feComposite>
      <feMerge class="style-scope tf-graph-scene">
        <feMergeNode class="style-scope tf-graph-scene"></feMergeNode>
        <feMergeNode in="SourceGraphic" class="style-scope tf-graph-scene"></feMergeNode>
      </feMerge>
    </filter>
  </defs>
  
  <rect fill="white" width="10000" height="10000" class="style-scope tf-graph-scene"></rect>
  <g id="root" class="style-scope tf-graph-scene" transform="translate(130.54340426847654,186.502607742347) scale(0.6429861622727738)"><g class="scene" opacity="1"><g class="core" transform="translate(0,20)"><g class="edges"><g class="edge" data-edge="flatten_input--flatten"><path id="path_flatten_input--flatten" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M600.4787954967757,555.6301148600144L607.3947143554688,534.432861328125"></path><text><textPath xlink:href="#path_flatten_input--flatten" startOffset="50%" text-anchor="middle" dominant-baseline="central">2 tensors</textPath></text></g><g class="edge" data-edge="flatten--dense"><path id="path_flatten--dense" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M641.5,521.797147089566L738.8333333333334,518.5729097246742C836.1666666666666,515.3486723597824,1030.8333333333333,508.9001976299989,1128.1666666666667,504.2592933136389C1225.5,499.618388997279,1225.5,496.7850550943426,1225.5,495.36838814287444L1225.5,493.95172119140625"></path><text><textPath xlink:href="#path_flatten--dense" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×784</textPath></text></g><g class="edge" data-edge="dense--dense_1"><path id="path_dense--dense_1" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1280.0359585313379,240.429648241206L1280.9466321094483,238.34631490787265C1281.8573056875587,236.26298157453934,1283.6786528437794,232.09631490787265,1282.8874221250146,228.38976830972896C1282.09619140625,224.68322171158525,1278.6923828125,221.4367951819645,1276.990478515625,219.81358191715412L1275.28857421875,218.19036865234375"></path><text><textPath xlink:href="#path_dense--dense_1" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×128</textPath></text></g><g class="edge" data-edge="dense_1--loss"><path id="path_dense_1--loss" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1277.1517386722867,192.7412060301507L1280.2097822269054,190.65787269681735C1283.2678257815244,188.57453936348404,1289.3839128907623,184.40787269681735,1272.2496753581415,176.5599705809524C1255.1154378255208,168.71206846508744,1214.7308756510417,157.1829309000242,1194.538594563802,151.41836211749256L1174.3463134765625,145.65379333496094"></path><text><textPath xlink:href="#path_dense_1--loss" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×10</textPath></text></g><g class="edge" data-edge="dense_1_target--loss"><path id="path_dense_1_target--loss" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M729.1037407797681,201.08542713567834L736.4614506498068,197.61139028475705C743.8191605198454,194.13735343383578,758.5345802599227,187.18927973199325,821.4387378838677,177.02244381289583C884.3428955078125,166.85560789379838,995.435791015625,153.47000975744606,1050.9822387695312,146.7772106892699L1106.5286865234375,140.08441162109375"></path><text><textPath xlink:href="#path_dense_1_target--loss" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×?</textPath></text></g><g class="edge" data-edge="dense_1_sample_weights--loss"><path id="path_dense_1_sample_weights--loss" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M852.1674920969441,201.08542713567834L848.5979100807867,197.61139028475705C845.0283280646294,194.13735343383578,837.8891640323146,187.18927973199325,880.2846088716261,177.14880947451692C922.6800537109375,167.10833921704057,1014.610107421875,153.97547240393044,1060.5751342773438,147.40903899737538L1106.5401611328125,140.8426055908203"></path><text><textPath xlink:href="#path_dense_1_sample_weights--loss" startOffset="50%" text-anchor="middle" dominant-baseline="central">2 tensors</textPath></text></g><g class="edge" data-edge="dense_1_target--metrics"><path id="path_dense_1_target--metrics" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M724.4485247629083,201.08542713567834L726.4154373024236,197.61139028475705C728.3823498419388,194.13735343383578,732.3161749209694,187.18927973199325,776.8324242117868,177.20596635521352C821.3486735026041,167.22265297843379,906.4473470052084,154.2040999267169,948.9966837565104,147.69482340085844L991.5460205078125,141.185546875"></path><text><textPath xlink:href="#path_dense_1_target--metrics" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×?</textPath></text></g><g class="edge" data-edge="dense_1--metrics"><path id="path_dense_1--metrics" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1273.5835089567965,192.7412060301507L1275.9862574639972,190.65787269681735C1278.3890059711978,188.57453936348404,1283.1945029855988,184.40787269681735,1247.5046408157161,175.90321449778185C1211.8147786458333,167.39855629874629,1135.6295572916667,154.5559065673419,1097.5369466145833,148.1345817016397L1059.4443359375,141.7132568359375"></path><text><textPath xlink:href="#path_dense_1--metrics" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×10</textPath></text></g><g class="edge" data-edge="loss--training"><path id="path_loss--training" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1148.6338897879227,121.59422110552758L1151.4449081566024,116.61871859296475C1154.255926525282,111.64321608040196,1159.8779632626408,101.69221105527633,1154.96182912481,93.17954403671183C1150.0456949869792,84.66687701814733,1134.5913899739583,77.59254800614399,1126.864237467448,74.0553835001423L1119.1370849609375,70.51821899414062"></path><text><textPath xlink:href="#path_loss--training" startOffset="50%" text-anchor="middle" dominant-baseline="central">20 tensors</textPath></text></g><g class="edge" data-edge="dense_1--training"><path id="path_dense_1--training" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1271.20468914647,192.7412060301507L1273.170574288725,190.65787269681735C1275.13645943098,188.57453936348404,1279.06822971549,184.40787269681735,1281.034114857745,174.94953936348404C1283,165.4912060301507,1283,150.7412060301507,1283,135.9912060301507C1283,121.24120603015069,1283,106.49120603015069,1255.7388305664062,94.06141762278183C1228.4776611328125,81.63162921541296,1173.955322265625,71.52205240067524,1146.6941528320312,66.46726399330636L1119.4329833984375,61.4124755859375"></path><text><textPath xlink:href="#path_dense_1--training" startOffset="50%" text-anchor="middle" dominant-baseline="central">17 tensors</textPath></text></g><g class="edge" data-edge="dense--training"><path id="path_dense--training" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1225.5,240.429648241206L1225.5,238.34631490787265C1225.5,236.26298157453934,1225.5,232.09631490787265,1225.5,226.03894472361807C1225.5,219.98157453936346,1225.5,212.0335008375209,1225.5,204.08542713567832C1225.5,196.13735343383578,1225.5,188.18927973199325,1225.5,176.840242881072C1225.5,165.4912060301507,1225.5,150.7412060301507,1225.5,135.9912060301507C1225.5,121.24120603015069,1225.5,106.49120603015069,1207.8116251627605,94.48935799143418C1190.1232503255208,82.48750995271764,1154.7465006510417,73.23381387528461,1137.058125813802,68.60696583656808L1119.3697509765625,63.98011779785156"></path><text><textPath xlink:href="#path_dense--training" startOffset="50%" text-anchor="middle" dominant-baseline="central">17 tensors</textPath></text></g><g class="edge" data-edge="flatten--training"><path id="path_flatten--training" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M581.5,521.7930842449604L484.5833333333333,518.5695240208362C387.6666666666667,515.345963796712,193.83333333333334,508.89884334846374,96.91666666666667,482.7984435694221C0,456.6980437903805,0,410.94436468054556,0,365.1906855707107C0,319.4370064608758,0,273.6833273510409,0,246.83245094520217C0,219.98157453936346,0,212.0335008375209,0,204.08542713567832C0,196.13735343383578,0,188.18927973199325,0,176.840242881072C0,165.4912060301507,0,150.7412060301507,0,135.9912060301507C0,121.24120603015069,0,106.49120603015069,175.25040690104166,93.20392962636255C350.5008138020833,79.91665322257442,701.0016276041666,68.09210041499814,876.2520345052084,62.17982401121001L1051.50244140625,56.267547607421875"></path><text><textPath xlink:href="#path_flatten--training" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×784</textPath></text></g><g class="edge" data-edge="TFOptimizer--training"><path id="path_TFOptimizer--training" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M44.04109589041096,196.24623115577884L47.11757990867579,193.57872696817412C50.194063926940636,190.91122278056946,56.34703196347032,185.57621440536005,59.42351598173516,175.53371021775538C62.5,165.4912060301507,62.5,150.7412060301507,62.5,135.9912060301507C62.5,121.24120603015069,62.5,106.49120603015069,227.333740234375,93.21560895782414C392.16748046875,79.9400118854976,721.8349609375,68.1388177408445,886.668701171875,62.238220668517954L1051.50244140625,56.337623596191406"></path><text><textPath xlink:href="#path_TFOptimizer--training" startOffset="50%" text-anchor="middle" dominant-baseline="central">2 tensors</textPath></text></g><g class="edge" data-edge="metrics--training"><path id="path_metrics--training" class="edgeline control-dep" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1030.056681713653,127.92587939698487L1033.4639014280442,121.8951005025125C1036.8711211424354,115.86432160804014,1043.6855605712178,103.80276381909543,1048.6232978637338,96.17059999015459C1053.56103515625,88.53843616121374,1056.6220703125,85.3356662922768,1058.152587890625,83.73428135780831L1059.68310546875,82.13289642333984"></path><text><textPath xlink:href="#path_metrics--training" startOffset="50%" text-anchor="middle" dominant-baseline="central">scalar</textPath></text></g><g class="edge" data-edge="dense--VarIsInitializedOp[0-12]"><path id="path_dense--VarIsInitializedOp[0-12]" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1010.75,281.3902370518446L987.9166666666666,272.4801389167382C965.0833333333334,263.57004078163175,919.4166666666666,245.7498445114189,896.5833333333334,232.86570952539117C873.75,219.98157453936346,873.75,212.0335008375209,873.75,204.08542713567832C873.75,196.13735343383578,873.75,188.18927973199325,858.1800740559896,182.21678229352733C842.6101481119791,176.2442848550614,811.4702962239584,172.2473636799721,795.9003702799479,170.24890309242747L780.3304443359375,168.2504425048828"></path><text><textPath xlink:href="#path_dense--VarIsInitializedOp[0-12]" startOffset="50%" text-anchor="middle" dominant-baseline="central">6 tensors</textPath></text></g><g class="edge" data-edge="dense_1--VarIsInitializedOp[0-12]"><path id="path_dense_1--VarIsInitializedOp[0-12]" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1259.3105900948367,192.7412060301507L1259.092158412364,190.65787269681735C1258.8737267298911,188.57453936348404,1258.4368633649456,184.40787269681735,1214.300544312681,179.65874072255397C1170.1642252604167,174.90960874829057,1082.3284505208333,169.57801146643044,1038.4105631510417,166.91221282550038L994.49267578125,164.2464141845703"></path><text><textPath xlink:href="#path_dense_1--VarIsInitializedOp[0-12]" startOffset="50%" text-anchor="middle" dominant-baseline="central">6 tensors</textPath></text></g><g class="edge" data-edge="training--IsVariableInitialized"><path id="path_training--IsVariableInitialized" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1115.5,36.96162631338507L1120.5833333333333,33.88468859448756C1125.6666666666667,30.807750875590045,1135.8333333333333,24.653875437795023,1138.2508748372395,19.855287913192758C1140.6684163411458,15.056700388590494,1135.3368326822917,11.61340077718099,1132.6710408528645,9.891750971476236L1130.0052490234375,8.170101165771484"></path><text><textPath xlink:href="#path_training--IsVariableInitialized" startOffset="50%" text-anchor="middle" dominant-baseline="central">scalar</textPath></text></g><g class="edge" data-edge="training--IsVariableInitialized_1"><path id="path_training--IsVariableInitialized_1" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1078.5840480274442,30.999999999999915L1077.9867066895367,28.916666666666597C1077.3893653516295,26.833333333333275,1076.1946826758146,22.66666666666664,1072.546478707699,18.831911881764714C1068.8982747395833,14.997157096862793,1062.7965494791667,11.494314193725586,1059.7456868489583,9.742892742156982L1056.69482421875,7.991471290588379"></path><text><textPath xlink:href="#path_training--IsVariableInitialized_1" startOffset="50%" text-anchor="middle" dominant-baseline="central">scalar</textPath></text></g><g class="edge" data-edge="TFOptimizer--VarIsInitializedOp[0-12]"><path id="path_TFOptimizer--VarIsInitializedOp[0-12]" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M35,196.24623115577884L35,193.57872696817412C35,190.91122278056946,35,185.57621440536005,57.593994140625,180.88485646207923C80.18798828125,176.19349851879838,125.3759765625,172.14579100744606,147.969970703125,170.1219372517699L170.56396484375,168.09808349609375"></path><text><textPath xlink:href="#path_TFOptimizer--VarIsInitializedOp[0-12]" startOffset="50%" text-anchor="middle" dominant-baseline="central">scalar</textPath></text></g></g><g class="nodes"><g data-name="flatten_input" class="node op"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="599.5" cy="558.6301148600144" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="599.5" y="550.6301148600144">flatten_in...<title>flatten_input</title></text></g><g data-name="flatten" class="node meta"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="581.5" y="514.9517229002154" width="60" height="15.678391959798995"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(635.5, 520.9517211914062)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(635.5, 520.9517211914062)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="611.5" y="522.7909188801149">flatten</text></g><g data-name="dense" class="node meta expanded"><g class="in-annotations"></g><g class="out-annotations"><g data-name="init" class="annotation shortcut op extract"><path id="path_dense--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M1255.5,365.1906855707107L1265.5,365.1906855707107"></path><text class="annotation-label" dy=".35em" text-anchor="start" x="1277.5" y="365.1906855707107">init</text><g class="annotation-node"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="1270.5" cy="365.1906855707107" rx="5" ry="2"></ellipse><title class="undefined">init</title></g></g></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="1010.75" y="240.429648241206" width="429.5" height="249.52207465900935"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(1434.25, 246.4296417236328)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(1434.25, 246.4296417236328)"></path></g></g><g class="subscene" opacity="1" transform="translate(1020.75, 250.4296417236328)"><g class="core" transform="translate(0,20)"><g class="edges"><g class="edge" data-edge="dense/kernel--dense/MatMul"><path id="path_dense/kernel--dense/MatMul" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M159.5,158.5214319103825L137.625,155.54750218423234C115.75,152.57357245808223,72,146.62571300578196,50.314429918924965,142.0421061289539C28.628859837849934,137.45849925212582,29.00771967569987,134.23914495076994,29.197149594624836,132.629467800092L29.386579513549805,131.01979064941406"></path><text><textPath xlink:href="#path_dense/kernel--dense/MatMul" startOffset="50%" text-anchor="middle" dominant-baseline="central">scalar</textPath></text></g><g class="edge" data-edge="dense/bias--dense/BiasAdd"><path id="path_dense/bias--dense/BiasAdd" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M67.65892962743942,110.69041636755207L60.96577468953285,108.60708303421875C54.27261975162628,106.5237497008854,40.88630987581314,102.35708303421872,34.36987555710823,98.85199136179467C27.85344123840332,95.34689968937063,28.20688247680664,92.50338301118923,28.3836030960083,91.08162467209853L28.56032371520996,89.65986633300781"></path><text><textPath xlink:href="#path_dense/bias--dense/BiasAdd" startOffset="50%" text-anchor="middle" dominant-baseline="central">scalar</textPath></text></g><g class="edge" data-edge="dense/MatMul--dense/BiasAdd"><path id="path_dense/MatMul--dense/BiasAdd" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M31.37714370195151,111.82106963388372L31.564286418292927,109.54929408949512C31.75142913463434,107.2775185451065,32.12571456731717,102.73396745632927,32.13613666445693,99.04043357284995C32.14655876159668,95.34689968937063,31.79311752319336,92.50338301118923,31.6163969039917,91.08162467209853L31.43967628479004,89.65986633300781"></path><text><textPath xlink:href="#path_dense/MatMul--dense/BiasAdd" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×128</textPath></text></g><g class="edge" data-edge="dense/BiasAdd--dense/Relu"><path id="path_dense/BiasAdd--dense/Relu" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M30,70.4642857142857L30,49.46428680419922"></path><text><textPath xlink:href="#path_dense/BiasAdd--dense/Relu" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×128</textPath></text></g><g class="edge" data-edge="flatten~~dense~~IN--dense/MatMul"><path id="path_flatten~~dense~~IN--dense/MatMul" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M1058.2501220703125,258.2281494140625L896.5417683919271,248.02713695488697C734.8334147135416,237.82612449571147,411.4167073567708,217.4240995773604,249.7083536783854,205.13975378485156C88,192.85540799234266,88,188.688741325676,88,182.95172290021537C88,177.21470447475474,88,169.90733429050013,88,162.59996410624552C88,155.2925939219909,88,147.9852237377363,82.50278409322102,142.29169079994406C77.00556818644206,136.59815786215185,66.01113637288411,132.518462170822,60.51392046610514,130.4786143251571L55.01670455932617,128.4387664794922"></path><text><textPath xlink:href="#path_flatten~~dense~~IN--dense/MatMul" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×784</textPath></text></g><g class="edge" data-edge="dense/Relu--dense_1~~dense~~OUT"><path id="path_dense/Relu--dense_1~~dense~~OUT" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M29.516129032258064,39.464285714285715L29.180107526881716,37.38095238095239C28.844086021505376,35.297619047619044,28.172043010752688,31.13095238095238,27.83602150537634,26.96428571428572C27.5,22.797619047619047,27.5,18.630952380952383,208.38102213541666,14.92124212355841C389.2620442708333,11.211531866164435,751.0240885416666,7.958778018043155,931.9051106770834,6.332401093982515L1112.7861328125,4.706024169921875"></path><text><textPath xlink:href="#path_dense/Relu--dense_1~~dense~~OUT" startOffset="50%" text-anchor="middle" dominant-baseline="central">?×128</textPath></text></g><g class="edge" data-edge="dense/Relu--training~~dense~~OUT"><path id="path_dense/Relu--training~~dense~~OUT" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M36.87096774193549,39.464285714285715L41.642473118279575,37.38095238095239C46.413978494623656,35.297619047619044,55.95698924731183,31.13095238095238,60.72849462365591,26.96428571428572C65.5,22.797619047619047,65.5,18.630952380952383,230.9583536783854,14.92124212355841C396.4167073567708,11.211531866164435,727.3334147135416,7.958778018043155,892.7917683919271,6.332401093982515L1058.2501220703125,4.706024169921875"></path><text><textPath xlink:href="#path_dense/Relu--training~~dense~~OUT" startOffset="50%" text-anchor="middle" dominant-baseline="central">2 tensors</textPath></text></g><g class="edge" data-edge="dense/MatMul--training~~dense~~OUT"><path id="path_dense/MatMul--training~~dense~~OUT" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M52.87921348314604,111.82106963388372L59.4826779026217,109.54929408949512C66.08614232209736,107.2775185451065,79.29307116104867,102.73396745632927,85.89653558052434,97.11001435750181C92.5,91.48606125867433,92.5,84.78170614979659,92.5,78.07735104091888C92.5,71.37299593204115,92.5,64.66864082316344,92.5,58.73312993539125C92.5,52.797619047619044,92.5,47.63095238095238,92.5,42.464285714285715C92.5,37.297619047619044,92.5,32.13095238095238,92.5,27.46428571428572C92.5,22.797619047619047,92.5,18.630952380952383,253.4583536783854,14.92124212355841C414.4167073567708,11.211531866164435,736.3334147135416,7.958778018043155,897.2917683919271,6.332401093982515L1058.2501220703125,4.706024169921875"></path><text><textPath xlink:href="#path_dense/MatMul--training~~dense~~OUT" startOffset="50%" text-anchor="middle" dominant-baseline="central">784×128</textPath></text></g><g class="edge" data-edge="dense/bias--training~~dense~~OUT"><path id="path_dense/bias--training~~dense~~OUT" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M113.9628917800118,110.69041636755207L118.3024098166765,108.60708303421875C122.6419278533412,106.5237497008854,131.3209639266706,102.35708303421872,135.6604819633353,96.92157214644652C140,91.48606125867433,140,84.78170614979659,140,78.07735104091888C140,71.37299593204115,140,64.66864082316344,140,58.73312993539125C140,52.797619047619044,140,47.63095238095238,140,42.464285714285715C140,37.297619047619044,140,32.13095238095238,140,27.46428571428572C140,22.797619047619047,140,18.630952380952383,293.04168701171875,14.92124212355841C446.0833740234375,11.211531866164435,752.166748046875,7.958778018043155,905.2084350585938,6.332401093982515L1058.2501220703125,4.706024169921875"></path><text><textPath xlink:href="#path_dense/bias--training~~dense~~OUT" startOffset="50%" text-anchor="middle" dominant-baseline="central">8 tensors</textPath></text></g><g class="edge" data-edge="dense/kernel--training~~dense~~OUT"><path id="path_dense/kernel--training~~dense~~OUT" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M194.012893982808,153.1778535534817L195.01074498567334,151.09452022014835C196.00859598853867,149.01118688681504,198.00429799426934,144.84452022014838,199.00214899713467,139.2205671213209C200,133.59661402249344,200,126.51537449150517,200,119.43413496051689C200,112.3528954295286,200,105.27165589854035,200,98.37885857860732C200,91.48606125867433,200,84.78170614979659,200,78.07735104091888C200,71.37299593204115,200,64.66864082316344,200,58.73312993539125C200,52.797619047619044,200,47.63095238095238,200,42.464285714285715C200,37.297619047619044,200,32.13095238095238,200,27.46428571428572C200,22.797619047619047,200,18.630952380952383,343.04168701171875,14.92124212355841C486.0833740234375,11.211531866164435,772.166748046875,7.958778018043155,915.2084350585938,6.332401093982515L1058.2501220703125,4.706024169921875"></path><text><textPath xlink:href="#path_dense/kernel--training~~dense~~OUT" startOffset="50%" text-anchor="middle" dominant-baseline="central">6 tensors</textPath></text></g><g class="edge" data-edge="dense/bias--VarIsInitializedOp[0-12]~~dense~~OUT"><path id="path_dense/bias--VarIsInitializedOp[0-12]~~dense~~OUT" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M125.75,113.60061955741443L138.95833333333334,111.03225235910405C152.16666666666666,108.46388516079362,178.58333333333334,103.32715076417283,191.79166666666666,97.40660601142359C205,91.48606125867433,205,84.78170614979659,205,78.07735104091888C205,71.37299593204115,205,64.66864082316344,205,58.73312993539125C205,52.797619047619044,205,47.63095238095238,205,42.464285714285715C205,37.297619047619044,205,32.13095238095238,205,27.46428571428572C205,22.797619047619047,205,18.630952380952383,311.4166564941406,21.74800909133185C417.83331298828125,24.86506580171131,630.6666259765625,35.265845889136905,737.0832824707031,40.466235932849706L843.4999389648438,45.6666259765625"></path><text><textPath xlink:href="#path_dense/bias--VarIsInitializedOp[0-12]~~dense~~OUT" startOffset="50%" text-anchor="middle" dominant-baseline="central">3 tensors</textPath></text></g><g class="edge" data-edge="dense/kernel--VarIsInitializedOp[0-12]~~dense~~OUT"><path id="path_dense/kernel--VarIsInitializedOp[0-12]~~dense~~OUT" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M219.5,153.71262199026017L226.83333333333334,151.54016058413043C234.16666666666666,149.36769917800066,248.83333333333334,145.02277636574118,256.1666666666667,139.3096951941173C263.5,133.59661402249344,263.5,126.51537449150517,263.5,119.43413496051689C263.5,112.3528954295286,263.5,105.27165589854035,263.5,98.37885857860732C263.5,91.48606125867433,263.5,84.78170614979659,263.5,78.07735104091888C263.5,71.37299593204115,263.5,64.66864082316344,263.5,58.73312993539125C263.5,52.797619047619044,263.5,47.63095238095238,263.5,42.464285714285715C263.5,37.297619047619044,263.5,32.13095238095238,263.5,27.46428571428572C263.5,22.797619047619047,263.5,18.630952380952383,360.1666564941406,21.74800909133185C456.83331298828125,24.86506580171131,650.1666259765625,35.265845889136905,746.8332824707031,40.466235932849706L843.4999389648438,45.6666259765625"></path><text><textPath xlink:href="#path_dense/kernel--VarIsInitializedOp[0-12]~~dense~~OUT" startOffset="50%" text-anchor="middle" dominant-baseline="central">3 tensors</textPath></text></g><g class="edge" data-edge="dense~~STRUCTURAL_TARGET~~IN--dense/kernel"><path id="path_dense~~STRUCTURAL_TARGET~~IN--dense/kernel" class="edgeline structural" style="stroke-width: 0.75px;" d="M228.94444444444446,209.52207465900935L226.53703703703704,207.438741325676C224.12962962962965,205.35540799234266,219.3148148148148,201.188741325676,216.9074074074074,197.02207465900935C214.5,192.85540799234266,214.5,188.688741325676,214.5,184.52207465900935C214.5,180.35540799234266,214.5,176.188741325676,214.5,174.10540799234266L214.5,172.02207465900935"></path></g><g class="edge" data-edge="dense~~STRUCTURAL_TARGET~~IN--dense/bias"><path id="path_dense~~STRUCTURAL_TARGET~~IN--dense/bias" class="edgeline structural" style="stroke-width: 0.75px;" d="M255.6111111111111,209.52207465900935L258.75925925925924,207.438741325676C261.9074074074074,205.35540799234266,268.2037037037037,201.188741325676,271.35185185185185,197.02207465900935C274.5,192.85540799234266,274.5,188.688741325676,274.5,182.95172290021537C274.5,177.21470447475474,274.5,169.90733429050013,274.5,162.59996410624552C274.5,155.2925939219909,274.5,147.9852237377363,258.0416666666667,142.05748204825912C241.58333333333334,136.1297403587819,208.66666666666666,131.58162716408216,192.20833333333334,129.30757056673227L175.75,127.03351396938237"></path></g></g><g class="nodes"><g data-name="dense/kernel" class="node meta"><g class="in-annotations"></g><g class="out-annotations"><g data-name="init" class="annotation shortcut op extract"><path id="path_dense/kernel--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M219.5,162.59996410624552L229.5,162.59996410624552"></path><text class="annotation-label" dy=".35em" text-anchor="start" x="241.5" y="162.59996410624552">init</text><g class="annotation-node"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="234.5" cy="162.59996410624552" rx="5" ry="2"></ellipse><title class="undefined">init</title></g></g></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(197, 226, 182); stroke: rgb(138, 158, 127);" x="159.5" y="153.1778535534817" width="60" height="18.844221105527637"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(213.5, 159.1778564453125)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(213.5, 159.1778564453125)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="189.5" y="162.59996410624552">kernel</text></g><g data-name="dense/bias" class="node meta"><g class="in-annotations"></g><g class="out-annotations"><g data-name="init" class="annotation shortcut op extract"><path id="path_dense/bias--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M125.75,119.4341349605169L135.75,119.4341349605169"></path><text class="annotation-label" dy=".35em" text-anchor="start" x="147.75" y="119.4341349605169">init</text><g class="annotation-node"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="140.75" cy="119.4341349605169" rx="5" ry="2"></ellipse><title class="undefined">init</title></g></g></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(235, 173, 235); stroke: rgb(165, 121, 165);" x="65.75" y="110.69041636755207" width="60" height="17.48743718592965"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(119.75, 116.69041442871094)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(119.75, 116.69041442871094)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="95.75" y="119.4341349605169">bias</text></g><g data-name="dense/MatMul" class="node meta"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(187, 221, 198); stroke: rgb(131, 155, 139);" x="0.75" y="111.82106963388374" width="60" height="15.226130653266331"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(54.75, 117.8210678100586)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(54.75, 117.8210678100586)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="30.75" y="119.4341349605169">MatMul</text></g><g data-name="dense/BiasAdd" class="node meta"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(235, 235, 173); stroke: rgb(165, 165, 121);" x="0" y="70.46428571428571" width="60" height="15.226130653266331"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(54, 76.46428680419922)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(54, 76.46428680419922)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="30" y="78.07735104091887">BiasAdd</text></g><g data-name="dense/Relu" class="node op"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="30" cy="42.464285714285715" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="30" y="34.464285714285715">Relu</text></g><g data-name="dense~~IN" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(0, 238, 255); stroke: rgb(0, 167, 179);" x="56" y="197.02207465900935" width="244.5" height="45"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">dense~~IN</text></g><g data-name="flatten~~dense~~IN" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(0, 238, 255); stroke: rgb(0, 167, 179);" x="61" y="209.52207465900935" width="54" height="20"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">flatten~~dense~~IN</text></g><g data-name="dense~~OUT" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(255, 238, 0); stroke: rgb(179, 167, 0);" x="-6" y="-30.535714285714242" width="303.5" height="44.99999999999997"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">dense~~OUT</text></g><g data-name="dense_1~~dense~~OUT" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(255, 238, 0); stroke: rgb(179, 167, 0);" x="-1" y="-18.035714285714285" width="57" height="20"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">dense_1~~dense~~OUT</text></g><g data-name="training~~dense~~OUT" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(255, 238, 0); stroke: rgb(179, 167, 0);" x="119.5" y="-18.035714285714285" width="60" height="20"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">training~~dense~~OUT</text></g><g data-name="VarIsInitializedOp[0-12]~~dense~~OUT" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(255, 238, 0); stroke: rgb(179, 167, 0);" x="184.5" y="-18.035714285714285" width="108" height="20"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">VarIsInitializedOp[0-12]~~dense~~OUT</text></g><g data-name="dense~~STRUCTURAL_TARGET~~IN" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(255, 0, 238); stroke: rgb(179, 0, 167);" x="198.5" y="209.52207465900935" width="84" height="20"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">dense~~STRUCTURAL_TARGET~~IN</text></g></g></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="1225.5" y="250.429648241206">dense</text></g><g data-name="dense_1" class="node meta"><g class="in-annotations"></g><g class="out-annotations"><g data-name="init" class="annotation shortcut op extract"><path id="path_dense_1--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M1290.5,204.08542713567834L1300.5,204.08542713567834"></path><text class="annotation-label" dy=".35em" text-anchor="start" x="1312.5" y="204.08542713567834">init</text><g class="annotation-node"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="1305.5" cy="204.08542713567834" rx="5" ry="2"></ellipse><title class="undefined">init</title></g></g></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="1230.5" y="192.7412060301507" width="60" height="22.688442211055275"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(1284.5, 198.7412109375)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(1284.5, 198.7412109375)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="1260.5" y="204.08542713567834">dense_1</text></g><g data-name="TFOptimizer" class="node meta"><g class="in-annotations"></g><g class="out-annotations"><g data-name="init" class="annotation shortcut op extract"><path id="path_TFOptimizer--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M65,204.08542713567834L75,204.08542713567834"></path><text class="annotation-label" dy=".35em" text-anchor="start" x="87" y="204.08542713567834">init</text><g class="annotation-node"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="80" cy="204.08542713567834" rx="5" ry="2"></ellipse><title class="undefined">init</title></g></g></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="5" y="196.24623115577884" width="60" height="15.678391959798995"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(59, 202.24623107910156)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(59, 202.24623107910156)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="35" y="204.08542713567834">TFOptimizer</text></g><g data-name="dense_1_target" class="node op"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="722.75" cy="204.08542713567834" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="722.75" y="196.08542713567834">dense_1_...<title>dense_1_target</title></text></g><g data-name="dense_1_sample_weights" class="node op"><g class="in-annotations"><g data-name="Const" class="annotation constant op"><path id="path_undefined--undefined" class="annotation-edge" style="stroke-width: 0.75px;" d="M837.75,204.08542713567834L847.75,204.08542713567834"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="831.75" y="204.08542713567834">Const</text><g class="annotation-node"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="835.75" cy="204.08542713567834" rx="2" ry="2"></ellipse><title class="undefined">Const</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="855.25" cy="204.08542713567834" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="855.25" y="196.08542713567834">dense_1_...<title>dense_1_sample_weights</title></text></g><g data-name="loss" class="node meta"><g class="in-annotations"></g><g class="out-annotations"><g data-name="group_deps" class="annotation shortcut op extract"><path id="path_loss--group_deps" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M1170.5,135.9912060301507L1180.5,135.9912060301507"></path><text class="annotation-label" dy=".35em" text-anchor="start" x="1192.5" y="135.9912060301507">group_deps</text><g class="annotation-node"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="1185.5" cy="135.9912060301507" rx="5" ry="2"></ellipse><title class="undefined">group_deps</title></g></g></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="1110.5" y="121.59422110552758" width="60" height="28.79396984924623"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(1164.5, 127.59422302246094)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(1164.5, 127.59422302246094)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="1140.5" y="135.9912060301507">loss</text></g><g data-name="metrics" class="node meta"><g class="in-annotations"></g><g class="out-annotations"><g data-name="group_deps" class="annotation shortcut op extract"><path id="path_metrics--group_deps" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M1055.5,135.9912060301507L1065.5,135.9912060301507"></path><text class="annotation-label" dy=".35em" text-anchor="start" x="1077.5" y="135.9912060301507">group_deps</text><g class="annotation-node"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="1070.5" cy="135.9912060301507" rx="5" ry="2"></ellipse><title class="undefined">group_deps</title></g></g></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="995.5" y="127.92587939698487" width="60" height="16.13065326633166"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(1049.5, 133.92587280273438)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(1049.5, 133.92587280273438)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="1025.5" y="135.9912060301507">metrics</text></g><g data-name="training" class="node meta"><g class="in-annotations"></g><g class="out-annotations"><g data-name="init" class="annotation shortcut op extract"><path id="path_training--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M1115.5,55.12060301507529L1125.5,55.12060301507529"></path><text class="annotation-label" dy=".35em" text-anchor="start" x="1137.5" y="55.12060301507529">init</text><g class="annotation-node"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="1130.5" cy="55.12060301507529" rx="5" ry="2"></ellipse><title class="undefined">init</title></g></g></g><g class="nodeshape"><rect class="nodecolortarget" rx="5" ry="5" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="1055.5" y="30.999999999999915" width="60" height="48.24120603015075"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(1109.5, 37)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(1109.5, 37)"></path></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" font-size="9px" pointer-events="none" x="1085.5" y="55.12060301507529">training</text></g><g data-name="IsVariableInitialized" class="node op"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="1122" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="1122" y="-5">IsVariabl...<title>IsVariableInitialized</title></text></g><g data-name="IsVariableInitialized_1" class="node op"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="1048" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="1048" y="-5">IsVariabl...<title>IsVariableInitialized_1</title></text></g><g data-name="VarIsInitializedOp[0-12]" class="node series expanded"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><use class="nodecolortarget" xlink:href="#op-series-horizontal-stamp" style="fill: rgb(240, 240, 240); stroke: rgb(168, 168, 168);" x="67.5" y="104.24120603015069" width="923" height="63.5"></use><rect class="nodecolortarget" rx="10" ry="10"></rect><g class="buttoncontainer"><circle class="buttoncircle"></circle><path class="expandbutton" d="M0,-2.2 V2.2 M-2.2,0 H2.2" transform="translate(984.5, 110.24120330810547)"></path><path class="collapsebutton" d="M-2.2,0 H2.2" transform="translate(984.5, 110.24120330810547)"></path></g></g><g class="subscene" opacity="1" transform="translate(77.5,114.24120603015069)"><g class="core" transform="translate(0,0)"><g class="edges"><g class="edge" data-edge="TFOptimizer~~VarIsInitializedOp[0-12]~~IN--VarIsInitializedOp_12"><path id="path_TFOptimizer~~VarIsInitializedOp[0-12]~~IN--VarIsInitializedOp_12" class="edgeline" style="stroke-width: 0.75px; marker-end: url(&quot;#dataflow-arrowhead-small&quot;);" d="M93.06390380859375,53.856903076171875L82.80325317382812,50.04741923014323C72.5426025390625,46.237935384114586,52.02130126953125,38.61896769205729,41.760650634765625,32.72615051269531C31.5,26.833333333333332,31.5,22.666666666666668,28.834219455718994,18.86168336868286C26.16843891143799,15.056700070699057,20.836877822875977,11.613400141398111,18.17109727859497,9.89175017674764L15.505316734313965,8.170100212097168"></path><text><textPath xlink:href="#path_TFOptimizer~~VarIsInitializedOp[0-12]~~IN--VarIsInitializedOp_12" startOffset="50%" text-anchor="middle" dominant-baseline="central">scalar</textPath></text></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp" class="edgeline structural" style="stroke-width: 0.75px;" d="M415,49.37987012987013L362.5833333333333,46.31655844155844C310.1666666666667,43.25324675324675,205.33333333333334,37.12662337662338,152.91666666666666,31.979978354978357C100.5,26.833333333333332,100.5,22.666666666666668,100.5,18.5C100.5,14.333333333333334,100.5,10.166666666666666,100.5,8.083333333333334L100.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_1"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_1" class="edgeline structural" style="stroke-width: 0.75px;" d="M415,48.464285714285715L374.25,45.55357142857142C333.5,42.642857142857146,252,36.82142857142858,211.25,31.827380952380953C170.5,26.833333333333332,170.5,22.666666666666668,170.5,18.5C170.5,14.333333333333334,170.5,10.166666666666666,170.5,8.083333333333334L170.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_2"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_2" class="edgeline structural" style="stroke-width: 0.75px;" d="M415,47.025510204081634L385.9166666666667,44.3545918367347C356.8333333333333,41.683673469387756,298.6666666666667,36.34183673469388,269.5833333333333,31.587585034013603C240.5,26.833333333333332,240.5,22.666666666666668,240.5,18.5C240.5,14.333333333333334,240.5,10.166666666666666,240.5,8.083333333333334L240.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_3"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_3" class="edgeline structural" style="stroke-width: 0.75px;" d="M415,44.43571428571428L397.5833333333333,42.19642857142857C380.1666666666667,39.957142857142856,345.3333333333333,35.47857142857143,327.9166666666667,31.15595238095238C310.5,26.833333333333332,310.5,22.666666666666668,310.5,18.5C310.5,14.333333333333334,310.5,10.166666666666666,310.5,8.083333333333334L310.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_4"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_4" class="edgeline structural" style="stroke-width: 0.75px;" d="M438.8333333333333,43.5L429.1111111111111,41.416666666666664C419.38888888888886,39.333333333333336,399.9444444444444,35.166666666666664,390.2222222222222,31C380.5,26.833333333333332,380.5,22.666666666666668,380.5,18.5C380.5,14.333333333333334,380.5,10.166666666666666,380.5,8.083333333333334L380.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_5"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_5" class="edgeline structural" style="stroke-width: 0.75px;" d="M469.94444444444446,43.5L466.7037037037037,41.416666666666664C463.462962962963,39.333333333333336,456.98148148148147,35.166666666666664,453.7407407407407,31C450.5,26.833333333333332,450.5,22.666666666666668,450.5,18.5C450.5,14.333333333333334,450.5,10.166666666666666,450.5,8.083333333333334L450.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_6"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_6" class="edgeline structural" style="stroke-width: 0.75px;" d="M501.05555555555554,43.5L504.2962962962963,41.416666666666664C507.537037037037,39.333333333333336,514.0185185185186,35.166666666666664,517.2592592592592,31C520.5,26.833333333333332,520.5,22.666666666666668,520.5,18.5C520.5,14.333333333333334,520.5,10.166666666666666,520.5,8.083333333333334L520.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_7"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_7" class="edgeline structural" style="stroke-width: 0.75px;" d="M532.1666666666666,43.5L541.8888888888888,41.416666666666664C551.6111111111111,39.333333333333336,571.0555555555555,35.166666666666664,580.7777777777777,31C590.5,26.833333333333332,590.5,22.666666666666668,590.5,18.5C590.5,14.333333333333334,590.5,10.166666666666666,590.5,8.083333333333334L590.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_8"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_8" class="edgeline structural" style="stroke-width: 0.75px;" d="M556,44.43571428571428L573.4166666666666,42.19642857142857C590.8333333333334,39.957142857142856,625.6666666666666,35.47857142857143,643.0833333333334,31.15595238095238C660.5,26.833333333333332,660.5,22.666666666666668,660.5,18.5C660.5,14.333333333333334,660.5,10.166666666666666,660.5,8.083333333333334L660.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_9"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_9" class="edgeline structural" style="stroke-width: 0.75px;" d="M556,47.025510204081634L585.0833333333334,44.3545918367347C614.1666666666666,41.683673469387756,672.3333333333334,36.34183673469388,701.4166666666666,31.587585034013603C730.5,26.833333333333332,730.5,22.666666666666668,730.5,18.5C730.5,14.333333333333334,730.5,10.166666666666666,730.5,8.083333333333334L730.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_10"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_10" class="edgeline structural" style="stroke-width: 0.75px;" d="M556,48.464285714285715L596.75,45.55357142857142C637.5,42.642857142857146,719,36.82142857142858,759.75,31.827380952380953C800.5,26.833333333333332,800.5,22.666666666666668,800.5,18.5C800.5,14.333333333333334,800.5,10.166666666666666,800.5,8.083333333333334L800.5,6"></path></g><g class="edge" data-edge="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_11"><path id="path_VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN--VarIsInitializedOp_11" class="edgeline structural" style="stroke-width: 0.75px;" d="M556,49.37987012987013L608.4166666666666,46.31655844155844C660.8333333333334,43.25324675324675,765.6666666666666,37.12662337662338,818.0833333333334,31.979978354978357C870.5,26.833333333333332,870.5,22.666666666666668,870.5,18.5C870.5,14.333333333333334,870.5,10.166666666666666,870.5,8.083333333333334L870.5,6"></path></g></g><g class="nodes"><g data-name="VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(255, 0, 238); stroke: rgb(179, 0, 167);" x="415" y="43.5" width="141" height="20"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">VarIsInitializedOp[0-12]~~STRUCTURAL_TARGET~~IN</text></g><g data-name="TFOptimizer~~VarIsInitializedOp[0-12]~~IN" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(0, 238, 255); stroke: rgb(0, 167, 179);" x="-30" y="43.5" width="123" height="20"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">TFOptimizer~~VarIsInitializedOp[0-12]~~IN</text></g><g data-name="VarIsInitializedOp[0-12]~~IN" class="node bridge"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><rect class="nodecolortarget" rx="2" ry="2" style="fill: rgb(0, 238, 255); stroke: rgb(0, 167, 179);" x="-35" y="31" width="910.5" height="45"></rect></g><text class="nodelabel" dy=".35em" text-anchor="middle">VarIsInitializedOp[0-12]~~IN</text></g><g data-name="VarIsInitializedOp_12" class="node op"><g class="in-annotations"></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="7.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="7.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_12</title></text></g><g data-name="VarIsInitializedOp_11" class="node op"><g class="in-annotations"><g data-name="dense_1" class="annotation shortcut meta"><path id="path_dense_1--VarIsInitializedOp_11" class="annotation-edge" style="stroke-width: 0.75px;" d="M878,3L888,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="864" y="3">dense_1</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="866" y="1" width="12" height="4"></rect><title class="undefined">dense_1</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="895.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="895.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_11</title></text></g><g data-name="VarIsInitializedOp_10" class="node op"><g class="in-annotations"><g data-name="dense" class="annotation shortcut meta"><path id="path_dense--VarIsInitializedOp_10" class="annotation-edge" style="stroke-width: 0.75px;" d="M808,3L818,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="794" y="3">dense</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="796" y="1" width="12" height="4"></rect><title class="undefined">dense</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="825.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="825.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_10</title></text></g><g data-name="VarIsInitializedOp_9" class="node op"><g class="in-annotations"><g data-name="dense" class="annotation shortcut meta"><path id="path_dense--VarIsInitializedOp_9" class="annotation-edge" style="stroke-width: 0.75px;" d="M738,3L748,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="724" y="3">dense</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="726" y="1" width="12" height="4"></rect><title class="undefined">dense</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="755.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="755.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_9</title></text></g><g data-name="VarIsInitializedOp_8" class="node op"><g class="in-annotations"><g data-name="dense" class="annotation shortcut meta"><path id="path_dense--VarIsInitializedOp_8" class="annotation-edge" style="stroke-width: 0.75px;" d="M668,3L678,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="654" y="3">dense</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="656" y="1" width="12" height="4"></rect><title class="undefined">dense</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="685.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="685.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_8</title></text></g><g data-name="VarIsInitializedOp_7" class="node op"><g class="in-annotations"><g data-name="dense" class="annotation shortcut meta"><path id="path_dense--VarIsInitializedOp_7" class="annotation-edge" style="stroke-width: 0.75px;" d="M598,3L608,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="584" y="3">dense</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="586" y="1" width="12" height="4"></rect><title class="undefined">dense</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="615.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="615.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_7</title></text></g><g data-name="VarIsInitializedOp_6" class="node op"><g class="in-annotations"><g data-name="dense_1" class="annotation shortcut meta"><path id="path_dense_1--VarIsInitializedOp_6" class="annotation-edge" style="stroke-width: 0.75px;" d="M528,3L538,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="514" y="3">dense_1</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="516" y="1" width="12" height="4"></rect><title class="undefined">dense_1</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="545.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="545.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_6</title></text></g><g data-name="VarIsInitializedOp_5" class="node op"><g class="in-annotations"><g data-name="dense_1" class="annotation shortcut meta"><path id="path_dense_1--VarIsInitializedOp_5" class="annotation-edge" style="stroke-width: 0.75px;" d="M458,3L468,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="444" y="3">dense_1</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="446" y="1" width="12" height="4"></rect><title class="undefined">dense_1</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="475.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="475.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_5</title></text></g><g data-name="VarIsInitializedOp_4" class="node op"><g class="in-annotations"><g data-name="dense_1" class="annotation shortcut meta"><path id="path_dense_1--VarIsInitializedOp_4" class="annotation-edge" style="stroke-width: 0.75px;" d="M388,3L398,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="374" y="3">dense_1</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="376" y="1" width="12" height="4"></rect><title class="undefined">dense_1</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="405.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="405.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_4</title></text></g><g data-name="VarIsInitializedOp_3" class="node op"><g class="in-annotations"><g data-name="dense" class="annotation shortcut meta"><path id="path_dense--VarIsInitializedOp_3" class="annotation-edge" style="stroke-width: 0.75px;" d="M318,3L328,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="304" y="3">dense</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="306" y="1" width="12" height="4"></rect><title class="undefined">dense</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="335.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="335.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_3</title></text></g><g data-name="VarIsInitializedOp_2" class="node op"><g class="in-annotations"><g data-name="dense_1" class="annotation shortcut meta"><path id="path_dense_1--VarIsInitializedOp_2" class="annotation-edge" style="stroke-width: 0.75px;" d="M248,3L258,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="234" y="3">dense_1</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="236" y="1" width="12" height="4"></rect><title class="undefined">dense_1</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="265.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="265.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_2</title></text></g><g data-name="VarIsInitializedOp_1" class="node op"><g class="in-annotations"><g data-name="dense_1" class="annotation shortcut meta"><path id="path_dense_1--VarIsInitializedOp_1" class="annotation-edge" style="stroke-width: 0.75px;" d="M178,3L188,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="164" y="3">dense_1</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="166" y="1" width="12" height="4"></rect><title class="undefined">dense_1</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="195.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="195.5" y="-5">VarIsIniti...<title>VarIsInitializedOp_1</title></text></g><g data-name="VarIsInitializedOp" class="node op"><g class="in-annotations"><g data-name="dense" class="annotation shortcut meta"><path id="path_dense--VarIsInitializedOp" class="annotation-edge" style="stroke-width: 0.75px;" d="M108,3L118,3"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="94" y="3">dense</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="96" y="1" width="12" height="4"></rect><title class="undefined">dense</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="125.5" cy="3" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="125.5" y="-5">VarIsIniti...<title>VarIsInitializedOp</title></text></g></g></g></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="529" y="109.24120603015069">VarIsInitializedOp[0-12]</text></g></g></g><g class="out-extract" transform="translate(1532.75, 20)"><g class="nodes"><g data-name="init" class="node op extract"><g class="in-annotations"><g data-name="TFOptimizer" class="annotation shortcut meta"><path id="path_TFOptimizer--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M7.5,2L17.5,12.5"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="-6.5" y="2">TFOptimizer</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="-4.5" y="0" width="12" height="4"></rect><title class="undefined">TFOptimizer</title></g></g><g data-name="dense" class="annotation shortcut meta"><path id="path_dense--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M7.5,9L17.5,12.5"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="-6.5" y="9">dense</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="-4.5" y="7" width="12" height="4"></rect><title class="undefined">dense</title></g></g><g data-name="dense_1" class="annotation shortcut meta"><path id="path_dense_1--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M7.5,16L17.5,12.5"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="-6.5" y="16">dense_1</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="-4.5" y="14" width="12" height="4"></rect><title class="undefined">dense_1</title></g></g><g data-name="training" class="annotation shortcut meta"><path id="path_training--init" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M7.5,23L17.5,12.5"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="-6.5" y="23">training</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="-4.5" y="21" width="12" height="4"></rect><title class="undefined">training</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="25" cy="12.5" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="25" y="4.5">init</text></g><g data-name="group_deps" class="node op extract"><g class="in-annotations"><g data-name="loss" class="annotation shortcut meta"><path id="path_loss--group_deps" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M7.5,47L17.5,50.5"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="-6.5" y="47">loss</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="-4.5" y="45" width="12" height="4"></rect><title class="undefined">loss</title></g></g><g data-name="metrics" class="annotation shortcut meta"><path id="path_metrics--group_deps" class="annotation-edge annotation-control-edge" style="stroke-width: 0.75px;" d="M7.5,54L17.5,50.5"></path><text class="annotation-label" dy=".35em" text-anchor="end" x="-6.5" y="54">metrics</text><g class="annotation-node"><rect class="nodecolortarget" rx="1" ry="1" style="fill: rgb(238, 238, 238); stroke: rgb(167, 167, 167);" x="-4.5" y="52" width="12" height="4"></rect><title class="undefined">metrics</title></g></g></g><g class="out-annotations"></g><g class="nodeshape"><ellipse class="nodecolortarget" style="fill: white; stroke: rgb(179, 179, 179);" cx="25" cy="50.5" rx="7.5" ry="3"></ellipse></g><text class="nodelabel" dy=".35em" text-anchor="middle" x="25" y="42.5">group_de...<title>group_deps</title></text></g></g></g></g></g>
</svg>
<tf-graph-minimap id="minimap" class="style-scope tf-graph-scene">

<svg class="style-scope tf-graph-minimap">
  <defs class="style-scope tf-graph-minimap">
    <filter id="minimapDropShadow" x="-20%" y="-20%" width="150%" height="150%" class="style-scope tf-graph-minimap">
      <feOffset result="offOut" in="SourceGraphic" dx="1" dy="1" class="style-scope tf-graph-minimap"></feOffset>
      <feColorMatrix result="matrixOut" in="offOut" type="matrix" values="0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.5 0" class="style-scope tf-graph-minimap"></feColorMatrix>
      <feGaussianBlur result="blurOut" in="matrixOut" stdDeviation="2" class="style-scope tf-graph-minimap"></feGaussianBlur>
      <feBlend in="SourceGraphic" in2="blurOut" mode="normal" class="style-scope tf-graph-minimap"></feBlend>
    </filter>
  </defs>
  <rect class="style-scope tf-graph-minimap" x="-14.011282748058848" y="-20.01740942004338" width="109.96004934776019" height="63.32496741354663"></rect>
</svg>
<canvas class="first style-scope tf-graph-minimap" style=""></canvas>

<canvas class="second style-scope tf-graph-minimap" style="display: none;"></canvas>
<canvas class="download style-scope tf-graph-minimap" style="display: none;" width="6520.60546875" height="1829.83740234375"></canvas>
</tf-graph-minimap>
</tf-graph-scene>
  </div>
</div>
</tf-graph>
  </div>
  <div id="info" class="style-scope tf-graph-board">
    <tf-graph-info id="graph-info" title="selected" class="style-scope tf-graph-board">

<paper-material elevation="1" class="card style-scope tf-graph-info x-scope paper-material-0" style="display: none;">
    
    

    
    <tf-node-info class="style-scope tf-graph-info x-scope tf-node-info-0">
    <paper-item class="style-scope tf-node-info x-scope paper-item-0" role="option" tabindex="0" aria-disabled="false">
    
    
      <paper-item-body two-line="" class="style-scope tf-node-info x-scope paper-item-body-0">
    

    
        <div class="style-scope tf-node-info">
          <paper-icon-button class="toggle-button style-scope tf-node-info x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon><paper-ripple id="ink" center="" class="circle style-scope paper-icon-button">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0.0092;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-icon-button>
          <div class="node-name style-scope tf-node-info" id="nodetitle">init</div>
        </div>
        <div secondary="" class="style-scope tf-node-info">
          <tf-graph-icon class="node-icon style-scope tf-node-info x-scope tf-graph-icon-0">
    
      <template is="dom-if" class="style-scope tf-graph-icon" style=""></template>
      <template is="dom-if" class="style-scope tf-graph-icon" style=""></template>
      
        <svg preserveAspectRatio="xMinYMid meet" viewBox="0 0 16 8" class="style-scope tf-graph-icon" height="20" style="">
          <use xlink="http://www.w3.org/1999/xlink" xlink:href="#op-node-stamp" x="8" y="4" class="style-scope tf-graph-icon" stroke="rgb(179, 179, 179)" fill="white"></use>
        </svg>
      <template is="dom-if" class="style-scope tf-graph-icon" style=""></template>
    <template is="dom-if" class="style-scope tf-graph-icon"></template>
    <svg preserveAspectRatio="xMinYMid meet" viewBox="0 0 37 16" class="style-scope tf-graph-icon" height="20" style="display: none;">
        <rect x="1" y="1" stroke-width="2px" height="14" width="35" rx="5" ry="5" class="style-scope tf-graph-icon" stroke="rgb(179, 179, 179)" fill="white"></rect>
      </svg><template is="dom-if" class="style-scope tf-graph-icon"></template>
    <template is="dom-if" class="style-scope tf-graph-icon"></template>
  </tf-graph-icon>
          <div class="subtitle style-scope tf-node-info" style="display: none;">
              Operation:
              <span class="style-scope tf-node-info"></span>
            </div><template is="dom-if" class="style-scope tf-node-info"></template>
          <div class="subtitle style-scope tf-node-info" style="display: none;">
              Subgraph:
              <span class="style-scope tf-node-info"></span> nodes
            </div><template is="dom-if" class="style-scope tf-node-info"></template>
        </div>
      
  </paper-item-body>
    
  </paper-item>
    <iron-collapse class="style-scope tf-node-info x-scope iron-collapse-0 iron-collapse-opened" role="group" aria-hidden="false" style="transition-property: max-height; transition-duration: 0s;">

    

    
    
      <div class="expandedInfo style-scope tf-node-info">
        <div class="sub-list-group attributes style-scope tf-node-info">
          Attributes
          (<span class="style-scope tf-node-info">0</span>)
          <iron-list class="sub-list style-scope tf-node-info x-scope iron-list-0" id="attributesList" style="overflow-y: auto;">
    

    <array-selector id="selector" class="style-scope iron-list"></array-selector>

    <div id="items" class="style-scope iron-list">
      
            <template class="style-scope tf-node-info"></template>
          
    </div>

  </iron-list>
        </div>

        <template is="dom-if" class="style-scope tf-node-info"></template>

        <div class="sub-list-group predecessors style-scope tf-node-info">
          Inputs
          (<span class="style-scope tf-node-info">15</span>)
          <iron-list class="sub-list style-scope tf-node-info x-scope iron-list-0" id="inputsList" style="overflow-y: auto;">
    

    <array-selector id="selector" class="style-scope iron-list"></array-selector>

    <div id="items" class="style-scope iron-list">
      
            <template class="style-scope tf-node-info"></template>
          
    </div>

  </iron-list>
          
            <div class="controlDeps style-scope tf-node-info">
              <div class="controlLine style-scope tf-node-info">
                <paper-icon-button class="control-toggle-button style-scope tf-node-info x-scope paper-icon-button-0" role="button" tabindex="0" aria-disabled="false"><iron-icon id="icon" class="style-scope paper-icon-button x-scope iron-icon-0"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;" class="style-scope iron-icon"><g class="style-scope iron-icon"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z" class="style-scope iron-icon"></path></g></svg>
    
  </iron-icon><paper-ripple id="ink" center="" class="circle style-scope paper-icon-button">
    

    <div id="background" class="style-scope paper-ripple" style="opacity: 0.0028;"></div>
    <div id="waves" class="style-scope paper-ripple"></div>
  </paper-ripple></paper-icon-button>
                Control dependencies
              </div>
              <iron-collapse no-animation="" class="style-scope tf-node-info x-scope iron-collapse-0 iron-collapse-closed" role="group" aria-hidden="true" style="transition-property: max-height; transition-duration: 0s; max-height: 0px;">

    

    
                <template is="dom-if" restamp="true" class="style-scope tf-node-info"></template>
              

  </iron-collapse>
            </div>
          <template is="dom-if" class="style-scope tf-node-info"></template>
        </div>

        <div class="sub-list-group successors style-scope tf-node-info">
          Outputs
          (<span class="style-scope tf-node-info">0</span>)
          <iron-list class="sub-list style-scope tf-node-info x-scope iron-list-0" id="outputsList" style="overflow-y: auto;">
    

    <array-selector id="selector" class="style-scope iron-list"></array-selector>

    <div id="items" class="style-scope iron-list">
      
            <template class="style-scope tf-node-info"></template>
          
    </div>

  </iron-list>
          <template is="dom-if" class="style-scope tf-node-info"></template>
        </div>
        <template is="dom-if" class="style-scope tf-node-info"></template>

        <template is="dom-if" class="style-scope tf-node-info"></template>

        
          <div class="toggle-include-group style-scope tf-node-info">
            <paper-button raised="" class="toggle-include style-scope tf-node-info x-scope paper-button-0" role="button" tabindex="0" animated="" aria-disabled="false" elevation="1">
              <span class="style-scope tf-node-info">Remove from main graph</span>
            </paper-button>
          </div>
        <template is="dom-if" class="style-scope tf-node-info"></template>

        <template is="dom-if" class="style-scope tf-node-info"></template>
      </div>
    <template is="dom-if" restamp="true" class="style-scope tf-node-info"></template>
    

  </iron-collapse>
  </tf-node-info>
  
  </paper-material><template is="dom-if" class="style-scope tf-graph-info"></template>
<template is="dom-if" class="style-scope tf-graph-info"></template>
<template is="dom-if" class="style-scope tf-graph-info"></template>
</tf-graph-info>
  </div>
  <div class="context-menu style-scope tf-graph-board" style="display: none;"></div>
</div>
</tf-graph-board>
</div>
    </div>
    
    
  </tf-dashboard-layout>
<template is="dom-if" class="style-scope tf-graph-dashboard"></template>

</tf-graph-dashboard></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="distributions"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="histograms"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="projector"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="text"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="pr_curves"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="profile"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="beholder"></div>
          
            <div class="dashboard-container style-scope tf-tensorboard" data-dashboard="whatif"></div>
          <template is="dom-repeat" id="dashboards-template" as="dashboardDatum" class="style-scope tf-tensorboard"></template>
        </div>
      </div>
      </div>
      <div id="dropShadow" class="style-scope paper-header-panel has-shadow"></div>
    </div>
  </paper-header-panel>

    
  </tf-tensorboard>
<div class="vz-chart-tooltip-tunnel">
      <div class="content style-scope vz-chart-tooltip" style="opacity: 0; left: 372.5px; bottom: 293px;">
        <table class="style-scope vz-chart-tooltip">
          <thead class="style-scope vz-chart-tooltip"><th class="style-scope vz-chart-tooltip"></th><th class="style-scope vz-chart-tooltip">Name</th><th class="style-scope vz-chart-tooltip">Smoothed</th><th class="style-scope vz-chart-tooltip">Value</th><th class="style-scope vz-chart-tooltip">Step</th><th class="style-scope vz-chart-tooltip">Time</th><th class="style-scope vz-chart-tooltip">Relative</th></thead>
          <tbody class="style-scope vz-chart-tooltip"><tr class="style-scope vz-chart-tooltip distant closest"><td class="style-scope vz-chart-tooltip"><span class="swatch style-scope vz-chart-tooltip" style="background-color: rgb(0, 119, 187);"></span></td><td class="style-scope vz-chart-tooltip">1542782541.0073698</td><td class="style-scope vz-chart-tooltip">0.5043</td><td class="style-scope vz-chart-tooltip">0.5043</td><td class="style-scope vz-chart-tooltip">0.000</td><td class="style-scope vz-chart-tooltip">Wed Nov 21, 01:44:02</td><td class="style-scope vz-chart-tooltip">0s</td></tr></tbody>
        </table>
      </div>
    </div><div class="vz-chart-tooltip-tunnel">
      <div class="content style-scope vz-chart-tooltip" style="opacity: 0; left: 372.5px; top: 464px;">
        <table class="style-scope vz-chart-tooltip">
          <thead class="style-scope vz-chart-tooltip"><th class="style-scope vz-chart-tooltip"></th><th class="style-scope vz-chart-tooltip">Name</th><th class="style-scope vz-chart-tooltip">Smoothed</th><th class="style-scope vz-chart-tooltip">Value</th><th class="style-scope vz-chart-tooltip">Step</th><th class="style-scope vz-chart-tooltip">Time</th><th class="style-scope vz-chart-tooltip">Relative</th></thead>
          <tbody class="style-scope vz-chart-tooltip"><tr class="style-scope vz-chart-tooltip closest"><td class="style-scope vz-chart-tooltip"><span class="swatch style-scope vz-chart-tooltip" style="background-color: rgb(0, 119, 187);"></span></td><td class="style-scope vz-chart-tooltip">1542782541.0073698</td><td class="style-scope vz-chart-tooltip">0.4976</td><td class="style-scope vz-chart-tooltip">0.5430</td><td class="style-scope vz-chart-tooltip">439.0</td><td class="style-scope vz-chart-tooltip">Wed Nov 21, 01:42:57</td><td class="style-scope vz-chart-tooltip">31s</td></tr></tbody>
        </table>
      </div>
    </div><iron-a11y-announcer>
    
    <div class="style-scope iron-a11y-announcer" aria-live="polite"></div>
  </iron-a11y-announcer></body></html>